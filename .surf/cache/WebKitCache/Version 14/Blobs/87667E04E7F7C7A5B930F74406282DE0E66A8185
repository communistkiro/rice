(window.webpackJsonp=window.webpackJsonp||[]).push([[114,88],{"+pBb":function(e,n,t){"use strict";t.d(n,"c",(function(){return r})),t.d(n,"d",(function(){return a})),t.d(n,"h",(function(){return o})),t.d(n,"i",(function(){return s})),t.d(n,"p",(function(){return c})),t.d(n,"b",(function(){return d})),t.d(n,"a",(function(){return u})),t.d(n,"f",(function(){return l})),t.d(n,"g",(function(){return m})),t.d(n,"e",(function(){return p})),t.d(n,"k",(function(){return f})),t.d(n,"j",(function(){return h})),t.d(n,"m",(function(){return v})),t.d(n,"l",(function(){return g})),t.d(n,"o",(function(){return k})),t.d(n,"r",(function(){return b})),t.d(n,"q",(function(){return S})),t.d(n,"u",(function(){return y})),t.d(n,"t",(function(){return E})),t.d(n,"v",(function(){return _})),t.d(n,"n",(function(){return C})),t.d(n,"s",(function(){return N})),t.d(n,"J",(function(){return D})),t.d(n,"E",(function(){return w})),t.d(n,"N",(function(){return O})),t.d(n,"L",(function(){return T})),t.d(n,"H",(function(){return I})),t.d(n,"C",(function(){return F})),t.d(n,"I",(function(){return P})),t.d(n,"D",(function(){return U})),t.d(n,"G",(function(){return j})),t.d(n,"B",(function(){return A})),t.d(n,"K",(function(){return M})),t.d(n,"F",(function(){return R})),t.d(n,"y",(function(){return x})),t.d(n,"w",(function(){return B})),t.d(n,"x",(function(){return L})),t.d(n,"A",(function(){return W})),t.d(n,"M",(function(){return G})),t.d(n,"z",(function(){return q})),t.d(n,"O",(function(){return V})),t.d(n,"Q",(function(){return H})),t.d(n,"P",(function(){return z}));var i=t("Tznh"),r="chat.CHAT_HIDDEN",a="chat.CHAT_SHOWN",o="chat.EMOTE_SETS_UPDATED",s="chat.FOLLOWER_MODE_DURATION_PREFERENCE_CHANGED",c="chat.SLOW_MODE_DURATION_PREFERENCE_CHANGED",d="chat.AUTOMOD_ACTIONS_ENABLED",u="chat.AUTOMOD_ACTIONS_DISABLED",l="chat.EMOTE_PICKER_CLOSED",m="chat.EMOTE_PICKER_OPENED",p="chat.CLOSE_CHAT_RULES",f="chat.MODERATION_ACTIONS_ENABLED",h="chat.MODERATION_ACTIONS_DISABLED",v="chat.MOD_ICONS_ENABLED",g="chat.MOD_ICONS_DISABLED",k="chat.SHOW_CHAT_RULES",b="chat.TIMESTAMPS_ENABLED",S="chat.TIMESTAMPS_DISABLED",y="chat.VIEWER_CHAT_FILTER_ENABLED",E="chat.VIEWER_CHAT_FILTER_DISABLED",_="chat.VIEWER_CHAT_FILTER_SETTINGS_CHANGED",C="chat.RENDER_SENT_CHAT_MESSAGE",N="chat.UNHIDE_IGNORED_COMMAND";function D(){return{type:b}}function w(){return{type:S}}function O(){return{type:a}}function T(){return{type:r}}function I(){return{type:d}}function F(){return{type:u}}function P(){return{type:f}}function U(){return{type:h}}function j(){return{type:v}}function A(){return{type:g}}function M(e){return{type:y,source:e||i.c.Other}}function R(e){return{type:E,source:e||i.c.Other}}function x(e,n){return{type:_,settings:e,source:n||i.c.Other}}function B(e,n){return{type:s,channelLogin:e,duration:n}}function L(e,n){return{type:c,channelLogin:e,duration:n}}function W(){return{type:l}}function G(){return{type:m}}function q(){return{type:p}}function V(){return{type:k}}function H(e){return{type:C,customEvent:e}}function z(e){return{type:N,userID:e}}},"/HY+":function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var i=t("ZS2+").a.wrap((function(){return t.e(97).then(t.bind(null,"q0CL"))}),"ReportUserModal")},"/aPz":function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"h",(function(){return s})),t.d(n,"i",(function(){return c})),t.d(n,"o",(function(){return d})),t.d(n,"v",(function(){return u})),t.d(n,"X",(function(){return l})),t.d(n,"Y",(function(){return m})),t.d(n,"A",(function(){return p})),t.d(n,"Q",(function(){return f})),t.d(n,"W",(function(){return h})),t.d(n,"F",(function(){return v})),t.d(n,"a",(function(){return g})),t.d(n,"G",(function(){return k})),t.d(n,"B",(function(){return b})),t.d(n,"I",(function(){return S})),t.d(n,"L",(function(){return y})),t.d(n,"K",(function(){return E})),t.d(n,"x",(function(){return _})),t.d(n,"g",(function(){return C})),t.d(n,"f",(function(){return N})),t.d(n,"R",(function(){return D})),t.d(n,"e",(function(){return w})),t.d(n,"d",(function(){return O})),t.d(n,"c",(function(){return T})),t.d(n,"U",(function(){return I})),t.d(n,"V",(function(){return F})),t.d(n,"w",(function(){return P})),t.d(n,"S",(function(){return U})),t.d(n,"Z",(function(){return j})),t.d(n,"E",(function(){return A})),t.d(n,"M",(function(){return M})),t.d(n,"m",(function(){return R})),t.d(n,"n",(function(){return x})),t.d(n,"N",(function(){return B})),t.d(n,"p",(function(){return L})),t.d(n,"D",(function(){return W})),t.d(n,"J",(function(){return G})),t.d(n,"s",(function(){return q})),t.d(n,"u",(function(){return V})),t.d(n,"t",(function(){return H})),t.d(n,"C",(function(){return z})),t.d(n,"r",(function(){return Q})),t.d(n,"q",(function(){return K})),t.d(n,"l",(function(){return Y})),t.d(n,"H",(function(){return X})),t.d(n,"y",(function(){return $})),t.d(n,"z",(function(){return J})),t.d(n,"k",(function(){return Z})),t.d(n,"T",(function(){return ee})),t.d(n,"j",(function(){return ne})),t.d(n,"P",(function(){return te})),t.d(n,"O",(function(){return ie}));var i=t("/7QA"),r=t("0Log"),a=t("geRD");function o(e){return r.PubsubTopic.Ads+"."+e}function s(e){return r.PubsubTopic.BountyBoardChatCTA+"."+e}function c(e){return r.PubsubTopic.BroadcastSettingsUpdate+"."+e}function d(e){return r.PubsubTopic.ChatRoomsUser+"."+e}function u(e){return r.PubsubTopic.ExtensionAssets+"."+e}function l(e){return r.PubsubTopic.VideoPlayback+"."+e}function m(e){return r.PubsubTopic.VideoThumbnailProcessing+"."+e}function p(e){return r.PubsubTopic.ImageUpload+"."+e}function f(e){return r.PubsubTopic.UploadService+"."+e}function h(e){return r.PubsubTopic.VideoPlaybackById+"."+e}function v(e){return r.PubsubTopic.PayoutOnboardingEvents+"."+e}function g(e){return r.PubsubTopic.AdPropertyRefresh+"."+e}function k(e){return r.PubsubTopic.Presence+"."+e}function b(e,n){return r.PubsubTopic.ModerationActionsByUserAndChannel+"."+e+"."+n}function S(e){return r.PubsubTopic.Raid+"."+e}function y(e){return r.PubsubTopic.StreamChange+"."+e}function E(e){return r.PubsubTopic.StreamChangeByChannel+"."+e}function _(e){return r.PubsubTopic.Friendship+"."+e}function C(e){return r.PubsubTopic.ChannelBitsPinEvents+"."+e}function N(e){return r.PubsubTopic.BitsLeaderboardEvents+"."+e}function D(e){return r.PubsubTopic.UserBitsUpdates+"."+e}function w(){return r.PubsubTopic.BitsCampaignEvents+".updates"}function O(e){return r.PubsubTopic.ChannelBitsPinEvents+"."+e}function T(e){return r.PubsubTopic.ChannelBitsPinEvents+".bits-badge-tier-emotes."+e}function I(e){return r.PubsubTopic.UserPropertiesUpdates+"."+e}function F(e){return r.PubsubTopic.UserSubscribeEvents+"."+e}function P(e){return"follows."+e}function U(e){return r.PubsubTopic.CampaignUserEvents+"."+e}function j(e){return r.PubsubTopic.Whispers+"."+e}function A(e){return r.PubsubTopic.OnsiteNotifications+"."+e}function M(e){return r.PubsubTopic.StreamChatRoom+"."+e}function R(e){return r.PubsubTopic.ChannelSquadInvites+"."+e}function x(e){return r.PubsubTopic.ChannelSquadUpdates+"."+e}function B(e){return r.PubsubTopic.SubscribersCSV+"."+e}function L(e){return r.PubsubTopic.CheerbombEventsTopic+"."+e}function W(e){return r.PubsubTopic.MysteryGift+"."+e}function G(e){return r.PubsubTopic.SquadUpdates+"."+e}function q(e){return r.PubsubTopic.DashboardActivityFeed+"."+e}function V(e){return r.PubsubTopic.DashboardMultiplayerAdsEvent+"."+e}function H(e){return r.PubsubTopic.DashboardAlertQueueStatus+"."+e}function z(e){return r.PubsubTopic.MultiviewChanletUpdate+"."+e}function Q(e){return r.PubsubTopic.CommunityPointsUser+"."+e}function K(e){return r.PubsubTopic.CommunityPointsChannel+"."+e}function Y(e){return r.PubsubTopic.PollEvents+"."+e}function X(e){return r.PubsubTopic.PrimeVideoWatchPartyEvents+"."+e}function $(e){return r.PubsubTopic.HypeTrain+"."+e}function J(e){return r.PubsubTopic.HypeTrain+".rewards."+e}function Z(e){return r.PubsubTopic.ChannelDropEvents+"."+e}function ee(e){return r.PubsubTopic.UserPreferencesUpdates+"."+e}function ne(e){return r.PubsubTopic.Celebration+"."+e}function te(e){return i.l.subscribe({topic:e.topic,onMessage:function(n){n.type&&!e.type&&!e.types||n.type&&e.type&&n.type!==e.type||n.type&&e.types&&!e.types.includes(n.type)||Object(a.i)(e.query,e.variables,(function(t){return e.mutator(n,t)}),(function(t){return!!e.skipMessage&&e.skipMessage(n,t)}))}})}function ie(e){return i.l.subscribe({topic:e.topic,onMessage:function(n){n.type&&n.type!==e.type||Object(a.h)({fragment:e.fragment,id:e.id,mutator:function(t){return e.mutator(n,t)}})}})}},"/rr3":function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.Default=0]="Default",e[e.WhisperSettings=1]="WhisperSettings"}(i||(i={}))},"0FG4":function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"c",(function(){return s})),t.d(n,"b",(function(){return d}));var i,r=t("RcPG"),a=t("a1OF");!function(e){e[e.Position=0]="Position",e[e.Token=1]="Token"}(i||(i={}));var o="0";function s(e,n,t){var o,s,c=t.type===i.Position?n:e,d=t.map[c];if(d){var u=(o=e,s=d.id,{images:{sources:{"1x":Object(a.d)(s,1),"2x":Object(a.d)(s,2),"4x":Object(a.d)(s,4)},themed:!1},alt:o,emoteID:s});return{type:r.a.Emote,content:u}}return null}var c={"\\:\\&gt\\;":[":>"],"\\&gt\\;\\(":[">("],"\\&lt\\;\\]":["<]"],"\\&lt\\;3":["<3"],":-?(?:7|L)":[":-7",":-L",":7",":L"],"[oO](_|\\.)[oO]":["o_o","O_O","o_O","O_o","o.o","O.O","o.O","O.o"],"\\;-?(p|P)":[";-p",";-P",";p",";P"],"\\;-?\\)":[";-)",";)"],"\\:-?(o|O)":[":-o",":-O",":o",":O"],"\\:-?(p|P)":[":-p",":-P",":p",":P"],"\\:-?(S|s)":[":-S",":-s",":s",":S"],"\\:-?[\\\\/]":[":-/",":-\\",":/",":\\"],"\\:-?[z|Z|\\|]":[":-|",":-Z",":-z",":|",":Z",":z"],"\\:-?\\(":[":-(",":("],"\\:-?\\)":[":-)",":)"],"\\:-?D":[":-D",":D"],"#-?[\\\\/]":["#-/","#-\\","#/","#\\"],"B-?\\)":["B-)","B)"],"R-?\\)":["R-)","R)"]};function d(e){for(var n={},t=0,i=e;t<i.length;t++){var r=i[t];if(r&&r.emotes)for(var a=0,s=r.emotes;a<s.length;a++){var d=s[a];if(d&&d.id&&d.token)for(var u=0,l=c[d.token]||[d.token];u<l.length;u++){var m=l[u];n[m]&&r.id===o||(n[m]={id:d.id,token:m})}}}return n}},"0JUI":function(e,n,t){},"0Log":function(e,n,t){"use strict";var i=t("VSaV");t.o(i,"FrienshipChangeType")&&t.d(n,"FrienshipChangeType",(function(){return i.FrienshipChangeType})),t.o(i,"InvitationNetworkType")&&t.d(n,"InvitationNetworkType",(function(){return i.InvitationNetworkType})),t.o(i,"InvitationRejectedReason")&&t.d(n,"InvitationRejectedReason",(function(){return i.InvitationRejectedReason})),t.o(i,"InvitationStatus")&&t.d(n,"InvitationStatus",(function(){return i.InvitationStatus})),t.o(i,"ModerationActions")&&t.d(n,"ModerationActions",(function(){return i.ModerationActions})),t.o(i,"PubsubMessageType")&&t.d(n,"PubsubMessageType",(function(){return i.PubsubMessageType})),t.o(i,"PubsubTopic")&&t.d(n,"PubsubTopic",(function(){return i.PubsubTopic})),t.o(i,"SquadStatus")&&t.d(n,"SquadStatus",(function(){return i.SquadStatus})),t.o(i,"TargetedModerationActions")&&t.d(n,"TargetedModerationActions",(function(){return i.TargetedModerationActions}));var r=t("By5U");t.o(r,"FrienshipChangeType")&&t.d(n,"FrienshipChangeType",(function(){return r.FrienshipChangeType})),t.o(r,"InvitationNetworkType")&&t.d(n,"InvitationNetworkType",(function(){return r.InvitationNetworkType})),t.o(r,"InvitationRejectedReason")&&t.d(n,"InvitationRejectedReason",(function(){return r.InvitationRejectedReason})),t.o(r,"InvitationStatus")&&t.d(n,"InvitationStatus",(function(){return r.InvitationStatus})),t.o(r,"ModerationActions")&&t.d(n,"ModerationActions",(function(){return r.ModerationActions})),t.o(r,"PubsubMessageType")&&t.d(n,"PubsubMessageType",(function(){return r.PubsubMessageType})),t.o(r,"PubsubTopic")&&t.d(n,"PubsubTopic",(function(){return r.PubsubTopic})),t.o(r,"SquadStatus")&&t.d(n,"SquadStatus",(function(){return r.SquadStatus})),t.o(r,"TargetedModerationActions")&&t.d(n,"TargetedModerationActions",(function(){return r.TargetedModerationActions}));var a=t("WQCf");t.d(n,"FrienshipChangeType",(function(){return a.a})),t.d(n,"InvitationNetworkType",(function(){return a.b})),t.d(n,"InvitationRejectedReason",(function(){return a.c})),t.d(n,"InvitationStatus",(function(){return a.d})),t.d(n,"ModerationActions",(function(){return a.e})),t.d(n,"PubsubMessageType",(function(){return a.f})),t.d(n,"PubsubTopic",(function(){return a.g})),t.d(n,"SquadStatus",(function(){return a.h})),t.d(n,"TargetedModerationActions",(function(){return a.i}))},"0Lz3":function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return o})),t.d(n,"c",(function(){return s}));var i=t("mrSG"),r=t("jeEJ");function a(e,n){var t={};function a(n,i,r,a,s){if(n=n.toLowerCase(),!t[n])return"";var c=t[n].template,d=e.types.find((function(e){return e.animation===r}));return d?o(c,{prefix:n,background:i,animation:r,tier:a,scale:s,extension:d.extension}):""}for(var s=e.order.reduce((function(e,n,t){return e[n]=t,e}),{}),c=new r.a((function(e,n){var t=s[e.type]-s[n.type];return 0!==t?t:e.tierBreakerOrder-n.tierBreakerOrder})),d=0,u=0,l=n;u<l.length;u++)for(var m=l[u],p=0,f=m.nodes;p<f.length;p++){var h=f[p],v=Object(i.__assign)(Object(i.__assign)({},h),{orderedTiers:h.tiers.slice().sort((function(e,n){return n.bits-e.bits})),template:m.templateURL,getImage:a.bind(void 0,h.prefix),tierBreakerOrder:d});t[h.prefix.toLowerCase()]=v,c.push(v),d++}return{indexedActions:t,orderedActions:c.top(c.size()),tiers:e.colors.slice().sort((function(e,n){return n.bits-e.bits})),getImage:a}}function o(e,n){return e.replace("PREFIX",n.prefix.toLowerCase()).replace("BACKGROUND",n.background).replace("ANIMATION",n.animation).replace("TIER",n.tier.toString()).replace("SCALE",n.scale.toString()).replace("EXTENSION",n.extension)}function s(e,n){return{id:n+"-"+e.entry_key,score:e.score,rank:e.rank,user:{__typename:"User",id:e.entry_key},__typename:"UserLeaderboardItem"}}},"0nsv":function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var i=t("VbXa"),r=t.n(i),a=t("q1tI"),o=t("+80q"),s=t("sUnt"),c=t("yymn"),d=t("X2PJ"),u=t("wp5a"),l=(t("1tX4"),function(e){function n(){return e.apply(this,arguments)||this}return r()(n,e),n.prototype.render=function(){var e=this.props.pill&&a.createElement(s.a,{margin:{right:.5},display:c.g.InlineBlock},a.createElement(u.a,this.props.pill)),n=this.props.title&&"string"==typeof this.props.title?a.createElement(d.a,{display:c.g.Inline,flexGrow:1,margin:{right:this.props.inline?.5:0},className:"tw-callout-message__title"},a.createElement(o.a,{lineHeight:o.b.Heading,type:o.e.H4,bold:!0,fontSize:c.j.Size4},this.props.title)):this.props.title;return a.createElement(s.a,{className:"tw-callout-message"},(e||n)&&a.createElement(s.a,{display:c.g.Inline,className:"tw-callout-message__header"},e&&a.createElement(s.a,{display:c.g.InlineFlex,position:c.n.Relative,alignItems:c.b.Center,className:"tw-callout-message__pill"},e),n),this.props.description&&a.createElement(s.a,{display:this.props.inline?c.g.Inline:c.g.Block},this.props.description))},n}(a.Component));l.displayName="CalloutMessage"},"0tEc":function(e,n,t){"use strict";var i=t("/MKj"),r=t("ANjH"),a=t("yR8l"),o=t("kRBY"),s=t("GnwI"),c=t("mrSG"),d=t("q1tI"),u=t("geRD"),l=t("1/iK"),m=t("y5D0"),p="FriendEdge",f="IncomingFriendRequestEdge",h="",v="OutgoingFriendRequestEdge";function g(e,n,t,i){var r;return{optimisticResponse:(r={},r[e]={__typename:n,user:{__typename:"User",id:t,self:{__typename:"UserSelfConnection",friendship:{__typename:i}}}},r)}}var k=t("/7QA"),b=t("/rr3"),S=t("J71B"),y=t("4wKg"),E=t("dEDE"),_=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(){n.props.currentUserID?(n.props.onCreateFriendRequest(),Object(S.d)({requestContext:n.props.requestContext,requestID:n.props.currentUserID+"-"+n.props.targetID})):n.props.onLoginClick()},n}return Object(c.__extends)(n,e),n.prototype.render=function(){var e=Object(k.d)("Add Friend","AddFriendButton");switch(this.props.friendButtonUIType){case b.a.WhisperSettings:return d.createElement(y.a,{label:e,onClick:this.onClick,ariaLabel:e});default:return d.createElement(E.a,{ariaLabel:e,onClick:this.onClick,"data-test-selector":"add-button"},e)}},n}(d.Component),C=t("heM0");var N=Object(r.d)(Object(i.b)(null,(function(e){return Object(r.b)({onLoginClick:function(){return m.e(l.a.FriendAdd)}},e)})),Object(a.a)(C,{name:"onCreateFriendRequest",options:function(e){return Object(c.__assign)(Object(c.__assign)({},Object(u.a)({targetID:e.targetID})),g("createFriendRequest","CreateFriendRequestPayload",e.targetID,v))}}))(_),D=t("aECu"),w=t("sUnt"),O=t("yymn"),T=t("b7S+"),I=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onAccept=function(){n.props.onAcceptFriendRequest(),Object(S.c)({action:S.b.Accept,requestID:n.props.currentUserID+"-"+n.props.targetID,wasRecommendation:n.props.requestContext===S.a.Recommended})},n.onReject=function(){n.props.onRejectFriendRequest(),Object(S.c)({action:S.b.Decline,requestID:n.props.currentUserID+"-"+n.props.targetID,wasRecommendation:n.props.requestContext===S.a.Recommended})},n}return Object(c.__extends)(n,e),n.prototype.render=function(){if(this.props.friendButtonUIType===b.a.WhisperSettings)return d.createElement(w.a,{padding:{y:.5,x:1}},Object(k.d)("Friend Request Pending","IncomingFriendRequestButton"));var e=Object(k.d)("Accept","IncomingFriendRequestButton"),n=Object(k.d)("Reject","IncomingFriendRequestButton");return d.createElement(w.a,null,d.createElement(w.a,{display:O.g.InlineBlock,margin:{right:.5}},d.createElement(T.a,{align:T.b.Left,label:Object(k.d)("Accept Friend Request","IncomingFriendRequestButton")},d.createElement(E.a,{ariaLabel:e,onClick:this.onAccept,"data-test-selector":"accept-button"},e))),d.createElement(T.a,{align:T.b.Left,label:Object(k.d)("Reject Friend Request","IncomingFriendRequestButton")},d.createElement(E.a,{ariaLabel:n,onClick:this.onReject,type:E.d.Alert,"data-test-selector":"reject-button"},n)))},n}(d.Component),F=t("csdq"),P=Object(r.d)(Object(a.a)(D,{name:"onAcceptFriendRequest",options:function(e){return Object(c.__assign)(Object(c.__assign)({},Object(u.a)({targetID:e.targetID})),g("acceptFriendRequest","AcceptFriendRequestPayload",e.targetID,p))}}),Object(a.a)(F,{name:"onRejectFriendRequest",options:function(e){return Object(c.__assign)(Object(c.__assign)({},Object(u.a)({targetID:e.targetID})),g("rejectFriendRequest","RejectFriendRequestPayload",e.targetID,h))}}))(I),U=t("Xcb2"),j=Object(r.d)(Object(a.a)(U,{name:"onCancelFriendRequest",options:function(e){return Object(c.__assign)(Object(c.__assign)({},Object(u.a)({targetID:e.targetID})),g("cancelFriendRequest","CancelFriendRequestPayload",e.targetID,h))}}))((function(e){if(e.friendButtonUIType===b.a.WhisperSettings)return d.createElement(w.a,{padding:{y:.5,x:1}},Object(k.d)("Friend Request Pending","OutgoingFriendRequestButton"));var n=Object(k.d)("Cancel Request","OutgoingFriendRequestButton");return d.createElement(E.a,{ariaLabel:n,onClick:e.onCancelFriendRequest,"data-test-selector":"cancel-button"},n)})),A=t("IRYN"),M=Object(r.d)(Object(a.a)(A,{name:"onUnfriendUser",options:function(e){return Object(c.__assign)(Object(c.__assign)({},Object(u.a)({targetID:e.targetID})),g("unfriendUser","UnfriendUserPayload",e.targetID,h))}}))((function(e){if(e.friendButtonUIType===b.a.WhisperSettings)return null;var n=Object(k.d)("Friends","UnfriendButton"),t=Object(k.d)("Unfriend","UnfriendButton");return d.createElement(E.a,{ariaLabel:t,onClick:e.onUnfriendUser,statusAlertText:t,"data-test-selector":"unfriend-button"},n)})),R=t("PL8s"),x=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},n.prototype.render=function(){var e=this.props.friendButtonUIType||b.a.Default;if(!this.props.friendData&&this.props.data&&(this.props.data.loading||this.props.data.error))return e===b.a.WhisperSettings?null:d.createElement(R.a,{height:30,width:60});var n=this.props.friendData||this.props.data;if(!n||!n.user||!n.user.self||this.props.targetID===this.props.currentUserID)return null;if(!this.props.currentUserID)return d.createElement(N,{currentUserID:this.props.currentUserID,friendButtonUIType:e,requestContext:this.props.requestContext,targetID:this.props.targetID});switch(n.user.self.friendship?n.user.self.friendship.__typename:h){case p:return d.createElement(M,{friendButtonUIType:e,targetID:this.props.targetID});case f:return d.createElement(P,{currentUserID:this.props.currentUserID,friendButtonUIType:e,requestContext:this.props.requestContext,targetID:this.props.targetID});case v:return d.createElement(j,{friendButtonUIType:e,targetID:this.props.targetID});case h:default:return d.createElement(N,{currentUserID:this.props.currentUserID,friendButtonUIType:e,requestContext:this.props.requestContext,targetID:this.props.targetID})}},n}(d.Component),B=t("GGok");var L=Object(r.d)(Object(s.withLatencyTracking)("FriendButton"),Object(i.b)((function(e){var n=Object(o.e)(e);return{currentUserID:n&&n.id}})),Object(a.a)(B,{options:function(e){return{variables:{id:e.targetID}}},skip:function(e){return!!e.friendData||!e.currentUserID||e.currentUserID===e.targetID}}))(x);t.d(n,"a",(function(){return L}))},"1MDS":function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"c",(function(){return p})),t.d(n,"b",(function(){return f}));var i=t("mrSG"),r=t("/7QA"),a=t("2xye"),o=t("oK83"),s=t("P5MF"),c=t("nR4f"),d=t("P6kH"),u={Unknown:"unknown",Chat:"chat",Room:"room",Whisper:"whisper",Vod:"vod"},l={Close:"close",ReportDropDown:"report_drop_down",Report:"report",Follow:"follow",Unfollow:"unfollow",Subscribe:"subscribe",ClickTryPrime:"click_try_prime",GoToChannel:"go_to_channel",Open:"open",ClickChannelName:"click_channel_name",CloseClickOtherEmote:"close_click_other_emote"},m={Available:"available",CreatorBanned:"creator_banned",LimitedTimeEmote:"limited_time_emote",GlobalEmote:"global_emote",Prime:"prime",Turbo:"turbo",OtherUnlockable:"other_unlockable"};function p(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,t,o,u,l,m,p,f,v,g,k,b,S,y,E,_;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:n={emoteID:e.emoticonID},t=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.p.apollo.client.query({query:c,variables:n})];case 2:return t=i.sent(),[3,4];case 3:return o=i.sent(),r.k.warn(o,"Failed to make query for emote info in EmoteCard reporting.",{emoteID:e.emoticonID}),[3,4];case 4:u=t&&t.data&&t.data.emote||null,t&&!u&&r.k.warn("Query for emote info in EmoteCard reporting returned no data.",{emoteID:e.emoticonID}),l=t&&t.data?Object(d.e)(t.data):d.a.Unknown,m=u&&u.subscriptionProduct&&u.subscriptionProduct.owner&&u.subscriptionProduct.owner.displayName||"",p=u&&u.subscriptionProduct&&u.subscriptionProduct.owner&&u.subscriptionProduct.owner.id||"",l===d.a.OWL2019&&(m=d.b,p=d.c),f={channelID:p},v=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,r.p.apollo.client.query({query:s,variables:f})];case 6:return v=i.sent(),[3,8];case 7:return g=i.sent(),r.k.warn(g,"Failed to make query for channel info in EmoteCard reporting.",{channelID:p}),[3,8];case 8:return k=v&&v.data&&v.data.user||null,v&&!k&&r.k.warn("Query for channel info in EmoteCard reporting returned no data.",{channelID:p}),b=!!k&&!!k.hasPrime,S=k&&k.self,y=!!S&&!!S.subscriptionBenefit,E=!!S&&!!S.canPrimeSubscribe,_={emote_location:e.emoteLocation,emoticon_id:e.emoticonID,chat_channel:e.chatChannel,chat_channel_id:e.chatChannelID,emote_channel:m,emote_channel_id:p,referrer_user_id:e.referrerUserID,action:e.action,is_subscribed:y,is_subscribed_tier:S&&S.subscriptionBenefit&&S.subscriptionBenefit.tier||"",emote_tier:u&&u.subscriptionProduct&&u.subscriptionProduct.tier||"",emote_status:h(l),has_prime:b,can_subscribe:E,msg_id:e.msgID},r.o.track(a.SpadeEventType.EmoteCardInteraction,_),[2]}}))}))}function f(e){switch(e){case o.a.chat:return u.Chat;case o.a.whisper:return u.Whisper;case o.a.vod:return u.Vod;case o.a.room:return u.Room;case o.a.unknown:default:return u.Unknown}}function h(e){switch(e){case d.a.Prime:return m.Prime;case d.a.Turbo:return m.Turbo;case d.a.OWL2019:case d.a.Subscription:return m.Available;case d.a.LimitedTime:return m.LimitedTimeEmote;case d.a.Unavailable:return m.CreatorBanned;case d.a.Global:return m.GlobalEmote;case d.a.TwoFactor:case d.a.Unknown:default:return m.OtherUnlockable}}},"1tX4":function(e,n,t){},"28vT":function(e,n,t){},"2Dht":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WhisperThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLastMessageRead"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:347}};t.loc.source={body:"query WhisperThread($id: ID!) {\nwhisperThread(id: $id) {\nid\nuserLastMessageRead {\nid\nsentAt\n__typename\n}\nunreadMessagesCount\nmessages(first: 20) {\nedges {\ncursor\nnode {\nid\nnonce\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n__typename\n}\n__typename\n}\nfrom {\nid\n}\nsentAt\neditedAt\ndeletedAt\n__typename\n}\n__typename\n}\n__typename\n}\n__typename\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.WhisperThread=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"WhisperThread")},"2nDl":function(e,n,t){"use strict";t.d(n,"c",(function(){return a})),t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return c}));var i,r,a,o=t("yymn");!function(e){e[e.Small=1]="Small",e[e.Default=2]="Default",e[e.Large=3]="Large"}(a||(a={}));var s=((i={})[a.Small]=o.j.Size7,i[a.Default]=o.j.Size6,i[a.Large]=o.j.Size5,i),c=((r={})[a.Small]=o.e.Small,r[a.Default]=o.e.Medium,r[a.Large]=o.e.Large,r)},"2zj6":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockModifiedEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockChosenModifiedSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockChosenModifiedSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:161}};t.loc.source={body:"mutation UnlockModifiedEmote($input: UnlockChosenModifiedSubscriberEmoteInput!) {\nunlockChosenModifiedSubscriberEmote(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UnlockModifiedEmote=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"UnlockModifiedEmote")},"35qb":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductPriceInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PriceInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]}]}}],loc:{start:0,end:118}};t.loc.source={body:"fragment subscriptionProductPriceInfo on PriceInfo {\ncurrency\nexponent\ntotal\ndescription\nprice\nisTaxInclusive\nid\ntax\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"3Czn":function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var i=t("q1tI"),r=t("+80q"),a=t("sUnt"),o=t("yymn"),s=t("2Ob2"),c=function(e){return i.createElement(a.a,{padding:{x:.5},margin:{y:.5}},i.createElement(r.a,{color:e.overlay?o.f.Overlay:o.f.Alt2,fontSize:o.j.Size6,transform:r.d.Uppercase,bold:!0},e.children))};c.displayName="DropDownMenuHeadingComponent",c.displayName="DropDownMenuHeadingComponent";var d=Object(s.c)(c)},"3Law":function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var i=t("pVnL"),r=t.n(i),a=t("q1tI"),o=t("kV5U"),s=t("fNzW"),c=t("vCsY"),d=t("1H2c"),u=t("hnjF"),l=t("yymn"),m=t("C7sF"),p=t("3aAs"),f=function(e){var n,t="tw-"+Object(d.a)();return e.tabIndex&&(n=e.tabIndex),a.createElement("div",r()({className:Object(s.a)("tw-search-input")},Object(c.a)(e)),a.createElement(u.a,{display:l.g.HideAccessible},a.createElement("label",{htmlFor:e.id?e.id:t},"Search")),a.createElement(p.a,r()({},Object(o.a)(e),{autoCapitalize:e.autoCapitalize,autoFocus:e.autoFocus,autoComplete:e.autoComplete||"off",disabled:e.disabled,error:e.error,icon:m.a.NavSearch,id:e.id?e.id:t,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,placeholder:e.placeholder,refDelegate:e.refDelegate,spellCheck:e.spellCheck,tabIndex:n,size:e.size,type:p.c.Search,value:e.value,overlay:e.overlay})))};f.displayName="SearchInput",f.displayName="SearchInput"},"3YIm":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendWhisper"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendWhisperInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendWhisper"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"receive"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:352}};t.loc.source={body:"mutation SendWhisper($input: SendWhisperInput!) {\nsendWhisper(input: $input) {\nmessage {\nid\nnonce\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n__typename\n}\n__typename\n}\nfrom {\nid\n__typename\n}\nsentAt\neditedAt\ndeletedAt\nthread {\nid\nparticipants {\nid\nself {\nwhisperPermissions {\nreceive\n}\n}\n}\n}\n__typename\n}\nerror {\ncode\n__typename\n}\n__typename\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.SendWhisper=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"SendWhisper")},"3aAs":function(e,n,t){"use strict";t.d(n,"c",(function(){return i})),t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return b}));var i,r,a=t("pVnL"),o=t.n(a),s=t("q1tI"),c=t("kV5U"),d=t("fNzW"),u=t("vCsY"),l=t("IbuL"),m=t("yymn"),p=t("Ws8v"),f=t("sUnt"),h=t("X2PJ"),v=t("2Ob2"),g=t("2nDl");t("SbbE");!function(e){e[e.Text=0]="Text",e[e.Number=1]="Number",e[e.Email=2]="Email",e[e.Password=3]="Password",e[e.Search=4]="Search"}(i||(i={})),function(e){e.Default="",e.Left="tw-input--rounded-left",e.Right="tw-input--rounded-right"}(r||(r={}));var k=function(e){var n,t;e.tabIndex&&(t=e.tabIndex);var a=g.c.Default;e.size&&(a=e.size);var v={"tw-input":!0,"tw-input--small":e.size===g.c.Small,"tw-input--large":e.size===g.c.Large,"tw-input--error":e.error,"tw-input--overlay":e.overlay,"tw-input--password":e.type===i.Password},k=e.size?g.a[e.size]:m.e.Medium,b={topLeft:k,topRight:k,bottomLeft:k,bottomRight:k};e.rounding&&(v[e.rounding]=!0,e.rounding===r.Left?(b.topRight=m.e.None,b.bottomRight=m.e.None):e.rounding===r.Right&&(b.topLeft=m.e.None,b.bottomLeft=m.e.None)),e.icon&&(n=s.createElement(p.a,{className:Object(d.a)({"tw-input__icon":!0,"tw-input__icon--overlay":e.overlay}),position:m.n.Absolute,attachLeft:e.icon&&!e.iconRight,attachRight:e.iconRight,attachTop:!0,zIndex:m.s.Default,color:e.overlay?void 0:m.f.Alt2,display:m.g.Flex,alignItems:m.b.Center,justifyContent:m.l.Center,fullHeight:!0},s.createElement(l.a,{asset:e.icon})));var S=e.pattern?e.pattern.toString():void 0;return s.createElement(f.a,o()({position:m.n.Relative},Object(u.a)(e)),n,s.createElement(h.a,{display:m.g.Block,borderRadius:b,padding:{left:e.icon&&!e.iconRight?3:1,right:e.iconRight?3:1,y:e.size===g.c.Small?void 0:.5},fontSize:g.b[a],fullWidth:!0,textAlign:e.textAlign},s.createElement("input",o()({},Object(c.a)(e),{type:i[e.type].toLowerCase(),className:Object(d.a)(v),placeholder:e.placeholder,"aria-label":e.ariaLabel,autoCapitalize:e.autoCapitalize?"on":"off",autoCorrect:e.autoCorrect?"on":"off",autoComplete:e.autoComplete,autoFocus:e.autoFocus,"data-a-target":"tw-input",defaultValue:e.defaultValue,disabled:e.disabled,id:e.id,list:e.list,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onClick:e.onClick,onFocus:function(n){e.onFocusSelectContent&&n.currentTarget.select();e.onFocus&&e.onFocus(n)},onKeyDown:e.onKeyDown,pattern:S,max:e.max,maxLength:e.maxLength,min:e.min,readOnly:e.readOnly,ref:e.refDelegate,required:e.required,spellCheck:e.spellCheck,step:e.step,tabIndex:t,value:e.value}))))};k.displayName="InputComponent";var b=Object(v.c)(k)},"3rL5":function(e,n,t){"use strict";var i=t("/MKj"),r=t("szP+"),a=t("mrSG"),o=t("q1tI"),s=t("/7QA"),c=t("8/mp"),d=t("HAa/"),u=t("4eMh"),l=t("eugE"),m=t("sUnt"),p=(t("4mrz"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={disableInfiniteTrigger:!0},n.loadMore=function(){return n.props.loadMore()},n.renderMessages=function(e){return e.map((function(e,t){return o.createElement(u.b,{message:e,reportOutgoingWhisperRendered:n.props.reportOutgoingWhisperRendered||void 0,key:n.generateMessageKey(e,t.toString())})}))},n.getMessages=function(){var e=n.props.unreadMessagesCount,t=n.notificationsFor();return n.props.thread.messages&&(t=t.concat(n.props.thread.messages.edges.map((function(e){return{type:l.a.Whisper,content:e.node.content.content||"",from:e.node.from&&e.node.from.id?n.props.participantsByID[+e.node.from.id]:null,emotes:e.node.content.emotes||[],id:e.node.id,nonce:e.node.nonce||"",sentAt:new Date(e.node.sentAt),editedAt:e.node.editedAt,deletedAt:e.node.deletedAt}})).reduce((function(t,i,r,a){if(n.notificationsFor(i.id).forEach((function(e){t.push(e)})),t.push(i),0==--e&&t.push(n.createNewMessagesIndicator()),r<a.length-1){var o=a[r+1];!i.deletedAt&&n.shouldAddTimestamp(i,o)&&t.push(n.createTimestampMessage(i))}return r!==a.length-1||i.deletedAt||t.push(n.createTimestampMessage(i)),t}),[]))),t.push(n.createWarningMessage()),t.reverse(),n.props.hasUnknownParticipant&&t.push(n.createInactiveUserMessage()),t},n.shouldAddTimestamp=function(e,n){return e.sentAt.valueOf()-n.sentAt.valueOf()>6e5||e.sentAt.toDateString()!==n.sentAt.toDateString()},n.createTimestampMessage=function(e){return{type:l.a.Timestamp,timestamp:new Date(e.sentAt)}},n.notificationsFor=function(e){return n.props.notifications.filter((function(n){return n.afterMessageID===e})).map(n.createNotificationLine)},n.createNotificationLine=function(e){return{type:l.a.Notification,content:e.content}},n.createNewMessagesIndicator=function(){return{type:l.a.NewMessages}},n.createWarningMessage=function(){return{type:l.a.Warning}},n.createInactiveUserMessage=function(){return{type:l.a.InactiveUserNotice}},n.saveScrollRef=function(e){return n.scroll=e},n.scrollToBottom=function(){n.scroll.scrollToBottom()},n}return Object(a.__extends)(n,e),n.prototype.componentDidMount=function(){this.scrollToBottom(),this.setState({disableInfiniteTrigger:!1})},n.prototype.getSnapshotBeforeUpdate=function(e){if(e.thread.messages&&this.props.thread.messages&&e.thread.messages.edges.length<this.props.thread.messages.edges.length){if(!this.scroll||!this.scroll.scrollContent)return;return this.scroll.scrollContent.scrollHeight}return null},n.prototype.componentDidUpdate=function(e,n,t){if(this.props.thread.messages&&e.thread.messages&&this.props.thread.messages.edges.length>e.thread.messages.edges.length)if(this.props.thread.messages.edges[0]&&e.thread.messages.edges[0]&&this.props.thread.messages.edges[0].cursor===e.thread.messages.edges[0].cursor&&this.props.thread.messages.edges[0].node.id===e.thread.messages.edges[0].node.id){if(this.scroll&&this.scroll.scrollContent&&t&&t!==this.scroll.scrollContent.scrollHeight){var i=this.scroll.scrollContent.scrollHeight-t;this.scroll.scrollContent.scrollTop=i}}else this.scrollToBottom();this.props.notifications.length>e.notifications.length&&this.scrollToBottom(),e.collapsed&&!this.props.collapsed&&this.scrollToBottom()},n.prototype.render=function(){var e=this.getMessages();return o.createElement(m.a,{className:this.props.widgetView?"":"whispers-thread-messages__thread-box",fullHeight:!0},o.createElement(c.b,{scrollRef:this.saveScrollRef,suppressScrollX:!0},o.createElement(m.a,null,o.createElement(c.a,{enabled:!this.state.disableInfiniteTrigger,loadMore:this.loadMore,pixelThreshold:200,orientation:d.b.Down,contentLength:e.length}),this.renderMessages(e))))},n.prototype.generateMessageKey=function(e,n){switch(e.type){case l.a.NewMessages:case l.a.Warning:case l.a.InactiveUserNotice:return""+e.type;case l.a.Timestamp:return e.type+"-"+e.timestamp.getTime();case l.a.Whisper:return e.type+"-"+e.id;case l.a.Notification:return e.type+"-"+n;default:return s.k.warn("[ThreadMessages] Encountered an unknown message type."),n}},n}(o.Component));var f=Object(i.b)((function(e,n){return{notifications:Object(r.a)(e,n.thread.id)}}))(p);t.d(n,"a",(function(){return f}))},"3sMn":function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("1rIY"),o=Object(a.a)("ChatConfigContext",{hideOnboardingPrompts:!1,hideChatInputButtons:!1,hideRoomsDeprecationNotice:!1,showModViewIngress:!1,hideChatSettings:!1,isSettingsOpen:!1,updateChatConfigState:function(e){return null}}),s=o.context,c=o.withContext,d=function(e){function n(n){var t=e.call(this,n)||this;return t.updateChatConfigState=function(e){null===t.updateFrame&&(t.setState((function(n){return Object(i.__assign)(Object(i.__assign)({},n),e)})),t.updateFrame=setTimeout((function(){t.updateFrame=null}),0))},t.updateFrame=null,t.state={hideOnboardingPrompts:!1,hideChatInputButtons:!1,hideRoomsDeprecationNotice:!1,showModViewIngress:!1,hideChatSettings:!1,isSettingsOpen:!1,updateChatConfigState:t.updateChatConfigState},t}return Object(i.__extends)(n,e),n.prototype.render=function(){return r.createElement(s.Provider,{value:this.state},this.props.children)},n}(r.Component);t.d(n,"b",(function(){return c})),t.d(n,"a",(function(){return d}))},"3ypW":function(e,n,t){},"4VGW":function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Whispers_Thread_User_Activity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"presenceFragment"},directives:[]}]}}]}}],loc:{start:0,end:256}};i.loc.source={body:'#import "twilight/common/queries/presence-fragment.gql"\nquery Whispers_Thread_User_Activity($targetUserID: ID) {\nuser(id: $targetUserID) {\nid\nchatColor\ndisplayName\nprofileImageURL(width: 70)\nlogin\ndisplayBadges {\nid\ntitle\nimageURL\n}\n...presenceFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("wsiY").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)})));var a={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.Whispers_Thread_User_Activity=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"Whispers_Thread_User_Activity")},"4eMh":function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return l}));var i=t("mrSG"),r=t("q1tI"),a=t("eugE"),o=t("Ws8v"),s=t("yymn"),c=t("sUnt"),d=(t("0JUI"),t("tQZM")),u="separator",l=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props.message;switch(e.type){case a.a.Timestamp:return r.createElement(o.a,{className:"thread-message__timestamp",color:s.f.Alt2,fontSize:s.j.Size7},Object(d.d)(e));case a.a.Warning:return r.createElement(o.a,{className:"thread-message__warning",color:s.f.Alt2},Object(d.e)());case a.a.InactiveUserNotice:return r.createElement(o.a,{className:"thread-message__inactive-user",color:s.f.Alt2},Object(d.a)());case a.a.Whisper:return this.props.reportOutgoingWhisperRendered&&this.props.reportOutgoingWhisperRendered(e.content),r.createElement(c.a,{className:"thread-message__message","data-a-target":"whisper-message","data-test-selector":"whisper-message"},Object(d.f)(e));case a.a.NewMessages:return r.createElement(o.a,{className:"thread-message__new-messages",color:s.f.OverlayAlt,fontSize:s.j.Size7},Object(d.b)());case a.a.Notification:return r.createElement(c.a,{className:"thread-message__notification"},Object(d.c)(e));default:return null}},n}(r.Component)},"4h+t":function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"c",(function(){return l})),t.d(n,"b",(function(){return f}));var i,r=t("DMoW"),a=t("uYEN"),o=t("5zXJ"),s=t("0Lz3"),c={Cheer:r.P.FIRST_PARTY,Kappa:r.P.FIRST_PARTY,Kreygasm:r.P.FIRST_PARTY,Muxy:r.P.THIRD_PARTY,Showlove:r.P.FIRST_PARTY,Streamlabs:r.P.THIRD_PARTY,SwiftRage:r.P.FIRST_PARTY,Uni:r.P.FIRST_PARTY,VoHiYo:r.P.FIRST_PARTY},d=[a.a.Red,a.a.Blue,a.a.Green,a.a.Purple,a.a.Gray],u={indexedActions:{},orderedActions:[],tiers:[],getImage:m};function l(){if(!i){var e=p("Cheer",r.P.DEFAULT);i={indexedActions:{cheer:e},orderedActions:[e],tiers:d.map((function(e){return{bits:e,color:o.j[e]}})),getImage:m}}return i}function m(e,n,t,i,r){var a="animated"===t?"gif":"png";return Object(s.a)(o.h,{prefix:e,background:n,animation:t,tier:i,scale:r,extension:a})}function p(e,n){var t=d.map((function(n){return{__typename:"CheermoteTier",bits:n,canShowInBitsCard:!0,id:e+";"+n}}));return{__typename:"Cheermote",campaign:null,id:e,prefix:e,type:n,tiers:t,orderedTiers:t,getImage:m.bind(void 0,e)}}function f(e){return p(e,c[e])}},"4mrz":function(e,n,t){},"4qQ0":function(e,n,t){"use strict";var i,r;t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r})),function(e){e.BitsViolation="bits_violation",e.ChatBanEvasion="chat_ban_evasion",e.Cheating="cheating",e.Gore="gore",e.Harassment="harassment",e.Harm="harm",e.HatefulConduct="hateful_conduct",e.Impersonation="impersonation",e.Miscategorized="miscategorized",e.OffensiveUsername="offensive_username",e.Other="other",e.Porn="porn",e.Prohibited="prohibited",e.SelfHarm="selfharm",e.SexualContent="sexual_content",e.SexualViolence="sexual_violence",e.Spam="spam",e.TerrorismMassViolence="terrorism_mass_violence",e.TosBanEvasion="tos_ban_evasion",e.Underaged="underaged"}(i||(i={})),function(e){e[e.Unsubmitted=0]="Unsubmitted",e[e.Success=1]="Success",e[e.FormError=2]="FormError",e[e.MutationError=3]="MutationError",e[e.UserError=4]="UserError"}(r||(r={}))},"4wKg":function(e,n,t){"use strict";t.d(n,"a",(function(){return p}));var i=t("pVnL"),r=t.n(i),a=t("q1tI"),o=t("IbuL"),s=t("i4Ys"),c=t("sUnt"),d=t("yymn"),u=t("Ws8v"),l=t("C7sF"),m=t("V6CR"),p=function(e){var n,t,i,p;return e.figure&&(n=a.createElement(c.a,{display:d.g.Flex,alignItems:d.b.Center,padding:{right:.5},flexShrink:0},a.createElement(m.a,e.figure))),e.value&&(i=a.createElement(c.a,{alignItems:d.b.Center,padding:{x:.5},margin:{left:1}},e.value)),p=e.children?a.createElement(c.a,{flexGrow:1},e.children):a.createElement(a.Fragment,null,a.createElement(c.a,{flexGrow:1},e.label),i),e.selected&&!e.actionIcon?t=a.createElement(o.a,{asset:l.a.Check}):e.actionIcon&&(t=a.createElement(o.a,{asset:e.actionIcon})),t&&(t=a.createElement(u.a,{display:d.g.Flex,alignItems:d.b.Center,margin:e.value?{left:.5}:{left:2},flexShrink:0,color:d.f.Alt},t)),a.createElement(c.a,{position:d.n.Relative,fullWidth:!0},a.createElement(s.a,r()({type:s.b.Alpha,borderRadius:d.e.Medium,selected:e.selected},e),a.createElement(c.a,{display:d.g.Flex,alignItems:d.b.Center,position:d.n.Relative,padding:.5},n,p,t)))};p.displayName="DropDownMenuItem",p.displayName="DropDownMenuItem"},"5zXJ":function(e,n,t){"use strict";t.d(n,"u",(function(){return a})),t.d(n,"g",(function(){return o})),t.d(n,"f",(function(){return s})),t.d(n,"h",(function(){return c})),t.d(n,"r",(function(){return d})),t.d(n,"m",(function(){return u})),t.d(n,"o",(function(){return l})),t.d(n,"p",(function(){return m})),t.d(n,"n",(function(){return p})),t.d(n,"q",(function(){return f})),t.d(n,"k",(function(){return h})),t.d(n,"l",(function(){return v})),t.d(n,"j",(function(){return g})),t.d(n,"t",(function(){return k})),t.d(n,"s",(function(){return b})),t.d(n,"i",(function(){return S})),t.d(n,"a",(function(){return y})),t.d(n,"c",(function(){return E})),t.d(n,"d",(function(){return _})),t.d(n,"e",(function(){return C})),t.d(n,"b",(function(){return N}));var i,r=t("uYEN"),a={ERROR_DISPLAY_TIMEOUT:5e3,GET_BALANCE_RATE_LIMIT:5e3,UNDO_PROMPT_DURATION:5e3},o="https://d3aqoihi2n8ty8.cloudfront.net",s=o+"/cheer",c=o+"/actions"+"/PREFIX/BACKGROUND/ANIMATION/TIER/SCALE.EXTENSION",d="bonus",u=8e5,l=1e5,m=25e4,p=500,f=1e3,h="cheer",v=r.a.Purple,g=((i={})[r.a.Gray]="#979797",i[r.a.Purple]="#9c3ee8",i[r.a.Green]="#1db2a5",i[r.a.Blue]="#0099fe",i[r.a.Red]="#f43021",i[r.a.Yellow]="#f3a71a",i),k="bits_project_stucco_dashboard",b="bits_sponsored_cheermotes",S="bits_charity_event",y="bits_project_marley",E="AnAnonymousCheerer",_="ananonymouscheerer",C="407665396",N="Anon"},"5zf8":function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return u}));var i,r,a=t("/7QA");function o(e,n){switch(e){case i.Second:return Object(a.d)("{secondCount, plural, one {# second} other {# seconds}}",{secondCount:n},"formatDuration");case i.Minute:return Object(a.d)("{minuteCount, plural, one {# minute} other {# minutes}}",{minuteCount:n},"formatDuration");case i.Hour:return Object(a.d)("{hourCount, plural, one {# hour} other {# hours}}",{hourCount:n},"formatDuration");case i.Day:return Object(a.d)("{dayCount, plural, one {# day} other {# days}}",{dayCount:n},"formatDuration");case i.Week:return Object(a.d)("{weekCount, plural, one {# week} other {# weeks}}",{weekCount:n},"formatDuration");case i.Month:return Object(a.d)("{monthCount, plural, one {# month} other {# months}}",{monthCount:n},"formatDuration");default:return""}}function s(e,n){switch(e){case i.Second:return Object(a.d)("{secondCount}s",{secondCount:n},"formatDuration");case i.Minute:return Object(a.d)("{minuteCount}m",{minuteCount:n},"formatDuration");case i.Hour:return Object(a.d)("{hourCount}h",{hourCount:n},"formatDuration");case i.Day:return Object(a.d)("{dayCount}d",{dayCount:n},"formatDuration");case i.Week:return Object(a.d)("{weekCount}w",{weekCount:n},"formatDuration");case i.Month:return Object(a.d)("{monthCount}mo",{monthCount:n},"formatDuration");default:return""}}function c(e,n){var t;switch(void 0===n&&(n=r.Humanized),n===r.ClockAuto&&(n=e>=3600?r.ClockHMS:r.ClockMS),n){case r.ClockHM:case r.ClockHMS:t=i.Hour;break;case r.ClockMS:t=i.Minute}var o=2;n===r.ClockHMS&&(o=3);var c=function(e,n){void 0===n&&(n=i.Month);var t={};return t.seconds=e,e<60||n===i.Second?t:(t.minutes=Math.floor(e/60),t.seconds=e%60,t.minutes<60||n===i.Minute?t:(t.hours=Math.floor(t.minutes/60),t.minutes=t.minutes%60,t.hours<24||n===i.Hour?t:(t.days=Math.floor(t.hours/24),t.hours=t.hours%24,t.days<7||n===i.Day?t:t.days<=26||n===i.Week?(t.weeks=Math.floor(t.days/7),t.days=t.days%7,t):(t.months=Math.round((t.days+3)/30),t))))}(e,t),l=Object.keys(c);if(l.forEach((function(e,t){n!==r.Humanized&&n!==r.HumanizedShort||c[e]||delete c[e],t<l.length-o&&delete c[e]})),n===r.Humanized)return u(c);if(n===r.HumanizedShort)return function(e){return void 0!==e.months?s(i.Month,e.months):void 0!==e.weeks&&void 0!==e.days?s(i.Week,e.weeks)+" "+s(i.Day,e.days):void 0!==e.weeks?s(i.Week,e.weeks):void 0!==e.days&&void 0!==e.hours?s(i.Day,e.days)+" "+s(i.Hour,e.hours):void 0!==e.days?s(i.Day,e.days):void 0!==e.hours&&void 0!==e.minutes?s(i.Hour,e.hours)+" "+s(i.Minute,e.minutes):void 0!==e.hours?s(i.Hour,e.hours):void 0!==e.minutes&&void 0!==e.seconds?s(i.Minute,e.minutes)+" "+s(i.Second,e.seconds):void 0!==e.minutes?s(i.Minute,e.minutes):s(i.Second,e.seconds||0)}(c);var m=":",p=!1;switch(a.p.intl.getLanguageCode()){case"cy":case"da":case"fi":case"id":case"nb":case"si":m=".";break;case"af":case"fr":case"lt":p=!0}var f=c.seconds||0,h=c.minutes||0,v=c.hours||0;switch(n){case r.ClockHM:case r.ClockHMS:var g=(p?d(v,2):v)+m+d(h,2);return n===r.ClockHMS&&(g+=m+d(f,2)),g;case r.ClockMS:return(p?d(h,2):h)+m+d(f,2)}}function d(e,n){var t=e.toString();return t.length<n?"0".repeat(n-t.length)+t:t}function u(e){return void 0!==e.months?o(i.Month,e.months):void 0!==e.weeks&&void 0!==e.days?o(i.Week,e.weeks)+" "+o(i.Day,e.days):void 0!==e.weeks?o(i.Week,e.weeks):void 0!==e.days&&void 0!==e.hours?o(i.Day,e.days)+" "+o(i.Hour,e.hours):void 0!==e.days?o(i.Day,e.days):void 0!==e.hours&&void 0!==e.minutes?o(i.Hour,e.hours)+" "+o(i.Minute,e.minutes):void 0!==e.hours?o(i.Hour,e.hours):void 0!==e.minutes&&void 0!==e.seconds?o(i.Minute,e.minutes)+" "+o(i.Second,e.seconds):void 0!==e.minutes?o(i.Minute,e.minutes):o(i.Second,e.seconds||0)}!function(e){e[e.Second=0]="Second",e[e.Minute=1]="Minute",e[e.Hour=2]="Hour",e[e.Day=3]="Day",e[e.Week=4]="Week",e[e.Month=5]="Month"}(i||(i={})),function(e){e[e.Humanized=0]="Humanized",e[e.HumanizedShort=1]="HumanizedShort",e[e.ClockAuto=2]="ClockAuto",e[e.ClockHM=3]="ClockHM",e[e.ClockMS=4]="ClockMS",e[e.ClockHMS=5]="ClockHMS"}(r||(r={}))},"6j5V":function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("RcPG");function r(e){return{type:i.a.Text,content:e}}},"7SjK":function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("cw0r"),o=t("wUQP"),s=t("b5vT"),c=t("/7QA"),d=t("DMoW"),u=t("zb36"),l=t("VYPy"),m=t("ygYM"),p=t("sUnt"),f=t("yymn"),h=(t("WTcl"),[d.xc.BLACK_WHITE,d.xc.HORIZONTAL_FLIP,d.xc.SUNGLASSES,d.xc.THINKING,d.xc.SQUISHED]),v=function(e){var n=e.emote,t=e.index,a=e.context,o=n.modifiers?Object(i.__spreadArrays)(n.modifiers):[];if(c.b.get("subs_emote_modifier_emote_picker_toggle",!1))for(var d=0;6*d<=t;d++){var v=h[d%h.length];o.push({__typename:"EmoteModifier",code:Object(l.b)(v),name:v})}if(!o.length)return null;var g=[n].concat(o.map((function(e){return Object(l.e)(n,e.code)}))),k=Math.min(6,g.length),b=50*(t%6+k>6?t%6+k-6:0),S=g.length<6?m.c.Auto:m.c.Medium;return r.createElement("div",{onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},r.createElement(m.a,{show:!0,tail:!0,tailOffset:b+15,direction:a===u.a.FrequentlyUsed?m.b.Bottom:m.b.Top,size:S,offsetX:"-"+b+"px"},r.createElement(p.a,{className:"emote-modifiers-balloon__modified-emotes",display:f.g.Flex,flexWrap:g.length>6?f.i.Wrap:void 0},g.map((function(n,t){return r.createElement(p.a,{key:"emote-button-mod-"+n.id+"--"+t,padding:{x:e.spaced?.5:0},position:f.n.Relative},r.createElement(s.b,{emote:n,isCriticalImage:0===t,onClick:n.isLocked?void 0:e.onClickEmote}))})))))},g=(t("VrOd"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={},n.hoverTimer=0,n.handleClickEmote=function(e){n.props.onClickEmote&&n.props.onClickEmote(e,n.props.context)},n.handleEmoteMouseEnter=function(e){n.setHoverTimer(e.id)},n.handleEmoteMouseLeave=function(){n.setHoverTimer()},n}return Object(i.__extends)(n,e),n.prototype.componentWillUnmount=function(){this.hoverTimer&&clearTimeout(this.hoverTimer)},n.prototype.render=function(){var e=this,n=Object(o.c)(l.a),t=this.props.emotes.map((function(t,i){var o,c=((null===(o=t.modifiers)||void 0===o?void 0:o.length)||0)>0;return r.createElement(p.a,{key:"emote-button-padder-"+t.id+"--"+i,padding:{x:e.props.spaced?.5:0},position:f.n.Relative},r.createElement(s.b,{key:"emote-button-"+t.id+"--"+i,emote:t,isCriticalImage:0===i,onClick:e.handleClickEmote,showOptions:c,onMouseEnter:n&&c?e.handleEmoteMouseEnter:void 0,onMouseLeave:n&&c?e.handleEmoteMouseLeave:void 0}),r.createElement(a.a,{name:l.a},e.state.selectedEmoteID===t.id&&r.createElement(v,{context:e.props.context,emote:t,index:i,onMouseEnter:e.resetHoverTimer,onMouseLeave:e.handleEmoteMouseLeave})))}));return r.createElement(p.a,{display:f.g.Flex,flexWrap:f.i.Wrap},t)},n.prototype.resetHoverTimer=function(){this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=0)},n.prototype.setHoverTimer=function(e){var n=this;this.resetHoverTimer(),this.hoverTimer=setTimeout((function(){n.hoverTimer=0,n.setState({selectedEmoteID:e})}),300)},n}(r.PureComponent));t.d(n,"a",(function(){return g}))},"8EUQ":function(e,n,t){"use strict";var i={};t.r(i),t.d(i,"SUB_CHECKOUT__PRODUCT_KEY",(function(){return o})),t.d(i,"SUB_CHECKOUT__RECIPIENT_KEY",(function(){return s})),t.d(i,"SUB_CHECKOUT__MYSTERY_GIFT_COUNT",(function(){return c})),t.d(i,"SUB_CHECKOUT__GIFTING_ANONYMOUSLY",(function(){return d})),t.d(i,"SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",(function(){return u})),t.d(i,"clearSubscriptionCheckoutKeys",(function(){return m})),t.d(i,"showLoginModalWithCheckoutDispatch",(function(){return p}));var r=t("/7QA"),a=t("y5D0"),o="SUB_CHECKOUT__PRODUCT",s="SUB_CHECKOUT__RECIPIENT",c="SUB_CHECKOUT__MYSTERY_GIFT_COUNT",d="SUB_CHECKOUT__GIFTING_ANONYMOUSLY",u="SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",l=[o,s,c,d,u];function m(){l.forEach((function(e){return r.n.remove(e)}))}function p(e){return function(){return Object(a.e)(e,{onClose:m})}}t.d(n,"a",(function(){return i}))},"8XBm":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockRandomSubscriberEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockRandomSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockRandomSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:173}};t.loc.source={body:"mutation UnlockRandomSubscriberEmote($input: UnlockRandomSubscriberEmoteInput!) {\nunlockRandomSubscriberEmote (input: $input) {\nbalance\nemote {\nid\ntoken\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UnlockRandomSubscriberEmote=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"UnlockRandomSubscriberEmote")},"9KaG":function(e,n,t){},"A++4":function(e,n,t){"use strict";function i(e,n){return e.find((function(e){return!!e&&e.id!==n}))||void 0}t.d(n,"a",(function(){return i}))},A4KW:function(e,n,t){"use strict";var i=t("ALJo");t.d(n,"a",(function(){return i.a})),t.d(n,"b",(function(){return i.b}))},AELI:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Whispers_Whispers_UserWhisperThreads"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"whisperThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"spamInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastMarkedNotSpamAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likelihood"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userLastMessageRead"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isMuted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isArchived"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:639}};t.loc.source={body:"query Whispers_Whispers_UserWhisperThreads($cursor: Cursor) {\ncurrentUser {\nid\nlogin\nwhisperThreads(first: 10 after: $cursor) {\nedges {\ncursor\nnode {\nid\nparticipants {\nid\nchatColor\ndisplayName\nprofileImageURL(width: 70)\nlogin\n__typename\n}\nspamInfo {\nlastMarkedNotSpamAt\nlikelihood\n__typename\n}\nmessages(first: 20) {\nedges {\ncursor\nnode {\nid\nnonce\nsentAt\neditedAt\ndeletedAt\nfrom {\nid\n__typename\n}\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n__typename\n}\n__typename\n}\n__typename\n}\n__typename\n}\n__typename\n}\nuserLastMessageRead {\nid\nsentAt\n__typename\n}\nisMuted\nisArchived\nunreadMessagesCount\n__typename\n}\n__typename\n}\n__typename\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Whispers_Whispers_UserWhisperThreads=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Whispers_Whispers_UserWhisperThreads")},ALJo:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return u}));var i,r=t("q1tI"),a=t("ANjH"),o=t("yR8l"),s=t("YV90"),c=t("SyZi"),d=t("SCHm");!function(e){e.Small="channel-points-icon--small",e.Medium="channel-points-icon--medium",e.Large="channel-points-icon--large"}(i||(i={}));var u=Object(a.d)(Object(s.a)((function(e){return{isLoaded:e.isLoaded,pointIcon:e.pointIcon,pointName:e.pointName}})),Object(o.a)(d,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin||e.isLoaded}}))((function(e){var n=null,t=null,i=e.data;return e.isLoaded?(n=e.pointIcon,t=e.pointName):i&&i.community&&i.community.channel&&i.community.channel.communityPointsSettings&&(n=i.community.channel.communityPointsSettings.image,t=i.community.channel.communityPointsSettings.name),r.createElement(c.a,{iconSize:e.iconSize,image:n,name:t})}))},ANDu:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"c",(function(){return o})),t.d(n,"b",(function(){return s}));var i=t("mrSG"),r=t("OpME"),a=function(e){var n={};e.forEach((function(e){var t;e.owner&&e.owner.id&&(n[e.owner.id]?(t=n[e.owner.id].emotes).push.apply(t,e.emotes):n[e.owner.id]=Object(i.__assign)(Object(i.__assign)({},e),{emotes:e.emotes.slice()}))}));var t=Object.keys(n),r=[];return t.forEach((function(e){r.push(n[e])})),r},o=function(e,n){return n.reduce((function(n,t){var a;if(null===t.emotes||null===t.emoteSetID)return n;var o=Object(r.c)(t.emotes),s=e.get(t.emoteSetID),c={};return null===(a=null==s?void 0:s.emotes)||void 0===a||a.forEach((function(e){(null==e?void 0:e.id)&&(c[e.id]=e)})),n.concat(o.map((function(e){var n;return Object(i.__assign)(Object(i.__assign)({},e),{isLocked:!s,modifiers:(null===(n=c[e.id])||void 0===n?void 0:n.modifiers)||[]})})))}),[])},s=function(e){return e.tier&&!isNaN(parseInt(e.tier,10))?parseInt(e.tier,10)/1e3:1}},AnJh:function(e,n,t){"use strict";t.r(n);var i,r,a=t("/MKj"),o=t("XDQu"),s=t("CzFK"),c=t("l1Uh"),d=t("mrSG"),u=t("w09P"),l=t("q1tI"),m=t("0dmp"),p=t("hbnN"),f=t("/7QA"),h=t("yR8l"),v=t("geRD"),g=t("szP+"),k=t("TSYQ"),b=t("MJbm"),S=t("Dw5F"),y=t("ANjH"),E=t("XDCx"),_=t("kRBY"),C=t("/HY+"),N=t("WSPL"),D=t("u5aL"),w=t("ZDlU"),O=t("x7UT"),T=t("0Log"),I=t("/aPz"),F=t("DMoW"),P=t("kz7j"),U=t("GnwI"),j=t("DqQV"),A=t("fg2I"),M=t("CsM+"),R=t("3rL5"),x=t("A++4"),B=t("bAm+"),L=t("RKC5"),W=t("NMMG"),G=t("PrJw"),q=t("uLTe"),V=t("xJpr"),H=t("Ws8v"),z=t("yymn"),Q=t("sUnt"),K=t("hnjF"),Y=t("XQbB"),X=(t("28vT"),t("Jpf8")),$=t("4VGW");!function(e){e.Wrapper="thread__wrapper",e.StrangerNotice="stranger__warning"}(r||(r={}));var J=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={strangerWarningDismissed:!1},n.hasHadError=!1,n.onBlock=function(e){n.addNotification(Object(L.l)()),n.props.onBlock&&n.props.onBlock(e)},n.onUnblock=function(){n.addNotification(Object(L.m)())},n.loadMore=function(){return Object(d.__awaiter)(n,void 0,void 0,(function(){return Object(d.__generator)(this,(function(e){return this.props.data.loading||this.hadError?[2]:[2,this.props.loadMore()]}))}))},n.addNotification=function(e){n.props.notifyWhisperThread(n.props.threadID,e,n.getLastMessageID())},n.getLastMessageID=function(){if(n.props.data.whisperThread&&n.props.data.whisperThread.messages&&n.props.data.whisperThread.messages.edges[0])return n.props.data.whisperThread.messages.edges[0].node.id},n.shouldShowUnverifiedNotice=function(){return!!n.props.data.currentUser&&!n.props.data.currentUser.isEmailVerified},n.handleHeaderInteract=function(){n.props.collapsed?n.expand():n.collapse()},n.expand=function(){n.props.data.currentUser&&Object(G.j)(n.props.threadID),n.props.onExpand(n.props.threadID)},n.onClickOut=function(){n.props.focused&&n.props.onUnfocus(n.props.threadID)},n.handleClose=function(){n.props.data.currentUser&&Object(G.e)(n.props.threadID),n.props.onClose(n.props.threadID)},n.collapse=function(){n.props.data.currentUser&&Object(G.f)(n.props.threadID),n.props.onCollapse(n.props.threadID)},n.handleClick=function(){n.props.onFocus(n.props.threadID),n.markThreadMessagesAsRead()},n.onStrangerWarningConfirmation=function(){n.setState({strangerWarningDismissed:!0})},n.markThreadMessagesAsRead=function(){if(!n.props.data.loading&&!n.hadError&&n.props.data.whisperThread&&n.props.data.whisperThread.messages&&0!==n.props.data.whisperThread.messages.edges.length&&0!==n.props.data.whisperThread.unreadMessagesCount){var e=n.props.data.whisperThread&&+n.props.data.whisperThread.messages.edges[0].cursor;e&&!isNaN(e)||(e=0),Object(B.a)({threadID:n.props.threadID,lastReadMessageID:n.props.data.whisperThread&&n.props.data.whisperThread.messages.edges[0].node.id||""},e,!1)}},n.onWhisperSent=function(e){n.props.latencyTracking.resetCustomEvents(P.a.Whispers),n.outgoingWhisperRenderedEvent=n.props.latencyTracking.registerCustomEvent({benchmark:150,group:P.a.Whispers,key:P.b.WhispersRenderSent,label:P.c.RenderSent,start:P.d.Registration}),n.outgoingWhisperMessage=e,Object(W.b)(n.props.threadID,n.props.currentUserID)?n.props.data.currentUser&&n.interlocutor&&n.interlocutor.login&&Object(G.r)({threadID:n.props.threadID,targetUserLogin:n.interlocutor.login,inChannelChat:!1,context:n.props.uiContext}):f.k.warn("Unable to parse whisper recipient ID.")},n.setAutocompleteInnerComponentRef=function(e){n.textInput=e},n.handleContentClick=function(){var e=document.getSelection();!n.textInput||e&&e.toString()||n.textInput.focus()},n.setContainerRef=function(e){n.autocompleteContainer=e},n.reportOutgoingWhisperRendered=function(e){n.outgoingWhisperRenderedEvent&&e===n.outgoingWhisperMessage&&n.props.latencyTracking.reportCustomEvent(n.outgoingWhisperRenderedEvent)},n.otherParticipant=function(){var e=n.props.data.whisperThread;if(e)return Object(x.a)(e.participants,n.props.currentUserID)},n.hasUnknownParticipant=function(){var e=n.otherParticipant();return!(e&&e.login)},n.isStrangerBlocked=function(){return!!(n.interlocutor&&n.interlocutor.id&&n.interlocutor.self&&n.interlocutor.self.whisperPermissions&&n.interlocutor.self.whisperPermissions.isStrangerBlocked)},n.shouldDisableInteractions=function(){return n.hasUnknownParticipant()},n}return Object(d.__extends)(n,e),Object.defineProperty(n.prototype,"hadError",{get:function(){return!!this.props.data.error||this.hasHadError},enumerable:!0,configurable:!0}),n.prototype.componentDidMount=function(){this.props.data.loading||this.markSuspendedUserThreadRead()},n.prototype.componentDidUpdate=function(e){var n,t=this;this.props.data.error&&(this.hasHadError=!0),this.props.data.error||this.props.data.loading||!this.props.data.whisperThread||this.props.reportThreadData(this.props.threadID,this.props.data.whisperThread),e.data.loading&&!this.props.data.loading&&this.markSuspendedUserThreadRead(),this.props.focused&&this.shouldShowUnverifiedNotice()&&this.markThreadMessagesAsRead(),e.data.loading&&!this.props.data.loading&&(null===(n=this.props.data.whisperThread)||void 0===n?void 0:n.isArchived)&&Object(q.a)(this.props.threadID);var i=e.data&&e.data.whisperThread&&e.data.whisperThread.messages&&e.data.whisperThread.messages.edges.length||0,r=this.props.data&&this.props.data.whisperThread&&this.props.data.whisperThread.messages&&this.props.data.whisperThread.messages.edges.length||0;this.isStrangerBlocked()&&i!==r&&Object(v.i)(X,{id:this.props.threadID},(function(e){var n=e.whisperThread;if(n&&n.participants){var i=Object(x.a)(n.participants,t.props.currentUserID);i&&i.self&&i.self.whisperPermissions&&(i.self.whisperPermissions.isStrangerBlocked=!1)}return e}))},Object.defineProperty(n.prototype,"interlocutor",{get:function(){return this.otherParticipant()},enumerable:!0,configurable:!0}),n.prototype.render=function(){var e=k({"whispers-thread":!0,"whispers-thread--collapsed":this.props.collapsed,"whispers-thread--focused":this.props.focused});if(this.props.hidden)return null;var n,t=this.props.activityData.loading?void 0:this.props.activityData.user,i=t&&t.availability||void 0,a=t&&t.activity;return n=!this.state.strangerWarningDismissed&&this.interlocutor&&this.interlocutor.id&&this.interlocutor.self&&this.interlocutor.self.whisperPermissions&&this.interlocutor.self.whisperPermissions.receive===F.Vd.NOT_PERMITTED?l.createElement(j.a,{onStrangerWarningConfirmation:this.onStrangerWarningConfirmation,targetDisplayName:this.interlocutor.displayName,targetUserID:this.interlocutor.id}):this.renderMessageArea(),l.createElement(D.a,{onClickOut:this.onClickOut},l.createElement(H.a,{className:e,display:z.g.Flex,flexDirection:z.h.ColumnReverse,flexShrink:0,flexGrow:0,position:z.n.Relative,overflow:z.m.Hidden,background:z.d.Base,margin:{left:1},alignItems:z.b.Center,justifyContent:z.l.End,"data-test-selector":r.Wrapper,"data-a-target":"whisper-thread-"+(this.interlocutor&&this.interlocutor.login)+(this.props.collapsed?"-collapsed":""),elevation:3,borderRadius:{topLeft:z.e.Medium,topRight:z.e.Medium}},n,l.createElement(Q.a,{fullWidth:!0,flexShrink:0,display:z.g.Flex,alignItems:z.b.Center,attachTop:!0,attachLeft:!0},l.createElement(A.a,{isHighlighted:!!(this.props.data.whisperThread&&this.props.data.whisperThread.unreadMessagesCount>0),isFocused:!!this.props.focused,isMuted:!!this.props.data.whisperThread&&this.props.data.whisperThread.isMuted,isCollapsed:this.props.collapsed,isLoading:this.props.data.loading||this.props.activityData.loading,interactionsDisabled:this.shouldDisableInteractions(),currentUser:this.props.data.currentUser,interlocutor:this.interlocutor,interlocutorAvailability:i,interlocutorActivity:a,spamInfo:this.props.data.whisperThread&&this.props.data.whisperThread.spamInfo,threadID:this.props.threadID,onHeaderInteract:this.handleHeaderInteract,onBlock:this.onBlock,onUnblock:this.onUnblock,onClose:this.handleClose,showReportUserModal:this.props.showReportUserModal}))))},n.prototype.markSuspendedUserThreadRead=function(){this.hasUnknownParticipant()&&this.markThreadMessagesAsRead()},n.prototype.renderMessageArea=function(){var e=l.createElement(M.a,{key:"input-elements",currentUser:this.props.data.currentUser,otherParticipant:this.otherParticipant(),threadID:this.props.threadID,whisperThread:this.props.data.whisperThread,autocompleteContainer:this.autocompleteContainer,handleClick:this.handleClick,onWhisperSent:this.onWhisperSent,emoteInputRef:this.textInput,setAutocompleteInnerComponentRef:this.setAutocompleteInnerComponentRef});return[l.createElement(Q.a,{attachBottom:!0,attachLeft:!0,attachRight:!0,fullWidth:!0,key:"whispers-input"},l.createElement(Q.a,{fullWidth:!0,padding:{x:1,bottom:1},attachBottom:!0,attachLeft:!0},e)),l.createElement(K.a,{fullWidth:!0,attachLeft:!0,key:"whispers-content",flexGrow:1,overflow:z.m.Hidden},l.createElement("div",{className:"whispers-thread__content",onClick:this.handleContentClick},this.renderContent())),l.createElement(Q.a,{refDelegate:this.setContainerRef,position:z.n.Absolute,className:"whispers-thread__autocomplete-container",key:"whispers-autocomplete-container"})]},n.prototype.renderContent=function(){return this.hadError?l.createElement(w.PageError,{message:Object(L.i)()}):this.props.data.loading||this.props.activityData.loading||!this.props.data.whisperThread?l.createElement(Q.a,{display:z.g.Flex,justifyContent:z.l.Center,alignItems:z.b.Center,margin:2,fullHeight:!0,flexGrow:1},l.createElement(Y.a,null)):l.createElement(R.a,{thread:this.props.data.whisperThread,participantsByID:this.getUsersByID(this.props.data.whisperThread.participants),unreadMessagesCount:this.props.data.whisperThread.unreadMessagesCount,loadMore:this.loadMore,reportOutgoingWhisperRendered:this.reportOutgoingWhisperRendered,collapsed:this.props.collapsed,hasUnknownParticipant:this.hasUnknownParticipant()})},n.prototype.getUsersByID=function(e){for(var n={},t=0,i=e;t<i.length;t++){var r=i[t];r&&r.id&&(n[r.id]=r)}return n},n}(l.Component),Z=Object(y.d)(Object(h.a)($,{options:function(e){return{variables:{targetUserID:Object(W.b)(e.threadID,e.currentUserID)||""},skip:!e.currentUserID||!e.threadID}},name:"activityData"}),Object(h.c)(X,{options:function(e){return{variables:{id:e.threadID}}},props:function(e){return{data:e.data,loadMore:function(){var n="";return e.data.whisperThread&&e.data.whisperThread.messages&&e.data.whisperThread.messages.edges.length>0&&(n=e.data.whisperThread.messages.edges[e.data.whisperThread.messages.edges.length-1].cursor),e.data.fetchMore({query:X,variables:Object(d.__assign)(Object(d.__assign)({},e.data.variables),{cursor:n}),updateQuery:function(e,n){var t=n.fetchMoreResult;if(!t||!t.whisperThread)return{whisperThread:null,currentUser:e.currentUser};if(!e.whisperThread||!e.whisperThread.messages)return{whisperThread:t.whisperThread,currentUser:e.currentUser};if(!t.whisperThread||!t.whisperThread.messages)return{whisperThread:e.whisperThread,currentUser:e.currentUser};var i=Object(d.__assign)(Object(d.__assign)({},t.whisperThread.messages),{edges:Object(v.c)(e.whisperThread.messages.edges,t.whisperThread.messages.edges)});return{whisperThread:Object(d.__assign)(Object(d.__assign)({},t.whisperThread),{messages:i,isArchived:!1}),currentUser:e.currentUser}}})}}}}),Object(O.a)([{topic:function(e){return Object(I.Z)(e.currentUserID)},mapMessageTypesToProps:(i={},i[T.PubsubMessageType.WhisperReceived]="whisperReceived",i[T.PubsubMessageType.WhisperSent]="whisperSent",i),skipMessage:function(e,n){return!Object(V.e)(e)&&!Object(V.d)(e)||e.data_object.thread_id!==n.threadID}}]),Object(U.withLatencyTracking)("WhispersThread",{autoReportInteractive:!0}))(J);var ee=Object(a.b)((function(e){return{isLoggedIn:Object(_.f)(e)}}),(function(e){return Object(y.b)({notifyWhisperThread:N.b,showReportUserModal:function(e){var n=Object(d.__rest)(e,[]);return Object(E.e)(C.a,n)}},e)}))(Z),ne=(t("J45U"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.resizeAnimationHandle=null,n.showStuntDouble=Object(S.e)({dangerouslyDoNotTrack:!0}),n.renderThread=function(e){return e?l.createElement(ee,{key:"thread:"+e.threadID,currentUserID:n.props.currentUserID,collapsed:e.collapsed,hidden:e.hidden,threadID:e.threadID,onBlock:n.onBlock,onCollapse:n.props.onCollapseThread,onClose:n.props.onCloseThread,onExpand:n.props.onExpandThread,onFocus:n.props.onFocusThread,onUnfocus:n.props.onUnfocusThread,focused:n.props.focusedThreadID===e.threadID,reportThreadData:n.props.reportThreadData,uiContext:n.props.uiContext}):null},n.onBlock=function(e){n.props.archiveThread(e),n.props.onBlockThread(e)},n.handleContentResize=function(){n.resizeAnimationHandle||(n.resizeAnimationHandle=requestAnimationFrame((function(){n.props.onResizeContent(),n.resizeAnimationHandle=null})))},n}return Object(d.__extends)(n,e),n.prototype.render=function(){var e=this,n=this.props.openedThreads.map((function(n){return e.renderThread(n)})),t=k({"whispers-open-threads":!0,"whispers--theatre-mode":this.props.theatreModeEnabled||this.showStuntDouble&&this.props.onChannelWatch,"whispers--right-column-expanded-beside":this.props.rightColumnExpanded});return l.createElement(Q.a,{className:t,display:z.g.Flex,flexDirection:z.h.RowReverse,alignItems:z.b.End,position:z.n.Absolute,attachBottom:!0,attachLeft:!0,refDelegate:c.b},n,l.createElement(b.a,{onResize:this.handleContentResize}))},n}(l.Component));var te=Object(a.b)((function(e){return{openedThreads:e.whispers.display.openedIDs.map((function(n){return Object(g.b)(e,n)})),focusedThreadID:e.whispers.display.focusedID,onChannelWatch:e.ui.onChannelWatch}}),(function(e){return{onBlockThread:function(n){return e(s.h(n,Object(c.a)()))},onCloseThread:function(n){return e(s.h(n,Object(c.a)()))},onCollapseThread:function(n){return e(s.i(n,Object(c.a)()))},onExpandThread:function(n){return e(s.j(n,Object(c.a)()))},onFocusThread:function(n){return e(s.k(n,Object(c.a)()))},onUnfocusThread:function(n){return e(s.n(n,Object(c.a)()))},onResizeContent:function(){return e(s.m(Object(c.a)()))}}}),void 0,{areStatesEqual:function(e,n){return e.whispers.display===n.whispers.display&&n.ui.onChannelWatch===e.ui.onChannelWatch}})(ne),ie=t("AELI"),re=t("soB4"),ae=t("zOU0"),oe=function(e){function n(n){var t=e.call(this,n)||this;return t.logger=f.k.withCategory("whispers"),t.getThreadsById=Object(p.a)((function(e){return Object(ae.a)(e)})),t.getThreadsFromData=Object(p.a)((function(e){return e&&e.whisperThreads&&e.whisperThreads.edges.map((function(e){return e.node}))||[]})),t.archiveThread=function(e){var n=t.threadsByID[e];n&&(t.props.closeThread(e),t.props.data.currentUser&&Object(G.c)(e),Object(re.a)(n))},t.handleThreadDataReport=function(e,n){t.threadsByID[e]||Object(v.i)(ie,{cursor:void 0},(function(e){return e.currentUser&&e.currentUser.whisperThreads?u(e,(function(e){return e.currentUser.whisperThreads.edges}),(function(e){return Object(d.__spreadArrays)([{cursor:"0",node:Object(d.__assign)(Object(d.__assign)({},n),{isArchived:!1}),__typename:"WhisperThreadEdge"}],e)})):e}),void 0,t.props.client)},t.state={renderError:!1},t}return Object(d.__extends)(n,e),n.prototype.componentDidCatch=function(e,n){var t=this;this.setState({renderError:!0},(function(){f.p.stats.recordComponentError("Whispers"),t.logger.errorAndReport(e,"A unhandled exception occurred in the component hierarchy",{info:n})}))},n.prototype.render=function(){return this.props.data.currentUser&&this.props.data.currentUser.id&&!this.state.renderError&&this.props.isVisible?l.createElement(te,{currentUserID:this.props.data.currentUser.id,reportThreadData:this.handleThreadDataReport,archiveThread:this.archiveThread,theatreModeEnabled:this.props.theatreModeEnabled,rightColumnExpanded:this.props.rightColumnExpanded&&this.props.rightColumnPositionedBeside,uiContext:this.props.uiContext}):null},Object.defineProperty(n.prototype,"threadsByID",{get:function(){var e=this.getThreadsFromData(this.props.data.currentUser);return this.getThreadsById(e)},enumerable:!0,configurable:!0}),n=Object(d.__decorate)([m.b,Object(h.c)(ie,{props:function(e){return Object(d.__assign)({},e)}})],n)}(l.Component);var se=Object(a.b)((function(e){return{isVisible:Object(o.c)(e),rightColumnExpanded:e.ui.rightColumnExpanded,rightColumnPositionedBeside:e.ui.rightColumnPositionedBeside,theatreModeEnabled:e.ui.theatreModeEnabled,focusedThreadID:e.whispers.display.focusedID}}),(function(e){return{openThread:function(n){return e(s.l(n,Object(c.a)()))},closeThread:function(n){return e(s.h(n,Object(c.a)()))}}}))(oe);t.d(n,"WhisperThreadsBar",(function(){return se})),t.d(n,"PublicProps",(function(){}))},BhFH:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var i=t("mrSG"),r=t("w09P"),a=t("yR8l"),o=t("ru7j"),s=t("kSkr");function c(){return Object(a.b)(s,{props:function(e){return{blockUserMutation:function(n,t,a){return e.mutate({variables:{input:{targetUserID:n,sourceContext:a,reason:t}},optimisticResponse:{blockUser:{__typename:"BlockUserPayload",targetUser:{__typename:"User",id:n}}},update:function(e){var t=null;try{t=e.readQuery({query:o})}catch(e){return}(null==t?void 0:t.currentUser)&&e.writeQuery({query:o,data:r(t,(function(e){return e.currentUser.blockedUsers}),(function(e){return Object(i.__spreadArrays)(e,[{id:n,__typename:"User"}])}))})}})}}}})}},By5U:function(e,n){},C9w8:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=new Set(["alt","src","srcSet","sizes","onError","onLoad","refHandler"]);function r(e){for(var n={},t=0,r=Object.keys(e);t<r.length;t++){var a=r[t];i.has(a)&&(n[a]=e[a])}return n}},CGUg:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var i=t("pVnL"),r=t.n(i),a=t("q1tI"),o=t("fNzW"),s=t("vCsY"),c=t("Ws8v"),d=t("yymn"),u=(t("rljb"),function(e){return a.createElement(c.a,r()({className:Object(o.a)({"tw-typeset":!0}),fontSize:e.baseFontSize||d.j.Size5},Object(s.a)(e)),e.children)});u.displayName="Typeset",u.displayName="Typeset"},CGXs:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t("mrSG"),r=t("q1tI"),a=t("/7QA");function o(e,n,t){var o=Object(r.useState)(null),s=o[0],c=o[1],d=Object(r.useState)(null),u=d[0],l=d[1],m=function(){c((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{isSubscribing:!1})}))},p=function(e){c((function(n){return Object(i.__assign)(Object(i.__assign)({},n),{error:e,isSubscribing:!1})}))};return Object(r.useEffect)((function(){if(!n&&e){c((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{isSubscribing:!0})}));var r=a.l.subscribe({topic:e,success:m,failure:p,onMessage:function(e){t&&t(e)||l(e)}});return function(){r(),c(null),l(null)}}}),[e,n]),[u,s]}},CMUD:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Whispers_Tracking_Read"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"threadID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"whisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"threadID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"receive"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:175}};t.loc.source={body:"query Whispers_Tracking_Read($threadID: ID!) {\ncurrentUser {\nid\nlogin\n}\nwhisperThread(id: $threadID) {\nid\nparticipants {\nid\nlogin\nself {\nwhisperPermissions {\nreceive\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Whispers_Tracking_Read=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Whispers_Tracking_Read")},CNnA:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("a0DK"),r=function(e){return{areSubsDisabled:e.isWatchPartyActive&&!Object(i.c)()}}},CUHS:function(e,n,t){"use strict";var i=t("q1tI"),r=t("ANjH"),a=t("/7QA"),o=t("BhFH"),s=t("DMoW"),c=t("TvOw"),d=t("mrSG"),u=t("yR8l"),l=t("IZXT"),m=t("pORx");var p=t("NKxy");var f,h,v=t("PrJw"),g=t("sUnt"),k=t("Ws8v"),b=t("yymn"),S=t("+80q"),y=t("dEDE");!function(e){e.REPORT_AS_SPAM_BUTTON_TARGET="report-as-spam-button",e.MARK_NOT_SPAM_BUTTON_TARGET="mark-not-spam-button",e.DISMISS_PROMPT_BUTTON_TARGET="dismiss-prompt-button",e.SPAM_PROMPT_PENDING_TARGET="spam-prompt-pending-target",e.SPAM_PROMPT_REPORTED_TARGET="spam-prompt-reported-target"}(f||(f={})),function(e){e.PENDING="pending",e.REPORTED="reported",e.DISMISSED="dismissed"}(h||(h={}));var E=Object(r.d)(Object(o.a)(),function(){var e=this;return Object(u.a)(m,{props:function(n){return{reportUserMutation:function(t,i,r){return Object(d.__awaiter)(e,void 0,void 0,(function(){var e;return Object(d.__generator)(this,(function(o){switch(o.label){case 0:if(!n.mutate)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.mutate({variables:{input:{targetID:t,reason:i,contentID:r,content:s.Mc.WHISPER_REPORT,description:"Submitted using the report spam button",extra:""}}})];case 2:return o.sent(),[3,4];case 3:return e=o.sent(),Object(l.d)()?a.k.warn("Unable to report user"):a.k.errorAndReport(e,"Unable to report user"),[3,4];case 4:return[2]}}))}))}}}})}(),function(){var e=this;return Object(u.a)(p,{props:function(n){return{setThreadSpamStatusMutation:function(t,i){return Object(d.__awaiter)(e,void 0,void 0,(function(){var e;return Object(d.__generator)(this,(function(r){switch(r.label){case 0:if(!n.mutate)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.mutate({variables:{input:{threadID:t,isSpam:i}}})];case 2:return r.sent(),[3,4];case 3:return e=r.sent(),Object(l.d)()?a.k.warn("Unable to modify threads spam status user"):a.k.errorAndReport(e,"Unable to modify threads spam status user"),[3,4];case 4:return[2]}}))}))}}}})}())((function(e){var n=e.interlocutor,t=e.threadID,r=i.useState(h.PENDING),o=r[0],d=r[1];return o===h.PENDING?i.createElement(g.a,{"data-test-selector":f.SPAM_PROMPT_PENDING_TARGET,attachRight:!0,attachLeft:!0,attachTop:!0},i.createElement(k.a,{background:b.d.Alt2,padding:.5,elevation:2},i.createElement(g.a,{display:b.g.InlineBlock,margin:.5},i.createElement(S.a,{type:S.e.Span,fontSize:b.j.Size6,color:b.f.Alt2},Object(a.d)("It looks like this conversation triggered our spam detector. If it is spam, please report it!","WhisperSpamWarning"))),i.createElement(g.a,{display:b.g.InlineBlock,margin:.5},i.createElement(y.a,{"data-test-selector":f.REPORT_AS_SPAM_BUTTON_TARGET,type:y.d.Alert,onClick:function(){(null==n?void 0:n.id)&&(null==n?void 0:n.login)&&(e.setThreadSpamStatusMutation(t,!0),d(h.REPORTED),e.reportUserMutation(n.id,c.b.Spam,t),Object(v.m)(n.login,v.a.SpamPropmt))},size:y.b.Small},Object(a.d)("Report spam","WhisperSpamWarning"))),i.createElement(g.a,{display:b.g.InlineBlock,margin:.5},i.createElement(y.a,{"data-test-selector":f.MARK_NOT_SPAM_BUTTON_TARGET,onClick:function(){e.setThreadSpamStatusMutation(t,!1),Object(v.p)(t),d(h.DISMISSED)},size:y.b.Small},Object(a.d)("This is not spam","WhisperSpamWarning"))))):o===h.REPORTED&&(null==n?void 0:n.displayName)?i.createElement(g.a,{"data-test-selector":f.SPAM_PROMPT_REPORTED_TARGET,attachRight:!0,attachLeft:!0,attachTop:!0},i.createElement(k.a,{background:b.d.Alt2,padding:.5,elevation:2},i.createElement(g.a,{display:b.g.InlineBlock,margin:.5},i.createElement(S.a,{type:S.e.Span,fontSize:b.j.Size6,color:b.f.Alt2},Object(a.d)("Thank you for helping us fight spam. We will block {user} from sending you further whispers. You can undo this from the Settings Menu.",{user:n.displayName},"WhisperSpamWarning"))),i.createElement(g.a,{display:b.g.InlineBlock,margin:.5},i.createElement(y.a,{"data-test-selector":f.DISMISS_PROMPT_BUTTON_TARGET,type:y.d.Text,onClick:function(){(null==n?void 0:n.id)&&(e.blockUserMutation(n.id,c.a.Spam,s.u.WHISPER),e.onBlock&&e.onBlock(t)),Object(v.o)(t),d(h.DISMISSED)},size:y.b.Small},Object(a.d)("Dismiss","WhisperSpamWarning"))))):null}));t.d(n,"a",(function(){return E}))},CbHG:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatFilterContextManager_User"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:68}};t.loc.source={body:"query ChatFilterContextManager_User {\ncurrentUser {\nid\ncreatedAt\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ChatFilterContextManager_User=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"ChatFilterContextManager_User")},"CsM+":function(e,n,t){"use strict";var i=t("q1tI"),r=t("/7QA"),a=t("eirU"),o=t("8Ad5"),s=t("S4w9"),c=t("0FG4"),d=t("okS7"),u=t("mmRu"),l=t("WSPL"),m=t("tLDJ"),p=t("CGUg"),f=t("hnjF"),h=t("sUnt"),v=t("yymn"),g=t("7uM4"),k=t("C7sF"),b=t("+80q"),S=t("Jsra"),y=function(){return i.createElement(i.Fragment,null,i.createElement(p.a,null,i.createElement(f.a,{margin:{y:1}},i.createElement("hr",null))),i.createElement(h.a,{display:v.g.Flex,flexDirection:v.h.Row},i.createElement(h.a,{alignItems:v.b.Start,margin:{right:.5}},i.createElement(g.a,{asset:k.a.Warning,type:g.b.Warn})),i.createElement(b.a,null,Object(r.d)("You must verify your email or phone number to send a whisper. <x:link>Get started here</x:link>",{"x:link":function(e){return i.createElement(S.a,{linkTo:Object(m.mb)("/settings/security")},e)}},"WhisperThread"))))},E=t("PvWv"),_=t("RKC5"),C=t("TOso"),N=(t("UBni"),function(e){var n,t=e.otherParticipant,m=e.currentUser,p=e.threadID,f=e.whisperThread,h=e.emoteInputRef,g=e.setAutocompleteInnerComponentRef,k=e.autocompleteContainer,S=e.onWhisperSent,N=e.handleClick,D=e.disableEmotePicker,w=Object(i.useRef)(),O=!(null==t?void 0:t.login),T=Object(a.d)(s,{variables:{withOwner:!0}}).data,I=(null===(n=null==T?void 0:T.currentUser)||void 0===n?void 0:n.emoteSets)||[],F=Object(c.b)(I),P=function(e){var n=null==t?void 0:t.id;""!==e&&(null==m?void 0:m.id)&&n&&Object(C.a)({currentUserID:m.id,emotes:F||{},message:e,recipientUserID:n}).then((function(n){var t,i;if(null===(i=null===(t=n.data)||void 0===t?void 0:t.sendWhisper)||void 0===i?void 0:i.error){var a=Object(E.a)(n.data.sendWhisper.error.code),o=void 0;(null==f?void 0:f.messages)&&(null==f?void 0:f.messages.edges.length)>0&&(o=f.messages.edges[0].node.id),r.p.store.dispatch(Object(l.b)(p,a,o))}else null==S||S(e)}))};return function(e){var n,t;return!!((null==e?void 0:e.id)&&(null===(t=null===(n=null==e?void 0:e.self)||void 0===n?void 0:n.whisperPermissions)||void 0===t?void 0:t.isStrangerBlocked))}(t)?i.createElement(b.a,{color:v.f.Alt2},Object(_.k)()):function(e){return!!e&&!(null==e?void 0:e.isEmailVerified)}(m)?i.createElement(y,null):i.createElement(i.Fragment,null,i.createElement(d.d,{htmlAutocomplete:"twitch-chat",componentRefDelegate:g,componentType:d.a.Input,containerElement:k,disabled:O,onClick:N,onFocus:N,onKeyDown:function(e){if((e.charCode||e.keyCode)===o.a.Enter&&w.current){var n=w.current.getValue();w.current.setValue(""),P(n)}},refDelegate:function(e){return w.current=e},suggestionSource:d.e.Whisper,iconRight:!0},i.createElement(d.f,{emotes:I})),!D&&i.createElement(u.EmotePicker,{buttonDisabled:!1,inputRef:h,emotePickerSource:u.EmotePickerSource.Whisper,offsetX:"1rem",onClickToken:function(e){if(w.current){var n=w.current.getValue();n&&n.length>0&&!n.endsWith(" ")&&(n+=" "),n+=e+" ",w.current.setValue(n)}},padding:{x:1,bottom:1},position:v.n.Absolute,channelOwnerID:null,shouldCloseOnClickOut:!0,attachBottom:!0,attachRight:!0}))});t.d(n,"a",(function(){return N}))},CzFK:function(e,n,t){"use strict";t.d(n,"f",(function(){return i})),t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return a})),t.d(n,"d",(function(){return o})),t.d(n,"e",(function(){return s})),t.d(n,"g",(function(){return c})),t.d(n,"a",(function(){return d})),t.d(n,"l",(function(){return u})),t.d(n,"h",(function(){return l})),t.d(n,"i",(function(){return m})),t.d(n,"j",(function(){return p})),t.d(n,"m",(function(){return f})),t.d(n,"k",(function(){return h})),t.d(n,"n",(function(){return v}));var i="whispers.THREAD_OPENED",r="whispers.THREAD_CLOSED",a="whispers.THREAD_COLLAPSED",o="whispers.THREAD_EXPANDED",s="whispers.THREAD_FOCUSED",c="whispers.THREAD_UNFOCUSED",d="whispers.CONTENT_RESIZED";function u(e,n){return{type:i,data:e,contentWidth:n}}function l(e,n){return{type:r,threadID:e,contentWidth:n}}function m(e,n){return{type:a,threadID:e,contentWidth:n}}function p(e,n){return{type:o,threadID:e,contentWidth:n}}function f(e){return{type:d,contentWidth:e}}function h(e,n){return{type:s,threadID:e,contentWidth:n}}function v(e,n){return{type:c,threadID:e,contentWidth:n}}},"DB+C":function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmotePicker_EmotePicker_UserSubscriptionProducts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelOwnerID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelOwnerID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emotePickerUserSubscriptionProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"badgeTierEmotes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"LOCKED_PREVIEW"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsBadgeTierEmote"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:639}};i.loc.source={body:'#import "twilight/features/emote-picker/components/emote-picker-menu/user-subscription-product-fragment.gql"\n#import "twilight/features/bits/models/bits-badge-tier-emote-fragment.gql"\nquery EmotePicker_EmotePicker_UserSubscriptionProducts($channelOwnerID: ID!) {\ncurrentUser {\nid\nbitsBalance\n}\nuser(id: $channelOwnerID) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 28)\nsubscriptionProducts {\n...emotePickerUserSubscriptionProduct\n}\ncheer {\nid\nbadgeTierEmotes(filter: LOCKED_PREVIEW) {\n...bitsBadgeTierEmote\n}\n}\nself {\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\nmonths\n}\nsubscriptionBenefit {\nid\ntier\nplatform\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)}))}i.definitions=i.definitions.concat(a(t("ZhU4").definitions)),i.definitions=i.definitions.concat(a(t("EJ/0").definitions));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.EmotePicker_EmotePicker_UserSubscriptionProducts=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,r=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"EmotePicker_EmotePicker_UserSubscriptionProducts")},DnOo:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("ANjH"),o=t("/7QA"),s=t("SDEh"),c=t("8EUQ"),d=t("GnwI"),u=t("br9A"),l=t("dEDE"),m=t("C7sF"),p=t("vCsY"),f=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleClick=function(){n.openCheckout(),n.props.handleSubAction({action:n.props.overrideSubEventAction?n.props.overrideSubEventAction:u.a.ClickCheckout,checkoutButtonTier:n.props.tierPrice,chargeInterval:n.props.chargeInterval,offerID:n.props.offerID})},n.openCheckout=function(){n.props.isMobileCheckout||o.n.set(c.a.SUB_CHECKOUT__PRODUCT_KEY,n.props.productName)},n}return Object(i.__extends)(n,e),n.prototype.render=function(){if(this.props.isSubbedToTier){var e=Object(o.d)("Subscribed","SubTierButton");return r.createElement(l.a,{ariaLabel:e,"data-test-selector":"subscribe-button__subscribe-tier-button",disabled:!0,icon:m.a.Star},e)}var n;return n=this.props.customSubscribeNowMessage?this.props.customSubscribeNowMessage:Object(o.d)("Subscribe","SubTierButton"),r.createElement(l.a,Object(i.__assign)({ariaLabel:n+" "+this.props.tierPrice,"data-test-selector":"subscribe-button__subscribe-tier-button",icon:this.props.icon,linkTo:this.props.isMobileCheckout?this.props.url:void 0,onClick:this.handleClick,purchase:this.props.tierPrice},Object(p.a)(this.props),{fullWidth:this.props.fullWidth,targetBlank:!!Object(s.b)()||void 0}),n)},n}(r.Component),h=Object(a.d)(Object(d.withLatencyTracking)("SubTierButton",{autoReportInteractive:!0}))(f);t.d(n,"a",(function(){return h}))},DqQV:function(e,n,t){"use strict";var i,r=t("mrSG"),a=t("q1tI"),o=t("/7QA"),s=t("2xye"),c=t("sUnt"),d=t("yymn"),u=t("+80q"),l=t("dEDE");!function(e){e.StrangerWarningConfirmationButton="stranger-confirmation"}(i||(i={}));var m=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(n,e),n.prototype.componentDidMount=function(){var e,n;e={targetUserID:this.props.targetUserID},n={target_user_id:e.targetUserID},o.o.track(s.SpadeEventType.WhisperStrangerWarningImpression,n)},n.prototype.render=function(){var e;return e=this.props.targetDisplayName?Object(o.d)("You have blocked whispers from strangers. By sending a whisper to {username}, you will allow them to whisper you for 48 hours. You can disable their access again in whisper settings.",{username:this.props.targetDisplayName},"WhisperThread"):Object(o.d)("You have blocked whispers from strangers. By sending a whisper to this user, you will allow them to whisper you for 48 hours. You can disable their access again in whisper settings.","WhisperThread"),a.createElement(c.a,{attachBottom:!0,padding:1,position:d.n.Absolute},a.createElement(c.a,{padding:{bottom:1}},a.createElement(u.a,{color:d.f.Alt2,fontSize:d.j.Size6},e)),a.createElement(l.a,{onClick:this.props.onStrangerWarningConfirmation,"data-test-selector":i.StrangerWarningConfirmationButton},Object(o.d)("Got it!","WhisperThread")))},n}(a.Component);t.d(n,"a",(function(){return m}))},Dw5F:function(e,n,t){"use strict";t.d(n,"d",(function(){return c})),t.d(n,"e",(function(){return u})),t.d(n,"a",(function(){return m})),t.d(n,"g",(function(){return p})),t.d(n,"f",(function(){return f})),t.d(n,"c",(function(){return h})),t.d(n,"b",(function(){return v}));var i,r,a=t("/7QA"),o=t("wUQP"),s=t("D7An");!function(e){e.Control="control",e.Variant="variant"}(i||(i={})),function(e){e.Control="control",e.Treatment="treatment"}(r||(r={}));var c=function(){return Object(o.c)("vxp_multipass")},d="ocp_opt";function u(e){if(void 0===e&&(e={}),c()&&m())return!0;if(e.dangerouslyDoNotTrack){var n=s.b[s.c.WatchStuntDouble].id;if(n)return l(a.p.experiments.getAssignmentById(n))}return l(a.p.experiments.getAndTrackAssignment(s.c.WatchStuntDouble))}function l(e){return e===i.Variant}function m(){return a.n.get(d,!1)}function p(){return a.n.set(d,!1)}function f(){return a.n.set(d,!0)}function h(e){return!!(c()&&e.channelID&&e.currentUserID&&e.channelID===e.currentUserID&&(e.isPartner||e.isAffiliate||e.isStaff))}function v(){return a.p.experiments.getAndTrackAssignment(s.c.VXPBlockbuster)===r.Treatment}},"EJ/0":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsBadgeTierEmote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBadgeTierSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"threshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUnlocked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numberOfBitsUntilUnlock"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134}};t.loc.source={body:"fragment bitsBadgeTierEmote on Emote {\nid\nsetID\ntoken\nbitsBadgeTierSummary {\nthreshold\nself {\nisUnlocked\nnumberOfBitsUntilUnlock\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},Epr8:function(e,n,t){},EvYO:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return l}));var i,r,a=t("mrSG"),o=t("/7QA"),s=t("JbHs"),c=t("2xye"),d=t("m98o"),u=t("GyWW");function l(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,t,i,l,m,p,f;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return(n=e.friendActivity)?(t=Object(d.c)(e.friendLogin,n))?(i="/"===t[0]?t.slice(1):t,Object(s.b)(n)?(l={target_action:r.Streaming,target_channel:e.friendLogin,target_game:n.stream&&n.stream.game&&n.stream.game.name||void 0,target_login:e.friendLogin,target_url:i,ui_context:e.context},[3,4]):[3,1]):(o.k.warn("[trackPresenceClick] Attempted to track a click on an unjoinable activity."),[2]):(o.k.warn("[trackPresenceClick] Attempted to track a click with no activity."),[2]);case 1:return Object(s.c)(n)?n.user&&n.user.login?(m=void 0,[4,o.p.apollo.client.query({query:u,variables:{login:n.user.login}})]):(o.k.warn("[trackPresenceClick] Attempted to track a click on an activity with missing information."),[2]):[3,3];case 2:return p=a.sent(),(f=p&&p.data&&p.data.user)?m=f.hosting&&f.hosting.stream?f.hosting.stream.game&&f.hosting.stream.game.name||void 0:f.stream&&f.stream.game&&f.stream.game.name||void 0:o.k.warn("GraphQL empty response","[trackPresenceClick] Query for watched user info returned no data.",{watchedUser:n.user.login}),l={target_action:r.Watching,target_channel:n.user.login,target_game:m,target_hosted_channel:n.user.hosting&&n.user.hosting.login||void 0,target_login:e.friendLogin,target_url:i,ui_context:e.context},[3,4];case 3:return o.k.warn("[trackPresenceClick] Attempted to track a click on an unjoinable activity."),[2];case 4:return o.o.track(c.SpadeEventType.PresenceClick,l),[2]}}))}))}!function(e){e.FriendsListButton="friends",e.WhisperHeaderButton="convo_join",e.WhisperHeaderLink="convo_link"}(i||(i={})),function(e){e.Streaming="streaming",e.Watching="watching"}(r||(r={}))},G9mL:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("q1tI"),r=t("Ws8v"),a=t("2Ob2"),o=(t("aEfP"),function(e){return i.createElement(r.a,{className:e.overlay?"tw-drop-down-menu-seperator--overlay":"",margin:{top:1,x:.5},padding:{bottom:1},borderTop:!e.overlay})});o.displayName="DropDownMenuSeparatorComponent",o.displayName="DropDownMenuSeparatorComponent";var s=Object(a.c)(o)},GGok:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FriendButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"friendButtonFragment"},directives:[]}]}}]}}],loc:{start:0,end:154}};i.loc.source={body:'#import "twilight/features/friend-button/queries/friend-button-fragment.gql"\nquery FriendButton($id: ID!) {\nuser(id: $id) {\nid\n...friendButtonFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("g7ZD").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)})));var a={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.FriendButton=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"FriendButton")},GLn2:function(e,n,t){},GOFu:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("q1tI"),r=t("C7sF"),a=t("hnjF"),o=(t("hhl4"),r.b[r.a.Star].path),s=function(e){return i.createElement("svg",{className:"sparkling-icon",width:"100%",height:"100%",viewBox:"0 0 20 20"},e.icon.type?e.icon:i.createElement(a.a,{className:"sparkling-icon__base-icon"},r.b[e.icon].path),i.createElement("svg",{className:"sparkling-icon__star-container",viewBox:"0 0 20 20",x:"65%",y:"65%",height:"7",width:"7"},i.createElement(a.a,{className:"sparkling-icon__star sparkling-icon__star--first"},o)),i.createElement("svg",{className:"sparkling-icon__star-container",viewBox:"0 0 20 20",x:"-4%",y:"32%",height:"8",width:"8"},i.createElement(a.a,{className:"sparkling-icon__star sparkling-icon__star--second"},o)),i.createElement("svg",{className:"sparkling-icon__star-container",viewBox:"0 0 20 20",x:"60%",y:"5%",height:"9",width:"9"},i.createElement(a.a,{className:"sparkling-icon__star sparkling-icon__star--third"},o)))}},GOKC:function(e,n,t){},Gu45:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Thread_RevokeWhisperAccess"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateWhisperThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateWhisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"receive"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:187}};t.loc.source={body:"mutation Thread_RevokeWhisperAccess($input: UpdateWhisperThreadInput!) {\nupdateWhisperThread(input: $input) {\nthread {\nid\nparticipants {\nid\nself {\nwhisperPermissions {\nreceive\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Thread_RevokeWhisperAccess=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Thread_RevokeWhisperAccess")},GyWW:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Presence_WatchingClick_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"hosting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:158}};t.loc.source={body:"query Presence_WatchingClick_User($login: String!) {\nuser(login: $login) {\nid\nstream {\nid\ngame {\nid\nname\n}\n}\nhosting {\nid\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Presence_WatchingClick_User=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Presence_WatchingClick_User")},GzyO:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"d",(function(){return u})),t.d(n,"c",(function(){return l})),t.d(n,"e",(function(){return m})),t.d(n,"f",(function(){return p})),t.d(n,"b",(function(){return f}));var i=t("mrSG"),r=t("/7QA"),a=t("OpME"),o="twilight.emote_picker_history",s=24,c=[{id:"64138",token:"SeemsGood"},{id:"41",token:"Kreygasm"},{id:"245",token:"ResidentSleeper"},{id:"28087",token:"WutFace"},{id:"86",token:"BibleThump"},{id:"9",token:"<3"},{id:"58765",token:"NotLikeThis"},{id:"81274",token:"VoHiYo"},{id:"88",token:"PogChamp"},{id:"425618",token:"LUL"},{id:"25",token:"Kappa"},{id:"30259",token:"HeyGuys"}];function d(e){var n=f(),t=n[e.id];t?(t.uses++,t.lastUpdatedAt=Date.now()):n[e.id]={emote:e,lastUpdatedAt:Date.now(),uses:1},r.m.set(o,n)}function u(){var e=f();if(!(Object.keys(e).length>=s)){for(var n={},t=0;t<c.length;t++){var a=c[t];e[a.id]||(n[a.id]={emote:a,lastUpdatedAt:t,uses:0})}var d=Object(i.__assign)(Object(i.__assign)({},n),e);r.m.set(o,d)}}function l(){return Object(a.c)(c)}function m(e){var n=f(),t=[],i=!1;return Object.keys(n).forEach((function(r){var a=n[r];if(void 0!==a&&void 0!==e[a.emote.token]){var o=e[a.emote.token].id;o!==r&&(a.emote.id=o,n[o]=a,delete n[o],i=!0),t.push(a)}})),i&&r.m.set(o,n),t.sort((function(e,n){return e.uses>n.uses?-1:n.uses>e.uses?1:e.lastUpdatedAt>n.lastUpdatedAt?-1:n.lastUpdatedAt>e.lastUpdatedAt?1:0})),Object(a.c)(t.slice(0,24).map((function(e){return e.emote})))}function p(){var e=f(),n={};return Object.keys(e).forEach((function(t){void 0!==e[t]&&(n[e[t].emote.token]={count:e[t].uses})})),n}function f(){var e=r.m.get(o,{})||{};return e.undefined&&(delete e.undefined,r.m.set(o,e)),e}},HfAM:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductPriceInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOffers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"benefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:603}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-price-info.gql"\nfragment subProduct on SubscriptionProduct {\nid\nurl\nprice\npriceInfo {\n...subscriptionProductPriceInfo\n}\nname\ntier\ninterval {\nunit\n}\nstate\nemotes {\nid\nsetID\ntoken\n}\noffers @include(if: $withOffers) {\n...subProductOfferFragment\n}\nself {\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\nmonths\n}\nbenefit {\nid\ntier\n}\n}\nowner {\nid\ndisplayName\nlogin\nsubscriptionProducts {\nid\ntier\nurl\nprice\nemotes {\nid\ntoken\n}\n}\nstream {\nid\ntype\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)}))}i.definitions=i.definitions.concat(a(t("Wd+u").definitions)),i.definitions=i.definitions.concat(a(t("35qb").definitions)),e.exports=i},IRYN:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FriendButton_UnfriendUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnfriendUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unfriendUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"friendButtonFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:211}};i.loc.source={body:'#import "twilight/features/friend-button/queries/friend-button-fragment.gql"\nmutation FriendButton_UnfriendUser($input: UnfriendUserInput!) {\nunfriendUser(input: $input) {\nuser {\nid\n...friendButtonFragment\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("g7ZD").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)})));var a={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.FriendButton_UnfriendUser=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"FriendButton_UnfriendUser")},J45U:function(e,n,t){},J71B:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r})),t.d(n,"d",(function(){return s})),t.d(n,"c",(function(){return c}));var i,r,a=t("/7QA"),o=t("2xye");function s(e){a.o.track(o.SpadeEventType.FriendRequest,{request_id:e.requestID,ui_context:e.requestContext})}function c(e){a.o.track(o.SpadeEventType.FriendRequestResponse,{action:e.action,request_id:e.requestID,was_recommendation:e.wasRecommendation})}!function(e){e.ChatCard="chat_card",e.ChatCardPopout="chat_card_popout",e.ChannelFollowers="channel_followers",e.ChannelFollowing="channel_following",e.Conversation="conversation",e.Friends="friends_main",e.FriendRequests="friend_requests",e.ModViewContextBar="mod_view_context_bar",e.Profile="profile",e.Recommended="recommended",e.Search="search"}(i||(i={})),function(e){e.Accept="accept",e.Decline="decline"}(r||(r={}))},JGCS:function(e,n,t){},JbHs:function(e,n,t){"use strict";var i;!function(e){e.Playing="playing",e.Streaming="broadcasting",e.Watching="watching"}(i||(i={}));var r=t("DMoW");function a(e,n){switch(e.type){case i.Playing:return{type:r.b.PLAYING,"Symbol(id)":n,__typename:"Playing",game:{id:e.game_id,name:e.game,"Symbol(id)":n+".game",__typename:"Game"}};case i.Streaming:if(!e.stream_id)return null;var t=e.game&&e.game_id;return{type:r.b.STREAMING,"Symbol(id)":n,__typename:"Streaming",stream:{id:e.stream_id,game:t?{id:e.game_id,name:e.game,"Symbol(id)":n+".stream.game",__typename:"Game"}:null,"Symbol(id)":n+".stream",__typename:"Stream"}};case i.Watching:if(!e.stream_id)return null;var a=e.game&&e.game_id,o=e.hosted_channel_id&&e.hosted_channel_login&&e.hosted_channel_display_name;return{type:r.b.WATCHING,"Symbol(id)":n,__typename:"Watching",user:{id:e.channel_id,login:e.channel_login,displayName:e.channel_display_name,"Symbol(id)":n+".user",__typename:"User",stream:{id:e.stream_id,game:a?{id:e.game_id,name:e.game,"Symbol(id)":n+".user.stream.game",__typename:"Game"}:null,"Symbol(id)":n+".user.stream",__typename:"Stream"},hosting:o?{id:e.hosted_channel_id,displayName:e.hosted_channel_display_name,login:e.hosted_channel_login,"Symbol(id)":n+".user.hosting",__typename:"User"}:null}};default:return null}}function o(e){return"Playing"===e.__typename}function s(e){return"Streaming"===e.__typename}function c(e){return"Watching"===e.__typename}t.d(n,"d",(function(){return a})),t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return s})),t.d(n,"c",(function(){return c}))},JkAt:function(e,n,t){"use strict";var i=t("dF3q");t.d(n,"a",(function(){return i.a}))},Jpf8:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Whispers_Thread_WhisperThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLastMessageRead"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"receive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isStrangerBlocked"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"spamInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastMarkedNotSpamAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likelihood"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isMuted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isArchived"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"blockedUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:805}};t.loc.source={body:"query Whispers_Thread_WhisperThread($id: ID! $cursor: Cursor) {\nwhisperThread(id: $id) {\nid\nuserLastMessageRead {\nid\nsentAt\n__typename\n}\nparticipants {\nid\nchatColor\ndisplayName\nprofileImageURL(width: 70)\nlogin\ndisplayBadges {\nid\ntitle\nimageURL\n}\nself {\nwhisperPermissions {\nreceive\nisStrangerBlocked\n}\n}\n__typename\n}\nspamInfo {\nlastMarkedNotSpamAt\nlikelihood\n__typename\n}\nisMuted\nisArchived\nmessages(first: 20 after: $cursor) {\nedges {\ncursor\nnode {\nid\nnonce\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n__typename\n}\n__typename\n}\nfrom {\nid\n__typename\n}\nsentAt\neditedAt\ndeletedAt\n__typename\n}\n__typename\n}\n__typename\n}\n__typename\nunreadMessagesCount\n}\ncurrentUser {\nid\nchatColor\ndisplayName\nisEmailVerified\nprofileImageURL(width: 70)\nlogin\ndisplayBadges {\nid\ntitle\nimageURL\n}\nblockedUsers {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Whispers_Thread_WhisperThread=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Whispers_Thread_WhisperThread")},Kae6:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var i=t("pVnL"),r=t.n(i),a=t("q1tI"),o=t("kV5U"),s=t("fNzW"),c=t("vCsY"),d=t("X2PJ"),u=t("yymn"),l=t("2nDl"),m=(t("VFp6"),function(e){var n,t={"tw-textarea":!0,"tw-textarea--no-resize":e.noResize,"tw-textarea--error":e.error};e.tabIndex&&(n=e.tabIndex);var i=l.c.Default;e.size&&(i=e.size);var m={paddingRight:e.paddingRight?e.paddingRight/10+"rem":void 0};return a.createElement(d.a,{display:u.g.Block,borderRadius:u.e.Medium,overflow:e.overflow,fontSize:l.b[i],fullWidth:!0},a.createElement("textarea",r()({},Object(c.a)(e),Object(o.a)(e),{className:Object(s.a)(t),autoComplete:e.autoComplete,autoFocus:e.autoFocus,cols:e.cols,disabled:e.disabled,id:e.id,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,style:m,placeholder:e.placeholder,rows:e.rows,tabIndex:n,value:e.value,defaultValue:e.defaultValue,ref:e.refDelegate,readOnly:e.readOnly})))});m.displayName="TextArea",m.displayName="TextArea"},KriR:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var i,r=t("/7QA"),a=t("2xye");!function(e){e.SPM="spm",e.RecurlyCreditCard="recurlyCreditCard"}(i||(i={}));var o,s,c,d,u;!function(){function e(e){this.store={checkoutSessionID:e.checkoutSessionID,savedPaymentAvailable:null,savedPaymentDisplayed:null,recurlyCreditCardAvailable:null,details:null},this.counter=0,this.config={allowDuplicateEvents:!(!e||!e.allowDuplicateEvents)},this.readyFields={spm:!1,recurlyCreditCard:!1}}e.prototype.get=function(e){return this.store[e]},e.prototype.set=function(e){this.store=Object.assign(this.store,e)},e.prototype.setReady=function(e){this.readyFields[e]=!0},e.prototype.reportEvent=function(){var e,n;this.allFieldsReady&&(0===this.counter||this.config.allowDuplicateEvents)&&(this.counter++,e=this.store,n={checkout_session_id:e.checkoutSessionID,saved_payment_available:e.savedPaymentAvailable,saved_payment_displayed:e.savedPaymentDisplayed,recurly_credit_card_available:e.recurlyCreditCardAvailable,details:e.details||""},r.o.track(a.SpadeEventType.PaymentFormDisplay,n))},Object.defineProperty(e.prototype,"allFieldsReady",{get:function(){return Object.values(this.readyFields).reduce((function(e,n){return e&&n}))},enumerable:!0,configurable:!0})}();!function(e){e.Failed="failed",e.Pending="pending",e.Success="success"}(o||(o={})),function(e){e.MysteryGifting="mystery_gifting",e.Gifting="gifting",e.Personal="personal"}(s||(s={})),function(e){e.RecurlyCreditCard="recurly_credit_card",e.RecurlyPaypal="recurly_paypal",e.RecurlyPayWithAmazon="recurly_pay_with_amazon",e.ZuoraCreditCard="zuora_credit_card",e.Xsolla="xsolla"}(c||(c={})),function(e){e.VendorLoginClick="vendor_login_click",e.CompletePurchaseClick="complete_purchase_click",e.PaypalTokenError="paypal_token_error",e.RadioButtonClick="radio_button_click",e.TokenError="token_error",e.PriceChangeAlert="price_change_alert",e.UnsupportedCountryAlert="unsupported_country_alert"}(d||(d={})),function(e){e.ChannelSubscribeButton="channel_subscribe_button_click",e.Direct="direct_url_link",e.EmotePicker="emote_picker_click",e.Extension="extension_click",e.SubscriptionsManagement="subscriptions_management",e.TurboSubscribeButton="turbo_subscribe_button_click",e.ViewerCard="viewer_card_click",e.SubscriberStreamUpsellClick="subscriber_stream_upsell_click",e.GetBitsMenu="get_bits_menu",e.ModView="mod_view",e.ChannelLeaderboard="channel_leaderboard"}(u||(u={}))},"L/cU":function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return f}));var i,r=t("pVnL"),a=t.n(r),o=t("q1tI"),s=t("fNzW"),c=t("vCsY"),d=t("C9w8"),u=t("fPaz"),l=t("uG/k"),m=t("Ws8v"),p=t("yymn");t("Lk5B");!function(e){e.Default="tw-card-img--size-default",e.Size2="tw-card-img--size-2",e.Size3="tw-card-img--size-3",e.Size4="tw-card-img--size-4",e.Size6="tw-card-img--size-6",e.Size8="tw-card-img--size-8",e.Size12="tw-card-img--size-12",e.Size16="tw-card-img--size-16",e.Size24="tw-card-img--size-24",e.Size32="tw-card-img--size-32"}(i||(i={}));var f=function(e){var n={"tw-card-img":!0};return e.size&&e.size!==i.Default&&(n[e.size]=!0),o.createElement(m.a,a()({className:Object(s.a)(n),flexShrink:0,borderRadius:e.borderRadius,overflow:p.m.Hidden},Object(c.a)(e)),o.createElement(u.b,{ratio:e.aspect?e.aspect:u.c.Aspect16x9,overflow:e.overflow},o.createElement(l.a,Object(d.a)(e))),e.children)};f.displayName="CardImage",f.displayName="CardImage"},Lbs1:function(e,n,t){"use strict";var i=t("wqjf");t.d(n,"a",(function(){return i.a})),t.d(n,"b",(function(){return i.b}))},Lk5B:function(e,n,t){},Mb07:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return o})),t.d(n,"d",(function(){return s}));var i,r=t("a5fV");function a(e,n){var t;return null===(t=n.offers)||void 0===t?void 0:t.find((function(n){var t;return(null===(t=n.promotion)||void 0===t?void 0:t.name)===e}))}function o(e){return s(e)?function(e){var n,t,i,a,o,s,c,d,u=null===(n=null==e?void 0:e.promotion)||void 0===n?void 0:n.promoDisplay.discountPercent,l=null===(i=null===(t=null==e?void 0:e.listing)||void 0===t?void 0:t.chargeModel.internal)||void 0===i?void 0:i.previewPrice,m=null===(c=null===(s=null===(o=null===(a=null==e?void 0:e.listing)||void 0===a?void 0:a.chargeModel.internal)||void 0===o?void 0:o.previewPrice)||void 0===s?void 0:s.discount)||void 0===c?void 0:c.price;l&&(d=Object(r.a)(Object(r.d)(l.total,l.exponent),l.currency));return{discountPercent:u,discountPrice:m,price:d}}(e):{}}function s(e){return!!(null==e?void 0:e.eligibility.isEligible)}!function(e){e.FirstPaidSubOffer="first_paid_sub_offer_20_perc_off"}(i||(i={}))},Mj6i:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var i=t("mrSG"),r=t("yR8l"),a=t("wUQP"),o=t("0FG4"),s=t("VYPy"),c=t("S4w9");function d(){return Object(r.a)(c,{options:function(e){return{variables:{withOwner:!0,includeEmoteModifiers:Object(a.c)(s.a)}}},props:function(e){if(e.data){var n=e.data.currentUser&&e.data.currentUser.emoteSets||[],t=n&&Object(o.b)(n);return{emoteSetsData:Object(i.__assign)(Object(i.__assign)({},e.data),{currentUser:e.data.currentUser||null,emoteMap:t,emoteSets:n})}}return{}},skip:function(e){return!e.isLoggedIn}})}},MkkA:function(e,n,t){"use strict";var i=t("fBrF");t.d(n,"withWatchPartyContext",(function(){return i.b}));var r=t("yJn7");t.o(r,"mapWatchPartyContextToSubsProps")&&t.d(n,"mapWatchPartyContextToSubsProps",(function(){return r.mapWatchPartyContextToSubsProps})),t.o(r,"withWatchPartyContextManager")&&t.d(n,"withWatchPartyContextManager",(function(){return r.withWatchPartyContextManager}));var a=t("CNnA");t.d(n,"mapWatchPartyContextToSubsProps",(function(){return a.a}));var o=t("t4UF");t.d(n,"withWatchPartyContextManager",(function(){return o.a}))},NKxy:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WhisperThread_SetThreadSpamStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateWhisperThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateWhisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"spamInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastMarkedNotSpamAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likelihood"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:178}};t.loc.source={body:"mutation WhisperThread_SetThreadSpamStatus($input: UpdateWhisperThreadInput!) {\nupdateWhisperThread(input: $input) {\nthread {\nid\nspamInfo {\nlastMarkedNotSpamAt\nlikelihood\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.WhisperThread_SetThreadSpamStatus=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"WhisperThread_SetThreadSpamStatus")},NMMG:function(e,n,t){"use strict";function i(e,n){return parseInt(n,10)<parseInt(e,10)?n+"_"+e:e+"_"+n}function r(e,n){return e.split("_").find((function(e){return e!==n}))||null}t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r}))},OpME:function(e,n,t){"use strict";t.d(n,"c",(function(){return d})),t.d(n,"b",(function(){return u})),t.d(n,"d",(function(){return m})),t.d(n,"a",(function(){return p})),t.d(n,"f",(function(){return f})),t.d(n,"e",(function(){return h}));var i=t("mrSG"),r=t("lZdE"),a=t("cpJf"),o={"B-?\\)":"B)","\\:-?[z|Z|\\|]":":|","\\:-?\\)":":)","\\:-?\\(":":(","\\:-?(p|P)":":P","\\;-?(p|P)":";P","\\:-?[\\\\/]":":/","\\;-?\\)":";)","R-?\\)":"R)",":>":":>","\\:\\&gt\\;":":>","[oO](_|\\.)[oO]":"O_o","\\:-?D":":D","\\:-?(o|O)":":O",">\\\\(":">(",":-?(?:7|L)":":7","\\:-?(S|s)":":S","#-?[\\\\/]":"#/","<\\]":"<]","<3":"<3","\\&lt\\;3":"<3","\\&lt\\;\\]":"<]","\\&gt\\;\\(":">("},s=["1.0","2.0","3.0"],c=new Set([457,33,42,0]);function d(e){for(var n=[],t=0,i=e;t<i.length;t++){var r=i[t];r&&null!==r.id&&null!==r.token&&n.push(u(r))}return n}function u(e){var n=o[e.token]||e.token,t=s.reduce((function(n,t){var i=n;return i&&(i=i.concat(", ")),i.concat("https://static-cdn.jtvnw.net/emoticons/v1/"+e.id+"/"+t+" "+t+"x")}),"");return Object(i.__assign)(Object(i.__assign)({},e),{displayName:n,srcSet:t})}function l(e){return e.filter((function(e){return!!e&&!!e.id&&!!e.token})).sort((function(e,n){return parseInt(e.id,10)-parseInt(n.id,10)}))}function m(e){for(var n=[],t=0,i=e;t<i.length;t++){var r=i[t];if(r&&r.id&&r.emotes){for(var a={id:r.id,emotes:[]},o=0,s=r.emotes;o<s.length;o++){var c=s[o];c&&c.id&&c.token&&a.emotes.push(c)}n.push(a)}}return n}function p(e){for(var n=[],t=[],i=0,r=e;i<r.length;i++){var a=r[i];if(a&&a.id&&a.emotes){var o={id:a.id,emotes:d(l(a.emotes))};a.owner&&(o.owner=a.owner),c.has(parseInt(a.id,10))?n.push(o):t.push(o)}}return t.concat(n)}var f=function(e,n,t){var i=t||a.c,o=[],s=[],c=[],d=new RegExp("^"+Object(r.a)(n),"i");return e.forEach((function(e){i[e.token]?c.push(e):e.token.match(d)?o.push(e):s.push(e)})),o.sort((function(e,n){return e.token.localeCompare(n.token)})),s.sort((function(e,n){return e.token.localeCompare(n.token)})),c.sort((function(e,n){return i[n.token].count-i[e.token].count})),c.concat(o).concat(s)},h=function(e){var n={};return e.filter((function(e){return!n.hasOwnProperty(e.token)&&(n[e.token]=!0)}))}},P5MF:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_EmoteCard_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:176}};t.loc.source={body:"query Core_Services_Spade_EmoteCard_User($channelID: ID!) {\nuser(id: $channelID) {\nid\nhasPrime\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\ntier\npurchasedWithPrime\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Core_Services_Spade_EmoteCard_User=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Core_Services_Spade_EmoteCard_User")},P6kH:function(e,n,t){"use strict";t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return d})),t.d(n,"d",(function(){return h})),t.d(n,"a",(function(){return i})),t.d(n,"e",(function(){return g})),t.d(n,"f",(function(){return k}));var i,r=t("/7QA"),a=t("DMoW"),o=t("dGMd"),s="owl2019_emote_ids",c="OverwatchLeague",d="137512364",u="12658",l="324",m="300374283",p="139075904",f=5e8,h="Twitch",v="301696583";function g(e){return e.emote.subscriptionProduct?e.emote.subscriptionProduct.id===m?i.TwoFactor:e.emote.subscriptionProduct.id===u?i.Prime:e.emote.subscriptionProduct.id===l?i.Turbo:(n=e.emote.id,r.b.get(s,[]).includes(n)?i.OWL2019:e.emote.subscriptionProduct.owner&&e.emote.subscriptionProduct.owner.id?e.emote.subscriptionProduct.owner.id===p||e.emote.subscriptionProduct.state===a.pd.INACTIVE?i.LimitedTime:i.Subscription:i.Unavailable):e.emote.setID===o.a?i.ChannelPoints:e.emote.setID&&k(e.emote.setID)?i.BitsTier:e.emote.id===v?i.StreamAid:i.Global;var n}function k(e){return parseInt(e,10)>=f}!function(e){e[e.Unknown=0]="Unknown",e[e.Prime=1]="Prime",e[e.Turbo=2]="Turbo",e[e.OWL2019=3]="OWL2019",e[e.LimitedTime=4]="LimitedTime",e[e.StreamAid=5]="StreamAid",e[e.ChannelPoints=6]="ChannelPoints",e[e.Unavailable=7]="Unavailable",e[e.Subscription=8]="Subscription",e[e.BitsTier=9]="BitsTier",e[e.Global=10]="Global",e[e.TwoFactor=11]="TwoFactor"}(i||(i={}))},PvWv:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t("DMoW"),r=t("RKC5"),a=function(e){switch(e){case i.ad.TARGET_RESTRICTED:return Object(r.d)();case i.ad.BODY_EMPTY:return Object(r.c)();case i.ad.TARGET_BANNED:return Object(r.e)();default:return Object(r.b)()}}},QVaV:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return o}));var i=t("q1tI"),r=/^[\x00-\x7F]*$/,a=function(e,n,t){return void 0===t&&(t=!1),n&&e&&!o(n)?t?n+" ("+e+")":i.createElement("span",null,n," ",i.createElement("span",{className:"intl-login"},"("+e+")")):n||(e||"")};function o(e){return r.test(e)}},RKC5:function(e,n,t){"use strict";t.d(n,"d",(function(){return r})),t.d(n,"c",(function(){return a})),t.d(n,"e",(function(){return o})),t.d(n,"b",(function(){return s})),t.d(n,"l",(function(){return c})),t.d(n,"m",(function(){return d})),t.d(n,"f",(function(){return u})),t.d(n,"a",(function(){return l})),t.d(n,"j",(function(){return m})),t.d(n,"i",(function(){return p})),t.d(n,"g",(function(){return f})),t.d(n,"h",(function(){return h})),t.d(n,"n",(function(){return v})),t.d(n,"k",(function(){return g}));var i=t("/7QA");function r(){return Object(i.d)("Your whisper was not delivered because the recipient's settings prevent them from receiving it.","WhisperUtils")}function a(){return Object(i.d)("Your whisper was not delivered because it was empty.","WhisperUtils")}function o(){return Object(i.d)("Your whisper was not delivered because the recipient is suspended.","WhisperUtils")}function s(){return Object(i.d)("Your whisper was not delivered.","WhisperUtils")}function c(){return Object(i.d)("User successfully blocked","WhisperUtils")}function d(){return Object(i.d)("User successfully unblocked","WhisperUtils")}function u(){return Object(i.d)("Other People","WhisperUtils")}function l(){return Object(i.d)("No users found.","WhisperUtils")}function m(){return Object(i.d)("Search for People","WhisperUtils")}function p(){return Object(i.d)("Sorry, something went wrong loading this conversation.","WhisperUtils")}function f(){return Object(i.d)("There was a problem loading whispers.","WhisperUtils")}function h(){return Object(i.d)("There was a problem loading options for this user.","WhisperUtils")}function v(e){return Object(i.d)("{username}'s avatar",{username:e},"WhisperUtils")}function g(){return Object(i.d)('This user has turned on "Block Whispers from Strangers" in their privacy settings and must start a conversation with you first.',"WhisperUtils")}},RcPG:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.Text=0]="Text",e[e.ModeratedText=1]="ModeratedText",e[e.FlaggedSegment=2]="FlaggedSegment",e[e.CurrentUserHighlight=3]="CurrentUserHighlight",e[e.Mention=4]="Mention",e[e.Link=5]="Link",e[e.Emote=6]="Emote",e[e.ClipLink=7]="ClipLink",e[e.VideoLink=8]="VideoLink"}(i||(i={}))},Ro6I:function(e,n,t){},RuiO:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_SubEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withVideo"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withVideo"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:266}};t.loc.source={body:"query Core_Services_Spade_SubEvent_User($channelID: ID! $withVideo: Boolean! $videoID: ID) {\nuser(id: $channelID) {\nid\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\ntier\npurchasedWithPrime\n}\n}\n}\nvideo(id: $videoID) @include(if: $withVideo) {\nid\nbroadcastType\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Core_Services_Spade_SubEvent_User=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Core_Services_Spade_SubEvent_User")},S4w9:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserEmotes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOwner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeEmoteModifiers"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modifiers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeEmoteModifiers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOwner"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:290}};t.loc.source={body:"query UserEmotes(\n$withOwner: Boolean!\n$includeEmoteModifiers: Boolean = false\n) {\ncurrentUser {\nid\nemoteSets {\nid\nemotes {\nid\nsetID\ntoken\nmodifiers @include(if: $includeEmoteModifiers) {\ncode\nname\n}\n}\nowner @include(if: $withOwner) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 28)\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UserEmotes=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"UserEmotes")},SCHm:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPoints_Icon"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"pointCustomizationFragment"},directives:[]}]}}]}}],loc:{start:0,end:213}};i.loc.source={body:'#import "twilight/features/community-points/models/point-customization-fragment.gql"\nquery CommunityPoints_Icon($channelLogin: String!) {\ncommunity: user(login:$channelLogin) {\nid\n...pointCustomizationFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("XBQy").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)})));var a={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.CommunityPoints_Icon=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"CommunityPoints_Icon")},SbbE:function(e,n,t){},SceP:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsChatCard_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:151}};t.loc.source={body:"query ClipsChatCard_Clip($slug: ID!) {\nclip(slug: $slug) {\nid\nthumbnailURL\ntitle\nslug\nurl\ncurator {\nid\ndisplayName\n}\nbroadcaster {\nid\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ClipsChatCard_Clip=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"ClipsChatCard_Clip")},SyZi:function(e,n,t){"use strict";t.d(n,"a",(function(){return p}));var i=t("q1tI"),r=t("ZGDZ"),a=t("XIEs"),o=t("nAiT"),s=t("7uM4"),c=t("C7sF"),d=t("uG/k"),u=t("sUnt"),l=t("ALJo"),m=(t("e9QR"),{"channel-points-icon--small":12,"channel-points-icon--medium":20,"channel-points-icon--large":50}),p=function(e){var n=e.iconSize||l.a.Medium,t=m[n],r=i.createElement(s.a,{asset:c.a.ChannelPoints,width:t,height:t});if(e.image){var p=f(t,e.image);r=i.createElement(d.a,{className:"channel-points-icon__image",alt:e.name||Object(o.a)(),src:p,srcSet:p===e.image.url?Object(a.a)(e.image):void 0})}return i.createElement(u.a,{className:"channel-points-icon "+n},r)},f=function(e,n){return e<=r.a.SMALL?n.url:e<=r.a.MEDIUM?n.url2x:e<=r.a.LARGE?n.url4x:n.url}},TOso:function(e,n,t){"use strict";var i=t("mrSG"),r=t("/7QA"),a=t("cMjZ"),o=t("geRD"),s=t("f00E"),c=t("DMoW"),d=t("w09P"),u=t("xXlL"),l=t("U1yz"),m=t("a1OF");var p=t("3YIm"),f=t("NMMG"),h=t("Vl9+");function v(e){var n=e.currentUserID,t=e.emotes,v=e.message,g=e.recipientUserID;if(""===n||""===v||""===g)return Promise.reject(new Error("Tried to send a whisper with nonsensical parameters."));var k=Object(s.c)(),b=Object(i.__assign)({mutation:p},Object(o.a)({message:v,nonce:k,recipientUserID:g})),S=Object(f.a)(n,g),y=Object(l.a)(r.p.apollo.client.cache,S,!0);if(y&&y.messages){var E=function(e,n){for(var t=[],i=/\S+/g,r=i.exec(e);r;){var a=r[0],o=n[a];if(o){var s=Object(m.c)(e.slice(0,r.index)),c=s?s.length:r.index;t.push({id:o.id,start:c,end:c+a.length-1})}r=i.exec(e)}return t}(v,t).map(u.a);b.optimisticResponse={sendWhisper:{__typename:"SendWhisperPayload",message:{content:{content:v,emotes:E,__typename:"MessageBody"},from:{id:n,__typename:"User"},id:k,nonce:k,sentAt:(new Date).toISOString(),deletedAt:null,editedAt:null,thread:{id:S,__typename:"WhisperThread",participants:[{id:n,__typename:"User",self:{__typename:"UserSelfConnection",whisperPermissions:{receive:c.Vd.NOT_PERMITTED,__typename:"WhisperPermissions"}}},{id:g,__typename:"User",self:{__typename:"UserSelfConnection",whisperPermissions:{receive:c.Vd.PERMITTED,__typename:"WhisperPermissions"}}}]},__typename:"WhisperMessage"},error:null}},b.update=function(e,n){if(n.data){var t=n.data;if(t.sendWhisper&&t.sendWhisper.message&&!t.sendWhisper.error){var i=t.sendWhisper.message,r=Object(l.a)(e,S);if(r&&r.messages){var o=r.messages.edges.findIndex((function(e){return e.node.id===k||e.node.nonce===k||e.node.id===i.id}));if(o<0){var s={cursor:(1+y.messages.edges.reduce((function(e,n){return Math.max(parseInt(n.cursor,10),e)}),0)).toString(),node:i,__typename:"WhisperMessageEdge"};r=d(r,(function(e){return e.messages.edges}),(function(e){return e.unshift(s),e}))}else r=d(r,(function(e){return e.messages.edges[o].node}),(function(){return i}));r.userLastMessageRead&&(r=d(r,(function(e){return e.userLastMessageRead.sentAt}),(function(){return i.sentAt}))),r.unreadMessagesCount=0,e.writeFragment({id:Object(a.a)(r),fragment:h,data:r})}}}}}return r.p.apollo.client.mutate(b)}t.d(n,"a",(function(){return v}))},TUXZ:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("/7QA"),o=t("8/mp"),s=t("2xye"),c=t("dGMd"),d=t("sUnt"),u=t("yymn"),l=t("Ws8v"),m=t("dEDE"),p=t("C7sF"),f=t("uG/k"),h=t("+80q"),v=function(e){var n=e.bitsBalance,t=e.bitsBadgeTier,i=e.channelDisplayName,o=e.channelID,c=e.onClickToken,v=e.numBitsToUnlock,g=e.clickedEmote,k=e.onBackClick,b=r.useCallback((function(){var e="cheer";Math.random()>.999998&&(e="doodlecheer"),c(e+v);var t=g,i={action:"cheer_bits",additional_bits_needed:t.bitsLeftToUnlock,bits_balance:n,bits_tier:t.bitsThreshold,channel_id:o,emote_id:t.id,emoticon_set_id:t.setID};a.o.track(s.SpadeEventType.EmotePickerBitsPreviewClick,i)}),[g,n,o,c,v]),S=r.useCallback((function(){return Object(a.d)("{channelDisplayName} - {bitsTierNumber} Bits Badge Reward",{bitsTierNumber:Object(a.g)(t,{maximumFractionDigits:2}),channelDisplayName:i},"EmotePickerCardBitsEmoteUpsell")}),[t,i]),y=r.useCallback((function(){return Object(a.d)("Use {numBits} more Bits in {channelDisplayName}'s channel to permanently unlock this emote reward.",{numBits:Object(a.f)(v),channelDisplayName:i},"EmotePickerCardBitsEmoteUpsell")}),[i,v]),E=r.useCallback((function(e){var n=e.split(" ");return 6===n.length?n[2]:n[0]}),[]);return r.createElement(d.a,{display:u.g.Flex,flexDirection:u.h.Column},r.createElement(l.a,{padding:{top:.5}},r.createElement(m.a,{type:m.d.Text,icon:p.a.AngleLeft,onClick:k,size:m.b.Small},Object(a.d)("Back","EmotePickerCardBitsEmoteUpsell"))),r.createElement(l.a,{display:u.g.Flex,padding:{x:2,bottom:1}},r.createElement(d.a,{flexShrink:0,padding:{top:.5}},r.createElement(f.a,{src:E(g.srcSet),alt:g.displayName||g.token})),r.createElement(d.a,{padding:{left:1}},r.createElement(h.a,{bold:!0},S()),r.createElement(h.a,null,y()))),r.createElement(l.a,{display:u.g.Flex,padding:{top:.5,bottom:1},justifyContent:u.l.Center},r.createElement(m.a,{type:m.d.Primary,onClick:b,size:m.b.Small},Object(a.d)("Cheer Bits","EmotePickerCardBitsEmoteUpsell"))))},g=t("b5vT"),k=t("7SjK"),b=function(e){var n=null;return e.img&&(n=r.createElement(r.Fragment,null,e.img,r.createElement(d.a,{padding:{right:.5}}))),r.createElement(d.a,{position:u.n.Relative,padding:{x:1,top:.5,bottom:1}},r.createElement(l.a,{alignItems:u.b.Center,display:u.g.Flex,padding:{x:1,y:.5},className:"emote-grid-section__header-title"},n,r.createElement(h.a,{align:u.q.Middle,bold:!0,color:u.f.Alt},e.label)),r.createElement(k.a,{context:e.context,emotes:e.emotes,onClickEmote:e.onClickEmote,spaced:!0}))},S=t("4VQm"),y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.checkVisible=function(e,t){n.props.checkVisible(e,t)},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.unregister=this.props.registerReceiver(this)},n.prototype.componentWillUnmount=function(){this.unregister&&this.unregister()},n.prototype.render=function(){return r.createElement(r.Fragment,null,this.props.children)},n}(r.Component),E=Object(S.d)((function(e){return{registerReceiver:e.registerReceiver}}))(y),_=t("i4Ys"),C=t("7uM4"),N=function(e){return r.createElement(d.a,{position:u.n.Relative},r.createElement(_.a,{"data-a-target":e.label,onClick:e.onClick,blurAfterClick:!0,selected:e.isActive},r.createElement(d.a,{padding:1,display:u.g.InlineFlex},r.createElement(C.a,{asset:e.icon}))))},D=t("ANjH"),w=t("yR8l"),O=t("OMdY"),T=t("GnwI"),I=t("evnP"),F=t("ANDu"),P=t("DnOo"),U=t("a5fV"),j=t("CGUg"),A=(t("GLn2"),function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.channelSubEmotes,t=e.channelSubscriptionProducts,s=e.subUpsellClickedEmote,c=t.find((function(e){return e.emoteSetID===s.setID}));if(c||(c=t.find((function(e){var n;return!!(null===(n=e.emotes)||void 0===n?void 0:n.some((function(e){return e&&e.id===s.id})))}))),!c)return null;var v={};n.forEach((function(e){if(e.isLocked&&null!==e.setID&&void 0!==e.setID){var n=t.find((function(n){return n.emoteSetID===e.setID}));n&&(v[n.emoteSetID]=n)}}));var g=Object(F.b)(c),b=Object(a.d)("Subscribe at Tier {tierNumber}",{tierNumber:g},"EmotePickerCard"),S=[],y=[];n.forEach((function(e){var n=v[e.setID];n&&(Object(F.b)(n)<=g?y.push(Object(i.__assign)(Object(i.__assign)({},e),{isLocked:!1})):S.push(e))})),S.sort((function(e,n){var t=v[e.setID],i=v[n.setID],r=Object(F.b)(t);return Object(F.b)(i)-r}));var E=S.concat(y),_=y.length>1?Object(a.d)("{numUnlocked} Emotes Included",{numUnlocked:y.length},"EmotePickerCard"):Object(a.d)("1 Emote Included","EmotePickerCard");return r.createElement(d.a,{className:"emote-sub-upsell"},r.createElement(l.a,{padding:{top:.5}},r.createElement(m.a,{type:m.d.Text,icon:p.a.AngleLeft,onClick:this.props.onBackClick,size:m.b.Small},Object(a.d)("Back","EmotePickerCard"))),r.createElement(l.a,{display:u.g.Flex,padding:{x:2,bottom:1}},r.createElement(d.a,{flexGrow:0,flexShrink:0,padding:{top:.5}},r.createElement(f.a,{src:this.getBigImageSrc(s.srcSet),alt:s.displayName||""})),r.createElement(d.a,{flexGrow:1,flexShrink:1,padding:{left:1}},r.createElement(h.a,{bold:!0},this.renderCopyHeader(g.toString())),r.createElement(h.a,null,this.renderCopyBody(g.toString(),y.length)))),r.createElement(d.a,{display:u.g.Flex,alignItems:u.b.Center,justifyContent:u.l.Center,padding:{x:2}},r.createElement(P.a,{customSubscribeNowMessage:b,isSubbedToTier:!1,fullWidth:!0,tierPrice:Object(U.e)(c),handleSubAction:this.props.handleSubAction,productName:c.name,url:c.url})),r.createElement(j.a,null,r.createElement("hr",{className:"emote-sub-upsell__divider"})),r.createElement(o.b,{className:"emote-sub-upsell__content"},r.createElement(d.a,null,r.createElement(d.a,{padding:{x:2}},r.createElement(h.a,{bold:!0},_)),r.createElement(d.a,{padding:{x:1,top:.5,bottom:3}},r.createElement(k.a,{emotes:E,spaced:!0,onClickEmote:this.props.onClickEmote})))))},n.prototype.renderCopyHeader=function(e){return Object(a.d)("{channelDisplayName} - Tier {tierNumber} Subscription",{tierNumber:e,channelDisplayName:this.props.channelDisplayName},"EmotePickerCard")},n.prototype.renderCopyBody=function(e,n){return 1===n?Object(a.d)("To unlock 1 emote and more subscriber benefits, subscribe at Tier {tierNumber}",{tierNumber:e},"EmotePickerCard"):Object(a.d)("To unlock {numEmotes} emotes and more subscriber benefits, subscribe at Tier {tierNumber}.",{tierNumber:e,numEmotes:n},"EmotePickercard")},n.prototype.getBigImageSrc=function(e){var n=e.split(" ");return 6===n.length?n[2]:n[0]},n}(r.Component)),M=t("XQnt"),R=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){this.props.data&&(!this.props.data.loading||this.props.data.error)&&e.data&&e.data.loading&&this.props.latencyTracking.reportInteractive()},n.prototype.render=function(){return r.createElement(A,{channelDisplayName:this.props.channelDisplayName,channelSubEmotes:this.props.channelSubEmotes,channelSubscriptionProducts:this.subscriptionProducts,handleSubAction:this.props.handleSubAction,onBackClick:this.props.onBackClick,onClickEmote:this.props.onClickEmote,subUpsellClickedEmote:this.props.subUpsellClickedEmote})},Object.defineProperty(n.prototype,"subscriptionProducts",{get:function(){return this.props.data&&this.props.data.user&&this.props.data.user.subscriptionProducts?Object(O.b)(this.props.data.user.subscriptionProducts):this.props.channelSubscriptionProducts},enumerable:!0,configurable:!0}),n}(r.Component),x=Object(D.d)(Object(w.a)(M,{options:function(e){return{variables:{channelID:e.channelID,withOffers:Object(I.b)()}}}}),Object(T.withLatencyTracking)("EmoteSubUpsell"))(R),B=t("zb36"),L=t("GzyO"),W=t("OpME"),G=t("4rCz"),q=t("jzo8"),V=t("0nsv"),H=(t("glr9"),function(e){return r.createElement(q.a,null,{message:r.createElement(V.a,{description:Object(G.d)("{emoteCount, plural, one {You unlocked # emote by subscribing to {channelDisplayName}!} other {You unlocked # emotes by subscribing to {channelDisplayName}!}}",{emoteCount:e.emoteCount,channelDisplayName:e.channelDisplayName},"SubBenefitCallout")}),closeButton:{ariaLabel:"Close",onClick:e.onDismiss},padding:1,figure:r.createElement(d.a,{className:"sub-benefit-callout__figure-container"},r.createElement("svg",{className:"sub-benefit-callout__figure",width:"100%",height:"100%",viewBox:"0 0 20 20"},r.createElement("circle",{cy:"10",cx:"10",r:"7.5",className:"sub-benefit-callout__figure__circle"}),r.createElement("svg",{className:"sub-benefit-callout__figure__emoticon"},p.b[p.a.Emoticons].path)))})}),z=t("HH5h"),Q=t("ygYM"),K=t("7d/q"),Y=t("3Law"),X=t("XQbB"),$=t("PL8s");t("JGCS");t.d(n,"a",(function(){return ee}));var J,Z;!function(e){e.FrequentlyUsedEmotes="FREQUENTLY_USED_EMOTES",e.ChannelEmotes="CHANNEL_EMOTES",e.AllEmotes="ALL_EMOTES"}(J||(J={})),function(e){e.FrequentlyUsed="FREQUENTLY_USED",e.ChannelUnlocked="CHANNEL_UNLOCKED",e.Channel="CHANNEL",e.Unlocked="UNLOCKED",e.Global="GLOBAL"}(Z||(Z={}));var ee=function(e){function n(n){var t,i=e.call(this,n)||this;return i.renderTriggerAndGridForChannelUnlockedEmotes=function(){var e=i.getUnlockedEmotes();return e&&null!==i.props.channelDisplayName?i.renderTriggerAndGridForEmoteSet(Z.ChannelUnlocked,e.emotes.length,i.getCurrentChannelUnlockedEmoteGrid):null},i.renderTriggerAndGridForChannelEmotes=function(){return r.createElement(d.a,{className:i.props.isLoggedIn?"emote-picker__content-block":void 0,refDelegate:i.saveChannelEmotesRef},i.renderTriggerAndGridForEmoteSet(Z.Channel,i.props.sortedChannelEmotes.length,i.getCurrentChannelEmoteGrid))},i.renderTriggerAndGridForUnlockedEmotes=function(){return r.createElement(d.a,{refDelegate:i.saveAllEmotesRef},i.renderTriggerAndGridForEmoteSet(Z.Unlocked,i.props.unlockedEmotes.length,i.getUnlockedEmotesGrid))},i.renderTriggerAndGridForGlobalEmotes=function(){return i.renderTriggerAndGridForEmoteSet(Z.Global,i.props.globalEmotes.length,i.getGlobalEmotesGrid)},i.renderTriggerAndGridForSubsEmotes=function(){return i.props.isLoggedIn?i.props.otherChannelEmoteSets.filter((function(e){return e.owner&&e.owner.displayName&&e.emotes.length>0})).map((function(e){return i.renderTriggerAndGridForEmoteSet(e.owner.displayName,e.emotes.length,(function(){return i.getOtherSubEmoteGrid(e)}))})):null},i.getFrequentlyUsedEmoteGrid=function(){return 0===i.props.frequentlyUsedEmotes.length?null:r.createElement(d.a,{className:"emote-picker__content-block",refDelegate:i.saveFrequentlyUsedEmotesRef},r.createElement(b,{context:B.a.FrequentlyUsed,emotes:i.props.frequentlyUsedEmotes,label:Object(a.d)("Frequently Used","EmotePickerCard"),onClickEmote:i.onClickEmote}))},i.getCurrentChannelEmoteGrid=function(){return 0===i.props.sortedChannelEmotes.length||null===i.props.channelDisplayName?null:r.createElement(r.Fragment,null,i.props.shouldShowSubBenefitCallout&&r.createElement(d.a,{padding:{x:2,top:1}},r.createElement(H,{channelDisplayName:i.props.channelDisplayName,emoteCount:i.props.channelSubEmotes.filter((function(e){return!e.isLocked})).length,onDismiss:i.onDismissSubBenefitCallout})),r.createElement(b,{context:B.a.CurrentChannel,emotes:i.props.sortedChannelEmotes,img:r.createElement(z.a,{src:i.props.channelProfileImageURL,size:30,alt:i.props.channelDisplayName,userLogin:i.props.channelLogin}),label:i.props.channelDisplayName,onClickEmote:i.onClickEmote}))},i.getCurrentChannelUnlockedEmoteGrid=function(){var e=i.getUnlockedEmotes();return e&&null!==i.props.channelDisplayName?r.createElement(d.a,{className:i.props.isLoggedIn?"emote-picker__content-block":void 0,refDelegate:i.saveChannelEmotesRef},r.createElement(b,{context:B.a.CurrentChannel,emotes:e.emotes,label:Object(a.d)("Unlocked with Channel Points","EmotePickerCard"),onClickEmote:i.onClickEmote})):null},i.getOtherSubEmoteGrid=function(e){return e.owner&&e.owner.displayName&&e.emotes.length>0?r.createElement(d.a,{key:"emote-grid--"+e.id+"-emotes",className:"emote-picker__content-block"},r.createElement(b,{context:B.a.OtherChannel,emotes:e.emotes,img:r.createElement(z.a,{src:e.owner.profileImageURL,size:30,alt:e.owner.displayName,userLogin:e.owner.login}),label:e.owner.displayName,onClickEmote:i.onClickEmote})):null},i.getUnlockedEmotesGrid=function(){return i.props.isLoggedIn&&0!==i.props.unlockedEmotes.length?r.createElement(d.a,{key:"emote-grid--unlocked-emotes",className:"emote-picker__content-block"},r.createElement(b,{context:B.a.Unlocked,emotes:i.props.unlockedEmotes,label:Object(a.d)("Unlocked","EmotePickerCard"),onClickEmote:i.onClickEmote})):null},i.getGlobalEmotesGrid=function(){return i.props.isLoggedIn&&0!==i.props.globalEmotes.length?r.createElement(d.a,{key:"emote-grid--global-emotes",className:"emote-picker__content-block"},r.createElement(b,{context:B.a.Global,emotes:i.props.globalEmotes,label:Object(a.d)("Global","EmotePickerCard"),onClickEmote:i.onClickEmote})):null},i.getUnlockedEmotes=function(){return i.props.allEmoteSets.find((function(e){return e.id===c.a}))},i.onTabNavClick=function(e){if(e.currentTarget.getAttribute("data-a-target")){var n=e.currentTarget.getAttribute("data-a-target");i.selectNavTab(n)}},i.selectNavTab=function(e){var n;i.setState({selectedNavTab:e});var t=i.getRefForTab(e);t&&(null===(n=i.scroll)||void 0===n?void 0:n.scrollContent)&&(i.scroll.scrollContent.scrollTop=t.offsetTop)},i.getRefForTab=function(e){switch(e){case J.FrequentlyUsedEmotes:if(i.frequentlyUsedEmotesRef)return i.frequentlyUsedEmotesRef;break;case J.ChannelEmotes:if(i.channelEmotesRef)return i.channelEmotesRef;break;case J.AllEmotes:if(i.allEmotesRef)return i.allEmotesRef}return null},i.onClickEmote=function(e,n){if(i.props.onClickToken&&!e.isLocked){i.props.onClickToken(e.displayName||e.token,e.id);var t={channel_id:i.props.channelID||void 0,chatroom_id:i.props.roomID,context:n,emote_picker_sid:i.props.emotePickerSessionID,emote_id:e.id,emoticon_set_id:e.setID,generated_by:i.props.emotePickerSource};a.o.track(s.SpadeEventType.EmotePickerClickthrough,t)}else e.isLocked&&(e.isBitsTierEmote?i.onClickBitsLockedEmote(e):i.props.areSubsDisabled||i.onClickLockedEmote(e))},i.collectDataScience=function(e){var n=B.b.EmotePicker;null!==i.state.bitsUpsellClickedEmote?n=B.b.EmotePickerBitsPreview:null!==i.state.subUpsellClickedEmote&&(n=B.b.EmotePickerSubscriptionPreview);var t={channel_id:i.props.channelID||null,emote_id:e.id,emote_picker_sid:i.props.emotePickerSessionID,emoticon_set_id:e.setID?e.setID:null,location:n,is_subscriber:!!i.props.subscriberTier&&i.props.subscriberTier>0,user_subscription_tier:i.props.subscriberTier?i.props.subscriberTier:null,bits_balance:i.props.bitsBalance};if(e.isBitsTierEmote){var r=e;t.bits_tier=r.bitsThreshold,t.additional_bits_needed=r.bitsLeftToUnlock}else{var a=i.props.channelSubscriptionProducts.find((function(n){if(n.emoteSetID&&n.emoteSetID===e.setID)return n}));a&&(t.emote_subscription_tier=Number(a.tier))}return t},i.saveScrollRef=function(e){return i.scroll=e},i.saveAllEmotesRef=function(e){return i.allEmotesRef=e},i.saveChannelEmotesRef=function(e){return i.channelEmotesRef=e},i.saveFrequentlyUsedEmotesRef=function(e){return i.frequentlyUsedEmotesRef=e},i.checkVisible=function(e,n){if(n){i.state.hasUserInteracted||i.setState({hasUserInteracted:!0});var t=i.state.selectedNavTab,r=i.allEmotesRef&&n.offset>=i.allEmotesRef.offsetTop;t=i.channelEmotesRef&&n.offset>=i.channelEmotesRef.offsetTop&&!r?J.ChannelEmotes:r?J.AllEmotes:J.FrequentlyUsedEmotes,i.state.selectedNavTab!==t&&i.setState({selectedNavTab:t})}},i.onClickLockedEmote=function(e){var n=i.collectDataScience(e);i.setState({subUpsellClickedEmote:e}),a.o.track(s.SpadeEventType.EmotePickerPreviewClick,n)},i.onClickBitsLockedEmote=function(e){var n=i.collectDataScience(e);i.setState({bitsUpsellClickedEmote:e}),a.o.track(s.SpadeEventType.EmotePickerPreviewClick,n)},i.onBackClick=function(){i.setState({subUpsellClickedEmote:null,bitsUpsellClickedEmote:null,selectedNavTab:J.FrequentlyUsedEmotes})},i.handleFilterChange=function(e){var n=e.target.value,t=n.toLowerCase();i.setState({filter:t,inputValue:n,filteredEmotes:i.filterEmoteSets(i.props.allEmoteSets,t),selectedNavTab:J.FrequentlyUsedEmotes})},i.filterEmoteSets=function(e,n){var t=[];e.forEach((function(e){e.emotes.filter((function(e){return!(!e.displayName||!e.displayName.toLowerCase().includes(n))||e.token.toLowerCase().includes(n)})).forEach((function(n){n.setID=e.id,t.push(n)}))}));var i=Object(L.f)(),r=0===Object.keys(i).length?void 0:i,a=Object(W.f)(t,n,r);return Object(W.e)(a)},i.onDismissSubBenefitCallout=function(){a.o.track(s.SpadeEventType.EmotePickerNotificationInteraction,{user_id:i.props.currentUserID,channel_id:i.props.channelID,action:"dismiss"}),i.props.dismissSubBenefitCallout&&i.props.dismissSubBenefitCallout()},i.state={filter:"",filteredEmotes:[],hasUserInteracted:!1,inputValue:"",selectedNavTab:J.FrequentlyUsedEmotes,subUpsellClickedEmote:null,bitsUpsellClickedEmote:null,visibleGrids:(t={},t[Z.FrequentlyUsed]=!0,t)},i}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){if(this.props.emotePickerSessionID&&this.props.channelID){var e={channel_id:this.props.channelID,emote_picker_sid:this.props.emotePickerSessionID,generated_by:this.props.emotePickerSource,chatroom_id:this.props.roomID};a.o.track(s.SpadeEventType.ViewedEmotePicker,e)}this.props.shouldShowSubBenefitCallout&&this.selectNavTab(J.ChannelEmotes)},n.prototype.componentDidUpdate=function(e){var n;if(this.props.channelID&&this.props.emotePickerSessionID&&!e.emotePickerSessionID){var t={channel_id:this.props.channelID,emote_picker_sid:this.props.emotePickerSessionID,generated_by:this.props.emotePickerSource,chatroom_id:this.props.roomID};a.o.track(s.SpadeEventType.ViewedEmotePicker,t)}var i=this.getRefForTab(this.state.selectedNavTab);(null===(n=this.scroll)||void 0===n?void 0:n.scrollContent)&&!this.state.hasUserInteracted&&i&&(this.scroll.scrollContent.scrollTop=i.offsetTop),!e.visible&&this.props.visible&&this.setState({inputValue:"",filter:"",subUpsellClickedEmote:null,bitsUpsellClickedEmote:null})},n.prototype.render=function(){return r.createElement(Q.a,{"data-a-target":"emote-picker",direction:this.props.direction?this.props.direction:Q.b.TopRight,size:this.props.size?this.props.size:Q.c.Medium,noTail:!0,show:this.props.visible,offsetX:this.props.offsetX},r.createElement(d.a,{className:"emote-picker"},this.renderView()))},n.prototype.renderView=function(){var e=null;null===this.state.subUpsellClickedEmote&&null===this.state.bitsUpsellClickedEmote&&(e=r.createElement(r.Fragment,null,this.renderTopContent(),this.renderTabContent()));var n=null;null!==this.props.channelDisplayName&&null!==this.props.channelID&&null!==this.state.subUpsellClickedEmote&&(n=r.createElement(x,{channelDisplayName:this.props.channelDisplayName,channelSubEmotes:this.props.channelSubEmotes,channelID:this.props.channelID,channelSubscriptionProducts:this.props.channelSubscriptionProducts,handleSubAction:this.props.handleSubAction,onBackClick:this.onBackClick,onClickEmote:this.onClickLockedEmote,subUpsellClickedEmote:this.state.subUpsellClickedEmote}));var t=null;if(null!==this.props.channelDisplayName&&null!==this.state.bitsUpsellClickedEmote){var i=this.state.bitsUpsellClickedEmote;t=r.createElement(v,{bitsBalance:this.props.bitsBalance,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,clickedEmote:i,bitsBadgeTier:i.bitsThreshold,numBitsToUnlock:i.bitsLeftToUnlock,onBackClick:this.onBackClick,onClickToken:this.props.onClickToken})}return r.createElement(r.Fragment,null,t,n,e)},n.prototype.renderTopContent=function(){return r.createElement(d.a,{padding:{top:3,x:2}},r.createElement(d.a,{position:u.n.Absolute,padding:{top:.5,right:.5},attachRight:!0,attachTop:!0},r.createElement(K.a,{ariaLabel:Object(a.d)("Close emote picker","EmotePickerClose"),blurAfterClick:!0,"data-test-selector":"emote-picker-close",icon:p.a.Close,onClick:this.props.onClickClose,size:K.b.Small,type:K.c.Secondary})),r.createElement(Y.a,{autoFocus:!0,onChange:this.handleFilterChange,placeholder:Object(a.d)("Search for Emotes","EmotePickerCard"),value:this.state.inputValue}))},n.prototype.renderTabContent=function(){return this.props.gqlError?r.createElement(d.a,null,r.createElement(h.a,{"data-test-selector":"emote-picker-menu-error-text",color:u.f.Error},Object(a.d)("Unable to load available emotes.","EmotePickerCard"))):this.props.loading?r.createElement(d.a,{alignItems:u.b.Center,display:u.g.Flex,fullHeight:!0,fullWidth:!0,justifyContent:u.l.Center,padding:1},r.createElement(X.a,null)):""!==this.state.filter?this.renderSearchContent():r.createElement(r.Fragment,null,r.createElement(o.b,{scrollRef:this.saveScrollRef,className:"emote-picker__tab-content",contentClassName:"emote-picker__scroll-container"},r.createElement(d.a,{padding:{bottom:5}},r.createElement(E,{checkVisible:this.checkVisible},this.getFrequentlyUsedEmoteGrid(),this.renderTriggerAndGridForChannelUnlockedEmotes(),this.renderTriggerAndGridForChannelEmotes(),this.renderTriggerAndGridForSubsEmotes(),this.renderTriggerAndGridForUnlockedEmotes(),this.renderTriggerAndGridForGlobalEmotes()))),this.renderTabNav())},n.prototype.renderTriggerAndGridForEmoteSet=function(e,n,t){var i,a,s=this;if(this.isEmoteGridVisible(e))return t();var c=function(){s.showEmoteGrid(e)},d=6,u=38,l=38,m=document.getElementsByClassName(g.a)[0];m&&(u=m.clientHeight,l=m.clientWidth),(null===(a=null===(i=this.scroll)||void 0===i?void 0:i.root)||void 0===a?void 0:a.offsetWidth)&&(d=this.scroll.root.offsetWidth/u);var p=l*Math.max(n/d,1);return r.createElement(r.Fragment,{key:e},r.createElement(o.c,{pixelThreshold:20,visible:c}),r.createElement($.a,{height:p,lineCount:1}),r.createElement(o.c,{pixelThreshold:20,visible:c}))},n.prototype.showEmoteGrid=function(e){this.setState((function(n){var t;return{visibleGrids:Object(i.__assign)(Object(i.__assign)({},n.visibleGrids),(t={},t[e]=!0,t))}}))},n.prototype.isEmoteGridVisible=function(e){return this.state.visibleGrids[e]},n.prototype.renderSearchContent=function(){var e=Object(a.d)('No Search Results for "{inputValue}"',{inputValue:this.state.inputValue},"EmotePickerCard");return this.state.filteredEmotes.length>0&&(e=Object(a.d)('Search Results for "{inputValue}"',{inputValue:this.state.inputValue},"EmotePickerCard")),r.createElement(o.b,{className:"emote-picker__tab-content"},r.createElement(d.a,{position:u.n.Relative,padding:{x:1,top:1,bottom:3},className:"emote-picker__content-block"},r.createElement(l.a,{padding:{x:1}},r.createElement(h.a,{bold:!0,ellipsis:!0},e)),r.createElement(k.a,{emotes:this.state.filteredEmotes,onClickEmote:this.onClickEmote,spaced:!0})))},n.prototype.renderTabNav=function(){var e=null;this.props.sortedChannelEmotes.length>0&&(e=r.createElement(N,{isActive:this.state.selectedNavTab===J.ChannelEmotes,label:J.ChannelEmotes,icon:p.a.NavChannels,onClick:this.onTabNavClick}));var n=null;return this.props.isLoggedIn&&(n=r.createElement(N,{isActive:this.state.selectedNavTab===J.AllEmotes,label:J.AllEmotes,icon:p.a.EmoticonsAll,onClick:this.onTabNavClick})),e||n?r.createElement(l.a,{display:u.g.Flex,background:u.d.Alt,borderRadius:{bottomLeft:u.e.Medium,bottomRight:u.e.Medium},fullWidth:!0},r.createElement(N,{isActive:this.state.selectedNavTab===J.FrequentlyUsedEmotes,label:J.FrequentlyUsedEmotes,icon:p.a.GlyphLength,onClick:this.onTabNavClick}),e,n):null},n}(r.PureComponent)},TvOw:function(e,n,t){"use strict";var i,r;t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return r})),function(e){e.Spam="spam",e.Harassment="harassment"}(i||(i={})),function(e){e.Spam="spam",e.Harassment="harassment",e.Other="other"}(r||(r={}))},Tznh:function(e,n,t){"use strict";var i,r,a=t("mrSG"),o=t("q1tI"),s=t("/MKj"),c=t("ANjH"),d=t("/7QA"),u=t("yR8l"),l=t("D7An"),m=t("kRBY"),p=t("1rIY"),f=t("+pBb"),h=t("CbHG");!function(e){e.Excluded="control",e.OptIn="opt-in",e.OptOut="opt-out"}(i||(i={})),function(e){e.FilteredMessage="chat_filter_message",e.Onboarding="onboarding",e.Other="other"}(r||(r={}));var v=Object(p.a)("ChatFilterContext",{chatFilterExperimentMembership:i.Excluded,chatFilterSettingsSource:r.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:function(){return null},showChatFilterSettings:function(){return null}}),g=v.context,k=v.withContext,b=function(e){function n(t){var a=e.call(this,t)||this;return a.hideChatFilterSettings=function(){a.setState({isShowingChatFilterSettings:!1})},a.showChatFilterSettings=function(e){a.setState({chatFilterSettingsSource:e||r.Other,isShowingChatFilterSettings:!0})},a.triggerPropCallbacks=function(){switch(n.getExperimentMembership(a.props)){case i.OptIn:void 0===a.props.viewerChatFilterEnabled&&a.props.disableViewerChatFilter(r.Other);break;case i.OptOut:void 0===a.props.viewerChatFilterEnabled&&a.props.enableViewerChatFilter(r.Other);break;case i.Excluded:}},a.state={chatFilterExperimentMembership:i.Excluded,chatFilterSettingsSource:r.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:a.hideChatFilterSettings,showChatFilterSettings:a.showChatFilterSettings},n.assignmentForNewUsers=d.p.experiments.getAndTrackAssignment(l.c.ChatFiltersNewUsers),n.assignmentForOldUsers=d.p.experiments.getAndTrackAssignment(l.c.ChatFiltersExistingUsers),a}return Object(a.__extends)(n,e),n.getDerivedStateFromProps=function(e){switch(n.getExperimentMembership(e)){case i.OptIn:return{chatFilterExperimentMembership:i.OptIn};case i.OptOut:return{chatFilterExperimentMembership:i.OptOut};case i.Excluded:default:return{chatFilterExperimentMembership:i.Excluded}}},n.getExperimentMembership=function(e){if("off"===d.b.get("chat_filter_enabled","off"))return i.Excluded;if(!e.isLoggedIn||"en"!==e.languageCode)return i.Excluded;if(e.data&&e.data.currentUser&&e.data.currentUser.createdAt){var t=d.b.get("chat_filter_start","3000-01-01"),r=new Date(e.data.currentUser.createdAt)>=new Date(t)?n.assignmentForNewUsers:n.assignmentForOldUsers;switch(r){case i.Excluded:case i.OptIn:case i.OptOut:return r;default:return i.Excluded}}return i.Excluded},n.prototype.componentDidMount=function(){this.triggerPropCallbacks()},n.prototype.componentDidUpdate=function(){this.triggerPropCallbacks()},n.prototype.render=function(){return o.createElement(g.Provider,{value:this.state},this.props.children)},n}(o.Component);var S=Object(c.d)(Object(s.b)((function(e){return{isLoggedIn:Object(m.f)(e),languageCode:Object(m.b)(e),viewerChatFilterEnabled:e.chat.viewerChatFilterEnabled}}),(function(e){return Object(c.b)({disableViewerChatFilter:f.F,enableViewerChatFilter:f.K},e)})),Object(u.a)(h,{skip:function(e){return!e.isLoggedIn||"en"!==e.languageCode}}))(b);t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return r})),t.d(n,"d",(function(){return k})),t.d(n,"a",(function(){return S}))},U1yz:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("2Dht");function r(e,n,t){try{var r=e.readQuery({query:i,variables:{id:n}},t);return r?r.whisperThread:null}catch(e){return null}}},UBni:function(e,n,t){},UOOj:function(e,n,t){},UUau:function(e,n,t){},V6CR:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var i=t("q1tI"),r=t("C9w8"),a=t("fPaz"),o=t("uG/k"),s=t("IbuL"),c=t("sUnt"),d=t("yymn"),u=t("hnjF"),l=(t("UOOj"),function(e){var n,t;return void 0!==(t=e).src&&void 0!==t.alt&&(n=i.createElement(c.a,{className:"tw-drop-down-menu-item-figure--image"},i.createElement(a.b,{ratio:e.aspectRatio||a.c.Aspect1x1},i.createElement(o.a,Object(r.a)(e))))),function(e){return void 0===e.src}(e)&&(n=i.createElement(c.a,{display:d.g.Flex,alignItems:d.b.Center},i.createElement(s.a,{asset:e.icon}))),i.createElement(u.a,{className:"tw-drop-down-menu-item-figure"},n)});l.displayName="DropDownMenuItemFigure",l.displayName="DropDownMenuItemFigure"},VFp6:function(e,n,t){},VN3V:function(e,n,t){},VSaV:function(e,n){},VYPy:function(e,n,t){"use strict";t.d(n,"c",(function(){return r})),t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return o})),t.d(n,"d",(function(){return s})),t.d(n,"e",(function(){return c}));var i=t("DMoW"),r=function(e){switch(e){case i.xc.BLACK_WHITE:return"Greyscale";case i.xc.HORIZONTAL_FLIP:return"Horizontal Flip";case i.xc.SUNGLASSES:return"Sunglasses";case i.xc.THINKING:return"Thinking";case i.xc.SQUISHED:return"Squished";default:return""}},a=function(e){switch(e){case i.xc.BLACK_WHITE:return"BW";case i.xc.HORIZONTAL_FLIP:return"HF";case i.xc.SUNGLASSES:return"SG";case i.xc.THINKING:return"TK";case i.xc.SQUISHED:return"SQ";default:return""}},o="subs_emote_modifiers";function s(e,n){return{id:e.id+"_"+n,token:e.token+"_"+n,setID:e.setID+"_"+n}}function c(e,n){var t,i=new RegExp(e.id,"g");return{id:e.id+"_"+n,token:e.token+"_"+n,setID:e.setID+"_"+n,displayName:e.displayName&&e.displayName+"_"+n,srcSet:null===(t=e.srcSet)||void 0===t?void 0:t.replace(i,e.id+"_"+n),isLocked:e.isLocked}}},"Vl9+":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"thread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WhisperThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLastMessageRead"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:243}};t.loc.source={body:"fragment thread on WhisperThread {\nmessages(first: 20) {\nedges {\ncursor\nnode {\nid\nnonce\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n}\n}\ndeletedAt\neditedAt\nsentAt\nfrom {\nid\n}\n}\n}\n}\nunreadMessagesCount\nuserLastMessageRead {\nid\nsentAt\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},VrOd:function(e,n,t){},W1jp:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return s})),t.d(n,"e",(function(){return c})),t.d(n,"a",(function(){return d})),t.d(n,"f",(function(){return u})),t.d(n,"g",(function(){return l})),t.d(n,"d",(function(){return m}));var i=t("/7QA"),r=t("DMoW"),a=t("XIEs");function o(e){return"CommunityPointsAutomaticReward"===e.__typename?e.backgroundColor||e.defaultBackgroundColor:e.backgroundColor}function s(e){return"CommunityPointsAutomaticReward"===e.__typename?e.cost||e.defaultCost:e.cost}function c(e){return e.image?{src:e.image.url,srcSet:Object(a.a)(e.image)}:{src:e.defaultImage.url,srcSet:Object(a.a)(e.defaultImage)}}function d(e){return e.image?{src:e.image.url2x,srcSet:{"1x":e.image.url2x,"2x":e.image.url4x}}:{src:e.defaultImage.url2x,srcSet:{"1x":e.defaultImage.url2x,"2x":e.defaultImage.url4x}}}function u(e){if("CommunityPointsCustomReward"===e.__typename)return e.title;switch(e.type){case r.X.SEND_HIGHLIGHTED_MESSAGE:return Object(i.d)("Highlight My Message","CommunityPointsRewards");case r.X.SINGLE_MESSAGE_BYPASS_SUB_MODE:return Object(i.d)("Send a Message in Sub-Only Mode","CommunityPointsRewards");case r.X.CHOSEN_SUB_EMOTE_UNLOCK:return Object(i.d)("Choose an Emote to Unlock","CommunityPointsRewards");case r.X.RANDOM_SUB_EMOTE_UNLOCK:return Object(i.d)("Unlock a Random Sub Emote","CommunityPointsRewards");case r.X.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return Object(i.d)("Modify a Single Emote","CommunityPointsRewards");default:return Object(i.d)("Reward","CommunityPointsRewards")}}function l(e){if("CommunityPointsCustomReward"===e.__typename)return!1;switch(e.type){case r.X.RANDOM_SUB_EMOTE_UNLOCK:case r.X.CHOSEN_SUB_EMOTE_UNLOCK:case r.X.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return!0;default:return!1}}function m(e){if("CommunityPointsCustomReward"===e.__typename)return e.prompt;switch(e.type){case r.X.SEND_HIGHLIGHTED_MESSAGE:return Object(i.d)("Write something special below and give it some glitz in chat!","CommunityPointsRewards");case r.X.SINGLE_MESSAGE_BYPASS_SUB_MODE:return Object(i.d)("Type your message below and sneakily bypass chat restrictions.","CommunityPointsRewards");case r.X.CHOSEN_SUB_EMOTE_UNLOCK:return Object(i.d)("Select an emote to unlock for 24 hours:","CommunityPointsRewards");case r.X.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return Object(i.d)("Select an emote to modify & unlock for 24 hours:","CommunityPointsRewards");case r.X.RANDOM_SUB_EMOTE_UNLOCK:return Object(i.d)("Click below to unlock one random emote to chat with for 24 hours!","CommunityPointsRewards");default:return Object(i.d)("Unlock this reward.","CommunityPointsRewards")}}},WQCf:function(e,n,t){"use strict";t.d(n,"g",(function(){return f})),t.d(n,"f",(function(){return h})),t.d(n,"a",(function(){return v})),t.d(n,"e",(function(){return i})),t.d(n,"i",(function(){return r})),t.d(n,"b",(function(){return s})),t.d(n,"c",(function(){return c})),t.d(n,"d",(function(){return d})),t.d(n,"h",(function(){return u}));var i,r,a,o,s,c,d,u,l,m,p,f={Ads:"ads",AdPropertyRefresh:"ad-property-refresh",BitsLeaderboardEvents:"leaderboard-events-v1",BitsCampaignEvents:"bits-campaigns-v1",CampaignGlobalEvents:"campaign-events",CampaignUserEvents:"user-campaign-events",Celebration:"celebration-events-v1",ChannelBitsEvents:"channel-bits-events-v1",ChannelBitsPinEvents:"channel-bit-events-public",ChannelEventUpdates:"channel-event-updates",ChannelSquadInvites:"channel-squad-invites",ChannelSquadUpdates:"channel-squad-updates",ChannelSubscribeEvents:"channel-subscribe-events-v1",CheerbombEventsTopic:"channel-cheer-events-public-v1",BroadcastSettingsUpdate:"broadcast-settings-update",ChannelDropEvents:"channel-drop-events",BountyBoardChatCTA:"channel-bounty-board-events.cta",ChatRoomsUser:"chatrooms-user-v1",CommunityPointsBroadcaster:"community-points-broadcaster-v1",CommunityPointsChannel:"community-points-channel-v1",CommunityPointsUser:"community-points-user-v1",DashboardActivityFeed:"dashboard-activity-feed",DashboardAlertQueueStatus:"dashboard-alert-status",DashboardMultiplayerAdsEvent:"dashboard-multiplayer-ads-events",ExtensionAssets:"extension-control.upload",Follows:"follows",Friendship:"friendship",HypeTrain:"hype-train-events-v1",ImageUpload:"user-image-update",ModerationActionsByUserAndChannel:"chat_moderator_actions",MultiviewChanletUpdate:"multiview-chanlet-update",MysteryGift:"channel-sub-gifts-v1",OnsiteNotifications:"onsite-notifications",PayoutOnboardingEvents:"payout-onboarding-events",PollEvents:"polls",Presence:"presence",PrimeGiftingStatus:"channel-prime-gifting-status",PrimeVideoWatchPartyEvents:"pv-watch-party-events",PurchaseFulfillmentEvents:"purchase-fulfillment-events",Raid:"raid",SquadUpdates:"squad-updates",StreamChange:"stream-change-v1",StreamChangeByChannel:"stream-change-by-channel",StreamChatRoom:"stream-chat-room-v1",SubscribersCSV:"subscribers-csv-v1",UploadService:"upload",UserBitsUpdates:"user-bits-updates-v1",UserCommerceEvents:"user-commerce-events",UserCrateEvents:"user-crate-events-v1",UserPreferencesUpdates:"user-preferences-update-v1",UserPropertiesUpdates:"user-properties-update",UserSubscribeEvents:"user-subscribe-events-v1",VideoPlayback:"video-playback",VideoPlaybackById:"video-playback-by-id",VideoThumbnailProcessing:"video-thumbnail-processing",Whispers:"whispers"},h={AdsMidrollRequest:"midroll_request",AdsMadOffersRefresh:"offers-refresh",BitsBadgeTierEmoteCreate:"bits-badge-tier-emote-create",BitsChannelSettingsEvent:"channel_settings_update",BitsCampaignAddCheermoteEvent:"sponsored-cheermote-add",BitsCampaignRemoveCheermoteEvent:"sponsored-cheermote-remove",BitsCampaignTotalUpdate:"sponsored-cheermote-update-used",BitsCampaignComplete:"sponsored-cheermote-campaign-complete",BitsPinEvent:"bits-pin-event",BitsLeaderboardEvent:"bits-leaderboard-event",BountyBoardChatCTAShow:"bounty_board_show_chat_cta",ChannelStreamDown:"stream-down",ChannelStreamUp:"stream-up",BroadcastSettingsUpdate:"broadcast_settings_update",CelebrationInitiated:"celebration-initiated",ChatNotification:"chat-notification",ChatRoomsUserModAction:"user_moderation_action",CheerbombEvent:"cheerbomb",Commercial:"commercial",CommunityPointsAutomaticRewardUpdated:"automatic-reward-updated",CommunityPointsClaimAvailable:"claim-available",CommunityPointsClaimUsed:"claim-claimed",CommunityPointsCustomRewardCreated:"custom-reward-created",CommunityPointsCustomRewardDeleted:"custom-reward-deleted",CommunityPointsCustomRewardUpdated:"custom-reward-updated",CommunityPointsEarned:"points-earned",CommunityPointsMultipliersUpdated:"active-multipliers-updated",CommunityPointsRedeemed:"reward-redeemed",CommunityPointsRedemptionUpdated:"redemption-status-update",CommunityPointsRedemptionUpdateFinished:"update-redemption-statuses-finished",CommunityPointsRedemptionUpdateProgress:"update-redemption-statuses-progress",CommunityPointsSettings:"channel-settings-update",CommunityPointsSpent:"points-spent",DashboardAlertStatus:"dashboard-alert-status",ExtensionUpload:"extension-control-upload",HypeTrainCooldownExpiration:"hype-train-cooldown-expiration",HypeTrainConductorUpdate:"hype-train-conductor-update",HypeTrainEnd:"hype-train-end",HypeTrainLevelUp:"hype-train-level-up",HypeTrainProgression:"hype-train-progression",HypeTrainRewards:"hype-train-rewards",HypeTrainStart:"hype-train-start",ImageUploadSuccess:"imageuploadsuccess",ManagedSquad:"managed-squad",ModerationAction:"moderation_action",ModeratorAdded:"moderator_added",ModeratorRemoved:"moderator_removed",MultiviewChanletUpdate:"chanlet",MysteryGiftPurchase:"mystery-gift-purchase",OnsiteNotificationCreate:"create-notification",OnsiteNotificationDelete:"delete-notification",OnsiteNotificationsRead:"read-notifications",OnsiteNotificationSummaryUpdate:"update-summary",OnsiteNotificationUpdate:"update-notification",DropEvent:"drop-event",PayoutOnboardingEvent:"payout-onboarding-event",PixelTrackingUpdate:"pixel_tracking_update",PollCreatedEvent:"POLL_CREATE",PollUpdateEvent:"POLL_UPDATE",PollCompletedEvent:"POLL_COMPLETE",PollTerminatedEvent:"POLL_TERMINATE",PollArchivedEvent:"POLL_ARCHIVE",PollModeratedEvent:"POLL_MODERATE",Presence:"presence",PresenceSettings:"settings",PrimeGifting:"prime-gifting",PrimeVideoWatchPartyEventsViewCount:"pv-watch-party-events-view-count",PrimeVideoWatchPartyStateUpdate:"pv-watch-party-events-state-change",PurchaseFulfillmentEvents:"purchase_fulfillment_events",PurgeMessageRequest:"purge_messages_request",RaidCancel:"raid_cancel",RaidUpdate:"raid_update",RaidCancelV2:"raid_cancel_v2",RaidUpdateV2:"raid_update_v2",RaidGoV2:"raid_go_v2",ReceivedSquadInvites:"received-squad-invites",Squad:"squad",StreamChatRoomChatRichEmbed:"chat_rich_embed",StreamChatRoomHostTargetChange:"host_target_change",StreamChatRoomHostTargetChangeV2:"host_target_change_v2",StreamChatRoomExtensionMessage:"extension_message",StreamChatRoomUpdate:"updated_room",StreamDown:"stream_down",StreamUp:"stream_up",StreamChangeMetadata:"metadata_change",SubscribersCSVComplete:"subscribers_csv_complete_v1",SubscribersCSVInProgress:"subscribers_csv_in_progress_v1",UpdatedChannelChatProperty:"updated_channel_chat_property",UploadService:"upload",UserBitsBalanceUpdate:"balance_update",UserBitsBadgeNotification:"badge_update_notification",UserBitsBadgeUpdate:"badge_update",UserBitsFirstPurchase:"first_bits_purchase",UserBitsGemNotification:"gem_notification_update",UserCampaignProgressEvent:"progress",UserCampaignMegaCheerRewardEvent:"mega_cheer_reward",UserCampaignRewardEvent:"reward",UserCrateEvent:"crate-event",UserFollowedEvent:"user-followed",UserGiftEvent:"gift-event",UserPreferencesReadableChatColors:"chat-ui-settings:accessibility:readable-chat-colors-enabled",UserPropertiesUpdate:"user_properties_update",UserUnfollowedEvent:"user-unfollowed",VideoThumbnailProcessingComplete:"processing_complete",VideoThumbnailProcessingError:"processing_error",ViewCount:"viewcount",Vodcast:"watchparty-vod",WhisperAllThreadsUpdate:"threads",WhisperDeleted:"whisper_deleted",WhisperEdited:"whisper_edited",WhisperReceived:"whisper_received",WhisperSent:"whisper_sent",WhisperThreadUpdate:"thread"},v={Accepted:"accepted",Requested:"requested",Removed:"removed",SelfAccepted:"self_accepted",SelfRemoved:"self_removed",SelfRequested:"self_requested"};!function(e){e.AddBlockedTerm="add_blocked_term",e.AddPermittedTerm="add_permitted_term",e.AutoModEnabled="automod_enabled",e.AutoModRejected="automod_rejected",e.DeniedAutoModMessage="denied_automod_message",e.ApprovedAutoModMessage="approved_automod_message",e.AutoModCheerRejected="automod_cheer_rejected",e.Ban="ban",e.Clear="clear",e.Delete="delete",e.DeleteBlockedTerm="delete_blocked_term",e.DeletePermittedTerm="delete_permitted_term",e.EmoteOnly="emoteonly",e.EmoteOnlyOff="emoteonlyoff",e.FollowersOnly="followers",e.FollowersOnlyOff="followersoff",e.Host="host",e.Mod="mod",e.ModifiedAutoModProperties="modified_automod_properties",e.R9kBeta="r9kbeta",e.R9kBetaOff="r9kbetaoff",e.Raid="raid",e.Slow="slow",e.SlowOff="slowoff",e.SubsBeta="subsbeta",e.SubscribersOnly="subscribers",e.SubscribersOnlyOff="subscribersoff",e.Timeout="timeout",e.Unban="unban",e.Unhost="unhost",e.Unmod="unmod",e.Unraid="unraid",e.Untimeout="untimeout"}(i||(i={})),function(e){e.AutoModMessageRejected="automod_message_rejected",e.AutoModMessageApproved="automod_message_approved",e.AutoModMessageDenied="automod_message_denied",e.AutoModCheerDenied="automod_cheer_message_denied",e.AutoModCheerTimeout="automod_cheer_message_timeout",e.DeleteNotification="delete_notification"}(r||(r={})),function(e){e.Archive="archive",e.Highlight="highlight",e.Upload="upload",e.Premiere="premiere",e.Rerun="rerun",e.WatchPartyPremiere="watch_party_premiere",e.WatchPartyRerun="watch_party_rerun"}(a||(a={})),function(e){e.Private="private",e.Public="public"}(o||(o={})),function(e){e.InNetwork="IN_NETWORK",e.OutOfNetwork="OUT_OF_NETWORK"}(s||(s={})),function(e){e.RecipientCannotAccessSquadStream="RECIPIENT_CANNOT_ACCESS_SQUAD_STREAM",e.RecipientCannotBeInvited="RECIPIENT_CANNOT_BE_INVITED",e.RecipientRejected="RECIPIENT_REJECTED"}(c||(c={})),function(e){e.Accepted="ACCEPTED",e.Deleted="DELETED",e.Pending="PENDING",e.Rejected="REJECTED",e.Unknown="UNKNOWN"}(d||(d={})),function(e){e.Pending="PENDING",e.Live="LIVE",e.Ended="ENDED"}(u||(u={})),function(e){e.Success="fulfilled",e.Failure="failed"}(l||(l={})),function(e){e.Subs="subs"}(m||(m={})),function(e){e.ACTIVE="ACTIVE",e.TERMINATED="TERMINATED",e.COMPLETED="COMPLETED",e.ARCHIVED="ARCHIVED",e.MODERATED="MODERATED"}(p||(p={}))},WSPL:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r}));var i="whisperNotifications.WHISPER_THREAD_NOTIFIED";function r(e,n,t){return{type:i,threadID:e,afterMessageID:t,content:n}}},WTcl:function(e,n,t){},Wcon:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Whispers_MarkThreadMessageRead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateWhisperThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateWhisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:151}};t.loc.source={body:"mutation Whispers_MarkThreadMessageRead($input: UpdateWhisperThreadInput!) {\nupdateWhisperThread(input: $input) {\nthread {\nid\nunreadMessagesCount\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Whispers_MarkThreadMessageRead=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Whispers_MarkThreadMessageRead")},"Wd+u":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProductOfferFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Offer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"previewPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDisplay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:259}};t.loc.source={body:"fragment subProductOfferFragment on Offer {\nid\neligibility {\nisEligible\n}\nlisting {\nchargeModel {\ninternal {\npreviewPrice {\nid\ncurrency\nexponent\nprice\ntotal\ndiscount {\nprice\ntotal\n}\n}\n}\n}\n}\npromotion {\nid\nname\npromoDisplay {\ndiscountPercent\ndiscountType\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},WvXh:function(e,n,t){},XBQy:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pointCustomizationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:206}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment pointCustomizationFragment on User {\nchannel {\nid\ncommunityPointsSettings {\nname\nimage {\n...pointsImageFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("r+cx").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)}))),e.exports=i},XIEs:function(e,n,t){"use strict";function i(e){return{"1x":e.url,"2x":e.url2x,"4x":e.url4x}}t.d(n,"a",(function(){return i}))},XQnt:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmotePicker_SubUpsell_PriceInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOffers"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emotePickerSubUpsellPriceInfoSubscriptionProduct"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"emotePickerSubUpsellPriceInfoSubscriptionProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emotePickerUserSubscriptionProduct"},directives:[]},{kind:"Field",name:{kind:"Name",value:"priceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductPriceInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOffers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}}]}}],loc:{start:0,end:692}};i.loc.source={body:'#import "twilight/features/emote-picker/components/emote-picker-menu/user-subscription-product-fragment.gql"\n#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-price-info.gql"\nquery EmotePicker_SubUpsell_PriceInfo($channelID: ID! $withOffers: Boolean = false) {\nuser(id: $channelID) {\nid\nsubscriptionProducts {\n...emotePickerSubUpsellPriceInfoSubscriptionProduct\n}\n}\n}\nfragment emotePickerSubUpsellPriceInfoSubscriptionProduct on SubscriptionProduct {\n...emotePickerUserSubscriptionProduct\npriceInfo {\n...subscriptionProductPriceInfo\n}\noffers @include(if: $withOffers) {\n...subProductOfferFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)}))}i.definitions=i.definitions.concat(a(t("ZhU4").definitions)),i.definitions=i.definitions.concat(a(t("Wd+u").definitions)),i.definitions=i.definitions.concat(a(t("35qb").definitions));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.EmotePicker_SubUpsell_PriceInfo=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,r=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"EmotePicker_SubUpsell_PriceInfo")},XRPh:function(e,n,t){"use strict";var i=t("/MKj"),r=t("ANjH"),a=t("kRBY"),o=t("fezU"),s=t("mrSG"),c=t("q1tI"),d=t("/7QA"),u=t("D7An"),l=t("j0ar"),m="emote_card",p="emote_card_whitelist";var f=t("oK83"),h=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.emoteClickHandler=function(e){n.props.emote.emoteID&&n.props.onEmoteClick({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin||"",emoteID:n.props.emote.emoteID,emoteCode:n.props.emote.alt||"",sourceID:n.props.sourceID||"",emoteSourceType:n.props.sourceType?n.props.sourceType:f.a.unknown,referrerID:n.props.referrerID||"",initialTopOffset:e.currentTarget.getBoundingClientRect().bottom})},n}return Object(s.__extends)(n,e),n.prototype.render=function(){var e,n,t=this.props.emote.alt||"";return this.props.emote.cheerAmount&&(t+=" "+this.props.emote.cheerAmount.toString(),e=c.createElement("strong",{className:"chat-line__message--cheer-amount",style:{color:this.props.emote.cheerColor}},this.props.emote.cheerAmount)),n=c.createElement(l.a,{alt:t,cheerText:e,className:"chat-line__message--emote",srcKey:"1x",srcSet:this.props.emote.images}),this.props.emote.cheerAmount||this.props.disableCard||!function(e){var n=d.b.get(m,"off");if("on"===n)return!0;if("staff"===n&&e&&e.roles&&e.roles.isStaff)return!0;var t=d.b.get(p,[]);return!!("whitelist"===n&&e&&e.id&&t.includes(e.id))}(this.props.user)||"treatment"!==d.p.experiments.getAndTrackAssignment(u.c.EmoteCard)?n:c.createElement("div",{onClick:this.emoteClickHandler,className:"chat-line__message--emote-button","data-test-selector":"emote-button"},n)},n}(c.Component);var v=Object(r.d)(Object(i.b)((function(e){return{user:Object(a.e)(e)}})),Object(o.b)((function(e){return{onEmoteClick:e.onShowEmoteCard}})))(h);v.displayName="Emote",t.d(n,"a",(function(){return v}))},Xcb2:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FriendButton_CancelFriendRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CancelFriendRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cancelFriendRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"friendButtonFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:232}};i.loc.source={body:'#import "twilight/features/friend-button/queries/friend-button-fragment.gql"\nmutation FriendButton_CancelFriendRequest($input: CancelFriendRequestInput!) {\ncancelFriendRequest(input: $input) {\nuser {\nid\n...friendButtonFragment\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("g7ZD").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)})));var a={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.FriendButton_CancelFriendRequest=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"FriendButton_CancelFriendRequest")},XmgI:function(e,n,t){"use strict";t.d(n,"g",(function(){return d})),t.d(n,"f",(function(){return u})),t.d(n,"b",(function(){return l})),t.d(n,"c",(function(){return m})),t.d(n,"d",(function(){return p})),t.d(n,"e",(function(){return f}));var i=t("wUQP"),r=t("DMoW"),a=t("5zXJ"),o=t("RcPG"),s=t("4h+t");t.d(n,"a",(function(){return s.a}));var c=/^((?:[A-Za-z0-9]+)(?:[A-Za-z]))([\d]+)$/;function d(e,n,t){void 0===t&&(t=!0);var i=[],r=e.split(/\s+/);return r.forEach((function(e,a){var s=u(e,n,t);if(s)i.push(s);else{var c=i.length&&i[i.length-1],d="";if(a<r.length-1&&(d=" "),c&&c.type===o.a.Text)c.content+=e+d;else{var l="";a&&(l=" "),i.push({type:o.a.Text,content:l+e+d})}}})),i}function u(e,n,t){void 0===t&&(t=!0);var i=e.match(c);if(!i)return null;var a=i[1].toLowerCase(),s=Number(i[2]),d=n.indexedActions[a];if(d&&(d.type!==r.P.DISPLAY_ONLY||t)){var u=d.orderedTiers.find((function(e){return e.bits<=s}));!u&&s&&(u=d.orderedTiers[0]);var l=n.tiers.find((function(e){return e.bits===(null==u?void 0:u.bits)}));if(u)return{type:o.a.Emote,content:{images:p(d,u.bits),alt:d.prefix,cheerAmount:s,cheerColor:null==l?void 0:l.color}}}return null}function l(e,n){var t,i,r=(t=n,i=new Map,t.orderedActions.forEach((function(e){e.campaign&&i.set(e.prefix,e.campaign)})),i),o=new Map;e.forEach((function(e,n){if(e.alt&&r.has(e.alt))if(o.has(e.alt)){(t=o.get(e.alt))&&(t.total+=e.cheerAmount||0,t.lastAppearance=n)}else{var t={total:e.cheerAmount||0,lastAppearance:n,campaign:r.get(e.alt)};o.set(e.alt,t)}}));var s=1;return o.forEach((function(t){var i=0;t.campaign.thresholds.forEach((function(e){t.total>=e.minimumBits&&(i=e.matchedPercent)}));var r=Math.trunc(t.total*i);if(r>0){var o=u(a.r+r,n,!0);o&&e.splice(t.lastAppearance+s++,0,o.content)}})),e}function m(e,n){return d(e,n,!0).reduce((function(e,n){return n.type===o.a.Emote&&e.push(n.content),e}),[]).some((function(e){var t=n.orderedActions.find((function(n){return!!e.alt&&e.alt===n.prefix}));return!!t&&t.type===r.P.DISPLAY_ONLY}))}function p(e,n,t,i){var r,a;void 0===i&&(i=!0);var o=i?"animated":"static";return t?{themed:!0,dark:(r={},r[t+"x"]=e.getImage("dark",o,n,t),r),light:(a={},a[t+"x"]=e.getImage("light",o,n,t),a)}:{themed:!0,dark:{"1x":e.getImage("dark",o,n,1),"1.5x":e.getImage("dark",o,n,1.5),"2x":e.getImage("dark",o,n,2),"3x":e.getImage("dark",o,n,3),"4x":e.getImage("dark",o,n,4)},light:{"1x":e.getImage("light",o,n,1),"1.5x":e.getImage("light",o,n,1.5),"2x":e.getImage("light",o,n,2),"3x":e.getImage("light",o,n,3),"4x":e.getImage("light",o,n,4)}}}function f(e){return!!Object(i.c)(a.a)&&e.toLowerCase()===a.b.toLowerCase()}},YV90:function(e,n,t){"use strict";var i=t("ZaoE");t.d(n,"a",(function(){return i.b}))},YVOQ:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("f00E"),o=t("4rCz"),s=t("1rIY"),c=t("8EUQ"),d=t("KriR"),u=t("br9A"),l={channel:{login:"",id:"",displayName:null},handleSubMenuAction:function(){},modalSessionId:"",subBadges:[],gifterBadges:[],canGiftInChannel:!0,channelId:null,giftingAnonymously:!1,hasPrime:!1,hidesGiftCount:!1,isNonStandardSub:!1,onAnonymousGiftingSelect:function(){return null},primeSubRenewalDate:null,sessionUser:void 0,subscriptionProducts:[],subscriptionBenefit:null,subscriptionGiftCount:0,tenure:null,streakTenure:null},m=Object(s.a)("SubModalContext",l),p=m.context,f=m.withContext,h=function(e){function n(t){var i=e.call(this,t)||this;return i.state=l,i.onAnonymousGiftingSelect=function(e){i.setState({giftingAnonymously:e.target.checked}),i.handleSubMenuAction({action:u.a.ClickAnonymousGiftCheckbox})},i.handleSubMenuAction=function(e){var n,t;new Set([u.a.ClickCheckout,u.a.BuyGiftSub,u.a.BuyMysteryGift,u.a.BuyCustomMysteryGift,u.a.BuyGiftToPaidUpgrade,u.a.BuyPaidUpgrade,u.a.BuyContinueSub,u.a.BuyPrimeToPaid,u.a.BuyQuickSub]).has(e.action)&&i.checkAndDisplaySubscriptionCheckout(e.wasShownMoreBundles,e.chargeInterval,e.offerID);var r=!!i.props.subscriptionBenefit;Object(u.c)({action:e.action||"",buttonCTA:e.buttonCTA||i.props.subButtonCTA,channelLogin:i.props.channel.login,channelID:i.props.channel.id,checkoutButtonTier:e.checkoutButtonTier,chargeInterval:e.chargeInterval,cumulativeTenureMonths:i.state.tenure?i.state.tenure.months:null,hasSubCredit:i.props.canPrimeSubscribe,hostChannelID:null===(n=i.props.hostChannel)||void 0===n?void 0:n.id,hostChannelLogin:null===(t=i.props.hostChannel)||void 0===t?void 0:t.login,isAnonymous:e.isAnonymous,isMenuOpen:e.action!==u.a.OpenSubMenu,isSingleMonth:e.isSingleMonth,mysteryGiftCount:e.mysteryGiftCount,sub_location:i.props.subLocation,modal:!r,modalLevel:r?"":"top_page",modalSessionId:i.state.modalSessionId,showPrimeContent:i.props.inPrimeRegion,giftRecipient:e.giftRecipient||null})},i.state={channel:{id:i.props.channel.id,login:i.props.channel.login,displayName:i.props.channel.displayName},countryCode:i.props.countryCode,subBadges:n.filterBadges(i.props.subBadges||[],i.props.globalBadges||[]),gifterBadges:n.filterGifterBadges(i.props.globalBadges||[]),subscriptionProducts:n.filterProducts(i.props.subscriptionProducts||[]),canGiftInChannel:n.canSendGift(i.props.subscriptionProducts||[]),channelId:i.props.channel.id,giftingAnonymously:!1,hasPrime:i.props.hasPrime,hidesGiftCount:i.props.hidesGiftCount,isNonStandardSub:n.isNonStandardSub(i.props.subscriptionProducts||[]),primeSubRenewalDate:i.props.primeSubRenewalDate,onAnonymousGiftingSelect:i.onAnonymousGiftingSelect,sessionUser:i.props.sessionUser,subscriptionGiftCount:i.props.subscriptionGiftCount,subscriptionBenefit:i.props.subscriptionBenefit,tenure:i.props.tenure,handleSubMenuAction:i.handleSubMenuAction,modalSessionId:i.props.modalSessionId||Object(a.c)(),streakTenure:i.props.streakTenure},i}return Object(i.__extends)(n,e),n.getDerivedStateFromProps=function(e,t){var i=t.modalSessionId;return i!==e.modalSessionId&&(i=e.modalSessionId?e.modalSessionId:Object(a.c)()),{channel:{id:e.channel.id,login:e.channel.login,displayName:e.channel.displayName},countryCode:e.countryCode,subBadges:n.filterBadges(e.subBadges||[],e.globalBadges||[]),gifterBadges:n.filterGifterBadges(e.globalBadges||[]),subscriptionProducts:n.filterProducts(e.subscriptionProducts||[]),canGiftInChannel:n.canSendGift(e.subscriptionProducts||[]),channelId:e.channel.id,isNonStandardSub:n.isNonStandardSub(e.subscriptionProducts||[]),hasPrime:e.hasPrime,modalSessionId:i,primeSubRenewalDate:e.primeSubRenewalDate,sessionUser:e.sessionUser,subscriptionGiftCount:e.subscriptionGiftCount||0,subscriptionBenefit:e.subscriptionBenefit,tenure:e.tenure,streakTenure:e.streakTenure}},n.filterProducts=function(e){return e.filter((function(e){return null!==e}))},n.filterBadges=function(e,n){var t,i=e.filter((function(e){return"subscriber"===(null==e?void 0:e.setID)})).sort((function(e,n){return Number((null==e?void 0:e.version)||0)-Number((null==n?void 0:n.version)||0)}));if("0"===(null===(t=i[0])||void 0===t?void 0:t.version))return i;var r=null==n?void 0:n.find((function(e){return"subscriber"===(null==e?void 0:e.setID)&&"0"===(null==e?void 0:e.version)}));return r&&i.unshift(r),i},n.filterGifterBadges=function(e){return e.filter((function(e){return"sub-gifter"===(null==e?void 0:e.setID)})).sort((function(e,n){return Number((null==e?void 0:e.version)||0)-Number((null==n?void 0:n.version)||0)}))},n.isNonStandardSub=function(e){return 1===e.length},n.canSendGift=function(e){var n,t;return!!(null===(t=null===(n=null==e?void 0:e[0])||void 0===n?void 0:n.self)||void 0===t?void 0:t.canGiftInChannel)},n.prototype.componentDidMount=function(){this.handleSubMenuAction({action:u.a.SubMenuReady})},n.prototype.render=function(){return r.createElement(p.Provider,{value:this.state},this.props.children)},n.prototype.checkAndDisplaySubscriptionCheckout=function(e,n,t){var i=o.o.get(c.a.SUB_CHECKOUT__PRODUCT_KEY,"");if(i){var r=this.props.extraSubProductNames;if(this.state.subscriptionProducts.find((function(e){return e.name===i}))||(null==r?void 0:r.includes(i))){var a=this.props,s=a.sessionUser,u=a.showLoginModal;if(s){var l=this.props.showSubscriptionCheckout,m=this.state.modalSessionId;l({isAnonymous:o.o.get(c.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,!1),isOneTimePurchase:o.o.get(c.a.SUB_CHECKOUT__IS_ONE_TIME_PURCHASE,!1),mysteryGiftCount:Number(o.o.get(c.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,"")),productName:i,recipientLogin:o.o.get(c.a.SUB_CHECKOUT__RECIPIENT_KEY,""),trackingContext:{source:d.a.ChannelSubscribeButton,tenantTracking:{sub_session_id:m,from_show_more_bundles:e}},chargeInterval:n,offerID:t})}else u()}else c.a.clearSubscriptionCheckoutKeys()}},n}(r.Component);t.d(n,"b",(function(){return f})),t.d(n,"a",(function(){return h}))},Ya72:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Thread_ArchiveThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateWhisperThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateWhisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isArchived"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:132}};t.loc.source={body:"mutation Thread_ArchiveThread($input: UpdateWhisperThreadInput!) {\nupdateWhisperThread(input: $input) {\nthread {\nid\nisArchived\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Thread_ArchiveThread=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Thread_ArchiveThread")},Yr7M:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Thread_UnarchiveThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateWhisperThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateWhisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isArchived"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134}};t.loc.source={body:"mutation Thread_UnarchiveThread($input: UpdateWhisperThreadInput!) {\nupdateWhisperThread(input: $input) {\nthread {\nid\nisArchived\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Thread_UnarchiveThread=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Thread_UnarchiveThread")},ZGDZ:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.SMALL=28]="SMALL",e[e.MEDIUM=56]="MEDIUM",e[e.LARGE=112]="LARGE"}(i||(i={}))},ZaoE:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return o}));var i=t("1rIY"),r=Object(i.a)("ChannelPointsContext",{activeMultipliers:[],automaticRewards:[],balance:0,channelID:null,channelLogin:null,customRewards:[],displayName:null,emoteVariants:[],isChannelPointsEnabled:!1,isChannelPointsFeatureFlagOn:!1,isCurrentUserModerator:!1,isLoaded:!1,pointIcon:null,pointName:null,raidPointAmount:0,rewardMap:{},earning:null}),a=r.context,o=r.withContext},ZhU4:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emotePickerUserSubscriptionProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmote"},directives:[]}]}}]}}],loc:{start:0,end:226}};i.loc.source={body:'#import "twilight/features/subscribe-button/models/subscription-product-emote.gql"\nfragment emotePickerUserSubscriptionProduct on SubscriptionProduct {\nid\nemoteSetID\nname\nprice\ntier\nurl\nemotes {\n...subscriptionProductEmote\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("dq0Q").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)}))),e.exports=i},ZtEv:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return r})),t.d(n,"e",(function(){return a})),t.d(n,"a",(function(){return o})),t.d(n,"f",(function(){return c}));var i,r,a,o,s=t("0Log");t.d(n,"d",(function(){return s.ModerationActions})),function(e){e[e.Message=0]="Message",e[e.ExtensionMessage=1]="ExtensionMessage",e[e.Moderation=2]="Moderation",e[e.ModerationAction=3]="ModerationAction",e[e.TargetedModerationAction=4]="TargetedModerationAction",e[e.AutoMod=5]="AutoMod",e[e.SubscriberOnlyMode=6]="SubscriberOnlyMode",e[e.FollowerOnlyMode=7]="FollowerOnlyMode",e[e.SlowMode=8]="SlowMode",e[e.EmoteOnlyMode=9]="EmoteOnlyMode",e[e.R9KMode=10]="R9KMode",e[e.Connected=11]="Connected",e[e.Disconnected=12]="Disconnected",e[e.Reconnect=13]="Reconnect",e[e.Hosting=14]="Hosting",e[e.Unhost=15]="Unhost",e[e.Hosted=16]="Hosted",e[e.Subscription=17]="Subscription",e[e.Resubscription=18]="Resubscription",e[e.GiftPaidUpgrade=19]="GiftPaidUpgrade",e[e.AnonGiftPaidUpgrade=20]="AnonGiftPaidUpgrade",e[e.PrimePaidUpgrade=21]="PrimePaidUpgrade",e[e.PrimeCommunityGiftReceivedEvent=22]="PrimeCommunityGiftReceivedEvent",e[e.ExtendSubscription=23]="ExtendSubscription",e[e.SubGift=24]="SubGift",e[e.AnonSubGift=25]="AnonSubGift",e[e.Clear=26]="Clear",e[e.RoomMods=27]="RoomMods",e[e.RoomState=28]="RoomState",e[e.Raid=29]="Raid",e[e.Unraid=30]="Unraid",e[e.Ritual=31]="Ritual",e[e.Notice=32]="Notice",e[e.Info=33]="Info",e[e.BadgesUpdated=34]="BadgesUpdated",e[e.Purchase=35]="Purchase",e[e.BitsCharity=36]="BitsCharity",e[e.CrateGift=37]="CrateGift",e[e.RewardGift=38]="RewardGift",e[e.SubMysteryGift=39]="SubMysteryGift",e[e.AnonSubMysteryGift=40]="AnonSubMysteryGift",e[e.StandardPayForward=41]="StandardPayForward",e[e.CommunityPayForward=42]="CommunityPayForward",e[e.FirstCheerMessage=43]="FirstCheerMessage",e[e.BitsBadgeTierMessage=44]="BitsBadgeTierMessage",e[e.InlinePrivateCallout=45]="InlinePrivateCallout",e[e.ChannelPointsReward=46]="ChannelPointsReward"}(i||(i={})),function(e){e[e.Post=0]="Post",e[e.Action=1]="Action",e[e.PostWithMention=2]="PostWithMention"}(r||(r={})),function(e){e[e.Ban=0]="Ban",e[e.Timeout=1]="Timeout",e[e.Delete=2]="Delete"}(a||(a={})),function(e){e[e.MessageRejectedPrompt=0]="MessageRejectedPrompt",e[e.CheerMessageRejectedPrompt=1]="CheerMessageRejectedPrompt",e[e.MessageRejected=2]="MessageRejected",e[e.MessageAllowed=3]="MessageAllowed",e[e.MessageDenied=4]="MessageDenied",e[e.CheerMessageDenied=5]="CheerMessageDenied",e[e.CheerMessageTimeout=6]="CheerMessageTimeout",e[e.MessageModApproved=7]="MessageModApproved",e[e.MessageModDenied=8]="MessageModDenied"}(o||(o={}));var c=new Set(["usage_clear","usage_commercial","usage_host","usage_unhost","usage_raid","usage_unraid","usage_slow_on","usage_slow_off","usage_followers_on","usage_followers_off","usage_emote_only_on","usage_emote_only_off","usage_subs_on","usage_subs_off","usage_r9k_on","usage_r9k_off","unrecognized_cmd"])},a1OF:function(e,n,t){"use strict";var i=t("mrSG"),r=t("/7QA"),a=t("oe5X"),o=t("0FG4"),s=t("kRBY");t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return l})),t.d(n,"e",(function(){return m})),t.d(n,"c",(function(){return p})),t.d(n,"d",(function(){return f}));var c=["#FF0000","#0000FF","#008000","#B22222","#FF7F50","#9ACD32","#FF4500","#2E8B57","#DAA520","#D2691E","#5F9EA0","#1E90FF","#FF69B4","#8A2BE2","#00FF7F"],d={};function u(e,n,t,r,a,o,s){void 0===r&&(r=null),void 0===a&&(a=!1),void 0===o&&(o=!1),void 0===s&&(s=!1);var c,d,u,p,f=(c=n.displayName,d=n.username,p=!1,(u=c)?u.split("").map((function(e){return e.charCodeAt(0)>127})).reduce((function(e,n){return e||n}))&&(p=!0):u=d,{userDisplayName:u,isIntl:p});return{badges:n.badges||{},badgeDynamicData:n.badgeDynamicData||{},bits:n.bits,user:Object(i.__assign)(Object(i.__assign)({},f),{userLogin:n.username,userID:n.userID,userType:n.userType,color:n.color||l(n.userID)}),messageParts:m(e,n.emotes||{},n.bits,t,n.username,r||void 0),deleted:a,banned:s,hidden:o,timestamp:Date.now()}}function l(e,n){return void 0===n&&(n=15),"number"!=typeof d[e]&&(d[e]=Math.floor(Math.random()*n)),c[d[e]]}function m(e,n,t,i,c,d){var u=Object(s.e)(r.p.store.getState()),l={cheers:t?i:void 0,emotes:{type:o.a.Position,map:n},links:{parseClips:!0,parseVods:!0},mentions:{senderLogin:c,sessionUser:u},flags:d};return Object(a.a)(e,l)}function p(e){return e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)}function f(e,n){return"https://static-cdn.jtvnw.net/emoticons/v1/"+e+"/"+Math.min(Math.ceil(n),3)+".0"}},a5fV:function(e,n,t){"use strict";t.d(n,"d",(function(){return r})),t.d(n,"a",(function(){return a})),t.d(n,"e",(function(){return o})),t.d(n,"b",(function(){return s})),t.d(n,"c",(function(){return d}));var i=t("/7QA");function r(e,n){return e/Math.pow(10,n)}function a(e,n){return Object(i.f)(e,{style:"currency",currency:n})}function o(e){var n,t,i,r;if(c(e)||!e.priceInfo)return e.price;if(function(e){return"offers"in e}(e)&&e.offers){var a=null===(r=null===(i=null===(t=null===(n=e.offers.find((function(e){return e.eligibility.isEligible&&!!e.promotion})))||void 0===n?void 0:n.listing)||void 0===t?void 0:t.chargeModel)||void 0===i?void 0:i.internal)||void 0===r?void 0:r.previewPrice;if(null==a?void 0:a.discount)return s({exponent:a.exponent,currency:a.currency,total:a.discount.total})}return s(e.priceInfo)}function s(e){return a(r(e.total,e.exponent),e.currency)}function c(e){return!("priceInfo"in e)}function d(e,n){if(c(e)||!e.priceInfo)return e.price;var t=r(e.priceInfo.total,e.priceInfo.exponent);return a(t*=n,e.priceInfo.currency)}},aECu:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FriendButton_AcceptFriendRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AcceptFriendRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"acceptFriendRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"friendButtonFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:232}};i.loc.source={body:'#import "twilight/features/friend-button/queries/friend-button-fragment.gql"\nmutation FriendButton_AcceptFriendRequest($input: AcceptFriendRequestInput!) {\nacceptFriendRequest(input: $input) {\nuser {\nid\n...friendButtonFragment\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("g7ZD").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)})));var a={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.FriendButton_AcceptFriendRequest=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"FriendButton_AcceptFriendRequest")},aEfP:function(e,n,t){},aSQN:function(e,n,t){},"as+V":function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("/7QA"),o=t("D7An"),s=t("DMoW"),c=t("sUnt"),d=t("dEDE"),u=function(e){function n(n){var t=e.call(this,n)||this;t.onHistoryChange=function(e){t.setState({currentPathname:e.pathname})},t.shouldShow=function(){return t.props.link&&t.state.currentPathname!==t.props.link.pathname};var i=a.p.experiments.getAndTrackAssignment(o.c.ExtendedPresence);return t.state={currentPathname:location.pathname,hasExtendedRichPresence:"variant_a"===i},t}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.historyUnlisten=a.p.history.listen(this.onHistoryChange)},n.prototype.componentWillUnmount=function(){this.historyUnlisten()},n.prototype.render=function(){if(!this.props.link||!this.shouldShow())return null;var e=Object(a.d)("Join","JoinButton");return this.props.availability===s.k.OFFLINE&&this.state.hasExtendedRichPresence&&(e=Object(a.d)("Watch","JoinButton")),r.createElement(c.a,{margin:this.props.margin},r.createElement(d.a,{linkTo:this.props.link,onClick:this.props.onClick,overlay:this.props.shouldHollowOverlay,size:d.b.Small,tabIndex:-1,type:this.props.shouldHollowOverlay?d.d.Secondary:d.d.Primary},e))},n}(r.Component);t.d(n,"a",(function(){return u}))},b5vT:function(e,n,t){"use strict";var i,r,a=t("TSYQ"),o=t("q1tI"),s=t("/7QA"),c=t("C7sF"),d=t("7uM4"),u=t("Ws8v"),l=t("yymn");!function(e){e[e.LOCK=0]="LOCK",e[e.BITS=1]="BITS"}(r||(r={}));var m=((i={})[r.LOCK]=c.a.Lock,i[r.BITS]=c.a.Bits,i),p=function(e){var n=e.lockIcon,t=o.useMemo((function(){return o.createElement(d.a,{asset:m[n],height:10,width:10})}),[n]);return o.createElement(u.a,{background:l.d.Overlay,borderRadius:l.e.Small,className:"emote-button__lock","data-test-selector":"emote-button-lock",display:l.g.InlineFlex,justifyContent:l.l.Center,position:l.n.Absolute,zIndex:l.s.Above},t)},f=t("GnwI"),h=t("b7S+"),v=t("hnjF"),g=(t("GOKC"),function(e){var n=a("emote-button__link",{"emote-button__link--locked":!e.onClick}),t=e.emote,i=t.displayName,c=t.srcSet;if(!c)return null;var d=c.split(" ")[0],u=o.createElement("img",{className:"emote-picker__image",src:d,srcSet:c,alt:i});if(e.isCriticalImage){for(var m={},g=0,k=c.split(",");g<k.length;g++){var b=k[g].trim().split(" "),S=b[1],y=b[0];m[S]=y}u=o.createElement(f.CriticalImage,{className:"emote-picker__emote-image",src:d,srcSet:m,alt:i||""})}var E=o.createElement(p,{lockIcon:e.emote.isBitsTierEmote?r.BITS:r.LOCK});return o.createElement("div",{className:"emote-button"},o.createElement(h.a,{label:i||Object(s.d)("Emote","EmoteButton"),direction:h.c.Bottom},o.createElement(v.a,{display:l.g.Flex,alignItems:l.b.Center,justifyContent:l.l.Center},o.createElement("button",{"data-test-selector":"emote-button-clickable",className:n,"aria-label":i,name:i,onMouseEnter:e.onMouseEnter?e.onMouseEnter.bind(null,e.emote):void 0,onMouseLeave:e.onMouseLeave?e.onMouseLeave.bind(null,e.emote):void 0,onClick:e.onClick?e.onClick.bind(null,e.emote):void 0,"data-a-target":i},o.createElement("figure",null,e.emote.isLocked?E:null,e.showOptions&&o.createElement("div",{className:"emote-button__options"}),u)))))});t.d(n,"a",(function(){return"emote-button"})),t.d(n,"b",(function(){return g}))},"bAm+":function(e,n,t){"use strict";var i,r=t("mrSG"),a=t("/7QA"),o=t("geRD"),s=t("Wcon"),c=t("DMoW"),d=t("L9xt"),u=t("CMUD");function l(e){var n=function(e){try{return a.p.apollo.client.readQuery({query:u,variables:{threadID:e}})}catch(e){return a.k.warn("Could not find cached whisper thread data:",e),null}}(e.threadID);if(n){var t=n.currentUser,r=n.whisperThread;if(t&&t.id&&t.login&&r){var o=r.participants.find((function(e){return!!e&&e.id!==t.id}));if(o&&o.self&&o.self.whisperPermissions){var s={conversation_id:e.threadID,message_id:null,message_uuid:e.messageID,read_mode:e.automatic?i.Focus:i.Manual,recipient_id:t.id,recipient_login:t.login,sender_id:o.id,sender_login:o.login,sender_temp_permitted:o.self.whisperPermissions.receive===c.Vd.TEMPORARY};a.o.track(d.SpadeEventType.WhisperRead,s)}else a.k.warn("Failed to find whisper sender in cache.")}else a.k.warn("Failed to find required data in cache.")}}!function(e){e.Focus="focus read",e.Manual="manual read"}(i||(i={})),t.d(n,"a",(function(){return p}));var m={};function p(e,n,t){var i=m[e.threadID];if(i){if(i.lastReadCursorID>=n)return;clearTimeout(i.timeoutHandle)}var c=setTimeout((function(){var n=Object(r.__assign)({mutation:s},Object(o.b)({threadID:e.threadID,lastReadMessageID:e.lastReadMessageID},{updateWhisperThread:{thread:{__typename:"WhisperThread",id:e.threadID,unreadMessagesCount:0},__typename:"UpdateWhisperThreadPayload"}}));a.p.apollo.client.mutate(n),delete m[e.threadID],l({automatic:t,messageID:e.lastReadMessageID,threadID:e.threadID})}),250);m[e.threadID]={timeoutHandle:c,lastReadCursorID:n}}},bq0i:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var i,r=t("mrSG"),a=t("w09P"),o=t("q1tI"),s=t("f00E"),c=t("rbP/"),d=t("b7S+"),u=t("sUnt"),l=t("yymn");!function(e){e.BalloonInsideClickDetector="balloon-inside-click-detector",e.MouseEnterDetector="toggle-balloon-wrapper__mouse-enter-detector"}(i||(i={}));var m=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={showBalloon:!!n.props.openByDefault,hasInteracted:!!n.props.openByDefault},n.toggleBalloonId=Object(s.b)(),n.handleButtonClick=function(e){n.props.preventDefault&&e.preventDefault(),n.props.stopPropagation&&e.stopPropagation(),n.setState((function(e){return{showBalloon:!e.showBalloon,hasInteracted:!0}}),(function(){n.props.onToggle&&n.props.onToggle(!n.state.showBalloon)}))},n.handleGlobalClick=function(e){e.target.matches('[data-toggle-balloon-id="'+n.toggleBalloonId+'"] *')||n.hideBalloon()},n.handleInsideBalloonClick=function(){n.hideBalloon()},n.handleMouseEnter=function(){n.state.hasInteracted||n.setState({hasInteracted:!0})},n}return Object(r.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.openByDefault&&document.addEventListener("click",this.handleGlobalClick,!0)},n.prototype.componentDidUpdate=function(e,n){n.showBalloon!==this.state.showBalloon&&(this.state.showBalloon?document.addEventListener("click",this.handleGlobalClick,!0):document.removeEventListener("click",this.handleGlobalClick,!0))},n.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleGlobalClick,!0)},n.prototype.render=function(){var e=this,n=o.Children.toArray(this.props.children);if(2!==n.length)throw new Error("ToggleBalloonWrapper should only be given two children: a clickable and a Balloon");var t,s=n[0],m=n[1];if(s.type===c.a){var p=s,f=a(p.props.dropdown,(function(n){return n.onClick=e.handleButtonClick,n}));t=o.cloneElement(p,{dropdown:f})}else t=o.cloneElement(s,{onClick:this.handleButtonClick});var h=null;(this.state.hasInteracted||this.props.alwaysMountBalloonContent)&&(h=o.cloneElement(m,{show:this.state.showBalloon}),this.props.hideBalloonOnInsideClick&&(h=o.createElement("div",{"data-test-selector":i.BalloonInsideClickDetector,onClick:this.handleInsideBalloonClick},h)));var v=t;return this.props.tooltipProps&&(v=o.createElement(d.a,Object(r.__assign)({},this.props.tooltipProps),t)),o.createElement(u.a,{"data-toggle-balloon-id":this.toggleBalloonId,display:this.props.display,position:l.n.Relative},o.createElement("div",{style:{display:"inherit"},onMouseEnter:this.handleMouseEnter,"data-test-selector":i.MouseEnterDetector},v),h)},n.prototype.toggleBalloon=function(e){void 0===e&&(e=!this.state.showBalloon),this.setState({showBalloon:e,hasInteracted:!0})},n.prototype.hideBalloon=function(){var e=this;this.setState({showBalloon:!1},(function(){e.props.onToggle&&e.props.onToggle(!0)}))},n}(o.Component)},br9A:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return d})),t.d(n,"c",(function(){return u}));var i,r=t("mrSG"),a=t("/7QA"),o=t("2xye"),s=t("I6K6"),c=t("RuiO");!function(e){e.ChannelPage="channel_page",e.ChannelHome="channel_home",e.ChannelPageModal="channel_page_modal",e.EmoteCard="emote_card",e.TheatreMode="theatre_mode",e.SubsManagementPage="subscriptions_management_page",e.SquadPage="squad_page",e.ThankSubGifterCallout="thank_sub_gifter_callout",e.MegaGifterCallout="mega_gifter_callout",e.WatchPartyPage="watch_party_page"}(i||(i={}));var d={BuyContinueSub:"buy_continue_sub",BuyCustomMysteryGift:"buy_custom_mystery_gift",BuyGiftSub:"buy_gift_sub",BuyGiftToPaidUpgrade:"buy_gift_to_paid_upgrade",BuyMysteryGift:"buy_mystery_gift",BuyPaidUpgrade:"buy_paid_upgrade",BuyPrimeToPaid:"buy_prime_to_paid",BuyQuickSub:"buy_quick_sub",ChangeTier:"change_tier",ClickAnonymousGiftCheckbox:"anonymous_gift_click",ClickBack:"back_top_level",ClickCancelAndRefund:"click_cancel_and_refund",ClickCancelPaidUpgrade:"click_cancel_paid_upgrade",ClickChangePaymentMethod:"click_change_payment_method",ClickChangeSubTier:"click_change_sub_tier",ClickCheckout:"click_checkout_button",ClickCommunityGift:"click_community_gift",ClickDisableGift:"click_disable_gift_button",ClickDNRSub:"click_dnr_sub_button",ClickGiftSubOptions:"gift_options_click",ClickMoreSubOptions:"more_options_click",ClickMultiMonthOption:"multi_month_option_select",ClickMultiMonthInfo:"multi_month_info_click",ClickPaidUpgrade:"click_paid_upgrade",ClickPrimeFAQ:"click_prime_faq",ClickResubscribe:"click_resubscribe",ClickShowMoreEmotes:"click_show_more_emotes",ClickShowMoreGiftBundles:"click_show_more_gift_bundles",ClickShowMoreGiftBundlesFromBannerCTA:"click_show_more_gift_bundles_from_banner",ClickSignupForPrime:"click_signup_for_prime",ClickSingleGift:"click_single_gift",CloseSubMenu:"close_subscribe_menu",GiftASub:"gift_a_sub",OpenSubMenu:"open_subscribe_menu",SubMenuReady:"sub_menu_ready",SubWithPrime:"samus_spend_credit"};function u(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,t,i,d,u,l,m,p,f,h,v,g,k;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=a.o.getVideoPlayerTrackingData().vodID,t=!!n,i={channelID:e.channelID,withVideo:!1},t&&(i.withVideo=!0,i.videoID=n),d=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:c,variables:i})];case 2:return d=r.sent(),[3,4];case 3:return u=r.sent(),a.k.warn(u,"Failed to make query for channel info in FollowEvent reporting.",{channelID:e.channelID}),[3,4];case 4:return l=d&&d.data&&d.data.user||null,d&&!l&&a.k.warn("Query for channel info in SubEvent reporting returned no data.",{channelID:e.channelID}),m=null,d&&t&&((p=d&&d.data&&d.data.video)?m=Object(s.a)(p.broadcastType):a.k.warn("Query for video info in SubEvent reporting returned no data.",{currentVideoID:n})),f=l&&l.self,h=f?!!f.subscriptionBenefit:null,v=f&&f.subscriptionBenefit&&f.subscriptionBenefit.purchasedWithPrime||!1,g=f?f.canPrimeSubscribe:null,k={action:e.action,button_cta:e.buttonCTA,can_subscribe:g,channel:e.channelLogin,channel_id:e.channelID,charge_interval:e.chargeInterval,checkout_button_tier:e.checkoutButtonTier,cumulative_tenure_months:e.cumulativeTenureMonths,days_to_next_tenure_anniversary:e.daysToNextTenureAnniversary||null,has_sub_credit:e.hasSubCredit||null,host_channel:e.hostChannelLogin,host_channel_id:e.hostChannelID,is_anonymous:e.isAnonymous,is_menu_open:e.isMenuOpen||null,is_single_month:e.isSingleMonth,is_subscribed:h,is_subscribed_current_tier:f&&f.subscriptionBenefit&&f.subscriptionBenefit.tier,mystery_gift_count:e.mysteryGiftCount||null,sub_location:e.sub_location,sub_recipient:e.giftRecipient||null,modal:e.modal,modal_level:e.modalLevel||"",modal_session_id:e.modalSessionId||"",show_prime_content:e.showPrimeContent||!1,show_resub:l?g&&v:null,streak_number:e.streakNumber||null,vod_id:n,vod_type:m,viewport_height:window.innerHeight,viewport_width:window.innerWidth},a.o.track(o.SpadeEventType.Subscription,k),[2]}}))}))}},cMjZ:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("K/JX");function r(e){return e&&Object(i.c)(e)||""}},cNYe:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return g}));var i,r=t("pVnL"),a=t.n(r),o=t("q1tI"),s=t("vCsY"),c=t("1H2c"),d=t("kqSx"),u=t("xfJC"),l=t("y0tB"),m=t("K/KT"),p=t("sUnt"),f=t("yymn"),h=t("hnjF"),v=t("V6CR");t("wKtC");!function(e){e[e.CheckBox=1]="CheckBox",e[e.Radio=2]="Radio",e[e.Toggle=3]="Toggle"}(i||(i={}));var g=function(e){var n=e.figure&&o.createElement(p.a,{flexShrink:0,padding:{left:e.type===i.Toggle?void 0:1,right:e.type===i.Toggle?.5:void 0}},o.createElement(v.a,e.figure)),t=Object(c.a)();return o.createElement(p.a,{padding:.5},o.createElement(p.a,a()({display:f.g.Flex,alignItems:f.b.Center},Object(s.a)(e)),e.type===i.CheckBox&&o.createElement(p.a,{flexGrow:1},o.createElement(d.a,e)),e.type===i.Radio&&o.createElement(p.a,{flexGrow:1},o.createElement(l.a,e)),n,e.type===i.Toggle&&o.createElement(o.Fragment,null,o.createElement(h.a,{flexGrow:1},o.createElement("label",{className:"tw-drop-down-menu-input-item__label",htmlFor:e.id||t},e.label)),o.createElement(m.a,a()({},e,{id:e.id||t})))),e.hint&&o.createElement(p.a,{className:"tw-drop-down-menu-input-item__hint"},o.createElement(u.a,{hint:e.hint})))};g.displayName="DropDownMenuInputItem",g.displayName="DropDownMenuInputItem"},cpJf:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),t.d(n,"c",(function(){return r})),t.d(n,"b",(function(){return a})),function(e){e.Chat="stream_chat",e.Feeds="feeds",e.Room="chatroom",e.Whisper="whisper",e.VodChat="vod-chat"}(i||(i={}));var r={TriHard:{count:196568036},Kappa:{count:192158118},"4Head":{count:155758710},PogChamp:{count:151485090},cmonBruh:{count:146352878},BibleThump:{count:56472964},WutFace:{count:45069031},Kreygasm:{count:41387580},DansGame:{count:38097659},hi5F:{count:34986404},SMOrc:{count:34734484},KappaPride:{count:34262839},VoHiYo:{count:27886434},SwiftRage:{count:24561900},ResidentSleeper:{count:24438298},EleGiggle:{count:19891526},FailFish:{count:19118343},NotLikeThis:{count:18802905},Keepo:{count:18351415},BabyRage:{count:18220906},MingLee:{count:18026207},pbfSSH:{count:16911241},forsenE:{count:14960299},HeyGuys:{count:14851569},ANELE:{count:14648986},PJSalt:{count:14438861}},a=["354","49106","4339","48","25","55338","70433","1902","68856","81103","76171","27509"]},csdq:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FriendButton_RejectFriendRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RejectFriendRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rejectFriendRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"friendButtonFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:232}};i.loc.source={body:'#import "twilight/features/friend-button/queries/friend-button-fragment.gql"\nmutation FriendButton_RejectFriendRequest($input: RejectFriendRequestInput!) {\nrejectFriendRequest(input: $input) {\nuser {\nid\n...friendButtonFragment\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("g7ZD").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)})));var a={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.FriendButton_RejectFriendRequest=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"FriendButton_RejectFriendRequest")},cw0r:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("wUQP"),o=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){return Object(a.c)(this.props.name)?r.createElement(r.Fragment,null,this.props.children):null},n}(r.Component);t.d(n,"a",(function(){return o}))},cys1:function(e,n,t){"use strict";var i,r=t("q1tI"),a=t("/7QA"),o=t("gvGA"),s=t("5zf8"),c=t("4rCz"),d=t("mrSG"),u=t("yR8l"),l=t("+GjP"),m=t("2xye"),p=t("PL8s"),f=t("+80q"),h=t("yymn"),v=t("Ws8v"),g=t("sUnt"),k=t("i4Ys"),b=t("L/cU"),S=t("fPaz"),y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={hasImageLoadingError:!1},n.handleImageError=function(){n.setState({hasImageLoadingError:!0})},n}return Object(d.__extends)(n,e),n.prototype.render=function(){var e=a.a.defaultStreamPreviewURL;return!this.state.hasImageLoadingError&&this.props.imageURL&&(e=this.props.imageURL),r.createElement(b.a,{aspect:S.c.Aspect16x9,alt:this.props.altText,src:e,onError:this.handleImageError})},n}(r.Component),E=(t("Epr8"),"https://static-cdn.jtvnw.net/emoticons/v1/58765/2.0"),_={ERROR:"chat-card-error",TITLE:"chat-card-title",DESCRIPTION:"chat-card-description"},C=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderErrorCard=function(){var e=r.createElement("img",{"data-test-selector":_.ERROR,src:E,className:"chat-card__error-img",alt:""});return n.renderCardContent(e,n.props.error)},n.renderCardContent=function(e,n){var t,i;return n?(t=r.createElement(f.a,{bold:!0,"data-test-selector":_.TITLE,title:n.title},n.title),i=r.createElement(f.a,{color:h.f.Alt2,"data-test-selector":_.DESCRIPTION},n.description)):(e=r.createElement(p.a,{overlay:!0}),t=r.createElement(p.a,{width:180}),i=r.createElement(p.a,{width:120})),r.createElement(v.a,{display:h.g.Flex,flexWrap:h.i.NoWrap,padding:.5},r.createElement(v.a,{className:"chat-card__preview-img",background:h.d.Alt2,display:h.g.Flex,alignItems:h.b.Center,justifyContent:h.l.Center,flexShrink:0},e),r.createElement(g.a,{display:h.g.Flex,alignItems:h.b.Center,overflow:h.m.Hidden},r.createElement(g.a,{padding:{left:1},fullWidth:!0},r.createElement(g.a,{className:"chat-card__title",ellipsis:!0},t),r.createElement(g.a,{ellipsis:!0},i))))},n}return Object(d.__extends)(n,e),n.prototype.render=function(){var e;if(this.props.error)e=this.renderErrorCard();else if(this.props.data){var n=Object(l.g)(this.props.data.contentURL,{tt_medium:m.PageviewMedium.Chat,tt_content:m.PageviewContent.ChatCard}),t=r.createElement(y,{altText:this.props.data.title,key:this.props.data.previewImageURL,imageURL:this.props.data.previewImageURL});e=r.createElement(v.a,{background:h.d.Base,borderRadius:h.e.Medium,display:h.g.Flex,fullWidth:!0},r.createElement(k.a,{linkTo:n,targetBlank:!0,type:k.b.Alpha,borderRadius:h.e.Medium},this.renderCardContent(t,{title:this.props.data.title,description:this.props.data.description})))}else e=this.renderCardContent();return r.createElement(v.a,{borderRadius:h.e.Medium,elevation:1},e)},n}(r.Component),N=t("SceP"),D={isTimedOut:!1},w=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state=D,n.timeoutID=null,n}return Object(d.__extends)(n,e),n.getDerivedStateFromProps=function(e,n){return e.data.clip&&n.isTimedOut?{isTimedOut:!1}:null},n.prototype.componentDidMount=function(){var e=this;this.props.data.clip||(this.timeoutID=setTimeout((function(){e.setState({isTimedOut:!0})}),5e3))},n.prototype.componentDidUpdate=function(e){!e.data.clip&&this.props.data.clip&&this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},n.prototype.render=function(){var e=this.props.data,n=e.clip,t=e.error,i=e.loading;return t||this.state.isTimedOut?r.createElement(C,{error:{title:Object(a.d)("Something went wrong","ClipsChatCard"),description:Object(a.d)("We couldn't find that Clip","ClipsChatCard")}}):i||!n?r.createElement(C,null):r.createElement(C,{data:{title:n.title||(n.broadcaster&&n.broadcaster.displayName?Object(a.d)("Clip of {broadcaster}",{broadcaster:n.broadcaster.displayName},"ClipsChatCard"):""),description:n.curator&&n.curator.displayName?Object(a.d)("Clipped by {curator}",{curator:n.curator.displayName},"ClipsChatCard"):"",previewImageURL:n.thumbnailURL,contentURL:n.url}})},n}(r.Component),O=Object(u.a)(N,{options:function(e){return{variables:{slug:e.slug},notifyOnNetworkStatusChange:!0,fetchPolicy:e.forceNetworkRequest?"cache-first":"cache-only"}}})(w),T=t("TSYQ"),I=t("gTu3"),F=(t("lpj/"),(i={})[I.a.Default]="",i[I.a.Recipient]="mention-fragment--recipient",i[I.a.Sender]="mention-fragment--sender",i),P=function(e){var n=e.isAtMention?"@":"",t=T("mention-fragment",F[e.currentUserMentionRelation]);return r.createElement("span",{className:t,"data-a-target":"chat-message-mention"},""+n+e.recipient)};P.displayName="MentionFragment";var U,j=t("QVaV"),A=t("sU0Q"),M=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(d.__extends)(n,e),n.prototype.render=function(){var e=this.props.data,n=e.video,t=e.error;if(e.loading||!n)return r.createElement(C,null);if(t||!n.owner||!n.owner.login||!n.publishedAt||!n.title)return r.createElement(C,{error:{title:Object(a.d)("Something went wrong","VideoChatCard"),description:Object(a.d)("We couldn't find that video","VideoChatCard")}});var i=r.createElement(f.a,null,Object(a.c)(new Date(n.publishedAt),"medium"),r.createElement("span",null," · "),Object(j.a)(n.owner.login,n.owner.displayName));return r.createElement(C,{data:{title:n.title,description:i,previewImageURL:n.previewThumbnailURL,contentURL:this.props.url}})},n}(r.Component),R=Object(u.a)(A,{options:function(e){return{variables:{videoID:e.id},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-first"}}})(M),x=t("ZtEv"),B=t("RcPG"),L=t("Jsra"),W=t("x0+1"),G=t("XRPh"),q=t("u5aL"),V=t("ANjH"),H=t("3sMn"),z=t("Tznh"),Q=t("VJH5"),K=t("dEDE"),Y=t("akKH"),X=t("y0tB");!function(e){e.CancelButton="flagged-fragment-cancel",e.ConfirmButton="flagged-fragment-confirm",e.FeedbackButton="flagged-fragment-feedback",e.FeedbackNo="flagged-fragment-no",e.FeedbackYes="flagged-fragment-yes",e.SettingsLink="flagged-fragment-settings",e.Title="flagged-fragment-title"}(U||(U={}));var $=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={feedbackSelection:null,textShown:!1},n.hasTrackedImpression=!1,n.showSettings=function(){n.props.showChatFilterSettings(z.c.FilteredMessage),n.props.updateChatConfigState({isSettingsOpen:!0}),n.props.onDismissBalloon()},n.showText=function(){n.props.onShowText(),n.setState({textShown:!0}),a.o.track(m.SpadeEventType.ChatFilterMessageInteraction,n.getCommonTrackingProps())},n.onAffirmativeFeedbackSelected=function(){n.setState({feedbackSelection:!0})},n.onNegativeFeedbackSelected=function(){n.setState({feedbackSelection:!1})},n.onSubmit=function(){n.props.onDismissBalloon(),a.o.track(m.SpadeEventType.ChatFilterFeedbackInteraction,Object(d.__assign)(Object(d.__assign)({},n.getCommonTrackingProps()),{value:n.state.feedbackSelection?n.getAffirmativeText():n.getNegativeText()}))},n}return Object(d.__extends)(n,e),n.prototype.render=function(){var e=this,n=Object(a.d)("Cancel","FlaggedFragmentBalloonContent");return this.state.textShown?r.createElement(g.a,{padding:1},r.createElement(Y.a,{label:Object(a.d)("Help improve our filters. Was this message correctly hidden?","FlaggedFragmentBalloonContent")},r.createElement(X.a,{label:this.getAffirmativeText(),name:"flagged-fragment-feedback",onChange:this.onAffirmativeFeedbackSelected,"data-test-selector":U.FeedbackYes}),r.createElement(X.a,{label:this.getNegativeText(),name:"flagged-fragment-feedback",onChange:this.onNegativeFeedbackSelected,"data-test-selector":U.FeedbackNo})),r.createElement(g.a,{display:h.g.Flex,justifyContent:h.l.End},r.createElement(g.a,{margin:{right:1}},r.createElement(K.a,{onClick:this.props.onDismissBalloon,type:K.d.Secondary,"data-test-selector":U.CancelButton},n)),r.createElement(K.a,{disabled:null===this.state.feedbackSelection,onClick:this.onSubmit,"data-test-selector":U.FeedbackButton},Object(a.d)("Submit","FlaggedFragmentBalloonContent")))):(this.hasTrackedImpression||(a.o.track(m.SpadeEventType.ChatFilterMessageImpression,this.getCommonTrackingProps()),this.hasTrackedImpression=!0),r.createElement(g.a,{padding:1},r.createElement(f.a,{bold:!0,type:f.e.H6,"data-test-selector":U.Title},this.getCategoryTitle()),Object(a.d)("Would you like to see this message? It has been hidden for you based on your <x:link>Chat Filter settings</x:link>.",{"x:link":function(n){return r.createElement(L.a,{onClick:e.showSettings,"data-test-selector":U.SettingsLink},n)}},"FlaggedFragmentBalloonContent"),r.createElement(g.a,{display:h.g.Flex,justifyContent:h.l.End},r.createElement(g.a,{margin:{right:1}},r.createElement(K.a,{onClick:this.props.onDismissBalloon,type:K.d.Secondary,"data-test-selector":U.CancelButton},n)),r.createElement(K.a,{onClick:this.showText,"data-test-selector":U.ConfirmButton},Object(a.d)("Show Message","FlaggedFragmentBalloonContent")))))},n.prototype.getCategoryTitle=function(){var e=this.props.messagePart.categories;return 1!==Object.values(e).filter((function(e){return!!e})).length?Object(a.d)("Message Blocked","FlaggedFragmentBalloonContent"):e[Q.a.Aggressive]?Object(a.d)("Hostile Message Blocked","FlaggedFragmentBalloonContent"):e[Q.a.Identity]?Object(a.d)("Discriminatory Message Blocked","FlaggedFragmentBalloonContent"):e[Q.a.Sexual]?Object(a.d)("Sexually Explicit Message Blocked","FlaggedFragmentBalloonContent"):Object(a.d)("Profanity Blocked","FlaggedFragmentBalloonContent")},n.prototype.getAffirmativeText=function(){return Object(a.d)("Yes","FlaggedFragmentBalloonContent")},n.prototype.getNegativeText=function(){return Object(a.d)("No","FlaggedFragmentBalloonContent")},n.prototype.getCommonTrackingProps=function(){var e=this.props.messagePart;return{channel_id:this.props.channelID||"",channel:this.props.channelLogin||"",msg_uuid:this.props.messageID||"",word:e.originalText,aggressive_language_detected:!!e.categories[Q.a.Aggressive],explicit_language_detected:!!e.categories[Q.a.Sexual],identity_language_detected:!!e.categories[Q.a.Identity],profane_language_detected:!!e.categories[Q.a.Profanity]}},n}(r.Component);var J,Z=Object(V.d)(Object(z.d)((function(e){return e})),Object(H.b)((function(e){return{updateChatConfigState:function(n){return e.updateChatConfigState(n)},isSettingsOpen:e.isSettingsOpen}})))($),ee=(t("VN3V"),function(e){var n,t=e.content,i=e.highlightType,a=T("text-fragment",((n={})["text-fragment--moderated-highlight"]=i===B.a.ModeratedText,n));return r.createElement("span",{className:a,"data-a-target":"chat-message-text"},t)}),ne=t("ygYM"),te=t("hnjF");t("UUau");!function(e){e.Balloon="flagged-fragment-balloon",e.Container="flagged-fragment-container",e.Target="flagged-fragment-span"}(J||(J={}));var ie=function(e){function n(n){var t=e.call(this,n)||this;return t.state={active:!1,balloonDirection:ne.b.TopCenter,balloonTailOffset:0,balloonXOffset:0,displayed:!1},t.setTopRef=function(e){t.topRef=e},t.setBalloonContentRef=function(e){t.balloonContentRef=e,t.state.active&&t.setState(Object(d.__assign)({},t.getBalloonState()))},t.onClickOut=function(){t.setState({active:!1})},t.onClick=function(){t.setState({active:!0})},t.onShowText=function(){t.setState({displayed:!0},(function(){t.setState(Object(d.__assign)({},t.getBalloonState()))}))},t.onDismissBalloon=function(){t.setState({active:!1})},t.placeholder=new Array(n.messagePart.length+1).join("*"),t}return Object(d.__extends)(n,e),n.prototype.render=function(){return this.state.active?r.createElement("span",{ref:this.setTopRef,"data-test-selector":J.Container},r.createElement(te.a,{display:h.g.Inline,position:h.n.Relative},r.createElement(q.a,{onClickOut:this.onClickOut},this.renderContent(),r.createElement(ne.a,{direction:this.state.balloonDirection,offsetX:this.state.balloonXOffset+"px",show:!0,size:ne.c.Medium,tailOffset:this.state.balloonTailOffset},r.createElement("span",{ref:this.setBalloonContentRef,"data-test-selector":J.Balloon}),r.createElement(Z,Object(d.__assign)({},this.props,{onDismissBalloon:this.onDismissBalloon,onShowText:this.onShowText})))))):r.createElement("span",{ref:this.setTopRef,"data-test-selector":J.Container},this.renderContent())},n.prototype.renderContent=function(){var e={"flagged-fragment":!(this.state.displayed&&!this.state.active),"flagged-fragment--active":this.state.active};return this.state.displayed?r.createElement("span",{className:T(e),"data-test-selector":J.Target},oe(this.props.messagePart.content)):r.createElement("span",{className:T(e),onClick:this.onClick,"data-test-selector":J.Target},r.createElement(ee,{content:this.placeholder}))},n.prototype.getBalloonState=function(){if(this.balloonContentRef&&this.topRef&&this.topRef.offsetParent){var e=this.topRef.offsetParent.getBoundingClientRect(),n=this.balloonContentRef.getBoundingClientRect(),t=this.state.balloonDirection;n.top<e.top&&(t=ne.b.BottomCenter);var i=e.left+20,r=n.left,a=this.state.balloonXOffset-(r-i);return{balloonDirection:t,balloonTailOffset:e.width/2-a-20,balloonXOffset:a}}return{balloonDirection:ne.b.TopCenter,balloonTailOffset:0,balloonXOffset:0}},n}(r.Component),re=(t("Ro6I"),function(e){var n=e.displayText,t=e.url,i=e.highlighted;return r.createElement(L.a,{className:T("link-fragment",{"link-fragment--highlighted":i}),linkTo:t,targetBlank:!0,rel:"noreferrer noopener"},n)});function ae(e,n,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var a=n.content,o=a.displayText,s=a.url;return i?r.createElement(ee,{key:"message-span-"+e,content:o}):r.createElement(re,{key:e+"-link",highlighted:t,displayText:o,url:s})}function oe(e,n,t){void 0===n&&(n={}),void 0===t&&(t=!1);var i=null,a=e.reduce((function(a,s,c){var d=[];switch(c>0&&e[c-1].type!==B.a.Text&&s.type!==B.a.Text&&d.push(" "),s.type){case B.a.Text:case B.a.ModeratedText:var u=s.content,l=s.type;d.push(r.createElement(ee,{key:c,content:u,highlightType:l}));break;case B.a.FlaggedSegment:d.push(r.createElement(ie,{key:c,channelID:n.chatChannelID,channelLogin:n.chatChannelLogin,messageID:n.messageSourceID,messagePart:s}));break;case B.a.CurrentUserHighlight:d.push(r.createElement(P,{isAtMention:!1,currentUserMentionRelation:I.a.Recipient,recipient:s.content,key:c}));break;case B.a.Mention:d.push(r.createElement(P,{isAtMention:!0,currentUserMentionRelation:s.content.currentUserMentionRelation,recipient:s.content.recipient,key:c}));break;case B.a.Emote:d.push(r.createElement(G.a,{key:c,emote:s.content,channelID:n.chatChannelID,channelLogin:n.chatChannelLogin,sourceID:n.messageSourceID,sourceType:n.emoteSourceType,referrerID:n.messageAuthorID,disableCard:t}));break;case B.a.Link:d.push(ae(c,s,n.isHighlighted,n.disableLinks));break;case B.a.ClipLink:i||n.disableChatCard||(i=r.createElement(o.a,{key:c+"-ErrorBoundary"},r.createElement(O,{slug:s.content.slug,forceNetworkRequest:n.forceClipsNetworkRequest}))),d.push(ae(c,s,n.isHighlighted,n.disableLinks));break;case B.a.VideoLink:i||n.disableChatCard||(i=r.createElement(R,{key:c,id:s.content.id,url:s.content.url})),d.push(ae(c,s,n.isHighlighted,n.disableLinks))}return a.concat(d)}),[]);return i&&(a=a.concat(i)),a}function se(e){if(e.moderationType===x.e.Delete){var n=e,t=n.userLogin,i=n.body;return r.createElement(W.a,{targetLogin:t,messageBody:i})}if((e=e).moderationType===x.e.Ban)return e.reason?r.createElement("span",{className:"chat-line__moderation--ban-with-reason"},Object(a.d)("{userLogin} has been banned. Reason: {reason}",{userLogin:e.userLogin,reason:e.reason},"ChatLine")):r.createElement("span",{className:"chat-line__moderation--ban"},Object(a.d)("{userLogin} is now banned from this channel.",{userLogin:e.userLogin},"ChatLine"));if(e.reason&&e.duration){var o=Object(a.d)("{userLogin} has been timed out for {duration} seconds. Reason: {reason}",{duration:e.duration,reason:e.reason,userLogin:e.userLogin},"ChatLine");return r.createElement("span",{className:"chat-line__moderation--timeout-with-reason"},o)}return e.duration?r.createElement("span",{className:"chat-line__moderation--timeout"},Object(a.d)("{userLogin} has been timed out for {duration} seconds.",{userLogin:e.userLogin,duration:e.duration},"ChatLine")):void 0}function ce(e){var n=e.daysLeft;0===n&&(n=e.hoursLeft);var t,i={bitsTotal:r.createElement("strong",null,Object(c.f)(e.total,{style:"currency",currency:"USD"})),charityName:r.createElement("strong",null,e.charityName),learnMoreURL:r.createElement(L.a,{linkTo:e.learnMore,targetBlank:!0},e.learnMore),hashtag:r.createElement("strong",null,e.hashtag),timeRemaining:Object(c.f)(n)};return r.createElement("span",null,0===e.daysLeft?(t=i,Object(a.d)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more hours to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:t.bitsTotal,charityName:t.charityName,timeRemaining:t.timeRemaining,hashtag:t.hashtag,learnMoreURL:t.learnMoreURL},"ChatLine")):function(e){return Object(a.d)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more days to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:e.bitsTotal,charityName:e.charityName,timeRemaining:e.timeRemaining,hashtag:e.hashtag,learnMoreURL:e.learnMoreURL},"ChatLine")}(i))}function de(e){var n=e.enabled?Object(a.d)("This room is now in slow mode. You may send messages every {length} seconds.",{length:e.length},"ChatLine"):Object(a.d)("This room is no longer in slow mode.","ChatLine");return r.createElement("span",null,n)}function ue(e){var n;if(e.length>0){var t=e.join(", ");n=Object(a.d)("The moderators of this channel are: {moderatorList}",{moderatorList:t},"ChatLine")}else n=Object(a.d)("There are no moderators of this channel.","ChatLine");return r.createElement("span",null,n)}function le(e){if(e.enabled){var n=0===e.length?Object(a.d)("This room is in followers-only mode.","ChatLine"):Object(a.d)("This room is now in {length} followers-only mode.",{length:Object(s.b)(60*e.length)},"ChatLine");return r.createElement("span",null,n)}return r.createElement("span",null,Object(a.d)("This room is no longer in followers-only mode.","ChatLine"))}function me(e){return e.enabled?r.createElement("span",null,Object(a.d)("This room is now in emote-only mode.","ChatLine")):r.createElement("span",null,Object(a.d)("This room is no longer in emote-only mode.","ChatLine"))}function pe(e){var n=e.enabled?Object(a.d)("This room is now in subscriber-only mode.","ChatLine"):Object(a.d)("This room is no longer in subscriber-only mode.","ChatLine");return r.createElement("span",null,n)}function fe(e){return e.enabled?r.createElement("span",null,Object(a.d)("This room is now in unique-chat mode.","ChatLine")):r.createElement("span",null,Object(a.d)("This room is no longer in unique-chat mode.","ChatLine"))}function he(e){return e.isAutohost?Object(a.d)("{host} is now auto hosting you for up to {viewerCount, number} viewers.",{host:e.hostingChannel,viewerCount:e.viewerCount},"ChatLine"):e.viewerCount<=2?Object(a.d)("{host} is now hosting you.",{host:e.hostingChannel},"ChatLine"):Object(a.d)("{host} is now hosting you for up to {viewerCount, number} viewers.",{host:e.hostingChannel,viewerCount:e.viewerCount},"ChatLine")}function ve(e,n){void 0===n&&(n=!1);var t=n?e.getHours():e.getHours()%12;n||0!==t||(t=12);var i=t.toString(),r=e.getMinutes(),a=r.toString();return r<10&&(a="0"+a),n&&t<10&&(i="0"+i),i+":"+a}function ge(e,n){return void 0===n&&(n=!1),r.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},ve(new Date(e),n))}function ke(e){return r.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},function(e,n){void 0===n&&(n={});var t=a.p.intl.getLanguageCode()||"en";return Intl.DateTimeFormat(t,n).format(e)}(new Date(e),{hour:"numeric",minute:"numeric"}))}t.d(n,"f",(function(){return oe})),t.d(n,"g",(function(){return se})),t.d(n,"b",(function(){return ce})),t.d(n,"j",(function(){return de})),t.d(n,"i",(function(){return ue})),t.d(n,"d",(function(){return le})),t.d(n,"c",(function(){return me})),t.d(n,"k",(function(){return pe})),t.d(n,"h",(function(){return fe})),t.d(n,"e",(function(){return he})),t.d(n,"a",(function(){return ve})),t.d(n,"l",(function(){return ge})),t.d(n,"m",(function(){return ke}))},dF3q:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var i=t("q1tI"),r=t("/7QA"),a=t("GOFu"),o=t("C7sF"),s=t("7d/q"),c=function(e){var n=o.a.Emoticons;return e.shouldSparkle&&(n=i.createElement(a.a,{icon:n})),i.createElement(s.a,{disabled:e.buttonDisabled,icon:n,ariaLabel:Object(r.d)("Emote picker","EmotePickerButton"),type:e.isActive?s.c.Primary:s.c.Secondary,onClick:e.onClick,"data-a-target":"emote-picker-button"})}},dGMd:function(e,n,t){"use strict";t.d(n,"a",(function(){return f})),t.d(n,"b",(function(){return g})),t.d(n,"e",(function(){return k})),t.d(n,"c",(function(){return b})),t.d(n,"d",(function(){return S})),t.d(n,"f",(function(){return y}));var i=t("mrSG"),r=t("w09P"),a=t("q1tI"),o=t("/7QA"),s=t("S4w9"),c=t("geRD"),d=t("g+79"),u=t("W1jp"),l=t("zdrs"),m=t("2zj6"),p=t("8XBm"),f="300238151",h="436872863",v="channel_points";function g(e){return{icon:a.createElement(d.a,{data:e.reward,size:d.b.ExtraSmall}),title:Object(o.d)("Share Your New Emote","EmoteReward"),body:Object(o.d)("That's a fancy emote you've got there. Share it! You can also get some more.","EmoteReward"),inputValue:e.inputValue,disableCommands:!0}}function k(e,n,t){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:p},Object(c.a)({channelID:e,cost:Object(u.c)(n),transactionID:t})))}function b(e,n,t,r){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:l},Object(c.a)({channelID:e,emoteID:t,cost:Object(u.c)(n),transactionID:r})))}function S(e,n,t,r){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:m},Object(c.a)({channelID:e,emoteID:t,cost:Object(u.c)(n),transactionID:r})))}function y(e){Object(c.i)(s,{withOwner:!0},(function(n){return r(n,(function(e){return e.currentUser.emoteSets}),(function(n){var t=n.filter((function(e){return e.id===f})).length>0;return n=t?n.map((function(n){if(n.id===f){var t=Object(i.__assign)(Object(i.__assign)({},e),{modifiers:null,setID:f,__typename:"Emote"});return r(n,(function(e){return e.emotes}),(function(n){return n?-1!==n.findIndex((function(n){return n&&n.id===e.id}))?n:Object(i.__spreadArrays)(n,[t]):[t]}))}return n})):Object(i.__spreadArrays)(n,[{id:f,emotes:[Object(i.__assign)(Object(i.__assign)({},e),{modifiers:null,setID:f,__typename:"Emote"})],__typename:"EmoteSet",owner:{__typename:"User",id:h,login:v,displayName:null,profileImageURL:null}}])}))}))}},dq0Q:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductEmote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:61}};t.loc.source={body:"fragment subscriptionProductEmote on Emote {\nid\nsetID\ntoken\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"dr/4":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Thread_SetMuteThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateWhisperThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateWhisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMuted"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:129}};t.loc.source={body:"mutation Thread_SetMuteThread($input: UpdateWhisperThreadInput!) {\nupdateWhisperThread(input: $input) {\nthread {\nid\nisMuted\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Thread_SetMuteThread=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Thread_SetMuteThread")},e9QR:function(e,n,t){},eJ65:function(e,n,t){"use strict";var i=t("bq0i");t.d(n,"a",(function(){return i.a}))},eJuE:function(e,n,t){},eugE:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.Timestamp=0]="Timestamp",e[e.Whisper=1]="Whisper",e[e.Warning=2]="Warning",e[e.InactiveUserNotice=3]="InactiveUserNotice",e[e.NewMessages=4]="NewMessages",e[e.Notification=5]="Notification"}(i||(i={}))},evnP:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("/7QA"),o=t("D7An"),s=t("YVOQ"),c=t("Mb07"),d=t("DnOo"),u=t("a5fV"),l=t("br9A"),m=t("sUnt"),p=t("yymn"),f=t("+80q"),h=t("C7sF"),v=t("hnjF"),g=(t("g0Jf"),"first_paid_sub_offer");var k=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){var e;if(!b())return null;var n=this.props,t=n.handleSubMenuAction,i=n.product,o=n.subscriptionBenefit,s=Object(c.b)(c.a.FirstPaidSubOffer,i);if(!s||!Object(c.d)(s))return null;var g=Object(u.e)(i),k=Object(c.c)(s),S=k.discountPercent,y=k.price;return S&&g&&y?r.createElement(m.a,{className:"first-paid-sub-offer__container",display:p.g.Flex,flexGrow:1,justifyContent:p.l.Between,margin:{x:"auto"},padding:{x:2,y:1}},r.createElement(m.a,{className:"first-paid-sub-offer__upsell",display:p.g.Flex,flexDirection:p.h.Column,justifyContent:p.l.Center},r.createElement(m.a,{margin:{bottom:.5}},r.createElement(f.a,{fontSize:p.j.Size4,lineHeight:f.b.Heading},Object(a.d)("First Sub, First Month: {offerPercentage}% off!",{offerPercentage:S},"FirstPaidSubOffer"))),r.createElement(f.a,{fontSize:p.j.Size7},Object(a.d)("Tier 1 only. Renews monthly at {renewalPrice}",{renewalPrice:y},"FirstPaidSubOffer"))),r.createElement(m.a,{alignItems:p.b.End,className:"first-paid-sub-offer__cta",display:p.g.Flex,flexDirection:p.h.Column,justifyContent:p.l.Center},r.createElement(d.a,{customSubscribeNowMessage:(null===(e=null==o?void 0:o.gift)||void 0===e?void 0:e.isGift)||(null==o?void 0:o.purchasedWithPrime)?Object(a.d)("Continue Sub","FirstPaidSubOffer"):Object(a.d)("Subscribe","FirstPaidSubOffer"),handleSubAction:t,icon:h.a.Star,isSubbedToTier:!1,overrideSubEventAction:l.a.BuyQuickSub,productName:i.name,tierPrice:String(g),url:i.url,offerID:s.id}),r.createElement(v.a,{className:"first-paid-sub-offer__cta--description",textAlign:p.p.Right},r.createElement(f.a,{fontSize:p.j.Size7},Object(a.d)("Was {renewalPrice}, {offerPercentage}% Off First Month",{offerPercentage:S,renewalPrice:y},"FirstPaidSubOffer"))))):null},n}(r.Component);function b(){return a.b.get(g,!1)&&"variant_fpso_20"===a.p.experiments.getAndTrackAssignment(o.c.MultiMonthSubs)}var S=Object(s.b)((function(e){return{subscriptionBenefit:e.subscriptionBenefit}}))(k);t.d(n,"b",(function(){return b})),t.d(n,"a",(function(){return S}))},fBrF:function(e,n,t){"use strict";t.d(n,"b",(function(){return c})),t.d(n,"a",(function(){return d}));var i,r=t("mrSG"),a=t("q1tI"),o=t("1rIY"),s=(i=Object(o.a)("WatchPartyContext",{isWatchPartyActive:!1,canChatOnPageDuringWatchParty:!1,updateWatchPartyActive:function(){return null},allowChatOnPageDuringWatchParty:function(){return null}})).context,c=i.withContext,d=function(e){function n(n){var t=e.call(this,n)||this;return t.updateWatchPartyActive=function(e){t.setState({isWatchPartyActive:e})},t.allowChatOnPageDuringWatchParty=function(e){t.setState({canChatOnPageDuringWatchParty:e})},t.state={isWatchPartyActive:!1,canChatOnPageDuringWatchParty:!1,allowChatOnPageDuringWatchParty:t.allowChatOnPageDuringWatchParty,updateWatchPartyActive:t.updateWatchPartyActive},t}return Object(r.__extends)(n,e),n.prototype.render=function(){return a.createElement(s.Provider,{value:this.state},this.props.children)},n}(a.Component)},fbdC:function(e,n,t){"use strict";var i,r=t("/MKj"),a=t("ANjH"),o=t("XDCx"),s=t("mrSG"),c=t("q1tI"),d=t("/7QA"),u=t("cZKs"),l=t("atdg"),m=t("Ws8v"),p=t("yymn"),f=t("sUnt"),h=t("+80q"),v=t("dEDE");!function(e){e.Message="confirmation-modal__message",e.ConfirmButton="confirmation-modal__confirm-button"}(i||(i={}));var g=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleCancelClick=function(){n.props.closeModal(),n.props.onCloseModal&&n.props.onCloseModal()},n.renderConfirmButton=function(){return c.cloneElement(n.props.confirmButton,{onClick:n.handleConfirmClick,"data-test-selector":i.ConfirmButton})},n.handleConfirmClick=function(){n.props.closeModal(),n.props.onConfirmClick()},n}return Object(s.__extends)(n,e),n.prototype.render=function(){return c.createElement(m.a,{background:p.d.Base,padding:{x:3,top:3,bottom:2},display:p.g.Flex,flexDirection:p.h.Column},c.createElement(f.a,{display:p.g.HideAccessible},c.createElement(h.a,{id:l.a},Object(d.d)("Confirm","SettingsConfirmationModal"))),c.createElement(f.a,{"data-test-selector":i.Message},this.props.message),c.createElement(f.a,{display:p.g.Flex,flexDirection:p.h.Row,justifyContent:p.l.Center,padding:{top:2}},c.createElement(f.a,{padding:{right:.5}},c.createElement(v.a,{type:v.d.Text,onClick:this.handleCancelClick},Object(d.d)("Cancel","SettingsConfirmationModal"))),c.createElement(f.a,{padding:{left:.5}},this.renderConfirmButton())),c.createElement(u.a,{onClose:this.props.onCloseModal}))},n}(c.Component);var k=Object(r.b)(null,(function(e){return Object(a.b)({closeModal:o.d},e)}))(g);t.d(n,"a",(function(){return k}))},fezU:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("1rIY"),o=t("3sMn"),s=t("1MDS"),c=t("oK83"),d=Object(a.a)("ViewerCardContext",{viewerCardOptions:null,onShowViewerCard:function(){return null},onShowExtensionMessageCard:function(){return null},onShowEmoteCard:function(){return null},hideViewerCard:function(){return null}}),u=d.context,l=d.withContext,m=function(e){function n(n){var t=e.call(this,n)||this;return t.onShowViewerCard=function(e,n,i,r){t.setState((function(t){var a=t.viewerCardOptions;return a&&a.targetID===e?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:c.c.Viewer,initialTopOffset:r,sourceID:i,sourceType:n,targetID:e}}}))},t.onShowExtensionMessageCard=function(e,n,i,r){t.setState((function(t){var a=t.viewerCardOptions;return a&&a.viewerCardType===c.c.Extension&&a.targetID===e?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:c.c.Extension,initialTopOffset:r,sourceID:i,targetID:e,extensionVersion:n}}}))},t.onShowEmoteCard=function(e){t.setState((function(n){var t=n.viewerCardOptions;return t&&t.viewerCardType===c.c.Emote&&t.emoteID===e.emoteID?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:c.c.Emote,initialTopOffset:e.initialTopOffset||0,sourceID:e.sourceID,emoteSourceType:e.emoteSourceType,targetID:e.referrerID,emoteID:e.emoteID,emoteCode:e.emoteCode}}})),Object(s.c)({emoteLocation:Object(s.b)(e.emoteSourceType),emoticonID:e.emoteID,chatChannel:e.channelLogin,chatChannelID:e.channelID?e.channelID:"",referrerUserID:e.referrerID,action:s.a.Open,msgID:e.sourceID})},t.hideViewerCard=function(){t.setState({viewerCardOptions:null})},t.state={viewerCardOptions:null,onShowViewerCard:t.props.onUsernameClick||t.onShowViewerCard,onShowExtensionMessageCard:t.onShowExtensionMessageCard,onShowEmoteCard:t.onShowEmoteCard,hideViewerCard:t.hideViewerCard},t}return Object(i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){!e.onUsernameClick&&this.props.onUsernameClick&&this.setState({onShowViewerCard:this.props.onUsernameClick})},n.prototype.render=function(){return r.createElement(u.Provider,{value:this.state},this.props.children)},n}(r.Component);var p=Object(o.b)((function(e){return{onUsernameClick:e.onUsernameClick}}))(m);t.d(n,"b",(function(){return l})),t.d(n,"a",(function(){return p}))},fg2I:function(e,n,t){"use strict";var i=t("mrSG"),r=t("TSYQ"),a=t("q1tI"),o=t("/7QA"),s=t("eJ65"),c=t("8Ad5"),d=t("EvYO"),u=t("D7An"),l=t("DMoW"),m=t("2xye"),p=t("m98o"),f=t("as+V"),h=t("CUHS"),v=t("/MKj"),g=t("ANjH"),k=t("yR8l"),b=t("iS14"),S=t("geRD"),y=t("TvOw"),E=t("lZZ2"),_=t("tLDJ"),C=t("0tEc"),N=t("/rr3"),D=t("J71B"),w=t("4qQ0"),O=t("CzFK"),T=t("l1Uh"),I=t("PrJw"),F=t("4wKg"),P=t("sUnt"),U=t("k0nM"),j=t("G9mL"),A=t("Gu45"),M=t("dr/4"),R="whispers-report-user-button",x=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderReportButton=function(){var e=n.props.displayName||n.props.login,t=Object(o.d)("Report {displayName}",{displayName:e},"ThreadSettings");return a.createElement(F.a,{label:t,ariaLabel:t,onClick:n.reportUser,"data-test-selector":R})},n.toggleMutethread=function(){var e=!n.props.isMuted,t=Object(S.b)({threadID:n.props.threadID,isMuted:!n.props.isMuted},{updateWhisperThread:{thread:{id:n.props.threadID,isMuted:e,__typename:"WhisperThread"},__typename:"UpdateWhisperThreadPayload"}});e?Object(I.l)(n.props.threadID):Object(I.n)(n.props.threadID),n.props.setMuteThread(t)},n.onRevokeButtonClicked=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:e=Object(i.__assign)({},Object(S.a)({threadID:this.props.threadID,removeWhitelist:!0})),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.props.revokeWhisperAccess(e)];case 2:return n.sent(),[3,4];case 3:return n.sent(),[2];case 4:return this.props.onCloseThread(this.props.threadID),[2]}}))}))},n.reportUser=function(){var e=n.props.displayName||n.props.login;n.props.showReportUserModal({onClose:n.onReportModalClose,reportContext:{contentType:l.Mc.WHISPER_REPORT,targetUserID:n.props.userID,contentID:n.props.threadID},title:Object(o.d)("Report {displayName}",{displayName:e},"ReportUserModal")})},n.onReportModalClose=function(e,t){e===w.b.Success&&t&&n.props.onBlock&&n.props.onBlock(n.props.threadID)},n.blockUser=function(){n.props.showBlockModal({context:l.u.WHISPER,displayName:n.props.displayName||n.props.login,login:n.props.login,onBlock:function(){return n.props.onBlock(n.props.threadID)},reason:y.a.Other,userID:n.props.userID})},n.unblockUser=function(){n.props.unblockUserMutation(n.props.userID),n.props.onUnblock&&n.props.onUnblock(n.props.threadID)},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props.displayName||this.props.login,n=this.props.isMuted?Object(o.d)("Turn Notifications On","ThreadSettings"):Object(o.d)("Turn Notifications Off","ThreadSettings"),t=Object(o.d)("Go to {displayName}'s Channel",{displayName:e},"ThreadSettings");return a.createElement(P.a,null,a.createElement(U.a,{show:!0},a.createElement(F.a,{label:n,onClick:this.toggleMutethread,ariaLabel:n}),a.createElement(j.a,null),a.createElement(C.a,{friendButtonUIType:N.a.WhisperSettings,requestContext:D.a.Conversation,targetID:this.props.userID}),this.renderRevokeButton(),this.renderBlockButton(),this.renderReportButton(),a.createElement(F.a,{label:t,linkTo:Object(_.mb)(this.props.login),ariaLabel:t})))},n.prototype.renderRevokeButton=function(){return this.props.hasTemporaryWhisperAccess?a.createElement(F.a,{label:Object(o.d)("Revoke Whisper Access","ThreadSettings"),onClick:this.onRevokeButtonClicked,"data-test-selector":"whispers-revoke-access-button"}):null},n.prototype.renderBlockButton=function(){var e,n,t=this.props.displayName||this.props.login;return this.isBlocked?(e=Object(o.d)("Unblock {displayName}",{displayName:t},"ThreadSettings"),n=this.unblockUser):(e=Object(o.d)("Block {displayName}",{displayName:t},"ThreadSettings"),n=this.blockUser),a.createElement(F.a,{label:e,ariaLabel:e,onClick:n,"data-test-selector":"whispers-block-user-button"})},Object.defineProperty(n.prototype,"isBlocked",{get:function(){var e=this;return!!(this.props.currentUser&&this.props.currentUser.blockedUsers&&this.props.currentUser.blockedUsers.find((function(n){return!!n&&n.id===e.props.userID})))},enumerable:!0,configurable:!0}),n}(a.Component);var B=Object(g.d)(Object(v.b)(null,(function(e){return{onCloseThread:function(n){return e(Object(O.h)(n,Object(T.a)()))}}})),Object(k.a)(A,{name:"revokeWhisperAccess"}),Object(k.a)(M,{name:"setMuteThread"}),E.a,Object(b.a)())(x),L=t("796b");function W(e){switch(e){case l.k.ONLINE:return L.b.Online;case l.k.AWAY:case l.k.IDLE:return L.b.Away;case l.k.BUSY:return L.b.Busy;case l.k.OFFLINE:default:return L.b.Offline}}var G=t("yymn"),q=t("PL8s"),V=t("7d/q"),H=t("C7sF"),z=t("Jsra"),Q=t("ygYM"),K=t("hnjF"),Y=t("+80q"),X=t("Ws8v"),$=(t("hRS0"),{__typename:"User",displayName:"???",chatColor:null,profileImageURL:null,login:"???",displayBadges:[],id:"",self:null}),J=function(e){function n(n){var t=e.call(this,n)||this;t.renderPotentialSpamPrompt=function(){var e,n;return(null===(e=t.props.spamInfo)||void 0===e?void 0:e.likelihood)===l.Wd.LOW||(null===(n=t.props.spamInfo)||void 0===n?void 0:n.lastMarkedNotSpamAt)?null:a.createElement(h.a,{threadID:t.props.threadID,interlocutor:t.interlocutor,onBlock:t.props.onBlock})},t.onSettingsClick=function(e){e.stopPropagation()},t.onHeaderActivate=function(e){e.target===e.currentTarget&&(e.charCode!==c.a.Enter&&e.charCode!==c.a.Space||(t.props.onHeaderInteract(),e.stopPropagation()))},t.onFocus=function(){t.setState({isElementFocused:!0})},t.onBlur=function(){t.setState({isElementFocused:!1})},t.onJoinClick=function(e){t.onPresenceClick(d.a.WhisperHeaderButton,e)},t.onActivityClick=function(e){t.onPresenceClick(d.a.WhisperHeaderLink,e)},t.onPresenceClick=function(e,n){n.stopPropagation(),t.props.interlocutor&&t.props.interlocutorActivity&&t.props.interlocutor.login?Object(d.b)({context:e,friendActivity:t.props.interlocutorActivity,friendLogin:t.props.interlocutor.login}):o.k.warn("[ThreadHeader] Attempted to track presence click without required data.")};var i=o.p.experiments.getAndTrackAssignment(u.c.ExtendedPresence);return t.state={hasExtendedRichPresence:"variant_a"===i,isElementFocused:!1},t}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props.isHighlighted&&!this.state.isElementFocused,n=r({"thread-header__title-bar-container":!0,"thread-header__title-bar-container--highlighted":this.props.isHighlighted,"thread-header__title-bar-container--focused":this.props.isFocused}),t=r({"thread-header":!0,"thread-header--collapsed":this.props.isCollapsed}),i=r({"thread-header__display-name--highlighted":this.props.isHighlighted}),c=Object(o.d)("Close","WhisperThreadHeader"),d=Object(o.d)("Settings","WhisperThreadHeader");if(this.props.isLoading||!this.props.currentUser||!this.interlocutor)return a.createElement(P.a,{className:n,display:G.g.Flex,justifyContent:G.l.Between,fullWidth:!0,alignItems:G.b.Center,padding:{y:.5,x:1},flexShrink:0,flexGrow:0,flexWrap:G.i.NoWrap},a.createElement(q.a,{height:20,width:80}),a.createElement(P.a,{display:G.g.Flex},a.createElement(V.a,{ariaLabel:c,icon:H.a.Close,"data-a-target":"whispers-thread__close-button-"+this.props.threadID,onClick:this.props.onClose})));var u=null,h=null,v=null,g=null;if(this.props.interlocutorActivity){var k=this.props.interlocutorAvailability,b=this.props.interlocutorActivity;if(h=a.createElement(P.a,{margin:{left:1},display:G.g.Flex,alignItems:G.b.Center},a.createElement(L.a,{status:W(k||l.k.OFFLINE)})),b){var S={activity:b,availability:this.state.hasExtendedRichPresence?k:void 0},y=Object(p.b)(S,!0),E=null,_=Object(p.c)(this.interlocutor.login,b);if(_&&(E={pathname:_,state:{content:m.PageviewContent.Presence,medium:m.PageviewMedium.Whispers}}),E){var C=r({"thread-header__activity-link--highlighted":this.props.isHighlighted});v=a.createElement(z.a,{className:C,title:Object(p.b)(S)||"",onClick:this.onActivityClick,linkTo:E,"data-test-selector":"whispers-thread__presence-link"},y)}else v=y;this.props.isCollapsed||(g=a.createElement(f.a,{availability:k||l.k.OFFLINE,link:E,onClick:this.onJoinClick,shouldHollowOverlay:this.props.isHighlighted,margin:{right:.5}}))}}!this.props.isCollapsed&&this.props.currentUser&&this.interlocutor.login&&this.interlocutor.id&&!this.props.interactionsDisabled&&(u=a.createElement(s.a,null,a.createElement(V.a,{ariaLabel:d,icon:H.a.Gear,overlay:e}),a.createElement(Q.a,{direction:Q.b.BottomRight,offsetX:"0.5rem",size:Q.c.Small},a.createElement(B,{login:this.interlocutor.login,displayName:this.interlocutor.displayName,currentUser:this.props.currentUser,userID:this.interlocutor.id,isMuted:this.props.isMuted,threadID:this.props.threadID,onBlock:this.props.onBlock,onUnblock:this.props.onUnblock,showReportUserModal:this.props.showReportUserModal,hasTemporaryWhisperAccess:!!this.interlocutor.self&&!!this.interlocutor.self.whisperPermissions&&this.interlocutor.self.whisperPermissions.receive===l.Vd.TEMPORARY}))));var N=this.interlocutor.displayBadges.map((function(e){return e?a.createElement(K.a,{key:e.id,flexShrink:0,margin:{right:.5}},a.createElement("img",{alt:e.title,title:e.title,className:"thread-header__badge",src:e.imageURL})):null}));return a.createElement(P.a,{className:t,position:G.n.Relative,fullWidth:!0},a.createElement("div",{className:"thread-header__click-area",onClick:this.props.onHeaderInteract,onKeyPress:this.onHeaderActivate,onFocus:this.onFocus,onBlur:this.onBlur,"data-a-target":"thread-header__click-area",tabIndex:0},a.createElement(P.a,{className:n,fullWidth:!0,padding:{x:1,y:.5},alignItems:G.b.Center,flexGrow:1,display:G.g.Flex,"data-a-target":"whisper-thread-title-bar-"+(this.interlocutor&&this.interlocutor.login),"data-click-out-id":"thread-expand-close",flexWrap:G.i.NoWrap},a.createElement(P.a,{display:G.g.Flex,flexDirection:G.h.Column,flexGrow:1,fullHeight:!0,overflow:G.m.Hidden},a.createElement(P.a,{display:G.g.Flex,flexGrow:1,alignItems:G.b.Center,flexWrap:G.i.NoWrap,padding:{right:1},ellipsis:!0},N,a.createElement(Y.a,{className:i,type:Y.e.Span,bold:!0,ellipsis:!0},this.interlocutor.displayName?this.interlocutor.displayName:$.displayName),h),a.createElement(X.a,{className:"thread-header__activity",color:this.props.isHighlighted?G.f.Overlay:G.f.Base,padding:{right:1},ellipsis:!0},v)),a.createElement(P.a,{display:G.g.Flex,flexShrink:0,flexDirection:G.h.Row,alignItems:G.b.Center},g,a.createElement("div",{onClick:this.onSettingsClick},u),a.createElement(V.a,{ariaLabel:c,icon:H.a.Close,"data-a-target":"thread-close-button-"+(this.interlocutor&&this.interlocutor.login),"data-test-selector":"thread-header__close-button-"+this.props.threadID,onClick:this.props.onClose,overlay:e})))),this.renderPotentialSpamPrompt())},Object.defineProperty(n.prototype,"interlocutor",{get:function(){return this.props.interlocutor||$},enumerable:!0,configurable:!0}),n}(a.Component);t.d(n,"b",(function(){return $})),t.d(n,"a",(function(){return J}))},fqAq:function(e,n,t){},"g+79":function(e,n,t){"use strict";var i,r,a=t("mrSG"),o=t("TSYQ"),s=t("q1tI"),c=t("4rCz"),d=t("A4KW"),u=t("W1jp"),l=t("X2PJ"),m=t("yymn"),p=t("uG/k"),f=t("Ws8v"),h=t("sUnt"),v=t("+80q");t("rCSd");!function(e){e.Cost="cost"}(i||(i={})),function(e){e.ExtraSmall="reward-icon--extra-small",e.Small="reward-icon--small",e.Medium="reward-icon--medium",e.Large="reward-icon--large"}(r||(r={}));var g=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(n,e),n.prototype.render=function(){var e,n=o(((e={"reward-icon":!0})[this.props.size||r.Medium]=!0,e["reward-icon__animated"]=!!this.props.animateOnHover,e));return s.createElement(l.a,{alignItems:m.b.Center,className:n,borderRadius:m.e.Medium,display:m.g.Flex,flexDirection:m.h.Column,justifyContent:m.l.Center,position:m.n.Relative},s.createElement("div",{style:this.customStyles},this.icon,this.cost))},Object.defineProperty(n.prototype,"customStyles",{get:function(){var e=Object(u.b)(this.props.data);return e?{backgroundColor:e}:{}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"icon",{get:function(){var e=this.props.animateOnHover?Object(u.a)(this.props.data):Object(u.e)(this.props.data),n=o({"reward-icon__image":!0,"reward-icon__image--raised":!!this.props.showCost&&this.props.size===r.Large,"reward-icon__image--extra-small":this.props.size===r.ExtraSmall});return s.createElement(p.a,Object(a.__assign)({alt:Object(u.f)(this.props.data),className:n},e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cost",{get:function(){return this.props.showCost&&this.props.size===r.Large?s.createElement(f.a,{attachBottom:!0,alignItems:m.b.Center,borderRadius:m.e.Small,className:"reward-icon__cost",margin:{y:1},padding:{x:.5},position:m.n.Absolute,"data-test-selector":i.Cost,justifyContent:m.l.Center,display:m.g.Flex,color:m.f.Overlay},s.createElement(h.a,{margin:{right:.5}},s.createElement(d.b,{channelLogin:this.props.channelLogin,iconSize:d.a.Small})),s.createElement(v.a,{fontSize:m.j.Size7},Object(c.f)(Object(u.c)(this.props.data)))):null},enumerable:!0,configurable:!0}),n}(s.Component);t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return g}))},g0Jf:function(e,n,t){},g7ZD:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"friendButtonFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"friendship"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:148}};t.loc.source={body:"# Queries the fields necessary to render the FriendButton component.\nfragment friendButtonFragment on User {\nid\nself {\nfriendship {\n__typename\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},gDzh:function(e,n,t){},gTu3:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.Default=0]="Default",e[e.Recipient=1]="Recipient",e[e.Sender=2]="Sender"}(i||(i={}))},glr9:function(e,n,t){},hRS0:function(e,n,t){},heM0:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FriendButton_CreateFriendRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateFriendRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createFriendRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"friendButtonFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:232}};i.loc.source={body:'#import "twilight/features/friend-button/queries/friend-button-fragment.gql"\nmutation FriendButton_CreateFriendRequest($input: CreateFriendRequestInput!) {\ncreateFriendRequest(input: $input) {\nuser {\nid\n...friendButtonFragment\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("g7ZD").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)})));var a={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.FriendButton_CreateFriendRequest=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"FriendButton_CreateFriendRequest")},hhl4:function(e,n,t){},i6WW:function(e,n,t){"use strict";var i=t("RcPG"),r=new RegExp("(?:^|\\s)(?:https?://)?clips.twitch.tv/(\\w+)(?:/)?(\\w+)?(?:/edit)?(?:$|\\s)?"),a=new RegExp("(?:^|\\s)(?:https?:\\/\\/)?(?:www\\.)?twitch\\.tv\\/(\\w+)\\/clip\\/(\\w+)(?:$|\\s)?");var o=new RegExp("(?:^|\\s)(?:https?://)?(?:(?:www|go).)?twitch.tv/videos/(\\d+)(?:$|\\s)?");t.d(n,"a",(function(){return c}));var s=/(?:(https?:\/\/)?((?:[\w#%\-+=:~]+\.)+[a-z]{2,8}(?:\/[\w./#%&@()\-+=:?~]*)?))/;function c(e,n){void 0===n&&(n={});var t=[],c=e.match(s);if(!c)return null;var d=c[0],u=e.indexOf(d);if(u>0){if("@"===e[u-1])return null;t.push({type:i.a.Text,content:e.slice(0,u)})}var l=c[1],m=c[2];(function(e){var n,t=e[e.length-1];if(")"!==t)return!1;n="(";for(var i=0,r=0,a=e.length-1;r<a;r++){var o=e[r];o===n?i++:o===t&&(i=Math.max(i-1,0))}return 0===i})(d)&&(d=d.slice(0,-1),m=m.slice(0,-1));var p=""+(l||"https://")+m;if(n.parseClips&&function(e){void 0===e&&(e="");var n=r.test(e)&&!e.includes("clips.twitch.tv/2017/"),t=a.test(e);return n||t}(p)){var f=function(e){void 0===e&&(e="");var n=e.match(r);if(n&&n.length>0&&void 0!==n.index)return n[1];var t=e.match(a);return t&&t.length>0&&void 0!==t.index?t[2]:""}(p);if("create"!==f)return t.push({type:i.a.ClipLink,content:{slug:f,url:p,displayText:d}}),t}if(n.parseVods&&function(e){return void 0===e&&(e=""),o.test(e)}(p)){var h=function(e){void 0===e&&(e="");var n=e.match(o);return null===n?"":n&&n.length>0&&void 0!==n.index?n[1]:""}(p);return t.push({type:i.a.VideoLink,content:{id:h,url:p,displayText:d}}),t}return t.push({type:i.a.Link,content:{displayText:d,url:p}}),u+d.length<e.length&&t.push({type:i.a.Text,content:e.slice(u+d.length,e.length)}),t}},iS14:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var i=t("mrSG"),r=t("w09P"),a=t("yR8l"),o=t("ru7j"),s=t("zixI");function c(){var e=this;return Object(a.a)(s,{props:function(n){return{unblockUserMutation:function(t){return Object(i.__awaiter)(e,void 0,Promise,(function(){var e;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return n.mutate?[4,n.mutate({variables:{input:{targetUserID:t}},optimisticResponse:{unblockUser:{__typename:"UnblockUserPayload",targetUser:{__typename:"User",id:t}}},update:function(e){var n=null;try{n=e.readQuery({query:o})}catch(e){return}(null==n?void 0:n.currentUser)&&e.writeQuery({query:o,data:r(n,(function(e){return e.currentUser.blockedUsers}),(function(e){return e.filter((function(e){return!e||e.id!==t}))}))})}})]:[3,2];case 1:if(!(e=i.sent()))throw new Error("unblockUserMutation did not resolve with data");return[2,e];case 2:throw new Error("unblockUserMutation is not ready")}}))}))}}}})}},j0ar:function(e,n,t){"use strict";var i=t("mrSG"),r=t("TSYQ"),a=t("q1tI"),o=t("x1M1"),s=t("hnjF"),c=t("yymn"),d=t("+80q"),u=t("PL8s"),l=t("b7S+"),m=(t("9KaG"),function(e){function n(n){var t=e.call(this,n)||this;return t.onImageLoad=function(){t.setState({imageLoaded:!0})},t.onMouseOver=function(){t.setState({isHovering:!0})},t.onMouseOut=function(){t.setState({isHovering:!1})},t.renderImage=function(){var e=null,n=r("chat-image",{"chat-image__animated":!!t.props.cheerText&&t.state.imageLoaded},t.props.className);if(t.props.srcSet.themed)e=a.createElement(s.a,{display:t.state.imageLoaded?c.g.InlineBlock:c.g.Hide},a.createElement(o.a,{alt:t.props.alt,className:n,defaultRes:t.props.srcKey,onLoad:t.onImageLoad,onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,sources:t.props.srcSet}));else{for(var i=[],d=0,u=Object.keys(t.props.srcSet.sources);d<u.length;d++){var l=u[d];i.push(t.props.srcSet.sources[l]+" "+l)}e=a.createElement(s.a,{display:t.state.imageLoaded?c.g.InlineBlock:c.g.Hide},a.createElement("img",{className:n,onLoad:t.onImageLoad,onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,src:t.props.srcSet.sources[t.props.srcKey],srcSet:i.join(","),alt:t.props.alt}))}return e},t.renderPlaceholder=function(){return t.state.imageLoaded?null:a.createElement(s.a,{display:c.g.InlineBlock},a.createElement(d.a,{type:d.e.Span,className:"chat-image__placeholder",align:c.q.Top},a.createElement(u.a,{height:28,width:28})))},t.state={imageLoaded:!1,isHovering:!1},t}return Object(i.__extends)(n,e),n.prototype.render=function(){var e;return e=this.state.isHovering&&this.state.imageLoaded?a.createElement(l.a,{direction:this.props.tooltipDirection||l.c.Top,label:this.props.alt,display:c.g.Inline,offsetY:"0.9rem","data-a-target":"emote-name"},this.renderPlaceholder(),this.renderImage(),this.props.cheerText):a.createElement("span",{"data-a-target":"emote-name"},this.renderPlaceholder(),this.renderImage(),this.props.cheerText),this.props.cheerText?a.createElement(d.a,{type:d.e.Span,whiteSpace:d.f.NoWrap},e):e},n}(a.Component));t.d(n,"a",(function(){return m}))},jzo8:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return h}));var i,r=t("pVnL"),a=t.n(r),o=t("VbXa"),s=t.n(o),c=t("q1tI"),d=t("vCsY"),u=t("7d/q"),l=t("uKd/"),m=t("sUnt"),p=t("yymn"),f=t("Ws8v");t("fqAq");!function(e){e[e.Column=1]="Column",e[e.Row=2]="Row"}(i||(i={}));var h=function(e){function n(){return e.apply(this,arguments)||this}s()(n,e);var t=n.prototype;return t.render=function(){var e=this.props.children;if(this.props.children&&this.isCalloutLayout(this.props.children)){var n=this.props.children,t=n.orientation===i.Row?i.Row:i.Column;e=c.createElement(m.a,{display:p.g.Flex,alignItems:p.b.Start,flexDirection:n.orientation===i.Row?p.h.Row:p.h.Column,padding:void 0!==n.padding?n.padding:2},c.createElement(m.a,{fullWidth:!0,display:p.g.Flex,alignItems:p.b.Start},n.figure&&c.createElement(f.a,{margin:{right:1},padding:.5,display:p.g.Flex,flexGrow:0,flexShrink:0,alignItems:p.b.Center,justifyContent:p.l.Center},n.figure),c.createElement(m.a,{flexGrow:1},t===i.Column&&this.renderClose(),n.message)),n.actions&&c.createElement(m.a,{display:p.g.Flex,justifyContent:p.l.End,margin:{top:t===i.Column?1:0,left:t===i.Column?0:1},fullWidth:t===i.Column},n.actions),t===i.Row&&this.renderClose())}return c.createElement(f.a,a()({},Object(d.a)(this.props),{background:p.d.Base,color:p.f.Base,borderRadius:p.e.Medium,elevation:this.props.elevation,position:p.n.Relative}),e)},t.isCalloutLayout=function(e){return!!e.message},t.renderClose=function(){if(this.isCalloutLayout(this.props.children)&&this.props.children.closeButton)return c.createElement(m.a,{className:"tw-callout__close",flexShrink:0,alignSelf:p.c.Start,display:p.g.InlineFlex,margin:{left:1}},c.createElement(l.a,{ariaLabel:this.props.children.closeButton.ariaLabel,onClick:this.props.children.closeButton.onClick,size:u.b.Small}))},n}(c.Component);h.displayName="Callout",h.defaultProps={elevation:1}},k0nM:function(e,n,t){"use strict";t.d(n,"a",(function(){return h}));var i=t("pVnL"),r=t.n(i),a=t("VbXa"),o=t.n(a),s=t("q1tI"),c=t("vCsY"),d=t("ygYM"),u=t("hnjF"),l=t("yymn"),m=t("sUnt"),p=t("cNYe"),f=t("4wKg"),h=function(e){function n(){return e.apply(this,arguments)||this}return o()(n,e),n.prototype.render=function(){var e=[];return this.props.items&&this.props.items.map((function(n,t){n.type?e.push(s.createElement(p.a,r()({},n,{key:t}))):e.push(s.createElement(f.a,r()({key:t},n)))})),s.createElement(d.a,{elevation:this.props.elevation,offsetX:this.props.offsetX,offsetY:this.props.offsetY,direction:this.props.direction,noTail:this.props.noTail,size:this.props.size?this.props.size:d.c.Small,show:this.props.show,background:this.props.background,overlay:this.props.overlay},s.createElement(u.a,{display:l.g.Flex,flexDirection:l.h.Column},s.createElement("div",{style:{maxHeight:this.props.maxHeight}},s.createElement(m.a,r()({overflow:l.m.Auto,padding:1},Object(c.a)(this.props)),e,this.props.children))))},n}(s.Component);h.displayName="DropDownMenu"},kPBf:function(e,n){},kSkr:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"BlockUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BlockUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"blockUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"targetUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:94}};t.loc.source={body:"mutation BlockUser($input: BlockUserInput!) {\nblockUser(input: $input) {\ntargetUser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.BlockUser=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"BlockUser")},kqSx:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var i=t("pVnL"),r=t.n(i),a=t("8OQS"),o=t.n(a),s=t("q1tI"),c=t("kV5U"),d=t("fNzW"),u=t("vCsY"),l=t("1H2c"),m=t("Ws8v"),p=t("X2PJ"),f=t("yymn"),h=t("sUnt"),v=t("2Ob2"),g=t("2nDl"),k=(t("3ypW"),function(e){var n,t=Object(l.a)(),i={"tw-checkbox":!0,"tw-checkbox--error":e.error,"tw-checkbox--overlay":e.overlay};e.tabIndex&&(n=e.tabIndex);var a=g.c.Default;e.size&&(a=e.size);e.label,e.size,e.overlay,e.error;var v=e.refDelegate,k=o()(e,["label","size","overlay","error","refDelegate"]);return s.createElement(m.a,r()({className:Object(d.a)(i),fontSize:g.b[a]},Object(u.a)(e)),s.createElement("input",r()({},Object(u.b)(k),Object(c.a)(e),{className:"tw-checkbox__input",type:"checkbox","data-a-target":"tw-checkbox",id:e.id?e.id:t,tabIndex:n,ref:v,"aria-label":void 0===e.label?e.ariaLabel:void 0})),s.createElement(p.a,{display:f.g.Block},s.createElement("label",{className:"tw-checkbox__label",htmlFor:e.id?e.id:t},e.label&&s.createElement(h.a,{margin:{left:1}},e.label))))});k.displayName="CheckBoxComponent",k.displayName="CheckBoxComponent";var b=Object(v.c)(k)},l1Uh:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return a}));var i=null;function r(e){i=e}function a(){return i?+window.getComputedStyle(i).getPropertyValue("width").replace("px",""):0}},lZZ2:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("/MKj"),o=t("ANjH"),s=t("/7QA"),c=t("fbdC"),d=t("BhFH"),u=t("QVaV"),l=t("XDCx"),m=t("dEDE"),p=t("Ws8v"),f=t("yymn"),h=t("+80q"),v=t("CGUg"),g=t("sUnt");var k=Object(o.d)(Object(d.a)(),Object(a.b)(null,(function(e){return Object(o.b)({showConfirmationModal:function(e){var n=Object(i.__rest)(e,[]);return Object(l.e)(c.a,n)}},e)})),(function(e){return function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={error:!1},e.showBlockModal=function(n){return e.props.showConfirmationModal({confirmButton:e.renderBlockButton(),onConfirmClick:function(){return Object(i.__awaiter)(e,void 0,void 0,(function(){var e=this;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.props.blockUserMutation(n.userID,n.reason,n.context)];case 1:return t.sent(),[3,3];case 2:return t.sent(),this.setState({error:!0},(function(){return e.showBlockModal(n)})),[2];case 3:return n.onBlock&&n.onBlock(),[2]}}))}))},message:e.renderMessage(n.login,n.displayName),onCloseModal:function(){return e.setState({error:!1})}})},e}return Object(i.__extends)(t,n),t.prototype.render=function(){return r.createElement(e,Object(i.__assign)({},this.props,{showBlockModal:this.showBlockModal}))},t.prototype.renderBlockButton=function(){return r.createElement(m.a,{type:m.d.Alert},Object(s.d)("Block","BlockModal"))},t.prototype.renderMessage=function(e,n){var t=Object(u.a)(e,n,!0);return r.createElement(r.Fragment,null,r.createElement(p.a,{borderBottom:!0,padding:{bottom:2},textAlign:f.p.Center},r.createElement(h.a,{bold:!0,type:h.e.H4},Object(s.d)("Block {displayName}?",{displayName:t},"BlockModal"))),r.createElement(p.a,{color:f.f.Alt2,padding:{top:2}},r.createElement(v.a,{baseFontSize:f.j.Size6},r.createElement("p",null,Object(s.d)("Blocking {displayName} will:",{displayName:t},"BlockModal")),r.createElement("ul",null,r.createElement("li",null,Object(s.d)("Prevent them from sending you whispers","BlockModal")),r.createElement("li",null,Object(s.d)("Prevent them from hosting you","BlockModal")),r.createElement("li",null,Object(s.d)("Prevent them from adding you as a friend","BlockModal")),r.createElement("li",null,Object(s.d)("Prevent them from purchasing gift subs for other users in your channel","BlockModal")),r.createElement("li",null,Object(s.d)("Filter their messages out of chats you don’t moderate","BlockModal"))))),this.state.error&&r.createElement(g.a,{padding:{x:3,top:2},margin:{x:3,y:0}},r.createElement(h.a,{fontSize:f.j.Size6,color:f.f.Error},Object(s.d)("There was an unexpected error while blocking this user. Please try again.","BlockModal"))))},t}(r.Component)}));t.d(n,"a",(function(){return k}))},lZdE:function(e,n,t){"use strict";function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}t.d(n,"a",(function(){return i}))},"lpj/":function(e,n,t){},m2W3:function(e,n,t){"use strict";var i,r=t("/7QA"),a=t("D7An");function o(){return r.p.experiments.getAndTrackAssignment(a.c.SubsBenefitReminder)||i.Control}function s(){return o()!==i.Control}!function(e){e.Control="control",e.VariantA="variant_a",e.VariantB="variant_b"}(i||(i={})),t.d(n,"a",(function(){return i})),t.d(n,"c",(function(){return o})),t.d(n,"b",(function(){return s}))},m98o:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("/7QA"),o=t("D7An"),s=t("JbHs"),c=t("DMoW");function d(e,n){var t=e.activity,i=e.availability;return t?Object(s.a)(t)?function(e){if(!e.game||!e.game.displayName)return Object(a.d)("playing","PresenceActivity");return Object(a.d)("playing {game}",{game:e.game.displayName},"PresenceActivity")}(t):Object(s.c)(t)?function(e,n,t){var i=function(e){if(Object(s.c)(e)&&e.user){if(e.user.hosting&&e.user.hosting.displayName)return{isHost:!0,displayName:e.user.hosting.displayName};if(e.user.displayName)return{isHost:!1,displayName:e.user.displayName}}return null}(e);if(!i||!e.user||!e.user.displayName)return null;return n&&n===c.k.OFFLINE?!t&&i.isHost?Object(a.d)("was watching {user} with the {community} community",{user:i.displayName,community:e.user.displayName},"PresenceActivity"):!t&&e.user.stream&&e.user.stream.game&&e.user.stream.game.displayName?Object(a.d)("was watching {user} stream {game}",{user:i.displayName,game:e.user.stream.game.displayName},"PresenceActivity"):Object(a.d)("was watching {user}",{user:i.displayName},"PresenceActivity"):!t&&i.isHost?Object(a.d)("watching {user} with the {community} community",{user:i.displayName,community:e.user.displayName},"PresenceActivity"):!t&&e.user.stream&&e.user.stream.game&&e.user.stream.game.displayName?Object(a.d)("watching {user} stream {game}",{user:i.displayName,game:e.user.stream.game.displayName},"PresenceActivity"):Object(a.d)("watching {user}",{user:i.displayName},"PresenceActivity")}(t,i,n):Object(s.b)(t)?function(e){if(!e.stream||!e.stream.game||!e.stream.game.displayName)return Object(a.d)("streaming","PresenceActivity");return Object(a.d)("streaming {game}",{game:e.stream.game.displayName},"PresenceActivity")}(t):null:null}function u(e,n){return n&&e?Object(s.b)(n)?"/"+e:Object(s.c)(n)?"/"+(n.user&&n.user.login):null:null}var l=function(e){function n(n){var t=e.call(this,n)||this,i=a.p.experiments.getAndTrackAssignment(o.c.ExtendedPresence);return t.state={hasExtendedRichPresence:"variant_a"===i},t}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.activity,t=e.availability,i=e.condensed,o=this.state.hasExtendedRichPresence?{activity:n,availability:t}:{activity:n};return r.createElement("span",{"data-a-target":"presence-text"},d(o,i)||function(e){var n=Object(a.d)("Online","PresenceAvailability");switch(e){case c.k.IDLE:case c.k.AWAY:return Object(a.d)("Away","PresenceAvailability");case c.k.BUSY:return Object(a.d)("Busy","PresenceAvailability");case c.k.OFFLINE:return Object(a.d)("Offline","PresenceAvailability");case c.k.ONLINE:default:return n}}(t))},n}(r.Component);t("796b");t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return d})),t.d(n,"c",(function(){return u}))},mmRu:function(e,n,t){"use strict";t.r(n);var i=t("/MKj"),r=t("mrSG"),a=t("q1tI"),o=t("u5aL"),s=t("JkAt"),c=t("ANjH"),d=t("hbnN"),u=t("/7QA"),l=t("yR8l"),m=t("x7UT"),p=t("Mj6i"),f=t("OMdY"),h=t("/aPz"),v=t("1/iK"),g=t("kRBY"),k=t("+pBb"),b=t("P6kH"),S=t("w1PT"),y=t("8EUQ"),E=t("KriR"),_=t("GzyO"),C=t("OpME"),N=t("ANDu"),D=t("GnwI"),w=t("Lbs1"),O=t("br9A"),T=t("MkkA"),I=t("TUXZ"),F=t("DB+C"),P=function(e){function n(n){var t=e.call(this,n)||this;return t.getOwnedEmotes=Object(d.a)((function(e){var n=new Map;if(e&&e.emoteSets&&e.emoteSets.length>0)for(var t=0,i=e.emoteSets;t<i.length;t++){var r=i[t];(null==r?void 0:r.id)&&n.set(r.id,r)}return n})),t.getSubProductSetIDs=Object(d.a)((function(e){var n=new Set;if(e&&e.user&&e.user.subscriptionProducts)for(var t=0,i=e.user.subscriptionProducts;t<i.length;t++){var r=i[t];r&&void 0!==r.emoteSetID&&null!==r.emoteSetID&&n.add(r.emoteSetID)}return n})),t.getAllEmoteSets=Object(d.a)((function(e){return e&&e.emoteSets?Object(C.a)(e.emoteSets):[]})),t.getMappedEmotes=Object(d.a)((function(e,n,t){var i=[],r=[],a=[],o=[],s=[];return n.forEach((function(n){n.owner||"0"!==n.id?n.owner&&""!==n.owner.id?e&&e.user&&e.user.id===n.owner.id?Object(b.f)(n.id)?(n.emotes.forEach((function(e){e.isBitsTierEmote=!0})),s.push.apply(s,n.emotes)):e.user.id!==n.owner.id||t.has(n.id)||i.push.apply(i,n.emotes):a.push(n):o.push.apply(o,n.emotes):r.push.apply(r,n.emotes)})),e&&e.user&&e.user.cheer&&e.user.cheer.badgeTierEmotes&&e.user.cheer.badgeTierEmotes.forEach((function(e){var n,t,i,r,a;if(e&&e.id&&e.token){var o={id:e.id,setID:e.setID,token:e.token,isBitsTierEmote:!0,isLocked:!(null===(t=null===(n=e.bitsBadgeTierSummary)||void 0===n?void 0:n.self)||void 0===t?void 0:t.isUnlocked),bitsThreshold:null===(i=e.bitsBadgeTierSummary)||void 0===i?void 0:i.threshold,bitsLeftToUnlock:null===(a=null===(r=e.bitsBadgeTierSummary)||void 0===r?void 0:r.self)||void 0===a?void 0:a.numberOfBitsUntilUnlock};s.push(Object(C.b)(o))}})),{channelCampaignEmotes:i,globalEmotes:r,otherChannelEmoteSets:Object(N.a)(a),unlockedEmotes:o,channelBitsTierEmotes:s}})),t.getSubProducts=Object(d.a)((function(e){return e&&e.user&&e.user.subscriptionProducts?Object(f.b)(e.user.subscriptionProducts):[]})),t.getSortedChannelEmotes=Object(d.a)((function(e,n,t){var i=[],r=[];e.forEach((function(e){e.isLocked?i.push(e):r.push(e)}));var a=[],o=[];return t.forEach((function(e){e.isLocked?a.push(e):o.push(e)})),Object(C.e)(n.concat(r,o,i,a))})),t.getTier=function(){var e,n,i,r,a=null===(r=null===(i=null===(n=null===(e=t.props.channelData)||void 0===e?void 0:e.user)||void 0===n?void 0:n.self)||void 0===i?void 0:i.subscriptionBenefit)||void 0===r?void 0:r.tier;if(a){var o=Number(a);return isNaN(o)?null:o}return null},t.handleSubEvent=function(e){e.action===O.a.ClickCheckout&&t.checkAndDisplaySubscriptionCheckout();var n=t.props.channelData,i=null;if(n){var a=n.user;a&&a.self&&a.self.cumulativeTenure&&(i=a.self.cumulativeTenure.months)}Object(O.c)(Object(r.__assign)(Object(r.__assign)({},e),{action:O.a.ClickCheckout,channelID:n&&n.user&&n.user.id||"",channelLogin:n&&n.user&&n.user.displayName||"",cumulativeTenureMonths:i,isMenuOpen:null,hasSubCredit:null,sub_location:"emote_picker",modal:!1,showPrimeContent:!0,giftRecipient:null}))},t.state={frequentlyUsedEmotes:n.isLoggedIn?[]:Object(_.c)()},t}return Object(r.__extends)(n,e),Object.defineProperty(n.prototype,"gqlError",{get:function(){var e=this.props,n=e.emoteSetsData,t=e.channelData;return n&&!!n.error||t&&!!t.error||!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gqlLoading",{get:function(){return!this.checkDataLoaded(this.props)},enumerable:!0,configurable:!0}),n.prototype.componentDidMount=function(){Object(_.d)(),this.checkDataLoaded(this.props)&&(this.props.onLoad&&this.props.onLoad(this.checkForContent(this.props)),this.props.latencyTracking.reportInteractive())},n.prototype.componentDidUpdate=function(e){if(this.gqlError||(e.pubsub.messages.subscriptionInfo===this.props.pubsub.messages.subscriptionInfo&&e.pubsub.messages.bitsBalanceUpdate===this.props.pubsub.messages.bitsBalanceUpdate||(this.props.channelData&&this.props.channelData.refetch(),this.props.emoteSetsData&&this.props.emoteSetsData.refetch()),this.checkDataLoaded(this.props)&&(this.props.latencyTracking.reportInteractive(),this.props.onLoad&&this.props.onLoad(this.checkForContent(this.props)))),e.visible!==this.props.visible){if(this.props.openEmotePicker(),this.props.emoteSetsData&&this.props.emoteSetsData.emoteMap){var n=Object(_.e)(this.props.emoteSetsData.emoteMap);this.setState({frequentlyUsedEmotes:n})}}else e.visible&&!this.props.visible&&this.props.closeEmotePicker()},n.prototype.componentWillUnmount=function(){this.props.closeEmotePicker()},n.prototype.render=function(){if(!this.props.hasMenuOpened)return null;var e=this.props,n=e.channelData,t=e.emoteSetsData,i=n&&n.user?n.user.displayName:null,r=n&&n.user?n.user.profileImageURL:null,o=n&&n.user?n.user.login:null,s=n&&n.currentUser?n.currentUser.bitsBalance:null,c=this.getAllEmoteSets(t),d=this.getOwnedEmotes(t),u=this.getSubProducts(n),l=this.getMappedEmotes(n,c,this.getSubProductSetIDs(n)),m=l.channelCampaignEmotes,p=l.globalEmotes,f=l.otherChannelEmoteSets,h=l.unlockedEmotes,v=l.channelBitsTierEmotes,g=Object(N.c)(d,u);return a.createElement(I.a,{allEmoteSets:c,channelDisplayName:i,channelID:this.props.channelOwnerID,channelLogin:o,channelProfileImageURL:r,channelSubEmotes:g,channelSubscriptionProducts:u,currentUserID:this.props.currentUserID,direction:this.props.direction,emotePickerSessionID:this.props.emotePickerSessionID,emotePickerSource:this.props.emotePickerSource,frequentlyUsedEmotes:this.state.frequentlyUsedEmotes,globalEmotes:p,gqlError:this.gqlError,handleSubAction:this.handleSubEvent,areSubsDisabled:this.props.areSubsDisabled,isLoggedIn:this.props.isLoggedIn,loading:this.gqlLoading,offsetX:this.props.offsetX,onClickClose:this.props.onClickClose,onClickToken:this.props.onClickToken,otherChannelEmoteSets:f,roomID:this.props.roomID,size:this.props.size,sortedChannelEmotes:this.getSortedChannelEmotes(g,m,v),toggleVisibility:this.props.toggleVisibility,unlockedEmotes:h,visible:this.props.visible,shouldShowSubBenefitCallout:this.props.shouldShowSubBenefitCallout,dismissSubBenefitCallout:this.props.dismissSubBenefitCallout,subscriberTier:this.getTier(),bitsBalance:s})},n.prototype.checkDataLoaded=function(e){var n=!e.channelOwnerID||e.channelData&&!e.channelData.loading,t=!e.isLoggedIn||e.emoteSetsData&&!e.emoteSetsData.loading;return n&&t},n.prototype.checkForContent=function(e){var n=e.emoteSetsData,t=e.channelData;return!!(n&&n.emoteSets&&n.emoteSets.length>0)||!!(t&&t.user&&t.user.subscriptionProducts)&&Object(f.b)(t.user.subscriptionProducts).filter(this.subscriptionProductHasEmotes).length>0},n.prototype.subscriptionProductHasEmotes=function(e){return null!==e.emoteSetID&&!!e.emotes&&e.emotes.length>0},n.prototype.checkAndDisplaySubscriptionCheckout=function(){var e=u.n.get(y.a.SUB_CHECKOUT__PRODUCT_KEY,""),n=u.n.get(y.a.SUB_CHECKOUT__RECIPIENT_KEY,""),t=u.n.get(y.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,""),i=Number(t);e&&(this.props.channelData&&this.props.channelData.user&&this.props.channelData.user.subscriptionProducts&&this.props.channelData.user.subscriptionProducts.map((function(e){return e?e.name:null})).includes(e)?this.props.sessionUser?this.props.showSubscriptionCheckout({recipientLogin:n,productName:e,mysteryGiftCount:i,trackingContext:{source:E.a.EmotePicker}}):this.props.showLoginModal():y.a.clearSubscriptionCheckoutKeys())},n}(a.PureComponent);var U=Object(c.d)(Object(i.b)((function(e){return{currentUserID:e.session.user&&e.session.user.id,emotePickerSessionID:e.chat&&e.chat.emotePickerSessionID||null,sessionUser:e.session.user,isLoggedIn:Object(g.f)(e)}}),(function(e){return Object(c.b)({closeEmotePicker:k.A,openEmotePicker:k.M,showLoginModal:y.a.showLoginModalWithCheckoutDispatch(v.a.EmotePickerSubscriptionButton),showSubscriptionCheckout:S.a},e)})),Object(l.a)(F,{name:"channelData",skip:function(e){return!e.channelOwnerID},options:function(e){return{variables:{channelOwnerID:e.channelOwnerID}}}}),Object(m.a)([{topic:function(e){return"user-subscribe-events-v1."+e.currentUserID},mapMessageTypesToProps:{"*":"subscriptionInfo"},skip:function(e){return!e.currentUserID}},{topic:function(e){return e.currentUserID?Object(h.R)(e.currentUserID):""},mapMessageTypesToProps:{"*":"bitsBalanceUpdate"},skip:function(e){return!(e.currentUserID&&e.channelData&&e.channelData.user&&e.channelData.user.cheer&&e.channelData.user.cheer.badgeTierEmotes)}}]),Object(D.withLatencyTracking)("EmotePicker"),Object(p.a)(),Object(T.withWatchPartyContext)(T.mapWatchPartyContextToSubsProps),Object(w.b)({channelID:function(e){return e.channelOwnerID},mapProps:function(e){return{shouldShowSubBenefitCallout:e.shouldShowEmotePickerCallout,dismissSubBenefitCallout:e.dismissEmotePickerCallout}}}))(P),j=t("sUnt"),A=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={hasInteracted:!1,hasOpenedEmotePicker:!1,isEmotePickerMenuVisible:!1,isEmotePickerButtonVisible:!1},n.onClickOut=function(){n.setState({isEmotePickerMenuVisible:!1})},n.onClickToken=function(e){n.props.onClickToken&&n.props.onClickToken(e)},n.toggleEmotePicker=function(){n.setState((function(e){return{isEmotePickerMenuVisible:!e.isEmotePickerMenuVisible,hasOpenedEmotePicker:!0}}))},n.onEmotePickerDataLoaded=function(e){e&&n.setState({isEmotePickerButtonVisible:!0})},n.onInteraction=function(){return n.setState({hasInteracted:!0})},n}return Object(r.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive(),this.props.inputRef&&(this.props.inputRef.addEventListener("mouseenter",this.onInteraction),this.props.inputRef.addEventListener("focus",this.onInteraction))},n.prototype.componentWillUnmount=function(){this.props.inputRef&&(this.props.inputRef.removeEventListener("mouseenter",this.onInteraction),this.props.inputRef.removeEventListener("focus",this.onInteraction))},n.prototype.render=function(){var e=null;this.state.isEmotePickerButtonVisible&&(e=a.createElement(s.a,{buttonDisabled:this.props.buttonDisabled,onClick:this.toggleEmotePicker,isActive:this.state.isEmotePickerMenuVisible}));var n=null;this.hasInteractedOrPageload&&(n=a.createElement(U,{channelOwnerID:this.props.channelOwnerID,emotePickerSource:this.props.emotePickerSource,onClickClose:this.toggleEmotePicker,onClickToken:this.onClickToken,onLoad:this.onEmotePickerDataLoaded,offsetX:this.props.offsetX,toggleVisibility:this.toggleEmotePicker,visible:this.state.isEmotePickerMenuVisible,direction:this.props.direction,hasMenuOpened:this.state.hasOpenedEmotePicker}));var t=a.createElement(j.a,Object(r.__assign)({className:"emote-picker-and-button"},this.layoutProps),e,n);return this.props.shouldCloseOnClickOut?a.createElement(o.a,{onClickOut:this.onClickOut},t):t},Object.defineProperty(n.prototype,"hasInteractedOrPageload",{get:function(){return!(!this.props.firstPageLoaded&&!this.state.hasInteracted)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layoutProps",{get:function(){var e={attachTop:!!this.props.attachTop,attachRight:!!this.props.attachRight,attachBottom:!!this.props.attachBottom,attachLeft:!!this.props.attachLeft,padding:this.props.padding};return this.props.position&&(e.position=this.props.position),e},enumerable:!0,configurable:!0}),n}(a.Component),M=Object(D.withLatencyTracking)("EmotePicker")(A);var R=Object(i.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}))(M),x=t("cpJf"),B=t("dF3q");t.d(n,"EmotePicker",(function(){return R})),t.d(n,"EmotePickerMenu",(function(){return U})),t.d(n,"EmotePickerSource",(function(){return x.a})),t.d(n,"topTwitchEmotes",(function(){return x.c})),t.d(n,"RARE_EMOTE_IDS",(function(){return x.b})),t.d(n,"EmotePickerButton",(function(){return B.a}))},nAiT:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"i",(function(){return c})),t.d(n,"d",(function(){return d})),t.d(n,"c",(function(){return u})),t.d(n,"f",(function(){return l})),t.d(n,"e",(function(){return m})),t.d(n,"h",(function(){return p})),t.d(n,"g",(function(){return f})),t.d(n,"b",(function(){return h}));var i=t("q1tI"),r=t("4rCz"),a=t("+80q"),o=t("Jsra");function s(){return Object(r.d)("Channel Points","ChannelPoints")}function c(e){return Object(r.d)("{count, plural, one {# of your Default Reward costs was recently updated.} other {# of your Default Reward costs were recently updated.}}",{count:e},"CommunityPointsRewards")}function d(){return Object(r.d)("This reward is temporarily out of stock.","ChannelPoints")}function u(e){return Object(r.d)("<x:strong>Oops!</x:strong> This reward went out of stock. <x:link>Please try again later.</x:link>",{"x:strong":function(e){return i.createElement(a.a,{bold:!0,type:a.e.Span},e)},"x:link":function(n){return i.createElement(o.a,{onClick:e},n)}},"ChannelPoints")}function l(e,n){return e?Object(r.d)("{streamerName} has changed the reward requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:link":function(e){return i.createElement(o.a,{onClick:n},e)}},"ChannelPoints"):Object(r.d)("The broadcaster has changed the reward requirements. <x:link>Please try again.</x:link>",{"x:link":function(e){return i.createElement(o.a,{onClick:n},e)}},"ChannelPoints")}function m(e,n){return e?Object(r.d)("<x:strong>Oops!</x:strong> {streamerName} has changed this reward's requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:strong":function(e){return i.createElement(a.a,{bold:!0,type:a.e.Span},e)},"x:link":function(e){return i.createElement(o.a,{onClick:n},e)}},"ChannelPoints"):Object(r.d)("<x:strong>Oops!</x:strong> The broadcaster has changed this reward's requirements. <x:link>Please try again.</x:link>",{"x:strong":function(e){return i.createElement(a.a,{bold:!0,type:a.e.Span},e)},"x:link":function(e){return i.createElement(o.a,{onClick:n},e)}},"ChannelPoints")}function p(){return Object(r.d)("Channel Points early access","ChannelPointsSignupPage")}function f(){return Object(r.d)("Review Requests Queue","CustomRewardsList")}function h(e){switch(e){case"Greyscale":return Object(r.d)("Greyscale","ModifyEmotePreviewTooltip");case"Horizontal Flip":return Object(r.d)("Horizontal Flip","ModifyEmotePreviewTooltip");case"Sunglasses":return Object(r.d)("Sunglasses","ModifyEmotePreviewTooltip");case"Squished":return Object(r.d)("Squished","ModifyEmotePreviewTooltip");case"Thinking":return Object(r.d)("Thinking","ModifyEmotePreviewTooltip");case"Lunar Rat":return Object(r.d)("Lunar Rat","ModifyEmotePreviewTooltip");case"Red Envelope":return Object(r.d)("Red Envelope","ModifyEmotePreviewTooltip");default:return e}}},nR4f:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmoteCard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emoteID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOffers"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"emoteID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bitsBadgeTierSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"threshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUnlocked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numberOfBitsUntilUnlock"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:356}};i.loc.source={body:'#import "twilight/features/chat/components/emote-card/emote-subscription-product.gql"\nquery EmoteCard ($emoteID: ID! $withOffers: Boolean = false) {\nemote(id: $emoteID) {\nid\ntoken\nsetID\nowner {\nid\nlogin\ndisplayName\nstream {\nid\ntype\n}\n}\nsubscriptionProduct {\n...subProduct\n}\nbitsBadgeTierSummary {\nthreshold\nself {\nisUnlocked\nnumberOfBitsUntilUnlock\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("HfAM").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)})));var a={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.EmoteCard=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"EmoteCard")},oK83:function(e,n,t){"use strict";var i,r,a;t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return a})),function(e){e[e.unknown=0]="unknown",e[e.chat=1]="chat",e[e.room=2]="room",e[e.whisper=3]="whisper",e[e.vod=4]="vod"}(i||(i={})),function(e){e[e.chat_message=0]="chat_message",e[e.extension_message=1]="extension_message",e[e.member_list=2]="member_list",e[e.recent_raids=3]="recent_raids",e[e.room_message=4]="room_message",e[e.test=5]="test",e[e.user_command=6]="user_command",e[e.viewer_list=7]="viewer_list",e[e.viewer_list_mod_section=8]="viewer_list_mod_section",e[e.mega_cheer_notification=9]="mega_cheer_notification",e[e.bits_leaderboard=10]="bits_leaderboard",e[e.popout_button=11]="popout_button",e[e.hype_train=12]="hype_train"}(r||(r={})),function(e){e[e.Viewer=0]="Viewer",e[e.Extension=1]="Extension",e[e.Emote=2]="Emote"}(a||(a={}))},oe5X:function(e,n,t){"use strict";var i=t("XmgI"),r=t("RcPG"),a=t("0FG4"),o=t("mrSG"),s=t("VJH5");var c=t("i6WW"),d=t("gTu3"),u=t("6j5V"),l=/^(['"*([{</]*)(@?)((?:[^\u0000-\u007F]|[\w-])+)/;function m(e,n){if(!n)return!1;var t=n.displayName,i=n.login;return e===t||e.toLowerCase()===i}function p(e,n){void 0===n&&(n={});for(var t=e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)||[],i=function(e){if(!e)return[];var n=e.list.filter((function(n){return n.categories[s.a.Aggressive]&&e.preferences[s.a.Aggressive]||n.categories[s.a.Identity]&&e.preferences[s.a.Identity]||n.categories[s.a.Profanity]&&e.preferences[s.a.Profanity]||n.categories[s.a.Sexual]&&e.preferences[s.a.Sexual]}));return 0===n.length?n:(n.sort((function(e,n){return e.startIndex-n.startIndex})),n.reduce((function(e,n,t){if(0===t)return e.push(n),e;var i=e[e.length-1];return n.startIndex<=i.endIndex+1?(i.endIndex=Math.max(n.endIndex,i.endIndex),i.categories=Object(o.__assign)(Object(o.__assign)({},i.categories),n.categories)):e.push(n),e}),[]))}(n.flags),a=0,c=[];a<t.length;){var d=i&&i.shift();d?(c.push.apply(c,f(t.slice(a,d.startIndex),a,n)),c.push({type:r.a.FlaggedSegment,categories:d.categories,content:h(f(t.slice(d.startIndex,d.endIndex+1),d.startIndex,n)),length:d.endIndex-d.startIndex+1,originalText:t.slice(d.startIndex,d.endIndex+1).join("")}),a=d.endIndex+1):(c.push.apply(c,f(t.slice(a),a,n)),a=t.length)}return h(c)}function f(e,n,t){void 0===t&&(t={});var o=t.cheers,s=t.emotes,p=t.links,f=t.mentions,h="",g=0;return e.reduce((function(t,k,b){if(v(k))return h="",t;if(0===h.length&&(g=n+b),h+=k,b<e.length-1&&function(e){return/[.,!]/.test(e)}(e[b+1]))return(S=s&&Object(a.c)(h,g,s))?(h="",t.concat(S)):t;if(b===e.length-1||v(e[b+1])){var S;if(S=s&&Object(a.c)(h,g,s))return t.concat(S);var y=o&&Object(i.f)(h,o);if(y)return t.concat(y);var E=p&&Object(c.a)(h,p);if(E)return t.concat([E]);var _=f&&function(e,n){var t=e.match(l);if(!t)return null;var i=[],a=t[1],o=Boolean(t[2].length),s=t[3],c=e.slice(t[0].length);if(a.length&&i.push(Object(u.a)(a)),o){var p=d.a.Default;m(s,n.sessionUser)?p=d.a.Recipient:n.sessionUser&&n.sessionUser.login===n.senderLogin&&(p=d.a.Sender),i.push({type:r.a.Mention,content:{recipient:s,currentUserMentionRelation:p}})}else{if(!m(s,n.sessionUser))return null;i.push({type:r.a.CurrentUserHighlight,content:s})}return c.length&&i.push(Object(u.a)(c)),i}(h,f);return _?t.concat([_]):t.concat(Object(u.a)(h))}return t}),[])}function h(e){return e.reduce((function(e,n,t){return 0===t?[].concat.call(e,n):[].concat.call(e,Object(u.a)(" "),n)}),[]).reduce((function(e,n,t){if(0===t)return e.concat(n);var i=e[e.length-1];return n.type===r.a.Text&&i.type===r.a.Text?(i.content=""+i.content+n.content,e):e.concat(n)}),[])}function v(e){return/\s/.test(e)}t.d(n,"a",(function(){return p}))},okS7:function(e,n,t){"use strict";t("kPBf");var i,r=t("mrSG"),a=t("q1tI"),o=t("8Ad5"),s=t("1rIY"),c=t("uu1w"),d=t("/7QA"),u=t("2xye"),l={Chat:"chat",Feed:"feed",Whisper:"whisper"},m="/",p=":",f="#",h="@",v=function(e){switch(e){case c.a.Command:return m;case c.a.Emote:return p;case c.a.Hashtag:return f;case c.a.Mention:return h;default:return void d.k.warn("Chat Suggestions tracking was passed an unknown autocomplete type.")}},g=function(e){var n=v(e.autocompleteType);if(n){var t={channel:e.channelLogin,completed_text:e.completedText,source:e.source,start_character:n};d.o.track(u.SpadeEventType.ChatSuggestionComplete,t)}},k=t("3aAs"),b=t("Kae6");!function(e){e.Input="input",e.TextArea="textarea"}(i||(i={}));var S=Object(s.a)("Autocomplete",{registerAutocompleteProvider:function(){return function(){return null}}}),y=S.withContext,E=S.context,_=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={autocompleteType:c.a.None,matchedCursorPosition:0,matches:null,value:""},n.providers=[],n.contextForChildren={registerAutocompleteProvider:n.registerAutocompleteProvider.bind(n)},n.onChange=function(e){n.setState({value:e.target.value},(function(){n.getMatches()})),n.props.onChange&&n.props.onChange(e)},n.onKeyDown=function(e){var t=function(){n.props.onKeyDown&&n.props.onKeyDown(e)},i=function(){e.preventDefault(),e.stopPropagation()},r=e.charCode||e.keyCode;if(r!==o.a.Enter){switch(r){case o.a.Tab:if(!n.state.matches)n.getMatches(!0)&&i();break;case o.a.Esc:n.state.matches&&(i(),n.resetDisplayState())}t()}else t()},n.setComponentRefDelegate=function(e){n.componentRef=e,n.props.componentRefDelegate&&n.props.componentRefDelegate(e)},n.getMatches=function(e){var t=n.state.value;if(0===n.providers.length||0===t.length)return n.resetDisplayState(),!1;var i=n.getCurrentCursorPosition();if(i>t.length);else for(;i<t.length&&!/\s/.test(t.charAt(i));)i++;var r=t.substring(0,i);if(0===r.length||/\s/.test(r.substring(r.length-1)))return n.resetDisplayState(),!1;for(var a=r.split(/\s/),o=a.length-1,s=a[o],c=0,d=n.providers;c<d.length;c++){var u=d[c];if(!e||u.canBeTriggeredByTab){var l=u.getMatches(s,e,o);if(l)return n.props.onMatch&&n.props.onMatch(l,n.insertReplacement,n.resetDisplayState),n.setState({autocompleteType:u.autocompleteType,matchedCursorPosition:i,matches:l}),!0}}return n.resetDisplayState(),!1},n.resetDisplayState=function(e,t){n.props.onReset&&n.props.onReset();var i=Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},n.state),{autocompleteType:c.a.None,matches:null}),e||{});n.setState(i,t)},n.insertReplacement=function(e){var t,i=n.state.value,a=n.state.matchedCursorPosition,o=i.substring(0,a),s=o.lastIndexOf(e.current);if(-1===s)o=o.concat(e.replacement+" "),a=o.length;else{var c=o.substring(0,s),d=i.length>s+e.current.length?i.substring(s+e.current.length):"",u=d.startsWith(" ")?e.replacement:e.replacement+" ";o=""+c+u+d;var l=n.getNextCursorSelection(c,u,d,e);a=l.start,t=l.end}g(Object(r.__assign)(Object(r.__assign)({},n.props.trackingParams||{}),{autocompleteType:n.state.autocompleteType,completedText:e.replacement,source:n.props.suggestionSource})),n.resetDisplayState({value:o},(function(){n.setCursorSelection(a,t)}))},n.getCurrentCursorPosition=function(){return n.componentRef.selectionStart||0},n.getNextCursorSelection=function(e,n,t,i){var r=e.length+n.length;if(i.selection){var a=n.indexOf(i.selection);return{start:e.length+a,end:t.startsWith(" ")?r:r-1}}return{start:r,end:r}},n.setCursorSelection=function(e,t){n.componentRef&&(n.componentRef.setSelectionRange(e,t||e),n.componentRef.focus())},n}return Object(r.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.refDelegate&&this.props.refDelegate(this)},n.prototype.componentDidUpdate=function(e,n){n.value!==this.state.value&&this.props.onValueUpdate&&this.props.onValueUpdate(this.state.value),!n.matches&&this.state.matches&&function(e){var n=v(e.autocompleteType);if(n){var t={source:e.source,start_character:n};d.o.track(u.SpadeEventType.ChatSuggestion,t)}}({autocompleteType:this.state.autocompleteType,source:this.props.suggestionSource})},n.prototype.render=function(){var e=Object(r.__assign)(Object(r.__assign)({},this.props),{onChange:this.onChange,onKeyDown:this.onKeyDown,refDelegate:this.setComponentRefDelegate,value:this.state.value});return a.createElement(E.Provider,{value:this.contextForChildren},this.props.componentType===i.Input?a.createElement(k.a,Object(r.__assign)({},e,{type:e.type||k.c.Text})):a.createElement(b.a,Object(r.__assign)({},e,{autoComplete:e.htmlAutocomplete})),this.props.children)},n.prototype.getValue=function(){return this.state.value},n.prototype.setValue=function(e){this.resetDisplayState({value:e})},n.prototype.registerAutocompleteProvider=function(e){var n=this;return this.providers.push(e),function(){var t=n.providers.indexOf(e);n.providers.splice(t,1)}},n}(a.Component),C=t("u5aL"),N=t("sUnt"),D=t("yymn"),w=t("ygYM"),O=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={matches:null},n.onMatchSelect=function(e){n.insertReplacement&&n.insertReplacement(e)},n.onDismiss=function(){n.resetDisplayState&&n.resetDisplayState()},n.setMatches=function(e,t,i){n.insertReplacement||(n.insertReplacement=t),n.resetDisplayState||(n.resetDisplayState=i),n.setState({matches:e})},n.reset=function(){n.setState({matches:null})},n}return Object(r.__extends)(n,e),n.prototype.render=function(){return a.createElement(a.Fragment,null,this.state.matches&&a.createElement(N.a,{position:D.n.Relative},a.createElement(C.a,{onClickOut:this.onDismiss},a.createElement(w.a,{direction:w.b.TopLeft,"data-test-selector":"autocomplete-balloon",show:!0},a.createElement(N.a,{padding:{bottom:.5}},a.createElement(M,{matches:this.state.matches,onMatchSelect:this.onMatchSelect,onDismiss:this.onDismiss,containerElement:this.props.containerElement}))))),a.createElement(_,Object(r.__assign)({},this.props,{onMatch:this.setMatches,onReset:this.reset})))},n}(a.Component),T=t("8/mp"),I=t("G9mL"),F=t("3Czn"),P=t("i4Ys"),U=t("+80q"),j=t("hnjF"),A="autocomplete-match-list-matches",M=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={},n.resizeAnimationFrame=0,n.messages={noMatches:Object(d.d)("No matches.","AutocompleteBalloon")},n.logger=d.k.withCategory("AutocompleteMatchList"),n.renderMatches=function(){var e=new Set,t=[];return n.groupMatches().forEach((function(i,r){var o=i.group;o&&!e.has(o)&&(0!==r&&t.push(a.createElement(I.a,{key:"autocomplete-separator-"+r})),t.push(a.createElement(N.a,{key:"autocomplete-heading-"+r,padding:{x:.5}},a.createElement(F.a,null,o))),e.add(o)),t.push(n.renderMatchListItem(i,r))})),t},n.renderMatchListItem=function(e,t){var i=n.state.selectedMatch,r=i&&i.replacement===e.replacement;return a.createElement(N.a,{"data-test-selector":A,key:"autocomplete-match-"+t,refDelegate:r?n.focusOnOption:void 0},a.createElement(P.a,{borderRadius:D.e.Small,"data-a-target":e.replacement,"data-click-index":t,hover:r,onClick:n.onMatchClick,onMouseEnter:n.handleMatchMouseEnter,selected:r,type:P.b.Alpha},a.createElement(N.a,{alignItems:D.b.Center,display:D.g.Flex,padding:{x:.5}},e.element)))},n.handleMatchMouseEnter=function(e){var t=n.getMatchFromEvent(e);t&&n.setState({selectedMatch:t})},n.onMatchClick=function(e){var t=n.getMatchFromEvent(e);t&&n.props.onMatchSelect(t)},n.getMatchFromEvent=function(e){var t=n.groupMatches(),i=e.currentTarget.getAttribute("data-click-index");return!i||+i>=t.length?(n.logger.errorAndReport(new Error,"The index received from the UI element was not found in props.matches."),null):t[+i]},n.handleKeydown=function(e){var t=e.charCode||e.keyCode,i=function(){e.preventDefault(),e.stopPropagation()};switch(t){case o.a.Tab:case o.a.Enter:i(),n.props.matches.length&&n.state.selectedMatch?n.props.onMatchSelect(n.state.selectedMatch):n.props.onDismiss();break;case o.a.Up:case o.a.Down:if(!n.state.selectedMatch||!n.props.matches.length)return;var r=n.groupMatches(),a=r.indexOf(n.state.selectedMatch);if(-1===a)return void n.logger.errorAndReport(new Error,"The selected match was not found in props.matches.");i();var s=t===o.a.Up?-1:1,c=r[n.getIndexWithinLength(a+s,n.props.matches.length)];n.setState({selectedMatch:c})}},n.groupMatches=function(){for(var e={},t=0,i=n.props.matches;t<i.length;t++){var r=i[t];(d=e[c=r.group||"undefined"]||[]).push(r),e[c]=d}for(var a=[],o=0,s=Object.keys(e).sort(n.sortGroups);o<s.length;o++){var c,d;(d=e[c=s[o]])&&a.push.apply(a,d)}return a},n.sortGroups=function(e,n){return"undefined"===e?1:"undefined"===n?-1:e>n?1:e<n?-1:0},n.getIndexWithinLength=function(e,n){var t=e%n;return t<0?t+n:t},n.onResize=function(){n.resizeAnimationFrame||(n.resizeAnimationFrame=requestAnimationFrame(n.setContainerHeight))},n.setContainerHeight=function(){var e=n.props.containerElement&&n.props.containerElement.clientHeight||1080;n.scrollableArea&&n.scrollableArea.root&&(n.scrollableArea.root.style.maxHeight=e+"px"),n.resizeAnimationFrame=0},n.focusOnOption=function(e){if(e&&n.AutocompleteMatchListElement){var t=e.getBoundingClientRect(),i=n.AutocompleteMatchListElement.getBoundingClientRect();(t.bottom>i.bottom||t.top<i.top)&&e.scrollIntoView()}},n.setAutocompleteMatchListElement=function(e){n.AutocompleteMatchListElement=e},n.setScrollableAreaRef=function(e){return n.scrollableArea=e},n}return Object(r.__extends)(n,e),n.getDerivedStateFromProps=function(e,n){var t=e.matches.reduce((function(e,t,i){return n.selectedMatch?t.replacement===n.selectedMatch.replacement?i:e:0}),0);return{selectedMatch:e.matches[t]}},n.prototype.componentDidMount=function(){window.addEventListener("keydown",this.handleKeydown,!0),window.addEventListener("resize",this.onResize,!0),this.setContainerHeight(),this.props.matches.length>0&&this.setState({selectedMatch:this.props.matches[0]})},n.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!0),window.removeEventListener("keydown",this.handleKeydown,!0),this.resizeAnimationFrame&&cancelAnimationFrame(this.resizeAnimationFrame)},n.prototype.render=function(){var e;return e=0===this.props.matches.length?a.createElement(N.a,{padding:{x:.5},"data-test-selector":"autocomplete-match-list-no-matches"},a.createElement(U.a,{type:U.e.Span,color:D.f.Alt2},this.messages.noMatches)):this.renderMatches(),a.createElement(N.a,{position:D.n.Relative,padding:{top:.5,x:.5}},a.createElement(j.a,{"data-test-selector":"autocomplete-matches-container",className:"autocomplete-match-list",overflow:D.m.Hidden,display:D.g.Flex,flexDirection:D.h.Column},a.createElement("div",{ref:this.setAutocompleteMatchListElement},a.createElement(T.b,{suppressScrollX:!0,scrollRef:this.setScrollableAreaRef},a.createElement(N.a,null,e)))))},n}(a.Component),R=t("hbnN"),x=t("lZdE"),B=t("OpME"),L=(t("gDzh"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.autocompleteType=c.a.Emote,n.canBeTriggeredByTab=!1,n.hydrateEmotes=Object(R.a)((function(e){for(var n=[],t=0,i=e;t<i.length;t++){var r=i[t];r&&r.id&&r.emotes&&n.push({id:r.id,emotes:Object(B.c)(r.emotes)})}return n})),n.getMatches=function(e){return e.startsWith(":")?e.length<3?null:n.getMatchedEmotes(e):null},n.getMatchedEmotes=function(e){var t=n.hydrateEmotes(n.props.emotes);if(!t||0===t.length)return null;var i=e.substring(1),r=t.reduce((function(e,t){var r=t.emotes.filter((function(e){return n.doesEmoteMatchTerm(e,i)}));return e.concat(r)}),[]);return r=Object(B.e)(r),(r=Object(B.f)(r,i)).map((function(e){return{current:":"+i,replacement:e.token,element:n.renderEmoteSuggestion(e)}}))},n.doesEmoteMatchTerm=function(e,n){var t=new RegExp("^"+Object(x.a)(n),"i");if(e.token.match(t))return!0;var i=new RegExp(""+Object(x.a)(n.charAt(0)).toUpperCase()),r=new RegExp("^"+Object(x.a)(n.slice(1)),"i"),a=e.token.match(i);return!!(a&&a.index&&e.token.slice(a.index+1).match(r))},n.renderEmoteSuggestion=function(e){return[a.createElement(N.a,{padding:.5,flexShrink:0,key:"emote-img-"+e.id},a.createElement("img",{alt:e.token+"-emote",className:"emote-autocomplete-provider__image",srcSet:e.srcSet})),a.createElement(U.a,{type:U.e.Span,key:"emote-text-"+e.id,ellipsis:!0},e.token)]},n}return Object(r.__extends)(n,e),n.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},n.prototype.componentWillUnmount=function(){this.unregister()},n.prototype.render=function(){return null},n}(a.Component)),W=y((function(e){return e}))(L);t.d(n,"c",(function(){return _})),t.d(n,"a",(function(){return i})),t.d(n,"g",(function(){return y})),t.d(n,"d",(function(){return O})),t.d(n,"b",(function(){return M})),t.d(n,"f",(function(){return W})),t.d(n,"e",(function(){return l}))},pORx:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WhisperThread_ReportUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReportContentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reportContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentID"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:109}};t.loc.source={body:"mutation WhisperThread_ReportUser($input: ReportContentInput!) {\nreportContent(input: $input) {\ncontentID\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.WhisperThread_ReportUser=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"WhisperThread_ReportUser")},qG5l:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SubBenefitReminder_SubscriptionDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:201}};t.loc.source={body:"query SubBenefitReminder_SubscriptionDetails($channelID: ID!) {\nuser(id: $channelID) {\nid\nself {\nsubscriptionBenefit {\nid\ngift {\nisGift\n}\n}\nsubscriptionTenure(tenureMethod: CUMULATIVE) {\nmonths\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.SubBenefitReminder_SubscriptionDetails=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"SubBenefitReminder_SubscriptionDetails")},"r+cx":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pointsImageFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsImage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url2x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url4x"},arguments:[],directives:[]}]}}],loc:{start:0,end:72}};t.loc.source={body:"fragment pointsImageFragment on CommunityPointsImage {\nurl\nurl2x\nurl4x\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},rCSd:function(e,n,t){},"rbP/":function(e,n,t){"use strict";t.d(n,"a",(function(){return S}));var i,r=t("pVnL"),a=t.n(r),o=t("VbXa"),s=t.n(o),c=t("q1tI"),d=t("kV5U"),u=t("fNzW"),l=t("vCsY"),m=t("sUnt"),p=t("yymn"),f=t("2Ob2"),h=t("9qaG"),v=t("u03v"),g=t("G3YM"),k=(t("WvXh"),(i={})[h.d.Primary]="tw-split-button--primary",i[h.d.Secondary]="tw-split-button--secondary",i[h.d.Text]="tw-split-button--text",i[h.d.Destructive]="tw-split-button--destructive",i),b=function(e){function n(){return e.apply(this,arguments)||this}return s()(n,e),n.prototype.render=function(){var e={"tw-split-button":!0,"tw-split-button--overlay":this.props.overlay};this.props.type?e[k[this.props.type]]=!0:e[k[h.d.Primary]]=!0;var n={"tw-split-button__icon":!0,"tw-split-button__icon--small":this.props.size===h.c.Small,"tw-split-button__icon--large":this.props.size===h.c.Large};return c.createElement(m.a,a()({className:Object(u.a)(e),display:this.props.fullWidth?p.g.Flex:p.g.InlineFlex,alignItems:p.b.Center,fullWidth:this.props.fullWidth},Object(l.a)(this.props)),c.createElement(h.a,a()({},Object(l.b)(this.props),Object(d.a)(this.props),{rounding:h.b.Left,type:this.props.type?this.props.type:h.d.Primary}),c.createElement(g.a,{icon:this.props.icon,size:this.props.size},this.props.children)),c.createElement(m.a,{display:p.g.InlineFlex,className:Object(u.a)({"tw-split-button__dropdown":!0})},c.createElement(h.a,a()({},this.props.dropdown,{size:this.props.size,overlay:this.props.overlay,rounding:h.b.Right,type:this.props.type?this.props.type:h.d.Primary}),c.createElement(m.a,{className:Object(u.a)(n),display:p.g.Flex,justifyContent:p.l.Center},c.createElement(v.a,{size:this.props.size,type:this.props.dropdown.type?this.props.dropdown.type:v.b.ArrowDown})))))},n}(c.Component);b.displayName="SplitButtonComponent";var S=Object(f.c)(b)},rljb:function(e,n,t){},ru7j:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BlockedUsers"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blockedUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:61}};t.loc.source={body:"query BlockedUsers {\ncurrentUser {\nid\nblockedUsers {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.BlockedUsers=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"BlockedUsers")},sU0Q:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatCard_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"90"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"51"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:162}};t.loc.source={body:"query VideoChatCard_Video($videoID: ID!) {\nvideo(id: $videoID) {\nid\ntitle\npreviewThumbnailURL(width: 90 height: 51)\npublishedAt\nowner {\nid\nlogin\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.VideoChatCard_Video=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"VideoChatCard_Video")},soB4:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var i=t("mrSG"),r=t("w09P"),a=t("/7QA"),o=t("geRD"),s=t("AELI"),c=t("Ya72");function d(e){var n=e.id,t=Object(o.b)({threadID:n,isArchived:!0},{updateWhisperThread:{thread:{__typename:"WhisperThread",id:n,isArchived:!0},__typename:"UpdateWhisperThreadPayload"}});e.lastMessage?a.p.apollo.client.mutate(Object(i.__assign)({mutation:c},t)):Object(o.i)(s,{},(function(e){var t,a;return(null===(a=null===(t=null==e?void 0:e.currentUser)||void 0===t?void 0:t.whisperThreads)||void 0===a?void 0:a.edges)?r(e,(function(e){return e.currentUser.whisperThreads.edges}),(function(e){var t=e.find((function(e){return e.node.id===n})),r=e.filter((function(e){return e.node.id!==n}));return t?Object(i.__spreadArrays)([{cursor:"0",node:Object(i.__assign)(Object(i.__assign)({},t.node),{isArchived:!0}),__typename:"WhisperThreadEdge"}],r):r})):e}))}},"szP+":function(e,n,t){"use strict";var i=t("ANjH"),r=t("/7QA"),a=t("mrSG"),o=t("w09P"),s=t("CzFK"),c=234,d=310;function u(e){if(0===e.openedIDs.length)return 0;for(var n=0,t=0,i=e.openedIDs;t<i.length;t++){var r=i[t],a=e.byID[r];a.hidden||(n+=a.collapsed?c:d)}return n}function l(e){var n=Object(a.__spreadArrays)(e.openedIDs),t=n.pop();return t&&e.focusedID===t&&n.length>0&&(n.pop(),n.push(t)),o(e,(function(e){return e.openedIDs}),(function(){return n}))}function m(e,n){var t=e.orderedIDs.filter((function(n){return!e.openedIDs.includes(n)}));return t.length>0?p(e,t[0],n):e}function p(e,n,t){var i=t-u(e),r=Object(a.__assign)({},e);return r.openedIDs.includes(n)||(i<d&&(r=l(r)),r=o(r,(function(e){return e.openedIDs}),(function(e){return e.push(n),e}))),r}function f(e,n,t){if(!e.byID[n])return e;var i=o(e,(function(e){return e.byID}),(function(e){return e[n].collapsed=!1,e}));return i.focusedID=n,u(e)>t&&(i=l(i)),i}var h=t("WSPL");t.d(n,"b",(function(){return g})),t.d(n,"a",(function(){return b}));var v=Object(i.c)({display:function(e,n){switch(void 0===e&&(e={byID:{},orderedIDs:[],openedIDs:[],focusedID:""}),n.type){case s.f:var t=(r=Object(a.__assign)({},e)).byID[n.data.threadID],i=r.openedIDs.includes(n.data.threadID);return t||(r=o(r,(function(e){return e.orderedIDs}),(function(e){return e.push(n.data.threadID),e})),r=o(r,(function(e){return e.byID}),(function(e){return e[n.data.threadID]=n.data,e}))),r.openedIDs.includes(n.data.threadID)&&!r.byID[n.data.threadID].hidden||(r.byID[n.data.threadID].hidden=n.data.hidden),n.data.ignoreCollapseIfOpen||n.data.collapsed||(r.focusedID=n.data.threadID),r=p(r,n.data.threadID,n.contentWidth),(!i||i&&!n.data.ignoreCollapseIfOpen)&&(n.data.collapsed||(r=f(r,n.data.threadID,n.contentWidth))),r;case s.b:if(!e.byID[n.threadID])return e;var r=o(e,(function(e){return e.byID}),(function(e){return delete e[n.threadID],e}));return r=o(r,(function(e){return e.orderedIDs}),(function(e){return e.filter((function(e){return e!==n.threadID}))})),r=o(r,(function(e){return e.openedIDs}),(function(e){return e.filter((function(e){return e!==n.threadID}))})),e.focusedID===n.threadID&&(r.focusedID=r.openedIDs[0]),m(r,n.contentWidth);case s.c:return e.byID[n.threadID]?(e.focusedID===n.threadID&&(e.focusedID=""),o(e,(function(e){return e.byID}),(function(e){return e[n.threadID].collapsed=!0,e}))):e;case s.d:return f(e,n.threadID,n.contentWidth);case s.e:return o(e,(function(e){return e.focusedID}),(function(){return n.threadID}));case s.g:return o(e,(function(e){return e.focusedID}),(function(e){return e===n.threadID?"":e}));case s.a:var c=u(e);if(c>n.contentWidth){if(e.openedIDs.length<=1)return e;for(var h=Object(a.__assign)({},e);c>n.contentWidth&&h.openedIDs.length>1;)c=u(h=l(h));return h}if(n.contentWidth-c>=d){var v=Math.floor((n.contentWidth-c)/d),g=Math.min(v,e.orderedIDs.length-e.openedIDs.length);if(0===g)return e;h=Object(a.__assign)({},e);for(var k=0;k<g;k++)if((h=m(h,n.contentWidth)).openedIDs.length>1)for(var b=h.openedIDs,S=b.length,y=0,E=h.orderedIDs;y<E.length;y++){var _=E[y];if(b[S-1]===_){var C=b.splice(S-2,1);b.push(C[0]);break}if(b[S-2]===_)break}return h}return e;default:return e}},notifications:function(e,n){switch(void 0===e&&(e={byThreadID:{}}),n.type){case h.a:return e.byThreadID[n.threadID]?o(e,(function(e){return e.byThreadID[n.threadID]}),(function(e){return Object(a.__spreadArrays)([{threadID:n.threadID,afterMessageID:n.afterMessageID,content:n.content}],e)})):o(e,(function(e){return e.byThreadID}),(function(e){var t;return Object(a.__assign)(((t={})[n.threadID]=[{threadID:n.threadID,afterMessageID:n.afterMessageID,content:n.content}],t),e)}));default:return e}}});function g(e,n){return e.whispers?e.whispers.display.byID[n]:null}var k=[];function b(e,n){return e.whispers.notifications.byThreadID[n]||k}r.p.store.registerReducer("whispers",v)},t4UF:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t("mrSG"),r=t("q1tI"),a=t("fBrF");function o(e){return function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Object(i.__extends)(t,n),t.prototype.render=function(){return r.createElement(a.a,Object(i.__assign)({},this.props),r.createElement(e,Object(i.__assign)({},this.props)))},t}(r.Component)}},tQZM:function(e,n,t){"use strict";t.d(n,"g",(function(){return h})),t.d(n,"f",(function(){return v})),t.d(n,"e",(function(){return g})),t.d(n,"a",(function(){return k})),t.d(n,"d",(function(){return b})),t.d(n,"c",(function(){return S})),t.d(n,"b",(function(){return y}));var i=t("mrSG"),r=t("q1tI"),a=t("/7QA"),o=t("oe5X"),s=t("0FG4"),c=t("cys1"),d=t("oK83"),u=t("hnjF"),l=t("+80q"),m=t("yymn"),p=t("sUnt"),f=t("4eMh");function h(e,n,t){return void 0===t&&(t={}),Object(c.f)(Object(o.a)(e,{emotes:{type:s.a.Position,map:E(n)},links:{}}),t,!0)}var v=function(e){if(e.deletedAt)return null;var n="/me "===e.content.substr(0,4);n&&(e.content=e.content.substr(4),e.emotes=e.emotes.map((function(e){return e&&e.from&&e.to?Object(i.__assign)(Object(i.__assign)({},e),{from:e.from-4,to:e.to-4}):null})));var t=[r.createElement("span",{key:"str-separator","data-test-selector":f.a},n?" ":": ")],o={messageAuthorID:e.from&&e.from.id||"",messageSourceID:e.id,emoteSourceType:d.a.whisper};if(t.push.apply(t,h(e.content,e.emotes,o)),e.editedAt){var s=Object(a.d)("edited","ThreadMessage"),c=Object(a.d)("{timestamp, date, full} {timestamp, time, long}",{timestamp:new Date(e.editedAt)},"ThreadMessage");t.push(r.createElement(u.a,{key:"editedAt",margin:{left:1}},r.createElement(l.a,{type:l.e.Span,className:"thread-message__message--edited",title:c,color:m.f.Alt2},"("+s+")")))}var v=e.from&&e.from.chatColor||"",g=e.from&&e.from.displayName||r.createElement(l.a,{type:l.e.Span,italic:!0},Object(a.d)("Unknown","ThreadMessage")),k=n?v:"";return r.createElement(p.a,{padding:{x:1,y:.5}},r.createElement("span",{className:"thread-message__message--user-name","data-a-target":"whisper-message-name",style:{color:v}},g),r.createElement("span",{style:{color:k}},t))},g=function(){return r.createElement(p.a,{padding:{y:.5,x:1}},Object(a.d)("Please don't share passwords or personal information.","whispers"))},k=function(){return r.createElement(p.a,{padding:{y:.5,x:1}},Object(a.d)("This account is no longer active.","whispers"))},b=function(e){var n=new Date,t=new Date;t.setDate(t.getDate()-7);var o="",s={hour:"numeric",minute:"numeric",second:"numeric"},c=Object(i.__assign)(Object(i.__assign)({},s),{year:"numeric",month:"numeric",day:"numeric"});o=e.timestamp.toDateString()===n.toDateString()?Object(a.d)("Today, {timestamp, time, medium}",{timestamp:e.timestamp},"ThreadMessage"):e.timestamp<t?Object(a.j)(e.timestamp,c):Object(a.j)(e.timestamp,Object(i.__assign)(Object(i.__assign)({},s),{weekday:"long"}));var d=Object(a.j)(e.timestamp,Object(i.__assign)(Object(i.__assign)({},c),{timeZoneName:"short"}));return r.createElement(p.a,{padding:{y:1},textAlign:m.p.Center},r.createElement("span",{title:d},""+o))},S=function(e){return r.createElement(p.a,{padding:{y:.5,x:1}},r.createElement(l.a,{type:l.e.Span,color:m.f.Alt2},e.content))},y=function(){return r.createElement(p.a,{textAlign:m.p.Center,padding:{y:.5}},Object(a.d)("New Whispers","whispers"))};function E(e){var n={};return e.forEach((function(e){e&&null!==e.from&&e.emoteID&&(n[e.from]={startIndex:e.from,id:e.emoteID})})),n}},"uKd/":function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var i=t("pVnL"),r=t.n(i),a=t("q1tI"),o=t("7d/q"),s=t("C7sF"),c=function(e){return a.createElement(o.a,r()({},e,{ariaLabel:e.ariaLabel,title:e.title,icon:s.a.Close,overlay:e.overlay,size:e.size,type:e.type}))};c.displayName="CoreDismissible",c.displayName="CoreDismissible"},uLTe:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("mrSG"),r=t("/7QA"),a=t("geRD"),o=t("Yr7M");function s(e){var n={threadID:e,isArchived:!1},t={updateWhisperThread:{__typename:"UpdateWhisperThreadPayload",thread:{__typename:"WhisperThread",id:e,isArchived:!1}}};r.p.apollo.client.mutate(Object(i.__assign)({mutation:o},Object(a.b)(n,t)))}},uYEN:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.Gray=1]="Gray",e[e.Purple=100]="Purple",e[e.Green=1e3]="Green",e[e.Blue=5e3]="Blue",e[e.Red=1e4]="Red",e[e.Yellow=1e5]="Yellow"}(i||(i={}))},uu1w:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e.Command="command",e.Emote="emote",e.Mention="mention",e.Hashtag="hashtag",e.None="none"}(i||(i={}))},w1PT:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var i=t("/7QA"),r=t("ZS2+"),a=t("SDEh"),o=t("XDCx"),s=t("IZXT"),c=t("8EUQ"),d="core.ui.CHECKOUT_SHOWN";function u(e){if(Object(a.b)()){try{c.a.clearSubscriptionCheckoutKeys(),function(e){if(!e.productName)return void i.k.warn("No productName provided");var n=new URL("https://www.twitch.tv/products/"+e.productName);e.recipientLogin?n.searchParams.append("recipient",e.recipientLogin):e.mysteryGiftCount&&n.searchParams.append("gift_count",e.mysteryGiftCount.toString());e.isAnonymous&&n.searchParams.append("is_anonymous",e.isAnonymous.toString());e.isOneTimePurchase&&n.searchParams.append("is_one_time_purchase",e.isOneTimePurchase.toString());window.open(n.toString(),"_blank")}(e)}catch(e){Object(s.d)()?i.k.warn("Failed to open subscription checkout externally"):i.k.errorAndReport(e,"Failed to open subscription checkout externally")}return function(e){e({type:d})}}return function(n){n(Object(o.e)(r.a,{component:"CheckoutModal",loader:function(){return Promise.all([t.e(0),t.e(72)]).then(t.bind(null,"KJv/"))},componentProps:e}))}}},wKtC:function(e,n,t){},wp5a:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return l}));var i,r=t("pVnL"),a=t.n(r),o=t("q1tI"),s=t("fNzW"),c=t("vCsY"),d=t("+80q"),u=t("yymn");t("aSQN");!function(e){e.Notification="tw-pill--notification",e.Brand="tw-pill--brand",e.Live="tw-pill--live",e.Alert="tw-pill--alert",e.Success="tw-pill--success",e.Prime="tw-pill--prime",e.Overlay="tw-pill--overlay",e.Warn="tw-pill--warn"}(i||(i={}));var l=function(e){var n={"tw-pill":!0};return e.type&&(n[e.type]=!0),o.createElement(d.a,a()({type:d.e.Span,transform:e.transform,fontWeight:u.k.SemiBold,className:Object(s.a)(n)},Object(c.a)(e)),e.label)};l.displayName="Pill",l.defaultProps={transform:d.d.Uppercase},l.displayName="Pill"},wqjf:function(e,n,t){"use strict";var i=t("mrSG"),r=t("NAv5"),a=t("uhBA"),o=t("q1tI"),s=t("/MKj"),c=t("ANjH"),d=t("yR8l"),u=t("Mj6i"),l=t("2Ygb"),m=t("kRBY"),p=t("GzyO"),f=t("m2W3"),h=t("4rCz"),v=0,g=function(e){return"twilight.sub-benefit-reminder."+e},k=new a.EventEmitter,b=Symbol("sub-benefit-reminder-state-updated"),S=function(){return{emotePickerAnimation:{lastTriggered:v,dismissed:!1},emotePickerCallout:{lastTriggered:v,dismissed:!1},experienceRetriggered:!1}};function y(e,n){var t=h.n.get(g(e),{})[n];return t||(t=S()),t}function E(e,n,t){var i=y(e,n);t(i),function(e,n,t){var i=h.n.get(g(e),{});i[n]=t,h.n.set(g(e),i),k.emit(b,{userID:e,channelID:n,value:t})}(e,n,i)}var _=t("qG5l");t.d(n,"a",(function(){return N})),t.d(n,"b",(function(){return O}));var C=new a.EventEmitter;function N(e){C.emit("subPurchaseEvent",{channelID:e})}var D=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.baseEligibility=function(){var e;if(!n.props.data)return!1;if(n.props.data.loading||n.props.data.error)return!1;if(!n.props.data.user)return!1;var t=n.props.data.user.self;return!!t&&(!!t.subscriptionBenefit&&(!(!t.subscriptionTenure||t.subscriptionTenure.months>1)&&((null===(e=t.subscriptionBenefit.gift)||void 0===e||!e.isGift)&&!!Object(f.b)())))},n.shouldShowEmotePickerAnimation=function(){if(!n.baseEligibility())return!1;if(!n.props.channelID||!n.props.currentUser)return!1;var e=y(n.props.currentUser.id,n.props.channelID);return!e.emotePickerAnimation.dismissed&&(!Object(r.isAfter)(Date.now(),Object(r.addDays)(e.emotePickerAnimation.lastTriggered,1))||e.emotePickerAnimation.lastTriggered===v)},n.dismissEmotePickerAnimation=function(){var e;if(Object(f.b)()){var t=null===(e=n.props.currentUser)||void 0===e?void 0:e.id,i=n.props.channelID;t&&i&&function(e,n){E(e,n,(function(e){return e.emotePickerAnimation.dismissed=!0}))}(t,i)}},n.shouldShowEmotePickerCallout=function(){return!!n.baseEligibility()&&(!(!n.props.currentUser||!n.props.channelID)&&!y(n.props.currentUser.id,n.props.channelID).emotePickerCallout.dismissed)},n.dismissEmotePickerCallout=function(){var e;if(Object(f.b)()){var t=null===(e=n.props.currentUser)||void 0===e?void 0:e.id,i=n.props.channelID;t&&i&&function(e,n){E(e,n,(function(e){return e.emotePickerCallout.dismissed=!0}))}(t,i)}},n.storedStateUpdateListener=function(e){var t;e.userID===(null===(t=n.props.currentUser)||void 0===t?void 0:t.id)&&e.channelID===n.props.channelID&&n.forceUpdate()},n.subPurchaseEventListener=function(e){e.channelID===n.props.channelID&&n.props.data.refetch()},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){var e;e=this.storedStateUpdateListener,k.addListener(b,e),C.on("subPurchaseEvent",this.subPurchaseEventListener),this.retriggerIfEligible(),this.updateTriggeredState()},n.prototype.componentWillUnmount=function(){var e;e=this.storedStateUpdateListener,k.removeListener(b,e),C.off("subPurchaseEvent",this.subPurchaseEventListener)},n.prototype.componentDidUpdate=function(){this.retriggerIfEligible(),this.updateTriggeredState()},n.prototype.render=function(){var e={shouldShowEmotePickerAnimation:this.shouldShowEmotePickerAnimation(),dismissEmotePickerAnimation:this.dismissEmotePickerAnimation,shouldShowEmotePickerCallout:this.shouldShowEmotePickerCallout(),dismissEmotePickerCallout:this.dismissEmotePickerCallout};return o.createElement(o.Fragment,null,this.props.wrapComponent(e))},n.prototype.updateTriggeredState=function(){var e,n=null===(e=this.props.currentUser)||void 0===e?void 0:e.id,t=this.props.channelID;if(n&&t){var i=y(n,t);this.shouldShowEmotePickerAnimation()&&i.emotePickerAnimation.lastTriggered===v&&function(e,n){E(e,n,(function(e){return e.emotePickerAnimation.lastTriggered=Date.now()}))}(n,t),this.shouldShowEmotePickerCallout()&&i.emotePickerCallout.lastTriggered===v&&function(e,n){E(e,n,(function(e){return e.emotePickerCallout.lastTriggered=Date.now()}))}(n,t)}},n.prototype.retriggerIfEligible=function(){var e;if(Object(f.c)()===f.a.VariantB){var n=null===(e=this.props.currentUser)||void 0===e?void 0:e.id,t=this.props.channelID;if(n&&t){var i=y(n,t);if(i.emotePickerAnimation.lastTriggered!==v&&i.emotePickerCallout.lastTriggered!==v&&!i.experienceRetriggered&&!Object(r.isBefore)(Date.now(),Object(r.addDays)(i.emotePickerAnimation.lastTriggered,7))&&this.props.emoteSetsData&&!this.props.emoteSetsData.loading&&!this.props.emoteSetsData.error&&this.props.emoteSetsData.emoteSets){var a=this.props.emoteSetsData.emoteSets.filter((function(e){var n;return(null===(n=null==e?void 0:e.owner)||void 0===n?void 0:n.id)===t})).reduce((function(e,n){return e.concat(n.emotes.filter((function(e){return!!(null==e?void 0:e.id)})).map((function(e){return e.id})))}),[]),o=Object(p.b)();a.filter((function(e){var n=o[e];return!(!n||!Object(r.isBefore)(Date.now(),Object(r.addDays)(n.lastUpdatedAt,7)))})).length<1&&function(e,n){E(e,n,(function(e){e.emotePickerAnimation.dismissed=!1,e.emotePickerAnimation.lastTriggered=Date.now(),e.emotePickerCallout.dismissed=!1,e.emotePickerCallout.lastTriggered=Date.now(),e.experienceRetriggered=!0}))}(n,t)}}}},n}(o.Component),w=Object(c.d)(Object(s.b)((function(e){return{currentUser:Object(m.e)(e),isLoggedIn:Object(m.f)(e)}})),Object(u.a)(),Object(d.a)(_,{options:function(e){return{variables:{channelID:e.channelID}}},skip:function(e){return!(e.channelID&&e.currentUser)}}))(D);function O(e){return function(n){var t=function(t){return o.createElement(w,{channelID:e.channelID?e.channelID(t):null,wrapComponent:function(r){var a=r;return e.mapProps&&(a=e.mapProps(r,t)),o.createElement(n,Object(i.__assign)({},t,a))}})};return t.displayName=Object(l.a)("WithSubBenefitReminderManager",n),t}}},wsiY:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"presenceFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activity"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PresenceActivity"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PresenceActivity"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Activity"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayingPresenceActivity"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"StreamingPresenceActivity"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"WatchingPresenceActivity"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PlayingPresenceActivity"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playing"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StreamingPresenceActivity"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Streaming"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"WatchingPresenceActivity"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Watching"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"hosting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:610}};t.loc.source={body:"# Queries the fields necessary to render presence data\nfragment presenceFragment on User {\nid\nactivity {\n...PresenceActivity\n}\navailability\n}\nfragment PresenceActivity on Activity {\n...PlayingPresenceActivity\n...StreamingPresenceActivity\n...WatchingPresenceActivity\n}\nfragment PlayingPresenceActivity on Playing {\ntype\ngame {\nid\nname\ndisplayName\n}\n}\nfragment StreamingPresenceActivity on Streaming {\ntype\nstream {\nid\ngame {\nid\nname\ndisplayName\n}\n}\n}\nfragment WatchingPresenceActivity on Watching {\ntype\nuser {\nid\ndisplayName\nlogin\nstream {\nid\ngame {\nid\nname\ndisplayName\n}\n}\nhosting {\nid\ndisplayName\nlogin\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"x0+1":function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("/7QA"),o=t("Jsra"),s=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={alwaysShowMessage:!1},n.renderBody=function(){return n.state.alwaysShowMessage?n.props.messageBody:r.createElement("span",{key:"deleted",className:"chat-line__message--deleted"},r.createElement(o.a,{linkTo:"",onClick:n.alwaysShowMessage},"<"+Object(a.d)("click to show","MessageDeletedLine")+">"))},n.alwaysShowMessage=function(e){e&&e.preventDefault(),n.setState({alwaysShowMessage:!0})},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.moderatorLogin,t=e.targetIsCurrentUser,i=this.props.targetLogin;return t?Object(a.d)("A moderator deleted your message: {body}",{body:this.renderBody()},"MessageDeletedLine"):n?Object(a.d)("{moderatorLogin} deleted {targetLogin}'s message: {body}",{moderatorLogin:n,targetLogin:i,body:this.renderBody()},"MessageDeletedLine"):Object(a.d)("A moderator deleted {targetLogin}'s message: {body}",{targetLogin:i,body:this.renderBody()},"MessageDeletedLine")},n}(r.Component);t.d(n,"a",(function(){return s}))},x1M1:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("/MKj"),o=t("/0dD"),s=t("XDQu"),c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=(e.defaultRes,e.sources),t=(e.darkModeEnabled,Object(i.__rest)(e,["defaultRes","sources","darkModeEnabled"])),a=this.props.darkModeEnabled?n.dark:n.light,o=Object.keys(a);delete t.dispatch;var s=Object(i.__assign)(Object(i.__assign)({},t),{src:a[this.props.defaultRes||o[0]],srcSet:o.map((function(e){return a[e]+" "+e})).join(",")});return r.createElement("img",Object(i.__assign)({},s,{onLoad:this.props.onLoad}))},n}(r.Component);var d=Object(a.b)((function(e){return{darkModeEnabled:Object(s.a)(e)===o.a.Dark}}))(c);t.d(n,"a",(function(){return d}))},x7UT:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("CGXs");function o(e){return function(n){return function(t){for(var o=e.slice(),s={},c={},d=function(){var e=o.splice(0,1)[0],n=!!e.skip&&function(e,n){return"boolean"==typeof e?e:e(n)}(e.skip,t),i=n?"":function(e,n){return"string"==typeof e?e:e(n)}(e.topic,t),r=Object(a.a)(i,n,"function"==typeof e.skipMessage?function(n){return!!e.skipMessage&&e.skipMessage(n,t)}:void 0),d=r[0],u=r[1],l=e.mapMessageTypesToProps[d&&d.type||""]||e.mapMessageTypesToProps["*"];d&&(s[l]=d),u&&(c[i]=u)};o.length;)d();var u={pubsub:{messages:s,status:c}};return r.createElement(n,Object(i.__assign)({},t,u))}}}t.d(n,"a",(function(){return o}))},xJpr:function(e,n,t){"use strict";t.d(n,"e",(function(){return r})),t.d(n,"d",(function(){return a})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return s})),t.d(n,"f",(function(){return c})),t.d(n,"a",(function(){return d}));var i=t("0Log");function r(e){return e.type===i.PubsubMessageType.WhisperSent}function a(e){return e.type===i.PubsubMessageType.WhisperReceived}function o(e){return e.type===i.PubsubMessageType.WhisperDeleted}function s(e){return e.type===i.PubsubMessageType.WhisperEdited}function c(e){return e.type===i.PubsubMessageType.WhisperThreadUpdate}function d(e){return e.type===i.PubsubMessageType.WhisperAllThreadsUpdate}},xXlL:function(e,n,t){"use strict";function i(e){return{id:""+e.id,start:e.start,end:e.end}}function r(e){return{__typename:"WhisperMessageEdge",cursor:""+e.data_object.id,node:{__typename:"WhisperMessage",id:e.data_object.message_id,nonce:e.data_object.nonce,sentAt:new Date(1e3*e.data_object.sent_ts).toISOString(),editedAt:null,deletedAt:null,content:{__typename:"MessageBody",content:e.data_object.body,emotes:e.data_object.tags.emotes.map((function(e){return o(i(e))}))},from:{__typename:"User",id:""+e.data_object.from_id}}}}function a(e){return e.map((function(e){return o(i(e))}))}function o(e){return{from:e.start,to:e.end,emoteID:e.id,id:e.id+";"+e.start+";"+e.end,setID:"0",__typename:"EmbeddedEmote"}}t.d(n,"c",(function(){return r})),t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return o}))},y0tB:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var i=t("pVnL"),r=t.n(i),a=t("8OQS"),o=t.n(a),s=t("q1tI"),c=t("kV5U"),d=t("fNzW"),u=t("vCsY"),l=t("1H2c"),m=t("Ws8v"),p=t("hnjF"),f=t("yymn"),h=t("sUnt"),v=t("2Ob2"),g=t("2nDl"),k=(t("eJuE"),function(e){var n,t="tw-"+Object(l.a)(),i={"tw-radio":!0,"tw-radio--error":e.error,"tw-radio--overlay":e.overlay};e.tabIndex&&(n=e.tabIndex);var a=g.c.Default;e.size&&(a=e.size);e.label,e.size,e.overlay,e.error;var v=o()(e,["label","size","overlay","error"]);return s.createElement(m.a,r()({className:Object(d.a)(i),fontSize:g.b[a]},Object(u.a)(e)),s.createElement("input",r()({},Object(u.b)(v),Object(c.a)(e),{type:"radio",className:"tw-radio__input","data-a-target":"tw-radio",tabIndex:n,id:e.id?e.id:t,"aria-label":void 0===e.label?e.ariaLabel:void 0})),s.createElement(p.a,{display:f.g.Block},s.createElement("label",{className:"tw-radio__label",htmlFor:e.id?e.id:t},e.label&&s.createElement(h.a,{margin:{left:1}},e.label))))});k.displayName="RadioComponent",k.displayName="RadioComponent";var b=Object(v.c)(k)},yJn7:function(e,n){},zOU0:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("mrSG"),r=function(e){for(var n={},t=0,r=e;t<r.length;t++){var o=r[t],s=a(o);o.id&&s&&(n[o.id]=Object(i.__assign)({},s))}return n},a=function(e){return e.messages?{id:e.id,lastMessage:e.messages.edges.map((function(e){return e.node})).find((function(e){return!e.deletedAt}))||null,messageHistory:e.messages.edges.map((function(e){return e.node})).slice(0,-1),unreadMessagesCount:e.unreadMessagesCount,participants:e.participants.map((function(e){return e?Object(i.__assign)(Object(i.__assign)({},e),{displayBadges:[],self:null}):null})),spamInfo:e.spamInfo,muted:e.isMuted,archived:e.isArchived}:null}},zb36:function(e,n,t){"use strict";var i,r;t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r})),function(e){e.FrequentlyUsed="frequently_used",e.CurrentChannel="current_channel",e.OtherChannel="other_subbed_channel",e.Unlocked="unlocked",e.Global="global"}(i||(i={})),function(e){e.EmotePicker="emote_picker",e.EmotePickerSubscriptionPreview="emote_picker_subscription_preview",e.EmotePickerBitsPreview="emote_picker_bits_preview"}(r||(r={}))},zdrs:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockChosenSubscriberEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockChosenSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockChosenSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:154}};t.loc.source={body:"mutation UnlockChosenSubscriberEmote($input: UnlockChosenSubscriberEmoteInput!) {\nunlockChosenSubscriberEmote (input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UnlockChosenSubscriberEmote=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"UnlockChosenSubscriberEmote")},zixI:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnblockUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnblockUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unblockUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"targetUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:100}};t.loc.source={body:"mutation UnblockUser($input: UnblockUserInput!) {\nunblockUser(input: $input) {\ntargetUser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UnblockUser=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"UnblockUser")}}]);