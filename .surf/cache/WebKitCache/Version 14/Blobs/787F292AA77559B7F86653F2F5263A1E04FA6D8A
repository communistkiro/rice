System.registerDynamic("src/translations/en.js",[],!0,function($__require,exports,module){this||self;module.exports={id:"fcd7471b347c8e517663e194dcddf237",name:"en",code:"en",default:!0,main:!0,rtl:!1,plural_forms:["zero","one","other"],created_at:"2015-01-13T20:10:13Z",updated_at:"2020-03-30T14:10:09Z",source_locale:null,keys:{about_label:"About",acceptInvitation_action:"Accept invitation",acceptPrivacyPolicyReminder_msg:"Please accept the privacy policy by selecting the checkbox.",acceptPrivacyPolicy_msg:"I have read and agree to the {privacyPolicy}.",accept_action:"Accept",accountSwitchAdditionalPackagesActive_msg:"Please deactivate all booked extensions and packages and disable all email aliases before switching the subscription.",accountSwitchAliases_msg:"Please delete all aliases of your user.",accountSwitchCustomMailAddress_msg:"Please disable all custom domain email aliases.",accountSwitchFeature_msg:"Please deactivate the feature {featureName}.",accountSwitchMultipleCalendars_msg:"Please delete all additional calendars.",accountSwitchNotPossible_msg:"You need to deactivate all paid features before downgrading to a free account. {detailMsg}",accountSwitchSharedCalendar_msg:"Please remove all calendars shared with you.",accountSwitchTooManyActiveUsers_msg:"Please deactivate all additional users before switching the subscription.",accountWasStillCreated_msg:"Your account has already been created as a Free account. You may also cancel the payment now, login into your account and upgrade there later.",account_label:"User",action_label:"Action",activated_label:"Activated",activate_action:"Activate",activeSessions_label:"Active sessions",active_label:"Active",actor_label:"Actor",addCalendar_action:"Add calendar",addCustomDomainValidationRecord_msg:"Please add a TXT record for your domain to prove your ownership like shown below:",addCustomDomain_action:"Add custom domain",addEmailAlias_label:"Add email alias",addEnumValue_action:"Add enum value",addGroup_label:"Add group",addInboxRule_action:"Add inbox rule",addLanguage_action:"Add language",addNext_action:"Add next item to selection",addOpenOTPApp_action:"Add to authenticator app",addParticipant_action:"Add participant",addPrevious_action:"Add previous item to selection",addResponsiblePerson_label:"Add responsible person",addressesAlreadyInUse_msg:"The following email addresses are already in use:",address_label:"Address",addSecondFactor_action:"Add second factor",addSpamRule_action:"Add spam rule",addStatisticsField_action:"Add statistics field",addUsers_action:"Add user",addUserToGroup_label:"Add member",add_action:"Add",adminCustomDomain_label:"Custom domain",adminDeleteAccount_action:"Delete account",adminEmailSettings_action:"Email",administratedBy_label:"Administrated by",administratedGroups_label:"Administrated groups",administrator_label:"Admin",adminMaxNbrOfAliasesReached_msg:"The maximum number of aliases has been reached.",adminPayment_action:"Payment",adminPremiumFeatures_action:"Extensions",adminSettings_label:"Admin settings",adminSpamRuleInfo_msg:"Details for configuring spam rules: ",adminSpam_action:"Spam rules",adminSubscription_action:"Subscription",adminUserList_action:"User management",ageConfirmation_msg:"I am at least 16 years old.",agenda_label:"Agenda",allDay_label:"All Day",allowPushNotification_msg:"To receive push notifications for new emails reliably, please agree to disable battery optimizations for Tutanota. You can change this later in the system settings.",all_contacts_label:"All contacts",all_label:"All",alreadyMember_msg:"You are already a participant of this calendar. If you wish to accept this new invitation, you must remove your participation first.",alwaysAsk_action:"Always ask",amountUsedAndActivatedOf_label:"{used} used, {active} activated of {totalAmount}",amountUsedOf_label:"{amount} used of {totalAmount}",amount_label:"Amount",appearanceSettings_label:"Appearance",appInfoAndroidImageAlt_alt:"Android app on Google Play",appInfoFDroidImageAlt_alt:"Android app on F-Droid",appInfoIosImageAlt_alt:"iOS app on Apple store",archive_action:"Archive",assignAdminRightsToLocallyAdministratedUserError_msg:"You can't assign global admin rights to a locally administrated user.",attachFiles_action:"Attach files",attachmentName_label:"Attachment name",auditLogInfo_msg:"The audit log contains important administrative actions.",auditLog_title:"Audit log",automaticRenewal_label:"automatic renewal",automatic_label:"Automatic",autoUpdate_label:"Automatic Updates",back_action:"Back",balance_label:"Balance",bcc_label:"Bcc",birthday_alt:"Birthday",bookingItemUsersIncludingWhitelabel_label:"Users incl. whitelabel feature",bookingItemUsersIncluding_label:"Users incl.:",bookingItemUsers_label:"Users",bookingOrder_label:"Booking",bookingSummary_label:"Booking summary",breakLink_action:"Remove hyperlink",businessChangeInfo_msg:"Please verify your invoice data to switch your account to business use.",businessOrPrivateUsage_label:"Usage",buyEmailAliasInfo_msg:"Please choose one of the email alias packages to change the number of available email aliases. The booked email aliases can be used by any user.",buyStorageCapacityInfo_msg:"Please choose one of the storage packages to change the available storage capacity. The booked storage is shared by all users.",buy_action:"Buy",by_label:"by",calendarInvitationProgress_msg:"Sending invitation.",calendarInvitations_label:"Calendar invitations",calendarName_label:"Calendar name",calendarReminderIntervalFiveMinutes_label:"5 minutes",calendarReminderIntervalOneDay_label:"1 day",calendarReminderIntervalOneHour_label:"1 hour",calendarReminderIntervalOneWeek_label:"1 week",calendarReminderIntervalTenMinutes_label:"10 minutes",calendarReminderIntervalThirtyMinutes_label:"30 minutes",calendarReminderIntervalThreeDays_label:"3 days",calendarReminderIntervalTwoDays_label:"2 days",calendarRepeating_label:"Repeating",calendarRepeatIntervalAnnually_label:"Annually",calendarRepeatIntervalDaily_label:"Daily",calendarRepeatIntervalMonthly_label:"Monthly",calendarRepeatIntervalNoRepeat_label:"Do not repeat",calendarRepeatIntervalWeekly_label:"Weekly",calendarRepeatStopConditionDate_label:"On date",calendarRepeatStopConditionNever_label:"Never",calendarRepeatStopConditionOccurrences_label:"After occurrences",calendarRepeatStopCondition_label:"Ends",calendarShareCapabilityInvite_label:"Write and manage sharing",calendarShareCapabilityRead_label:"Read only",calendarShareCapabilityWrite_label:"Read and write",calendarView_action:"Switch to the calendar view",calendar_label:"Calendar",callNumber_alt:"Call this number",cameraUsageDescription_msg:"Take a picture or video for adding it as attachment.",cancelContactForm_label:"Cancel contact form",cancelledBy_label:"(cancelled by {endOfSubscriptionPeriod})",cancelLocalAdminGroup_label:"Cancel local admin group",cancelSharedMailbox_label:"Cancel shared mailbox",cancelSharingBooking_label:"Cancel sharing feature for {1} users",cancelUserAccounts_label:"Cancel {1} user(s)",cancelWhitelabelBooking_label:"Cancel whitelabel feature for {1} users",cancel_action:"Cancel",canNotOpenFileOnDevice_msg:"This file can not be opened on this device.",captchaDisplay_label:"Captcha",captchaEnter_msg:"Please enter the time in hours and minutes.",captchaInfo_msg:"Please enter the displayed time to prove you are not a computer.",captchaInput_label:"Time",catchAllMailbox_label:"Catch all mailbox",cc_label:"Cc",certificateChainInfo_msg:"Please select the file with the SSL certificate chain for your domain in PEM format (base64 encoded).",certificateChain_label:"Certificate chain",certificateError_msg:"The certificate chain or the private key have a bad format or do not match your domain.",certificateExpiryDate_label:"Certificate expiry date: {date}",certificateStateInvalid_label:"Failed to order certificate",certificateStateProcessing_label:"Processing",certificateTypeAutomatic_label:"Automatic (Let's Encrypt)",certificateTypeManual_label:"Manual",certificateType_label:"Certificate type",changeAdminPassword_msg:"Sorry, you are not allowed to change other admin's passwords.",changePasswordCode_msg:"Your verification code: ",changePassword_label:"Change password",changePermissions_msg:"To grant access you have to modify the permissions for this device.",changeTimeFrame_msg:"Go Premium and adjust your search period!",checkAgain_action:"Check again",checkDnsRecords_action:"Check DNS records",chooseDirectory_action:"Choose directory",chooseNumber_msg:"Please click on one of your phone numbers below to receive your Tutanota password as text message.",choosePhotos_action:"Photos",choose_label:"Chooseâ€¯...",clearFolder_action:"Clear folder",clickNumber_msg:"Please click on your phone number below to receive your Tutanota password as text message.",clickToUpdate_msg:"Click here if you want to apply it now, or let us auto install on quit.",client_label:"Client",closedSessions_label:"Closed sessions",closeSession_action:"Close session",closeWindowConfirmation_msg:"Do you really want to close this window without saving your changes?",close_alt:"Close",color_label:"Color",comboBoxSelectionNone_msg:"None",comment_label:"Comment",community_label:"Community",company_label:"Company",confidentialStatus_msg:"This message will be sent end-to-end encrypted.",confidential_action:"Confidential",confirmCountry_msg:"To calculate the value added tax we need you to confirm your country: {1}.",confirmDeactivateCustomColors_msg:"Would you really like to deactivate your custom colors?",confirmDeactivateCustomLogo_msg:"Would you really like to deactivate your custom logo?",confirmDeactivateWhitelabelDomain_msg:"Would you really like to deactivate the Tutanota login for your domain and delete the SSL certificate, custom logo and custom colors?",confirmDeleteContactForm_msg:"Would you really like to delete this contact form?",confirmDeleteFinallyCustomFolder_msg:"Do you really want to permanently delete the folder '{1}' and all of its emails? Depending on the number of emails this operation may take a long time and will be executed in the background.",confirmDeleteFinallySystemFolder_msg:"Do you really want to permanently delete all emails from the system folder '{1}'? Depending on the number of emails this operation may take a long time and will be executed in the background.",confirmDeleteSecondFactor_msg:"Would you really like to delete this second factor?",contactFormEnterPasswordInfo_msg:"Please enter a password, so you can later log in and read your personal answer.",contactFormMailAddressInfo_msg:"As soon as we have answered your request you will get a notification email. This is optional.",contactFormPasswordNotSecure_msg:"The password is not secure enough. Send the request anyway?",contactFormPlaceholder_label:"Your messageâ€¯...",contactFormReportInfo_msg:"Export a CSV log of all contact form requests including user provided statistic data.",contactFormReport_label:"Contact form report",contactFormStatisticFieldsInfo_msg:"The following details are used for statistical purposes only and are voluntary.",contactFormSubmitConfirm_action:"I have written down the email address and my password!",contactFormSubmitConfirm_msg:"Your request has been successfully submitted. Please note down the following email address and your password to read the answer to your request.",contactFormSubmitError_msg:"Sorry, your request could not be completed. Please try again later.",contactForms_label:"Contact forms",contactForm_label:"Contact form",contactsUsageDescription_msg:"Find recipient email address in contacts.",contacts_label:"Contacts",contactView_action:"Switch to the contact view",contentBlocked_msg:"Automatic image loading has been blocked to protect your privacy.",continueSearchMailbox_msg:"To execute this search we have to download more emails from the server which may take some time.",contractorInfo_msg:"Please fill in the contractor's name (company) and address.",contractor_label:"Contractor",copyLink_action:"Copy link address",copy_action:"Copy",correctValues_msg:"Please correct the values with an invalid format.",corrupted_msg:"This element cannot be displayed correctly.",couldNotAttachFile_msg:"The file could not be loaded.",createAccountAccessDeactivated_msg:"Registration is temporarily blocked for your IP address to avoid abuse. Please try again later or use a different internet connection.",createAccountInvalidCaptcha_msg:"Unfortunately, the answer is wrong. Please try again.",createAccountRunning_msg:"Preparing accountâ€¯...",createActionStatus_msg:"Creating users. Finished {index} of {count} accountsâ€¯...",createContactForm_label:"Create contact form",createContactRequest_action:"Create request",createContactsForRecipients_action:"Create contacts for all recipients when sending email",createContacts_label:"Create contacts",createContact_action:"Create contact",createdUsersCount_msg:"{1} user(s) created.",created_label:"Created",createEvent_label:"Event",creditCardCardHolderName_label:"Name of the cardholder",creditCardCardHolderName_msg:"Please enter the name of the cardholder.",creditCardCVVFormat_label:"Please enter the 3 or 4 digit security code.",creditCardCVVInvalid_msg:"Security code is invalid.",creditCardCVV_label:"Security code",creditCardExpirationDateFormat_msg:"Format: MM/YYYY",creditCardExpirationDate_label:"Expiration date",creditCardExprationDateInvalid_msg:"Expiration date is invalid.",creditCardNumberFormat_msg:"Please enter your credit card number.",creditCardNumberInvalid_msg:"Credit card number is invalid.",creditCardNumber_label:"Credit card number",credit_label:"Credit",currentBalance_label:"Current Account Balance",currentlyBooked_label:"Booking overview",customColorsInfo_msg:"If you leave a blank field the color from the default light theme is used instead.",customColors_label:"Custom colors",customDomainDeletePreconditionFailed_msg:"Please deactivate all users and email aliases containing the domain: {domainName}.",customDomainDeletePreconditionWhitelabelFailed_msg:"Please deactivate all users and email aliases containing the domain: {domainName} and remove the domain as registration email domain.\n",customDomainDomainAssigned_msg:"The domain is already assigned to your account.",customDomainErrorDnsLookupFailure_msg:"DNS lookup failed.",customDomainErrorDomainNotAvailable_msg:"Domain is not available.",customDomainErrorDomainNotFound_msg:"We could not find this domain in the DNS. Please check the spelling.",customDomainErrorNameserverNotFound_msg:"We could not find the nameserver for this domain. Please make sure your NS and SOA records in the DNS are valid.",customDomainErrorOtherTxtRecords_msg:"However, we found these other TXT records:",customDomainErrorValidationFailed_msg:"The validation of your domain failed. Please check that the TXT record for validation is correct.",customDomainNeutral_msg:"Please enter your domain.",customEmailDomains_label:"Custom email domains",customLabel_label:"Custom label",customLogoInfo_msg:"Allowed file types: svg, png, jpg. Max. file size: 100â€¯KB. Display height: 38â€¯px, max. display width: 280â€¯px.",customLogo_label:"Custom logo",customMetaTags_label:"Custom meta tags",customName_label:"Your custom name for this calendar: {customName}",customNotificationEmailsHelp_msg:"Notification emails are sent to recipients of confidential emails whose mailboxes are hosted on other email providers. You can customize this message by adding templates for multiple languages. Once you have added a template the default template will not be used anymore. These templates will be applied to all users of your account.",customNotificationEmails_label:"Custom notification emails",custom_label:"Custom",cut_action:"Cut",dataExpired_msg:"Your loaded data is expired and out of sync with the data on the Tutanota servers. Please logout and login again to refresh your data.",dateFrom_label:"From",dateInvalidRange_msg:"Please define a valid date range.",dateTo_label:"To",date_label:"Date",day_label:"Day",deactivateAlias_msg:"The email alias '{1}' will be deactivated now. The address can be activated again or re-used for another user.",deactivated_label:"Deactivated",deactivateOwnAccountInfo_msg:"You can not delete admins. Please remove the admin flag first.",deactivatePremiumWithCustomDomainError_msg:"Cannot switch to a Tutanota Free account when logged in with a custom domain user.",deactivate_action:"Deactivate",decline_action:"Decline",defaultColor_label:"Default color: {1}",defaultDownloadPath_label:"Default download path",defaultEmailSignature_msg:"--\n<br>\nSecurely sent with Tutanota. Get your own encrypted, ad-free mailbox:\n<br>\n{1}",defaultExternalDeliveryInfo_msg:"The default setting for sending a new email to an external recipient: confidential (end-to-end encrypted) or not confidential (not end-to-end encrypted).",defaultExternalDelivery_label:"Default delivery",defaultMailHandler_label:"Default email handler",defaultMailHandler_msg:"Register Tutanota Desktop as the default email handler, e.g. to open email address links. This operation may require administrator permissions.",defaultSenderMailAddressInfo_msg:"The default sender mail address for new emails.",defaultSenderMailAddress_label:"Default sender",deleteAccountConfirm_msg:"Do you really want to delete your account? The account can't be restored and the email address can't be registered again.",deleteAccountReasonInfo_msg:"Optional: We would appreciate it if you gave us a reason why you want to delete the account so that we can improve Tutanota further.",deleteAccountReason_label:"Why?",deleteAccountWithTakeoverConfirm_msg:"Do you really want to delete your account? Your email addresses can be taken over by the account {1}.",deleteAlias_msg:"The email alias '{1}' will be deleted now. You can use the address as email alias again or use it for a new user.",deleteCalendarConfirm_msg:'Are you sure that you want to delete the calendar "{calendar}" and all events in it?',deleteContacts_action:"Delete the selected contact(s)",deleteContacts_msg:"Are you sure you want to delete the selected contact(s)?",deleteContact_msg:"Are you sure you want to delete this contact?",deleteCredentials_action:"Delete credentials",deleteDnsRecords_msg:"Please delete or fix the following DNS records:",deleteEmails_action:"Delete the selected emails",deleteRepeatingEventConfirmation_msg:"Are you sure you want to delete this repeating event?",deleteSharedCalendarConfirm_msg:'The calendar "{calendar}" is shared with other users.',delete_action:"Delete",description_label:"Description",desktopIntegration_label:"Desktop Integration",desktopIntegration_msg:"Do you want to integrate Tutanota into your Desktop Environment?",desktopSettings_label:"Desktop settings",desktop_label:"Desktop",details_label:"Details",differentSecurityKeyDomain_msg:"Your security key is not registered for this domain. Please login at {domain}.",discardChanges_action:"Discard changes",display_action:"Display",dnsRecordHostOrName_label:"Host/Name",dnsRecordsOk_msg:"All DNS records are fine!",dnsRecordValueOrPointsTo_label:"Value/Points to",domain_label:"Domain",doNotAskAgain_label:"Don't ask again for this file",downgradeToPremium_msg:"Your account will be downgraded to a Premium account with 5 aliases, 1 GB of storage and without sharing or whitelabel functions.",downgradeToTeams_msg:"Your account will be downgraded to a Teams account with 5 aliases, 10 GB of storage and without whitelabel functions.",download_action:"Download",draft_action:"Drafts",duplicatedMailAddressInUserList_msg:"The email address is included more than once in your input data.",duplicatesNotification_msg:"{1} duplicate contacts were found and will be deleted.",editContactForm_label:"Edit contact form",editContact_label:"Edit contact",editInboxRule_action:"Edit inbox rule",editMail_action:"Edit the selected email",edit_action:"Edit",emailAddressInUse_msg:"The email address is still used by another user. Please deactivate it there first.",emailAliasesTooManyActivatedForBooking_msg:"There are too many email aliases active to process this order. Please deactivate your email aliases first.",emailAlias_label:"Email alias",emailProcessing_label:"Email processing",emailPushNotification_action:"Add notification email address",emailPushNotification_msg:"A notification email is sent to this address if you receive a new email.",emailSenderBlacklist_action:"Always spam",emailSenderDiscardlist_action:"Discard",emailSenderExistingRule_msg:"A rule for this email sender already exists.",emailSenderInvalidRule_msg:"The rule for this email sender is not allowed.",emailSenderPlaceholder_label:"Email address or domain name",emailSenderRule_label:"Rule",emailSenderWhitelist_action:"Not spam",emailSender_label:"Email sender",emailSending_label:"Sending emails",emailSignatureTypeCustom_msg:"Custom",emailSignatureTypeDefault_msg:"Default",emails_label:"Emails",email_label:"Email",enableSearchMailbox_msg:"Enabling the search for your mailbox consumes memory on your device and might consume additional traffic.",endOfSubscriptionPeriod_label:"End of current subscription period is {1}.",endsWith_label:"ends with",enforcePasswordUpdate_msg:"Force users to update their password after it has been reset by an administrator.",enforcePasswordUpdate_title:"Enforce password update",enterAsCSV_msg:"Please enter your user details as CSV.",enterMissingPassword_msg:"No password detected. Please enter a password.",enterName_msg:"Please enter a name.",enterPaymentDataFirst_msg:"Please first enter your payment data before ordering additional packages.",enterPresharedPassword_msg:"Please enter the password which you have agreed upon with the sender.",enumValue_label:"Enum value",enum_label:"Enum",envelopeSenderInfo_msg:"The technical sender is different than the email address in 'From'. As 'From' can be faked, the technical sender is also displayed to understand who actually sent this email.",errorAtLine_msg:"Error at line {index}: {error}",errorDuringUpdate_msg:"Something went wrong during the update process, we'll try again later.",errorReport_label:"Oh no!",executableOpen_label:"Executable Attachment",executableOpen_msg:"This file looks like a program. Are you sure you want to execute it now?",existingMailAddress_msg:"The following email addresses could not be invited because they are either a participant or invited to the calendar:",expiredLink_msg:"Sorry, this link is not valid anymore. You should have received a new notification email with the currently valid link. Previous links are deactivated for security reasons.",exportSelectedAsVCard_action:"Export selected contacts as vCard",exportVCard_action:"Export vCard",export_action:"Export",externalFormattingInfo_msg:"Configure if all messages should be sent including formattings (HTML) or converted to plain text.",externalFormatting_label:"Formatting",externalMailPassword_msg:'Your Tutanota password: "{1}"',externalNotificationMailBody1_msg:"Hello,",externalNotificationMailBody2_msg:"You have just received a confidential email via Tutanota ({1}). Tutanota encrypts emails automatically end-to-end, including all attachments. You can reach your encrypted mailbox and also reply with an encrypted email with the following link:",externalNotificationMailBody3_msg:"Show encrypted email",externalNotificationMailBody4_msg:"Or paste this link into your browser:",externalNotificationMailBody5_msg:"This email was automatically generated for sending the link. The link stays valid until you receive a new confidential email from me.",externalNotificationMailBody6_msg:"Kind regards,",externalNotificationMailSubject_msg:"Confidential email from {1}",facebook_label:"Facebook",failedDebitAttempt_msg:"If our debit attempt failed, we will try again in a few days. Please make sure that your account is covered.",fax_label:"Fax",feedbackOnErrorInfo_msg:"Please tell us which steps have led to this error in English or German so we can fix it. Your message, error details and your browser identifier are sent encrypted to the Tutanota team. Thank you!",field_label:"Field",fileAccessDeniedMobile_msg:"Access to external storage is denied. You can enable it in the settings of your mobile device.",filter_label:"Filter",finallyDeleteEmails_msg:"Are you sure you want to permanently delete the selected email(s)?",finallyDeleteSelectedEmails_msg:"You have selected emails from the trash folder, they will be permanently deleted.",firstMergeContact_label:"Contact 1",firstName_placeholder:"First name",firstReminderAutomatic_msg:"unfortunately, we haven't received the payment for your Tutanota account yet. Therefore, we kindly ask you to verify your payment details in 'Settings' -> 'Payment'. For further details you can also check your invoices on that page.",firstReminderSubject_msg:"Reminder / overdue payment",folderNameCreate_label:"Create folder",folderNameInvalidExisting_msg:"A folder with this name already exists.",folderNameNeutral_msg:"Please enter folder name.",folderNameRename_label:"Rename folder",folderName_label:"Name",folderTitle_label:"Folders",footer_label:"Footer",formatTextAlignment_msg:"Alignment",formatTextBold_msg:"Make selected text bold.",formatTextCenter_msg:"Center",formatTextFontSize_msg:"Font size",formatTextItalic_msg:"Make selected text italic.",formatTextJustify_msg:"Justified",formatTextLeft_msg:"Left",formatTextMonospace_msg:"Monospace",formatTextOl_msg:"Ordered list",formatTextRight_msg:"Right",formatTextUl_msg:"Unordered list",formatTextUnderline_msg:"Make selected text underlined.",forward_action:"Forward",from_label:"From",functionNotSupported_msg:"This function is not supported by your device or browser.",germanLanguageFile_label:"German language file",globalAdmin_label:"Global admin",globalSettings_label:"Global settings",goPremium_msg:"As a Premium user you can adjust your search filters in the menu to the left.",gross_label:"incl. taxes",groupMembers_label:"Group members",groupNotEmpty_msg:"Non-empty groups can not be deactivated.",groups_label:"Groups",groupType_label:"Group type",group_label:"Group",header_label:"Header",helpPage_label:"Help page",hideWindows_action:"Hide windows",howtoMailBody_markdown:"Tutanota lets you send encrypted emails to any email address in the world - automatically if the recipient uses Tutanota as well, or via a shared password if the recipient uses another service. Even emails sent or received unencrypted are stored encrypted on our own servers based in Germany.\n\nPlease check the Tutanota FAQ, the How-to, and the support forum to learn everything you want to know about your new secure mailbox:\n\n* [FAQ]({faqLink})\n* [How-to]({howtoLink})\n* [Support Forum]({redditLink})\n\n**Search on encrypted data**\n\nTutanota lets you search your encrypted mailbox locally on your device to guarantee confidentiality of your data. Please click on the search bar at the top. Standard search goes back one month into the past. [To unlock unlimited search and lots of additional features in your Tutanota mailbox]({blogPremiumProLink}), you need to use a paid subscription of Tutanota.\n\n**Direct support**\n\nAt Tutanota we enable everyone in the world to send emails confidentially. With millions of users, we can not answer everyoneâ€™s questions via email. In case you cannot find answers to your questions in our FAQ and How-to, [please ask the community here]({redditLink}). Support via email is limited to paying users.\n\nStay secure,\\\nyour Tutanota Team",howtoMailSubject_msg:"How-to for your secure Tutanota mailbox",htmlSourceCode_label:"HTML source code",html_action:"HTML",ignoreCase_alt:"Ignore case",importCalendar_label:"Importing calendar",importReadFileError_msg:"Sorry, the file {filename} is not readable.",importUsers_action:"Import users",importVCardError_msg:"Can not read vCard file.",importVCardSuccess_msg:"{1} contact(s) successfully imported!",importVCard_action:"Import vCard",import_action:"Import",imprintUrl_label:"Link to imprint",imprint_label:"Imprint",inboxRuleAlreadyExists_msg:"This rule already exists.",inboxRuleBCCRecipientEquals_action:"Bcc recipient",inboxRuleCCRecipientEquals_action:"Cc recipient",inboxRuleEnterValue_msg:"Please enter a value.",inboxRuleField_label:"Field",inboxRuleInvalidEmailAddress_msg:"Email address or domain is not valid.",inboxRuleMailHeaderContains_action:"Header contains",inboxRuleSenderEquals_action:"Sender",inboxRulesSettings_action:"Inbox rules",inboxRuleSubjectContains_action:"Subject contains",inboxRuleTargetFolder_label:"Target folder",inboxRuleToRecipientEquals_action:"To recipient",inboxRuleValue_label:"Value",indexDeleted_msg:"We had to reset search index to make it faster and more reliable. The search index will be created again next time you search.",indexedMails_label:"Indexed emails: {count}",indexing_error:"Indexing was aborted because of the error",insertImage_action:"Insert image",insufficientStorageAdmin_msg:"Your storage limit has been exceeded. You can no longer receive or send emails. Please free some memory by deleting content of your mailbox or upgrade to a larger storage package.",insufficientStorageUser_msg:"Your storage limit has been exceeded. You can no longer receive or send emails. Please contact your administrator.",insufficientStorageWarning_msg:"Your mailbox has nearly reached the storage limit. Please free some memory by deleting content of your mailbox or upgrade to a larger storage package.",interval_title:"Interval",invalidBirthday_msg:"Invalid birthday. Please update the value of the birthday field.",invalidCnameRecord_msg:"The CNAME record for this domain is not set correctly.",invalidDateFormat_msg:"Invalid format. Valid: {1}. Year is optional.",invalidInputFormat_msg:"Invalid format.",invalidInterval_msg:"Invalid interval",invalidLink_msg:"Sorry, this link is not valid.",invalidMailAddress_msg:"The following email addresses could not be invited because they are invalid:",invalidPassword_msg:"Invalid password. Please check it again.",invalidRecipients_msg:"Please correct the invalid email address(es) in the recipient fields.",invalidRegistrationCode_msg:"This registration code is invalid.",invalidVatIdNumber_msg:"The value added tax identification number (VAT-ID) is invalid.",invalidVatIdValidationFailed_msg:"Failed to validate the value added tax identification number. Please try again later.",invitationMailBody_msg:"Hello!<br><br>This is my new email address. Tutanota offers a fully encrypted, ad-free mailbox to protect our right to privacy. With automatic encryption we can share emails as securely as sending sealed letters. Finally our data belongs only to us, no-one else can access it.<br><br>Join Tutanota now:<br>{registrationLink}<br><br><br>Best regards,<br>{username}<br><br>PS: Tutanota is free of charge with 1 GB of free storage included. In addition, it is open source: {githubLink}",invitationMailSubject_msg:"My new email address - join Tutanota so we can take back our privacy",invitation_label:"Invitation",invited_label:"Invited",invite_alt:"Invite",invoiceAddressInfoBusiness_msg:"Please enter your invoice address (max. 5 rows).",invoiceAddressInput_msg:"Max. 5 rows",invoiceAddress_label:"Billing address",invoiceCountryInfoBusiness_msg:"Please choose your country of residence.",invoiceCountryInfoConsumer_msg:"This is needed to calculate value-added tax (VAT).",invoiceCountry_label:"Country",invoiceData_msg:"Invoice data",invoiceMailBodyAutomatic_msg:"there is a new invoice with the number {1} for you available. You can download it in {2}. The grand total will automatically be debited.",invoiceMailBodyOnAccount_msg:"there is a new invoice with the number {1} for you available. You can download it in {2}. The payment is due 7 days after the invoice date.",invoiceMailSubject_msg:"New invoice for Tutanota",invoiceNotPaidUser_msg:"Sorry, you are currently not allowed to send emails. Please contact your administrator.",invoiceNotPaid_msg:"Sorry, you are currently not allowed to send emails because at least one of your invoices is not paid. Please update your payment data in 'Settings' -> 'Payment data' and trigger the payment there afterwards.",invoicePayConfirm_msg:"We will now debit the following amount:",invoicePaymentMethodInfo_msg:"Please choose a payment method. More options will be added in the future.",invoicePay_action:"Pay",invoiceSettingDescription_msg:"List of all your existing invoices and payments.",invoiceVatIdNoInfoBusiness_msg:"Must start with the two digit country prefix.",invoiceVatIdNoMissing_msg:"If you do not have a VAT ID number, please select private use.",invoiceVatIdNo_label:"VAT identification number",invoice_label:"Invoice",IpAddress_label:"IP address",keyboardShortcuts_title:"Keyboard shortcuts",knownCredentials_label:"Saved accounts",languageAlbanianref_label:"Albanian reformed",languageAlbanian_label:"Albanian",languageArabic_label:"Arabic",languageBosnian_label:"Bosnian",languageBulgarian_label:"Bulgarian",languageCatalan_label:"Catalan",languageChineseSimplified_label:"Chinese, Simplified",languageChineseTraditional_label:"Chinese, Traditional",languageCroatian_label:"Croatian",languageCzech_label:"Czech",languageDanish_label:"Danish",languageDutch_label:"Dutch",languageEnglish_label:"English",languageEstonian_label:"Estonian",languageFilipino_label:"Filipino",languageFinnish_label:"Finnish",languageFrench_label:"French",languageGalician_label:"Galician",languageGeorgian_label:"Georgian",languageGermanSie_label:"German (formal)",languageGerman_label:"German",languageGreek_label:"Greek",languageHebrew_label:"Hebrew",languageHindi_label:"Hindi",languageHungarian_label:"Hungarian",languageIndonesian_label:"Indonesian",languageItalian_label:"Italian",languageJapanese_label:"Japanese",languageKorean_label:"Korean",languageLatvian_label:"Latvian",languageLithuanian_label:"Lithuanian",languageMalay_label:"Malay",languageNorwegian_label:"Norwegian",languagePersian_label:"Persian",languagePolish_label:"Polish",languagePortugeseBrazil_label:"Portuguese, Brazil",languagePortugesePortugal_label:"Portuguese, Portugal",languageRomanian_label:"Romanian",languageRussian_label:"Russian",languageSerbian_label:"Serbian",languageSlovak_label:"Slovak",languageSlovenian_label:"Slovenian",languageSpanish_label:"Spanish",languageSwahili_label:"Swahili",languageSwedish_label:"Swedish",languageTamil_label:"Tamil",languageTurkish_label:"Turkish",languageUkrainian_label:"Ukrainian",languageUrdu_label:"Urdu",languageVietnamese_label:"Vietnamese",language_label:"Language",lastAccess_label:"Last access",lastName_placeholder:"Last name",laterInvoicingInfo_msg:"Info: Additionally ordered features will not be invoiced directly, but at the beginning of your next subscription month.",linkedin_label:"LinkedIn",loading_msg:"Loadingâ€¯...",localAdminGroupAssignedError_msg:"Users or groups are still assigned to this local admin group. It can't be deactivated.",localAdminGroups_label:"Local admin groups",localAdminGroup_label:"Local admin group",localAdmin_label:"Local admin",location_label:"Location",loggingOut_msg:"Logging outâ€¯...",loginAbuseDetected_msg:"Your account can not be used any more because the Tutanota terms and conditions were violated, e.g. by sending spam emails.",loginCredentials_label:"Login credentials",loginFailedOften_msg:"Too many failed login attempts. Please try again in an hour.",loginFailed_msg:"Invalid login credentials. Please try again.",loginNameInfoAdmin_msg:"Optional: the user's name.",loginOtherAccount_action:"Different account",login_action:"Log in",login_label:"Login",login_msg:"Logging inâ€¯...",logout_label:"Logout",mailAddressAliasesMaxNbr_label:"You can register {1} email aliases.",mailAddressAliases_label:"Email aliases",mailAddressAvailable_msg:"Email address is available.",mailAddressBusy_msg:"Verifying email addressâ€¯...",mailAddressDelay_msg:"Too many requests, please try again later.",mailAddressInvalid_msg:"Mail address is not valid.",mailAddressNA_msg:"Email address is not available.",mailAddressNeutral_msg:"Please enter mail address.",mailAddress_label:"Email address",mailBody_label:"Email body",mailbox_label:"Mailbox",mailFolder_label:"Email folder",mailHeaders_title:"Email headers",mailName_label:"Sender name",mailNotificationHello_msg:"Hello,",mailNotificationRegards_msg:"Thanks and best regards,{1}your Tutanota team",mailSendFailureBody_msg:"We are sorry to let you know that the following email could not be delivered.",mailSendFailureCustomerOnlyBody_msg:"You are not permitted to send messages to recipients outside of your organization.",mailSendFailureNonExistingRecipientBody_msg:"The recipient does not exist.",mailSendFailureRecipientMailboxLimitReached_msg:"The recipient's storage limit is reached.",mailSendFailureSubject_msg:"Email could not be delivered",mailSendFailureTechnicalError_msg:"A technical error occurred. Please try again later or contact our support. Error id: {errorId}",mailSettings_label:"Email settings",mailView_action:"Switch to the email view",makeLink_action:"Create hyperlink",markRead_action:"Mark read",markUnread_action:"Mark unread",matchCase_alt:"Match case",mayNotWorkForAllDe_msg:"This may not work for all Linux desktop environments.",mergeAllSelectedContacts_msg:"Are you sure you want to merge the selected contacts?",mergeContacts_action:"Merge contacts",merge_action:"Merge",microphoneUsageDescription_msg:"Used when recording a video as attachment.",mobile_label:"Mobile",modified_label:"Modified",month_label:"Month",moreInformation_action:"More information",moreInfo_msg:"More Info:",moreResultsFound_msg:"{1} more results found.",more_label:"More",moveDown_action:"Move down",moveToBottom_action:"Move to the bottom",moveToInbox_action:"Move to Inbox",moveToTop_action:"Move to the top",moveUp_action:"Move up",move_action:"Move",name_label:"Name",nbrOfContactsSelected_msg:"{1} contacts selected.",nbrOfInboxRules_msg:"You have defined {1} inbox rule(s).",nbrOfMailsSelected_msg:"{1} emails selected.",net_label:"net",newContact_action:"New contact",newEvent_action:"New event",newMails_msg:"New Tutanota email received.",newMail_action:"New email",newPassword_label:"Set password",nextSubscriptionPrice_msg:"This price is valid for the next subscription period after the current one.",next_action:"Next",nickname_placeholder:"Nickname",noAppAvailable_msg:"Thereâ€™s no app installed which can handle this action.",noContacts_msg:"There are no contacts in this list.",noContact_msg:"No contact selected.",noEntries_msg:"<No entries>",noInputWasMade_msg:"Input field is empty!",noMailHeadersInfo_msg:"No email headers available for this message.",noMails_msg:"No messages.",noMail_msg:"No email selected.",noMoreSimilarContacts_msg:"No more similar contacts found.",nonConfidentialStatus_msg:"This message will not be sent end-to-end encrypted.",nonConfidential_action:"Not confidential",noPermission_title:"No Permission",noPreSharedPassword_msg:"Please provide an agreed password for each external recipient.",noReceivingMailbox_label:"Please select a receiving mailbox.",noRecipients_msg:"Please enter the email address of your recipient.",noSelection_msg:"Nothing selected.",noSimilarContacts_msg:"No similar contacts found.",noSubject_msg:"The subject is missing. Send email anyway?",notASubdomain_msg:"This domain is not a subdomain.",notAvailableInApp_msg:"This function is not available in the mobile app.",notFound404_msg:"Sorry, but the page you are looking for has not been found. Try checking the URL for errors and hit the refresh button of your browser.",notificationMailLanguage_label:"Language of notification email",notificationMailTemplateTooLarge_msg:"The notification mail template is too large.",notificationsDisabled_label:"Disabled",notificationSettings_action:"Notifications",notificationSync_msg:"Synchronizing notifications",notSigned_msg:"Not signed.",no_label:"No",npoDiscount_msg:"Offer for NPOs: 50% user discount for Premium and 20 aliases free of charge!",npoDonation_msg:"Donation for NPOs: up to 50 users for Premium and 100 aliases free of charge!",number_label:"Number",ok_action:"Ok",oldPasswordInvalid_msg:"Incorrect old password.",oldPasswordNeutral_msg:"Please enter your old password.",oldPassword_label:"Old password",oneContactSelected_msg:"1 contact selected.",oneMailSelected_msg:"1 email selected.",onlyAvailableForPremiumNotIncluded_msg:"This feature can only be ordered after upgrading to Premium or Pro. Please upgrade your account now.",onlyAvailableForPremium_msg:"This feature is only available for Tutanota Premium or Pro. Please upgrade your account now.",onlyPrivateComputer_msg:"Only choose this option if you are using a private device.",openCamera_action:"Camera",openNewWindow_action:"New Window",open_action:"Open",operationStillActive_msg:"This operation can not be executed at the moment because another operation is still running. Please try again later.",optionalValues_label:"Voluntary information",orderAliasesConfirm_msg:"You can choose a larger alias package to register more aliases.",orderProcessingAgreementInfo_msg:"According to the EU GDPR business customers are obliged to conclude an order processing agreement with us.",orderProcessingAgreement_label:"Order processing agreement",order_action:"Order",otherCalendars_label:"Other calendars",otherPaymentProviderError_msg:"The payment provider returned an error. Please try again later.",other_label:"Other",outdatedClient_msg:"Please update Tutanota. The currently installed version is too old and not supported any longer.",outlookInvoiceMailBodyAutomatic_msg:"there is a new invoice with the number {1} for you available attached to this email. The grand total will automatically be debited. You can also see all your invoices in {2}",outlookInvoiceMailBodyOnAccount_msg:"there is a new invoice with the number {1} for you available attached to this email. The payment is due 7 days after the invoice date. You can also see all your invoices in {2}.",owner_label:"Owner",packageDowngradeUserAccounts_label:"Package downgrade to {1} user(s)",packageUpgradeUserAccounts_label:"Package upgrade to {1} user(s)",pageBackward_label:"Page backward",pageForward_label:"Page forward",pageTitle_label:"Page title",parentConfirmation_msg:'According to the EU General Data Protection Regulation (GDPR) children below 16 years need the confirmation of their parents to allow processing of their personal data. So please get hold of one of your parents or legal guardians and let them confirm the following:\n\n"I am the parent or legal guardian of my child and allow it to use Tutanota which includes processing of its personal data."',participants_label:'Participants of calendar "{name}"',participant_label:"Participant",password1InvalidSame_msg:"The new password is the same as the old one.",password1InvalidUnsecure_msg:"Password is not secure enough.",password1Neutral_msg:"Please enter a new password.",password2Invalid_msg:"Confirmed password is different.",password2Neutral_msg:"Please confirm your password.",passwordEnterNeutral_msg:"Please enter your password for confirmation.",passwordFor_label:"Password for {1}",passwordImportance_msg:"Please store this password in a secure place. We are not able to restore your password or to reset your account because all of your data is end-to-end encrypted.",passwordResetFailed_msg:"An error occurred. The password was not changed.",passwordValid_msg:"Password ok.",passwordWrongInvalid_msg:"Your password is wrong.",password_label:"Password",paste_action:"Paste",pathAlreadyExists_msg:"This path already exists.",payCardContactBankError_msg:"The payment transaction was rejected by your bank. Please contact your bank.",payCardExpiredError_msg:"The credit card is expired. Please update your payment details.",payCardInsufficientFundsError_msg:"The payment transaction was rejected due to insufficient funds.",payChangeError_msg:"The payment transaction failed. Paying with the provided payment data is not possible. Please change your payment data.",payContactUsError_msg:"The payment transaction failed. Please contact us.",paymentAccountRejected_msg:"Your credit card or PayPal account was already used for a different Tutanota payment. For security reasons we have to activate this first. We will send you an email as soon as your payment data is activated. You may then enter it again.",paymentDataPayPalFinished_msg:"Assigned PayPal account: {accountAddress}",paymentDataPayPalLogin_msg:"Please click on the PayPal button to log in. You will be redirected to the PayPal website.",paymentDataValidation_action:"Confirm",paymentMethodCreditCard_label:"Credit card",paymentMethodNotAvailable_msg:"This payment method is not available in your country.",paymentMethodOnAccount_label:"Purchase on account",paymentMethodOnAccount_msg:"You have to pay the invoices by bank transfer and you have to take care about the payment yourself. The invoice amount will not be debited automatically.",paymentMethod_label:"Payment method",paymentProviderNotAvailableError_msg:"The payment provider is currently not available. Please try again later.",payPalRedirect_msg:"You will be redirected to the PayPal website",payPaypalChangeSourceError_msg:"The payment transaction failed. Please choose a different way to pay in PayPal.",payPaypalConfirmAgainError_msg:"The payment transaction failed. Please update and confirm your payment details.",periodOfTime_label:"Period of time",permanentAliasWarning_msg:"This is a Tutanota domain alias, which, in contrast to custom domain aliases, can only be deactivated, not deleted. It will permanently count towards your alias limit.",permissions_label:"Permission",phone_label:"Phone",photoLibraryUsageDescription_msg:"Add a picture from your library as attachment.",plaintext_action:"Plain text",pleaseEnterEnumValues_msg:"Please enter enum values.",pleaseEnterValidPath_msg:"Please enter a valid path. Allowed characters are a-z, A-Z, '-' and '_'.",pleaseWait_msg:"Please waitâ€¯...",postings_label:"Postings",postpone_action:"Postpone",premiumOffer_msg:"Your support will speed up our development as you enable us to grow our team. Business users need to upgrade to a paid version of Tutanota as stated in our Terms. Read more on what you get with Premium or Pro:\n",presharedPasswordNotStrongEnough_msg:"At least one of the entered passwords is not secure enough. Send email anyway?",presharedPasswordsUnequal_msg:"The selected contacts have different agreed passwords. They can not be merged!",presharedPassword_label:"Agreed password",preview_label:"Preview",previous_action:"Previous",priceChangeValidFrom_label:"Price change will take effect on {1}.",priceFirstYear_label:"Price for first year",priceForCurrentAccountingPeriod_label:"Pro rata price for current subscription period is {1}.",priceForNextYear_label:"Price for next year",priceFrom_label:"Price from {date}",priceTill_label:"Price till {date}",price_label:"Price","pricing.basePriceExcludesTaxes_msg":"Base price. Excludes taxes.","pricing.basePriceIncludesTaxes_msg":"Base price. Includes taxes.","pricing.businessUse_label":"Business","pricing.comparisonAddUser_msg":"Add user ({1})","pricing.comparisonContactFormPro_msg":"Contact forms ({price})","pricing.comparisonDomainFree_msg":"Tutanota domains only","pricing.comparisonDomainPremium_msg":"Custom domains","pricing.comparisonInboxRulesPremium_msg":"Inbox rules","pricing.comparisonLoginPro_msg":"Custom domain login","pricing.comparisonMultipleCalendars_msg":"Multiple calendars","pricing.comparisonOneCalendar_msg":"One calendar","pricing.comparisonSearchFree_msg":"Limited search","pricing.comparisonSearchPremium_msg":"Unlimited search","pricing.comparisonSharingCalendar_msg":"Share calendars","pricing.comparisonStorage_msg":"{amount} GB storage","pricing.comparisonSupportPremium_msg":"Support via email","pricing.comparisonSupportPro_msg":"Priority support","pricing.comparisonThemePro_msg":"Custom logo and colors","pricing.comparisonUsersFree_msg":"One user","pricing.currentPlan_label":"Current subscription","pricing.mailAddressAliasesShort_label":"{amount} aliases","pricing.monthly_label":"Monthly","pricing.perMonth_label":"per month","pricing.perYear_label":"per year","pricing.privateUse_label":"Private","pricing.select_action":"Select","pricing.upgradeLater_msg":"Use Tutanota free of charge and upgrade later. Only for private use.","pricing.yearly_label":"Yearly",print_action:"Print",privacyLink_label:"Privacy policy",privacyPolicyUrl_label:"Link to privacy policy",privateCalendar_label:"Private",privateKeyInfo_msg:"Please select the file with the certificate's private key in PEM format (base64 encoded).",privateKey_label:"Private key",private_label:"Private",progressDeleting_msg:"Deletingâ€¯...","promotion.ctAdventCalendarDiscount_msg":"c't advent calendar: Use Tutanota 12 months for free","promotion.npoDiscount_msg":"Offer for NPOs: 50% user discount for Premium and 20 aliases free of charge!","promotion.npoDonation_msg":"Donation for NPOs: up to 50 users for Premium and 100 aliases free of charge!","promotion.tresoritDiscount_msg":"Tutanota + Tresorit special offer: 5 months discount for first year!",pushIdentifierCurrentDevice_label:"This device",pushIdentifierInfoMessage_msg:"List of all recipients receiving notifications for this user. You can deactivate entries if you do not wish to receive notifications or delete them for devices you don't use anymore.",pushNewMailReceivedBody_msg:"You have received a new email for your mailbox {emailAddress} at {domainName}.",pushNewMail_msg:"New email received.",pwChangeValid_msg:"Password was changed.",quit_action:"Quit",readResponse_action:"Read response",reallySubmitContent_msg:"Do you really want to send the entered data to an external site?",received_action:"Inbox",receivingMailboxAlreadyUsed_msg:"The selected receiving mailbox is already used for a different contact form.",receivingMailbox_label:"Receiving mailbox",recipients_label:"Recipients",recommendedDmarcRecord_msg:"We recommend to set the following TXT entry for DMARC, but you may also choose your own configuration:",recoverAccountAccess_action:"Lost account access",recoverResetFactors_action:"Reset second factor",recoverSetNewPassword_action:"Set a new password",recoveryCodeEmpty_msg:"Please enter a recovery code",recoveryCode_label:"Recovery code",recoveryCode_msg:"Please take a minute to write down your recovery code. The recovery code is the only option to reset your password or second factor in case you lose either.",recover_label:"Recover",redo_action:"Redo",refresh_action:"Refresh",refund_label:"Refund",registeredU2fDevice_msg:"Your security key has been recognized. You can save it now.",registered_label:"Registered",registerU2fDevice_msg:"Connect your security key and press its button to register it with your account.",register_label:"Sign up",registrationHeadline_msg:"Sign up",releaseNotes_action:"Release notes",reloadPage_action:"Reload page",reminderBeforeEvent_label:"Reminder before event",remindersUsageDescription_msg:"Shows notification when new email arrives.",reminder_label:"Reminder",removeCalendarParticipantConfirm_msg:'Are you sure you want to remove {participant} from the calendar "{calendarName}"?',removeFormatting_action:"Remove formatting from selection",removeGroup_action:"Remove group",removeOwnAdminFlagInfo_msg:"Your own admin flag can only be removed by another admin but not by yourself.",removeStatisticsField_action:"Remove statistics field",removeUserFromGroupNotAdministratedError_msg:"You cannot remove a user you do not administrate from a group.",removeUserFromGroupNotAdministratedUserError_msg:"You cannot remove a user from a group you do not administrate.",remove_action:"Remove",rename_action:"Rename",repeatedPassword_label:"Repeat password",replyAll_action:"Reply all",replyTo_label:"ReplyTo",reply_action:"Reply",requestApproval_msg:"Sorry, you are currently not allowed to send or receive emails (except to Tutanota support) because your account was marked for approval to avoid abuse like spam emails. Please contact us at approval@tutao.de directly from your Tutanota account and describe what you would like to use this email account for. Please write in English or German, so we can understand you. Thanks!",responsiblePersonsInfo_msg:"Limit the users that the message from the receiving mailbox can be forwarded to. There are no restrictions if the list is empty.",responsiblePersons_label:"Responsible persons",restartBefore_action:"Restart Tutanota before sending",retry_action:"Try again",richText_label:"Rich text",role_placeholder:"Role",runAsTrayApp_action:"Run as tray app",runOnStartup_action:"Run on startup",saveAll_action:"Save all",saveDownloadNotPossibleIe_msg:"The mobile Internet Explorer does not support saving or displaying attachments. Please use a desktop browser for these features.",saveDownloadNotPossibleIos_msg:"This browser does not support saving attachments to disk. Some file types can be displayed in the browser by clicking the link above.",saveDraft_action:"Save draft",saveEncryptedIpAddress_label:"Save encrypted IP address in sessions and audit log",save_action:"Save",save_msg:"Saving dataâ€¯...",scheduleAlarmError_msg:"Could not set up an alarm. Please update the application.",scrollDown_action:"Scroll down",scrollToBottom_action:"Scroll to bottom",scrollToTop_action:"Scroll to top",scrollUp_action:"Scroll up",searchContacts_placeholder:"Search contacts",searchDisabledApp_msg:"Search is disabled because of a system error. The app has to be restarted to enable search again.",searchDisabled_msg:"Your browser does not support data storage. That is why we disabled the search function.",searchedUntil_msg:"Searched until",searchEmails_placeholder:"Search emails",searchGroups_placeholder:"Search for groups",searchMailbox_label:"Search mailbox",searchNoResults_msg:"No results",searchPage_action:"Search page...",searchPage_label:"Search page",searchResult_label:"Results",searchUsers_placeholder:"Search for users",search_label:"Search",secondFactorAuthentication_label:"Second factor authentication",secondFactorConfirmLoginNoIp_msg:'Would you like to allow the login from the client "{clientIdentifier}"?',secondFactorConfirmLogin_label:"Confirm login",secondFactorConfirmLogin_msg:'Would you like to allow the login from the client "{clientIdentifier}" with the IP address {ipAddress}?',secondFactorNameInfo_msg:"Optional: Name for identification.",secondFactorPendingOtherClientOnly_msg:"Please accept this login from another client.",secondFactorPending_msg:"Please authenticate with your second factor or accept this login from another client.",secondMergeContact_label:"Contact 2",secondReminderAutomatic_msg:"unfortunately, we still haven't received the payment for your Tutanota account. Therefore, we kindly ask you to verify your payment details in 'Settings' -> 'Payment'. For further invoice details you can also check your invoices on that page. We have to deactivate your account if we do not receive the payment within two weeks.",secondReminderSubject_msg:"Second reminder / overdue payment",security_title:"Security",selectionNotAvailable_msg:"No selection available.",selectNext_action:"Select next",selectPeriodOfTime_label:"Select period of time",selectPrevious_action:"Select previous",sendErrorReport_action:"Send error report",sender_label:"Sender",sendingSms_msg:"Sending SMSâ€¯...",sendingUnencrypted_msg:"Your message is being sent.",sending_msg:"Your message is being encrypted and sent.",sendMail_alt:"Send email to this address",send_action:"Send",sent_action:"Sent",serverDownForMaintenance_msg:"The server is down for maintenance. Please try again later.",serverNotReachable_msg:"Could not reach server, looks like you are offline. Please try again later.",serviceUnavailable_msg:"A temporary error occurred on the server. Please try again at a later time.",sessionsInfo_msg:"Client and IP address are only stored encrypted.",sessionsWillBeDeleted_msg:"These will be deleted 2 weeks after closing.",setCatchAllMailbox_action:"Set catch all mailbox",setDnsRecords_msg:"Please set the following DNS records:",settingsForDevice_label:"Settings for this device",settingsView_action:"Switch to the settings view",settings_label:"Settings",setUp_action:"Set up",shareCalendarAcceptEmailBody_msg:'Hello {recipientName}, <br/>{invitee} has accepted your invitation to participate in the calendar "{calendarName}".<br/><br/>This is an automated message.',shareCalendarAcceptEmailSubject_msg:"Calendar invitation accepted",shareCalendarDeclineEmailBody_msg:'Hello {recipientName}, <br/>{invitee} has not accepted your invitation to participate in the calendar "{calendarName}".<br/><br/>This is an automated message.',shareCalendarDeclineEmailSubject_msg:"Calendar invitation declined",shareCalendarInvitationEmailBody_msg:'Hello, <br/>{inviter} has invited you to participate in the calendar "{calendarName}". You can check the details of this invitation in the calendar view to accept or decline it.<br/><br/>This is an automated message.',shareCalendarInvitationEmailSubject_msg:"Invitation to participate in calendar",shareCalendarWarningAliases_msg:"They will also be able to see the email aliases associated with your mailbox.",shareCalendarWarning_msg:"All participants of the calendar will be able to see your name and main email address of your mailbox.",sharedCalendarExisting_msg:"You have still shared calendars. Please remove all shares first.",sharedMailboxes_label:"Shared mailboxes",sharedMailbox_label:"Shared mailbox",shareWithEmailRecipient_label:"Share with email recipient",sharingBooking_label:"Sharing feature for {1} users",sharingDeletionWarning_msg:"All shares of all users will be automatically deleted when you disable the sharing feature.",sharingFeatureNotOrderedAdmin_msg:"To share a calendar you have to order the sharing feature. Would you like to order it now?",sharingFeatureNotOrderedUser_msg:"To share a calendar you have to order the sharing feature. Please contact your administrator.",sharingFeature_label:"Sharing",sharing_label:"Sharing",showAddress_alt:"Show this address in Openstreetmap",showAll_action:"Show all",showBlockedContent_action:"Show",showContact_action:"Show contact",showEmailAliases_action:"Show email aliases",showHeaders_action:"Show email headers",showHelp_action:"Show this help",showInboxRules_action:"Show inbox rules",showingEventsUntil_msg:"Showing events until {untilDay}.",showMail_action:"Show encrypted mailbox",showMoreUpgrade_action:"Show more",showMore_action:"SHOW MORE",showRichTextToolbar_action:"Show formatting tools",showTrayIcon_action:"Show Tray Icon",showURL_alt:"Open link",show_action:"Show",signedOn_msg:"Signed on {date}.",signingNeeded_msg:"Signing needed!",signupOneFreeAccountConfirm_msg:"Only one Free account is allowed per person. Please confirm that you do not own any other Tutanota Free accounts.",sign_action:"Sign",skipDnsRecordsInfo_msg:"Please set the DNS records for your custom email domain. As long as they are not correctly configured you may not be able to send and receive emails. However, you may postpone this step until you have initially setup your email addresses.",skip_action:"Skip",smsError_msg:"Could not send text message.",smsResent_msg:"If no text message has arrived, you can resend it now.",smsSentOften_msg:"Too many sent text messages. Please ask the sender of the email to resend the email.",smsSent_msg:"The text message should arrive in the next 60s.",social_label:"Social networks",spamRuleEnterValue_msg:"Please enter a value.",spam_action:"Spam",startAfterEnd_label:"The start date must not be after the end date.",state_label:"Status",statisticsFieldsInfo_msg:"Statistics data can be entered optionally. The data from all contact forms is collected in one place and can be exported as CSV.",statisticsFields_label:"Statistics fields",stillReferencedFromContactForm_msg:"This item can not be deactivated because it is still referenced from a contact form.",storageCapacityTooManyUsedForBooking_msg:"There is too much storage used to process this order. Please free some memory to continue.",storageCapacityUsed_label:"Used storage",storageCapacity_label:"Storage capacity",storageDeletionAnnouncement_msg:"Info: Emails moved to the trash or spam folders will automatically be deleted after 30 days.",storageDeletion_msg:"Emails in this folder will automatically be deleted after 30 days.",storageQuotaExceeded_msg:"There's not enough storage on the device to create the search index. Therefore the  search results cannot be shown completely.",storePassword_action:"Store password",subject_label:"Subject",subscriptionCancelledMessage_msg:"Your subscription has been cancelled. Please contact the support to reactivate your subscription.",subscriptionPeriod_label:"Subscription period",subscription_label:"Subscription",summary_label:"Summary",supportMenu_label:"Support",switchAgendaView_action:"Switch to agenda view",switchArchive_action:"Switch to archive folder",switchColorTheme_action:"Switch color theme",switchDrafts_action:"Switch to drafts folder",switchInbox_action:"Switch to inbox folder",switchMonthView_action:"Switch to month view",switchSearchInMenu_label:"You can switch search type in the menu",switchSentFolder_action:"Switch to sent folder",switchSpam_action:"Switch to spam folder",switchTrash_action:"Switch to trash folder",switchWeekView_action:"Switch to week view",takeoverAccountInvalid_msg:"The email address specified as the take over target account does not belong to a Premium admin.",takeoverMailAddressInfo_msg:"Optional: Specify the target Premium account admin email address in order to re-use your email addresses in the target account.",takeoverMailAddress_label:"Take over email address",templateHelp_msg:'In the form below you can configure a custom template for the notification emails containing the link to the encrypted mailbox. The template body must contain a "{link}" placeholder which will be replaced with the actual link to the encrypted email. You can also include a "{sender}" placeholder in the mail body or in the subject which will be replaced with the sender name.',templateLanguageExists_msg:"Template for the selected language already exists.",templateMustContain_msg:"Template must contain placeholder {value}",termsAcceptedNeutral_msg:"Please accept the terms & conditions.",termsAndConditionsLink_label:"General terms and conditions",termsAndConditions_label:"I have read and agree to the following documents:",text_label:"Text",thisClient_label:"<This client>",timeFormatInvalid_msg:"Invalid time format",timeFormatTwelveHour_label:"12 hour",timeFormatTwentyFourHour_label:"24 hour",timeFormat_label:"Time format",time_label:"Time",title_placeholder:"Title",today_label:"Today",toggleDevTools_action:"Toggle console",toggleFullScreen_action:"Toggle fullscreen",tomorrow_label:"Tomorrow",tooBigAttachment_msg:"The following files could not be attached because the overall size exceeds 25 MB: ",tooBigInlineImages_msg:"Only files up to {size} KB are allowed.",tooManyAttempts_msg:"Number of allowed attempts exceeded. Please try again later.",tooManyMailsAuto_msg:"Failed to send an automatic notification email because the number of allowed emails has been exceeded. The notification email is stored in the draft folder and you can try to send it later.",tooManyMails_msg:"It looks like you exceeded the number of allowed emails. Please try again later.",totpAuthenticator_label:"Authenticator (TOTP)",totpCodeConfirmed_msg:"The TOTP code is valid. You can save now to finish setup.",totpCodeEnter_msg:"Please enter the six digit code from your authenticator to finish setup.",totpCodeWrong_msg:"The TOTP code you entered is invalid. Please correct it.",totpCode_label:"Authenticator code",totpSecret_label:"Secret",totpTransferSecretApp_msg:"Please update your authenticator app by pressing the button below or by entering the secret key manually.",totpTransferSecret_msg:"Please update your authenticator app by scanning the QR code (below) or by entering the secret key manually.",to_label:"To",trash_action:"Trash",tresoritDiscount_msg:"Tutanota + Tresorit special offer: 5 months discount for first year!",tutaoInfo_msg:"Tutao GmbH is the company providing Tutanota to you.",twitter_label:"Twitter",typeToFilter_label:"Type to filter ...",type_label:"Type",u2fAuthUnregisteredDevice_msg:"This security key has not been registered with your account. Please use a valid one.",u2fSecurityKey_label:"Security Key (U2F)",u2fUnexpectedError_msg:"An unexpected error occurred with your security key.",undo_action:"Undo",unknownError_msg:"An unexpected error occurred. Please try again later.",unlimited_label:"Unlimited",unrecognizedU2fDevice_msg:"Your security key has not been recognized.",unregistered_label:"Not registered",unsubscribeConfirm_msg:"Do you really want to unsubscribe from Tutanota?",unsubscribeFailed_msg:"Could not cancel newsletter or mailing list.",unsubscribeSuccessful_msg:"The newsletter or mailing list has been cancelled successfully!",unsubscribe_action:"Unsubscribe",unsupportedBrowserOverlay_msg:"You're using an unsupported browser. Some functionality may be limited.",unsupportedBrowser_msg:"Oh! We are sorry. Unfortunately, your browser is not supported or outdated. Please use  the latest version of one of the following browsers:",updateAdminshipGlobalAdmin_msg:"You can't change the adminship of a global administrator.",updateAdminshipLocalAdminGroupError_msg:"You can't change the adminship of a local admin group.",updateAvailable_label:"Update for Tutanota Desktop available ({version})",updateFound_label:"New version is available.",updateOwnAdminship_msg:"You can't change the adminship of your own user.",updatePaymentDataBusy_msg:"Verifying payment data. Please be patient, this can take up to one minute.",update_action:"Update",upgradeConfirm_msg:"Confirm your order!",upgradePremium_label:"Premium",upgradeProNoReduction_msg:"Previously ordered larger storage or alias packages will not be reduced.",upgradePro_msg:"Your subscription will be upgraded to Pro.",upgradeReminderCancel_action:"Later",upgradeReminderTitle_msg:"Upgrade to Premium!",upgradeSystemWebView_msg:"Could not reach server. Either you are offline or you are running into an error in an older version of the Android System WebView. Please upgrade the Android System WebView to the latest version:",upgradeTeams_msg:"Your subscription will be upgraded to Teams.",upgrade_action:"Upgrade",urlPath_label:"Path",url_label:"URL",userAccountDeactivated_msg:"This user is deactivated.",userColumn_label:"User",userEmailSignature_label:"Email signature",userSettings_label:"User settings",validInputFormat_msg:"Format ok.",viewNextPeriod_action:"View next period",viewPrevPeriod_action:"View previous period",viewToday_action:"View current period",view_label:"View",waitingForApproval_msg:"Sorry, you are currently not allowed to send or receive emails because your account was marked for approval. This process is necessary to offer a privacy-friendly registration and prevent mass registrations at the same time. Your account will be automatically approved after 48 hours. Thank you for your patience!",wantToSendReport_msg:"Something unexpected went wrong. Do you want to send an error report?  You can add a message to help us fix this error.",weekNumber_label:"Week {week}",weekStart_label:"Week start",welcomeMailBodyTweetText_msg:"Just set up my Tutanota mailbox. Now I protect my emails from prying eyes! You can join, too: ",welcomeMailBody_markdown:"Welcome to your secure and ad-free Tutanota mailbox, protected with strong encryption. Tutanota makes switching from other email services easy. Our intuitive web client, apps for Android & iOS, as well as desktop apps for Windows, Mac OS and Linux enable you to access your secure mailbox on any device.\n\nAs a professional, you can save time and money by hosting all your business emails end-to-end encrypted on Tutanota's secure servers, based in Germany: Whitelabel Tutanota for your business, place the login on your own website, and add an encrypted contact form to your website so clients can easily reach you confidentially. [Find out more about Tutanota's comprehensive business features]({businessLink}).\n\n**Tutanota follows 4 principles to offer a privacy-friendly alternative**\n\n1. Tutanota does not track you.\n2. Tutanota can not scan your data.\n3. Tutanota encrypts your entire mailbox, contacts & calendar.\n4. Tutanota incorporates privacy by design.\n\nRecommend Tutanota, the [open source email service that respects you and your right to privacy]({blogOpenSourceLink}).\n\nWe believe that everyone deserves a free and private mailbox. You can support us by following us on your favorite social media channel and by sharing our content with your friends and colleagues. Together we will change the Internet for the better:\n\n* [LinkedIn]({linkedinLink})\n* [Facebook]({facebookLink})\n* [Mastodon]({mastodonLink})\n* [Twitter]({twitterLink})\n* [Reddit]({redditLink})\n* [Instagram]({instagramLink})\n\nThank you very much,\\\nyour Tutanota Team\n\nTutanota is open source. [You can inspect and review the source code here]({githubLink}).\n",welcomeMailSubject_msg:"Feel at home: Your data is secure.",whitelabelAccounts_label:"Whitelabel accounts",whitelabelAccount_label:"Whitelabel account",whitelabelBooking_label:"Whitelabel feature for {1} users",whitelabelDomainExisting_msg:"A whitelabel domain is still existing. Please remove the whitelabel domain.",whitelabelDomainLinkInfo_msg:"When you order the whitelabel feature, you can activate the Tutanota login on your own domain (a subdomain), change the look of Tutanota according to your needs (e.g. corporate identity) and create contact forms for your clients. Please see",whitelabelDomainNeeded_msg:"Please first configure your whitelabel domain.",whitelabelDomain_label:"Whitelabel domain",whitelabelRegistrationCode_label:"Registration code",whitelabelRegistrationEmailDomain_label:"Registration email domain",whitelabel_label:"Whitelabel",whitelistProtectionInfo_label:"This option moves all emails received from external senders into the spam folder by default. The senders get a notification email with a link which lets them whitelist their domain. After whitelisting the emails from that domain will no longer go to the spam folder, but to the inbox.",whitelistProtection_label:"Whitelist protection",work_label:"Work",wrongUserCsvFormat_msg:"Please correct the CSV format of your data to:\n{format}",xing_label:"XING",yesterday_label:"yesterday",yes_label:"Yes",yourCalendars_label:"Your calendars",yourFolders_action:"YOUR FOLDERS",yourMessage_label:"Your message",dark_label:"Dark",light_label:"Light"}}}),System.register("src/gui/base/Overlay.js",["node_modules/systemjs-plugin-babel/babel-helpers/slicedToArray.js","mithril","../animation/Animations","../theme","../main-styles"],function(_export,_context){"use strict";var _slicedToArray,m,animations,hexToRgb,theme,requiresStatusBarHack,overlays,boxShadow,key,overlay;return _export("displayOverlay",function(position,component,createAnimation,closeAnimation){var newAttrs={position:position,component:component,createAnimation:createAnimation,closeAnimation:closeAnimation},pair=[newAttrs,null,key++];return overlays.push(pair),function(){var dom=pair[1];(newAttrs.closeAnimation&&dom?animations.add(dom,newAttrs.closeAnimation(dom)):Promise.resolve()).then(function(){overlays.splice(overlays.indexOf(pair),1),m.redraw()})}}),{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersSlicedToArrayJs){_slicedToArray=_node_modulesSystemjsPluginBabelBabelHelpersSlicedToArrayJs.default},function(_mithril){m=_mithril.default},function(_animationAnimations){animations=_animationAnimations.animations,hexToRgb=_animationAnimations.hexToRgb},function(_theme){theme=_theme.theme},function(_mainStyles){requiresStatusBarHack=_mainStyles.requiresStatusBarHack}],execute:function(){var _hexToRgb,r,g,b;overlays=[],_hexToRgb=hexToRgb(theme.modal_bg),r=_hexToRgb.r,g=_hexToRgb.g,b=_hexToRgb.b,boxShadow="0 2px 12px rgba("+r+", "+g+", "+b+", 0.4), 0 10px 40px rgba("+r+", "+g+", "+b+", 0.3)",key=0,_export("overlay",overlay={view:function(){return m("#overlay",{style:{display:overlays.length>0?"":"none"},"aria-hidden":0===overlays.length},overlays.map(function(overlayAttrs){var _overlayAttrs=_slicedToArray(overlayAttrs,3),attrs=_overlayAttrs[0],key=(_overlayAttrs[1],_overlayAttrs[2]);return m(".abs.elevated-bg",{key:key,style:{width:attrs.position.width,top:attrs.position.top,bottom:attrs.position.bottom,right:attrs.position.right,left:attrs.position.left,height:attrs.position.height,"z-index":200,"box-shadow":boxShadow,"margin-top":requiresStatusBarHack()?"20px":"env(safe-area-inset-top)"},oncreate:function(vnode){overlayAttrs[1]=vnode.dom,attrs.createAnimation&&animations.add(vnode.dom,attrs.createAnimation(vnode.dom))},onremove:function(){overlayAttrs[1]=null}},m(attrs.component))}))}}),_export("overlay",overlay)}}}),System.register("src/RootView.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","mithril","./gui/base/Modal","./api/Env","./gui/base/Overlay","./gui/styles"],function(_export,_context){"use strict";var _classCallCheck,m,modal,assertMainOrNodeBoot,overlay,styles,root;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_mithril){m=_mithril.default},function(_guiBaseModal){modal=_guiBaseModal.modal},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_guiBaseOverlay){overlay=_guiBaseOverlay.overlay},function(_guiStyles){styles=_guiStyles.styles}],execute:function(){assertMainOrNodeBoot(),_export("root",root=new function RootView(){_classCallCheck(this,RootView),this.viewCache={};var _onmousedown=function(e){console.log("disabling outline"),styles.registerStyle("outline",function(){return{"*":{outline:"none"}}}),_onmousedown=null,e.redraw=!1};this.view=function(vnode){return m("#root"+(styles.isUsingBottomNavigation()?".mobile":""),{onmousedown:_onmousedown},[m(overlay),m(modal),vnode.children])}}),_export("root",root)}}}),System.register("src/gui/mixins.js",["./size","../api/Env"],function(_export,_context){"use strict";var px,assertMainOrNodeBoot,noselect,backface_fix;function positionValue(value){return value?px(value):0===value?0:"unset"}return _export("position_absolute",function(top,right,bottom,left){return{position:"absolute",top:positionValue(top),right:positionValue(right),bottom:positionValue(bottom),left:positionValue(left)}}),_export("positionValue",positionValue),_export("flex",function(args){return{_webkit_box_flex:args,_webkit_flex:args,_ms_flex:args,flex:args}}),{setters:[function(_size){px=_size.px},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot}],execute:function(){assertMainOrNodeBoot(),_export("noselect",noselect={_webkit_touch_callout:"none",_webkit_user_select:"none",_khtml_user_select:"none",_moz_user_select:"none",_ms_user_select:"none",user_select:"none"}),_export("noselect",noselect),_export("backface_fix",backface_fix={_webkit_backface_visibility:"hidden",backface_visibility:"hidden"}),_export("backface_fix",backface_fix)}}}),System.register("src/gui/main-styles.js",["node_modules/systemjs-plugin-babel/babel-helpers/defineProperty.js","./styles","./size","../misc/ClientDetector","./mixins","../api/Env","./theme.js","../misc/ClientConstants","./theme"],function(_export,_context){"use strict";var _defineProperty,styles,px,size,client,noselect,position_absolute,positionValue,assertMainOrNodeBoot,isAdminClient,isApp,isDesktop,theme,BrowserType,getContentButtonIconBackground,getElevatedBackground,getNavButtonIconBackground,getNavigationMenuBg;function requiresStatusBarHack(){return isApp()&&"iPhone"===client.device&&client.browserVersion<11}return _export("requiresStatusBarHack",requiresStatusBarHack),{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersDefinePropertyJs){_defineProperty=_node_modulesSystemjsPluginBabelBabelHelpersDefinePropertyJs.default},function(_styles){styles=_styles.styles},function(_size){px=_size.px,size=_size.size},function(_miscClientDetector){client=_miscClientDetector.client},function(_mixins){noselect=_mixins.noselect,position_absolute=_mixins.position_absolute,positionValue=_mixins.positionValue},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot,isAdminClient=_apiEnv.isAdminClient,isApp=_apiEnv.isApp,isDesktop=_apiEnv.isDesktop},function(_themeJs){theme=_themeJs.theme},function(_miscClientConstants){BrowserType=_miscClientConstants.BrowserType},function(_theme){getContentButtonIconBackground=_theme.getContentButtonIconBackground,getElevatedBackground=_theme.getElevatedBackground,getNavButtonIconBackground=_theme.getNavButtonIconBackground,getNavigationMenuBg=_theme.getNavigationMenuBg}],execute:function(){assertMainOrNodeBoot(),styles.registerStyle("main",function(){var _indefiniteProgress,_ref;return _ref={"#link-tt":isDesktop()?{"pointer-events":"none","font-size":px(size.font_size_small),"padding-left":px(size.hpad_small),"padding-right":px(size.hpad_small),"padding-top":px(size.vpad_xs),position:"fixed",bottom:px(size.vpad_xs),left:px(size.vpad_xs),"text-align":"center",color:theme.content_bg,"text-decoration":"none","background-color":theme.content_fg,border:"1px solid "+theme.content_bg,opacity:0,transition:"opacity .1s linear","font-family":"monospace"}:{},"#link-tt.reveal":isDesktop()?{opacity:1,transition:"opacity .1s linear"}:{},"*:not(input):not(textarea)":isAdminClient()?{}:{"user-select":"none","-ms-user-select":"none","-webkit-user-select":"none","-moz-user-select":"none","-webkit-touch-callout":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"},"*:not(input):not(textarea):not([draggable='true'])":{"-webkit-user-drag":"none"},".selectable":{"user-select":"text !important","-ms-user-select":"text !important","-webkit-user-select":"text !important","-moz-user-select":"text !important","-webkit-touch-callout":"default !important"},".selectable *":{"user-select":"text !important","-ms-user-select":"text !important","-webkit-user-select":"text !important","-moz-user-select":"text !important","-webkit-touch-callout":"default !important"},"@font-face":{"font-family":"'Ionicons'",src:"url('"+System.getConfig().baseURL+"images/ionicons.ttf') format('truetype')","font-weight":"normal","font-style":"normal"},".touch-callout *":{"-webkit-touch-callout":"default !important"}},_defineProperty(_ref,'html, body, div, article, section, main, footer, header, form, fieldset, legend,\n            pre, code, p, a, h1, h2, h3, h4, h5, h6, ul, ol, li, dl, dt, dd, textarea,\n            input[type="email"], input[type="number"], input[type="password"],\n            input[type="tel"], input[type="text"], input[type="url"], .border-box',{"box-sizing":"border-box"}),_defineProperty(_ref,"a",{color:"inherit"}),_defineProperty(_ref,"html, body",{height:"100%",margin:0,width:"100%"}),_defineProperty(_ref,"html",{"-webkit-font-smoothing":"subpixel-antialiased"}),_defineProperty(_ref,"body",{position:"fixed","background-color":theme.content_bg}),_defineProperty(_ref,"button, textarea",{padding:0,"text-align":"left"}),_defineProperty(_ref,"button",{background:"transparent"}),_defineProperty(_ref,"body, button",{overflow:"hidden","font-family":'-apple-system, BlinkMacSystemFont, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',"font-size":px(size.font_size_base),"line-height":size.line_height,color:theme.content_fg,"-webkit-text-size-adjust":"none"}),_defineProperty(_ref,"small, .small",{"font-size":px(size.font_size_small)}),_defineProperty(_ref,".b",{"font-weight":"bold"}),_defineProperty(_ref,".i",{"font-style":"italic"}),_defineProperty(_ref,".click",{cursor:"pointer","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"}),_defineProperty(_ref,".click-disabled",{cursor:"default"}),_defineProperty(_ref,".text",{cursor:"text"}),_defineProperty(_ref,".overflow-hidden",{overflow:"hidden"}),_defineProperty(_ref,".overflow-x-hidden",{"overflow-x":"hidden"}),_defineProperty(_ref,"h1, h2, h3, h4, h5, h6",{margin:0,"font-weight":"normal"}),_defineProperty(_ref,"h1, .h1",{"font-size":px(2*size.font_size_base)}),_defineProperty(_ref,"h2, .h2",{"font-size":px(1.8*size.font_size_base)}),_defineProperty(_ref,"h3, .h3",{"font-size":px(1.6*size.font_size_base)}),_defineProperty(_ref,"h4, .h4",{"font-size":px(1.4*size.font_size_base)}),_defineProperty(_ref,"h5, .h5",{"font-size":px(1.2*size.font_size_base)}),_defineProperty(_ref,"h6, .h6",{"font-size":px(1.1*size.font_size_base)}),_defineProperty(_ref,"input, button, select, textarea",{"font-family":"inherit","font-size":"inherit","line-height":"inherit"}),_defineProperty(_ref,".hr",{margin:0,border:"none",height:"1px","background-color":theme.content_border}),_defineProperty(_ref,".border",{border:"1px solid "+theme.content_border}),_defineProperty(_ref,".white-space-pre",{"white-space":"pre"}),_defineProperty(_ref,".m-0",{margin:0}),_defineProperty(_ref,".mt",{"margin-top":px(size.vpad)}),_defineProperty(_ref,".mt-xs",{"margin-top":px(size.vpad_xs)}),_defineProperty(_ref,".mt-s",{"margin-top":px(size.vpad_small)}),_defineProperty(_ref,".mt-l",{"margin-top":px(size.vpad_large)}),_defineProperty(_ref,".mt-m",{"margin-top":px(size.hpad)}),_defineProperty(_ref,".mt-xl",{"margin-top":px(size.vpad_xl)}),_defineProperty(_ref,".mt-form",{"margin-top":px(size.hpad_medium)}),_defineProperty(_ref,".mb-0",{"margin-bottom":0}),_defineProperty(_ref,".mb",{"margin-bottom":px(size.vpad)}),_defineProperty(_ref,".mb-s",{"margin-bottom":px(size.vpad_small)}),_defineProperty(_ref,".mb-xs",{"margin-bottom":px(size.vpad_xs)}),_defineProperty(_ref,".mb-l",{"margin-bottom":px(size.vpad_large)}),_defineProperty(_ref,".mb-xl",{"margin-bottom":px(size.vpad_xl)}),_defineProperty(_ref,".mlr",{"margin-left":px(size.hpad),"margin-right":px(size.hpad)}),_defineProperty(_ref,".mlr-l",{"margin-left":px(size.hpad_large),"margin-right":px(size.hpad_large)}),_defineProperty(_ref,".mr-s",{"margin-right":px(size.vpad_small)}),_defineProperty(_ref,".ml-s",{"margin-left":px(size.vpad_small)}),_defineProperty(_ref,".ml-m",{"margin-left":px(size.hpad_medium)}),_defineProperty(_ref,".pt-responsive",{"padding-top":px(3*size.hpad_large)}),_defineProperty(_ref,".pt",{"padding-top":px(size.vpad)}),_defineProperty(_ref,".pt-0",{"padding-top":0}),_defineProperty(_ref,".pt-s",{"padding-top":px(size.vpad_small)}),_defineProperty(_ref,".pt-l",{"padding-top":px(size.vpad_large)}),_defineProperty(_ref,".pt-m",{"padding-top":px(size.vpad)}),_defineProperty(_ref,".pt-ml",{"padding-top":px(size.vpad_ml)}),_defineProperty(_ref,".pt-xl",{"padding-top":px(size.vpad_xl)}),_defineProperty(_ref,".pt-xs",{"padding-top":px(size.vpad_xs)}),_defineProperty(_ref,".pb-0",{"padding-bottom":0}),_defineProperty(_ref,".pb",{"padding-bottom":px(size.vpad)}),_defineProperty(_ref,".pb-2",{"padding-bottom":"2px"}),_defineProperty(_ref,".pb-s",{"padding-bottom":px(size.vpad_small)}),_defineProperty(_ref,".pb-xs",{"padding-bottom":px(size.vpad_xs)}),_defineProperty(_ref,".pb-l",{"padding-bottom":px(size.vpad_large)}),_defineProperty(_ref,".pb-xl",{"padding-bottom":px(size.vpad_xl)}),_defineProperty(_ref,".pb-m",{"padding-bottom":px(size.vpad)}),_defineProperty(_ref,".pb-ml",{"padding-bottom":px(size.vpad_ml)}),_defineProperty(_ref,".pb-floating",{"padding-bottom":px(size.button_floating_size+size.hpad_large)}),_defineProperty(_ref,".plr",{"padding-left":px(size.hpad),"padding-right":px(size.hpad)}),_defineProperty(_ref,".pl",{"padding-left":px(size.hpad)}),_defineProperty(_ref,".pl-s",{"padding-left":px(size.hpad_small)}),_defineProperty(_ref,".pl-m",{"padding-left":px(size.hpad)}),_defineProperty(_ref,".pl-xs",{"padding-left":px(size.vpad_xs)}),_defineProperty(_ref,".pr",{"padding-right":px(size.hpad)}),_defineProperty(_ref,".pr-s",{"padding-right":px(size.hpad_small)}),_defineProperty(_ref,".pr-m",{"padding-right":px(size.vpad)}),_defineProperty(_ref,".plr-l",{"padding-left":px(size.hpad_large),"padding-right":px(size.hpad_large)}),_defineProperty(_ref,".pl-l",{"padding-left":px(size.hpad_large)}),_defineProperty(_ref,".pr-l",{"padding-right":px(size.hpad_large)}),_defineProperty(_ref,".plr-button",{"padding-left":px(size.hpad_button),"padding-right":px(size.hpad_button)}),_defineProperty(_ref,".plr-nav-button",{"padding-left":px(size.hpad_nav_button),"padding-right":px(size.hpad_nav_button)}),_defineProperty(_ref,".pl-button",{"padding-left":px(size.hpad_button)}),_defineProperty(_ref,".mt-negative-s",{"margin-top":px(-size.hpad_button)}),_defineProperty(_ref,".mr-negative-s",{"margin-right":px(-size.hpad_button)}),_defineProperty(_ref,".ml-negative-s",{"margin-left":px(-size.hpad_button)}),_defineProperty(_ref,".ml-negative-l",{"margin-left":px(-size.hpad_large)}),_defineProperty(_ref,".ml-negative-xs",{"margin-left":px(-3)}),_defineProperty(_ref,".ml-negative-bubble",{"margin-left":px(-7)}),_defineProperty(_ref,".mr-negative-m",{"margin-right":px(-(size.hpad_button+size.hpad_nav_button))}),_defineProperty(_ref,".fixed-bottom-right",{position:"fixed",bottom:px(size.hpad),right:px(size.hpad_large)}),_defineProperty(_ref,".text-ellipsis",{overflow:"hidden","text-overflow":"ellipsis","min-width":0,"white-space":"nowrap"}),_defineProperty(_ref,".min-width-0",{"min-width":0}),_defineProperty(_ref,".text-break",{overflow:"hidden","word-break":"break-word"}),_defineProperty(_ref,".break-word-links a",{"word-wrap":"break-word"}),_defineProperty(_ref,".text-prewrap",{"white-space":"pre-wrap"}),_defineProperty(_ref,".text-preline",{"white-space":"pre-line"}),_defineProperty(_ref,".text-pre",{"white-space":"pre"}),_defineProperty(_ref,".z1",{"z-index":"1"}),_defineProperty(_ref,".z2",{"z-index":"2"}),_defineProperty(_ref,".z3",{"z-index":"3"}),_defineProperty(_ref,".z4",{"z-index":"4"}),_defineProperty(_ref,".noselect",noselect),_defineProperty(_ref,".no-wrap",{"white-space":"nowrap"}),_defineProperty(_ref,".height-100p",{height:"100%"}),_defineProperty(_ref,".view-columns",{"overflow-x":"hidden"}),_defineProperty(_ref,".view-column",{"will-change":"transform"}),_defineProperty(_ref,".will-change-alpha",{"will-change":"alpha"}),_defineProperty(_ref,".password-indicator-border",{border:"1px solid "+theme.content_button}),_defineProperty(_ref,".border-top",{"border-top":"1px solid "+theme.content_border}),_defineProperty(_ref,".bg-transparent",{"background-color":"transparent"}),_defineProperty(_ref,".bg-white",{"background-color":"white"}),_defineProperty(_ref,".content-black",{color:"black"}),_defineProperty(_ref,".content-fg",{color:theme.content_fg}),_defineProperty(_ref,".content-accent-fg",{color:theme.content_accent}),_defineProperty(_ref,".svg-content-fg path",{fill:theme.content_fg}),_defineProperty(_ref,".content-bg",{"background-color":theme.content_bg}),_defineProperty(_ref,".content-hover:hover",{color:theme.content_accent}),_defineProperty(_ref,".content-message-bg",{"background-color":theme.content_message_bg}),_defineProperty(_ref,".elevated-bg",{"background-color":getElevatedBackground()}),_defineProperty(_ref,".list-bg",{"background-color":theme.list_bg}),_defineProperty(_ref,".list-accent-fg",{color:theme.list_accent_fg}),_defineProperty(_ref,".svg-list-accent-fg path",{fill:theme.list_accent_fg}),_defineProperty(_ref,".bg-accent-fg",{"background-color":theme.list_accent_fg}),_defineProperty(_ref,".list-header",{"border-bottom":"1px solid "+theme.list_border}),_defineProperty(_ref,".password-indicator-bg",{"background-color":theme.content_button}),_defineProperty(_ref,".accent-bg",{"background-color":theme.content_accent}),_defineProperty(_ref,".accent-fg",{color:theme.content_button_icon}),_defineProperty(_ref,".accent-fg path",{fill:theme.content_button_icon}),_defineProperty(_ref,".red",{"background-color":"#840010"}),_defineProperty(_ref,".swipe-spacer",{color:"#ffffff"}),_defineProperty(_ref,".swipe-spacer path",{fill:"#ffffff"}),_defineProperty(_ref,".blue",{"background-color":"#2196F3"}),_defineProperty(_ref,".underline",{"text-decoration":"underline"}),_defineProperty(_ref,".hover-ul:hover",{"text-decoration":isApp()?"none":"underline"}),_defineProperty(_ref,".fill-absolute",{position:"absolute",top:0,bottom:0,left:0,right:0}),_defineProperty(_ref,".abs",{position:"absolute"}),_defineProperty(_ref,".fixed",{position:"fixed"}),_defineProperty(_ref,".rel",{position:"relative"}),_defineProperty(_ref,".max-width-s",{"max-width":px(360)}),_defineProperty(_ref,".max-width-m",{"max-width":px(450)}),_defineProperty(_ref,".max-width-l",{"max-width":px(800)}),_defineProperty(_ref,".max-width-200",{"max-width":px(200)}),_defineProperty(_ref,".scroll",{"overflow-y":client.overflowAuto,"-webkit-overflow-scrolling":"touch","-ms-overflow-style":"-ms-autohiding-scrollbar"}),_defineProperty(_ref,".scroll-no-overlay",{"overflow-y":"auto","-webkit-overflow-scrolling":"touch"}),_defineProperty(_ref,".scroll-x",{"overflow-x":"auto","-webkit-overflow-scrolling":"touch","-ms-overflow-style":"-ms-autohiding-scrollbar"}),_defineProperty(_ref,"*",{"scrollbar-color":theme.content_button+" transparent","scrollbar-width":"thin"}),_defineProperty(_ref,"::-webkit-scrollbar",client.isMobileDevice()?{}:{background:"transparent",width:"8px"}),_defineProperty(_ref,"::-webkit-scrollbar-thumb",client.isMobileDevice()?{}:{background:theme.content_button,"border-radius":"4px"}),_defineProperty(_ref,".center",{"text-align":"center"}),_defineProperty(_ref,".text-center",{"text-align":"center"}),_defineProperty(_ref,".right",{"text-align":"right"}),_defineProperty(_ref,".left",{"text-align":"left"}),_defineProperty(_ref,".statusTextColor",{color:theme.content_accent}),_defineProperty(_ref,".button-height",{height:px(size.button_height)}),_defineProperty(_ref,".button-height-accent",{height:px(size.button_height_accent)+" !important"}),_defineProperty(_ref,".button-min-height",{"min-height":px(size.button_height)}),_defineProperty(_ref,".button-width-fixed",{width:px(size.button_height)}),_defineProperty(_ref,".large-button-height",{height:px(size.button_floating_size)}),_defineProperty(_ref,".large-button-width",{width:px(size.button_floating_size)}),_defineProperty(_ref,".full-height",{"min-height":client.isIos()?"101%":"100%"}),_defineProperty(_ref,".full-width",{width:"100%"}),_defineProperty(_ref,".half-width",{width:"50%"}),_defineProperty(_ref,".block",{display:"block"}),_defineProperty(_ref,".no-text-decoration",{"text-decoration":"none"}),_defineProperty(_ref,".strike",{"text-decoration":"line-through"}),_defineProperty(_ref,".flex-space-around",{display:"flex","justify-content":"space-around"}),_defineProperty(_ref,".flex-space-between",{display:"flex","justify-content":"space-between"}),_defineProperty(_ref,".flex-fixed",{flex:"0 0 auto"}),_defineProperty(_ref,".flex-center",{display:"flex","justify-content":"center"}),_defineProperty(_ref,".flex-end",{display:"flex","justify-content":"flex-end"}),_defineProperty(_ref,".flex-start",{display:"flex","justify-content":"flex-start"}),_defineProperty(_ref,".flex-v-center",{display:"flex","flex-direction":"column","justify-content":"center"}),_defineProperty(_ref,".flex-direction-change",{display:"flex","justify-content":"center"}),_defineProperty(_ref,".flex-column",{"flex-direction":"column"}),_defineProperty(_ref,".col",{"flex-direction":"column"}),_defineProperty(_ref,".flex-column-reverse",{"flex-direction":"column-reverse"}),_defineProperty(_ref,".col-reverse",{"flex-direction":"column-reverse"}),_defineProperty(_ref,".flex",{display:"flex"}),_defineProperty(_ref,".flex-grow",{flex:"1"}),_defineProperty(_ref,".flex-third",{flex:"1 0 0","min-width":"100px"}),_defineProperty(_ref,".flex-third-middle",{flex:"2 1 0"}),_defineProperty(_ref,".flex-half",{flex:"0 0 50%"}),_defineProperty(_ref,".flex-grow-shrink-half",{flex:"1 1 50%"}),_defineProperty(_ref,".flex-grow-shrink-auto",{flex:"1 1 auto"}),_defineProperty(_ref,".flex-grow-shrink-150",{flex:"1 1 150px"}),_defineProperty(_ref,".flex-no-shrink",{flex:"1 0 0"}),_defineProperty(_ref,".flex-no-grow-no-shrink-auto",{flex:"0 0 auto"}),_defineProperty(_ref,".flex-no-grow",{flex:"0"}),_defineProperty(_ref,".no-shrink",{"flex-shrink":"0"}),_defineProperty(_ref,".flex-no-grow-shrink-auto",{flex:"0 1 auto"}),_defineProperty(_ref,".flex-wrap",{"flex-wrap":"wrap"}),_defineProperty(_ref,".wrap",{"flex-wrap":"wrap"}),_defineProperty(_ref,".items-center",{"align-items":"center"}),_defineProperty(_ref,".center-vertically",{"align-items":"center"}),_defineProperty(_ref,".items-end",{"align-items":"flex-end"}),_defineProperty(_ref,".items-start",{"align-items":"flex-start"}),_defineProperty(_ref,".items-base",{"align-items":"baseline"}),_defineProperty(_ref,".items-stretch",{"align-items":"stretch"}),_defineProperty(_ref,".align-self-center",{"align-self":"center"}),_defineProperty(_ref,".align-self-end",{"align-self":"flex-end"}),_defineProperty(_ref,".align-self-stretch",{"align-self":"stretch"}),_defineProperty(_ref,".justify-center",{"justify-content":"center"}),_defineProperty(_ref,".center-horizontally",{"justify-content":"center"}),_defineProperty(_ref,".justify-between",{"justify-content":"space-between"}),_defineProperty(_ref,".justify-end",{"justify-content":"flex-end"}),_defineProperty(_ref,".justify-start",{"justify-content":"flex-start"}),_defineProperty(_ref,".child-grow > *",{flex:"1 1 auto"}),_defineProperty(_ref,".last-child-fixed > *:last-child",{flex:"1 0 100px"}),_defineProperty(_ref,".limit-width",{"max-width":"100%"}),_defineProperty(_ref,".border-radius",{"border-radius":px(size.border_radius)}),_defineProperty(_ref,".editor-border",{border:"1px solid "+theme.content_border,"padding-top":px(size.vpad_small),"padding-bottom":px(size.vpad_small),"padding-left":px(size.hpad),"padding-right":px(size.hpad)}),_defineProperty(_ref,".editor-border-active",{border:"2px solid "+theme.content_accent,"padding-top":px(size.vpad_small-1),"padding-bottom":px(size.vpad_small-1),"padding-left":px(size.hpad-1),"padding-right":px(size.hpad-1)}),_defineProperty(_ref,".editor-no-top-border",{"border-top-color":"transparent"}),_defineProperty(_ref,".icon",{height:px(size.icon_size_medium),width:px(size.icon_size_medium)}),_defineProperty(_ref,".icon > svg",{height:px(size.icon_size_medium),width:px(size.icon_size_medium)}),_defineProperty(_ref,".icon-progress-search",{height:px(20),width:px(20)}),_defineProperty(_ref,".icon-progress-search > svg",{height:px(20),width:px(20)}),_defineProperty(_ref,".icon-small",{height:px(size.font_size_small),width:px(size.font_size_small)}),_defineProperty(_ref,".icon-small > svg",{height:px(size.font_size_small),width:px(size.font_size_small)}),_defineProperty(_ref,".icon-large",{height:px(size.icon_size_large),width:px(size.icon_size_large)}),_defineProperty(_ref,".icon-large > svg",{height:px(size.icon_size_large),width:px(size.icon_size_large)}),_defineProperty(_ref,".icon-xl",{height:px(size.icon_size_xl),width:px(size.icon_size_xl)}),_defineProperty(_ref,".icon-xl > svg",{height:px(size.icon_size_xl),width:px(size.icon_size_xl)}),_defineProperty(_ref,".icon-message-box",{height:px(size.icon_message_box),width:px(size.icon_message_box)}),_defineProperty(_ref,".icon-message-box > svg",{height:px(size.icon_message_box),width:px(size.icon_message_box)}),_defineProperty(_ref,".icon-progress > svg",{"animation-name":"rotate-icon","animation-duration":"2s","animation-iteration-count":"infinite","animation-timing-function":"calculatePosition","transform-origin":"50% 50%",display:"inline-block"}),_defineProperty(_ref,"@keyframes rotate-icon",{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),_defineProperty(_ref,".main-view",{position:"absolute",top:0,right:px(0),bottom:px(0),left:px(0),"overflow-x":"hidden","margin-top":requiresStatusBarHack()?"20px":""}),_defineProperty(_ref,".margin-are-inset-lr",{"margin-right":"env(safe-area-inset-right)","margin-left":"env(safe-area-inset-left)"}),_defineProperty(_ref,".backface_fix",{"-webkit-backface-visibility":"hidden","backface-visibility":"hidden"}),_defineProperty(_ref,".header-nav",{position:"relative",height:px(size.navbar_height),"background-color":theme.header_bg,"box-shadow":"0 2px 4px 0 "+theme.header_box_shadow_bg,"z-index":2,"margin-top":requiresStatusBarHack()?"20px":"env(safe-area-inset-top)"}),_defineProperty(_ref,"bottom-nav",{"box-shadow":"0 -2px 4px 0 "+theme.header_box_shadow_bg,height:positionValue(size.bottom_nav_bar),left:0,right:0,bottom:0,background:theme.header_bg,"margin-bottom":"env(safe-area-inset-bottom)"}),_defineProperty(_ref,".notification-overlay-content",{"margin-left":px(size.vpad),"margin-right":px(size.vpad),"padding-top":px(size.vpad)}),_defineProperty(_ref,".logo-circle",{width:px(size.button_icon_bg_size),height:px(size.button_icon_bg_size),"border-radius":"50%",overflow:"hidden"}),_defineProperty(_ref,".circle",{width:px(size.hpad_large_mobile+1),height:px(size.hpad_large_mobile+1),"border-radius":"50%",overflow:"hidden","margin-top":px(6)}),_defineProperty(_ref,".logo",{height:px(size.header_logo_height)}),_defineProperty(_ref,".logo-text",{height:px(size.header_logo_height),width:px(128)}),_defineProperty(_ref,".logo-height",{height:px(size.header_logo_height)}),_defineProperty(_ref,".logo-height > svg, .logo-height > img",{height:px(size.header_logo_height)}),_defineProperty(_ref,".custom-logo",{width:px(200),"background-repeat":"no-repeat","background-size":"auto 100%"}),_defineProperty(_ref,".header-left",{position:"absolute",left:"0",top:0,bottom:0}),_defineProperty(_ref,".header-right",{position:"absolute",left:"56px",right:"0",top:0,bottom:0}),_defineProperty(_ref,".nav-bar-spacer",{width:"2px",height:"24px","margin-left":"2px","margin-top":"10px","background-color":theme.navigation_border}),_defineProperty(_ref,".search-bar > .text-field",{"padding-top":"0 !important"}),_defineProperty(_ref,".dialog",{"min-width":px(200)}),_defineProperty(_ref,".dialog-width-l",{"max-width":px(800)}),_defineProperty(_ref,".dialog-width-m",{"max-width":px(500)}),_defineProperty(_ref,".dialog-width-s",{"max-width":px(400)}),_defineProperty(_ref,".dialog-width-alert",{"max-width":px(350)}),_defineProperty(_ref,".dialog-header",{"border-bottom":"1px solid "+theme.content_border,height:px(size.button_height+1)}),_defineProperty(_ref,".dialog-header-line-height",{"line-height":px(size.button_height)}),_defineProperty(_ref,".dialog-progress",{"text-align":"center",padding:px(size.hpad_large),width:"calc(100% - "+2*size.hpad+"px)"}),_defineProperty(_ref,".dialog-container",position_absolute(size.button_height+1,0,0,0)),_defineProperty(_ref,".dialog-contentButtonsBottom",{padding:"0 "+px(size.hpad_large)+" "+px(size.vpad)+" "+px(size.hpad_large)}),_defineProperty(_ref,".dialog-img",{width:px(150),height:"auto"}),_defineProperty(_ref,".dialog-buttons",{"border-top":"1px solid "+theme.content_border}),_defineProperty(_ref,".dialog-buttons > button",{flex:"1"}),_defineProperty(_ref,".dialog-buttons > button:not(:first-child)",{"border-left":"1px solid "+theme.content_border,"margin-left":"0"}),_defineProperty(_ref,".dialog-max-height",{"max-height":"calc(100vh - 100px)"}),_defineProperty(_ref," .folder-column",{"background-color":theme.navigation_bg,height:"100%","padding-top":"env(safe-area-inset-top)"}),_defineProperty(_ref,".list-border-right",{"border-right":"1px solid "+theme.list_border}),_defineProperty(_ref,".folders",{"margin-bottom":px(12)}),_defineProperty(_ref,".folder-row",{"border-left":px(size.border_selection)+" solid transparent","margin-right":px(-size.hpad_button),"align-items":"center",position:"relative"}),_defineProperty(_ref,".folder-counter",{position:"absolute",top:px(0),left:px(3),color:theme.navigation_button_icon,background:getNavButtonIconBackground(),"padding-left":px(4),"padding-right":px(4),"border-radius":px(8),"line-height":px(16),"font-size":px(size.font_size_small),"font-weight":"bold","min-width":px(16),"min-height":px(16),"text-align":"center"}),_defineProperty(_ref,".row-selected",{"border-color":theme.list_accent_fg+" !important",color:""+theme.list_accent_fg}),_defineProperty(_ref,".folder-row > a",{"flex-grow":1,"margin-left":px(-size.hpad_button-size.border_selection)}),_defineProperty(_ref,".expander",{height:px(size.button_height),"min-width":px(size.button_height)}),_defineProperty(_ref,".mail-viewer-firstLine",{"pading-top":px(10)}),_defineProperty(_ref,".hide-outline",{outline:"none"}),_defineProperty(_ref,".nofocus:focus",{outline:"none"}),_defineProperty(_ref,".input",{outline:"none"}),_defineProperty(_ref,"blockquote.tutanota_quote, blockquote[type=cite]",{"border-left":"1px solid "+theme.content_accent,"padding-left":px(size.hpad),"margin-left":px(0),"margin-right":px(0)}),_defineProperty(_ref,".tutanota-placeholder",{"max-width":"100px !important","max-height":"100px !important"}),_defineProperty(_ref,".MsoNormal",{margin:0}),_defineProperty(_ref,".list",{overflow:"hidden","list-style":"none",margin:0,padding:0,"border-bottom":"1px solid "+theme.list_border}),_defineProperty(_ref,".list-alternate-background",{background:"repeating-linear-gradient(to bottom, "+theme.list_bg+", "+theme.list_bg+" "+px(size.list_row_height)+",  "+theme.list_alternate_bg+" "+px(size.list_row_height)+", "+theme.list_alternate_bg+" "+px(2*size.list_row_height)+")"}),_defineProperty(_ref,".list-row",{position:"absolute",left:0,right:0,"background-color":theme.list_alternate_bg,height:px(size.list_row_height),"border-left":px(size.border_selection)+" solid transparent"}),_defineProperty(_ref,".list-row > div",{"margin-left":px(-size.border_selection)}),_defineProperty(_ref,".odd-row",{"background-color":theme.list_bg}),_defineProperty(_ref,".list-loading",{bottom:0}),_defineProperty(_ref,".teamLabel",{color:theme.list_alternate_bg,"background-color":theme.list_accent_fg}),_defineProperty(_ref,".ion",{display:"inline-block","font-family":"'Ionicons'",speak:"none","font-style":"normal","font-weight":"normal","font-variant":"normal","text-transform":"none","text-rendering":"auto","line-height":"1","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"}),_defineProperty(_ref,".badge-line-height",{"line-height":px(18)}),_defineProperty(_ref,".list-font-icons",{"letter-spacing":"8px","text-align":"right","margin-right":"-8px"}),_defineProperty(_ref,".monospace",{"font-family":'"Lucida Console", Monaco, monospace'}),_defineProperty(_ref,".hidden",{visibility:"hidden"}),_defineProperty(_ref,".action-bar",{width:"initial","margin-left":"auto"}),_defineProperty(_ref,".dropdown-panel",{position:"absolute",width:0,height:0,overflow:"hidden"}),_defineProperty(_ref,".dropdown-content:first-child",{"padding-top":px(size.vpad_small)}),_defineProperty(_ref,".dropdown-content:last-child",{"padding-bottom":px(size.vpad_small)}),_defineProperty(_ref,".dropdown-content > *",{width:"100%"}),_defineProperty(_ref,".dropdown-content",{overflow:"hidden"}),_defineProperty(_ref,".dropdown-bar",{"border-style":"solid","border-width":"0px 0px 1px 0px","border-color":theme.content_border,"padding-bottom":"1px","z-index":1,"border-radius":size.border_radius+"px "+size.border_radius+"px 0 0",color:theme.content_fg}),_defineProperty(_ref,".dropdown-bar:focus",{"border-style":"solid","border-width":"0px 0px 2px 0px","border-color":""+theme.content_accent,"padding-bottom":"0px"}),_defineProperty(_ref,"button, .nav-button",{position:"relative",border:0,cursor:"pointer",overflow:"hidden","white-space":"nowrap",margin:0,"flex-shrink":0,"-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"}),_defineProperty(_ref,".nav-button:hover",isApp()?{}:{"text-decoration":"underline",opacity:.7}),_defineProperty(_ref,".nav-button:focus",client.isDesktopDevice()?{"text-decoration":"underline",opacity:.7}:{}),_defineProperty(_ref,"button:focus, button:hover",client.isDesktopDevice()?{opacity:.7}:{}),_defineProperty(_ref,".button-icon",{width:px(size.button_icon_bg_size),height:px(size.button_icon_bg_size),"border-radius":px(size.button_icon_bg_size),"min-width":px(size.button_icon_bg_size)}),_defineProperty(_ref,".button-icon.floating",{height:px(size.button_floating_size),width:px(size.button_floating_size),"min-width":px(size.button_floating_size),"border-radius":px(size.button_icon_bg_size)}),_defineProperty(_ref,".login",{width:"100%","border-radius":px(size.border_radius)}),_defineProperty(_ref,".button-content",{height:px(size.button_height),"min-width":px(size.button_height)}),_defineProperty(_ref,".primary",{color:theme.content_accent,"font-weight":"bold"}),_defineProperty(_ref,".secondary",{color:theme.content_accent}),_defineProperty(_ref,".textBubble",{color:theme.content_accent,"padding-top":px(size.text_bubble_tpad)}),_defineProperty(_ref,".bubble, .toggle",{"max-width":"300px","border-radius":px(size.border_radius+(size.button_height-size.button_height_bubble)/2),border:px(size.bubble_border_width)+" solid "+theme.content_bg,"background-color":theme.button_bubble_bg,color:theme.button_bubble_fg}),_defineProperty(_ref,".on",{"background-color":theme.content_button_selected}),_defineProperty(_ref,".off",{"background-color":getContentButtonIconBackground()}),_defineProperty(_ref,".segmentControl",{"border-top":px((size.button_height-size.button_height_bubble)/2)+" solid transparent","border-bottom":px((size.button_height-size.button_height_bubble)/2)+" solid transparent"}),_defineProperty(_ref,".segmentControl-border",{border:"1px solid "+theme.content_border,"padding-top":px(1),"padding-bottom":px(1),"padding-left":px(1),"padding-right":px(1)}),_defineProperty(_ref,".segmentControl-border-active",{border:"2px solid "+theme.content_accent,"padding-top":px(0),"padding-bottom":px(0),"padding-left":px(0),"padding-right":px(0)}),_defineProperty(_ref,".segmentControlItem",{cursor:"pointer",background:"transparent"}),_defineProperty(_ref,".segmentControlItem:last-child",{"border-bottom-right-radius":px(size.border_radius),"border-top-right-radius":px(size.border_radius)}),_defineProperty(_ref,".segmentControlItem:first-child",{"border-bottom-left-radius":px(size.border_radius),"border-top-left-radius":px(size.border_radius)}),_defineProperty(_ref,".wrapping-row",{display:"flex","flex-flow":"row wrap","margin-right":px(-size.hpad_large)}),_defineProperty(_ref,".wrapping-row > *",{flex:"1 0 40%","margin-right":px(size.hpad_large),"min-width":px(200)}),_defineProperty(_ref,".non-wrapping-row",{display:"flex","flex-flow":"row","margin-right":px(-size.hpad_large)}),_defineProperty(_ref,".non-wrapping-row > *",{flex:"1 0 40%","margin-right":px(size.hpad_large)}),_defineProperty(_ref,".inputWrapper",{flex:"1 1 auto",background:"transparent",overflow:"hidden"}),_defineProperty(_ref,".input, .input-area",{display:"block",resize:"none",border:0,padding:0,margin:0,background:"transparent",width:"100%",overflow:"hidden",color:theme.content_fg}),_defineProperty(_ref,".input-no-clear::-ms-clear",{display:"none"}),_defineProperty(_ref,".table",{"border-collapse":"collapse","table-layout":"fixed",width:"100%"}),_defineProperty(_ref,".table tr:first-child",{"border-bottom":"1px solid "+theme.content_border}),_defineProperty(_ref,".table td",{"vertical-align":"middle"}),_defineProperty(_ref,"td",{padding:0}),_defineProperty(_ref,".column-width-small",{width:px(size.column_width_s_desktop)}),_defineProperty(_ref,".column-width-largest",{}),_defineProperty(_ref,".buyOptionBox",{position:"relative",display:"inline-block",border:"1px solid "+theme.content_border,width:"100%",padding:px(10)}),_defineProperty(_ref,".buyOptionBox.active",{border:"1px solid "+theme.content_accent}),_defineProperty(_ref,".buyOptionBox.highlighted",{border:"2px solid "+theme.content_accent,padding:px(9)}),_defineProperty(_ref,".ribbon-vertical",{position:"absolute","margin-bottom":"80px",width:"40px",height:"60px",background:theme.content_accent,top:"-6px",right:"10px",color:theme.content_bg}),_defineProperty(_ref,".ribbon-vertical:before",{content:'""',position:"absolute",height:0,width:0,"border-bottom":"6px solid "+theme.content_accent,"border-right":"6px solid transparent",right:"-6px"}),_defineProperty(_ref,".ribbon-vertical:after",{content:'""',position:"absolute",height:0,width:0,left:0,"border-left":"20px solid "+theme.content_accent,"border-right":"20px solid "+theme.content_accent,"border-bottom":"20px solid transparent",bottom:"-20px"}),_defineProperty(_ref,".flex-end-on-child .button-content",{"align-items":"flex-end !important"}),_defineProperty(_ref,".float-right",{float:"right"}),_defineProperty(_ref,".calendar-checkbox",{height:px(22),width:px(22),"border-width":"1.5px","border-style":"solid","border-radius":"2px"}),_defineProperty(_ref,".calendar-alternate-background",{background:theme.list_alternate_bg+" !important"}),_defineProperty(_ref,".calendar-day:hover",{background:theme.list_alternate_bg}),_defineProperty(_ref,".calendar-hour",{cursor:"pointer","border-bottom":"1px solid "+theme.content_border,height:px(size.calendar_hour_height),flex:"1 0 auto"}),_defineProperty(_ref,".calendar-hour:hover",{background:theme.list_alternate_bg}),_defineProperty(_ref,".calendar-column-border",{"border-right":"1px solid "+theme.content_border}),_defineProperty(_ref,".calendar-column-border:nth-child(7)",{"border-right":"none"}),_defineProperty(_ref,".calendar-hour-margin",{"margin-left":px(size.calendar_hour_width)}),_defineProperty(_ref,".calendar-day",{"border-top":"1px solid "+theme.content_border,transition:"background 0.4s",background:theme.list_bg,cursor:"pointer"}),_defineProperty(_ref,".calendar-day-indicator",{height:"24px","line-height":"24px","text-align":"center","font-size":"14px"}),_defineProperty(_ref,".calendar-day-number",{margin:"4px auto",width:"24px"}),_defineProperty(_ref,".calendar-event",{"border-radius":px(4),border:"1px solid "+theme.content_bg,"padding-left":"4px","font-weight":"600","box-sizing":"content-box",cursor:"pointer"}),_defineProperty(_ref,".fade-in",{opacity:1,"animation-name":"fadeInOpacity","animation-iteration-count":1,"animation-timing-function":"ease-in","animation-duration":"200ms"}),_defineProperty(_ref,"@keyframes fadeInOpacity",{"0%":{opacity:0},"100%":{opacity:1}}),_defineProperty(_ref,".calendar-bubble-more-padding-day .calendar-event",{border:"1px solid "+theme.list_bg}),_defineProperty(_ref,".darker-hover:hover",{filter:"brightness(95%)"}),_defineProperty(_ref,".event-continues-left",{"border-top-left-radius":0,"border-bottom-left-radius":0,"border-left":"none"}),_defineProperty(_ref,".event-continues-right",{"margin-right":0,"border-right":"none","border-top-right-radius":0,"border-bottom-right-radius":0}),_defineProperty(_ref,".event-continues-right-arrow",{width:0,height:0,"border-top":"9px solid transparent","border-bottom":"9px solid transparent","border-left":"6px solid green","margin-top":px(1),"margin-bottom":px(1)}),_defineProperty(_ref,".time-field",{width:"80px"}),_defineProperty(_ref,".calendar-agenda-time-column",{width:px(80)}),_defineProperty(_ref,".calendar-agenda-time-column > *",{height:px(44)}),_defineProperty(_ref,".calendar-agenda-row",{"min-height":"44px",flex:"1 0 auto"}),_defineProperty(_ref,".calendar-switch-button",{width:"40px","text-align":"center"}),_defineProperty(_ref,".calendar-long-events-header",{overflow:"hidden","background-color":theme.content_bg,"border-bottom":"1px solid "+theme.content_border,transition:"height 200ms ease-in-out"}),_defineProperty(_ref,".calendar-month-week-number",{"font-size":"12px",opacity:"0.8",top:"8px",left:"6px"}),_defineProperty(_ref,".color-picker",{height:px(30),width:px(100)}),_defineProperty(_ref,"button.floating",{"border-radius":"50%","box-shadow":"0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12)"}),_defineProperty(_ref,"button.floating:hover",{"box-shadow":"0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)"}),_defineProperty(_ref,"button.floating:active",{"box-shadow":"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)"}),_defineProperty(_ref,"@media (max-width: 400px)",{".flex-direction-change":{display:"flex","flex-direction":"column-reverse","justify-content":"center"},".column-width-small":{width:px(size.column_width_s_mobile)}}),_defineProperty(_ref,"@keyframes move-stripes",{"0%":{"background-position":"0 0"},"100%":{"background-position":"15px 0"}}),_defineProperty(_ref,".indefinite-progress",(_indefiniteProgress={"background-image":"repeating-linear-gradient(\n  -45deg,\n  "+theme.content_accent+",\n  "+theme.content_accent+" 5px,\n  "+theme.content_bg+" 5px,\n  "+theme.content_bg+" 10px\n);"},_defineProperty(_indefiniteProgress,client.browser===BrowserType.SAFARI?"-webkit-background-size":"background-size",px(15)),_defineProperty(_indefiniteProgress,"width","100%"),_defineProperty(_indefiniteProgress,"height",px(3)),_defineProperty(_indefiniteProgress,"animation","move-stripes 2s linear infinite"),_indefiniteProgress)),_defineProperty(_ref,".transition-margin",{transition:"margin-bottom 200ms ease-in-out"}),_defineProperty(_ref,".date-selected",{"border-radius":"50%",background:theme.content_accent,color:theme.content_button_icon_selected}),_defineProperty(_ref,".date-current",{"border-radius":"50%",background:getContentButtonIconBackground(),color:theme.navigation_button_icon}),_defineProperty(_ref,".switch-month-button",{cursor:"pointer"}),_defineProperty(_ref,".switch-month-button svg",{fill:theme.navigation_button}),_defineProperty(_ref,"drawer-menu",{width:px(size.drawer_menu_width),background:getNavigationMenuBg(),"border-right":"0.5px solid "+theme.navigation_border}),_defineProperty(_ref,".mobile .header-nav",{height:px(size.navbar_height_mobile)}),_defineProperty(_ref,".mobile .header-logo",{height:px(size.header_logo_height_mobile)}),_defineProperty(_ref,".mobile .header-logo > svg",{height:px(size.header_logo_height_mobile),width:"auto"}),_defineProperty(_ref,".mobile .header-left",{width:""+px(size.navbar_edge_width_mobile)}),_defineProperty(_ref,".mobile .header-middle",{position:"absolute",right:px(size.navbar_edge_width_mobile),left:px(size.navbar_edge_width_mobile),top:0,bottom:0}),_defineProperty(_ref,".mobile .header-right",{left:"auto",width:""+px(size.navbar_edge_width_mobile)}),_defineProperty(_ref,"@media (max-width: "+(size.desktop_layout_width-1)+"px)",{".main-view":{top:0,bottom:0},".logo-height":{height:px(size.header_logo_height_mobile)},".logo-height > svg":{height:px(size.header_logo_height_mobile)},".fixed-bottom-right":{bottom:px(size.hpad_large_mobile+size.bottom_nav_bar),right:px(size.hpad_large_mobile)},".pt-responsive":{"padding-top":px(size.hpad_large)},".custom-logo":{width:px(40)},".notification-overlay-content":{"padding-top":px(size.vpad_small)},".calendar-day-indicator":{height:"20px","line-height":"20px","text-align":"center","font-size":"14px"},".calendar-day-number":{margin:"2px auto",width:"20px"},".calendar-hour-margin":{"margin-left":px(size.calendar_hour_width_mobile)},".calendar-month-week-number":{"font-size":"10px",opacity:"0.8",top:"3px",left:"3px"}}),_defineProperty(_ref,"@media print",{".noprint":{display:"none"},".print":{color:"black","background-color":"white",display:"block"},"html, body":{position:"initial",overflow:"visible !important"},".header-nav":{display:"none"},".main-view":{top:0,position:"static !important"},".dropdown-panel":{display:"none"},".fill-absolute":{position:"static !important",display:"initial"},".view-columns":{width:"100% !important",transform:"initial !important",display:"initial",position:"initial"},".view-column:nth-child(1), .view-column:nth-child(2)":{display:"none"},".view-column":{width:"100% !important"},"#mail-viewer":{overflow:"visible",display:"block"},"#mail-body":{overflow:"visible"},"#login-view":{display:"none"},".dialog-header":{display:"none"},".dialog-container":{overflow:"visible",position:"static !important"},"#wizard-paging":{display:"none"},"button:not(.print)":{display:"none"},".bottom-nav":{display:"none"},".mobile .view-column:nth-child(2)":{display:"initial"}}),_defineProperty(_ref,"@keyframes onAutoFillStart",{from:{},to:{}}),_defineProperty(_ref,"@keyframes onAutoFillCancel",{from:{},to:{}}),_defineProperty(_ref,"input:-webkit-autofill",{"animation-name":"onAutoFillStart"}),_defineProperty(_ref,"input:not(:-webkit-autofill)",{"animation-name":"onAutoFillCancel"}),_defineProperty(_ref,".MsoListParagraph, .MsoListParagraphCxSpFirst, .MsoListParagraphCxSpMiddle, .MsoListParagraphCxSpLast",{"margin-left":"36.0pt"}),_ref})}}}),System.register("src/gui/base/InfoView.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","mithril","../size","../../api/Env","../../api/common/TutanotaConstants","../../api/common/utils/AriaUtils"],function(_export,_context){"use strict";var _classCallCheck,_createClass,m,px,assertMainOrNodeBoot,AriaLandmarks,landmarkAttrs,InfoView;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_mithril){m=_mithril.default},function(_size){px=_size.px},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_apiCommonTutanotaConstants){AriaLandmarks=_apiCommonTutanotaConstants.AriaLandmarks},function(_apiCommonUtilsAriaUtils){landmarkAttrs=_apiCommonUtilsAriaUtils.landmarkAttrs}],execute:function(){assertMainOrNodeBoot(),_export("InfoView",InfoView=function(){function InfoView(title,content){_classCallCheck(this,InfoView),this.title=title,this.content=content}return _createClass(InfoView,[{key:"view",value:function(){return m(".main-view.flex.items-center.justify-center.mlr"+landmarkAttrs(AriaLandmarks.Main),{style:{"max-height":px(450)}},m(".message.center.max-width-l",[m("h2",this.title()),this.content()]))}}]),InfoView}()),_export("InfoView",InfoView)}}}),System.register("src/gui/base/Dropdown.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","mithril","./Modal","./../animation/Animations","../animation/Easing","../size","./Button","../../misc/MathUtils","../../misc/ClientDetector","../../api/Env","mithril/stream/stream.js","../../misc/LanguageViewModel","../../misc/WindowFacade","../../api/common/TutanotaConstants"],function(_export,_context){"use strict";var _classCallCheck,_createClass,m,modal,animations,DefaultAnimationTime,height,width,ease,px,size,mod,client,assertMainOrNodeBoot,stream,lang,windowFacade,Keys,DomRectReadOnlyPolyfilled,Dropdown;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_mithril){m=_mithril.default},function(_Modal){modal=_Modal.modal},function(_animationAnimations){animations=_animationAnimations.animations,DefaultAnimationTime=_animationAnimations.DefaultAnimationTime,height=_animationAnimations.height,width=_animationAnimations.width},function(_animationEasing){ease=_animationEasing.ease},function(_size){px=_size.px,size=_size.size},function(_Button){_Button.Button},function(_miscMathUtils){mod=_miscMathUtils.mod},function(_miscClientDetector){client=_miscClientDetector.client},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_mithrilStreamStreamJs){stream=_mithrilStreamStreamJs.default},function(_miscLanguageViewModel){lang=_miscLanguageViewModel.lang},function(_miscWindowFacade){windowFacade=_miscWindowFacade.windowFacade},function(_apiCommonTutanotaConstants){Keys=_apiCommonTutanotaConstants.Keys}],execute:function(){assertMainOrNodeBoot(),_export("DomRectReadOnlyPolyfilled",DomRectReadOnlyPolyfilled=function(){function DomRectReadOnlyPolyfilled(x,y,width,height){_classCallCheck(this,DomRectReadOnlyPolyfilled),this.x=x,this.y=y,this.width=width,this.height=height}return _createClass(DomRectReadOnlyPolyfilled,[{key:"top",get:function(){return this.height>0?this.y:this.y+this.height}},{key:"bottom",get:function(){return this.height>0?this.y+this.height:this.y}},{key:"left",get:function(){return this.width>0?this.x:this.x+this.width}},{key:"right",get:function(){return this.width>0?this.x+this.width:this.x}}]),DomRectReadOnlyPolyfilled}()),_export("DomRectReadOnlyPolyfilled",DomRectReadOnlyPolyfilled),_export("Dropdown",Dropdown=function(){function Dropdown(lazyChildren,width){var _this=this;_classCallCheck(this,Dropdown),this.children=[],this.maxHeight=0,this._width=width,this._filterString=stream(""),this._alignRight=!1,this._isFilterable=!1,this.oninit=function(){_this.children=lazyChildren(),_this._isFilterable=_this.children.length>10},this.resizeListener=function(width,height){_this._domContents&&_this.show(_this._domContents,!1)},this.oncreate=function(vnode){windowFacade.addResizeListener(_this.resizeListener)},this.onremove=function(){windowFacade.removeResizeListener(_this.resizeListener)};var _shortcuts=this._createShortcuts();this.shortcuts=function(){return _shortcuts};this.view=function(){return m(".dropdown-panel.elevated-bg.border-radius.backface_fix",{oncreate:function(vnode){_this._domDropdown=vnode.dom},onkeypress:function(e){_this._domInput&&_this._domInput.focus()}},[_this._isFilterable?m("input.dropdown-bar.elevated-bg.doNotClose.pl-l.button-height.abs"+(_this._alignRight?".right":""),{placeholder:lang.get("typeToFilter_label"),oncreate:function(vnode){_this._domInput=vnode.dom,_this._domInput.value=_this._filterString()},oninput:function(e){_this._filterString(_this._domInput.value)},style:{width:px(_this._width-size.hpad_large),top:0,height:px(size.button_height),left:0}},_this._filterString()):null,m(".dropdown-content.plr-l.scroll.abs",{oncreate:function(vnode){_this.show(vnode.dom),window.requestAnimationFrame(function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()})},onscroll:function(ev){ev.target.scrollTop<0?ev.redraw=!0:ev.target.scrollTop+_this._domContents.offsetHeight>ev.target.scrollHeight?ev.redraw=!0:ev.redraw=!1},style:{width:px(_this._width),top:px(_this._getFilterHeight()),bottom:0}},_this._visibleItems().map(function(button){return"string"==typeof button?m(".flex-v-center.center.button-height.b.text-break.doNotClose.selectable",button):m(button)}))])}}return _createClass(Dropdown,[{key:"backgroundClick",value:function(e){e.target.classList.contains("doNotClose")||!this._domDropdown.contains(e.target)&&this._domDropdown.parentNode!==e.target||this.close()}},{key:"_getFilterHeight",value:function(){return this._isFilterable?size.button_height+size.vpad_xs:0}},{key:"_createShortcuts",value:function(){var _this2=this,next=function(){var visibleElements=_this2._visibleItems().filter(function(b){return"string"!=typeof b});visibleElements=visibleElements.map(function(b){return b._domButton}),_this2._domInput&&(visibleElements=[_this2._domInput].concat(visibleElements));var selected=visibleElements.find(function(b){return document.activeElement===b});selected?visibleElements[mod(visibleElements.indexOf(selected)+1,visibleElements.length)].focus():visibleElements.length>0&&visibleElements[0].focus()},previous=function(){var visibleElements=_this2._visibleItems().filter(function(b){return"string"!=typeof b});visibleElements=visibleElements.map(function(b){return b._domButton}),_this2._domInput&&(visibleElements=[_this2._domInput].concat(visibleElements));var selected=visibleElements.find(function(b){return document.activeElement===b});selected?visibleElements[mod(visibleElements.indexOf(selected)-1,visibleElements.length)].focus():visibleElements.length>0&&visibleElements[visibleElements.length-1].focus()};return[{key:Keys.ESC,exec:function(){return _this2.close()},help:"close_alt"},{key:Keys.TAB,shift:!0,exec:function(){return previous()},help:"selectPrevious_action"},{key:Keys.TAB,shift:!1,exec:function(){return next()},help:"selectNext_action"},{key:Keys.UP,exec:function(){return previous()},help:"selectPrevious_action"},{key:Keys.DOWN,exec:function(){return next()},help:"selectNext_action"},{key:Keys.RETURN,exec:function(){return function(){var visibleElements=_this2._visibleItems().filter(function(b){return"string"!=typeof b}),matchingButton=visibleElements.find(function(b){return b.getLabel().toLowerCase()===_this2._filterString().toLowerCase()});if(document.activeElement===_this2._domInput&&matchingButton&&matchingButton.clickHandler)matchingButton.clickHandler(),_this2.close();else{var selected=visibleElements.find(function(b){return document.activeElement===b._domButton});selected&&selected.clickHandler&&(selected.clickHandler(),_this2.close())}}()},help:"ok_action"}]}},{key:"setOrigin",value:function(origin){this.origin=origin}},{key:"close",value:function(){this.closeHandler&&this.closeHandler(),modal.remove(this),this._focusedBeforeShown&&this._focusedBeforeShown.focus()}},{key:"popState",value:function(e){return this.close(),!0}},{key:"onClose",value:function(){this.close()}},{key:"show",value:function(domElement){var _this3=this,animate=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._domContents=domElement,this.origin){var _left=this.origin.left,_right=window.innerWidth-this.origin.right;_left<_right?(this._domDropdown.style.left=_left+"px",this._domDropdown.style.right=""):(this._domDropdown.style.left="",this._domDropdown.style.right=_right+"px");var _top=this.origin.top+this.origin.height,_bottom=window.innerHeight-(this.origin.bottom-this.origin.height);_top<_bottom?(this._domDropdown.style.top=_top+"px",this._domDropdown.style.bottom=""):(this._domDropdown.style.top="",this._domDropdown.style.bottom=_bottom+"px");var contentsHeight=this._visibleItems().reduce(function(previous,current){return previous+("string"==typeof current?size.button_height:current.getHeight())},0)+2*size.vpad_small;return this.maxHeight=Math.min(contentsHeight+this._getFilterHeight(),Math.max(window.innerHeight-_top,window.innerHeight-_bottom)-10),this._focusedBeforeShown=document.activeElement,(animate?animations.add(this._domDropdown,[width(0,this._width),height(0,this.maxHeight)],{easing:ease.out,duration:DefaultAnimationTime}):Promise.resolve()).then(function(){if(_this3._domDropdown.style.height=px(_this3.maxHeight),_this3.maxHeight-_this3._getFilterHeight()<contentsHeight&&(_this3._domContents.style.maxHeight=px(_this3.maxHeight-_this3._getFilterHeight()),_this3._domContents.style.overflowY=client.overflowAuto),_this3._domInput&&!client.isMobileDevice())_this3._domInput.focus();else{var button=_this3._domDropdown.querySelector("button");button&&button.focus()}})}}},{key:"hideAnimation",value:function(){return this._domContents&&this._domDropdown?(this._domContents.style.overflowY="hidden",animations.add(this._domDropdown,[width(this._width,0),height(this.maxHeight,0)],{easing:ease.out})):Promise.resolve()}},{key:"_visibleItems",value:function(){var _this4=this;return this.children.filter(function(b){return"string"==typeof b?b.includes(_this4._filterString().toLowerCase()):b.isVisible()&&b.getLabel().toLowerCase().includes(_this4._filterString().toLowerCase())})}}]),Dropdown}()),_export("Dropdown",Dropdown)}}}),System.register("src/gui/base/Modal.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","mithril","./../animation/Animations","../theme","../../api/Env","../../misc/KeyManager","@hot","../../misc/WindowFacade"],function(_export,_context){"use strict";var _classCallCheck,_createClass,m,alpha,animations,theme,assertMainOrNodeBoot,keyManager,replaced,windowFacade,Modal,modal;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_mithril){m=_mithril.default},function(_animationAnimations){alpha=_animationAnimations.alpha,animations=_animationAnimations.animations},function(_theme){theme=_theme.theme},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_miscKeyManager){keyManager=_miscKeyManager.keyManager},function(_hot){replaced=_hot.module},function(_miscWindowFacade){windowFacade=_miscWindowFacade.windowFacade}],execute:function(){assertMainOrNodeBoot(),Modal=function(){function Modal(){var _this=this;_classCallCheck(this,Modal),this.currentKey=0,this.components=[],this.visible=!1,this._uniqueComponent=null,windowFacade.addHistoryEventListener(function(e){return _this._popState(e)}),this.view=function(){return m("#modal.fill-absolute",{oncreate:function(vnode){return _this._domModal=vnode.dom},onclick:function(e){return _this.components.forEach(function(c){return c.component.backgroundClick(e)})},style:{"z-index":99,display:_this.visible?"":"none"}},[_this.components.map(function(wrapper,i,array){return m(".layer.fill-absolute",{key:wrapper.key,oncreate:function(vnode){_this.visible=!0,m.redraw(),_this.addAnimation(vnode.dom,!0)},style:{zIndex:100+i},onbeforeremove:function(vnode){return Promise.all([_this.addAnimation(vnode.dom,!1).then(function(){0===_this.components.length&&(_this.visible=!1)}),wrapper.component.hideAnimation()]).then(function(){return m.redraw()})}},[m(wrapper.component)])})])}}return _createClass(Modal,[{key:"display",value:function(component){this.components.length>0&&keyManager.unregisterModalShortcuts(this.components[this.components.length-1].component.shortcuts()),this.components.push({key:this.currentKey++,component:component}),m.redraw(),keyManager.registerModalShortcuts(component.shortcuts())}},{key:"_popState",value:function(e){console.log("modal popstate");var len=this.components.length;if(0===len)return console.log("no modals"),!0;for(var keys=this.components.map(function(c){return c.key}),i=len-1;i>=0;i--){var _component=this._getComponentByKey(keys[i]);if(_component){if(!_component.popState(e))return console.log("component handled popstate"),!1}else console.log("component went AWOL, continuing")}return!0}},{key:"displayUnique",value:function(component){this._uniqueComponent||(this.display(component),this._uniqueComponent=component)}},{key:"_getComponentByKey",value:function(key){var entry=this.components.find(function(c){return c.key===key});return entry&&entry.component}},{key:"remove",value:function(component){var componentIndex=this.components.findIndex(function(wrapper){return wrapper.component===component});if(-1!==componentIndex){var componentIsLastComponent=componentIndex===this.components.length-1;componentIsLastComponent&&keyManager.unregisterModalShortcuts(component.shortcuts()),this.components.splice(componentIndex,1),this._uniqueComponent===component&&(this._uniqueComponent=null),m.redraw(),0===this.components.length?this.currentKey=0:componentIsLastComponent&&keyManager.registerModalShortcuts(this.components[this.components.length-1].component.shortcuts())}else console.log("can't remove non existing component from modal")}},{key:"addAnimation",value:function(domLayer,fadein){return animations.add(domLayer,alpha(alpha.type.backgroundColor,theme.modal_bg,fadein?0:.5,fadein?.5:0))}}]),Modal}(),_export("modal",modal=new Modal),_export("modal",modal),replaced&&replaced.components&&replaced.components.map(function(wrapper){return replaced.remove(wrapper.component)})}}}),System.register("src/gui/base/Button.js",["node_modules/systemjs-plugin-babel/babel-helpers/slicedToArray.js","node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","../size","mithril","../../misc/LanguageViewModel","./Flash","./Dropdown","./Modal","../../api/Env","./Icon","../theme","../../api/common/utils/Utils","./ButtonN"],function(_export,_context){"use strict";var _slicedToArray,_classCallCheck,_createClass,size,m,lang,addFlash,removeFlash,Dropdown,modal,assertMainOrNodeBoot,Icon,theme,asyncImport,ButtonColors,ButtonType,getColors,TRUE_CLOSURE,FALSE_CLOSURE,Button;function createAsyncDropDownButton(labelTextIdOrTextFunction,icon,lazyButtons){var width=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,originOverride=arguments[4],mainButton=new Button(labelTextIdOrTextFunction,function(){if(mainButton.isActive){var buttonPromise=lazyButtons(),resultPromise=buttonPromise;buttonPromise.isPending()&&(resultPromise=Promise.race([buttonPromise,Promise.all([Promise.delay(100),asyncImport("undefined"!=typeof module?module.id:_context.id,env.rootPathPrefix+"src/gui/base/ProgressDialog.js")]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),module=(_ref2[0],_ref2[1]);return buttonPromise.isPending()?module.showProgressDialog("loading_msg",buttonPromise):buttonPromise})]));var initialButtonRect=mainButton._domButton.getBoundingClientRect();resultPromise.then(function(buttons){if(0===buttons.length)asyncImport("undefined"!=typeof module?module.id:_context.id,env.rootPathPrefix+"src/gui/base/Dialog.js").then(function(module){return module.Dialog.error("selectionNotAvailable_msg")});else{mainButton.isActive=!1;var dropdown=new Dropdown(function(){return buttons},width);if(dropdown.closeHandler=function(){mainButton.isActive=!0},mainButton._domButton){var buttonRect=mainButton._domButton.getBoundingClientRect();originOverride?buttonRect=originOverride():0===buttonRect.width&&0===buttonRect.height&&(buttonRect=initialButtonRect),dropdown.setOrigin(buttonRect),modal.display(dropdown)}}})}},icon);return mainButton}return _export("createDropDownButton",function(labelTextIdOrTextFunction,icon,lazyButtons){return createAsyncDropDownButton(labelTextIdOrTextFunction,icon,function(){return Promise.resolve(lazyButtons())},arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,arguments[4])}),_export("createAsyncDropDownButton",createAsyncDropDownButton),{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersSlicedToArrayJs){_slicedToArray=_node_modulesSystemjsPluginBabelBabelHelpersSlicedToArrayJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_size){size=_size.size},function(_mithril){m=_mithril.default},function(_miscLanguageViewModel){lang=_miscLanguageViewModel.lang},function(_Flash){addFlash=_Flash.addFlash,removeFlash=_Flash.removeFlash},function(_Dropdown){Dropdown=_Dropdown.Dropdown},function(_Modal){modal=_Modal.modal},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_Icon){Icon=_Icon.Icon},function(_theme){theme=_theme.theme},function(_apiCommonUtilsUtils){asyncImport=_apiCommonUtilsUtils.asyncImport},function(_ButtonN){ButtonColors=_ButtonN.ButtonColors,ButtonType=_ButtonN.ButtonType,getColors=_ButtonN.getColors}],execute:function(){assertMainOrNodeBoot(),TRUE_CLOSURE=function(){return!0},FALSE_CLOSURE=function(){return!1},_export("Button",Button=function(){function Button(labelTextIdOrTextFunction,click,icon){var _this=this;_classCallCheck(this,Button),this._type=ButtonType.Action,this.clickHandler=click,this.icon=icon,this._colors=ButtonColors.Content,this._staticRightText=null,this.isVisible=TRUE_CLOSURE,this.isActive=!0,this.isSelected=FALSE_CLOSURE,this.propagateClickEvents=!0,this.getLabel="function"==typeof labelTextIdOrTextFunction?labelTextIdOrTextFunction:lang.get.bind(lang,labelTextIdOrTextFunction),this.view=function(){return m("button.limit-width.noselect"+(_this._type===ButtonType.Bubble?".print":_this._type===ButtonType.Floating?".z2":""),{class:_this.getButtonClasses().join(" "),style:_this._type===ButtonType.Login||_this._type===ButtonType.Accent?{"background-color":theme.content_accent}:{},onclick:function(event){return _this.click(event)},title:_this._type===ButtonType.Action||_this._type===ButtonType.Bubble||_this._type===ButtonType.Dropdown||_this._type===ButtonType.Login||_this._type===ButtonType.Accent||_this._type===ButtonType.Floating?_this.getLabel():"",oncreate:function(vnode){_this._domButton=vnode.dom},onbeforeremove:function(vnode){return removeFlash(vnode.dom)}},m("",{class:_this.getWrapperClasses().join(" "),oncreate:function(vnode){addFlash(vnode.dom)}},[_this.getIcon(),_this._getLabelElement(),_this._staticRightText?m(".pl-s",{style:_this._getLabelStyle()},_this._staticRightText):null]))}}return _createClass(Button,[{key:"getIcon",value:function(){return this.icon instanceof Function&&this.icon()?m(Icon,{icon:this.icon(),class:this.getIconClass(),style:{fill:this.getIconColor(),"background-color":this.getIconBackgroundColor()}}):null}},{key:"getIconColor",value:function(){return this._type===ButtonType.Bubble?theme.button_bubble_fg:this.isSelected()||this._type===ButtonType.Floating?getColors(this._colors).icon_selected:getColors(this._colors).icon}},{key:"getIconBackgroundColor",value:function(){return this._type===ButtonType.Bubble?"initial":this.isSelected()||this._type===ButtonType.Floating?getColors(this._colors).button_selected:this._type===ButtonType.Action||this._type===ButtonType.Dropdown||this._type===ButtonType.ActionLarge?getColors(this._colors).button_icon_bg:getColors(this._colors).button}},{key:"getIconClass",value:function(){return this._type===ButtonType.ActionLarge?"flex-center items-center button-icon icon-large":this._type===ButtonType.Floating?"flex-center items-center button-icon floating icon-large":this._type===ButtonType.Bubble?"pr-s":"flex-center items-center button-icon"}},{key:"getButtonClasses",value:function(){var buttonClasses=["bg-transparent"];return this._type===ButtonType.Floating?(buttonClasses.push("fixed-bottom-right"),buttonClasses.push("large-button-height"),buttonClasses.push("large-button-width"),buttonClasses.push("floating")):this._type===ButtonType.Action||this._type===ButtonType.ActionLarge?(buttonClasses.push("button-width-fixed"),buttonClasses.push("button-height")):this._type===ButtonType.Accent?buttonClasses.push("button-height-accent"):buttonClasses.push("button-height"),this._type===ButtonType.Login&&buttonClasses.push("full-width"),buttonClasses}},{key:"getWrapperClasses",value:function(){var wrapperClasses=["button-content","flex","items-center",this._type];return this._type!==ButtonType.Floating&&this._type!==ButtonType.TextBubble&&wrapperClasses.push("plr-button"),this._type===ButtonType.Dropdown?wrapperClasses.push("justify-start"):this._type===ButtonType.Accent?(wrapperClasses.push("button-height-accent"),wrapperClasses.push("mlr")):wrapperClasses.push("justify-center"),wrapperClasses}},{key:"_getLabelElement",value:function(){var classes=["text-ellipsis"];return this._type===ButtonType.Dropdown&&classes.push("pl-m"),-1===[ButtonType.Action,ButtonType.Floating].indexOf(this._type)?m("",{class:classes.join(" "),style:this._getLabelStyle()},this.getLabel()):null}},{key:"_getLabelStyle",value:function(){return{color:this._type===ButtonType.Primary||this._type===ButtonType.Secondary?theme.content_accent:this._type===ButtonType.Login||this._type===ButtonType.Accent?theme.content_button_icon_selected:this._type===ButtonType.Bubble||this._type===ButtonType.TextBubble?this.isSelected()?getColors(this._colors).button_selected:theme.content_fg:this.isSelected()?getColors(this._colors).button_selected:getColors(this._colors).button,"font-weight":this._type===ButtonType.Primary?"bold":"normal"}}},{key:"setStaticRightText",value:function(text){return this._staticRightText=text,m.redraw(),this}},{key:"setType",value:function(type){return this._type=type,this}},{key:"setColors",value:function(colors){return this._colors=colors,this}},{key:"setSelected",value:function(selected){return this.isSelected=selected,this}},{key:"setIsVisibleHandler",value:function(isVisible){return this.isVisible=isVisible,this}},{key:"disableBubbling",value:function(){return this.propagateClickEvents=!1,this}},{key:"getWidth",value:function(){if(this._type!==ButtonType.Action)throw new Error("width is not defined for buttons with type != action");return size.button_height}},{key:"getHeight",value:function(){return size.button_height}},{key:"click",value:function(event){this.clickHandler(event),this.propagateClickEvents||event.stopPropagation()}}]),Button}()),_export("Button",Button)}}}),System.register("src/gui/base/NavBar.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","mithril","../../misc/WindowFacade","../../api/Env","./NavButtonN","../../api/common/utils/AriaUtils"],function(_export,_context){"use strict";var _classCallCheck,_createClass,m,assertMainOrNodeBoot,AriaLandmarks,landmarkAttrs,NavBar;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_mithril){m=_mithril.default},function(_miscWindowFacade){_miscWindowFacade.windowFacade},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_NavButtonN){_NavButtonN.NavButtonColors,_NavButtonN.NavButtonN},function(_apiCommonUtilsAriaUtils){AriaLandmarks=_apiCommonUtilsAriaUtils.AriaLandmarks,landmarkAttrs=_apiCommonUtilsAriaUtils.landmarkAttrs}],execute:function(){assertMainOrNodeBoot(),_export("NavBar",NavBar=function(){function NavBar(){_classCallCheck(this,NavBar)}return _createClass(NavBar,[{key:"view",value:function(_ref){var children=_ref.children;return m("nav.nav-bar.flex-end"+landmarkAttrs(AriaLandmarks.Navigation,"top"),children.map(function(child){return m(".plr-nav-button",child)}))}}]),NavBar}()),_export("NavBar",NavBar)}}}),System.register("src/misc/ErrorHandler.js",["../api/Env","../api/common/utils/Utils","../api/common/error/SecondFactorPendingError"],function(_export,_context){"use strict";var assertMainOrNodeBoot,asyncImport,SecondFactorPendingError;return _export("handleUncaughtError",function(e){e instanceof SecondFactorPendingError||console.log("error",e),asyncImport("undefined"!=typeof module?module.id:_context.id,env.rootPathPrefix+"src/misc/ErrorHandlerImpl.js").then(function(module){module.handleUncaughtError(e)})}),_export("logginOut",function(){asyncImport("undefined"!=typeof module?module.id:_context.id,env.rootPathPrefix+"src/misc/ErrorHandlerImpl.js").then(function(module){module.loggingOut()})}),{setters:[function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_apiCommonUtilsUtils){asyncImport=_apiCommonUtilsUtils.asyncImport},function(_apiCommonErrorSecondFactorPendingError){SecondFactorPendingError=_apiCommonErrorSecondFactorPendingError.SecondFactorPendingError}],execute:function(){assertMainOrNodeBoot()}}}),System.register("src/gui/base/NavButtonN.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","mithril","../../misc/ErrorHandler","../size","./Flash","../../api/common/utils/Utils","./Icon","../theme","../styles","../../api/common/utils/StringUtils","../../api/Env","../../misc/LanguageViewModel","../../api/common/TutanotaConstants","../../misc/KeyManager"],function(_export,_context){"use strict";var _classCallCheck,_createClass,m,handleUncaughtError,px,size,addFlash,removeFlash,neverNull,Icon,theme,styles,lazyStringValue,assertMainOrNodeBoot,lang,Keys,isKeyPressed,navButtonSelector,_NavButton,NavButtonN,NavButtonColors;function getColors(buttonColors){switch(buttonColors){case NavButtonColors.Header:return{button:styles.isDesktopLayout()?theme.header_button:theme.content_accent,button_selected:styles.isDesktopLayout()?theme.header_button_selected:theme.content_accent};case NavButtonColors.Nav:return{button:theme.navigation_button,button_selected:theme.navigation_button_selected};default:return{button:theme.content_button,button_selected:theme.content_button_selected}}}function isNavButtonSelected(a){return"boolean"==typeof a.isSelectedPrefix?a.isSelectedPrefix:isSelectedPrefix(a.isSelectedPrefix||lazyStringValue(a.href))}function isSelectedPrefix(href){var current=m.route.get();return""!==href&&(current===href||0===current.indexOf(href+"/")||0===current.indexOf(href+"?"))}return _export("isNavButtonSelected",isNavButtonSelected),_export("isSelectedPrefix",isSelectedPrefix),{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_mithril){m=_mithril.default},function(_miscErrorHandler){handleUncaughtError=_miscErrorHandler.handleUncaughtError},function(_size){px=_size.px,size=_size.size},function(_Flash){addFlash=_Flash.addFlash,removeFlash=_Flash.removeFlash},function(_apiCommonUtilsUtils){neverNull=_apiCommonUtilsUtils.neverNull},function(_Icon){Icon=_Icon.Icon},function(_theme){theme=_theme.theme},function(_styles){styles=_styles.styles},function(_apiCommonUtilsStringUtils){lazyStringValue=_apiCommonUtilsStringUtils.lazyStringValue},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_miscLanguageViewModel){lang=_miscLanguageViewModel.lang},function(_apiCommonTutanotaConstants){Keys=_apiCommonTutanotaConstants.Keys},function(_miscKeyManager){isKeyPressed=_miscKeyManager.isKeyPressed}],execute:function(){assertMainOrNodeBoot(),navButtonSelector=function(vertical){return"a.nav-button.noselect.flex-start.flex-no-shrink.items-center.click.plr-button.no-text-decoration.button-height"+(vertical?".col":"")},_NavButton=function(){function _NavButton(){_classCallCheck(this,_NavButton),this._draggedOver=!1,this._dropCounter=0}return _createClass(_NavButton,[{key:"view",value:function(vnode){var a=vnode.attrs;return m(this._isExternalUrl(a.href)?navButtonSelector(vnode.attrs.vertical):m.route.Link,this.createButtonAttributes(a),[a.icon()?m(Icon,{icon:a.icon(),class:this._getIconClass(a),style:{fill:isNavButtonSelected(vnode.attrs)||this._draggedOver?getColors(a.colors).button_selected:getColors(a.colors).button}}):null,a.hideLabel?null:m("span.label.click.text-ellipsis.b"+(a.vertical?"":".pl-m"),this.getLabel(a.label))])}},{key:"getLabel",value:function(label){return lang.getMaybeLazy(label)}},{key:"_getUrl",value:function(href){return lazyStringValue(href)}},{key:"_getIconClass",value:function(a){var isSelected=isNavButtonSelected(a);return a.colors!==NavButtonColors.Header||styles.isDesktopLayout()?"flex-center items-center icon-large"+(isSelected?" selected":""):"flex-end items-center icon-xl"+(isSelected?" selected":"")}},{key:"_isExternalUrl",value:function(href){var url=this._getUrl(href);return null!=url&&0===url.indexOf("http")}},{key:"createButtonAttributes",value:function(a){var _this=this,attr={role:"button",href:this._getUrl(a.href),style:{color:isNavButtonSelected(a)||this._draggedOver?getColors(a.colors).button_selected:getColors(a.colors).button,"font-size":px(a.fontSize)},title:this.getLabel(a.label),target:this._isExternalUrl(a.href)?"_blank":void 0,oncreate:function(vnode){_this._domButton=vnode.dom,addFlash(vnode.dom)},onbeforeremove:function(vnode){removeFlash(vnode.dom)},selector:navButtonSelector(a.vertical),onclick:function(e){return _this.click(e,a)},onkeyup:function(e){isKeyPressed(e.keyCode,Keys.SPACE)&&_this.click(e,a)}};return a.dropHandler&&(attr.ondragenter=function(ev){_this._dropCounter++,_this._draggedOver=!0,ev.preventDefault()},attr.ondragleave=function(ev){_this._dropCounter--,0===_this._dropCounter&&(_this._draggedOver=!1),ev.preventDefault()},attr.ondragover=function(ev){ev.preventDefault()},attr.ondrop=function(ev){_this._dropCounter=0,_this._draggedOver=!1,ev.preventDefault(),ev.dataTransfer.getData("text")&&neverNull(a.dropHandler)(ev.dataTransfer.getData("text"))}),attr}},{key:"click",value:function(event,a){if(!this._isExternalUrl(a.href)){m.route.set(this._getUrl(a.href));try{null!=a.click&&a.click(event,this._domButton),event.preventDefault()}catch(e){handleUncaughtError(e)}}}},{key:"getHeight",value:function(){return size.button_height}}]),_NavButton}(),_export("NavButtonN",NavButtonN=_NavButton),_export("NavButtonN",NavButtonN),_export("NavButtonColors",NavButtonColors=Object.freeze({Header:"header",Nav:"nav",Content:"content"})),_export("NavButtonColors",NavButtonColors)}}}),System.register("src/api/common/utils/AriaUtils.js",["../TutanotaConstants"],function(_export,_context){"use strict";var TabIndex,AriaLandmarks,AriaLiveRegions,AriaWindow,AriaLiveData;return _export("dialogAttrs",function(labeledBy,describedBy){return'[role="'+AriaWindow.Dialog+'"][aria-modal=true][aria-labelledby="'+labeledBy+'"][aria-describedby="'+describedBy+'"]'}),_export("liveDataAttrs",function(){return'[aria-live="'+AriaLiveData.Polite+'"][aria-atomic=true]'}),_export("landmarkAttrs",function(role,label){return'.hide-outline[role="'+role+'"][tabindex="'+TabIndex.Programmatic+'"]'+(label?'[aria-label="'+label+'"]':"")}),{setters:[function(_TutanotaConstants){TabIndex=_TutanotaConstants.TabIndex}],execute:function(){_export("AriaLandmarks",AriaLandmarks=Object.freeze({Banner:"banner",Search:"search",Navigation:"navigation",Main:"main",Complementary:"complementary",Contentinfo:"contentinfo",Region:"region"})),_export("AriaLandmarks",AriaLandmarks),_export("AriaLiveRegions",AriaLiveRegions=Object.freeze({Alert:"alert",Log:"log",Marquee:"Marquee",Status:"status",Timer:"timer"})),_export("AriaLiveRegions",AriaLiveRegions),AriaWindow=Object.freeze({AlertDialog:"alertdialog",Dialog:"dialog"}),AriaLiveData=Object.freeze({Off:"off",Polite:"polite",Assertive:"assertive"})}}}),System.register("src/gui/base/Header.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","mithril","./NavBar","./NavButtonN","../styles","../../api/common/utils/Utils","../../misc/KeyManager","../../misc/LanguageViewModel","../../api/main/LoginController","../theme","../../api/common/TutanotaConstants","../size","../../api/Env","./icons/BootIcons","../../misc/ClientDetector","../../misc/RouteChange","../../api/common/utils/AriaUtils"],function(_export,_context){"use strict";var _classCallCheck,_createClass,m,NavBar,NavButtonColors,NavButtonN,styles,asyncImport,neverNull,keyManager,lang,logins,theme,FeatureType,Keys,px,sizes,assertMainOrNodeBoot,isDesktop,BootIcons,client,CALENDAR_PREFIX,CONTACTS_PREFIX,MAIL_PREFIX,navButtonRoutes,SEARCH_PREFIX,AriaLandmarks,landmarkAttrs,LogoutUrl,Header,header;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_mithril){m=_mithril.default},function(_NavBar){NavBar=_NavBar.NavBar},function(_NavButtonN){NavButtonColors=_NavButtonN.NavButtonColors,NavButtonN=_NavButtonN.NavButtonN},function(_styles){styles=_styles.styles},function(_apiCommonUtilsUtils){asyncImport=_apiCommonUtilsUtils.asyncImport,neverNull=_apiCommonUtilsUtils.neverNull},function(_miscKeyManager){keyManager=_miscKeyManager.keyManager},function(_miscLanguageViewModel){lang=_miscLanguageViewModel.lang},function(_apiMainLoginController){logins=_apiMainLoginController.logins},function(_theme){theme=_theme.theme},function(_apiCommonTutanotaConstants){FeatureType=_apiCommonTutanotaConstants.FeatureType,Keys=_apiCommonTutanotaConstants.Keys},function(_size){px=_size.px,sizes=_size.size},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot,isDesktop=_apiEnv.isDesktop},function(_iconsBootIcons){BootIcons=_iconsBootIcons.BootIcons},function(_miscClientDetector){client=_miscClientDetector.client},function(_miscRouteChange){CALENDAR_PREFIX=_miscRouteChange.CALENDAR_PREFIX,CONTACTS_PREFIX=_miscRouteChange.CONTACTS_PREFIX,MAIL_PREFIX=_miscRouteChange.MAIL_PREFIX,navButtonRoutes=_miscRouteChange.navButtonRoutes,SEARCH_PREFIX=_miscRouteChange.SEARCH_PREFIX},function(_apiCommonUtilsAriaUtils){AriaLandmarks=_apiCommonUtilsAriaUtils.AriaLandmarks,landmarkAttrs=_apiCommonUtilsAriaUtils.landmarkAttrs}],execute:function(){"/login?noAutoLogin=true",_export("LogoutUrl",LogoutUrl=location.hash.startsWith("#mail")?"/ext?noAutoLogin=true"+location.hash:isDesktop()?"?r="+encodeURIComponent("/login?noAutoLogin=true"):"/login?noAutoLogin=true"),_export("LogoutUrl",LogoutUrl),assertMainOrNodeBoot(),Header=function(){function Header(){var _this=this;_classCallCheck(this,Header),this._wsState="terminated",this._currentView=null,this._setupShortcuts(),this.view=function(){var injectedView=_this._currentView&&_this._currentView.headerView?_this._currentView.headerView():null;return m(".header-nav.overflow-hidden",[_this._connectionIndicator()].concat(injectedView||[m(".header-left.pl-l.ml-negative-s.flex-start.items-center.overflow-hidden",{style:styles.isUsingBottomNavigation()?{"margin-left":px(-15)}:null},_this._getLeftElements()),styles.isUsingBottomNavigation()?_this._getCenterContent():null,styles.isUsingBottomNavigation()?m(".header-right.pr-s.flex-end.items-center",_this._currentView&&_this._currentView.headerRightView?_this._currentView.headerRightView():null):m(".header-right.pr-l.mr-negative-m.flex-end.items-center",[_this._renderDesktopSearchBar(),m(NavBar,_this._renderButtons(!m.route.get().startsWith("/signup")))])]))},asyncImport("undefined"!=typeof module?module.id:_context.id,env.rootPathPrefix+"src/search/SearchBar.js").then(function(searchBarModule){_this.searchBar=new searchBarModule.SearchBar}),asyncImport("undefined"!=typeof module?module.id:_context.id,env.rootPathPrefix+"src/api/main/WorkerClient.js").then(function(workerClientModule){workerClientModule.worker.wsConnection().map(function(state){_this._wsState=state,m.redraw()})})}return _createClass(Header,[{key:"_renderDesktopSearchBar",value:function(){return this.searchBar&&this._desktopSearchBarVisible()?m(this.searchBar,{spacer:!0,placeholder:this._searchPlaceholder()}):null}},{key:"_focusMain",value:function(){var viewSlider=this._currentView&&this._currentView.getViewSlider&&this._currentView.getViewSlider();viewSlider&&viewSlider.getMainColumn().focus()}},{key:"_renderButtons",value:function(isNotSignup){var _this2=this;return[isNotSignup&&logins.isInternalUserLoggedIn()?m(NavButtonN,{label:"emails_label",icon:function(){return BootIcons.Mail},href:navButtonRoutes.mailUrl,isSelectedPrefix:MAIL_PREFIX,colors:NavButtonColors.Header,click:function(){return m.route.get()===navButtonRoutes.mailUrl&&_this2._focusMain()}}):null,isNotSignup&&logins.isInternalUserLoggedIn()&&!logins.isEnabled(FeatureType.DisableContacts)?m(NavButtonN,{label:"contacts_label",icon:function(){return BootIcons.Contacts},href:navButtonRoutes.contactsUrl,isSelectedPrefix:CONTACTS_PREFIX,colors:NavButtonColors.Header,click:function(){return m.route.get()===navButtonRoutes.contactsUrl&&_this2._focusMain()}}):null,isNotSignup&&logins.isInternalUserLoggedIn()&&!logins.isEnabled(FeatureType.DisableCalendar)&&client.calendarSupported()?m(NavButtonN,{label:"calendar_label",icon:function(){return BootIcons.Calendar},href:CALENDAR_PREFIX,colors:NavButtonColors.Header,click:function(){return m.route.get().startsWith(CALENDAR_PREFIX)&&_this2._focusMain()}}):null]}},{key:"_mobileSearchBarVisible",value:function(){var route=m.route.get(),locator=window.tutao.locator;return null!=this.searchBar&&null!=locator&&!locator.search.indexState().initializing&&styles.isUsingBottomNavigation()&&logins.isInternalUserLoggedIn()&&route.startsWith(SEARCH_PREFIX)}},{key:"_setupShortcuts",value:function(){var _this3=this;this._shortcuts=[{key:Keys.M,enabled:function(){return logins.isUserLoggedIn()},exec:function(key){return m.route.set(navButtonRoutes.mailUrl)},help:"mailView_action"},{key:Keys.C,enabled:function(){return logins.isInternalUserLoggedIn()&&!logins.isEnabled(FeatureType.DisableContacts)},exec:function(key){return m.route.set(navButtonRoutes.contactsUrl)},help:"contactView_action"},{key:Keys.O,enabled:function(){return logins.isInternalUserLoggedIn()},exec:function(key){return m.route.set(navButtonRoutes.calendarUrl)},help:"calendarView_action"},{key:Keys.S,enabled:function(){return logins.isInternalUserLoggedIn()},exec:function(key){return m.route.set(navButtonRoutes.settingsUrl)},help:"settingsView_action"},{key:Keys.L,shift:!0,ctrl:!0,enabled:function(){return logins.isUserLoggedIn()},exec:function(key){return m.route.set(LogoutUrl)},help:"logout_label"}],this.oncreate=function(){return keyManager.registerShortcuts(_this3._shortcuts)},this.onbeforeremove=function(){return keyManager.unregisterShortcuts(_this3._shortcuts)}}},{key:"_getCenterContent",value:function(){var viewSlider=this._getViewSlider(),header=function(title){return m(".flex-center.header-middle.items-center.text-ellipsis.b",title)};if(this._mobileSearchBarVisible())return this._renderMobileSearchBar();if(viewSlider){var fistVisibleBgColumn=viewSlider.getBackgroundColumns().find(function(c){return c.visible});return header(fistVisibleBgColumn?fistVisibleBgColumn.getTitle():"")}return m.route.get().startsWith("/login")?header(lang.get("login_label")):m.route.get().startsWith("/signup")?header(lang.get("registrationHeadline_msg")):null}},{key:"_renderMobileSearchBar",value:function(){var placeholder=void 0,route=m.route.get();return placeholder=route.startsWith("/search/mail")?lang.get("searchEmails_placeholder"):route.startsWith("/search/contact")?lang.get("searchContacts_placeholder"):null,m(neverNull(this.searchBar),{alwaysExpanded:!0,classes:".flex-center",placeholder:placeholder,style:{height:"100%","margin-left":px(sizes.navbar_edge_width_mobile),"margin-right":px(sizes.navbar_edge_width_mobile)}})}},{key:"_getLeftElements",value:function(){var _this4=this,viewSlider=this._getViewSlider();return viewSlider&&viewSlider.isFocusPreviousPossible()?m(NavButtonN,{label:function(){var prevColumn=viewSlider.getPreviousColumn();return prevColumn?prevColumn.getTitle():""},icon:function(){return(_this4._currentView&&_this4._currentView.overrideBackIcon?_this4._currentView.overrideBackIcon():!viewSlider.getBackgroundColumns()[0].visible)?BootIcons.Back:BootIcons.MoreVertical},colors:NavButtonColors.Header,href:function(){return m.route.get()},click:function(){_this4._currentView&&_this4._currentView.handleBackButton&&_this4._currentView.handleBackButton()||viewSlider.focusPreviousColumn()},hideLabel:!0}):styles.isUsingBottomNavigation()||viewSlider&&!viewSlider.isUsingOverlayColumns()?null:m(".logo.logo-height.pl"+landmarkAttrs(AriaLandmarks.Banner,"Tutanota logo"),{style:{"margin-left":px(sizes.drawer_menu_width)}},m.trust(theme.logo))}},{key:"updateCurrentView",value:function(currentView){this._currentView=currentView}},{key:"_getViewSlider",value:function(){return this._currentView&&this._currentView.getViewSlider?this._currentView.getViewSlider():null}},{key:"_connectionIndicator",value:function(){return"connected"===this._wsState||"terminated"===this._wsState?null:m(".indefinite-progress")}},{key:"_searchPlaceholder",value:function(){var route=m.route.get();return route.startsWith(MAIL_PREFIX)||route.startsWith("/search/mail")?lang.get("searchEmails_placeholder"):route.startsWith(CONTACTS_PREFIX)||route.startsWith("/search/contact")?lang.get("searchContacts_placeholder"):route.startsWith("/settings/users")?lang.get("searchUsers_placeholder"):route.startsWith("/settings/groups")?lang.get("searchGroups_placeholder"):null}},{key:"_desktopSearchBarVisible",value:function(){var route=m.route.get(),locator=window.tutao.locator;return null!=this.searchBar&&null!=locator&&!locator.search.indexState().initializing&&styles.isDesktopLayout()&&logins.isInternalUserLoggedIn()&&(route.startsWith(SEARCH_PREFIX)||route.startsWith(MAIL_PREFIX)||route.startsWith(CONTACTS_PREFIX)||route.startsWith("/settings/users")||route.startsWith("/settings/groups")||route.startsWith("/settings/whitelabelaccounts"))}}]),Header}(),_export("header",header=new Header),_export("header",header)}}}),System.register("src/gui/base/TextField.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","../size","mithril","mithril/stream/stream.js","../../misc/LanguageViewModel","./../animation/Animations","../animation/Easing","../../api/Env","../theme"],function(_export,_context){"use strict";var _classCallCheck,_createClass,inputLineHeight,px,size,m,stream,lang,animations,fontSize,transform,ease,assertMainOrNodeBoot,theme,Type,inputMarginTop,TextField;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_size){inputLineHeight=_size.inputLineHeight,px=_size.px,size=_size.size},function(_mithril){m=_mithril.default},function(_mithrilStreamStreamJs){stream=_mithrilStreamStreamJs.default},function(_miscLanguageViewModel){lang=_miscLanguageViewModel.lang},function(_animationAnimations){animations=_animationAnimations.animations,fontSize=_animationAnimations.fontSize,transform=_animationAnimations.transform},function(_animationEasing){ease=_animationEasing.ease},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_theme){theme=_theme.theme}],execute:function(){assertMainOrNodeBoot(),function(){return!1},_export("Type",Type=Object.freeze({Text:"text",Email:"email",Password:"password",Area:"area"})),_export("Type",Type),inputMarginTop=size.font_size_small+size.hpad_small+3,_export("TextField",TextField=function(){function TextField(labelIdOrLabelTextFunction,helpLabel){var _this=this;_classCallCheck(this,TextField),this.label=labelIdOrLabelTextFunction,this.active=!1,this.webkitAutofill=!1,this.disabled=!1,this.helpLabel=helpLabel,this.value=stream(""),this.autocomplete="",this.value.map(function(v){if(_this._domInput){var input=_this._domInput;_this.value()!==input.value&&(input.value=_this.value())}}),this.type=Type.Text,this.baseLabelPosition=size.text_field_label_top,this._baseLabel=!0,this.onblur=stream(),this.skipNextBlur=!1,this._keyHandler=null,this._preventAutofill=!1,this.view=function(){return m(".text-field.rel.overflow-hidden.pt",{oncreate:function(vnode){return _this._domWrapper=vnode.dom},onclick:function(e){return _this.focus()},class:_this.disabled?null:"text"},[m("label.abs.text-ellipsis.noselect.backface_fix.z1.i.pr-s",{class:_this.active?"content-accent-fg":"",oncreate:function(vnode){_this._domLabel=vnode.dom,_this._baseLabel=_this.isEmpty()&&!_this.disabled,_this._baseLabel?(_this._domLabel.style.fontSize=px(size.font_size_base),_this._domLabel.style.transform="translateY("+_this.baseLabelPosition+"px)"):(_this._domLabel.style.fontSize=px(size.font_size_small),_this._domLabel.style.transform="translateY(0px)")}},lang.getMaybeLazy(_this.label)),m(".flex.flex-column",[m(".flex.items-end.flex-wrap",{style:{"min-height":px(size.button_height+2),"padding-bottom":_this.active?px(0):px(1),"border-bottom":_this.active?"2px solid "+theme.content_accent:"1px solid "+theme.content_border}},[_this._injectionsLeft?_this._injectionsLeft():null,m(".inputWrapper.flex-space-between.items-end",[_this.type!==Type.Area?_this._getInputField():_this._getTextArea(),_this._injectionsRight?m(".mr-negative-s.flex-end.flex-fixed",_this._injectionsRight()):null])])]),_this.helpLabel?m("div.small.noselect.click",{onclick:function(){_this._domInput&&_this._domInput.focus()}},_this.helpLabel()):[]])},this.isEmpty=function(){return""===_this.value()}}return _createClass(TextField,[{key:"updateValue",value:function(){var input=this._domInput;if(input){var inputValue=input.value;if(this.value()!==inputValue){var oldValue=this.value();this.value(inputValue),null!=oldValue&&""!==oldValue||""===inputValue||this.active||this.animate()}}}},{key:"_getInputField",value:function(){var _this2=this;if(this.disabled)return m(".text-break.selectable"+(this._alignRight?".right":""),{style:{marginTop:px(inputMarginTop),lineHeight:px(inputLineHeight)}},this.value());var typeAttr=this.type,autofillGuard=this._preventAutofill?[m("input.abs",{style:{opacity:"0",height:"0"},type:Type.Text}),m("input.abs",{style:{opacity:"0",height:"0"},type:Type.Password}),m("input.abs",{style:{opacity:"0",height:"0"},type:Type.Text})]:[];return m(".flex-grow",autofillGuard.concat(m("input.input"+(this._alignRight?".right":""),{autocomplete:this._preventAutofill?"off":this.autocomplete,type:typeAttr,"aria-label":lang.getMaybeLazy(this.label),oncreate:function(vnode){_this2._domInput=vnode.dom,_this2.type!==Type.Area&&vnode.dom.addEventListener("animationstart",function(e){"onAutoFillStart"===e.animationName?(_this2.webkitAutofill=!0,_this2.animate()):"onAutoFillCancel"===e.animationName&&(_this2.webkitAutofill=!1,_this2.animate())}),_this2.type!==Type.Password&&(vnode.dom.value=_this2.value())},onfocus:function(e){return _this2.focus()},onblur:function(e){return _this2.blur(e)},onkeydown:function(e){var key={keyCode:e.which,ctrl:e.ctrlKey,shift:e.shiftKey},input=_this2._domInput;return input&&input.value!==_this2.value()&&(_this2.value(input.value),""===input.value||_this2.active||_this2.animate()),null==_this2._keyHandler||_this2._keyHandler(key)},onremove:function(e){_this2._domInput&&(_this2._domInput.onblur=null),_this2._domInput=null},oninput:function(e){var input=_this2._domInput;input&&(!_this2.isEmpty()||""===input.value||_this2.active||_this2.webkitAutofill||_this2.animate(),_this2.value(input.value))},style:{"min-width":px(20),"line-height":px(inputLineHeight),"min-height":px(inputLineHeight)}})))}},{key:"_getTextArea",value:function(){var _this3=this;return this.disabled?m(".text-prewrap.text-break.selectable",{style:{marginTop:px(inputMarginTop),lineHeight:px(inputLineHeight)}},this.value()):m("textarea.input-area.text-pre",{"aria-label":lang.getMaybeLazy(this.label),oncreate:function(vnode){_this3._domInput=vnode.dom,vnode.dom.value=_this3.value(),vnode.dom.style.height=px(Math.max(_this3.value().split("\n").length,1)*inputLineHeight)},onfocus:function(e){return _this3.focus()},onblur:function(e){return _this3.blur(e)},onkeydown:function(e){var key={keyCode:e.which,ctrl:e.ctrlKey,shift:e.shiftKey};return null==_this3._keyHandler||_this3._keyHandler(key)},oninput:function(e){var input=_this3._domInput;input&&(_this3.isEmpty()&&""!==input.value&&!_this3.active&&_this3.animate(),input.style.height="0px",input.style.height=px(input.scrollHeight),_this3.value(input.value))},style:{marginTop:px(inputMarginTop),lineHeight:px(inputLineHeight),minWidth:px(20)}})}},{key:"setType",value:function(type){return this.type=type,this}},{key:"setPreventAutofill",value:function(prevent){return this._preventAutofill=prevent,this}},{key:"setValue",value:function(value){return this.value(value||""),this}},{key:"onUpdate",value:function(updateHandler){return this.value.map(updateHandler),this}},{key:"setDisabled",value:function(){return this.disabled=!0,this._baseLabel=!1,this}},{key:"alignRight",value:function(){return this._alignRight=!0,this}},{key:"focus",value:function(){this.isActive()||this.disabled||(this.active=!0,this._domInput&&(this._domInput.focus(),this._domWrapper.classList.add("active"),this.animate()))}},{key:"blur",value:function(e){this.skipNextBlur?this._domInput&&this._domInput.focus():(this._domWrapper.classList.remove("active"),this.animate(),this.active=!1,this.onblur(e)),this.skipNextBlur=!1}},{key:"animate",value:function(){var _this4=this;window.requestAnimationFrame(function(){if(_this4._baseLabel&&(!_this4.isEmpty()&&!_this4.disabled||_this4.webkitAutofill||_this4.active)){var fontSizes=[size.font_size_base,size.font_size_small],top=[_this4.baseLabelPosition,0];return _this4._baseLabel=!1,animations.add(_this4._domLabel,[fontSize(fontSizes[0],fontSizes[1]),transform(transform.type.translateY,top[0],top[1])],{easing:ease.out})}if(!_this4._baseLabel&&_this4.isEmpty()&&!_this4.disabled&&!_this4.webkitAutofill&&!_this4.active){var _fontSizes=[size.font_size_small,size.font_size_base],_top=[0,_this4.baseLabelPosition];return _this4._baseLabel=!0,animations.add(_this4._domLabel,[fontSize(_fontSizes[0],_fontSizes[1]),transform(transform.type.translateY,_top[0],_top[1])],{easing:ease.out})}})}},{key:"isActive",value:function(){return this.active}}]),TextField}()),_export("TextField",TextField)}}}),System.register("src/misc/MathUtils.js",[],function(_export,_context){"use strict";return _export("mod",function(n,m){return(n%m+m)%m}),{setters:[],execute:function(){}}}),System.register("src/misc/KeyManager.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","mithril","../api/Env","../gui/base/ButtonN","../api/common/utils/Utils","../api/common/utils/ArrayUtils","../gui/base/TextField","./ClientDetector","./LanguageViewModel","./ClientConstants","./MathUtils","../api/common/TutanotaConstants"],function(_export,_context){"use strict";var _classCallCheck,_createClass,m,assertMainOrNodeBoot,ButtonType,asyncImport,neverNull,addAll,removeAll,TextField,client,lang,BrowserType,mod,Keys,TABBABLE,KeyManager,keyManager;return _export("focusPrevious",function(dom){var tabbable=Array.from(dom.querySelectorAll(TABBABLE)).filter(function(e){return"none"!==e.style.display}),selected=tabbable.find(function(e){return document.activeElement===e});if(selected){var selection=window.getSelection();return!!(selection&&selection.focusNode&&("LI"===selection.focusNode.nodeName||selection.focusNode.parentNode&&"LI"===selection.focusNode.parentNode.nodeName))||(tabbable[mod(tabbable.indexOf(selected)-1,tabbable.length)].focus(),!1)}if(tabbable.length>0)return tabbable[tabbable.length-1].focus(),!1}),_export("focusNext",function(dom){var tabbable=Array.from(dom.querySelectorAll(TABBABLE)).filter(function(e){return"none"!==e.style.display}),selected=tabbable.find(function(e){return document.activeElement===e});if(selected){var selection=window.getSelection();return!!(selection&&selection.focusNode&&("LI"===selection.focusNode.nodeName||selection.focusNode.parentNode&&"LI"===selection.focusNode.parentNode.nodeName))||(tabbable[mod(tabbable.indexOf(selected)+1,tabbable.length)].focus(),!1)}if(tabbable.length>0)return tabbable[0].focus(),!1}),_export("isKeyPressed",function(keyCode){for(var _len=arguments.length,keys=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)keys[_key-1]=arguments[_key];return keys.some(function(key){return key.code===keyCode})}),{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_mithril){m=_mithril.default},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_guiBaseButtonN){ButtonType=_guiBaseButtonN.ButtonType},function(_apiCommonUtilsUtils){asyncImport=_apiCommonUtilsUtils.asyncImport,neverNull=_apiCommonUtilsUtils.neverNull},function(_apiCommonUtilsArrayUtils){addAll=_apiCommonUtilsArrayUtils.addAll,removeAll=_apiCommonUtilsArrayUtils.removeAll},function(_guiBaseTextField){TextField=_guiBaseTextField.TextField},function(_ClientDetector){client=_ClientDetector.client},function(_LanguageViewModel){lang=_LanguageViewModel.lang},function(_ClientConstants){BrowserType=_ClientConstants.BrowserType},function(_MathUtils){mod=_MathUtils.mod},function(_apiCommonTutanotaConstants){Keys=_apiCommonTutanotaConstants.Keys}],execute:function(){assertMainOrNodeBoot(),_export("TABBABLE",TABBABLE="button, input, textarea, div[contenteditable='true']"),_export("TABBABLE",TABBABLE),KeyManager=function(){function KeyManager(){var _this=this;_classCallCheck(this,KeyManager);var helpShortcut={key:Keys.F1,exec:function(){asyncImport("undefined"!=typeof module?module.id:_context.id,env.rootPathPrefix+"src/gui/base/Dialog.js").then(function(module){if(!_this._helpDialog||!_this._helpDialog.visible){var textFields=(_this._modalShortcuts.length>1?_this._modalShortcuts:_this._shortcuts).concat(_this._desktopShortcuts).filter(function(shortcut){return null==shortcut.enabled||shortcut.enabled()}).map(function(shortcut){return new TextField(function(){return _this._getShortcutName(shortcut)}).setValue(lang.get(shortcut.help)).setDisabled()});_this._helpDialog=module.Dialog.largeDialog({right:[{label:"close_alt",click:function(){return neverNull(_this._helpDialog).close()},type:ButtonType.Secondary}],middle:function(){return lang.get("keyboardShortcuts_title")}},{view:function(){return m("div.pb",textFields.map(function(t){return m(t)}))}}).addShortcut({key:Keys.ESC,exec:function(){return neverNull(_this._helpDialog).close()},help:"close_alt"}).show()}})},help:"showHelp_action"},helpId=this._createKeyIdentifier(helpShortcut.key.code);this._shortcuts=[helpShortcut],this._modalShortcuts=[helpShortcut],this._keyToShortcut={},this._keyToModalShortcut={},this._desktopShortcuts=[],this._keyToShortcut[helpId]=helpShortcut,this._keyToModalShortcut[helpId]=helpShortcut,window.document.addEventListener&&window.document.addEventListener("keydown",function(e){var keyCode=e.which,shortcut=(_this._modalShortcuts.length>1?_this._keyToModalShortcut:_this._keyToShortcut)[_this._createKeyIdentifier(keyCode,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey)];null==shortcut||null!=shortcut.enabled&&!shortcut.enabled()||!0!==shortcut.exec({keyCode:keyCode,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey,meta:e.metaKey})&&e.preventDefault()},!1)}return _createClass(KeyManager,[{key:"_getShortcutName",value:function(shortcut){return(shortcut.meta?Keys.META.name+" + ":"")+(shortcut.ctrl?Keys.CTRL.name+" + ":"")+(shortcut.shift?Keys.SHIFT.name+" + ":"")+(shortcut.alt?Keys.ALT.name+" + ":"")+shortcut.key.name}},{key:"_createKeyIdentifier",value:function(keycode,ctrl,alt,shift,meta){return keycode+(ctrl?"C":"")+(alt?"A":"")+(shift?"S":"")+(meta?"M":"")}},{key:"registerShortcuts",value:function(shortcuts){Keys.META.code=client.browser===BrowserType.FIREFOX?224:91,addAll(this._shortcuts,shortcuts);var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=shortcuts[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var s=_step.value,_id=this._createKeyIdentifier(s.key.code,s.ctrl,s.alt,s.shift,s.meta);this._keyToShortcut[_id]=s}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"unregisterShortcuts",value:function(shortcuts){removeAll(this._shortcuts,shortcuts);var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=shortcuts[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var s=_step2.value,_id2=this._createKeyIdentifier(s.key.code,s.ctrl,s.alt,s.shift,s.meta);delete this._keyToShortcut[_id2]}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}},{key:"registerModalShortcuts",value:function(shortcuts){addAll(this._modalShortcuts,shortcuts);var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=shortcuts[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var s=_step3.value,_id3=this._createKeyIdentifier(s.key.code,s.ctrl,s.alt,s.shift,s.meta);this._keyToModalShortcut[_id3]=s}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}},{key:"registerDesktopShortcuts",value:function(shortcuts){addAll(this._desktopShortcuts,shortcuts)}},{key:"unregisterModalShortcuts",value:function(shortcuts){removeAll(this._modalShortcuts,shortcuts);var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=shortcuts[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var s=_step4.value,_id4=this._createKeyIdentifier(s.key.code,s.ctrl,s.alt,s.shift,s.meta);delete this._keyToModalShortcut[_id4]}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}}}]),KeyManager}(),_export("keyManager",keyManager=new KeyManager),_export("keyManager",keyManager)}}}),System.registerDynamic("libs/stream.js",[],!0,function($__require,exports,module){this||self;!function(){"use strict";Stream.SKIP={},Stream.lift=function(){var fn=arguments[0];return merge(Array.prototype.slice.call(arguments,1)).map(function(streams){return fn.apply(void 0,streams)})},Stream.scan=function(fn,acc,origin){var stream=origin.map(function(v){var next=fn(acc,v);return next!==Stream.SKIP&&(acc=next),next});return stream(acc),stream},Stream.merge=merge,Stream.combine=combine,Stream.scanMerge=function(tuples,seed){var streams=tuples.map(function(tuple){return tuple[0]}),stream=combine(function(){var changed=arguments[arguments.length-1];return streams.forEach(function(stream,i){changed.indexOf(stream)>-1&&(seed=tuples[i][1](seed,stream()))}),seed},streams);return stream(seed),stream},Stream["fantasy-land/of"]=Stream;var warnedHalt=!1;function Stream(value){var end,dependentStreams=[],dependentFns=[];function stream(v){return arguments.length&&v!==Stream.SKIP&&(value=v,open(stream)&&(stream._changing(),stream._state="active",dependentStreams.forEach(function(s,i){s(dependentFns[i](value))}))),value}return stream.constructor=Stream,stream._state=arguments.length&&value!==Stream.SKIP?"active":"pending",stream._parents=[],stream._changing=function(){open(stream)&&(stream._state="changing"),dependentStreams.forEach(function(s){s._changing()})},stream._map=function(fn,ignoreInitial){var target=ignoreInitial?Stream():Stream(fn(value));return target._parents.push(stream),dependentStreams.push(target),dependentFns.push(fn),target},stream.map=function(fn){return stream._map(fn,"active"!==stream._state)},stream.toJSON=function(){return null!=value&&"function"==typeof value.toJSON?value.toJSON():value},stream["fantasy-land/map"]=stream.map,stream["fantasy-land/ap"]=function(x){return combine(function(s1,s2){return s1()(s2())},[x,stream])},stream._unregisterChild=function(child){var childIndex=dependentStreams.indexOf(child);-1!==childIndex&&(dependentStreams.splice(childIndex,1),dependentFns.splice(childIndex,1))},Object.defineProperty(stream,"end",{get:function(){return end||((end=Stream()).map(function(value){return!0===value&&(stream._parents.forEach(function(p){p._unregisterChild(stream)}),stream._state="ended",stream._parents.length=dependentStreams.length=dependentFns.length=0),value}),end)}}),stream}function combine(fn,streams){var ready=streams.every(function(s){if(s.constructor!==Stream)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return"active"===s._state}),stream=ready?Stream(fn.apply(null,streams.concat([streams]))):Stream(),changed=[],mappers=streams.map(function(s){return s._map(function(value){return changed.push(s),(ready||streams.every(function(s){return"pending"!==s._state}))&&(ready=!0,stream(fn.apply(null,streams.concat([changed]))),changed=[]),value},!0)}),endStream=stream.end.map(function(value){!0===value&&(mappers.forEach(function(mapper){mapper.end(!0)}),endStream.end(!0))});return stream}function merge(streams){return combine(function(){return streams.map(function(s){return s()})},streams)}function open(s){return"pending"===s._state||"active"===s._state||"changing"===s._state}Object.defineProperty(Stream,"HALT",{get:function(){return warnedHalt||console.log("HALT is deprecated and has been renamed to SKIP"),warnedHalt=!0,Stream.SKIP}}),void 0!==module?module.exports=Stream:"function"!=typeof window.m||"stream"in window.m?window.m={stream:Stream}:window.m.stream=Stream}()}),System.register("src/misc/RouteChange.js",["mithril/stream/stream.js","mithril"],function(_export,_context){"use strict";var stream,m,routeChange,navButtonRoutes;return _export("throttleRoute",function(){var lastCall=0;return function(url){var now=(new Date).getTime();m.route.set(url,null,{replace:now-lastCall<200}),lastCall=now}}),{setters:[function(_mithrilStreamStreamJs){stream=_mithrilStreamStreamJs.default},function(_mithril){m=_mithril.default}],execute:function(){_export("routeChange",routeChange=stream()),_export("routeChange",routeChange),_export("MAIL_PREFIX","/mail"),_export("MAIL_PREFIX","/mail"),_export("CONTACTS_PREFIX","/contact"),_export("CONTACTS_PREFIX","/contact"),_export("CALENDAR_PREFIX","/calendar"),_export("CALENDAR_PREFIX","/calendar"),_export("SEARCH_PREFIX","/search"),_export("SEARCH_PREFIX","/search"),_export("SETTINGS_PREFIX","/settings"),_export("SETTINGS_PREFIX","/settings"),_export("navButtonRoutes",navButtonRoutes={mailUrl:"/mail",contactsUrl:"/contact",calendarUrl:"/calendar",settingsUrl:"/settings"}),_export("navButtonRoutes",navButtonRoutes)}}}),System.register("src/misc/Log.js",["node_modules/systemjs-plugin-babel/babel-helpers/toConsumableArray.js","mithril","../api/Env"],function(_export,_context){"use strict";var _toConsumableArray,assertMainOrNodeBoot,Cat,activeCategories;return _export("enable",function(cat){activeCategories.push(cat)}),_export("log",function(category,message){var _console;if(-1!==activeCategories.indexOf(category)){for(var _len=arguments.length,args=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)args[_key-2]=arguments[_key];(_console=console).log.apply(_console,["%c"+category.name,"color:"+category.color,message].concat(_toConsumableArray(args)))}}),_export("timer",function(category){if(-1===activeCategories.indexOf(category))return function(){};var start=window.performance.now();return function(){return Math.round(window.performance.now()-start)}}),{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersToConsumableArrayJs){_toConsumableArray=_node_modulesSystemjsPluginBabelBabelHelpersToConsumableArrayJs.default},function(_mithril){_mithril.default},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot}],execute:function(){assertMainOrNodeBoot(),_export("Cat",Cat={css:{name:"css",color:"orange"},mithril:{name:"mithril",color:"darkgreen"},error:{name:"error",color:"red"},info:{name:"info",color:"lightblue"},debug:{name:"debug",color:"#009688"}}),_export("Cat",Cat),activeCategories=[]}}}),System.register("src/gui/size.js",["../api/Env"],function(_export,_context){"use strict";var assertMainOrNodeBoot,size,inputLineHeight;return _export("px",function(value){return value+"px"}),{setters:[function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot}],execute:function(){assertMainOrNodeBoot(),_export("size",size={icon_size_xl:32,icon_size_large:24,icon_size_medium:16,icon_message_box:80,hpad_small:5,hpad:10,hpad_medium:20,hpad_large:20,hpad_large_mobile:6,hpad_button:6,hpad_nav_button:9,vpad_xs:3,vpad:16,vpad_small:8,vpad_ml:25,vpad_large:32,vpad_xl:48,text_bubble_tpad:20,border_radius:3,border_selection:4,font_size_base:16,font_size_smaller:14,font_size_small:12,button_height:44,button_height_accent:40,button_height_bubble:30,button_icon_bg_size:32,button_floating_size:56,get bubble_border_width(){return(this.button_height-this.button_height_bubble)/2},navbar_height:70,navbar_height_mobile:48,bottom_nav_bar:50,navbar_button_width:80,navbar_edge_width_mobile:58,text_field_label_top:21,header_logo_height:38,header_logo_height_mobile:32,list_row_height:68,column_width_s_desktop:135,column_width_s_mobile:70,line_height:1.428571429,line_height_m:1.6,line_height_l:1.8,get calendar_line_height(){return this.font_size_small+6},calendar_hour_width:80,calendar_hour_width_mobile:60,calendar_hour_height:60,calendar_event_margin:6,calendar_event_margin_mobile:2,drawer_menu_width:44,first_col_min_width:240,first_col_max_width:300,second_col_min_width:300,second_col_max_width:350,third_col_min_width:600,third_col_max_width:2400,get desktop_layout_width(){return this.first_col_min_width+this.second_col_min_width+this.third_col_min_width}}),_export("size",size),_export("inputLineHeight",inputLineHeight=size.font_size_base+8),_export("inputLineHeight",inputLineHeight)}}}),System.register("src/native/SystemApp.js",["./NativeWrapper","../api/common/WorkerProtocol","./FileApp"],function(_export,_context){"use strict";var nativeApp,Request,uriToFileRef;return _export("openLinkNative",function(uri){return nativeApp.invokeNative(new Request("openLink",[uri]))}),_export("reloadNative",function(queryParameters){return nativeApp.invokeNative(new Request("reload",[queryParameters]))}),_export("changeColorTheme",function(theme){return nativeApp.invokeNative(new Request("changeTheme",[theme]))}),_export("getDeviceLogs",function(){return nativeApp.invokeNative(new Request("getDeviceLog",[])).then(uriToFileRef)}),_export("getDesktopLogs",function(){return nativeApp.invokeNative(new Request("getLog",[]))}),{setters:[function(_NativeWrapper){nativeApp=_NativeWrapper.nativeApp},function(_apiCommonWorkerProtocol){Request=_apiCommonWorkerProtocol.Request},function(_FileApp){uriToFileRef=_FileApp.uriToFileRef}],execute:function(){}}}),System.register("src/api/common/error/RestError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./TutanotaError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,TutanotaError,ConnectionError,BadRequestError,NotAuthenticatedError,NotAuthorizedError,NotFoundError,MethodNotAllowedError,PreconditionFailedError,TooManyRequestsError,SessionExpiredError,AccessDeactivatedError,AccessExpiredError,AccessBlockedError,InvalidDataError,InvalidSoftwareVersionError,LimitReachedError,InternalServerError,BadGatewayError,ServiceUnavailableError,InsufficientStorageError,ResourceError;return _export("handleRestError",function(errorCode,path,errorId,precondition){var message=errorCode+": "+(errorId?errorId+" ":"")+(precondition?precondition+" ":"")+path;switch(errorCode){case ConnectionError.CODE:return new ConnectionError(message);case BadRequestError.CODE:return new BadRequestError(message);case NotAuthenticatedError.CODE:return new NotAuthenticatedError(message);case NotAuthorizedError.CODE:return new NotAuthorizedError(message);case NotFoundError.CODE:return new NotFoundError(message);case MethodNotAllowedError.CODE:return new MethodNotAllowedError(message);case PreconditionFailedError.CODE:return new PreconditionFailedError(message,precondition);case TooManyRequestsError.CODE:return new TooManyRequestsError(message);case SessionExpiredError.CODE:return new SessionExpiredError(message);case AccessDeactivatedError.CODE:return new AccessDeactivatedError(message);case AccessExpiredError.CODE:return new AccessExpiredError(message);case AccessBlockedError.CODE:return new AccessBlockedError(message);case InvalidDataError.CODE:return new InvalidDataError(message);case InvalidSoftwareVersionError.CODE:return new InvalidSoftwareVersionError(message);case LimitReachedError.CODE:return new LimitReachedError(message);case InternalServerError.CODE:return new InternalServerError(message);case BadGatewayError.CODE:return new BadGatewayError(message);case ServiceUnavailableError.CODE:return new ServiceUnavailableError(message);case InsufficientStorageError.CODE:return new InsufficientStorageError(message);default:return new ResourceError(message)}}),{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_TutanotaError21){TutanotaError=_TutanotaError21.TutanotaError}],execute:function(){_export("ConnectionError",ConnectionError=function(_TutanotaError){function ConnectionError(msg){return _classCallCheck(this,ConnectionError),_possibleConstructorReturn(this,(ConnectionError.__proto__||Object.getPrototypeOf(ConnectionError)).call(this,"ConnectionError",msg))}return _inherits(ConnectionError,TutanotaError),ConnectionError}()),_export("ConnectionError",ConnectionError),ConnectionError.CODE=0,_export("BadRequestError",BadRequestError=function(_TutanotaError2){function BadRequestError(msg){return _classCallCheck(this,BadRequestError),_possibleConstructorReturn(this,(BadRequestError.__proto__||Object.getPrototypeOf(BadRequestError)).call(this,"BadRequestError",msg))}return _inherits(BadRequestError,TutanotaError),BadRequestError}()),_export("BadRequestError",BadRequestError),BadRequestError.CODE=400,_export("NotAuthenticatedError",NotAuthenticatedError=function(_TutanotaError3){function NotAuthenticatedError(msg){return _classCallCheck(this,NotAuthenticatedError),_possibleConstructorReturn(this,(NotAuthenticatedError.__proto__||Object.getPrototypeOf(NotAuthenticatedError)).call(this,"NotAuthenticatedError",msg))}return _inherits(NotAuthenticatedError,TutanotaError),NotAuthenticatedError}()),_export("NotAuthenticatedError",NotAuthenticatedError),NotAuthenticatedError.CODE=401,_export("NotAuthorizedError",NotAuthorizedError=function(_TutanotaError4){function NotAuthorizedError(msg){return _classCallCheck(this,NotAuthorizedError),_possibleConstructorReturn(this,(NotAuthorizedError.__proto__||Object.getPrototypeOf(NotAuthorizedError)).call(this,"NotAuthorizedError",msg))}return _inherits(NotAuthorizedError,TutanotaError),NotAuthorizedError}()),_export("NotAuthorizedError",NotAuthorizedError),NotAuthorizedError.CODE=403,_export("NotFoundError",NotFoundError=function(_TutanotaError5){function NotFoundError(msg){return _classCallCheck(this,NotFoundError),_possibleConstructorReturn(this,(NotFoundError.__proto__||Object.getPrototypeOf(NotFoundError)).call(this,"NotFoundError",msg))}return _inherits(NotFoundError,TutanotaError),NotFoundError}()),_export("NotFoundError",NotFoundError),NotFoundError.CODE=404,_export("MethodNotAllowedError",MethodNotAllowedError=function(_TutanotaError6){function MethodNotAllowedError(msg){return _classCallCheck(this,MethodNotAllowedError),_possibleConstructorReturn(this,(MethodNotAllowedError.__proto__||Object.getPrototypeOf(MethodNotAllowedError)).call(this,"MethodNotAllowedError",msg))}return _inherits(MethodNotAllowedError,TutanotaError),MethodNotAllowedError}()),_export("MethodNotAllowedError",MethodNotAllowedError),MethodNotAllowedError.CODE=405,_export("PreconditionFailedError",PreconditionFailedError=function(_TutanotaError7){function PreconditionFailedError(msg,reason){_classCallCheck(this,PreconditionFailedError);var _this7=_possibleConstructorReturn(this,(PreconditionFailedError.__proto__||Object.getPrototypeOf(PreconditionFailedError)).call(this,"PreconditionFailedError",msg));return _this7.data=reason,_this7}return _inherits(PreconditionFailedError,TutanotaError),PreconditionFailedError}()),_export("PreconditionFailedError",PreconditionFailedError),PreconditionFailedError.CODE=412,_export("TooManyRequestsError",TooManyRequestsError=function(_TutanotaError8){function TooManyRequestsError(msg){return _classCallCheck(this,TooManyRequestsError),_possibleConstructorReturn(this,(TooManyRequestsError.__proto__||Object.getPrototypeOf(TooManyRequestsError)).call(this,"TooManyRequestsError",msg))}return _inherits(TooManyRequestsError,TutanotaError),TooManyRequestsError}()),_export("TooManyRequestsError",TooManyRequestsError),TooManyRequestsError.CODE=429,_export("SessionExpiredError",SessionExpiredError=function(_TutanotaError9){function SessionExpiredError(msg){return _classCallCheck(this,SessionExpiredError),_possibleConstructorReturn(this,(SessionExpiredError.__proto__||Object.getPrototypeOf(SessionExpiredError)).call(this,"SessionExpiredError",msg))}return _inherits(SessionExpiredError,TutanotaError),SessionExpiredError}()),_export("SessionExpiredError",SessionExpiredError),SessionExpiredError.CODE=440,_export("AccessDeactivatedError",AccessDeactivatedError=function(_TutanotaError10){function AccessDeactivatedError(msg){return _classCallCheck(this,AccessDeactivatedError),_possibleConstructorReturn(this,(AccessDeactivatedError.__proto__||Object.getPrototypeOf(AccessDeactivatedError)).call(this,"AccessDeactivatedError",msg))}return _inherits(AccessDeactivatedError,TutanotaError),AccessDeactivatedError}()),_export("AccessDeactivatedError",AccessDeactivatedError),AccessDeactivatedError.CODE=470,_export("AccessExpiredError",AccessExpiredError=function(_TutanotaError11){function AccessExpiredError(msg){return _classCallCheck(this,AccessExpiredError),_possibleConstructorReturn(this,(AccessExpiredError.__proto__||Object.getPrototypeOf(AccessExpiredError)).call(this,"AccessExpiredError",msg))}return _inherits(AccessExpiredError,TutanotaError),AccessExpiredError}()),_export("AccessExpiredError",AccessExpiredError),AccessExpiredError.CODE=471,_export("AccessBlockedError",AccessBlockedError=function(_TutanotaError12){function AccessBlockedError(msg){return _classCallCheck(this,AccessBlockedError),_possibleConstructorReturn(this,(AccessBlockedError.__proto__||Object.getPrototypeOf(AccessBlockedError)).call(this,"AccessBlockedError",msg))}return _inherits(AccessBlockedError,TutanotaError),AccessBlockedError}()),_export("AccessBlockedError",AccessBlockedError),AccessBlockedError.CODE=472,_export("InvalidDataError",InvalidDataError=function(_TutanotaError13){function InvalidDataError(msg){return _classCallCheck(this,InvalidDataError),_possibleConstructorReturn(this,(InvalidDataError.__proto__||Object.getPrototypeOf(InvalidDataError)).call(this,"InvalidDataError",msg))}return _inherits(InvalidDataError,TutanotaError),InvalidDataError}()),_export("InvalidDataError",InvalidDataError),InvalidDataError.CODE=473,_export("InvalidSoftwareVersionError",InvalidSoftwareVersionError=function(_TutanotaError14){function InvalidSoftwareVersionError(msg){return _classCallCheck(this,InvalidSoftwareVersionError),_possibleConstructorReturn(this,(InvalidSoftwareVersionError.__proto__||Object.getPrototypeOf(InvalidSoftwareVersionError)).call(this,"InvalidSoftwareVersionError",msg))}return _inherits(InvalidSoftwareVersionError,TutanotaError),InvalidSoftwareVersionError}()),_export("InvalidSoftwareVersionError",InvalidSoftwareVersionError),InvalidSoftwareVersionError.CODE=474,_export("LimitReachedError",LimitReachedError=function(_TutanotaError15){function LimitReachedError(msg){return _classCallCheck(this,LimitReachedError),_possibleConstructorReturn(this,(LimitReachedError.__proto__||Object.getPrototypeOf(LimitReachedError)).call(this,"LimitReachedError",msg))}return _inherits(LimitReachedError,TutanotaError),LimitReachedError}()),_export("LimitReachedError",LimitReachedError),LimitReachedError.CODE=475,_export("InternalServerError",InternalServerError=function(_TutanotaError16){function InternalServerError(msg){return _classCallCheck(this,InternalServerError),_possibleConstructorReturn(this,(InternalServerError.__proto__||Object.getPrototypeOf(InternalServerError)).call(this,"InternalServerError",msg))}return _inherits(InternalServerError,TutanotaError),InternalServerError}()),_export("InternalServerError",InternalServerError),InternalServerError.CODE=500,_export("BadGatewayError",BadGatewayError=function(_TutanotaError17){function BadGatewayError(msg){return _classCallCheck(this,BadGatewayError),_possibleConstructorReturn(this,(BadGatewayError.__proto__||Object.getPrototypeOf(BadGatewayError)).call(this,"BadGatewayError",msg))}return _inherits(BadGatewayError,TutanotaError),BadGatewayError}()),_export("BadGatewayError",BadGatewayError),BadGatewayError.CODE=502,_export("ServiceUnavailableError",ServiceUnavailableError=function(_TutanotaError18){function ServiceUnavailableError(msg){return _classCallCheck(this,ServiceUnavailableError),_possibleConstructorReturn(this,(ServiceUnavailableError.__proto__||Object.getPrototypeOf(ServiceUnavailableError)).call(this,"ServiceUnavailableError",msg))}return _inherits(ServiceUnavailableError,TutanotaError),ServiceUnavailableError}()),_export("ServiceUnavailableError",ServiceUnavailableError),ServiceUnavailableError.CODE=503,_export("InsufficientStorageError",InsufficientStorageError=function(_TutanotaError19){function InsufficientStorageError(msg){return _classCallCheck(this,InsufficientStorageError),_possibleConstructorReturn(this,(InsufficientStorageError.__proto__||Object.getPrototypeOf(InsufficientStorageError)).call(this,"InsufficientStorageError",msg))}return _inherits(InsufficientStorageError,TutanotaError),InsufficientStorageError}()),_export("InsufficientStorageError",InsufficientStorageError),InsufficientStorageError.CODE=507,_export("ResourceError",ResourceError=function(_TutanotaError20){function ResourceError(msg){return _classCallCheck(this,ResourceError),_possibleConstructorReturn(this,(ResourceError.__proto__||Object.getPrototypeOf(ResourceError)).call(this,"ResourceError",msg))}return _inherits(ResourceError,TutanotaError),ResourceError}()),_export("ResourceError",ResourceError)}}}),System.register("src/api/common/error/ProgrammingError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./TutanotaError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,TutanotaError,ProgrammingError;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_TutanotaError2){TutanotaError=_TutanotaError2.TutanotaError}],execute:function(){_export("ProgrammingError",ProgrammingError=function(_TutanotaError){function ProgrammingError(m){return _classCallCheck(this,ProgrammingError),_possibleConstructorReturn(this,(ProgrammingError.__proto__||Object.getPrototypeOf(ProgrammingError)).call(this,"ProgrammingError",m))}return _inherits(ProgrammingError,TutanotaError),ProgrammingError}()),_export("ProgrammingError",ProgrammingError)}}}),System.register("src/api/common/error/RecipientsNotFoundError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./TutanotaError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,TutanotaError,RecipientsNotFoundError;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_TutanotaError2){TutanotaError=_TutanotaError2.TutanotaError}],execute:function(){_export("RecipientsNotFoundError",RecipientsNotFoundError=function(_TutanotaError){function RecipientsNotFoundError(m){return _classCallCheck(this,RecipientsNotFoundError),_possibleConstructorReturn(this,(RecipientsNotFoundError.__proto__||Object.getPrototypeOf(RecipientsNotFoundError)).call(this,"RecipientsNotFoundError",m))}return _inherits(RecipientsNotFoundError,TutanotaError),RecipientsNotFoundError}()),_export("RecipientsNotFoundError",RecipientsNotFoundError)}}}),System.register("src/api/common/error/PermissionError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./TutanotaError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,TutanotaError,PermissionError;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_TutanotaError2){TutanotaError=_TutanotaError2.TutanotaError}],execute:function(){_export("PermissionError",PermissionError=function(_TutanotaError){function PermissionError(m){return _classCallCheck(this,PermissionError),_possibleConstructorReturn(this,(PermissionError.__proto__||Object.getPrototypeOf(PermissionError)).call(this,"PermissionError",m))}return _inherits(PermissionError,TutanotaError),PermissionError}()),_export("PermissionError",PermissionError)}}}),System.register("src/api/common/error/OutOfSyncError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./TutanotaError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,TutanotaError,OutOfSyncError;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_TutanotaError2){TutanotaError=_TutanotaError2.TutanotaError}],execute:function(){_export("OutOfSyncError",OutOfSyncError=function(_TutanotaError){function OutOfSyncError(){return _classCallCheck(this,OutOfSyncError),_possibleConstructorReturn(this,(OutOfSyncError.__proto__||Object.getPrototypeOf(OutOfSyncError)).call(this,"OutOfSyncError",""))}return _inherits(OutOfSyncError,TutanotaError),OutOfSyncError}()),_export("OutOfSyncError",OutOfSyncError)}}}),System.register("src/api/common/error/SecondFactorPendingError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./TutanotaError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,TutanotaError,SecondFactorPendingError;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_TutanotaError2){TutanotaError=_TutanotaError2.TutanotaError}],execute:function(){_export("SecondFactorPendingError",SecondFactorPendingError=function(_TutanotaError){function SecondFactorPendingError(sessionId,challenges,mailAddress){_classCallCheck(this,SecondFactorPendingError);var _this=_possibleConstructorReturn(this,(SecondFactorPendingError.__proto__||Object.getPrototypeOf(SecondFactorPendingError)).call(this,"SecondFactorPendingError",""));return _this.data={sessionId:sessionId,challenges:challenges,mailAddress:mailAddress},_this}return _inherits(SecondFactorPendingError,TutanotaError),SecondFactorPendingError}()),_export("SecondFactorPendingError",SecondFactorPendingError)}}}),System.register("src/api/common/error/SessionKeyNotFoundError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./TutanotaError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,TutanotaError,SessionKeyNotFoundError;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_TutanotaError2){TutanotaError=_TutanotaError2.TutanotaError}],execute:function(){_export("SessionKeyNotFoundError",SessionKeyNotFoundError=function(_TutanotaError){function SessionKeyNotFoundError(message){return _classCallCheck(this,SessionKeyNotFoundError),_possibleConstructorReturn(this,(SessionKeyNotFoundError.__proto__||Object.getPrototypeOf(SessionKeyNotFoundError)).call(this,"SessionKeyNotFoundError",message))}return _inherits(SessionKeyNotFoundError,TutanotaError),SessionKeyNotFoundError}()),_export("SessionKeyNotFoundError",SessionKeyNotFoundError)}}}),System.register("src/api/common/error/CancelledError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./TutanotaError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,TutanotaError,CancelledError;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_TutanotaError2){TutanotaError=_TutanotaError2.TutanotaError}],execute:function(){_export("CancelledError",CancelledError=function(_TutanotaError){function CancelledError(message){return _classCallCheck(this,CancelledError),_possibleConstructorReturn(this,(CancelledError.__proto__||Object.getPrototypeOf(CancelledError)).call(this,"CancelledError",message))}return _inherits(CancelledError,TutanotaError),CancelledError}()),_export("CancelledError",CancelledError)}}}),System.register("src/api/common/error/RecipientNotResolvedError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./TutanotaError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,TutanotaError,RecipientNotResolvedError;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_TutanotaError2){TutanotaError=_TutanotaError2.TutanotaError}],execute:function(){_export("RecipientNotResolvedError",RecipientNotResolvedError=function(_TutanotaError){function RecipientNotResolvedError(m){return _classCallCheck(this,RecipientNotResolvedError),_possibleConstructorReturn(this,(RecipientNotResolvedError.__proto__||Object.getPrototypeOf(RecipientNotResolvedError)).call(this,"RecipientNotResolvedError",m))}return _inherits(RecipientNotResolvedError,TutanotaError),RecipientNotResolvedError}()),_export("RecipientNotResolvedError",RecipientNotResolvedError)}}}),System.register("src/api/common/error/FileNotFoundError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./TutanotaError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,TutanotaError,FileNotFoundError;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_TutanotaError2){TutanotaError=_TutanotaError2.TutanotaError}],execute:function(){_export("FileNotFoundError",FileNotFoundError=function(_TutanotaError){function FileNotFoundError(msg){return _classCallCheck(this,FileNotFoundError),_possibleConstructorReturn(this,(FileNotFoundError.__proto__||Object.getPrototypeOf(FileNotFoundError)).call(this,"FileNotFoundError",msg))}return _inherits(FileNotFoundError,TutanotaError),FileNotFoundError}()),_export("FileNotFoundError",FileNotFoundError)}}}),System.register("src/api/common/error/FileOpenError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./TutanotaError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,TutanotaError,FileOpenError;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_TutanotaError2){TutanotaError=_TutanotaError2.TutanotaError}],execute:function(){_export("FileOpenError",FileOpenError=function(_TutanotaError){function FileOpenError(message){return _classCallCheck(this,FileOpenError),_possibleConstructorReturn(this,(FileOpenError.__proto__||Object.getPrototypeOf(FileOpenError)).call(this,"FileOpenError",message))}return _inherits(FileOpenError,TutanotaError),FileOpenError}()),_export("FileOpenError",FileOpenError)}}}),System.register("src/api/common/error/SseError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./TutanotaError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,TutanotaError,SseError;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_TutanotaError2){TutanotaError=_TutanotaError2.TutanotaError}],execute:function(){_export("SseError",SseError=function(_TutanotaError){function SseError(m){return _classCallCheck(this,SseError),_possibleConstructorReturn(this,(SseError.__proto__||Object.getPrototypeOf(SseError)).call(this,"SseError",m))}return _inherits(SseError,TutanotaError),SseError}()),_export("SseError",SseError)}}}),System.register("src/api/common/error/IndexingNotSupportedError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./DbError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,DbError,IndexingNotSupportedError;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_DbError2){DbError=_DbError2.DbError}],execute:function(){_export("IndexingNotSupportedError",IndexingNotSupportedError=function(_DbError){function IndexingNotSupportedError(message,error){_classCallCheck(this,IndexingNotSupportedError);var _this=_possibleConstructorReturn(this,(IndexingNotSupportedError.__proto__||Object.getPrototypeOf(IndexingNotSupportedError)).call(this,message,error));return _this.name="IndexingNotSupportedError",_this}return _inherits(IndexingNotSupportedError,DbError),IndexingNotSupportedError}()),_export("IndexingNotSupportedError",IndexingNotSupportedError)}}}),System.register("src/api/common/error/DbError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./TutanotaError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,TutanotaError,DbError;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_TutanotaError2){TutanotaError=_TutanotaError2.TutanotaError}],execute:function(){_export("DbError",DbError=function(_TutanotaError){function DbError(message,error){_classCallCheck(this,DbError);var _this=_possibleConstructorReturn(this,(DbError.__proto__||Object.getPrototypeOf(DbError)).call(this,"DbError",error?message+": "+error.name+", "+error.message+"> "+(error.stack?error.stack:error.message):message));return _this.error=error,_this}return _inherits(DbError,TutanotaError),DbError}()),_export("DbError",DbError)}}}),System.register("src/api/common/error/QuotaExceededError.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/possibleConstructorReturn.js","node_modules/systemjs-plugin-babel/babel-helpers/inherits.js","./DbError"],function(_export,_context){"use strict";var _classCallCheck,_possibleConstructorReturn,_inherits,DbError,QuotaExceededError;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs){_possibleConstructorReturn=_node_modulesSystemjsPluginBabelBabelHelpersPossibleConstructorReturnJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs){_inherits=_node_modulesSystemjsPluginBabelBabelHelpersInheritsJs.default},function(_DbError2){DbError=_DbError2.DbError}],execute:function(){_export("QuotaExceededError",QuotaExceededError=function(_DbError){function QuotaExceededError(message,error){_classCallCheck(this,QuotaExceededError);var _this=_possibleConstructorReturn(this,(QuotaExceededError.__proto__||Object.getPrototypeOf(QuotaExceededError)).call(this,message,error));return _this.name="QuotaExceededError",_this}return _inherits(QuotaExceededError,DbError),QuotaExceededError}()),_export("QuotaExceededError",QuotaExceededError)}}}),System.register("src/api/common/WorkerProtocol.js",["node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","../Env","./error/RestError","./error/ProgrammingError","./error/RecipientsNotFoundError","./error/CryptoError","./error/PermissionError","./error/OutOfSyncError","./error/SecondFactorPendingError","./error/SessionKeyNotFoundError","./error/DbError","./error/CancelledError","./error/RecipientNotResolvedError","./error/FileNotFoundError","./error/FileOpenError","./error/SseError","./error/IndexingNotSupportedError","./error/QuotaExceededError"],function(_export,_context){"use strict";var _createClass,_classCallCheck,isWorker,AccessBlockedError,AccessDeactivatedError,AccessExpiredError,BadGatewayError,BadRequestError,ConnectionError,InsufficientStorageError,InternalServerError,InvalidDataError,InvalidSoftwareVersionError,LimitReachedError,MethodNotAllowedError,NotAuthenticatedError,NotAuthorizedError,NotFoundError,PreconditionFailedError,ResourceError,ServiceUnavailableError,SessionExpiredError,TooManyRequestsError,ProgrammingError,RecipientsNotFoundError,CryptoError,PermissionError,OutOfSyncError,SecondFactorPendingError,SessionKeyNotFoundError,DbError,CancelledError,RecipientNotResolvedError,FileNotFoundError,FileOpenError,SseError,IndexingNotSupportedError,QuotaExceededError,Request,Response,RequestError,Queue,requestId,ErrorNameToType;function errorToObj(error){return{name:error.name,message:error.message,stack:error.stack,data:error.data}}function objToError(o){var errorType=ErrorNameToType[o.name],e=null!=errorType?new errorType(o.message):new Error(o.message);return e.name=o.name,e.stack=o.stack||e.stack,e.data=o.data,e}return _export("errorToObj",errorToObj),_export("objToError",objToError),{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_Env){isWorker=_Env.isWorker},function(_errorRestError){AccessBlockedError=_errorRestError.AccessBlockedError,AccessDeactivatedError=_errorRestError.AccessDeactivatedError,AccessExpiredError=_errorRestError.AccessExpiredError,BadGatewayError=_errorRestError.BadGatewayError,BadRequestError=_errorRestError.BadRequestError,ConnectionError=_errorRestError.ConnectionError,InsufficientStorageError=_errorRestError.InsufficientStorageError,InternalServerError=_errorRestError.InternalServerError,InvalidDataError=_errorRestError.InvalidDataError,InvalidSoftwareVersionError=_errorRestError.InvalidSoftwareVersionError,LimitReachedError=_errorRestError.LimitReachedError,MethodNotAllowedError=_errorRestError.MethodNotAllowedError,NotAuthenticatedError=_errorRestError.NotAuthenticatedError,NotAuthorizedError=_errorRestError.NotAuthorizedError,NotFoundError=_errorRestError.NotFoundError,PreconditionFailedError=_errorRestError.PreconditionFailedError,ResourceError=_errorRestError.ResourceError,ServiceUnavailableError=_errorRestError.ServiceUnavailableError,SessionExpiredError=_errorRestError.SessionExpiredError,TooManyRequestsError=_errorRestError.TooManyRequestsError},function(_errorProgrammingError){ProgrammingError=_errorProgrammingError.ProgrammingError},function(_errorRecipientsNotFoundError){RecipientsNotFoundError=_errorRecipientsNotFoundError.RecipientsNotFoundError},function(_errorCryptoError){CryptoError=_errorCryptoError.CryptoError},function(_errorPermissionError){PermissionError=_errorPermissionError.PermissionError},function(_errorOutOfSyncError){OutOfSyncError=_errorOutOfSyncError.OutOfSyncError},function(_errorSecondFactorPendingError){SecondFactorPendingError=_errorSecondFactorPendingError.SecondFactorPendingError},function(_errorSessionKeyNotFoundError){SessionKeyNotFoundError=_errorSessionKeyNotFoundError.SessionKeyNotFoundError},function(_errorDbError){DbError=_errorDbError.DbError},function(_errorCancelledError){CancelledError=_errorCancelledError.CancelledError},function(_errorRecipientNotResolvedError){RecipientNotResolvedError=_errorRecipientNotResolvedError.RecipientNotResolvedError},function(_errorFileNotFoundError){FileNotFoundError=_errorFileNotFoundError.FileNotFoundError},function(_errorFileOpenError){FileOpenError=_errorFileOpenError.FileOpenError},function(_errorSseError){SseError=_errorSseError.SseError},function(_errorIndexingNotSupportedError){IndexingNotSupportedError=_errorIndexingNotSupportedError.IndexingNotSupportedError},function(_errorQuotaExceededError){QuotaExceededError=_errorQuotaExceededError.QuotaExceededError}],execute:function(){_export("Request",Request=function Request(type,args){_classCallCheck(this,Request),this.type=type,this.id=(requestId>=Number.MAX_SAFE_INTEGER&&(requestId=0),(isWorker()?"worker":"main")+requestId++),this.args=Array.from(args)}),_export("Request",Request),_export("Response",Response=function Response(request,value){_classCallCheck(this,Response),this.type="response",this.id=request.id,this.value=value}),_export("Response",Response),_export("RequestError",RequestError=function RequestError(request,error){_classCallCheck(this,RequestError),this.type="requestError",this.id=request.id,this.error=errorToObj(error)}),_export("RequestError",RequestError),_export("Queue",Queue=function(){function Queue(transport){var _this=this;_classCallCheck(this,Queue),this._queue={},this._transport=transport,null!=this._transport&&(this._transport.onmessage=function(msg){return _this._handleMessage(msg.data)})}return _createClass(Queue,[{key:"postMessage",value:function(msg){var _this2=this;return Promise.fromCallback(function(cb){_this2._queue[msg.id]=cb;try{_this2._transport.postMessage(msg)}catch(e){throw console.log("error payload:",msg),e}})}},{key:"_handleMessage",value:function(message){var _this3=this;if("response"===message.type)this._queue[message.id](null,message.value),delete this._queue[message.id];else if("requestError"===message.type)this._queue[message.id](objToError(message.error),null),delete this._queue[message.id];else{var command=this._commands[message.type],request=message;if(null!=command)command(request).then(function(value){_this3._transport.postMessage(new Response(request,value))}).catch(function(e){_this3._transport.postMessage(new RequestError(request,e))});else{var error=new Error("unexpected request: "+JSON.stringify(message));if(!isWorker())throw error;this._transport.postMessage(new RequestError(request,error))}}}},{key:"setCommands",value:function(commands){this._commands=commands}}]),Queue}()),_export("Queue",Queue),requestId=0,ErrorNameToType={ConnectionError:ConnectionError,BadRequestError:BadRequestError,NotAuthenticatedError:NotAuthenticatedError,SessionExpiredError:SessionExpiredError,NotAuthorizedError:NotAuthorizedError,NotFoundError:NotFoundError,MethodNotAllowedError:MethodNotAllowedError,PreconditionFailedError:PreconditionFailedError,TooManyRequestsError:TooManyRequestsError,AccessDeactivatedError:AccessDeactivatedError,AccessExpiredError:AccessExpiredError,AccessBlockedError:AccessBlockedError,InvalidDataError:InvalidDataError,InvalidSoftwareVersionError:InvalidSoftwareVersionError,LimitReachedError:LimitReachedError,InternalServerError:InternalServerError,BadGatewayError:BadGatewayError,ResourceError:ResourceError,InsufficientStorageError:InsufficientStorageError,CryptoError:CryptoError,SessionKeyNotFoundError:SessionKeyNotFoundError,SseError:SseError,ProgrammingError:ProgrammingError,RecipientsNotFoundError:RecipientsNotFoundError,RecipientNotResolvedError:RecipientNotResolvedError,OutOfSyncError:OutOfSyncError,SecondFactorPendingError:SecondFactorPendingError,ServiceUnavailableError:ServiceUnavailableError,DbError:DbError,IndexingNotSupportedError:IndexingNotSupportedError,QuotaExceededError:QuotaExceededError,CancelledError:CancelledError,FileOpenError:FileOpenError,Error:Error,"java.net.SocketTimeoutException":ConnectionError,"java.net.ConnectException":ConnectionError,"javax.net.ssl.SSLException":ConnectionError,"javax.net.ssl.SSLHandshakeException":ConnectionError,"java.io.EOFException":ConnectionError,"java.net.UnknownHostException":ConnectionError,"java.lang.SecurityException":PermissionError,"java.io.FileNotFoundException":FileNotFoundError,"de.tutao.tutanota.CryptoError":CryptoError,"de.tutao.tutanota.TutCrypto":CryptoError,"android.content.ActivityNotFoundException":FileOpenError,"de.tutao.tutanota.TutFileViewer":FileOpenError,NSURLErrorDomain:ConnectionError}}}}),System.register("src/native/FileApp.js",["./NativeWrapper","../api/common/WorkerProtocol","../api/common/utils/Encoding"],function(_export,_context){"use strict";var nativeApp,Request,uint8ArrayToBase64,fileApp;function open(file){return nativeApp.invokeNative(new Request("open",[file.location,file.mimeType]))}function openFileChooser(boundingRect){var srcRect={x:boundingRect.left,y:boundingRect.top,width:boundingRect.width,height:boundingRect.height};return nativeApp.invokeNative(new Request("openFileChooser",[srcRect,!1])).map(uriToFileRef)}function openFolderChooser(){return nativeApp.invokeNative(new Request("openFileChooser",[null,!0]))}function deleteFile(file){return nativeApp.invokeNative(new Request("deleteFile",[file]))}function getName(file){return nativeApp.invokeNative(new Request("getName",[file]))}function getMimeType(file){return nativeApp.invokeNative(new Request("getMimeType",[file]))}function getSize(file){return nativeApp.invokeNative(new Request("getSize",[file])).then(function(sizeString){return Number(sizeString)})}function saveBlob(data){return nativeApp.invokeNative(new Request("saveBlob",[data.name,uint8ArrayToBase64(data.data)]))}function upload(fileUrl,targetUrl,headers){return nativeApp.invokeNative(new Request("upload",[fileUrl,targetUrl,headers]))}function download(sourceUrl,filename,headers){return nativeApp.invokeNative(new Request("download",[sourceUrl,filename,headers]))}function clearFileData(){return nativeApp.invokeNative(new Request("clearFileData",[]))}function readFile(path){return nativeApp.invokeNative(new Request("readFile",[path]))}function uriToFileRef(uri){return Promise.join(getName(uri),getMimeType(uri),getSize(uri),function(name,mimeType,size){return{_type:"FileReference",name:name,mimeType:mimeType,size:size,location:uri}})}return _export("getName",getName),_export("getMimeType",getMimeType),_export("getSize",getSize),_export("putFileIntoDownloadsFolder",function(localFileUri){return nativeApp.invokeNative(new Request("putFileIntoDownloads",[localFileUri]))}),_export("uriToFileRef",uriToFileRef),{setters:[function(_NativeWrapper){nativeApp=_NativeWrapper.nativeApp},function(_apiCommonWorkerProtocol){Request=_apiCommonWorkerProtocol.Request},function(_apiCommonUtilsEncoding){uint8ArrayToBase64=_apiCommonUtilsEncoding.uint8ArrayToBase64}],execute:function(){_export("fileApp",fileApp={openFileChooser:openFileChooser,openFolderChooser:openFolderChooser,download:download,upload:upload,open:open,deleteFile:deleteFile,clearFileData:clearFileData,readFile:readFile,saveBlob:saveBlob}),_export("fileApp",fileApp)}}}),System.register("src/native/NativeWrapperCommands.js",["node_modules/systemjs-plugin-babel/babel-helpers/slicedToArray.js","../api/common/WorkerProtocol","./FileApp","../api/common/utils/Utils","../api/common/TutanotaConstants"],function(_export,_context){"use strict";var _slicedToArray,getMimeType,getName,getSize,asyncImport,CloseEventBusOption,SECOND_MS,createMailEditor,showAlertDialog,openMailbox,openCalendar,print,openFindInPage,applySearchResultToOverlay,addShortcuts,disconnectTimeoutId,appCommands,desktopCommands;function reportError(msg){return Promise.join(_asyncImport("src/misc/ErrorHandlerImpl.js"),_asyncImport("src/api/main/LoginController.js"),function(_ref2,_ref3){var promptForFeedbackAndSend=_ref2.promptForFeedbackAndSend;return _ref3.logins.waitForUserLogin().then(function(){return promptForFeedbackAndSend(msg.args[0],!1)})})}function _asyncImport(path){return asyncImport("undefined"!=typeof module?module.id:_context.id,""+env.rootPathPrefix+path)}function visibilityChange(msg){return console.log("native visibility change",msg.args[0]),_asyncImport("src/api/main/WorkerClient.js").then(function(_ref4){var worker=_ref4.worker;msg.args[0]?(null!=disconnectTimeoutId&&(clearTimeout(disconnectTimeoutId),disconnectTimeoutId=null),worker.tryReconnectEventBus(!1,!0)):disconnectTimeoutId=setTimeout(function(){worker.closeEventBus(CloseEventBusOption.Pause)},30*SECOND_MS)})}function invalidateAlarms(msg){return _asyncImport("src/native/PushServiceApp.js").then(function(_ref5){return _ref5.pushServiceApp.invalidateAlarms()})}return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersSlicedToArrayJs){_slicedToArray=_node_modulesSystemjsPluginBabelBabelHelpersSlicedToArrayJs.default},function(_apiCommonWorkerProtocol){_apiCommonWorkerProtocol.Request},function(_FileApp){getMimeType=_FileApp.getMimeType,getName=_FileApp.getName,getSize=_FileApp.getSize},function(_apiCommonUtilsUtils){asyncImport=_apiCommonUtilsUtils.asyncImport},function(_apiCommonTutanotaConstants){CloseEventBusOption=_apiCommonTutanotaConstants.CloseEventBusOption,SECOND_MS=_apiCommonTutanotaConstants.SECOND_MS}],execute:function(){print=function(){return window.print(),Promise.resolve()},openFindInPage=function(){return _asyncImport("src/gui/base/SearchInPageOverlay.js").then(function(module){return module.searchInPageOverlay.open(),Promise.resolve()})},applySearchResultToOverlay=function(result){return _asyncImport("src/gui/base/SearchInPageOverlay.js").then(function(module){var _result$args$=result.args[0],activeMatchOrdinal=_result$args$.activeMatchOrdinal,matches=_result$args$.matches;return module.searchInPageOverlay.applyNextResult(activeMatchOrdinal,matches),Promise.resolve()})},addShortcuts=function(msg){return msg.args.forEach(function(a){return a.exec=function(){return!0}}),_asyncImport("src/misc/KeyManager.js").then(function(module){module.keyManager.registerDesktopShortcuts(msg.args)})},disconnectTimeoutId=void 0,_export("appCommands",appCommands={createMailEditor:createMailEditor=function(msg){return Promise.all([_asyncImport("src/mail/MailModel.js"),_asyncImport("src/mail/MailEditor.js"),_asyncImport("src/mail/MailUtils.js"),_asyncImport("src/api/main/LoginController.js")]).spread(function(mailModelModule,mailEditorModule,mailUtilsModule,_ref){var logins=_ref.logins,_msg$args=_slicedToArray(msg.args,5),filesUris=_msg$args[0],text=_msg$args[1],addresses=_msg$args[2],subject=_msg$args[3],mailToUrl=_msg$args[4];return logins.waitForUserLogin().then(function(){return Promise.join(mailToUrl?[]:function(filesUris){return Promise.all(filesUris.map(function(uri){return Promise.join(getName(uri),getMimeType(uri),getSize(uri),function(name,mimeType,size){return{_type:"FileReference",name:name,mimeType:mimeType,size:size,location:uri}})}))}(filesUris),mailModelModule.mailModel.getUserMailboxDetails(),function(files,mailboxDetails){var editor=new mailEditorModule.MailEditor(mailboxDetails),editorInit=void 0;if(mailToUrl)editorInit=editor.initWithMailtoUrl(mailToUrl,!1);else{var address=addresses?addresses.shift():"",recipients=address?{to:[{name:"",address:address}]}:{},finalSubject=subject||(files.length>0?files[0].name:"");editorInit=editor.initWithTemplate(recipients,finalSubject,(text||"")+mailUtilsModule.getEmailSignature(),null)}return editorInit.then(function(){editor.attachFiles(files),editor.show()})})})})},showAlertDialog:showAlertDialog=function(msg){return _asyncImport("src/gui/base/Dialog.js").then(function(module){return module.Dialog.error(msg.args[0])})},openMailbox:openMailbox=function(msg){return _asyncImport("src/native/OpenMailboxHandler.js").then(function(module){return module.openMailbox(msg.args[0],msg.args[1],msg.args[2])})},openCalendar:openCalendar=function(msg){return _asyncImport("src/native/OpenMailboxHandler.js").then(function(module){return module.openCalendar(msg.args[0])})},invalidateAlarms:invalidateAlarms,keyboardSizeChanged:function(msg){return _asyncImport("src/misc/WindowFacade.js").then(function(module){return module.windowFacade.onKeyboardSizeChanged(Number(msg.args[0]))})},visibilityChange:visibilityChange,handleBackPress:function(){return _asyncImport("src/native/DeviceButtonHandler.js").then(function(module){return module.handleBackPress()})}}),_export("appCommands",appCommands),_export("desktopCommands",desktopCommands={createMailEditor:createMailEditor,showAlertDialog:showAlertDialog,openMailbox:openMailbox,openCalendar:openCalendar,invalidateAlarms:invalidateAlarms,print:print,openFindInPage:openFindInPage,applySearchResultToOverlay:applySearchResultToOverlay,reportError:reportError,addShortcuts:addShortcuts}),_export("desktopCommands",desktopCommands)}}}),System.register("src/native/NativeWrapper.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","../api/common/WorkerProtocol","../api/common/error/RestError","../api/common/utils/Utils","../api/Env","../api/common/utils/Encoding","./NativeWrapperCommands.js"],function(_export,_context){"use strict";var _classCallCheck,_createClass,Queue,Request,defer,neverNull,isMainOrNode,Mode,base64ToUint8Array,utf8Uint8ArrayToString,appCommands,desktopCommands,NativeWrapper,nativeApp;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_apiCommonWorkerProtocol){Queue=_apiCommonWorkerProtocol.Queue,Request=_apiCommonWorkerProtocol.Request},function(_apiCommonErrorRestError){_apiCommonErrorRestError.ConnectionError},function(_apiCommonUtilsUtils){defer=_apiCommonUtilsUtils.defer,neverNull=_apiCommonUtilsUtils.neverNull},function(_apiEnv){isMainOrNode=_apiEnv.isMainOrNode,Mode=_apiEnv.Mode},function(_apiCommonUtilsEncoding){base64ToUint8Array=_apiCommonUtilsEncoding.base64ToUint8Array,utf8Uint8ArrayToString=_apiCommonUtilsEncoding.utf8Uint8ArrayToString},function(_NativeWrapperCommandsJs){appCommands=_NativeWrapperCommandsJs.appCommands,desktopCommands=_NativeWrapperCommandsJs.desktopCommands}],execute:function(){NativeWrapper=function(){function NativeWrapper(){var _this=this;_classCallCheck(this,NativeWrapper),this._initialized=defer(),this.handleMessageObject=function(msg){neverNull(_this._nativeQueue)._handleMessage(msg)}}return _createClass(NativeWrapper,[{key:"init",value:function(){var _this2=this;!isMainOrNode()||env.mode!==Mode.App&&env.mode!==Mode.Desktop||(window.tutao.nativeApp=this,this._nativeQueue=new Queue({postMessage:function(msg){window.nativeApp.invoke(JSON.stringify(msg))}}),this._nativeQueue.setCommands(env.mode===Mode.App?appCommands:desktopCommands),this.invokeNative(new Request("init",[])).then(function(platformId){env.platformId=platformId,_this2._initialized.resolve()}))}},{key:"invokeNative",value:function(msg){return this._workerQueue?this._workerQueue.postMessage(new Request("execNative",[msg.type,msg.args])):neverNull(this._nativeQueue).postMessage(msg)}},{key:"handleMessageFromNative",value:function(msg64){var msg=utf8Uint8ArrayToString(base64ToUint8Array(msg64));neverNull(this._nativeQueue)._handleMessage(JSON.parse(msg))}},{key:"_replacement",value:function(char){}},{key:"setWorkerQueue",value:function(queue){this._workerQueue=queue,this._nativeQueue=null}},{key:"initialized",value:function(){return this._initialized.promise}}]),NativeWrapper}(),_export("nativeApp",nativeApp=new NativeWrapper),_export("nativeApp",nativeApp)}}}),System.register("src/api/main/LoginController.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","../common/utils/Utils","../Env"],function(_export,_context){"use strict";var _classCallCheck,_createClass,defer,neverNull,assertMainOrNodeBoot,getHttpOrigin,LoginController,logins;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_commonUtilsUtils){defer=_commonUtilsUtils.defer,neverNull=_commonUtilsUtils.neverNull},function(_Env){assertMainOrNodeBoot=_Env.assertMainOrNodeBoot,getHttpOrigin=_Env.getHttpOrigin}],execute:function(){assertMainOrNodeBoot(),_export("LoginController",LoginController=function(){function LoginController(){_classCallCheck(this,LoginController),this.waitForLogin=defer()}return _createClass(LoginController,[{key:"isUserLoggedIn",value:function(){return null!=this._userController}},{key:"waitForUserLogin",value:function(){return this.waitForLogin.promise}},{key:"loginComplete",value:function(){this.waitForLogin.resolve()}},{key:"isInternalUserLoggedIn",value:function(){return this.isUserLoggedIn()&&this.getUserController().isInternalUser()}},{key:"isGlobalAdminUserLoggedIn",value:function(){return this.isUserLoggedIn()&&this.getUserController().isGlobalAdmin()}},{key:"getUserController",value:function(){return neverNull(this._userController)}},{key:"setUserController",value:function(userController){this._userController=userController}},{key:"isProdDisabled",value:function(){return getHttpOrigin().startsWith("https://mail.tutanota")&&null!=logins._userController&&"Kq3X5tF--7-0"!==logins._userController.user.customer&&"Jwft3IR--7-0"!==logins._userController.user.customer}},{key:"isEnabled",value:function(feature){return null!=this.customizations&&-1!==this.customizations.indexOf(feature)}},{key:"loadCustomizations",value:function(){var _this=this;return this.isInternalUserLoggedIn()?this.getUserController().loadCustomer().then(function(customer){_this.customizations=customer.customizations.map(function(f){return f.feature})}):Promise.resolve()}},{key:"logout",value:function(sync){var _this2=this;return this._userController?this._userController.deleteSession(sync).then(function(){_this2.setUserController(null)}):(console.log("No session to delete"),Promise.resolve())}}]),LoginController}()),_export("LoginController",LoginController),_export("logins",logins=new LoginController),_export("logins",logins)}}}),System.register("src/misc/WindowFacade.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","mithril","../api/Env","./LanguageViewModel","../api/common/utils/Utils","../native/SystemApp","../native/NativeWrapper","./ClientDetector","../api/main/LoginController"],function(_export,_context){"use strict";var _classCallCheck,_createClass,m,assertMainOrNodeBoot,isApp,isIOSApp,Mode,lang,asyncImport,reloadNative,nativeApp,client,logins,WindowFacade,windowFacade;return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_mithril){m=_mithril.default},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot,isApp=_apiEnv.isApp,isIOSApp=_apiEnv.isIOSApp,Mode=_apiEnv.Mode},function(_LanguageViewModel){lang=_LanguageViewModel.lang},function(_apiCommonUtilsUtils){asyncImport=_apiCommonUtilsUtils.asyncImport},function(_nativeSystemApp){reloadNative=_nativeSystemApp.reloadNative},function(_nativeNativeWrapper){nativeApp=_nativeNativeWrapper.nativeApp},function(_ClientDetector){client=_ClientDetector.client},function(_apiMainLoginController){logins=_apiMainLoginController.logins}],execute:function(){assertMainOrNodeBoot(),WindowFacade=function(){function WindowFacade(){var _this=this;_classCallCheck(this,WindowFacade),this._historyStateEventListeners=[],this._keyboardSize=0,this._keyboardSizeListeners=[],this._ignoreNextPopstate=!1,this._windowSizeListeners=[],this.resizeTimeout=null,this.windowCloseConfirmation=!1,this._windowCloseListeners=new Set,this.init(),asyncImport("undefined"!=typeof module?module.id:_context.id,env.rootPathPrefix+"src/api/main/WorkerClient.js").then(function(module){return _this._worker=module.worker,nativeApp.initialized()}).then(function(){return _this.addPageInBackgroundListener()})}return _createClass(WindowFacade,[{key:"addResizeListener",value:function(listener){this._windowSizeListeners.push(listener)}},{key:"removeResizeListener",value:function(listener){var index=this._windowSizeListeners.indexOf(listener);index>-1&&this._windowSizeListeners.splice(index,1)}},{key:"addWindowCloseListener",value:function(listener){var _this2=this;return this._windowCloseListeners.add(listener),this._checkWindowClosing(this._windowCloseListeners.size>0),function(){_this2._windowCloseListeners.delete(listener),_this2._checkWindowClosing(_this2._windowCloseListeners.size>0)}}},{key:"_notifyCloseListeners",value:function(e){this._windowCloseListeners.forEach(function(f){return f(e)})}},{key:"addKeyboardSizeListener",value:function(listener){this._keyboardSizeListeners.push(listener),listener(this._keyboardSize)}},{key:"removeKeyboardSizeListener",value:function(listener){var index=this._keyboardSizeListeners.indexOf(listener);index>-1&&this._keyboardSizeListeners.splice(index,1)}},{key:"openLink",value:function(href){return env.mode===Mode.App?window.open(href,"_system"):window.open(href,"_blank")}},{key:"init",value:function(){var _this3=this;window.onresize=function(){if(!_this3.resizeTimeout){var cb=function(){_this3.resizeTimeout=null,_this3._resize()};_this3.resizeTimeout=client.isMobileDevice()?setTimeout(cb,66):requestAnimationFrame(cb)}},window.addEventListener&&!isApp()&&(window.addEventListener("beforeunload",function(e){return _this3._beforeUnload(e)}),window.addEventListener("popstate",function(e){return _this3._popState(e)}),window.addEventListener("unload",function(e){return _this3._onUnload()}))}},{key:"_resize",value:function(){try{var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this._windowSizeListeners[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){(0,_step.value)(window.innerWidth,window.innerHeight)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}finally{m.redraw()}}},{key:"_checkWindowClosing",value:function(enable){this.windowCloseConfirmation=enable}},{key:"_beforeUnload",value:function(e){if(console.log("windowfacade._beforeUnload"),this._notifyCloseListeners(e),this.windowCloseConfirmation){var _m=lang.get("closeWindowConfirmation_msg");return e.returnValue=_m,_m}logins.logout(!0)}},{key:"addHistoryEventListener",value:function(listener){var _this4=this;return this._historyStateEventListeners.push(listener),function(){var index=_this4._historyStateEventListeners.indexOf(listener);-1!==index&&_this4._historyStateEventListeners.splice(index,1)}}},{key:"_popState",value:function(e){var len=this._historyStateEventListeners.length;0!==len&&(this._ignoreNextPopstate?this._ignoreNextPopstate=!1:this._historyStateEventListeners[len-1](e)||(this._ignoreNextPopstate=!0,history.go(1)))}},{key:"_onUnload",value:function(){this.windowCloseConfirmation&&logins.logout(!0)}},{key:"addOnlineListener",value:function(listener){window.addEventListener("online",listener)}},{key:"addOfflineListener",value:function(listener){window.addEventListener("offline",listener)}},{key:"reload",value:function(args){if(isApp()){args.hasOwnProperty("noAutoLogin")||(args.noAutoLogin=!0);var newQueryString=m.buildQueryString(args);reloadNative(newQueryString.length>0?"?"+newQueryString:"")}else window.location.reload()}},{key:"addPageInBackgroundListener",value:function(){var _this5=this;isIOSApp()&&document.addEventListener("visibilitychange",function(){console.log("Visibility change, hidden: ",document.hidden),_this5._worker.notifyVisiblityChange(!document.hidden),document.hidden||setTimeout(function(){return _this5._worker.tryReconnectEventBus(!1,!0)},100)})}},{key:"onKeyboardSizeChanged",value:function(size){this._keyboardSize=size;var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this._keyboardSizeListeners[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){(0,_step2.value)(size)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}if(size>0){var body=document.body;body.style.position="unset",setTimeout(function(){body.style.position="fixed"},200)}}}]),WindowFacade}(),_export("windowFacade",windowFacade=new WindowFacade),_export("windowFacade",windowFacade)}}}),System.register("src/gui/styles.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","../misc/Log","./size","../api/Env","../misc/WindowFacade","./theme","../api/common/utils/Utils","../misc/ClientDetector"],function(_export,_context){"use strict";var _classCallCheck,_createClass,Cat,log,timer,size,assertMainOrNodeBoot,isAdminClient,windowFacade,theme,themeId,neverNull,client,Styles,styles;function objectToCss(indent,key,o){var cssString=""+indent+key+" { \n";return cssString+=indent+toCss(o,indent+"  "),cssString+=" \n"+indent+"} \n"}function toCss(obj){var indent=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(obj).map(function(key){return obj[key]instanceof Array?obj[key].map(function(o){return objectToCss(indent,key,o)}).join("\n"):obj[key]instanceof Object?objectToCss(indent,key,obj[key]):""+indent+key+": "+obj[key]+";"}).join("\n")}return{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_miscLog){Cat=_miscLog.Cat,log=_miscLog.log,timer=_miscLog.timer},function(_size){size=_size.size},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot,isAdminClient=_apiEnv.isAdminClient},function(_miscWindowFacade){windowFacade=_miscWindowFacade.windowFacade},function(_theme){theme=_theme.theme,themeId=_theme.themeId},function(_apiCommonUtilsUtils){neverNull=_apiCommonUtilsUtils.neverNull},function(_miscClientDetector){client=_miscClientDetector.client}],execute:function(){assertMainOrNodeBoot(),Styles=function(){function Styles(){var _this=this;_classCallCheck(this,Styles),this.initialized=!1,this.styles=new Map,this.bodyWidth=neverNull(document.body).offsetWidth,this.bodyHeight=neverNull(document.body).offsetHeight,windowFacade.addResizeListener(function(width,height){_this.bodyWidth=width,_this.bodyHeight=height}),themeId.map(function(){_this._updateDomStyles()})}return _createClass(Styles,[{key:"init",value:function(){this.initialized||(this.initialized=!0,this._updateDomStyles())}},{key:"registerStyle",value:function(id,styleCreator){if(!this.initialized&&this.styles.has(id))throw new Error("duplicate style definition: "+id);this.styles.set(id,styleCreator),this.initialized&&(log(Cat.css,"update style",id,styleCreator(theme)),this._updateDomStyle(id,styleCreator))}},{key:"_updateDomStyles",value:function(){var _this2=this,time=timer(Cat.css);Array.from(this.styles.entries()).map(function(entry){_this2._updateDomStyle(entry[0],entry[1])}),log(Cat.css,"creation time",time())}},{key:"_updateDomStyle",value:function(id,styleCreator){this._getDomStyleSheet(id).textContent=toCss(styleCreator())}},{key:"_getDomStyleSheet",value:function(id){var styleDomElement=document.getElementById("css-"+id);return styleDomElement||((styleDomElement=document.createElement("style")).setAttribute("type","text/css"),styleDomElement.id="css-"+id,styleDomElement=document.getElementsByTagName("head")[0].appendChild(styleDomElement)),styleDomElement}},{key:"isDesktopLayout",value:function(){return this.bodyWidth>=size.desktop_layout_width}},{key:"isUsingBottomNavigation",value:function(){return!isAdminClient()&&(client.isMobileDevice()||!this.isDesktopLayout())}}]),Styles}(),_export("styles",styles=new Styles),_export("styles",styles)}}}),System.register("node_modules/systemjs-plugin-babel/babel-helpers/toArray.js",[],function(_export,_context){"use strict";return{setters:[],execute:function(){_export("default",function(arr){return Array.isArray(arr)?arr:Array.from(arr)})}}}),System.register("src/api/common/Logger.js",["node_modules/systemjs-plugin-babel/babel-helpers/toArray.js","node_modules/systemjs-plugin-babel/babel-helpers/toConsumableArray.js","node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","./utils/Encoding","./utils/Utils"],function(_export,_context){"use strict";var _toArray,_toConsumableArray,_classCallCheck,_createClass,stringToUtf8Uint8Array,errorToString,LOG_SIZE,Logger;return _export("createLogFile",function(timestamp,entries,scope){var content=entries.join("\n"),data=stringToUtf8Uint8Array(content);return{_type:"DataFile",name:timestamp+"_"+scope+"_tutanota.log",mimeType:"text/plain",data:data,size:data.byteLength,id:null}}),_export("replaceNativeLogger",function(global,loggerInstance){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||global.env.dist||global.debug){global.logger=loggerInstance;var globalConsole=global.console;global.console={log:function(){globalConsole.log.apply(globalConsole,arguments),loggerInstance.logInfo.apply(loggerInstance,arguments)},warn:function(){globalConsole.warn.apply(globalConsole,arguments),loggerInstance.logWarn.apply(loggerInstance,arguments)},error:function(){globalConsole.error.apply(globalConsole,arguments),loggerInstance.logError.apply(loggerInstance,arguments)}}}}),{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersToArrayJs){_toArray=_node_modulesSystemjsPluginBabelBabelHelpersToArrayJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersToConsumableArrayJs){_toConsumableArray=_node_modulesSystemjsPluginBabelBabelHelpersToConsumableArrayJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_utilsEncoding){stringToUtf8Uint8Array=_utilsEncoding.stringToUtf8Uint8Array},function(_utilsUtils){errorToString=_utilsUtils.errorToString}],execute:function(){_export("LOG_SIZE",LOG_SIZE=1e3),_export("LOG_SIZE",LOG_SIZE),_export("Logger",Logger=function(){function Logger(){var dateProvider=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return new Date};_classCallCheck(this,Logger),this._entries=new Array(LOG_SIZE),this._index=0,this._dateProvider=dateProvider}return _createClass(Logger,[{key:"logInfo",value:function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];this.log("I",args)}},{key:"logError",value:function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];this.log("E",args)}},{key:"logWarn",value:function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];this.log("W",args)}},{key:"log",value:function(level,args){var entry=[this._dateProvider(),level];entry.push.apply(entry,_toConsumableArray(args)),this._entries[this._index]=entry,this._index++,this._index===LOG_SIZE&&(this._index=0)}},{key:"formatLogEntry",value:function(date,level){for(var _len4=arguments.length,rest=Array(_len4>2?_len4-2:0),_key4=2;_key4<_len4;_key4++)rest[_key4-2]=arguments[_key4];var message=rest.map(function(obj){return obj instanceof Error?errorToString(obj):JSON.stringify(obj)}).join(",");return date.toISOString()+" "+level+" "+message}},{key:"getEntries",value:function(){var _this=this,newerPart=this._entries.slice(0,this._index);return this._entries.slice(this._index).concat(newerPart).filter(Boolean).map(function(_ref){var _ref2=_toArray(_ref),date=_ref2[0],level=_ref2[1],rest=_ref2.slice(2);return _this.formatLogEntry.apply(_this,[date,level].concat(_toConsumableArray(rest)))})}}]),Logger}()),_export("Logger",Logger)}}}),System.register("node_modules/systemjs-plugin-babel/babel-helpers/slicedToArray.js",[],function(_export,_context){"use strict";return{setters:[],execute:function(){_export("default",function(){return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}())}}}),System.register("src/misc/LanguageViewModel.js",["node_modules/systemjs-plugin-babel/babel-helpers/slicedToArray.js","node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","../api/Env","../api/common/utils/Utils","./ClientDetector"],function(_export,_context){"use strict";var _slicedToArray,_classCallCheck,_createClass,assertMainOrNodeBoot,asyncImport,downcast,client,languages,languageByCode,infoLinks,LanguageViewModel,assertTranslation,lang;function getLanguageNoDefault(restrictions){var languageTags=void 0;if("undefined"!=typeof navigator)languageTags=navigator.languages&&navigator.languages.length>0?navigator.languages:[navigator.language];else if("undefined"!=typeof process&&void 0!==process.env){var locale=process.env.LC_ALL||process.env.LC_MESSAGES||process.env.LANG||process.env.LANGUAGE||process.env.LC_NAME;locale&&(languageTags=[locale.split(".")[0].replace("_","-")])}if(languageTags){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=languageTags[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var tag=_step.value,_code=_getSubstitutedLanguageCode(tag,restrictions);if(_code)return{code:_code,languageTag:tag}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}return null}function getLanguage(restrictions){var language=getLanguageNoDefault(restrictions);return language||(null==restrictions||-1!==restrictions.indexOf("en")?{code:"en",languageTag:"en-US"}:{code:restrictions[0],languageTag:restrictions[0].replace("/_/g","-")})}function _getSubstitutedLanguageCode(tag,restrictions){var code=tag.toLowerCase().replace("-","_"),language=languages.find(function(l){return l.code===code&&(null==restrictions||-1!==restrictions.indexOf(l.code))});if(null==language)if("zh_hk"===code)language=languages.find(function(l){return"zh_tw"===l.code});else{var basePart=getBasePart(code);language=languages.find(function(l){return getBasePart(l.code)===basePart&&(null==restrictions||-1!==restrictions.indexOf(l.code))})}return language?"de"===language.code&&"object"==typeof whitelabelCustomizations&&whitelabelCustomizations&&whitelabelCustomizations.germanLanguageCode?whitelabelCustomizations.germanLanguageCode:language.code:null}function getBasePart(code){var indexOfUnderscore=code.indexOf("_");return indexOfUnderscore>0?code.substring(0,indexOfUnderscore):code}return _export("getLanguageNoDefault",getLanguageNoDefault),_export("getLanguage",getLanguage),_export("_getSubstitutedLanguageCode",_getSubstitutedLanguageCode),_export("getAvailableLanguageCode",function(code){return _getSubstitutedLanguageCode(code,null)||"en"}),_export("languageCodeToTag",function(code){if("de_sie"===code)return"de";if(-1===code.indexOf("_"))return code;var _code$split=code.split("_"),_code$split2=_slicedToArray(_code$split,2);return _code$split2[0]+"-"+_code$split2[1].toUpperCase()}),{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersSlicedToArrayJs){_slicedToArray=_node_modulesSystemjsPluginBabelBabelHelpersSlicedToArrayJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_apiCommonUtilsUtils){asyncImport=_apiCommonUtilsUtils.asyncImport,downcast=_apiCommonUtilsUtils.downcast},function(_ClientDetector){client=_ClientDetector.client}],execute:function(){assertMainOrNodeBoot(),_export("languages",languages=[{code:"ar",textId:"languageArabic_label"},{code:"bg",textId:"languageBulgarian_label"},{code:"ca",textId:"languageCatalan_label"},{code:"cs",textId:"languageCzech_label"},{code:"da",textId:"languageDanish_label"},{code:"de",textId:"languageGerman_label"},{code:"de_sie",textId:"languageGermanSie_label"},{code:"el",textId:"languageGreek_label"},{code:"en",textId:"languageEnglish_label"},{code:"es",textId:"languageSpanish_label"},{code:"et",textId:"languageEstonian_label"},{code:"fa_ir",textId:"languagePersian_label"},{code:"fi",textId:"languageFinnish_label"},{code:"fr",textId:"languageFrench_label"},{code:"gl",textId:"languageGalician_label"},{code:"hi",textId:"languageHindi_label"},{code:"hr",textId:"languageCroatian_label"},{code:"hu",textId:"languageHungarian_label"},{code:"id",textId:"languageIndonesian_label"},{code:"it",textId:"languageItalian_label"},{code:"ja",textId:"languageJapanese_label"},{code:"lt",textId:"languageLithuanian_label"},{code:"lv",textId:"languageLatvian_label"},{code:"nl",textId:"languageDutch_label"},{code:"no",textId:"languageNorwegian_label"},{code:"pl",textId:"languagePolish_label"},{code:"pt_br",textId:"languagePortugeseBrazil_label"},{code:"pt_pt",textId:"languagePortugesePortugal_label"},{code:"ro",textId:"languageRomanian_label"},{code:"ru",textId:"languageRussian_label"},{code:"sk",textId:"languageSlovak_label"},{code:"sl",textId:"languageSlovenian_label"},{code:"sr",textId:"languageSerbian_label"},{code:"sv",textId:"languageSwedish_label"},{code:"tr",textId:"languageTurkish_label"},{code:"uk",textId:"languageUkrainian_label"},{code:"vi",textId:"languageVietnamese_label"},{code:"zh",textId:"languageChineseSimplified_label"},{code:"zh_tw",textId:"languageChineseTraditional_label"}]),_export("languages",languages),_export("languageByCode",languageByCode=languages.reduce(function(acc,curr){return acc[curr.code]=curr,acc},{})),_export("languageByCode",languageByCode),infoLinks={recoverCode_link:{de:"https://tutanota.com/de/howto/#reset",en:"https://tutanota.com/howto/#reset"},"2FA_link":{de:"https://tutanota.com/de/howto#2fa",en:"https://tutanota.com/howto#2fa"},spamRules_link:{de:"https://tutanota.com/de/howto#spam",en:"https://tutanota.com/howto#spam"},domainInfo_link:{de:"https://tutanota.com/de/howto/#custom-domain",en:"https://tutanota.com/howto#custom-domain"},whitelabel_link:{de:"https://tutanota.com/de/howto#whitelabel",en:"https://tutanota.com/howto#whitelabel"},webview_link:{de:"https://tutanota.com/howto/#webview",en:"https://tutanota.com/de/howto/#webview"}},LanguageViewModel=function(){function LanguageViewModel(){_classCallCheck(this,LanguageViewModel),this.translations={},this.fallback={},this.staticTranslations={}}return _createClass(LanguageViewModel,[{key:"init",value:function(en){var _this=this;this.translations=en,this.fallback=en,this.code="en";var language=getLanguage();return this.setLanguage(language).catch(function(e){console.warn("Could not set language",language,e),_this._setLanguageTag("en-US")})}},{key:"addStaticTranslation",value:function(key,text){this.staticTranslations[key]=text}},{key:"setLanguage",value:function(lang){var _this2=this;return this._setLanguageTag(lang.languageTag),this.code===lang.code?Promise.resolve():asyncImport("undefined"!=typeof module?module.id:_context.id,env.rootPathPrefix+"src/translations/"+lang.code+".js").then(function(translations){_this2.translations=translations,_this2.code=lang.code})}},{key:"_setLanguageTag",value:function(tag){this.languageTag=tag,this.updateFormats({})}},{key:"updateFormats",value:function(options){var tag=this.languageTag;client.dateFormat()&&(this.formats={simpleDate:new Intl.DateTimeFormat(tag,{day:"numeric",month:"numeric",year:"numeric"}),dateWithMonth:new Intl.DateTimeFormat(tag,{day:"numeric",month:"short",year:"numeric"}),dateWithoutYear:Intl.DateTimeFormat(tag,{day:"numeric",month:"short"}),simpleDateWithoutYear:Intl.DateTimeFormat(tag,{day:"numeric",month:"numeric"}),dateWithWeekday:new Intl.DateTimeFormat(tag,{weekday:"short",day:"numeric",month:"short"}),dateWithWeekdayWoMonth:new Intl.DateTimeFormat(tag,{weekday:"short",day:"numeric"}),dateWithWeekdayAndYear:new Intl.DateTimeFormat(tag,{weekday:"short",day:"numeric",month:"short",year:"numeric"}),dateWithWeekdayAndTime:new Intl.DateTimeFormat(tag,Object.assign({},{weekday:"short",day:"numeric",month:"short",hour:"numeric",minute:"numeric"},options)),time:new Intl.DateTimeFormat(tag,Object.assign({},{hour:"numeric",minute:"numeric"},options)),dateTime:new Intl.DateTimeFormat(tag,Object.assign({},{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric"},options)),dateTimeShort:new Intl.DateTimeFormat(tag,Object.assign({},{day:"numeric",month:"numeric",year:"numeric",hour:"numeric"},options)),weekdayShort:new Intl.DateTimeFormat(tag,{weekday:"short"}),weekdayNarrow:new Intl.DateTimeFormat(tag,{weekday:"narrow"}),priceWithCurrency:new Intl.NumberFormat(tag,{style:"currency",currency:"EUR",minimumFractionDigits:2}),priceWithCurrencyWithoutFractionDigits:new Intl.NumberFormat(tag,{style:"currency",currency:"EUR",maximiumFractionDigits:0,minimumFractionDigits:0}),priceWithoutCurrency:new Intl.NumberFormat(tag,{style:"decimal",minimumFractionDigits:2}),priceWithoutCurrencyWithoutFractionDigits:new Intl.NumberFormat(tag,{style:"decimal",maximiumFractionDigits:0,minimumFractionDigits:0}),monthLong:new Intl.DateTimeFormat(tag,{month:"long"}),monthWithYear:new Intl.DateTimeFormat(tag,{month:"long",year:"2-digit"}),monthWithFullYear:new Intl.DateTimeFormat(tag,{month:"long",year:"numeric"}),yearNumeric:new Intl.DateTimeFormat(tag,{year:"numeric"})})}},{key:"exists",value:function(id){try{return this.get(id),!0}catch(e){return!1}}},{key:"get",value:function(id,params){if(null==id)return"";if("emptyString_msg"===id)return"â€ˆ";var text=this.translations.keys[id];if(!text&&!(text=this.fallback.keys[id])&&!(text=this.staticTranslations[id]))throw new Error("no translation found for id "+id);if(params instanceof Object)for(var param in params)text=text.replace(param,params[param]);return text}},{key:"getMaybeLazy",value:function(value){return"function"==typeof value?value():lang.get(value)}},{key:"getInfoLink",value:function(id){var code=["de","de_sie"].includes(this.code)?"de":"en";return infoLinks[id][code]}}]),LanguageViewModel}(),_export("assertTranslation",assertTranslation=downcast),_export("assertTranslation",assertTranslation),_export("lang",lang=new LanguageViewModel),_export("lang",lang)}}}),System.register("src/gui/animation/Easing.js",["../../api/Env"],function(_export,_context){"use strict";var assertMainOrNodeBoot,EasingType,ease;return{setters:[function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot}],execute:function(){assertMainOrNodeBoot(),EasingType={linear:1,quad:2,cubic:3,quart:4,quint:5},_export("ease",ease={in:function(percent){return Math.pow(percent,EasingType.cubic)},out:function(percent){return 1-ease.in(1-percent)},inOut:function(percent){return percent<.5?ease.in(2*percent)/2:1-ease.in(-2*percent+2)/2},linear:function(percent){return percent}}),_export("ease",ease)}}}),System.register("src/gui/animation/Animations.js",["node_modules/systemjs-plugin-babel/babel-helpers/defineProperty.js","node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","../../misc/ClientDetector","./Easing","../../api/Env","../../api/common/utils/Utils"],function(_export,_context){"use strict";var _defineProperty,_classCallCheck,_createClass,client,ease,assertMainOrNodeBoot,downcast,_TransformUnits,DefaultAnimationTime,InitializedOptions,Animations,Animation,TransformUnits,animations;function transform(type,begin,end){var values=_defineProperty({},type,{begin:begin,end:end}),updateDom=function(target,percent,easing){target.style.transform=function(values,percent,easing){var transform=[],types=Object.keys(TransformUnits),_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=types[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var _type=_step4.value;if(values[_type]){var value=calculateValue(percent,values[_type].begin,values[_type].end,easing);transform.push(_type+"("+value+TransformUnits[_type]+")")}}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}client.isMobileDevice()&&transform.push("translate3d(0,0,0)");return transform.join(" ")}(values,percent,easing)};return{updateDom:updateDom,chain:function chain(type,begin,end){return values[type]={begin:begin,end:end},{updateDom:updateDom,chain:chain}}}}function hexToRgb(hexColor){var split=(hexColor=hexColor.substring(1)).match(/.{1,2}/g);if(split&&3===split.length)return{r:parseInt(split[0],16),g:parseInt(split[1],16),b:parseInt(split[2],16)};throw new Error("illegal color definition")}function alpha(type,colorHex,begin,end){var color=hexToRgb(colorHex);return{updateDom:function(target,percent,easing){var alphaChannel=calculateValue(percent,begin,end,easing);type===alpha.type.backgroundColor?target.style.backgroundColor="rgba("+color.r+", "+color.g+", "+color.b+", "+alphaChannel+")":type===alpha.type.color&&(target.style.color="rgba("+color.r+", "+color.g+", "+color.b+", "+alphaChannel+")")}}}function calculateValue(percent,begin,end,easing){return(end-begin)*easing(percent)+begin}return _export("transform",transform),_export("scroll",function(begin,end){return{updateDom:function(target,percent,easing){target.scrollTop=calculateValue(percent,begin,end,easing)}}}),_export("hexToRgb",hexToRgb),_export("rgbToHex",function(color){return"#"+((1<<24)+(color.r<<16)+(color.g<<8)+color.b).toString(16).slice(1)}),_export("alpha",alpha),_export("opacity",function(begin,end,keepValue){var initialOpacity=null;return{updateDom:function(target,percent,easing){0===percent&&null===initialOpacity&&(initialOpacity=target.style.opacity);var opacity=calculateValue(percent,begin,end,easing);target.style.opacity=1!==percent||keepValue?opacity+"":initialOpacity||""}}}),_export("height",function(begin,end){return{updateDom:function(target,percent,easing){target.style.height=calculateValue(percent,begin,end,easing)+"px"}}}),_export("width",function(begin,end){return{updateDom:function(target,percent,easing){target.style.width=calculateValue(percent,begin,end,easing)+"px"}}}),_export("fontSize",function(begin,end){return{updateDom:function(target,percent,easing){target.style.fontSize=calculateValue(percent,begin,end,easing)+"px"}}}),_export("get",function(element){if(!element)throw new Error("tried to update a non existing element");return element}),{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersDefinePropertyJs){_defineProperty=_node_modulesSystemjsPluginBabelBabelHelpersDefinePropertyJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_miscClientDetector){client=_miscClientDetector.client},function(_Easing){ease=_Easing.ease},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_apiCommonUtilsUtils){downcast=_apiCommonUtilsUtils.downcast}],execute:function(){assertMainOrNodeBoot(),_export("DefaultAnimationTime",DefaultAnimationTime=200),_export("DefaultAnimationTime",DefaultAnimationTime),InitializedOptions={stagger:0,delay:0,easing:ease.linear,duration:DefaultAnimationTime},Animations=function(){function Animations(){var _this=this;_classCallCheck(this,Animations),this.activeAnimations=[],this._animate=function(){var finished=[],now=window.performance.now(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=_this.activeAnimations[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var animation=_step.value;animation.animateFrame(now),animation.isFinished()&&finished.push(animation)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=finished[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _animation=_step2.value;_this.activeAnimations.splice(_this.activeAnimations.indexOf(_animation),1),_animation.resolve&&_animation.resolve()}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}_this.activeAnimations.length>0&&window.requestAnimationFrame(_this._animate)}}return _createClass(Animations,[{key:"add",value:function(targets,mutations,options){var _this2=this,target=targets,targetArrayOrCollection=null!=target.length;if(!target||targetArrayOrCollection&&0===target.length)return Promise.reject(new Error("tried to animate a non existing element"));var mutation=void 0;mutation=mutations instanceof Array?mutations:[mutations];var verifiedOptions=Animations.verifiyOptions(options);targetArrayOrCollection||(target=[target]);var animations=[],promise=new Promise(function(resolve){for(var start=!_this2.activeAnimations.length,i=0;i<target.length;i++){var _delay=verifiedOptions.delay;verifiedOptions.stagger&&(_delay+=verifiedOptions.stagger*i);var animation=new Animation(target[i],mutation,i===target.length-1?resolve:null,_delay,verifiedOptions.easing,verifiedOptions.duration);animations.push(animation),_this2.activeAnimations.push(animation)}start&&window.requestAnimationFrame(_this2._animate)});return downcast(promise).animations=animations,promise}},{key:"cancel",value:function(animation){this.activeAnimations.splice(this.activeAnimations.indexOf(animation),1),animation.resolve&&animation.resolve()}}],[{key:"verifiyOptions",value:function(options){return Object.assign({},InitializedOptions,options)}}]),Animations}(),_export("Animation",Animation=function(){function Animation(target,mutations,resolve,delay,easing){var duration=arguments.length>5&&void 0!==arguments[5]?arguments[5]:DefaultAnimationTime;_classCallCheck(this,Animation),this.target=target,this.mutations=mutations,this.resolve=resolve,this.delay=delay,this.duration=duration,this.animationStart=null,this.runTime=null,this.easing=easing}return _createClass(Animation,[{key:"animateFrame",value:function(now){if(null==this.animationStart&&(this.animationStart=now),this.runTime=Math.min(now-this.animationStart-this.delay,this.duration),this.runTime>=0){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=this.mutations[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){_step3.value.updateDom(this.target,this.runTime/this.duration,this.easing)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}}},{key:"isFinished",value:function(){return null!=this.runTime&&this.runTime>=this.duration}}]),Animation}()),_export("Animation",Animation),transform.type={translateX:"translateX",translateY:"translateY",rotateY:"rotateY",rotateZ:"rotateZ",scale:"scale"},_defineProperty(_TransformUnits={},transform.type.translateX,"px"),_defineProperty(_TransformUnits,transform.type.translateY,"px"),_defineProperty(_TransformUnits,transform.type.rotateY,"deg"),_defineProperty(_TransformUnits,transform.type.rotateZ,"deg"),_defineProperty(_TransformUnits,transform.type.scale,""),TransformUnits=_TransformUnits,alpha.type={backgroundColor:"backgroundColor",color:"color"},_export("animations",animations=new Animations),_export("animations",animations)}}}),System.register("src/gui/base/Flash.js",["../animation/Animations","../../api/Env","../../misc/ClientDetector"],function(_export,_context){"use strict";var animations,opacity,assertMainOrNodeBoot,client,flashedIn,PREVENT,eventListenerArgs;function flashIn(event){var target=event.currentTarget,computedValue=function(target){var computedValue=0;window.getComputedStyle?computedValue=Number(window.getComputedStyle(target).opacity):target.currentStyle&&(computedValue=Number(target.currentStyle.opacity));return computedValue}(target);animations.add(target,opacity(computedValue,.4,!0)),flashedIn.set(target,computedValue)}function flashOut(event){var target=event.currentTarget;flashOutElement(target,flashedIn.get(target))}function flashOutElement(target,computedOpacity){computedOpacity&&(flashedIn.delete(target),animations.add(target,opacity(.4,computedOpacity,!1),{delay:300}).then(function(){return target.style.opacity=""}))}return _export("addFlash",function(target){client.isDesktopDevice()?(target.addEventListener("mousedown",flashIn,eventListenerArgs),target.addEventListener("mouseup",flashOut,eventListenerArgs),target.addEventListener("dragstart",PREVENT,!!client.passive()&&{passive:!1})):(target.addEventListener("touchstart",flashIn,eventListenerArgs),target.addEventListener("touchend",flashOut,eventListenerArgs),target.addEventListener("touchcancel",flashOut,eventListenerArgs))}),_export("removeFlash",function(target){client.isDesktopDevice()?(target.removeEventListener("mousedown",flashIn,eventListenerArgs),target.removeEventListener("mouseup",flashOut,eventListenerArgs),target.removeEventListener("dragstart",PREVENT)):(target.removeEventListener("touchstart",flashIn,eventListenerArgs),target.removeEventListener("touchend",flashOut,eventListenerArgs),target.removeEventListener("touchcancel",flashOut,eventListenerArgs))}),_export("flashIn",flashIn),_export("flashOut",flashOut),_export("flashOutElement",flashOutElement),{setters:[function(_animationAnimations){animations=_animationAnimations.animations,opacity=_animationAnimations.opacity},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_miscClientDetector){client=_miscClientDetector.client}],execute:function(){assertMainOrNodeBoot(),flashedIn=new Map,PREVENT=function(e){return e.preventDefault()},eventListenerArgs=!!client.passive()&&{passive:!0}}}}),System.registerDynamic("libs/mithril.js",[],!0,function($__require,exports,module){var global=this||self;!function(){"use strict";function Vnode(tag,key,attrs0,children0,text,dom){return{tag:tag,key:key,attrs:attrs0,children:children0,text:text,dom:dom,domSize:void 0,state:void 0,events:void 0,instance:void 0}}Vnode.normalize=function(node){return Array.isArray(node)?Vnode("[",void 0,void 0,Vnode.normalizeChildren(node),void 0,void 0):null==node||"boolean"==typeof node?null:"object"==typeof node?node:Vnode("#",void 0,void 0,String(node),void 0,void 0)},Vnode.normalizeChildren=function(input){var children0=[];if(input.length){for(var isKeyed=null!=input[0]&&null!=input[0].key,i=1;i<input.length;i++)if((null!=input[i]&&null!=input[i].key)!==isKeyed)throw new TypeError("Vnodes must either always have keys or never have keys!");for(i=0;i<input.length;i++)children0[i]=Vnode.normalize(input[i])}return children0};var hyperscriptVnode=function(){var children1,attrs1=arguments[this],start=this+1;if(null==attrs1?attrs1={}:("object"!=typeof attrs1||null!=attrs1.tag||Array.isArray(attrs1))&&(attrs1={},start=this),arguments.length===start+1)children1=arguments[start],Array.isArray(children1)||(children1=[children1]);else for(children1=[];start<arguments.length;)children1.push(arguments[start++]);return Vnode("",attrs1.key,attrs1,children1)},selectorParser=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,selectorCache={},hasOwn={}.hasOwnProperty;function isEmpty(object){for(var key in object)if(hasOwn.call(object,key))return!1;return!0}function hyperscript(selector){if(null==selector||"string"!=typeof selector&&"function"!=typeof selector&&"function"!=typeof selector.view)throw Error("The selector must be either a string or a component.");var vnode=hyperscriptVnode.apply(1,arguments);return"string"==typeof selector&&(vnode.children=Vnode.normalizeChildren(vnode.children),"["!==selector)?function(state,vnode){var attrs=vnode.attrs,children=Vnode.normalizeChildren(vnode.children),hasClass=hasOwn.call(attrs,"class"),className=hasClass?attrs.class:attrs.className;if(vnode.tag=state.tag,vnode.attrs=null,vnode.children=void 0,!isEmpty(state.attrs)&&!isEmpty(attrs)){var newAttrs={};for(var key in attrs)hasOwn.call(attrs,key)&&(newAttrs[key]=attrs[key]);attrs=newAttrs}for(var key in state.attrs)hasOwn.call(state.attrs,key)&&"className"!==key&&!hasOwn.call(attrs,key)&&(attrs[key]=state.attrs[key]);for(var key in null==className&&null==state.attrs.className||(attrs.className=null!=className?null!=state.attrs.className?String(state.attrs.className)+" "+String(className):className:null!=state.attrs.className?state.attrs.className:null),hasClass&&(attrs.class=null),attrs)if(hasOwn.call(attrs,key)&&"key"!==key){vnode.attrs=attrs;break}return Array.isArray(children)&&1===children.length&&null!=children[0]&&"#"===children[0].tag?vnode.text=children[0].children:vnode.children=children,vnode}(selectorCache[selector]||function(selector){for(var match,tag="div",classes=[],attrs={};match=selectorParser.exec(selector);){var type=match[1],value=match[2];if(""===type&&""!==value)tag=value;else if("#"===type)attrs.id=value;else if("."===type)classes.push(value);else if("["===match[3][0]){var attrValue=match[6];attrValue&&(attrValue=attrValue.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===match[4]?classes.push(attrValue):attrs[match[4]]=""===attrValue?attrValue:attrValue||!0}}return classes.length>0&&(attrs.className=classes.join(" ")),selectorCache[selector]={tag:tag,attrs:attrs}}(selector),vnode):(vnode.tag=selector,vnode)}if(hyperscript.trust=function(html){return null==html&&(html=""),Vnode("<",void 0,void 0,html,void 0,void 0)},hyperscript.fragment=function(){var vnode2=hyperscriptVnode.apply(0,arguments);return vnode2.tag="[",vnode2.children=Vnode.normalizeChildren(vnode2.children),vnode2},(PromisePolyfill=function(executor){if(!(this instanceof PromisePolyfill))throw new Error("Promise must be called with `new`");if("function"!=typeof executor)throw new TypeError("executor must be a function");var self=this,resolvers=[],rejectors=[],resolveCurrent=handler(resolvers,!0),rejectCurrent=handler(rejectors,!1),instance=self._instance={resolvers:resolvers,rejectors:rejectors},callAsync="function"==typeof setImmediate?setImmediate:setTimeout;function handler(list,shouldAbsorb){return function execute(value){var then;try{if(!shouldAbsorb||null==value||"object"!=typeof value&&"function"!=typeof value||"function"!=typeof(then=value.then))callAsync(function(){shouldAbsorb||0!==list.length||console.error("Possible unhandled promise rejection:",value);for(var i=0;i<list.length;i++)list[i](value);resolvers.length=0,rejectors.length=0,instance.state=shouldAbsorb,instance.retry=function(){execute(value)}});else{if(value===self)throw new TypeError("Promise can't be resolved w/ itself");executeOnce(then.bind(value))}}catch(e){rejectCurrent(e)}}}function executeOnce(then){var runs=0;function run(fn){return function(value){runs++>0||fn(value)}}var onerror=run(rejectCurrent);try{then(run(resolveCurrent),onerror)}catch(e){onerror(e)}}executeOnce(executor)}).prototype.then=function(onFulfilled,onRejection){var resolveNext,rejectNext,instance=this._instance;function handle(callback,list,next,state){list.push(function(value){if("function"!=typeof callback)next(value);else try{resolveNext(callback(value))}catch(e){rejectNext&&rejectNext(e)}}),"function"==typeof instance.retry&&state===instance.state&&instance.retry()}var promise=new PromisePolyfill(function(resolve,reject){resolveNext=resolve,rejectNext=reject});return handle(onFulfilled,instance.resolvers,resolveNext,!0),handle(onRejection,instance.rejectors,rejectNext,!1),promise},PromisePolyfill.prototype.catch=function(onRejection){return this.then(null,onRejection)},PromisePolyfill.prototype.finally=function(callback){return this.then(function(value){return PromisePolyfill.resolve(callback()).then(function(){return value})},function(reason){return PromisePolyfill.resolve(callback()).then(function(){return PromisePolyfill.reject(reason)})})},PromisePolyfill.resolve=function(value){return value instanceof PromisePolyfill?value:new PromisePolyfill(function(resolve){resolve(value)})},PromisePolyfill.reject=function(value){return new PromisePolyfill(function(resolve,reject){reject(value)})},PromisePolyfill.all=function(list){return new PromisePolyfill(function(resolve,reject){var total=list.length,count=0,values=[];if(0===list.length)resolve([]);else for(var i=0;i<list.length;i++)!function(i){function consume(value){count++,values[i]=value,count===total&&resolve(values)}null==list[i]||"object"!=typeof list[i]&&"function"!=typeof list[i]||"function"!=typeof list[i].then?consume(list[i]):list[i].then(consume,reject)}(i)})},PromisePolyfill.race=function(list){return new PromisePolyfill(function(resolve,reject){for(var i=0;i<list.length;i++)list[i].then(resolve,reject)})},"undefined"!=typeof window){void 0===window.Promise?window.Promise=PromisePolyfill:window.Promise.prototype.finally||(window.Promise.prototype.finally=PromisePolyfill.prototype.finally);var PromisePolyfill=window.Promise}else if(void 0!==global){void 0===global.Promise?global.Promise=PromisePolyfill:global.Promise.prototype.finally||(global.Promise.prototype.finally=PromisePolyfill.prototype.finally);PromisePolyfill=global.Promise}var render=function($window){var currentRedraw,$doc=$window&&$window.document,nameSpace={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function getNameSpace(vnode3){return vnode3.attrs&&vnode3.attrs.xmlns||nameSpace[vnode3.tag]}function checkState(vnode3,original){if(vnode3.state!==original)throw new Error("`vnode.state` must not be modified")}function callHook(vnode3){var original=vnode3.state;try{return this.apply(original,arguments)}finally{checkState(vnode3,original)}}function activeElement(){try{return $doc.activeElement}catch(e){return null}}function createNodes(parent,vnodes,start,end,hooks,nextSibling,ns){for(var i=start;i<end;i++){var vnode3=vnodes[i];null!=vnode3&&createNode(parent,vnode3,hooks,ns,nextSibling)}}function createNode(parent,vnode3,hooks,ns,nextSibling){var tag=vnode3.tag;if("string"==typeof tag)switch(vnode3.state={},null!=vnode3.attrs&&initLifecycle(vnode3.attrs,vnode3,hooks),tag){case"#":!function(parent,vnode3,nextSibling){vnode3.dom=$doc.createTextNode(vnode3.children),insertNode(parent,vnode3.dom,nextSibling)}(parent,vnode3,nextSibling);break;case"<":createHTML(parent,vnode3,ns,nextSibling);break;case"[":!function(parent,vnode3,hooks,ns,nextSibling){var fragment=$doc.createDocumentFragment();if(null!=vnode3.children){var children3=vnode3.children;createNodes(fragment,children3,0,children3.length,hooks,null,ns)}vnode3.dom=fragment.firstChild,vnode3.domSize=fragment.childNodes.length,insertNode(parent,fragment,nextSibling)}(parent,vnode3,hooks,ns,nextSibling);break;default:!function(parent,vnode3,hooks,ns,nextSibling){var tag=vnode3.tag,attrs2=vnode3.attrs,is=attrs2&&attrs2.is,element=(ns=getNameSpace(vnode3)||ns)?is?$doc.createElementNS(ns,tag,{is:is}):$doc.createElementNS(ns,tag):is?$doc.createElement(tag,{is:is}):$doc.createElement(tag);if(vnode3.dom=element,null!=attrs2&&function(vnode3,attrs2,ns){for(var key in attrs2)setAttr(vnode3,key,null,attrs2[key],ns)}(vnode3,attrs2,ns),insertNode(parent,element,nextSibling),!maybeSetContentEditable(vnode3)&&(null!=vnode3.text&&(""!==vnode3.text?element.textContent=vnode3.text:vnode3.children=[Vnode("#",void 0,void 0,vnode3.text,void 0,void 0)]),null!=vnode3.children)){var children3=vnode3.children;createNodes(element,children3,0,children3.length,hooks,null,ns),"select"===vnode3.tag&&null!=attrs2&&function(vnode3,attrs2){if("value"in attrs2)if(null===attrs2.value)-1!==vnode3.dom.selectedIndex&&(vnode3.dom.value=null);else{var normalized=""+attrs2.value;vnode3.dom.value===normalized&&-1!==vnode3.dom.selectedIndex||(vnode3.dom.value=normalized)}"selectedIndex"in attrs2&&setAttr(vnode3,"selectedIndex",null,attrs2.selectedIndex,void 0)}(vnode3,attrs2)}}(parent,vnode3,hooks,ns,nextSibling)}else!function(parent,vnode3,hooks,ns,nextSibling){(function(vnode3,hooks){var sentinel;if("function"==typeof vnode3.tag.view){if(vnode3.state=Object.create(vnode3.tag),null!=(sentinel=vnode3.state.view).$$reentrantLock$$)return;sentinel.$$reentrantLock$$=!0}else{if(vnode3.state=void 0,null!=(sentinel=vnode3.tag).$$reentrantLock$$)return;sentinel.$$reentrantLock$$=!0,vnode3.state=null!=vnode3.tag.prototype&&"function"==typeof vnode3.tag.prototype.view?new vnode3.tag(vnode3):vnode3.tag(vnode3)}if(initLifecycle(vnode3.state,vnode3,hooks),null!=vnode3.attrs&&initLifecycle(vnode3.attrs,vnode3,hooks),vnode3.instance=Vnode.normalize(callHook.call(vnode3.state.view,vnode3)),vnode3.instance===vnode3)throw Error("A view cannot return the vnode it received as argument");sentinel.$$reentrantLock$$=null})(vnode3,hooks),null!=vnode3.instance?(createNode(parent,vnode3.instance,hooks,ns,nextSibling),vnode3.dom=vnode3.instance.dom,vnode3.domSize=null!=vnode3.dom?vnode3.instance.domSize:0):vnode3.domSize=0}(parent,vnode3,hooks,ns,nextSibling)}var possibleParents={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function createHTML(parent,vnode3,ns,nextSibling){var match0=vnode3.children.match(/^\s*?<(\w+)/im)||[],temp=$doc.createElement(possibleParents[match0[1]]||"div");"http://www.w3.org/2000/svg"===ns?(temp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+vnode3.children+"</svg>",temp=temp.firstChild):temp.innerHTML=vnode3.children,vnode3.dom=temp.firstChild,vnode3.domSize=temp.childNodes.length,vnode3.instance=[];for(var child,fragment=$doc.createDocumentFragment();child=temp.firstChild;)vnode3.instance.push(child),fragment.appendChild(child);insertNode(parent,fragment,nextSibling)}function updateNodes(parent,old,vnodes,hooks,nextSibling,ns){if(old!==vnodes&&(null!=old||null!=vnodes))if(null==old||0===old.length)createNodes(parent,vnodes,0,vnodes.length,hooks,nextSibling,ns);else if(null==vnodes||0===vnodes.length)removeNodes(parent,old,0,old.length);else{var isOldKeyed=null!=old[0]&&null!=old[0].key,isKeyed0=null!=vnodes[0]&&null!=vnodes[0].key,start=0,oldStart=0;if(!isOldKeyed)for(;oldStart<old.length&&null==old[oldStart];)oldStart++;if(!isKeyed0)for(;start<vnodes.length&&null==vnodes[start];)start++;if(null===isKeyed0&&null==isOldKeyed)return;if(isOldKeyed!==isKeyed0)removeNodes(parent,old,oldStart,old.length),createNodes(parent,vnodes,start,vnodes.length,hooks,nextSibling,ns);else if(isKeyed0){for(var o,v,oe,ve,topSibling,oldEnd=old.length-1,end=vnodes.length-1;oldEnd>=oldStart&&end>=start&&(oe=old[oldEnd],ve=vnodes[end],oe.key===ve.key);)oe!==ve&&updateNode(parent,oe,ve,hooks,nextSibling,ns),null!=ve.dom&&(nextSibling=ve.dom),oldEnd--,end--;for(;oldEnd>=oldStart&&end>=start&&(o=old[oldStart],v=vnodes[start],o.key===v.key);)oldStart++,start++,o!==v&&updateNode(parent,o,v,hooks,getNextSibling(old,oldStart,nextSibling),ns);for(;oldEnd>=oldStart&&end>=start&&start!==end&&o.key===ve.key&&oe.key===v.key;)moveNodes(parent,oe,topSibling=getNextSibling(old,oldStart,nextSibling)),oe!==v&&updateNode(parent,oe,v,hooks,topSibling,ns),++start<=--end&&moveNodes(parent,o,nextSibling),o!==ve&&updateNode(parent,o,ve,hooks,nextSibling,ns),null!=ve.dom&&(nextSibling=ve.dom),oldStart++,oe=old[--oldEnd],ve=vnodes[end],o=old[oldStart],v=vnodes[start];for(;oldEnd>=oldStart&&end>=start&&oe.key===ve.key;)oe!==ve&&updateNode(parent,oe,ve,hooks,nextSibling,ns),null!=ve.dom&&(nextSibling=ve.dom),end--,oe=old[--oldEnd],ve=vnodes[end];if(start>end)removeNodes(parent,old,oldStart,oldEnd+1);else if(oldStart>oldEnd)createNodes(parent,vnodes,start,end+1,hooks,nextSibling,ns);else{var map,lisIndices,originalNextSibling=nextSibling,vnodesLength=end-start+1,oldIndices=new Array(vnodesLength),li=0,i=0,pos=2147483647,matched=0;for(i=0;i<vnodesLength;i++)oldIndices[i]=-1;for(i=end;i>=start;i--){null==map&&(map=getKeyMap(old,oldStart,oldEnd+1));var oldIndex=map[(ve=vnodes[i]).key];null!=oldIndex&&(pos=oldIndex<pos?oldIndex:-1,oldIndices[i-start]=oldIndex,oe=old[oldIndex],old[oldIndex]=null,oe!==ve&&updateNode(parent,oe,ve,hooks,nextSibling,ns),null!=ve.dom&&(nextSibling=ve.dom),matched++)}if(nextSibling=originalNextSibling,matched!==oldEnd-oldStart+1&&removeNodes(parent,old,oldStart,oldEnd+1),0===matched)createNodes(parent,vnodes,start,end+1,hooks,nextSibling,ns);else if(-1===pos)for(li=(lisIndices=function(a){for(var result=[0],u=0,v=0,i=0,il=lisTemp.length=a.length,i=0;i<il;i++)lisTemp[i]=a[i];for(var i=0;i<il;++i)if(-1!==a[i]){var j=result[result.length-1];if(a[j]<a[i])lisTemp[i]=j,result.push(i);else{for(u=0,v=result.length-1;u<v;){var c=(u>>>1)+(v>>>1)+(u&v&1);a[result[c]]<a[i]?u=c+1:v=c}a[i]<a[result[u]]&&(u>0&&(lisTemp[i]=result[u-1]),result[u]=i)}}for(u=result.length,v=result[u-1];u-- >0;)result[u]=v,v=lisTemp[v];return lisTemp.length=0,result}(oldIndices)).length-1,i=end;i>=start;i--)v=vnodes[i],-1===oldIndices[i-start]?createNode(parent,v,hooks,ns,nextSibling):lisIndices[li]===i-start?li--:moveNodes(parent,v,nextSibling),null!=v.dom&&(nextSibling=vnodes[i].dom);else for(i=end;i>=start;i--)v=vnodes[i],-1===oldIndices[i-start]&&createNode(parent,v,hooks,ns,nextSibling),null!=v.dom&&(nextSibling=vnodes[i].dom)}}else{var commonLength=old.length<vnodes.length?old.length:vnodes.length;for(start=start<oldStart?start:oldStart;start<commonLength;start++)(o=old[start])===(v=vnodes[start])||null==o&&null==v||(null==o?createNode(parent,v,hooks,ns,getNextSibling(old,start+1,nextSibling)):null==v?removeNode(parent,o):updateNode(parent,o,v,hooks,getNextSibling(old,start+1,nextSibling),ns));old.length>commonLength&&removeNodes(parent,old,start,old.length),vnodes.length>commonLength&&createNodes(parent,vnodes,start,vnodes.length,hooks,nextSibling,ns)}}}function updateNode(parent,old,vnode3,hooks,nextSibling,ns){var oldTag=old.tag;if(oldTag===vnode3.tag){if(vnode3.state=old.state,vnode3.events=old.events,function(vnode3,old){do{if(null!=vnode3.attrs&&"function"==typeof vnode3.attrs.onbeforeupdate){var force=callHook.call(vnode3.attrs.onbeforeupdate,vnode3,old);if(void 0!==force&&!force)break}if("string"!=typeof vnode3.tag&&"function"==typeof vnode3.state.onbeforeupdate){var force=callHook.call(vnode3.state.onbeforeupdate,vnode3,old);if(void 0!==force&&!force)break}return!1}while(0);return vnode3.dom=old.dom,vnode3.domSize=old.domSize,vnode3.instance=old.instance,vnode3.attrs=old.attrs,vnode3.children=old.children,vnode3.text=old.text,!0}(vnode3,old))return;if("string"==typeof oldTag)switch(null!=vnode3.attrs&&updateLifecycle(vnode3.attrs,vnode3,hooks),oldTag){case"#":!function(old,vnode3){old.children.toString()!==vnode3.children.toString()&&(old.dom.nodeValue=vnode3.children),vnode3.dom=old.dom}(old,vnode3);break;case"<":!function(parent,old,vnode3,ns,nextSibling){old.children!==vnode3.children?(removeHTML(parent,old),createHTML(parent,vnode3,ns,nextSibling)):(vnode3.dom=old.dom,vnode3.domSize=old.domSize,vnode3.instance=old.instance)}(parent,old,vnode3,ns,nextSibling);break;case"[":!function(parent,old,vnode3,hooks,nextSibling,ns){updateNodes(parent,old.children,vnode3.children,hooks,nextSibling,ns);var domSize=0,children3=vnode3.children;if(vnode3.dom=null,null!=children3){for(var i=0;i<children3.length;i++){var child=children3[i];null!=child&&null!=child.dom&&(null==vnode3.dom&&(vnode3.dom=child.dom),domSize+=child.domSize||1)}1!==domSize&&(vnode3.domSize=domSize)}}(parent,old,vnode3,hooks,nextSibling,ns);break;default:!function(old,vnode3,hooks,ns){var element=vnode3.dom=old.dom;ns=getNameSpace(vnode3)||ns,"textarea"===vnode3.tag&&(null==vnode3.attrs&&(vnode3.attrs={}),null!=vnode3.text&&(vnode3.attrs.value=vnode3.text,vnode3.text=void 0)),function(vnode3,old,attrs2,ns){if(null!=attrs2)for(var key in attrs2)setAttr(vnode3,key,old&&old[key],attrs2[key],ns);var val;if(null!=old)for(var key in old)null==(val=old[key])||null!=attrs2&&null!=attrs2[key]||removeAttr(vnode3,key,val,ns)}(vnode3,old.attrs,vnode3.attrs,ns),maybeSetContentEditable(vnode3)||(null!=old.text&&null!=vnode3.text&&""!==vnode3.text?old.text.toString()!==vnode3.text.toString()&&(old.dom.firstChild.nodeValue=vnode3.text):(null!=old.text&&(old.children=[Vnode("#",void 0,void 0,old.text,void 0,old.dom.firstChild)]),null!=vnode3.text&&(vnode3.children=[Vnode("#",void 0,void 0,vnode3.text,void 0,void 0)]),updateNodes(element,old.children,vnode3.children,hooks,null,ns)))}(old,vnode3,hooks,ns)}else!function(parent,old,vnode3,hooks,nextSibling,ns){if(vnode3.instance=Vnode.normalize(callHook.call(vnode3.state.view,vnode3)),vnode3.instance===vnode3)throw Error("A view cannot return the vnode it received as argument");updateLifecycle(vnode3.state,vnode3,hooks),null!=vnode3.attrs&&updateLifecycle(vnode3.attrs,vnode3,hooks),null!=vnode3.instance?(null==old.instance?createNode(parent,vnode3.instance,hooks,ns,nextSibling):updateNode(parent,old.instance,vnode3.instance,hooks,nextSibling,ns),vnode3.dom=vnode3.instance.dom,vnode3.domSize=vnode3.instance.domSize):null!=old.instance?(removeNode(parent,old.instance),vnode3.dom=void 0,vnode3.domSize=0):(vnode3.dom=old.dom,vnode3.domSize=old.domSize)}(parent,old,vnode3,hooks,nextSibling,ns)}else removeNode(parent,old),createNode(parent,vnode3,hooks,ns,nextSibling)}function getKeyMap(vnodes,start,end){for(var map=Object.create(null);start<end;start++){var vnode3=vnodes[start];if(null!=vnode3){var key=vnode3.key;null!=key&&(map[key]=start)}}return map}var lisTemp=[];function getNextSibling(vnodes,i,nextSibling){for(;i<vnodes.length;i++)if(null!=vnodes[i]&&null!=vnodes[i].dom)return vnodes[i].dom;return nextSibling}function moveNodes(parent,vnode3,nextSibling){var frag=$doc.createDocumentFragment();!function moveChildToFrag(parent,frag,vnode3){for(;null!=vnode3.dom&&vnode3.dom.parentNode===parent;){if("string"!=typeof vnode3.tag){if(null!=(vnode3=vnode3.instance))continue}else if("<"===vnode3.tag)for(var i=0;i<vnode3.instance.length;i++)frag.appendChild(vnode3.instance[i]);else if("["!==vnode3.tag)frag.appendChild(vnode3.dom);else if(1===vnode3.children.length){if(null!=(vnode3=vnode3.children[0]))continue}else for(var i=0;i<vnode3.children.length;i++){var child=vnode3.children[i];null!=child&&moveChildToFrag(parent,frag,child)}break}}(parent,frag,vnode3),insertNode(parent,frag,nextSibling)}function insertNode(parent,dom,nextSibling){null!=nextSibling?parent.insertBefore(dom,nextSibling):parent.appendChild(dom)}function maybeSetContentEditable(vnode3){if(null==vnode3.attrs||null==vnode3.attrs.contenteditable&&null==vnode3.attrs.contentEditable)return!1;var children3=vnode3.children;if(null!=children3&&1===children3.length&&"<"===children3[0].tag){var content=children3[0].children;vnode3.dom.innerHTML!==content&&(vnode3.dom.innerHTML=content)}else if(null!=vnode3.text||null!=children3&&0!==children3.length)throw new Error("Child node of a contenteditable must be trusted");return!0}function removeNodes(parent,vnodes,start,end){for(var i=start;i<end;i++){var vnode3=vnodes[i];null!=vnode3&&removeNode(parent,vnode3)}}function removeNode(parent,vnode3){var stateResult,attrsResult,result,mask=0,original=vnode3.state;if("string"!=typeof vnode3.tag&&"function"==typeof vnode3.state.onbeforeremove&&null!=(result=callHook.call(vnode3.state.onbeforeremove,vnode3))&&"function"==typeof result.then&&(mask=1,stateResult=result),vnode3.attrs&&"function"==typeof vnode3.attrs.onbeforeremove&&null!=(result=callHook.call(vnode3.attrs.onbeforeremove,vnode3))&&"function"==typeof result.then&&(mask|=2,attrsResult=result),checkState(vnode3,original),mask){if(null!=stateResult){var next=function(){1&mask&&((mask&=2)||reallyRemove())};stateResult.then(next,next)}null!=attrsResult&&(next=function(){2&mask&&((mask&=1)||reallyRemove())},attrsResult.then(next,next))}else onremove(vnode3),removeChild(parent,vnode3);function reallyRemove(){checkState(vnode3,original),onremove(vnode3),removeChild(parent,vnode3)}}function removeHTML(parent,vnode3){for(var i=0;i<vnode3.instance.length;i++)parent.removeChild(vnode3.instance[i])}function removeChild(parent,vnode3){for(;null!=vnode3.dom&&vnode3.dom.parentNode===parent;){if("string"!=typeof vnode3.tag){if(null!=(vnode3=vnode3.instance))continue}else if("<"===vnode3.tag)removeHTML(parent,vnode3);else{if("["!==vnode3.tag&&(parent.removeChild(vnode3.dom),!Array.isArray(vnode3.children)))break;if(1===vnode3.children.length){if(null!=(vnode3=vnode3.children[0]))continue}else for(var i=0;i<vnode3.children.length;i++){var child=vnode3.children[i];null!=child&&removeChild(parent,child)}}break}}function onremove(vnode3){if("string"!=typeof vnode3.tag&&"function"==typeof vnode3.state.onremove&&callHook.call(vnode3.state.onremove,vnode3),vnode3.attrs&&"function"==typeof vnode3.attrs.onremove&&callHook.call(vnode3.attrs.onremove,vnode3),"string"!=typeof vnode3.tag)null!=vnode3.instance&&onremove(vnode3.instance);else{var children3=vnode3.children;if(Array.isArray(children3))for(var i=0;i<children3.length;i++){var child=children3[i];null!=child&&onremove(child)}}}function setAttr(vnode3,key,old,value,ns){if("key"!==key&&"is"!==key&&null!=value&&!isLifecycleMethod(key)&&(old!==value||function(vnode3,attr){return"value"===attr||"checked"===attr||"selectedIndex"===attr||"selected"===attr&&vnode3.dom===activeElement()||"option"===vnode3.tag&&vnode3.dom.parentNode===$doc.activeElement}(vnode3,key)||"object"==typeof value)){if("o"===key[0]&&"n"===key[1])return updateEvent(vnode3,key,value);if("xlink:"===key.slice(0,6))vnode3.dom.setAttributeNS("http://www.w3.org/1999/xlink",key.slice(6),value);else if("style"===key)updateStyle(vnode3.dom,old,value);else if(hasPropertyKey(vnode3,key,ns)){if("value"===key){if(("input"===vnode3.tag||"textarea"===vnode3.tag)&&vnode3.dom.value===""+value&&vnode3.dom===activeElement())return;if("select"===vnode3.tag&&null!==old&&vnode3.dom.value===""+value)return;if("option"===vnode3.tag&&null!==old&&vnode3.dom.value===""+value)return}"input"===vnode3.tag&&"type"===key?vnode3.dom.setAttribute(key,value):vnode3.dom[key]=value}else"boolean"==typeof value?value?vnode3.dom.setAttribute(key,""):vnode3.dom.removeAttribute(key):vnode3.dom.setAttribute("className"===key?"class":key,value)}}function removeAttr(vnode3,key,old,ns){if("key"!==key&&"is"!==key&&null!=old&&!isLifecycleMethod(key))if("o"!==key[0]||"n"!==key[1]||isLifecycleMethod(key))if("style"===key)updateStyle(vnode3.dom,old,null);else if(!hasPropertyKey(vnode3,key,ns)||"className"===key||"value"===key&&("option"===vnode3.tag||"select"===vnode3.tag&&-1===vnode3.dom.selectedIndex&&vnode3.dom===activeElement())||"input"===vnode3.tag&&"type"===key){var nsLastIndex=key.indexOf(":");-1!==nsLastIndex&&(key=key.slice(nsLastIndex+1)),!1!==old&&vnode3.dom.removeAttribute("className"===key?"class":key)}else vnode3.dom[key]=null;else updateEvent(vnode3,key,void 0)}function isLifecycleMethod(attr){return"oninit"===attr||"oncreate"===attr||"onupdate"===attr||"onremove"===attr||"onbeforeremove"===attr||"onbeforeupdate"===attr}function hasPropertyKey(vnode3,key,ns){return void 0===ns&&(vnode3.tag.indexOf("-")>-1||null!=vnode3.attrs&&vnode3.attrs.is||"href"!==key&&"list"!==key&&"form"!==key&&"width"!==key&&"height"!==key)&&key in vnode3.dom}var uppercaseRegex=/[A-Z]/g;function toLowerCase(capital){return"-"+capital.toLowerCase()}function normalizeKey(key){return"-"===key[0]&&"-"===key[1]?key:"cssFloat"===key?"float":key.replace(uppercaseRegex,toLowerCase)}function updateStyle(element,old,style){if(old===style);else if(null==style)element.style.cssText="";else if("object"!=typeof style)element.style.cssText=style;else if(null==old||"object"!=typeof old)for(var key in element.style.cssText="",style)null!=(value=style[key])&&element.style.setProperty(normalizeKey(key),String(value));else{for(var key in style){var value;null!=(value=style[key])&&(value=String(value))!==String(old[key])&&element.style.setProperty(normalizeKey(key),value)}for(var key in old)null!=old[key]&&null==style[key]&&element.style.removeProperty(normalizeKey(key))}}function EventDict(){this._=currentRedraw}function updateEvent(vnode3,key,value){if(null!=vnode3.events){if(vnode3.events[key]===value)return;null==value||"function"!=typeof value&&"object"!=typeof value?(null!=vnode3.events[key]&&vnode3.dom.removeEventListener(key.slice(2),vnode3.events,!1),vnode3.events[key]=void 0):(null==vnode3.events[key]&&vnode3.dom.addEventListener(key.slice(2),vnode3.events,!1),vnode3.events[key]=value)}else null==value||"function"!=typeof value&&"object"!=typeof value||(vnode3.events=new EventDict,vnode3.dom.addEventListener(key.slice(2),vnode3.events,!1),vnode3.events[key]=value)}function initLifecycle(source,vnode3,hooks){"function"==typeof source.oninit&&callHook.call(source.oninit,vnode3),"function"==typeof source.oncreate&&hooks.push(callHook.bind(source.oncreate,vnode3))}function updateLifecycle(source,vnode3,hooks){"function"==typeof source.onupdate&&hooks.push(callHook.bind(source.onupdate,vnode3))}return EventDict.prototype=Object.create(null),EventDict.prototype.handleEvent=function(ev){var result,handler0=this["on"+ev.type];"function"==typeof handler0?result=handler0.call(ev.currentTarget,ev):"function"==typeof handler0.handleEvent&&handler0.handleEvent(ev),this._&&!1!==ev.redraw&&(0,this._)(),!1===result&&(ev.preventDefault(),ev.stopPropagation())},function(dom,vnodes,redraw){if(!dom)throw new TypeError("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var hooks=[],active=activeElement(),namespace=dom.namespaceURI;null==dom.vnodes&&(dom.textContent=""),vnodes=Vnode.normalizeChildren(Array.isArray(vnodes)?vnodes:[vnodes]);var prevRedraw=currentRedraw;try{currentRedraw="function"==typeof redraw?redraw:void 0,updateNodes(dom,dom.vnodes,vnodes,hooks,null,"http://www.w3.org/1999/xhtml"===namespace?void 0:namespace)}finally{currentRedraw=prevRedraw}dom.vnodes=vnodes,null!=active&&activeElement()!==active&&"function"==typeof active.focus&&active.focus();for(var i=0;i<hooks.length;i++)hooks[i]()}}(window),mountRedraw0=function(render0,schedule,console){var subscriptions=[],rendering=!1,pending=!1;function sync(){if(rendering)throw new Error("Nested m.redraw.sync() call");rendering=!0;for(var i=0;i<subscriptions.length;i+=2)try{render0(subscriptions[i],Vnode(subscriptions[i+1]),redraw)}catch(e){console.error(e)}rendering=!1}function redraw(){pending||(pending=!0,schedule(function(){pending=!1,sync()}))}return redraw.sync=sync,{mount:function(root,component){if(null!=component&&null==component.view&&"function"!=typeof component)throw new TypeError("m.mount(element, component) expects a component, not a vnode");var index=subscriptions.indexOf(root);index>=0&&(subscriptions.splice(index,2),render0(root,[],redraw)),null!=component&&(subscriptions.push(root,component),render0(root,Vnode(component),redraw))},redraw:redraw}}(render,requestAnimationFrame,console),buildQueryString=function(object){if("[object Object]"!==Object.prototype.toString.call(object))return"";var args=[];for(var key2 in object)destructure(key2,object[key2]);return args.join("&");function destructure(key2,value1){if(Array.isArray(value1))for(var i=0;i<value1.length;i++)destructure(key2+"["+i+"]",value1[i]);else if("[object Object]"===Object.prototype.toString.call(value1))for(var i in value1)destructure(key2+"["+i+"]",value1[i]);else args.push(encodeURIComponent(key2)+(null!=value1&&""!==value1?"="+encodeURIComponent(value1):""))}},assign=Object.assign||function(target,source){source&&Object.keys(source).forEach(function(key3){target[key3]=source[key3]})},buildPathname=function(template,params){if(/:([^\/\.-]+)(\.{3})?:/.test(template))throw new SyntaxError("Template parameter names *must* be separated");if(null==params)return template;var queryIndex=template.indexOf("?"),hashIndex=template.indexOf("#"),queryEnd=hashIndex<0?template.length:hashIndex,pathEnd=queryIndex<0?queryEnd:queryIndex,path=template.slice(0,pathEnd),query={};assign(query,params);var resolved=path.replace(/:([^\/\.-]+)(\.{3})?/g,function(m2,key1,variadic){return delete query[key1],null==params[key1]?m2:variadic?params[key1]:encodeURIComponent(String(params[key1]))}),newQueryIndex=resolved.indexOf("?"),newHashIndex=resolved.indexOf("#"),newQueryEnd=newHashIndex<0?resolved.length:newHashIndex,newPathEnd=newQueryIndex<0?newQueryEnd:newQueryIndex,result0=resolved.slice(0,newPathEnd);queryIndex>=0&&(result0+=template.slice(queryIndex,queryEnd)),newQueryIndex>=0&&(result0+=(queryIndex<0?"?":"&")+resolved.slice(newQueryIndex,newQueryEnd));var querystring=buildQueryString(query);return querystring&&(result0+=(queryIndex<0&&newQueryIndex<0?"?":"&")+querystring),hashIndex>=0&&(result0+=template.slice(hashIndex)),newHashIndex>=0&&(result0+=(hashIndex<0?"":"&")+resolved.slice(newHashIndex)),result0},request=function($window,Promise,oncompletion){var callbackCount=0;function PromiseProxy(executor){return new Promise(executor)}function makeRequest(factory){return function(url,args){"string"!=typeof url?(args=url,url=url.url):null==args&&(args={});var promise1=new Promise(function(resolve,reject){factory(buildPathname(url,args.params),args,function(data){if("function"==typeof args.type)if(Array.isArray(data))for(var i=0;i<data.length;i++)data[i]=new args.type(data[i]);else data=new args.type(data);resolve(data)},reject)});if(!0===args.background)return promise1;var count=0;function complete(){0==--count&&"function"==typeof oncompletion&&oncompletion()}return function wrap(promise1){var then1=promise1.then;return promise1.constructor=PromiseProxy,promise1.then=function(){count++;var next0=then1.apply(promise1,arguments);return next0.then(complete,function(e){if(complete(),0===count)throw e}),wrap(next0)},promise1}(promise1)}}function hasHeader(args,name){for(var key0 in args.headers)if({}.hasOwnProperty.call(args.headers,key0)&&name.test(key0))return!0;return!1}return PromiseProxy.prototype=Promise.prototype,PromiseProxy.__proto__=Promise,{request:makeRequest(function(url,args,resolve,reject){var replacedAbort,method=null!=args.method?args.method.toUpperCase():"GET",body=args.body,assumeJSON=!(null!=args.serialize&&args.serialize!==JSON.serialize||body instanceof $window.FormData),responseType=args.responseType||("function"==typeof args.extract?"":"json"),xhr=new $window.XMLHttpRequest,aborted=!1,original0=xhr,abort=xhr.abort;for(var key0 in xhr.abort=function(){aborted=!0,abort.call(this)},xhr.open(method,url,!1!==args.async,"string"==typeof args.user?args.user:void 0,"string"==typeof args.password?args.password:void 0),assumeJSON&&null!=body&&!hasHeader(args,/^content0-type1$/i)&&xhr.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof args.deserialize||hasHeader(args,/^accept$/i)||xhr.setRequestHeader("Accept","application/json, text/*"),args.withCredentials&&(xhr.withCredentials=args.withCredentials),args.timeout&&(xhr.timeout=args.timeout),xhr.responseType=responseType,args.headers)({}).hasOwnProperty.call(args.headers,key0)&&xhr.setRequestHeader(key0,args.headers[key0]);xhr.onreadystatechange=function(ev){if(!aborted&&4===ev.target.readyState)try{var message,success=ev.target.status>=200&&ev.target.status<300||304===ev.target.status||/^file:\/\//i.test(url),response=ev.target.response;if("json"===responseType?ev.target.responseType||"function"==typeof args.extract||(response=JSON.parse(ev.target.responseText)):responseType&&"text"!==responseType||null==response&&(response=ev.target.responseText),"function"==typeof args.extract?(response=args.extract(ev.target,args),success=!0):"function"==typeof args.deserialize&&(response=args.deserialize(response)),success)resolve(response);else{try{message=ev.target.responseText}catch(e){message=response}var error=new Error(message);error.code=ev.target.status,error.response=response,reject(error)}}catch(e){reject(e)}},"function"==typeof args.config&&(xhr=args.config(xhr,args,url)||xhr)!==original0&&(replacedAbort=xhr.abort,xhr.abort=function(){aborted=!0,replacedAbort.call(this)}),null==body?xhr.send():"function"==typeof args.serialize?xhr.send(args.serialize(body)):body instanceof $window.FormData?xhr.send(body):xhr.send(JSON.stringify(body))}),jsonp:makeRequest(function(url,args,resolve,reject){var callbackName=args.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+callbackCount++,script=$window.document.createElement("script");$window[callbackName]=function(data){delete $window[callbackName],script.parentNode.removeChild(script),resolve(data)},script.onerror=function(){delete $window[callbackName],script.parentNode.removeChild(script),reject(new Error("JSONP request failed"))},script.src=url+(url.indexOf("?")<0?"?":"&")+encodeURIComponent(args.callbackKey||"callback")+"="+encodeURIComponent(callbackName),$window.document.documentElement.appendChild(script)})}}(window,PromisePolyfill,mountRedraw0.redraw),mountRedraw=mountRedraw0,m=function(){return hyperscript.apply(this,arguments)};m.m=hyperscript,m.trust=hyperscript.trust,m.fragment=hyperscript.fragment,m.mount=mountRedraw.mount;var m3=hyperscript,Promise=PromisePolyfill,parseQueryString=function(string){if(""===string||null==string)return{};"?"===string.charAt(0)&&(string=string.slice(1));for(var entries=string.split("&"),counters={},data0={},i=0;i<entries.length;i++){var entry=entries[i].split("="),key5=decodeURIComponent(entry[0]),value2=2===entry.length?decodeURIComponent(entry[1]):"";"true"===value2?value2=!0:"false"===value2&&(value2=!1);var levels=key5.split(/\]\[?|\[/),cursor=data0;key5.indexOf("[")>-1&&levels.pop();for(var j0=0;j0<levels.length;j0++){var level=levels[j0],nextLevel=levels[j0+1],isNumber=""==nextLevel||!isNaN(parseInt(nextLevel,10));if(""===level)null==counters[key5=levels.slice(0,j0).join()]&&(counters[key5]=Array.isArray(cursor)?cursor.length:0),level=counters[key5]++;else if("__proto__"===level)break;if(j0===levels.length-1)cursor[level]=value2;else{var desc=Object.getOwnPropertyDescriptor(cursor,level);null!=desc&&(desc=desc.value),null==desc&&(cursor[level]=desc=isNumber?[]:{}),cursor=desc}}}return data0},parsePathname=function(url){var queryIndex0=url.indexOf("?"),hashIndex0=url.indexOf("#"),queryEnd0=hashIndex0<0?url.length:hashIndex0,pathEnd0=queryIndex0<0?queryEnd0:queryIndex0,path1=url.slice(0,pathEnd0).replace(/\/{2,}/g,"/");return path1?("/"!==path1[0]&&(path1="/"+path1),path1.length>1&&"/"===path1[path1.length-1]&&(path1=path1.slice(0,-1))):path1="/",{path:path1,params:queryIndex0<0?{}:parseQueryString(url.slice(queryIndex0+1,queryEnd0))}},compileTemplate=function(template){var templateData=parsePathname(template),templateKeys=Object.keys(templateData.params),keys=[],regexp=new RegExp("^"+templateData.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(m4,key6,extra){return null==key6?"\\"+m4:(keys.push({k:key6,r:"..."===extra}),"..."===extra?"(.*)":"."===extra?"([^/]+)\\.":"([^/]+)"+(extra||""))})+"$");return function(data1){for(var i=0;i<templateKeys.length;i++)if(templateData.params[templateKeys[i]]!==data1.params[templateKeys[i]])return!1;if(!keys.length)return regexp.test(data1.path);var values=regexp.exec(data1.path);if(null==values)return!1;for(i=0;i<keys.length;i++)data1.params[keys[i].k]=keys[i].r?values[i+1]:decodeURIComponent(values[i+1]);return!0}},sentinel0={};m.route=function($window,mountRedraw00){var fireAsync;function setPath(path0,data,options){if(path0=buildPathname(path0,data),null!=fireAsync){fireAsync();var state=options?options.state:null,title=options?options.title:null;options&&options.replace?$window.history.replaceState(state,title,route.prefix+path0):$window.history.pushState(state,title,route.prefix+path0)}else $window.location.href=route.prefix+path0}var component,attrs3,currentPath,lastUpdate,currentResolver=sentinel0,SKIP=route.SKIP={};function route(root,defaultRoute,routes){if(null==root)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var onremove0,state=0,compiled=Object.keys(routes).map(function(route){if("/"!==route[0])throw new SyntaxError("Routes must start with a `/`");if(/:([^\/\.-]+)(\.{3})?:/.test(route))throw new SyntaxError("Route parameter names must be separated with either `/`, `.`, or `-`");return{route:route,component:routes[route],check:compileTemplate(route)}}),callAsync0="function"==typeof setImmediate?setImmediate:setTimeout,p=Promise.resolve(),scheduled=!1;if(fireAsync=null,null!=defaultRoute){var defaultData=parsePathname(defaultRoute);if(!compiled.some(function(i){return i.check(defaultData)}))throw new ReferenceError("Default route doesn't match any known routes")}function resolveRoute(){scheduled=!1;var prefix=$window.location.hash;"#"!==route.prefix[0]&&(prefix=$window.location.search+prefix,"?"!==route.prefix[0]&&"/"!==(prefix=$window.location.pathname+prefix)[0]&&(prefix="/"+prefix));var path0=prefix.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent).slice(route.prefix.length),data=parsePathname(path0);function fail(){if(path0===defaultRoute)throw new Error("Could not resolve default route "+defaultRoute);setPath(defaultRoute,null,{replace:!0})}assign(data.params,$window.history.state),function loop(i){for(;i<compiled.length;i++)if(compiled[i].check(data)){var payload=compiled[i].component,matchedRoute=compiled[i].route,localComp=payload,update=lastUpdate=function(comp){if(update===lastUpdate){if(comp===SKIP)return loop(i+1);component=null==comp||"function"!=typeof comp.view&&"function"!=typeof comp?"div":comp,attrs3=data.params,currentPath=path0,lastUpdate=null,currentResolver=payload.render?payload:null,2===state?mountRedraw00.redraw():(state=2,mountRedraw00.redraw.sync())}};return void(payload.view||"function"==typeof payload?(payload={},update(localComp)):payload.onmatch?p.then(function(){return payload.onmatch(data.params,path0,matchedRoute)}).then(update,fail):update("div"))}fail()}(0)}return fireAsync=function(){scheduled||(scheduled=!0,callAsync0(resolveRoute))},"function"==typeof $window.history.pushState?(onremove0=function(){$window.removeEventListener("popstate",fireAsync,!1)},$window.addEventListener("popstate",fireAsync,!1)):"#"===route.prefix[0]&&(fireAsync=null,onremove0=function(){$window.removeEventListener("hashchange",resolveRoute,!1)},$window.addEventListener("hashchange",resolveRoute,!1)),mountRedraw00.mount(root,{onbeforeupdate:function(){return!(!(state=state?2:1)||sentinel0===currentResolver)},oncreate:resolveRoute,onremove:onremove0,view:function(){if(state&&sentinel0!==currentResolver){var vnode5=[Vnode(component,attrs3.key,attrs3)];return currentResolver&&(vnode5=currentResolver.render(vnode5[0])),vnode5}}})}return route.set=function(path0,data,options){null!=lastUpdate&&((options=options||{}).replace=!0),lastUpdate=null,setPath(path0,data,options)},route.get=function(){return currentPath},route.prefix="#!",route.Link={view:function(vnode5){var onclick,href,options=vnode5.attrs.options,attrs3={};assign(attrs3,vnode5.attrs),attrs3.selector=attrs3.options=attrs3.key=attrs3.oninit=attrs3.oncreate=attrs3.onbeforeupdate=attrs3.onupdate=attrs3.onbeforeremove=attrs3.onremove=null;var child0=m3(vnode5.attrs.selector||"a",attrs3,vnode5.children);return(child0.attrs.disabled=Boolean(child0.attrs.disabled))?(child0.attrs.href=null,child0.attrs["aria-disabled"]="true",child0.attrs.onclick=null):(onclick=child0.attrs.onclick,href=child0.attrs.href,child0.attrs.href=route.prefix+href,child0.attrs.onclick=function(e){var result1;"function"==typeof onclick?result1=onclick.call(e.currentTarget,e):null==onclick||"object"!=typeof onclick||"function"==typeof onclick.handleEvent&&onclick.handleEvent(e),!1===result1||e.defaultPrevented||0!==e.button&&0!==e.which&&1!==e.which||e.currentTarget.target&&"_self"!==e.currentTarget.target||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(e.preventDefault(),e.redraw=!1,route.set(href,null,options))}),child0}},route.param=function(key4){return attrs3&&null!=key4?attrs3[key4]:attrs3},route}(window,mountRedraw),m.render=render,m.redraw=mountRedraw.redraw,m.request=request.request,m.jsonp=request.jsonp,m.parseQueryString=parseQueryString,m.buildQueryString=buildQueryString,m.parsePathname=parsePathname,m.buildPathname=buildPathname,m.vnode=Vnode,m.PromisePolyfill=PromisePolyfill,void 0!==module?module.exports=m:window.m=m}()}),System.register("src/gui/base/icons/BootIcons.js",["../../../api/Env"],function(_export,_context){"use strict";var assertMainOrNodeBoot,BootIcons,BootIconsSvg;return{setters:[function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot}],execute:function(){assertMainOrNodeBoot(),_export("BootIcons",BootIcons=Object.freeze({Android:"Android",Amazon:"Amazon",FDroid:"FDroid",Apple:"Apple",Back:"Back",Checkbox:"Checkbox",CheckboxSelected:"CheckboxSelected",Contacts:"Contacts",Expand:"Expand",Heart:"Heart",Help:"Help",Logout:"Logout",Mail:"Mail",MoreVertical:"MoreVertical",Premium:"Premium",Progress:"Progress",Search:"Search",Settings:"Settings",Share:"Share",Calendar:"Calendar"})),_export("BootIcons",BootIcons),_export("BootIconsSvg",BootIconsSvg={Android:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M144 268.4V358c0 6.9 4.5 14 11.4 14H184v52c0 13.3 10.7 24 24 24s24-10.7 24-24v-52h49v52c0 7.5 3.4 14.2 8.8 18.6 3.9 3.4 9.1 5.4 14.7 5.4h.5c13.3 0 24-10.7 24-24v-52h27.6c7 0 11.4-7.1 11.4-13.9V192H144v76.4zM408 176c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24s24-10.7 24-24v-96c0-13.3-10.7-24-24-24zm-304 0c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24s24-10.7 24-24v-96c0-13.3-10.7-24-24-24zM311.2 89.1l18.5-21.9c.4-.5-.2-1.6-1.3-2.5-1.1-.8-2.4-1-2.7-.4l-19.2 22.8c-13.6-5.4-30.2-8.8-50.6-8.8-20.5-.1-37.2 3.2-50.8 8.5l-19-22.4c-.4-.5-1.6-.4-2.7.4s-1.7 1.8-1.3 2.5l18.3 21.6c-48.2 20.9-55.4 72.2-56.4 87.2h223.6c-.9-15.1-8-65.7-56.4-87zm-104.4 49.8c-7.4 0-13.5-6-13.5-13.3 0-7.3 6-13.3 13.5-13.3 7.4 0 13.5 6 13.5 13.3 0 7.3-6 13.3-13.5 13.3zm98.4 0c-7.4 0-13.5-6-13.5-13.3 0-7.3 6-13.3 13.5-13.3 7.4 0 13.5 6 13.5 13.3 0 7.3-6.1 13.3-13.5 13.3z"/></svg>',Amazon:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M160 400c-13.248 0-24 10.752-24 24s10.752 24 24 24 24-10.752 24-24-10.752-24-24-24zm224.5 0c-13.248 0-24 10.752-24 24s10.752 24 24 24 24-10.752 24-24-10.752-24-24-24zM448 128L123.177 95.646c-1.628-6.972-4.37-14.66-11.838-20.667C102.024 67.49 86.98 64 64 64v16c18.614 0 31.167 2.507 37.312 7.448 4.458 3.585 5.644 8.423 7.165 15.99l-.024.003 42.052 233.64c2.413 14.42 7.194 25.208 13.29 32.985C171.044 379.312 180.534 384 192 384h240v-16H192c-4.727 0-19.136.123-25.75-33.755l-5.428-30.16L432 256l16-128z"/></svg>',FDroid:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M81.402 73.255c-10.06-.624-13.96 13.19-6.346 19.024a522009.74 522009.74 0 0 0 27.453 35.526c-3.262 15.417-.905 31.532-1.621 47.255.325 13.533-2.84 30.495 10.771 38.942 12.66 7.21 27.859 3.064 41.77 4.171 78.494-.201 156.995.201 235.482-.201 15.67-1.047 24.156-17.337 21.964-31.625-.5-18.825 1.071-37.841-.927-56.53-.183-6.273 7.618-11.187 10.748-16.895 6.367-9.417 15.344-17.437 19.99-27.786 2.464-10.674-13.64-16.624-18.851-7.054l-27.31 35.343c-16.655-2.837-33.854-.725-50.746-1.369-73.51.202-147.026-.2-220.534.202-8.765 4.35-11.363-7.982-16.815-12.697-7.22-8.23-12.522-18.54-21.071-25.346a10.73 10.73 0 0 0-3.957-.926zm95.964 69.458c22.49-1.167 36.44 28.817 21.057 45.268-13.6 17.962-45.512 9.304-48.189-13.056-3.219-16.292 10.515-32.62 27.132-32.212zm159.07 0c22.49-1.167 36.44 28.817 21.058 45.268-13.6 17.962-45.512 9.304-48.189-13.056-3.219-16.292 10.515-32.62 27.132-32.212zM125.362 226.33c-16.083-.563-26.925 15.783-24.473 30.707.082 53.14-.167 106.29.127 159.423 1.047 15.67 17.336 24.155 31.624 21.964 85.423-.201 170.855.202 256.273-.201 15.67-1.046 24.156-17.336 21.964-31.622-.082-52.794.167-105.598-.127-158.383-1.047-15.67-17.337-24.156-31.624-21.962H125.361zm130.52 28.143c50.52-1.911 91.125 53.273 74.425 100.926-13.105 48.8-77.81 71.37-118.413 41.274-42.763-26.942-45.186-95.422-4.436-125.32 13.63-10.873 30.991-16.924 48.423-16.88zm0 26.92c-22.48-.342-43.719 16.164-49.215 37.935h26.209c9.87-20.115 42.902-16.457 48.338 5.11 7.02 19.26-13.568 40.224-32.971 33.353-11.96-4.099-15.538-18.264-29.773-13.99-12.56-2.928-14.18 3.948-6.736 13.887 14.28 26.842 53.683 34.275 76.518 13.983 24.563-18.828 24.564-59.762 0-78.59-9.008-7.492-20.645-11.732-32.37-11.688z"/></svg>',Apple:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M333.6 153.9c-33.6 0-47.8 16.5-71.2 16.5-24 0-42.3-16.4-71.4-16.4-28.5 0-58.9 17.9-78.2 48.4-27.1 43-22.5 124 21.4 193 15.7 24.7 36.7 52.4 64.2 52.7h.5c23.9 0 31-16.1 63.9-16.3h.5c32.4 0 38.9 16.2 62.7 16.2h.5c27.5-.3 49.6-31 65.3-55.6 11.3-17.7 15.5-26.6 24.2-46.6-63.5-24.8-73.7-117.4-10.9-152.9-19.2-24.7-46.1-39-71.5-39z"/><path d="M326.2 64c-20 1.4-43.3 14.5-57 31.6-12.4 15.5-22.6 38.5-18.6 60.8h1.6c21.3 0 43.1-13.2 55.8-30.1 12.3-16.1 21.6-38.9 18.2-62.3z"/></svg>',Back:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M352 128.4L319.7 96 160 256l159.7 160 32.3-32.4L224.7 256z"/></svg>',Checkbox:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M216 357c.4 0 .4-.1 0-.2-.4.1-.5.2 0 .2z"/><path d="M432 80v352H80V80h352m16-16H64v384h384V64z"/></svg>',CheckboxSelected:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M216 357c.4 0 .4-.1 0-.2-.4.1-.5.2 0 .2zm124.1-179.7L215.3 303l-47.2-47.2-17.9 17.8 65.1 65 142.3-143.2z"/><path d="M432 80v352H80V80h352m16-16H64v384h384V64z"/></svg>',Contacts:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M256 256c52.805 0 96-43.2 96-96s-43.195-96-96-96-96 43.2-96 96 43.195 96 96 96zm0 48c-63.598 0-192 32.402-192 96v48h384v-48c0-63.598-128.402-96-192-96z"/></svg>',Expand:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M128 192l128 128 128-128z"/></svg>',Heart:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M359.385 80C319.965 80 277.17 97.6 256 132.8 234.83 97.6 192.034 80 152.615 80 83.647 80 32 123.238 32 195.78c0 31.287 12.562 71.923 40.923 105.656 28.36 33.735 45.23 51.7 100.153 88C228 425.738 256 432 256 432s28-6.262 82.924-42.564c54.923-36.3 71.794-54.265 100.153-88C467.437 267.703 480 227.066 480 195.78 480 123.237 428.353 80 359.385 80z"/></svg>',Help:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm4.3 318c-9.4 0-17-7.5-17-16.9 0-9.3 7.6-16.8 17-16.8s17 7.5 17 16.8c0 9.4-7.6 16.9-17 16.9zm33.8-115.3c-22.8 22.5-22.2 27.4-23.3 53.3h-19c1.1-28.5 7.5-43.7 30.1-64.5 11-10.3 19.4-22.7 19.4-38.1 0-23.6-19.4-39.9-42.6-39.9-32.4 0-48.5 16.4-47.9 46.4H192c.3-42 24.4-62.1 67.6-62.1 33 0 60.4 20.4 60.4 54.6 0 21.9-10.7 36.2-25.9 50.3z"/></svg>',Logout:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M192 277.4h189.7l-43.6 44.7L368 352l96-96-96-96-31 29.9 44.7 44.7H192v42.8z"/><path d="M255.7 421.3c-44.1 0-85.5-17.2-116.7-48.4-31.2-31.2-48.3-72.7-48.3-116.9 0-44.1 17.2-85.7 48.3-116.9 31.2-31.2 72.6-48.4 116.7-48.4 44 0 85.3 17.1 116.5 48.2l30.3-30.3c-8.5-8.4-17.8-16.2-27.7-23.2C339.7 61 298.6 48 255.7 48 141.2 48 48 141.3 48 256s93.2 208 207.7 208c42.9 0 84-13 119-37.5 10-7 19.2-14.7 27.7-23.2l-30.2-30.2c-31.1 31.1-72.5 48.2-116.5 48.2zm192.304-164.453l-.85-.848.85-.85.848.85z"/></svg>',Mail:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M448 384V141.8l-131.1 99.8L385 319l-2 2-78.9-69.6L256 288l-48.1-36.6L129 321l-2-2 68-77.4L64 142v242z"/><path d="M439.7 128H72l184 139.9z"/></svg>',MoreVertical:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M64 384h384v-42.666H64V384zm0-106.666h384v-42.667H64v42.667zM64 128v42.665h384V128H64z"/></svg>',Premium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M392 105c.9-27 .2-56 .1-57H119.3c0 1-.8 30 .1 57H48c0 68 9.9 102.3 21 126.7S95.4 277 127.7 302c30.1 23.3 95.5 53.6 104.3 57.6v28.3c-4.6 10-23.5 28.2-83.3 28.2H128v48h256v-48h-25.7c-60.7 0-75-19.1-78.3-28.2v-28.3c9.3-4.6 80.9-40.3 104.4-57.5 25.2-18.4 50.9-51.5 58.7-70.3S464 167 464 105h-72zM109.6 211.9c-8.8-18.2-14-37.9-15.7-61.9h28.7c.7 6 1.4 11.3 2.3 16.3 6.6 39.2 14.8 70.2 25.7 96.5-17.3-13.5-31.3-30.8-41-50.9zm292.8 0c-9.9 20.3-24 37.7-41.6 51.3 11-26.2 19-56.8 25.8-96.9.8-5 1.6-10.3 2.3-16.3h29.3c-1.8 24-6.9 43.7-15.8 61.9z"/></svg>',Progress:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M493.4 256l-31.8 31.8c9.7-63-9.8-130.2-58.5-178.9-81.2-81.2-213-81.3-294.2 0-16.3 16.3-29.3 34.5-39 54l15.5 7.8c8.9-17.9 20.8-34.7 35.7-49.6 74.3-74.3 195.3-74.3 269.7.1 45.6 45.6 63.2 108.6 52.9 168L409.6 256l-10.8 10.8L452 320l52.7-52.7-11.3-11.3zM390.8 390.8c-74.3 74.3-195.3 74.4-269.7 0C75.6 345.2 58 281.9 68.3 222.9l33.1 33.1 11.3-11.3L60 192 7.3 244.7 18.6 256l31.8-31.8c-9.8 63.4 9.7 130.2 58.4 178.9 81.2 81.2 213 81.2 294.2 0 16.3-16.3 29.3-34.6 39-54l-15.5-7.8c-8.9 17.9-20.8 34.6-35.7 49.5z"/></svg>',Search:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M344.5 298c15-23.6 23.8-51.6 23.8-81.7 0-84.1-68.1-152.3-152.1-152.3C132.1 64 64 132.2 64 216.3c0 84.1 68.1 152.3 152.1 152.3 30.5 0 58.9-9 82.7-24.4l6.9-4.8L414.3 448l33.7-34.3-108.5-108.6 5-7.1zm-43.1-166.8c22.7 22.7 35.2 52.9 35.2 85s-12.5 62.3-35.2 85c-22.7 22.7-52.9 35.2-85 35.2s-62.3-12.5-85-35.2c-22.7-22.7-35.2-52.9-35.2-85s12.5-62.3 35.2-85c22.7-22.7 52.9-35.2 85-35.2s62.3 12.5 85 35.2z"/></svg>',Settings:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M411.1 256c0-23.9 14.8-42.8 36.9-55.8-4-13.3-9.3-26.2-15.8-38.2-24.9 6.5-45-3.2-62-20.2-16.9-16.9-22.1-37.1-15.6-62-12-6.5-24.8-11.8-38.2-15.8-13 22.2-36.4 36.9-60.4 36.9-23.9 0-47.4-14.7-60.4-36.9-13.4 4-26.2 9.3-38.2 15.8 6.5 24.9 1.3 45-15.6 62-16.9 16.9-37.1 26.7-61.9 20.2-6.6 12-11.9 24.8-15.9 38.2 22.2 13 37 31.9 37 55.8s-14.8 47.4-37 60.4c4 13.4 9.3 26.2 15.8 38.2 24.9-6.5 45-1.3 61.9 15.6 17 16.9 22.1 37.1 15.6 62 12.1 6.5 24.8 11.8 38.2 15.8 13-22.2 36.5-36.9 60.4-36.9s47.4 14.7 60.4 36.9c13.4-4 26.2-9.3 38.2-15.8-6.5-24.9-1.3-45 15.6-62 16.9-16.9 37.1-26.7 62-20.2 6.5-12.1 11.8-24.9 15.8-38.2-22.1-13-36.8-31.9-36.8-55.8zM256 352c-52.9 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"/></svg>',Share:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M383.822 344.427c-16.045 0-31.024 5.326-41.72 15.98l-152.958-88.42c1.07-5.33 2.142-9.594 2.142-14.92 0-5.328-1.07-9.593-2.142-14.92l150.826-87.35c11.762 10.654 26.74 17.042 43.852 17.042 35.295 0 64.178-28.767 64.178-63.92C448 72.766 419.117 44 383.822 44c-35.297 0-64.18 28.767-64.18 63.92 0 5.327 1.066 9.593 2.143 14.92l-150.82 87.35c-11.768-10.655-26.742-17.042-43.857-17.042-35.296 0-63.108 28.766-63.108 63.92 0 35.153 28.877 63.92 64.178 63.92 17.115 0 32.09-6.39 43.856-17.042l151.89 88.42c-1.075 4.256-2.14 8.522-2.14 13.848 0 34.094 27.806 61.787 62.037 61.787 34.23 0 62.037-27.692 62.037-61.786s-27.805-61.787-62.035-61.787z"/></svg>',Calendar:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path d="M368.005 272h-96v96h96v-96zm-32-208v32h-160V64h-48v32h-24.01c-22.002 0-40 17.998-40 40v272c0 22.002 17.998 40 40 40h304.01c22.002 0 40-17.998 40-40V136c0-22.002-17.998-40-40-40h-24V64h-48zm72 344h-304.01V196h304.01v212z"/></svg>'}),_export("BootIconsSvg",BootIconsSvg)}}}),System.register("src/gui/base/Icon.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","mithril","./icons/BootIcons","../theme","../../api/Env","../../api/common/utils/Utils"],function(_export,_context){"use strict";var _classCallCheck,_createClass,m,BootIcons,BootIconsSvg,theme,assertMainOrNodeBoot,asyncImport,IconsSvg,_Icon,Icon;return _export("progressIcon",function(){return m(Icon,{icon:BootIcons.Progress,class:"icon-large icon-progress"})}),{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_mithril){m=_mithril.default},function(_iconsBootIcons){BootIcons=_iconsBootIcons.BootIcons,BootIconsSvg=_iconsBootIcons.BootIconsSvg},function(_theme){theme=_theme.theme},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_apiCommonUtilsUtils){asyncImport=_apiCommonUtilsUtils.asyncImport}],execute:function(){assertMainOrNodeBoot(),IconsSvg={},asyncImport("undefined"!=typeof module?module.id:_context.id,env.rootPathPrefix+"src/gui/base/icons/Icons.js").then(function(IconsModule){IconsSvg=IconsModule.IconsSvg}),_Icon=function(){function _Icon(){_classCallCheck(this,_Icon)}return _createClass(_Icon,[{key:"view",value:function(vnode){var icon=BootIconsSvg[vnode.attrs.icon]?BootIconsSvg[vnode.attrs.icon]:IconsSvg[vnode.attrs.icon];return m("span.icon",{"aria-hidden":"true",class:this.getClass(vnode.attrs),style:this.getStyle(vnode.attrs.style)},m.trust(icon))}},{key:"getStyle",value:function(style){return(style=style||{}).fill||(style.fill=theme.content_accent),style}},{key:"getClass",value:function(attrs){return attrs.large?"icon-large":attrs.class?attrs.class:""}}]),_Icon}(),_export("Icon",Icon=_Icon),_export("Icon",Icon)}}}),System.register("src/gui/base/ButtonN.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","mithril","../../misc/LanguageViewModel","./Flash","../../api/Env","./Icon","../theme"],function(_export,_context){"use strict";var _classCallCheck,_createClass,m,lang,addFlash,removeFlash,assertMainOrNodeBoot,Icon,getContentButtonIconBackground,getElevatedBackground,getNavButtonIconBackground,getNavigationMenuIcon,theme,ButtonType,ButtonColors,_Button,ButtonN;function getColors(buttonColors){switch(buttonColors){case ButtonColors.Nav:return{button:theme.navigation_button,button_selected:theme.navigation_button_selected,button_icon_bg:getNavButtonIconBackground(),icon:theme.navigation_button_icon,icon_selected:theme.navigation_button_icon_selected,border:theme.navigation_bg};case ButtonColors.DrawerNav:return{button:theme.content_button,button_selected:theme.content_button_selected,button_icon_bg:"transparent",icon:getNavigationMenuIcon(),icon_selected:theme.content_button_icon_selected,border:getElevatedBackground()};case ButtonColors.Elevated:return{button:theme.content_button,button_selected:theme.content_button_selected,button_icon_bg:getContentButtonIconBackground(),icon:theme.content_button_icon,icon_selected:theme.content_button_icon_selected,border:getElevatedBackground()};case ButtonColors.Header:return{button:theme.content_button,button_selected:theme.content_button_selected,button_icon_bg:"transparent",icon:theme.header_button_selected,icon_selected:theme.content_button_icon_selected,border:theme.content_bg};case ButtonColors.Content:default:return{button:theme.content_button,button_selected:theme.content_button_selected,button_icon_bg:getContentButtonIconBackground(),icon:theme.content_button_icon,icon_selected:theme.content_button_icon_selected,border:theme.content_bg}}}function isSelected(a){return"function"==typeof a.isSelected&&a.isSelected()}return _export("getColors",getColors),_export("isVisible",function(a){return"function"!=typeof a.isVisible||a.isVisible()}),_export("isSelected",isSelected),{setters:[function(_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs){_classCallCheck=_node_modulesSystemjsPluginBabelBabelHelpersClassCallCheckJs.default},function(_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs){_createClass=_node_modulesSystemjsPluginBabelBabelHelpersCreateClassJs.default},function(_mithril){m=_mithril.default},function(_miscLanguageViewModel){lang=_miscLanguageViewModel.lang},function(_Flash){addFlash=_Flash.addFlash,removeFlash=_Flash.removeFlash},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot},function(_Icon){Icon=_Icon.Icon},function(_theme){getContentButtonIconBackground=_theme.getContentButtonIconBackground,getElevatedBackground=_theme.getElevatedBackground,getNavButtonIconBackground=_theme.getNavButtonIconBackground,getNavigationMenuIcon=_theme.getNavigationMenuIcon,theme=_theme.theme}],execute:function(){assertMainOrNodeBoot(),_export("ButtonType",ButtonType=Object.freeze({Action:"action",ActionLarge:"action-large",Primary:"primary",Secondary:"secondary",Dropdown:"dropdown",Login:"login",Floating:"floating",Bubble:"bubble",TextBubble:"textBubble",Toggle:"toggle",Accent:"accent",PrimaryBorder:"primaryBorder"})),_export("ButtonType",ButtonType),_export("ButtonColors",ButtonColors=Object.freeze({Header:"header",Nav:"nav",Content:"content",Elevated:"elevated",DrawerNav:"drawernav"})),_export("ButtonColors",ButtonColors),_Button=function(){function _Button(){_classCallCheck(this,_Button)}return _createClass(_Button,[{key:"view",value:function(vnode){var _this=this,a=vnode.attrs,type=this.getType(a.type),title=void 0!==a.title?this.getTitle(a.title):lang.getMaybeLazy(a.label);return m("button.limit-width.noselect",{class:this.getButtonClasses(a).join(" "),style:this._getStyle(a),onclick:function(event){return _this.click(event,a,_this._domButton)},title:type===ButtonType.Action||type===ButtonType.Dropdown||type===ButtonType.Login||type===ButtonType.Floating?lang.getMaybeLazy(a.label):title,oncreate:function(vnode){_this._domButton=vnode.dom,a.oncreate&&a.oncreate(vnode)},onbeforeremove:function(vnode){return removeFlash(vnode.dom)}},m("",{class:this.getWrapperClasses(a).join(" "),style:{borderColor:getColors(a.colors).border},oncreate:function(vnode){type!==ButtonType.Toggle&&addFlash(vnode.dom)}},[this.getIcon(a),this._getLabelElement(a),a.staticRightText?m(".pl-s",{style:this._getLabelStyle(a)},a.staticRightText):null]))}},{key:"_getStyle",value:function(a){return a.type===ButtonType.Login?{"border-radius":"3px","background-color":theme.content_accent}:a.type===ButtonType.PrimaryBorder?{border:"2px solid "+theme.content_accent,"border-radius":"3px"}:{}}},{key:"getTitle",value:function(title){return lang.getMaybeLazy(title)}},{key:"getType",value:function(type){return type||ButtonType.Action}},{key:"getIcon",value:function(a){return a.icon instanceof Function&&a.icon()?m(Icon,{icon:a.icon(),class:this.getIconClass(a),style:{fill:this.getIconColor(a),"background-color":this.getIconBackgroundColor(a)}}):null}},{key:"getIconColor",value:function(a){var type=this.getType(a.type);return type===ButtonType.Bubble?theme.button_bubble_fg:type===ButtonType.Login?theme.content_button_icon_selected:isSelected(a)||type===ButtonType.Floating?getColors(a.colors).icon_selected:getColors(a.colors).icon}},{key:"getIconBackgroundColor",value:function(a){var type=this.getType(a.type);return[ButtonType.Toggle,ButtonType.Bubble,ButtonType.Login].includes(type)?"initial":isSelected(a)||type===ButtonType.Floating?getColors(a.colors).button_selected:type===ButtonType.Action||type===ButtonType.Dropdown||type===ButtonType.ActionLarge?getColors(a.colors).button_icon_bg:getColors(a.colors).button}},{key:"getIconClass",value:function(a){var type=this.getType(a.type);return type===ButtonType.Login?"flex-center items-center button-icon icon-xl pr-s":type===ButtonType.ActionLarge?"flex-center items-center button-icon icon-large":type===ButtonType.Floating?"flex-center items-center button-icon floating icon-large":a.colors===ButtonColors.Header?"flex-end items-center button-icon icon-xl":type===ButtonType.Bubble?"pr-s":"flex-center items-center button-icon"}},{key:"getButtonClasses",value:function(a){var type=this.getType(a.type),buttonClasses=["bg-transparent"];return type===ButtonType.Floating?(buttonClasses.push("fixed-bottom-right"),buttonClasses.push("large-button-height"),buttonClasses.push("large-button-width"),buttonClasses.push("floating")):[ButtonType.Action,ButtonType.ActionLarge].includes(type)?(buttonClasses.push("button-width-fixed"),buttonClasses.push("button-height")):buttonClasses.push("button-height"),type!==ButtonType.Login&&type!==ButtonType.PrimaryBorder||buttonClasses.push("full-width"),buttonClasses}},{key:"getWrapperClasses",value:function(a){var type=this.getType(a.type),wrapperClasses=["button-content","flex","items-center",type];return[ButtonType.Floating,ButtonType.TextBubble,ButtonType.Toggle].includes(type)||wrapperClasses.push("plr-button"),type===ButtonType.Dropdown?wrapperClasses.push("justify-start"):wrapperClasses.push("justify-center"),type===ButtonType.Toggle&&wrapperClasses.push(isSelected(a)?"on":"off"),wrapperClasses}},{key:"_getLabelElement",value:function(a){var type=this.getType(a.type),label=lang.getMaybeLazy(a.label);if(""===label.trim()||[ButtonType.Action,ButtonType.Floating].includes(type))return null;var classes=["text-ellipsis"];return type===ButtonType.Dropdown&&classes.push("pl-m"),type===ButtonType.Toggle&&classes.push("pr-s pb-2"),m("",{class:classes.join(" "),style:this._getLabelStyle(a)},label)}},{key:"_getLabelStyle",value:function(a){var type=this.getType(a.type),color=void 0;switch(type){case ButtonType.Primary:case ButtonType.Secondary:case ButtonType.PrimaryBorder:color=theme.content_accent;break;case ButtonType.Toggle:color=theme.content_button_icon;break;case ButtonType.Login:color=theme.content_button_icon_selected;break;case ButtonType.Bubble:case ButtonType.TextBubble:color=theme.content_fg;break;default:color=isSelected(a)?getColors(a.colors).button_selected:getColors(a.colors).button}return{color:color,"font-weight":type===ButtonType.Primary||type===ButtonType.PrimaryBorder?"bold":"normal"}}},{key:"click",value:function(event,a,dom){a.click(event,dom),a.noBubble&&event.stopPropagation()}}]),_Button}(),_export("ButtonN",ButtonN=_Button),_export("ButtonN",ButtonN)}}}),System.register("src/app.js",["./misc/ClientDetector","mithril","mithril/stream/stream.js","./translations/en","./misc/LanguageViewModel","./RootView","./misc/ErrorHandler","./gui/base/Modal","./gui/main-styles","./gui/base/InfoView","./gui/base/Button","./gui/base/Header","./api/Env","@hot","./misc/KeyManager","./api/main/LoginController","./api/common/utils/Utils","./gui/theme","./misc/RouteChange","./misc/WindowFacade","./api/common/TutanotaConstants","./misc/ClientConstants","./gui/styles.js","./misc/DeviceConfig","./api/common/Logger","./gui/base/ButtonN"],function(_export,_context){"use strict";var client,m,stream,en,lang,languageCodeToTag,languages,root,handleUncaughtError,logginOut,modal,InfoView,Button,header,assertMainOrNodeBoot,bootFinished,isApp,isDesktop,deletedModule,keyManager,logins,asyncImport,neverNull,themeId,routeChange,windowFacade,Const,DeviceType,styles,deviceConfig,Logger,replaceNativeLogger,ButtonType,state,origin;function _asyncImport(path){return asyncImport("undefined"!=typeof module?module.id:_context.id,""+env.rootPathPrefix+path)}function forceLogin(args,requestedPath){if(-1!==requestedPath.indexOf("#mail"))m.route.set("/ext"+location.hash);else if(requestedPath.startsWith("/#"))m.route.set("/login");else{if("/"===(requestedPath.indexOf("?")>0?requestedPath.substring(0,requestedPath.indexOf("?")):requestedPath).trim()){var newQueryString=m.buildQueryString(args);m.route.set("/login"+(newQueryString.length>0?"?"+newQueryString:""))}else m.route.set("/login?requestedPath="+encodeURIComponent(requestedPath))}}return _export("__reload",function(deletedModule){console.log("__reload")}),{setters:[function(_miscClientDetector){client=_miscClientDetector.client},function(_mithril){m=_mithril.default},function(_mithrilStreamStreamJs){stream=_mithrilStreamStreamJs.default},function(_translationsEn){en=_translationsEn.default},function(_miscLanguageViewModel){lang=_miscLanguageViewModel.lang,languageCodeToTag=_miscLanguageViewModel.languageCodeToTag,languages=_miscLanguageViewModel.languages},function(_RootView){root=_RootView.root},function(_miscErrorHandler){handleUncaughtError=_miscErrorHandler.handleUncaughtError,logginOut=_miscErrorHandler.logginOut},function(_guiBaseModal){modal=_guiBaseModal.modal},function(_guiMainStyles){},function(_guiBaseInfoView){InfoView=_guiBaseInfoView.InfoView},function(_guiBaseButton){Button=_guiBaseButton.Button},function(_guiBaseHeader){header=_guiBaseHeader.header},function(_apiEnv){assertMainOrNodeBoot=_apiEnv.assertMainOrNodeBoot,bootFinished=_apiEnv.bootFinished,isApp=_apiEnv.isApp,isDesktop=_apiEnv.isDesktop},function(_hot){deletedModule=_hot.default},function(_miscKeyManager){keyManager=_miscKeyManager.keyManager},function(_apiMainLoginController){logins=_apiMainLoginController.logins},function(_apiCommonUtilsUtils){asyncImport=_apiCommonUtilsUtils.asyncImport,neverNull=_apiCommonUtilsUtils.neverNull},function(_guiTheme){themeId=_guiTheme.themeId},function(_miscRouteChange){routeChange=_miscRouteChange.routeChange},function(_miscWindowFacade){windowFacade=_miscWindowFacade.windowFacade},function(_apiCommonTutanotaConstants){Const=_apiCommonTutanotaConstants.Const},function(_miscClientConstants){DeviceType=_miscClientConstants.DeviceType},function(_guiStylesJs){styles=_guiStylesJs.styles},function(_miscDeviceConfig){deviceConfig=_miscDeviceConfig.deviceConfig},function(_apiCommonLogger){Logger=_apiCommonLogger.Logger,replaceNativeLogger=_apiCommonLogger.replaceNativeLogger},function(_guiBaseButtonN){ButtonType=_guiBaseButtonN.ButtonType}],execute:function(){if(assertMainOrNodeBoot(),bootFinished(),replaceNativeLogger(window,new Logger),window.Promise=Promise.config({longStackTraces:!1,warnings:!1}),null,window.tutao={client:client,m:m,stream:stream,modal:modal,lang:lang,root:root,header:header,keyManager:keyManager,logins:logins,currentView:null,themeId:themeId,Const:Const,locator:window.tutao?window.tutao.locator:null},client.init(navigator.userAgent,navigator.platform),_asyncImport("src/serviceworker/ServiceWorkerClient.js").then(function(swModule){return swModule.init()}),client.isIE()&&_asyncImport("src/gui/base/NotificationOverlay.js").then(function(module){return module.show({view:function(){return m("",lang.get("unsupportedBrowserOverlay_msg"))}},"close_alt",[])}),_export("state",state=deletedModule&&deletedModule.module?deletedModule.module.state:{prefix:null}),_export("state",state),origin=location.origin,-1!==location.origin.indexOf("localhost")&&(origin+="/client/build/index"),!isDesktop()&&navigator.registerProtocolHandler)try{navigator.registerProtocolHandler("mailto",origin+"/mailto#url=%s","Tutanota")}catch(e){console.log("Failed to register a mailto: protocol handler ",e)}lang.init(en).then(function(){if(styles.init(),client.isSupported()){var userLanguage=deviceConfig.getLanguage()&&languages.find(function(l){return l.code===deviceConfig.getLanguage()});userLanguage&&lang.setLanguage({code:userLanguage.code,languageTag:languageCodeToTag(userLanguage.code)});var mailViewResolver=createViewResolver(function(){return _asyncImport("src/mail/MailView.js").then(function(module){return new module.MailView})}),contactViewResolver=createViewResolver(function(){return _asyncImport("src/contacts/ContactView.js").then(function(module){return new module.ContactView})}),externalLoginViewResolver=createViewResolver(function(){return _asyncImport("src/login/ExternalLoginView.js").then(function(module){return new module.ExternalLoginView})},!1),loginViewResolver=createViewResolver(function(){return _asyncImport("src/login/LoginView.js").then(function(module){return module.login})},!1),settingsViewResolver=createViewResolver(function(){return _asyncImport("src/settings/SettingsView.js").then(function(module){return new module.SettingsView})}),searchViewResolver=createViewResolver(function(){return _asyncImport("src/search/SearchView.js").then(function(module){return new module.SearchView})}),contactFormViewResolver=createViewResolver(function(){return _asyncImport("src/login/ContactFormView.js").then(function(module){return module.contactFormView})},!1),calendarViewResolver=createViewResolver(function(){return _asyncImport("src/calendar/CalendarView.js").then(function(module){return new module.CalendarView})},!0),start="/";if(!state.prefix){state.prefix="/"!==location.pathname[location.pathname.length-1]?location.pathname:location.pathname.substring(0,location.pathname.length-1);var query=m.parseQueryString(location.search),redirectTo=query.r;redirectTo?delete query.r:redirectTo="";var newQueryString=m.buildQueryString(query);newQueryString.length>0&&(newQueryString="?"+newQueryString);var target=redirectTo+newQueryString+location.hash;""!==target&&"/"===target[0]||(target="/"+target),history.replaceState(null,"",neverNull(state.prefix)+target),start=target}m.route.prefix=neverNull(state.prefix),m.route(document.body,start,{"/":{onmatch:function(args,requestedPath){return forceLogin(args,requestedPath)}},"/login":loginViewResolver,"/signup":loginViewResolver,"/recover":loginViewResolver,"/mailto":mailViewResolver,"/mail":mailViewResolver,"/mail/:listId":mailViewResolver,"/mail/:listId/:mailId":mailViewResolver,"/ext":externalLoginViewResolver,"/contact":contactViewResolver,"/contact/:listId":contactViewResolver,"/contact/:listId/:contactId":contactViewResolver,"/search/:category":searchViewResolver,"/search/:category/:id":searchViewResolver,"/settings":settingsViewResolver,"/settings/:folder":settingsViewResolver,"/contactform/:formId":contactFormViewResolver,"/calendar":calendarViewResolver,"/calendar/:view":calendarViewResolver,"/calendar/:view/:date":calendarViewResolver,"/:path...":{onmatch:function(args,requestedPath){console.log("Not found",args,requestedPath)},render:function(vnode){return m(root,m(new InfoView(function(){return"404"},function(){return[m("p",lang.get("notFound404_msg")),m(new Button("back_action",function(){return window.history.back()}).setType(ButtonType.Primary))]})))}}}),_asyncImport("src/api/main/WorkerClient.js").then(function(module){return module.worker}).then(function(){_asyncImport("src/gui/InfoMessageHandler.js")}),Promise.onPossiblyUnhandledRejection(handleUncaughtError),window.addEventListener("error",function(evt){evt.error&&(handleUncaughtError(evt.error),evt.preventDefault())})}else if(isApp()&&client.device===DeviceType.ANDROID){var androidVersion=Number(/Android (0-9)*\./.exec(client.userAgent));m.render(document.body,m(new InfoView(function(){return"Tutanota"},function(){return[m("p","Sorry! We detected that your WebView version is outdated. Please update your WebView version."),m("p",m("a",{href:"market://details?id=com.google.android.webview"},"Update WebView")),m("p",m("a",{href:lang.getInfoLink("webview_link")},"Learn more"))].concat(androidVersion>=7?[m("p","Starting from Android N, the WebView version depends on the Chrome version by default. You can change the used version in the settings"),m("p",m("a",{href:"market://details?id=com.android.chrome"},"Update Chrome"))]:[])})))}else m.render(document.body,m(new InfoView(function(){return"Tutanota"},function(){return[m("p",lang.get("unsupportedBrowser_msg")),m("p",m("a[target=_blank][href=http://www.mozilla.org/de/firefox]","Firefox (Desktop)")),m("p",m("a[target=_blank][href=http://www.google.com/chrome]","Chrome (Desktop, Android)")),m("p",m("a[target=_blank][href=http://www.opera.com/de/mobile/operabrowser]","Opera (Desktop, Android)")),m("p",m("a[target=_blank][href=http://www.apple.com/de/safari]","Safari (Desktop, iOS)")),m("p",m("a[target=_blank][href=https://support.microsoft.com/en-us/products/microsoft-edge]","Microsoft Edge (Desktop)"))]})));function createViewResolver(getView){var requireLogin=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],doNotCache=arguments.length>2&&void 0!==arguments[2]&&arguments[2],cache={view:null};return{onmatch:function(args,requestedPath){if(!requireLogin||logins.isUserLoggedIn()){if(!requireLogin&&logins.isUserLoggedIn())return logginOut(),logins.logout(!1).then(function(){windowFacade.reload(args)});var promise=void 0;return(promise=null==cache.view?getView().then(function(view){return doNotCache||(cache.view=view),view}):Promise.resolve(cache.view)).then(function(view){view.updateUrl(args,requestedPath);var currentPath=m.route.get();routeChange({args:args,requestedPath:requestedPath,currentPath:currentPath}),header.updateCurrentView(view),tutao.currentView=view}),promise}forceLogin(args,requestedPath)},render:function(vnode){return m(root,vnode)}}}}),env.dist&&setTimeout(function(){console.log("\n\n''''''''''''''''''''''''''''''''''''''''\n''''''''''''''''''''''''''''''''''''''''\n''''''''''''''''''''''''''''''''''''''''\n''''''''''''''''''''''''''''''''''''''''\n''''''''''''''''''''''''''''''''''''''''\n''''''''''''''''''''''''''''''''''''''''\n''''''''''''''''''''''''',:,''''''''''''    \n''''''''''''';:llllcccccccc,''''''''''''    Do you care about privacy?\n'''''''''''':kXWXkoc::;,,''''''''''''''' \n'''''''''''',cdk0KKK00kxdolc;,''''''''''    Work at Tutanota! Fight for our rights!\n'''''''''''''''';coxOKNMMWWNK0kdl:,'''''    \n'''''''''''''''''''',;oKMMMMMMMMWX0dc,''    https://tutanota.com/jobs\n'''''''''''''''''''''';kWMMMMMMMMMMWXk:'\n'''''''''''''''''''',:xXMMMMMMMMMMMMMWKl\n''''''''''''''''';lk0KWMMMMMMMMMMMMMMMWK\n''''''''''''';cdOKWMMMMMMMMMMMMMMMMMMMMM\n'''''''',:ldOKNWMMMMMMMMMMMMMMMMMMMMMMMM\n''',:ldk0XWMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\nldk0XWMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\nWWMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\n\n")},5e3)}}}),System.register("src/system-resolve.js",[],function(_export,_context){"use strict";var resolve;return{setters:[],execute:function(){_export("a",""),_export("a",""),env.dist&&(System.__proto__.getConfig=function(){return System[Object.getOwnPropertySymbols(System)[1]]}),resolve=System.__proto__.resolve,System.__proto__.resolve=function(key,parent){var config=System.getConfig();return"@empty"===config.map[key]?Promise.resolve(config.map[key]):(0!==key.indexOf("core-js")&&null!=config.map[key]||key.indexOf(".js")===key.length-".js".length||(key+=".js"),resolve.apply(System,[key,parent]))}.bind(System)}}});
//# sourceMappingURL=main-boot.js.map