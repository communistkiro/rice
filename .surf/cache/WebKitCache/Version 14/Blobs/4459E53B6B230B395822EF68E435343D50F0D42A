(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"09Cy":function(e,t,n){},"1Hre":function(e,t,n){},"2rlx":function(e,t,n){"use strict";var i=n("pVnL"),r=n.n(i),a=n("o0o1"),o=n.n(a),s=n("yXPU"),l=n.n(s),c=n("lSNA"),u=n.n(c),d=n("VbXa"),p=n.n(d),m=n("q1tI"),h=n("fNzW"),f=n("hnjF"),b=n("yymn"),g=n("hCFK");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).refHandler=function(e){t.props.refDelegate&&t.props.refDelegate(e,t.props.id)},t.onExitComplete=function(){t.props.onExitComplete&&t.props.onExitComplete(t.props.id)},t.onTransformEnd=function(){t.props.onTransformEnd&&t.props.onTransformEnd(t.props.id)},t}return p()(t,e),t.prototype.render=function(){var e=this.props.transition.duration||g.b.Medium,t=!this.props.moveStyles&&!this.props.prepareForTransform,n={};return!1===this.props.transition.show&&void 0===this.props.exitStyles?n.position="absolute":!1===this.props.transition.show&&this.props.exitStyles?n=this.props.exitStyles:this.props.moveStyles&&(n=this.props.moveStyles),m.createElement(g.a,{key:this.props.id,show:!!this.props.transition.show,type:this.props.transition.type||g.c.ScaleOver,transitionInitialMount:!!this.props.transition.transitionInitialMount,duration:e,onExitComplete:this.onExitComplete,injectChild:!0},m.createElement("div",{key:this.props.id,ref:this.refHandler,style:y({},n,{transitionProperty:t?"transform, opacity":"opacity",transitionTimingFunction:"ease"}),onTransitionEnd:this.onTransformEnd},this.props.child))},t}(m.Component);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}S.displayName="TransitionGroupItem",n.d(t,"a",(function(){return E}));var E=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).state={childMap:{},initialRenderComplete:!1},t.containerRef=void 0,t.childRefMap={},t.currentlyTransitioningKeys=[],t.setContainerRef=function(e){t.containerRef=e},t.setItemRef=function(e,n){e&&(t.childRefMap[n]=e)},t.onTransformEnd=function(e){t.currentlyTransitioningKeys=t.currentlyTransitioningKeys.filter((function(t){return t!==e}))},t.deleteChild=function(e){e in t.state.childMap&&(delete t.childRefMap[e],t.setState((function(t){var n=C({},t.childMap);return delete n[e],{childMap:n}})))},t.measureItems=function(e){var n={};return e.filter((function(e){return e in t.childRefMap})).forEach((function(e){e in n||(n[e]=t.childRefMap[e].getBoundingClientRect())})),n},t.setTransforms=function(){var e=l()(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.setState((function(e){var i=C({},e.childMap),r=n.moved,a=n.exited,o=n.container,s=r,l=t.measureItems(Object.keys(r));return Object.keys(s).forEach((function(e){var t=s[e].left-l[e].left,n=s[e].top-l[e].top;i[e].moveStyles={transform:"translate3d("+t+"px, "+n+"px,0)"},i[e].prepareForTransform=!1})),Object.keys(a).forEach((function(e){var t=a[e],n=t.left-(o?o.left:0),r=t.top-(o?o.top:0);i[e].exitStyles={top:r+"px",left:n+"px",position:"absolute",width:t.width+"px",height:t.height+"px"}})),{childMap:i}}),e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.clearMoveStyles=function(e){t.setState((function(t){var n=C({},t.childMap);return e.forEach((function(e){return n[e].moveStyles=void 0})),{childMap:n}}))},t.ensureLayoutReflow=function(){var e=t.childRefMap[Object.keys(t.childRefMap)[0]];e&&e.scrollTop},t}p()(t,e),t.getDerivedStateFromProps=function(e,t){var n,i,r=t.childMap,a=(n=e.children,i={},m.Children.map(n,(function(e){return e})).forEach((function(e){if(null!==e.key){var t={id:e.key,transition:{show:!0},child:e};i[e.key]=t}})),i);if(!t.initialRenderComplete)return{childMap:a,initialRenderComplete:!0};var o=function(e,t){var n=Object.keys(e).filter((function(t){return!0===e[t].transition.show}));return Object.keys(t).filter((function(t,i){return n[i]!==t&&t in e}))}(r,a),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),a=[];for(var o in e)o in t?a.length&&(r[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(r[l])for(i=0;i<r[l].length;i++){var c=r[l][i];s[r[l][i]]=n(c)}s[l]=n(l)}for(i=0;i<a.length;i++)s[a[i]]=n(a[i]);return s}(r,a);return Object.keys(s).forEach((function(e){var t=e in r,n=e in a,i=o.includes(e);t&&(s[e].moveStyles=r[e].moveStyles,s[e].exitStyles=r[e].exitStyles,s[e].transition=r[e].transition),s[e].prepareForTransform=i,n&&!t?(s[e].transition.show=!0,s[e].transition.transitionInitialMount=!0):!n&&t?s[e].transition.show=!1:n&&t&&!1===s[e].transition.show&&(s[e].transition.show=!0,s[e].exitStyles=void 0)})),{childMap:s}};var n=t.prototype;return n.getSnapshotBeforeUpdate=function(){var e=this.state.childMap,t=Object.keys(e).filter((function(t){return!0===e[t].prepareForTransform})),n=Object.keys(e).filter((function(t){return!1===e[t].transition.show&&!e[t].exitStyles}));return 0===t.length&&0===n.length?null:{moved:this.measureItems([].concat(t,this.currentlyTransitioningKeys)),exited:this.measureItems(n),container:n.length&&this.containerRef?this.containerRef.getBoundingClientRect():void 0}},n.componentDidUpdate=function(e,t,n){var i=this;if(n&&0!==Object.keys(n).length){var r=Object.keys(n.moved);this.setTransforms(n).then((function(){r&&(i.ensureLayoutReflow(),i.clearMoveStyles(r),i.currentlyTransitioningKeys=r.filter((function(e){return!(e in n.exited)})))}))}},n.render=function(){var e=this;if(!this.state.childMap)return null;var t=Object.keys(this.state.childMap).map((function(t){var n=e.state.childMap[t];return m.createElement(S,r()({},n,{key:t,transition:C({},n.transition,{duration:e.props.duration,type:e.props.transitionType}),refDelegate:e.setItemRef,onExitComplete:e.deleteChild,onTransformEnd:e.onTransformEnd}))}));return m.createElement(f.a,{position:b.n.Relative},m.createElement("div",{className:Object(h.a)(this.props.className,"tw-transition-group"),ref:this.setContainerRef},this.props.component?m.cloneElement(this.props.component,void 0,t):t))},t}(m.Component);E.displayName="TransitionGroup"},"3Law":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("kV5U"),s=n("fNzW"),l=n("vCsY"),c=n("1H2c"),u=n("hnjF"),d=n("yymn"),p=n("C7sF"),m=n("3aAs"),h=function(e){var t,n="tw-"+Object(c.a)();return e.tabIndex&&(t=e.tabIndex),a.createElement("div",r()({className:Object(s.a)("tw-search-input")},Object(l.a)(e)),a.createElement(u.a,{display:d.g.HideAccessible},a.createElement("label",{htmlFor:e.id?e.id:n},"Search")),a.createElement(m.a,r()({},Object(o.a)(e),{autoCapitalize:e.autoCapitalize,autoFocus:e.autoFocus,autoComplete:e.autoComplete||"off",disabled:e.disabled,error:e.error,icon:p.a.NavSearch,id:e.id?e.id:n,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,placeholder:e.placeholder,refDelegate:e.refDelegate,spellCheck:e.spellCheck,tabIndex:t,size:e.size,type:m.c.Search,value:e.value,overlay:e.overlay})))};h.displayName="SearchInput",h.displayName="SearchInput"},"4/vz":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_ShareResub_UseResubToken"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UseChatNotificationTokenInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"useChatNotificationToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isSuccess"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:136}};n.loc.source={body:"mutation Chat_ShareResub_UseResubToken($input: UseChatNotificationTokenInput!) {\nuseChatNotificationToken(input: $input) {\nisSuccess\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_ShareResub_UseResubToken=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_ShareResub_UseResubToken")},"66/j":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("DMoW");function r(e){return{id:e.id,setID:e.setID,version:e.version,title:e.title,image1x:e.image1x,image2x:e.image2x,image4x:e.image4x,clickAction:i.m.SUBSCRIBE,clickURL:e.clickURL||""}}var a="324"},"72SC":function(e,t,n){},"8/YZ":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EmoteModifier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}],loc:{start:0,end:72}};n.loc.source={body:"fragment subscriptionProductEmoteModifier on EmoteModifier {\ncode\nname\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"8EUQ":function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"SUB_CHECKOUT__PRODUCT_KEY",(function(){return o})),n.d(i,"SUB_CHECKOUT__RECIPIENT_KEY",(function(){return s})),n.d(i,"SUB_CHECKOUT__MYSTERY_GIFT_COUNT",(function(){return l})),n.d(i,"SUB_CHECKOUT__GIFTING_ANONYMOUSLY",(function(){return c})),n.d(i,"SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",(function(){return u})),n.d(i,"clearSubscriptionCheckoutKeys",(function(){return p})),n.d(i,"showLoginModalWithCheckoutDispatch",(function(){return m}));var r=n("/7QA"),a=n("y5D0"),o="SUB_CHECKOUT__PRODUCT",s="SUB_CHECKOUT__RECIPIENT",l="SUB_CHECKOUT__MYSTERY_GIFT_COUNT",c="SUB_CHECKOUT__GIFTING_ANONYMOUSLY",u="SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",d=[o,s,l,c,u];function p(){d.forEach((function(e){return r.n.remove(e)}))}function m(e){return function(){return Object(a.e)(e,{onClose:p})}}n.d(t,"a",(function(){return i}))},"9ABA":function(e,t,n){"use strict";var i=n("q1tI"),r=n("/7QA"),a=n("fQWD"),o=n("66/j"),s=n("sUnt"),l=n("yymn"),c=n("Z2sP"),u=n("X2PJ"),d=n("+80q"),p=n("SL++"),m=(n("Aea7"),3),h=function(e){var t=e.cumulativeTenure,n=e.expired,h=e.sortedSubBadges;if(0===h.length)return null;var b=h.findIndex((function(e){return parseInt(e.version,10)>t.months})),g=h[-1===b?h.length-1:b-1],v=h[b];if(!g)return null;var y=m;return v&&(y+=f(t,g.version,v.version)||0),v?i.createElement(s.a,{className:"sub-badge-progress",display:l.g.Flex,justifyContent:l.l.Center},i.createElement(p.a,{badge:g,className:"sub-badge-progress__current-badge"}),i.createElement(s.a,{className:"sub-badge-progress__progress-bar"+(n?"--expired":""),flexGrow:1,margin:{x:.5},padding:{top:2}},i.createElement(c.a,{borderRadius:l.e.Large,mask:!0,size:c.c.Small,value:y})),i.createElement(p.a,{badge:v,className:"sub-badge-progress__next-badge"})):i.createElement(i.Fragment,null,i.createElement(s.a,{className:"sub-badge-progress",display:l.g.Flex,flexWrap:l.i.Wrap,justifyContent:l.l.Center,padding:{x:2}},h.map((function(e){return i.createElement(s.a,{key:"sub-badge-progress-"+e.id,flexShrink:0,margin:.5},i.createElement(a.a,{badge:Object(o.b)(e),large:!0}))}))),i.createElement(u.a,{textAlign:l.p.Center},i.createElement(d.a,{className:"sub-badge-progress__all-badges--text",fontSize:l.j.Size7},Object(r.d)("Congrats! You've unlocked all Sub Badges.","SubBadgeProgress"))))};function f(e,t,n){var i=e.daysRemaining,r=e.months,a=(new Date).getTime(),o=new Date(a+24*i*60*60*1e3);o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0);var s=new Date(o.getTime());s.setMonth(o.getMonth()-1);var l=o.getTime(),c=s.getTime(),u=l-c,d=a-c;if(0===u)return null;var p=parseInt(t,10),h=0===p?1:p,f=parseInt(n,10)-h;if(f<=0)return null;var b=(r-h+d/u)/f;return Math.min(Math.max(b,0),1)*(100-m)}n.d(t,"a",(function(){return 96})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f}))},"9kXc":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("/7QA"),r=n("yLwq"),a=n("kduP"),o=n("2xye"),s=n("sLmD");function l(e){var t,n,s,l,d=e.append,p=void 0!==d&&d,m=e.searchResults,h=e.currentGameResults,f=e.currentUserResults,b=e.currentVideoResults,g=e.currentLiveResults;if(m.games&&(t={totalHits:m.games.totalHits,results:p&&h?h.results:[]},p&&m.exhaustedHits&&h&&!m.games.totalHits&&(t.totalHits=h.totalHits),t.results=t.results.concat(m.games.hits.map((function(e,t){var n,r=i.p.intl.getLanguageCode();n=r&&void 0!==e.localizations&&r in e.localizations?e.localizations[r]:e.name;var s=u(e.tags);return{title:n,thumbnailAltText:e.name,linkTo:{pathname:Object(a.a)(e.name),state:{content:o.PageviewContent.Game,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,popularity:e.popularity,tags:s}})))),m.videos){var v=p&&b?b.results:[],y=m.videos.totalHits;p&&m.exhaustedHits&&b&&!m.videos.totalHits&&(y=b.totalHits),s=function(e,t,n){return{results:e.concat(t.hits.map(c)),totalHits:t.totalHits||n}}(v,m.videos,y)}return m.users&&(n={totalHits:p&&f?f.totalHits:m.users.totalHits,results:p&&f?f.results:[]},p&&m.exhaustedHits&&f&&!m.users.totalHits&&(n.totalHits=f.totalHits),n.results=n.results.concat(m.users.hits.map((function(e,t){return{login:e.login,name:e.name,thumbnail:e.profile_image||Object(r.c)(e.objectID,64),thumbnailAltText:e.name,linkTo:{pathname:"/"+e.login,state:{content:o.PageviewContent.User,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,followers:e.followers}})))),m.channels&&((l={totalHits:p&&g?g.totalHits:m.channels.totalHits,results:p&&g?g.results:[]}).results=l.results.concat(m.channels.hits.map((function(e,t){var n=u(e.graffiti);return{viewerCount:e.channel_count,login:e.login,name:e.name,thumbnailAltText:e.status,linkTo:{pathname:"/"+e.login,state:{content:o.PageviewContent.Live,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,status:e.status,tags:n}})))),{currentGameResults:t,currentUserResults:n,currentLiveResults:l,currentVideoResults:s,exhaustedHits:m.exhaustedHits}}function c(e,t){return{title:e.title,thumbnail:e.thumbnail,thumbnailAltText:e.title,linkTo:{pathname:"/videos/"+e.objectID,state:{content:o.PageviewContent.Video,content_index:t,medium:o.PageviewMedium.NavSearch}},login:e.broadcaster_login,name:e.broadcaster_name,createdAt:e.created_at,length:e.length,id:e.objectID}}function u(e){if(e)return e.map((function(e){var t,n=Object(s.a)();return t=n&&void 0!==e.localizations&&n in e.localizations?e.localizations[n]:e.name,{id:e.id,isLanguageTag:e.name.includes("auto___lang"),localizedName:t,tagName:e.name}}))}},AFv4:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("vCsY"),s=n("sUnt"),l=n("yymn"),c=function(e){return a.createElement(s.a,r()({className:"tw-card-body",overflow:e.overflow,position:l.n.Relative},Object(o.a)(e)),e.children)};c.displayName="CardBody",c.displayName="CardBody"},AXRb:function(e,t,n){"use strict";var i=n("mrSG"),r=n("w09P"),a=n("q1tI"),o=n("ANjH"),s=n("/7QA"),l=n("yR8l"),c=n("3Bft"),u=n("geRD"),d=n("DMoW"),p=n("2xye"),m=n("GnwI"),h=n("br9A"),f=n("O4UZ"),b=n("Ws8v"),g=n("yymn"),v=n("+80q"),y=n("sUnt"),S=n("7uM4"),k=n("C7sF"),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=Object(f.f)(this.props.errorType);return a.createElement(b.a,{background:g.d.Alt2,display:g.g.Flex,justifyContent:g.l.Center,padding:{y:1},margin:{bottom:1},textAlign:g.p.Center,"data-test-selector":this.props.testTarget,"data-a-target":this.props.testTarget},a.createElement(v.a,{type:v.e.H4,align:g.q.Middle},a.createElement(b.a,{padding:1,display:g.g.InlineFlex,flexGrow:1,flexWrap:g.i.NoWrap,alignItems:g.b.Center,textAlign:g.p.Left,fontSize:this.props.fontSize?this.props.fontSize:g.j.Size5,"data-a-target":"prime-error-glitch"},a.createElement(y.a,{margin:{right:1},display:g.g.InlineFlex,flexGrow:1,flexWrap:g.i.NoWrap,alignItems:g.b.Center},a.createElement(S.a,{asset:k.a.DeadGlitch,type:S.b.Alert,width:20,height:20})),a.createElement(v.a,{type:v.e.P},e))))},t}(a.Component),E=Object(m.withLatencyTracking)("PrimeError",{autoReportInteractive:!0})(C),_=n("Rjl4"),O=n("dEDE"),T=n("vCsY"),x=n("PL8s"),N=n("D/KL"),w=n("JRpg");n.d(t,"a",(function(){return D}));var j="subscribe-button__prime-subscribe",P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isSubscribing:!1,primeSubFailure:!1,error:void 0},t.referralID=Object(_.e)(),t.handleStartPrimeTrialClick=function(){t.props.handleSubMenuAction({action:h.a.ClickSignupForPrime}),Object(_.w)({tp_refcode:t.referralID,content:p.PageviewContent.ChannelSubscribeButton,medium:p.PageviewMedium.Channel,tp_campaign:_.b.TrackingAlpha})},t.getErrorType=function(){return t.state.error||f.b.UNABLE_TO_SPEND},t.spendPrimeCredit=function(){t.setState({isSubscribing:!0});var e=t.props,n=e.data;if(t.isUserDataReady(e)&&n.currentUser&&n.currentUser.id&&n.user&&n.user.id){var a=n.user.id,o=n.currentUser.id,s=Object(u.a)({broadcasterID:a,userID:o});t.props.handleSubMenuAction({action:h.a.SubWithPrime}),t.props.spendPrimeSubscriptionCredit(s).then((function(e){var n=e.data&&e.data.spendSubscriptionCredit&&e.data.spendSubscriptionCredit.error;if(n){var a=f.b[n.code];t.setState({isSubscribing:!1,primeSubFailure:!0,error:a||f.b.UNABLE_TO_SPEND})}else t.setState({isSubscribing:!1,primeSubFailure:!1,error:void 0}),Object(u.i)(w,{login:t.props.channelLogin},(function(e){var t=e.user;return t&&t.self&&t.id?r(e,(function(e){return e.user.self}),(function(e){var n=e.subscriptionBenefit||{__typename:"SubscriptionBenefit",id:t.id,purchasedWithPrime:!0,tier:c.a.Prime,platform:d.md.WEB,gift:{__typename:"SubscriptionGift",isGift:!1,gifter:null},renewsAt:null,endsAt:null,paidUpgrade:null};return Object(i.__assign)(Object(i.__assign)({},e),{canPrimeSubscribe:!1,subscriptionBenefit:n})})):e}))})).catch((function(){t.setState({isSubscribing:!1,primeSubFailure:!0,error:f.b.UNABLE_TO_SPEND})}))}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.data.loading&&!this.props.data.error||this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.props.data.loading&&!this.props.data.error||this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){if(this.state.isSubscribing)return a.createElement(O.a,Object(i.__assign)({"data-test-selector":j,disabled:this.state.isSubscribing,icon:k.a.Crown,state:O.c.Loading},Object(T.a)(this.props)));if(this.state.primeSubFailure){var e=this.getErrorType();return a.createElement(E,{fontSize:g.j.Size6,testTarget:"prime-sub-error",errorType:e})}if(!this.isUserDataReady(this.props))return a.createElement(x.a,{width:82,height:30});var t=this.canPrimeSubscribe(this.props),n=this.canResub(this.props),r=this.willPrimeSubCreditRenew(),o=this.primeSubCreditRenewalDate();if(!this.props.data.currentUser||!this.props.data.currentUser.hasPrime){var l=Object(s.d)("Start Your Free Trial","PrimeSubscribe");return a.createElement(O.a,Object(i.__assign)({ariaLabel:l,"data-test-selector":j,icon:k.a.Crown,linkTo:Object(_.d)(s.a.tryPrimeURI,this.referralID),onClick:this.handleStartPrimeTrialClick},Object(T.a)(this.props),{targetBlank:!0}),l)}if(this.isSubscribed(this.props)&&!n){var c=Object(s.d)("Subscribed","PrimeSubscribe");return a.createElement(O.a,Object(i.__assign)({ariaLabel:c,"data-a-target":"subscribe-with-prime-button","data-test-selector":j,disabled:!0,icon:k.a.Crown},Object(T.a)(this.props)),c)}var u=Object(s.d)("Subscribe Free","PrimeSubscribe");if(!t){var d=r&&o&&Object(s.c)(new Date(o),{month:"long",day:"numeric"}),p=d&&Object(s.d)("Prime Subscription available {availableDate}",{availableDate:d},"PrimeSubscribe");return a.createElement(y.a,{display:g.g.Flex,flexWrap:g.i.NoWrap,alignItems:g.b.Center},p&&a.createElement(y.a,{margin:{right:2},breakpointLarge:{margin:{right:1}}},a.createElement(v.a,{color:g.f.Alt2,bold:!0,align:g.q.Middle},p)),a.createElement(O.a,Object(i.__assign)({ariaLabel:u,"data-test-selector":j,disabled:!0,icon:k.a.Crown},Object(T.a)(this.props)),u))}var m=n?Object(s.d)("Resubscribe Free","PrimeSubscribe"):u;return a.createElement(O.a,Object(i.__assign)({ariaLabel:m,"data-test-selector":j,"data-a-target":"subscribe-with-prime-button",disabled:this.state.isSubscribing,icon:k.a.Crown,state:this.state.isSubscribing?O.c.Loading:O.c.Default,onClick:this.spendPrimeCredit},Object(T.a)(this.props)),m)},t.prototype.isUserDataReady=function(e){return e.data&&e.data.user&&!e.data.loading&&!e.data.error},t.prototype.canPrimeSubscribe=function(e){return e.data&&e.data.user&&e.data.user.self&&e.data.user.self.canPrimeSubscribe},Object.defineProperty(t.prototype,"primeSubCreditBenefit",{get:function(){return this.props.data&&this.props.data.user&&this.props.data.user.self&&this.props.data.user.self.primeSubCreditBenefit},enumerable:!0,configurable:!0}),t.prototype.willPrimeSubCreditRenew=function(){return this.primeSubCreditBenefit&&this.primeSubCreditBenefit.willRenew},t.prototype.primeSubCreditRenewalDate=function(){return this.primeSubCreditBenefit&&this.primeSubCreditBenefit.renewalDate},t.prototype.canResub=function(e){return e.data&&e.data.user&&e.data.user.self&&e.data.user.self.subscriptionBenefit&&e.data.user.self.subscriptionBenefit.purchasedWithPrime&&this.canPrimeSubscribe(this.props)},t.prototype.isSubscribed=function(e){var t=e.data,n=t&&t.user,i=n&&n.self;return i&&i.subscriptionBenefit},t}(a.Component),D=Object(o.d)(Object(m.withLatencyTracking)("PrimeSubscribe"),Object(l.a)(w,{options:function(e){return{variables:{login:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(l.a)(N,{name:"spendPrimeSubscriptionCredit"}))(P)},Aea7:function(e,t,n){},BSTw:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Algolia_RequestInfo"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:57}};n.loc.source={body:"query Algolia_RequestInfo {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Algolia_RequestInfo=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"Algolia_RequestInfo")},CkPG:function(e,t,n){},CtOe:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityGiftingRecs"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackingId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recommendations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityGiftQuantities"},arguments:[{kind:"Argument",name:{kind:"Name",value:"trackingID"},value:{kind:"Variable",name:{kind:"Name",value:"trackingId"}}}],directives:[]}]}}]}}]}}],loc:{start:0,end:135}};n.loc.source={body:"query CommunityGiftingRecs($trackingId: ID!){\ncurrentUser {\nid\nrecommendations {\ncommunityGiftQuantities(trackingID: $trackingId)\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CommunityGiftingRecs=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CommunityGiftingRecs")},"D/Iv":function(e,t,n){},"D/KL":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PrimeSubscribe_SpendPrimeSubscriptionCredit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SpendSubscriptionCreditInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"spendSubscriptionCredit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:227}};n.loc.source={body:"mutation PrimeSubscribe_SpendPrimeSubscriptionCredit($input: SpendSubscriptionCreditInput!) {\nspendSubscriptionCredit(input: $input) {\nuserID\nsubscriptionBenefit {\nid\npurchasedWithPrime\ntier\nplatform\nendsAt\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PrimeSubscribe_SpendPrimeSubscriptionCredit=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"PrimeSubscribe_SpendPrimeSubscriptionCredit")},D4eI:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("sUnt"),o=n("yymn"),s=n("dEDE"),l=function(e){return r.createElement(a.a,{display:o.g.Flex,justifyContent:o.l.End},e.secondaryButton&&r.createElement(a.a,{margin:{right:1}},r.createElement(s.a,Object(i.__assign)({size:s.b.Small},e.secondaryButton))),r.createElement("div",null,r.createElement(s.a,Object(i.__assign)({size:s.b.Small},e.primaryButton))))};l.displayName="ChatPrivateCalloutActions",n.d(t,"a",(function(){return l}))},DQ0a:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SubModal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOffers"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeEmoteModifiers"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"bannerImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primeSubCreditBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"renewalDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionGiftCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subBenefit"},directives:[]},{kind:"Field",name:{kind:"Name",value:"isExtended"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tenure"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"streakTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"STREAK"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tenure"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGiftCountHidden"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:953}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\n#import "twilight/features/sub-modal/fragments/sub-benefit.gql"\n#import "twilight/features/subscribe-button/models/subscription-product.gql"\n#import "twilight/pages/subscriptions-management/models/cumulative-tenure-fragment.gql"\nquery SubModal($login: String! $withOffers: Boolean = false $includeEmoteModifiers: Boolean = false) {\nuser(login: $login) {\nid\ndisplayName\nprofileImageURL(width: 50)\nbannerImageURL\nbroadcastBadges {\n...badge\n}\nsubscriptionProducts {\n...subscriptionProduct\n}\nself {\ncanPrimeSubscribe\nprimeSubCreditBenefit {\nrenewalDate\n}\nsubscriptionGiftCount\nsubscriptionBenefit {\n...subBenefit\nisExtended\n}\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\n...tenure\n}\nstreakTenure: subscriptionTenure(tenureMethod: STREAK) {\n...tenure\n}\n}\n}\nbadges {\n...badge\n}\nrequestInfo {\ncountryCode\n}\ncurrentUser {\nid\nhasPrime\nsubscriptionSettings {\nisGiftCountHidden\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("IKE4").definitions)),i.definitions=i.definitions.concat(a(n("FaAX").definitions)),i.definitions=i.definitions.concat(a(n("IKRm").definitions)),i.definitions=i.definitions.concat(a(n("HiyX").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.SubModal=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,r=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"SubModal")},Dbw4:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("Uh2Q"),s=n("8EUQ"),l=n("azJ+"),c=n("zene"),u=n("HaqC"),d=n("br9A"),p=n("sUnt"),m=n("yymn"),h=n("K+jS"),f=n("uG/k"),b=n("X2PJ"),g=n("dEDE"),v=(n("EYib"),n("5zXJ"));function y(e,t){return t?function(e){return e>=100?{"1x":v.g+"/creator-luv/subscriptions/100-gifts-1x.png","2x":v.g+"/creator-luv/subscriptions/100-gifts-2x.png","4x":v.g+"/creator-luv/subscriptions/100-gifts-4x.png"}:e>=50?{"1x":v.g+"/creator-luv/subscriptions/50-gifts-1x.png","2x":v.g+"/creator-luv/subscriptions/50-gifts-2x.png","4x":v.g+"/creator-luv/subscriptions/50-gifts-4x.png"}:e>=20?{"1x":v.g+"/creator-luv/subscriptions/20-gifts-1x.png","2x":v.g+"/creator-luv/subscriptions/20-gifts-2x.png","4x":v.g+"/creator-luv/subscriptions/20-gifts-4x.png"}:e>=10?{"1x":v.g+"/creator-luv/subscriptions/10-gifts-1x.png","2x":v.g+"/creator-luv/subscriptions/10-gifts-2x.png","4x":v.g+"/creator-luv/subscriptions/10-gifts-4x.png"}:e>=5?{"1x":v.g+"/creator-luv/subscriptions/5-gifts-1x.png","2x":v.g+"/creator-luv/subscriptions/5-gifts-2x.png","4x":v.g+"/creator-luv/subscriptions/5-gifts-4x.png"}:e>=1?{"1x":v.g+"/creator-luv/subscriptions/1-gift-1x.png","2x":v.g+"/creator-luv/subscriptions/1-gift-2x.png","4x":v.g+"/creator-luv/subscriptions/1-gift-4x.png"}:{"1x":"","2x":"","4x":""}}(e):e>=100?{"1x":l.a+"/100-gifts-1x.png","2x":l.a+"/100-gifts-2x.png","4x":l.a+"/100-gifts-4x.png"}:e>=50?{"1x":l.a+"/50-gifts-1x.png","2x":l.a+"/50-gifts-2x.png","4x":l.a+"/50-gifts-4x.png"}:e>=20?{"1x":l.a+"/20-gifts-1x.png","2x":l.a+"/20-gifts-2x.png","4x":l.a+"/20-gifts-4x.png"}:e>=10?{"1x":l.a+"/10-gifts-1x.png","2x":l.a+"/10-gifts-2x.png","4x":l.a+"/10-gifts-4x.png"}:e>=5?{"1x":l.a+"/5-gifts-1x.png","2x":l.a+"/5-gifts-2x.png","4x":l.a+"/5-gifts-4x.png"}:e>=1?{"1x":l.a+"/1-gift-1x.png","2x":l.a+"/1-gift-2x.png","4x":l.a+"/1-gift-4x.png"}:{"1x":"","2x":"","4x":""}}var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hovered:!1},t.handleClick=function(){a.n.set(s.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.subscriptionProduct.name),a.n.set(s.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,String(t.props.mysteryGiftCount)),a.n.set(s.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,t.props.giftingAnonymously),t.props.handleSubMenuAction({action:d.a.BuyMysteryGift,checkoutButtonTier:t.props.subscriptionProduct.tier,mysteryGiftCount:t.props.mysteryGiftCount,isAnonymous:t.props.giftingAnonymously,wasShownMoreBundles:t.props.wasShownMoreBundles})},t.handleHoverStart=function(){t.setState({hovered:!0})},t.handleHoverEnd=function(){t.setState({hovered:!1})},t.renderCreatorLuvOverlay=function(){if(!Object(o.f)(o.a))return null;var e=Object(o.d)(t.props.mysteryGiftCount,t.props.subscriptionProduct.tier),n=Object(o.c)(t.props.mysteryGiftCount,t.props.subscriptionProduct.tier),i=Object(a.d)("Give {giftAmount} to the community",{giftAmount:n},"MysteryGiftBundle"),s=Object(a.d)("Give {giftAmount} emotes to the community",{giftAmount:n},"MysteryGiftBundle");return r.createElement(p.a,{position:m.n.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,zIndex:m.s.Above,padding:{x:1,y:1},className:"mystery-gift-bundle__overlay"},!t.props.giftingAnonymously&&r.createElement(h.a,{size:h.b.Small},Object(a.d)("{benefactorAmount, plural, one {Get {benefactorAmount} emote} other {Get {benefactorAmount} emotes}}",{benefactorAmount:e},"MysteryGiftBundle")),r.createElement(h.a,{size:h.b.Small},t.props.giftingAnonymously?s:i))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=y(this.props.mysteryGiftCount,Object(o.f)(o.a));return r.createElement(p.a,{className:"mystery-gift-bundle",margin:{bottom:2,x:1}},r.createElement("div",{onMouseEnter:this.handleHoverStart,onMouseLeave:this.handleHoverEnd},r.createElement(p.a,{position:m.n.Relative},this.state.hovered&&this.renderCreatorLuvOverlay(),r.createElement(c.a,{content:r.createElement(f.a,{alt:Object(a.d)("{mysteryGiftCount, plural, one {Gift {mysteryGiftCount} Sub at random.} other {Gift {mysteryGiftCount} Subs at random.}}",{mysteryGiftCount:this.props.mysteryGiftCount},"MysteryGiftBundle"),src:e["1x"],srcSet:e}),toggle:this.props.giftingAnonymously,toggledContent:r.createElement(b.a,{borderRadius:m.e.Medium},r.createElement(f.a,{alt:Object(a.d)("{mysteryGiftCount, plural, one {Anonymously Gift {mysteryGiftCount} Sub at random.} other {Anonymously Gift {mysteryGiftCount} Subs at random.}}",{mysteryGiftCount:this.props.mysteryGiftCount},"MysteryGiftBundle"),src:l.a+"/bg-ghost-purple.svg"}))})),r.createElement(p.a,{display:m.g.Flex,margin:{top:.5}},r.createElement(g.a,{fullWidth:!0,onClick:this.handleClick,purchase:Object(u.a)(this.props.mysteryGiftCount,this.props.subscriptionProduct),targetBlank:!0},Object(a.d)("{mysteryGiftCount, plural, one {Gift {mysteryGiftCount} Sub} other {Gift {mysteryGiftCount} Subs}}",{mysteryGiftCount:this.props.mysteryGiftCount},"MysteryGiftBundle")))))},t}(r.Component);n.d(t,"a",(function(){return S}))},DnOo:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("SDEh"),l=n("8EUQ"),c=n("GnwI"),u=n("br9A"),d=n("dEDE"),p=n("C7sF"),m=n("vCsY"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.openCheckout(),t.props.handleSubAction({action:t.props.overrideSubEventAction?t.props.overrideSubEventAction:u.a.ClickCheckout,checkoutButtonTier:t.props.tierPrice,chargeInterval:t.props.chargeInterval,offerID:t.props.offerID})},t.openCheckout=function(){t.props.isMobileCheckout||o.n.set(l.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.productName)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(this.props.isSubbedToTier){var e=Object(o.d)("Subscribed","SubTierButton");return r.createElement(d.a,{ariaLabel:e,"data-test-selector":"subscribe-button__subscribe-tier-button",disabled:!0,icon:p.a.Star},e)}var t;return t=this.props.customSubscribeNowMessage?this.props.customSubscribeNowMessage:Object(o.d)("Subscribe","SubTierButton"),r.createElement(d.a,Object(i.__assign)({ariaLabel:t+" "+this.props.tierPrice,"data-test-selector":"subscribe-button__subscribe-tier-button",icon:this.props.icon,linkTo:this.props.isMobileCheckout?this.props.url:void 0,onClick:this.handleClick,purchase:this.props.tierPrice},Object(m.a)(this.props),{fullWidth:this.props.fullWidth,targetBlank:!!Object(s.b)()||void 0}),t)},t}(r.Component),f=Object(a.d)(Object(c.withLatencyTracking)("SubTierButton",{autoReportInteractive:!0}))(h);n.d(t,"a",(function(){return f}))},Dye3:function(e,t,n){},EBDZ:function(e,t,n){},EEET:function(e,t,n){},EYib:function(e,t,n){},FLOH:function(e,t,n){"use strict";var i,r=n("q1tI"),a=n("/7QA"),o=n("3Bft"),s=n("OpME"),l=n("1bK4"),c=n("sUnt"),u=n("+80q"),d=n("yymn"),p=n("YV9q");!function(e){e.BenefitMessage="BenefitMessage",e.ExtraEmoteMessage="ExtraEmoteMessage"}(i||(i={}));var m=function(e){var t=function(e,t){var n=t[1],i=t[2];if(!n||!i)return[];var r=[],a=n.emotes,l=i.emotes;e.tier===o.a.Tier2&&a&&r.push.apply(r,a);e.tier===o.a.Tier3&&a&&l&&(r.push.apply(r,a),r.push.apply(r,l));return Object(s.c)(r)}(e.selectedSubProduct,e.allSubProducts),n=e.selectedSubProduct.tier.length>0?e.selectedSubProduct.tier[0]:"1";return Object(l.c)(e.channelID)&&Number(n)>=2?r.createElement(c.a,null,r.createElement(u.a,{"data-test-selector":i.BenefitMessage},h(e)),t.length>0?r.createElement(c.a,{alignItems:d.b.Center,display:d.g.Flex,margin:{top:1}},t.map((function(e){return r.createElement(c.a,{display:d.g.InlineFlex,key:e.id,margin:{right:.5}},r.createElement("img",{alt:e.displayName,srcSet:e.srcSet,title:e.displayName}))})),r.createElement(u.a,{bold:!0,"data-test-selector":i.ExtraEmoteMessage},Object(a.d)("{emoteCount, plural, one {Plus a Tier {tierNum} badge flair and {emoteCount} extra channel emote} other {Plus a Tier {tierNum} badge flair and {emoteCount} extra channel emotes}}",{tierNum:n,emoteCount:Object(a.f)(t.length)},"SubBenefitMessage"))):r.createElement(c.a,{alignItems:d.b.Center,display:d.g.Flex,margin:{top:1}},r.createElement(u.a,{bold:!0,"data-test-selector":i.ExtraEmoteMessage},Object(a.d)("Plus a Tier {tierNum} badge flair!",{tierNum:n},"SubBenefitMessage")))):r.createElement(c.a,null,r.createElement(u.a,{"data-test-selector":i.BenefitMessage},h(e)),t.length>0&&r.createElement(c.a,{alignItems:d.b.Center,display:d.g.Flex,margin:{top:1}},t.map((function(e){return r.createElement(c.a,{display:d.g.InlineFlex,key:e.id,margin:{right:.5}},r.createElement("img",{alt:e.displayName,srcSet:e.srcSet,title:e.displayName}))})),r.createElement(u.a,{bold:!0,"data-test-selector":i.ExtraEmoteMessage},Object(a.d)("{extraEmoteCount, plural,                 one {Plus {extraEmoteCount, number} extra channel emote}                 other {Plus {extraEmoteCount, number} extra channel emotes}}",{extraEmoteCount:t.length},"SubBenefitMessage"))))};function h(e){var t=e.allSubProducts[0],n=0;return t&&t.emotes&&(n=t.emotes.length),Object(p.a)({emoteCount:n,hasAdFree:e.selectedSubProduct.hasAdFree})}n.d(t,"a",(function(){return m}))},FaAX:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subBenefit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionBenefit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gifter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isDNRd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isExtended"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pendingSubscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pendingSubscription"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renewsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}],loc:{start:0,end:309}};i.loc.source={body:'#import "twilight/features/subscribe-button/components/subscribe-button/pending_subscription.gql"\nfragment subBenefit on SubscriptionBenefit {\nid\nendsAt\nplatform\ngift {\ngifter {\nid\nlogin\ndisplayName\n}\nisGift\n}\nisDNRd\nisExtended\npendingSubscription {\n...pendingSubscription\n}\npurchasedWithPrime\nrenewsAt\ntier\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("QHJn").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},GOKC:function(e,t,n){},Gylv:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("QVaV"),s=n("YVOQ"),l=n("4rCz"),c=n("fQWD"),u=n("66/j"),d=n("sUnt"),p=n("+80q"),m=n("yymn"),h=n("hnjF"),f=n("Z2sP"),b=n("Jsra"),g=function(e){var t=e.badge;return a.createElement(d.a,{alignItems:m.b.Center,className:e.className,display:m.g.Flex,flexDirection:m.h.Column,flexShrink:0,margin:{top:1}},a.createElement(c.a,{badge:Object(u.b)(t),hideTooltip:!0,large:!0}),a.createElement(d.a,{margin:{top:.5}},a.createElement(p.a,{className:e.className+"--text",fontSize:m.j.Size7},t.title)))};n("qyVS");!function(e){e.ProgressMessage="subgifterprogressmessage",e.PrivacyWarning="privacysettingwarning"}(i||(i={}));var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){if(0===this.props.gifterBadges.length)return null;if(this.props.giftingAnonymously)return null;var e=this.filterBadges(),t=e.nextBadge&&parseInt(e.nextBadge.version,10)||0;return a.createElement(d.a,null,this.getProgressionMessage(t),this.getNextBadgeProgress(e,t),this.getPrivacySettingWarning(e.baseBadge))},t.prototype.getProgressionMessage=function(e){if(this.props.compact)return null;var t=null;return t=0===this.props.giftsSentCount?Object(l.d)("Instantly unlock your first gifter badge by gifting at least 1 Sub!","SubGifterBadgeProgress"):0!==e&&1e3!==e?Object(l.d)("{giftCount, plural, one {You've given <x:bold>{giftCount} gift sub</x:bold> to {channelName}'s channel. Gift <x:bold>{remainingCount} more</x:bold> to unlock your next badge!} other {You've given <x:bold>{giftCount} gift subs</x:bold> to {channelName}'s channel. Gift <x:bold>{remainingCount} more</x:bold> to unlock your next badge!}}",{giftCount:this.props.giftsSentCount,channelName:this.props.formattedDisplayName,remainingCount:e-this.props.giftsSentCount,"x:bold":function(e){return a.createElement(p.a,{bold:!0,type:p.e.Span},e)}},"SubGifterBadgeProgress"):Object(l.d)("{giftCount, plural, one {You've given <x:bold>{giftCount} gift sub</x:bold> to {channelName}'s channel!} other {You've given <x:bold>{giftCount} gift subs</x:bold> to {channelName}'s channel!}}",{giftCount:this.props.giftsSentCount,channelName:this.props.formattedDisplayName,"x:bold":function(e){return a.createElement(p.a,{bold:!0,type:p.e.Span},e)}},"SubGifterBadgeProgress"),a.createElement(d.a,{padding:{x:2,top:2},textAlign:m.p.Center},a.createElement(p.a,{"data-test-selector":i.ProgressMessage},t))},t.prototype.getCompactProgressionMessage=function(e){if(!this.props.compact||0===e||1e3===e)return null;var t=e-this.props.giftsSentCount,n=null;return n=0===this.props.giftsSentCount?Object(l.d)("<x:bold>1 Gift</x:bold> to First Badge",{"x:bold":function(e){return a.createElement(p.a,{bold:!0,type:p.e.Span},e)}},"SubGifterBadgeProgress"):Object(l.d)("{giftsRemaining, plural, one {<x:bold>{giftsRemaining} Gifts</x:bold> to Next Badge} other {<x:bold>{giftsRemaining} Gifts</x:bold> to Next Badge}}",{giftsRemaining:t,"x:bold":function(e){return a.createElement(p.a,{bold:!0,type:p.e.Span},e)}},"SubGifterBadgeProgress"),a.createElement(h.a,{margin:{top:5}},a.createElement(p.a,null,n))},t.prototype.getNextBadgeProgress=function(e,t){var n=null;if(null!==e.currentBadge&&null!==e.nextBadge){var i=parseInt(e.currentBadge.version,10);1===i&&(i=0);var r=100*(this.props.giftsSentCount-i)/(t-i);n=a.createElement(d.a,{className:"gifter-badge-progress__to-next"},a.createElement(d.a,{display:m.g.Flex,fullWidth:!0,justifyContent:m.l.Between},this.badgeLayout(e.currentBadge),this.getCompactProgressionMessage(t),this.badgeLayout(e.nextBadge)),a.createElement(d.a,{className:"gifter-badge-progress__bar",position:m.n.Relative,margin:{left:2,right:4}},a.createElement(f.a,{size:f.c.Small,mask:!0,value:r||0})))}else null===e.currentBadge&&null!==e.nextBadge?n=a.createElement(d.a,{className:"gifter-badge-progress__only-next"},a.createElement(d.a,{display:m.g.Flex,fullWidth:!0,justifyContent:m.l.Between},this.badgeLayout(e.nextBadge))):null!==e.currentBadge&&null===e.nextBadge&&(n=a.createElement(d.a,{className:"gifter-badge-progress__only-current"},a.createElement(d.a,{display:m.g.Flex,fullWidth:!0,justifyContent:m.l.Between},this.badgeLayout(e.currentBadge))));return null===n?null:a.createElement(d.a,{display:m.g.Flex,padding:{x:2},justifyContent:m.l.Center},n)},t.prototype.badgeLayout=function(e){return a.createElement(h.a,{zIndex:m.s.Above,key:e.setID+e.version},a.createElement(g,{badge:e}))},t.prototype.filterBadges=function(){var e={currentBadge:null,nextBadge:null},t=this.props.gifterBadges,n=this.props.giftsSentCount;0===n&&(n=1);for(var i=0,r=t;i<r.length;i++){var a=r[i],o=Number(a.version);if(1===o&&(e.baseBadge=a),!(o<=n))return e.nextBadge=a,e;e.currentBadge=a}return e},t.prototype.getPrivacySettingWarning=function(e){if(this.props.hidesGiftCount){var t=Object(l.d)("Your <x:link>privacy settings</x:link> have hidden your gifts given count. The default badge will be displayed.",{"x:link":function(e){return a.createElement(b.a,{linkTo:"/settings/security"},e)}},"SubGifterBadgeProgress");return a.createElement(d.a,{margin:{top:1},display:m.g.Flex,flexDirection:m.h.Row,alignItems:m.b.Center,justifyContent:m.l.Center},a.createElement(h.a,{padding:{x:1}},a.createElement(c.a,{badge:Object(u.b)(e),hideTooltip:!0})),a.createElement(h.a,{padding:{x:1}},a.createElement(p.a,{"data-test-selector":i.PrivacyWarning},t)))}return null},t}(a.Component);var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(v,{formattedDisplayName:Object(o.a)(this.props.channel.login,this.props.channel.displayName),gifterBadges:this.props.gifterBadges,giftingAnonymously:this.props.giftingAnonymously,giftsSentCount:this.props.giftCount,hidesGiftCount:this.props.hidesGiftCount,compact:this.props.compact||!1})},t}(a.Component),S=Object(s.b)((function(e){return{channel:e.channel,gifterBadges:e.gifterBadges,giftingAnonymously:e.giftingAnonymously,giftCount:e.subscriptionGiftCount,hidesGiftCount:e.hidesGiftCount}}))(y);n.d(t,"a",(function(){return S}))},HaqC:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("a5fV");function r(e,t){return Object(i.a)(Object(i.d)(t.priceInfo.price*e,t.priceInfo.exponent),t.priceInfo.currency)}},HiyX:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"tenure"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionTenure"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}}],loc:{start:0,end:62}};n.loc.source={body:"fragment tenure on SubscriptionTenure {\ndaysRemaining\nmonths\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},IKRm:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductPriceInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmote"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeEmoteModifiers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canGiftInChannel"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOffers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}}]}}],loc:{start:0,end:734}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-emote.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-emote-modifier.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-price-info.gql"\nfragment subscriptionProduct on SubscriptionProduct {\nid\nprice\npriceInfo {\n...subscriptionProductPriceInfo\n}\nurl\nemoteSetID\ndisplayName\nname\ntier\ntype\nhasAdFree\nemotes {\n...subscriptionProductEmote\n}\nemoteModifiers @include(if: $includeEmoteModifiers) {\n...subscriptionProductEmoteModifier\n}\ninterval {\nunit\n}\nself {\ncanGiftInChannel\n}\noffers @include(if: $withOffers) {\n...subProductOfferFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("Wd+u").definitions)),i.definitions=i.definitions.concat(a(n("dq0Q").definitions)),i.definitions=i.definitions.concat(a(n("8/YZ").definitions)),i.definitions=i.definitions.concat(a(n("35qb").definitions)),e.exports=i},ISMp:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("TSYQ"),o=n("q1tI"),s=n("eJ65"),l=n("N0BP"),c=n("D4eI"),u=n("Ws8v"),d=n("yymn"),p=n("sUnt"),m=n("wp5a"),h=n("+80q"),f=n("7d/q"),b=n("C7sF"),g=n("ygYM"),v=n("uKd/"),y=n("Z2sP"),S=n("7uM4");n("N3Wk");!function(e){e.SVGIcon="chat-private-callout__icon-svg",e.CloseButton="chat-private-callout__close-button",e.HoverContainer="chat-private-callout__hover-container"}(i||(i={}));var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isHovered:!1},t.handleFocus=function(){t.setState({isHovered:!0})},t.handleBlur=function(){t.setState({isHovered:!1})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=a("chat-private-callout__icon",{"chat-private-callout__icon--overlay":e.overlay&&!e.hideIconBackground});return o.createElement(u.a,Object(r.__assign)({},Object(l.a)(e),{border:!e.overlay,background:e.overlay?d.d.Accent:d.d.Base,borderRadius:d.e.Medium,color:e.overlay?d.f.Overlay:d.f.Base,elevation:4,position:d.n.Relative,padding:1}),o.createElement("div",{onMouseEnter:this.handleFocus,onMouseLeave:this.handleBlur,onFocus:this.handleFocus,onBlur:this.handleBlur,"data-test-selector":i.HoverContainer},o.createElement(p.a,{display:d.g.Flex,alignItems:d.b.Start},e.icon&&o.createElement(u.a,{className:t,margin:{right:1},padding:e.hideIconBackground?void 0:.5,display:d.g.Flex,flexGrow:0,flexShrink:0,borderRadius:d.e.Rounded,alignItems:d.b.Center,justifyContent:d.l.Center},this.renderIcon()),o.createElement(p.a,{display:d.g.Flex,alignItems:d.b.Center,className:"chat-private-callout__header-segment",padding:{right:.5},flexGrow:1},o.createElement(p.a,null,e.pill&&o.createElement(p.a,{display:d.g.InlineBlock,margin:{right:.5}},o.createElement(m.a,Object(r.__assign)({},e.pill))),o.createElement(h.a,{bold:!0,type:h.e.Span},e.message.title),e.message.description&&e.inlineDescription&&o.createElement(h.a,{type:h.e.Span},"",e.message.description))),o.createElement(p.a,{display:d.g.Flex,alignItems:d.b.Center,className:"chat-private-callout__header-segment"},!!e.actions&&e.inlineActions&&this.renderActions(),e.contextMenu&&o.createElement(u.a,{color:d.f.Base},o.createElement(s.a,null,o.createElement(f.a,{icon:b.a.More,overlay:e.overlay,ariaLabel:"more options"}),o.createElement(g.a,{direction:g.b.TopRight,size:g.c.Small,tailOffset:7},e.contextMenu))),e.closeButton&&!e.contextMenu&&o.createElement(p.a,{padding:{left:.5},"data-test-selector":i.CloseButton},o.createElement(v.a,{ariaLabel:e.closeButton.ariaLabel,onClick:e.closeButton.onClick,size:f.b.Small,overlay:e.overlay})))),e.message.description&&!e.inlineDescription&&o.createElement(p.a,{margin:{top:.5}},o.createElement(h.a,null,e.message.description)),!!e.actions&&!e.inlineActions&&o.createElement(p.a,{margin:{top:.5}},this.renderActions()),e.progressBar&&o.createElement(u.a,{margin:{top:1}},o.createElement(y.a,{animationDirection:y.b.Down,size:y.c.ExtraSmall,animationDuration:e.progressBar.animationDuration,onAnimationEnd:e.progressBar.onAnimationEnd,paused:this.state.isHovered,overlay:e.overlay,mask:!0}))))},t.prototype.renderIcon=function(){return this.props.icon.asset?o.createElement(S.a,Object(r.__assign)({"data-test-selector":i.SVGIcon},this.props.icon)):this.props.icon},t.prototype.renderActions=function(){return this.props.actions.primaryButton?o.createElement(c.a,Object(r.__assign)({},this.props.actions)):this.props.actions},t}(o.Component);n.d(t,"a",(function(){return k}))},JMwM:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("yR8l"),s=n("GnwI"),l=n("dEDE"),c=n("k91D"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){return t.props.onClick&&t.props.onClick()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t,n=!!(this.props.data&&this.props.data.user&&this.props.data.user.self)&&this.props.data.user.self.canGift;return this.props.checkoutURL?(e=Object(a.d)("Gift a Subscription","GiftSubscribeButton"),t="checkout-gift-subscribe-button"):(e=Object(a.d)("Gift a Sub","GiftSubscribeButton"),t="gift-subscribe-button"),r.createElement(l.a,{targetBlank:!0,disabled:!n,onClick:this.handleClick,"data-test-selector":t,purchase:this.props.purchase},this.props.buttonMessage||e)},t=Object(i.__decorate)([Object(s.withLatencyTracking)("GiftSubscribeButton",{autoReportInteractive:!0}),Object(o.a)(c,{options:function(e){return{variables:{recipientLogin:e.giftRecipient,subProductId:e.subProductId}}},skip:function(e){return!e.giftRecipient||!e.subProductId}})],t)}(r.Component);n.d(t,"a",(function(){return u}))},JRpg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PrimeSubscribe_UserPrimeData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primeSubCreditBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"willRenew"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renewalDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renewsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paidUpgrade"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gifter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:362}};n.loc.source={body:"query PrimeSubscribe_UserPrimeData($login: String!) {\nuser(login: $login) {\nid\nself {\ncanPrimeSubscribe\nprimeSubCreditBenefit {\nwillRenew\nrenewalDate\n}\nsubscriptionBenefit {\nid\npurchasedWithPrime\ntier\nplatform\nrenewsAt\nendsAt\npaidUpgrade {\nprice\nstartsAt\n}\ngift {\nisGift\ngifter {\nid\ndisplayName\n}\n}\n}\n}\n}\ncurrentUser {\nid\nhasPrime\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PrimeSubscribe_UserPrimeData=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"PrimeSubscribe_UserPrimeData")},Ji9N:function(e,t,n){},KOxZ:function(e,t,n){},KnXG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("p46w"),r=n("cr+I"),a=n("dlQn");function o(){return r.parse(window.location.search).countryCode||i.get(a.a)}},L2Dh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l}));var i=10,r=1,a=100,o={AAP:[1,2,5,25,65],1e3:[1,5,10,20,50,100],2e3:[1,5,10,20,50,100],3e3:[1,5,10,20,40]},s={AAP:65,1e3:100,2e3:100,3e3:40},l={control:[1,5,10,20,50,100],A:[1,5,10],B:[5,10,20],C:[10,20,50],D:[20,50,100]}},Li6Q:function(e,t,n){},Lqow:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("W1jp");function r(e,t){return void 0===t&&(t=!0),t&&(e=e.filter((function(e){return e.isEnabled}))),e.sort(a)}function a(e,t){var n=Object(i.c)(e),r=Object(i.c)(t);return n!==r?n-r:e.id<t.id?-1:e.id>t.id?1:0}},MWAM:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ShareBitsBadgeTier_AvailableBadges"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:233}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nquery Chat_ShareBitsBadgeTier_AvailableBadges($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nself {\navailableBadges {\n...badge\n}\nselectedBadge {\n...badge\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("IKE4").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.Chat_ShareBitsBadgeTier_AvailableBadges=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"Chat_ShareBitsBadgeTier_AvailableBadges")},Mb07:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var i,r=n("a5fV");function a(e,t){var n;return null===(n=t.offers)||void 0===n?void 0:n.find((function(t){var n;return(null===(n=t.promotion)||void 0===n?void 0:n.name)===e}))}function o(e){return s(e)?function(e){var t,n,i,a,o,s,l,c,u=null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.promoDisplay.discountPercent,d=null===(i=null===(n=null==e?void 0:e.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===i?void 0:i.previewPrice,p=null===(l=null===(s=null===(o=null===(a=null==e?void 0:e.listing)||void 0===a?void 0:a.chargeModel.internal)||void 0===o?void 0:o.previewPrice)||void 0===s?void 0:s.discount)||void 0===l?void 0:l.price;d&&(c=Object(r.a)(Object(r.d)(d.total,d.exponent),d.currency));return{discountPercent:u,discountPrice:p,price:c}}(e):{}}function s(e){return!!(null==e?void 0:e.eligibility.isEligible)}!function(e){e.FirstPaidSubOffer="first_paid_sub_offer_20_perc_off"}(i||(i={}))},N3Wk:function(e,t,n){},NJDg:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("D7An"),s=n("Uh2Q"),l=n("8EUQ"),c=n("L2Dh"),u=n("HaqC"),d=n("br9A"),p=n("sUnt"),m=n("yymn"),h=n("+80q"),f=n("3aAs"),b=n("dEDE"),g=(n("XlIw"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=t.getInitialState(),t.handleChange=function(e){if(""!==e.target.value){var n=parseInt(e.target.value,10);if(!isNaN(n)){var i=t.props.limit||c.b;n<c.c?n=c.c:n>i&&(n=i),t.setState({giftCount:n,inputString:n.toString()})}}else t.setState({giftCount:1,inputString:e.target.value})},t.onCheckoutClick=function(){a.n.set(l.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.subscriptionProduct.name),a.n.set(l.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,t.state.giftCount),a.n.set(l.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,t.props.giftingAnonymously),t.props.handleSubMenuAction({action:d.a.BuyCustomMysteryGift,checkoutButtonTier:t.props.subscriptionProduct.tier,mysteryGiftCount:t.state.giftCount,isAnonymous:t.props.giftingAnonymously})},t.renderCreatorLuvUpsell=function(){if(!Object(s.f)(s.a))return null;var e=Object(s.d)(t.state.giftCount,t.props.subscriptionProduct.tier),n=Object(s.c)(t.state.giftCount,t.props.subscriptionProduct.tier),i=Object(a.d)("{benefactorAmount, plural, one {Get {benefactorAmount} emote, give {giftAmount} to the community!} other {Get {benefactorAmount} emotes, give {giftAmount} to the community!}}",{benefactorAmount:e,giftAmount:n},"CustomMysteryGiftBundle"),o=Object(a.d)("{giftAmount, plural, one {Give {giftAmount} emote to the community!} other {Give {giftAmount} emotes to the community!}}",{giftAmount:n},"CustomMysteryGiftBundle");return r.createElement(p.a,{alignItems:m.b.Center,display:m.g.Flex,margin:{left:1}},r.createElement(h.a,{color:m.f.Alt2},t.props.giftingAnonymously?o:i))},t}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.limit&&e.limit<t.giftCount?{giftCount:e.limit,inputString:e.limit.toString()}:null},t.prototype.render=function(){return r.createElement(p.a,{fullWidth:!0},r.createElement(h.a,{bold:!0,fontSize:m.j.Size5},Object(a.d)("Custom Quantity","CustomMysteryGiftBundle")),r.createElement(p.a,{display:m.g.Flex,justifyContent:m.l.Start,margin:{top:1}},r.createElement(p.a,{alignItems:m.b.Center,display:m.g.Flex,margin:{right:2}},r.createElement(p.a,{margin:{right:1}},r.createElement(f.a,{max:this.props.limit||c.b,min:c.c,onChange:this.handleChange,type:f.c.Number,value:this.state.inputString})),r.createElement(h.a,{className:"custom-community-gift-bundle__max-text"},Object(a.d)("(Max {limit, number})",{limit:this.props.limit||c.b},"CustomMysteryGiftBundle"))),r.createElement(p.a,{className:"custom-community-gift-bundle__purchase-button"},r.createElement(b.a,{fullWidth:!0,onClick:this.onCheckoutClick,purchase:Object(u.a)(this.state.giftCount,this.props.subscriptionProduct),targetBlank:!0},Object(a.d)("{mysteryGiftCount, plural, one {Gift {mysteryGiftCount} Sub} other {Gift {mysteryGiftCount} Subs}}",{mysteryGiftCount:this.state.giftCount},"CustomMysteryGiftBundle"))),this.renderCreatorLuvUpsell()))},t.prototype.getInitialState=function(){return"treatment"===a.p.experiments.getAndTrackAssignment(o.c.CommunityGiftingCustomOfferPresentment)?{giftCount:c.a,inputString:c.a.toString()}:{giftCount:c.c,inputString:c.c.toString()}},t}(r.Component));n.d(t,"a",(function(){return g}))},NK7l:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateBitsBadgeTierNotification"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateBitsBadgeTierNotificationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBitsBadgeTierNotification"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:152}};n.loc.source={body:"mutation UpdateBitsBadgeTierNotification($input:UpdateBitsBadgeTierNotificationInput!) {\nupdateBitsBadgeTierNotification(input:$input) {\nuser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UpdateBitsBadgeTierNotification=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"UpdateBitsBadgeTierNotification")},NZDK:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("hnrd"),o=n("4An/"),s=n("/7QA"),l=n("D7An");!function(e){e.Games="games",e.Videos="videos",e.Users="users",e.Channels="channels",e.StreamTags="streamTags",e.Tags="tags"}(i||(i={}));var c,u,d=n("H/lO");!function(e){e[e.AllVideos=0]="AllVideos",e[e.PastBroadcasts=1]="PastBroadcasts",e[e.Uploads=2]="Uploads",e[e.Highlights=3]="Highlights"}(c||(c={})),function(e){e[e.AnyLength=0]="AnyLength",e[e.Short=1]="Short",e[e.Long=2]="Long"}(u||(u={}));var p,m=n("BSTw"),h=n("Z9JJ");n.d(t,"a",(function(){return b}));var f=((p={})[i.Games]={indexName:d.a.Games,hitsPerPage:2,topNumericFilters:["popularity>1"],singleTypeNumericFilters:[],optionalFacetFilters:""},p[i.Videos]={indexName:d.a.Videos,hitsPerPage:6,get topNumericFilters(){return["created_at>"+S(y())]},singleTypeNumericFilters:[],optionalFacetFilters:""},p[i.Users]={indexName:d.a.Users,hitsPerPage:2,topNumericFilters:["followers>50"],singleTypeNumericFilters:[],optionalFacetFilters:""},p[i.Channels]={indexName:d.a.Channels,hitsPerPage:6,get topNumericFilters(){return["channel_count>10","updated_on>"+S(v())]},get singleTypeNumericFilters(){return["updated_on>"+S(v())]},optionalFacetFilters:""},p[i.StreamTags]={indexName:d.a.StreamTags,hitsPerPage:2,topNumericFilters:[],singleTypeNumericFilters:[],optionalFacetFilters:""},p[i.Tags]={indexName:d.a.Tags,hitsPerPage:2,topNumericFilters:[],singleTypeNumericFilters:[],optionalFacetFilters:""},p),b=function(){function e(e){this.apolloClient=e.apolloClient,this.client=a(e.appId,e.apiKey),this.stats=e.stats,this.logger=e.logger.withCategory("search-client"),this.sendSearchRequestToForage="variant"===s.p.experiments.getAndTrackAssignment(l.c.NewSearchBackend),this.getCountryCode()}return e.prototype.queryTopResults=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,a,s,l,c,u=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=g(t),a=[],o.a.values(i).forEach((function(t){a.push(u.getTopResult(f[t],e)),a.push(u.getTotalResult(f[t],e))})),[4,this.query(a)];case 1:return(s=r.sent())&&s.results?((c={})[d.a.Users]=i.Users,c[d.a.Games]=i.Games,c[d.a.Channels]=i.Channels,c[d.a.Videos]=i.Videos,c[d.a.StreamTags]=i.StreamTags,c[d.a.Tags]=i.Tags,l=c,s.results.forEach((function(e){var t=o.a.convertValueFromExternal(d.a,e.index);if(t){var i=l[t];n[i]?(n[i].totalHits=Math.max(e.nbHits,n[i].totalHits),n[i].hits=e.hits.length>n[i].hits.length?e.hits:n[i].hits):n[i]={hits:e.hits,totalHits:e.nbHits}}})),[2,n]):[2,n]}}))}))},e.prototype.queryForType=function(e,t,n,i){var a=void 0===i?{}:i,o=a.page,s=void 0===o?0:o,l=a.hitsPerPage,c=void 0===l?50:l,u=a.facetFilters,p=void 0===u?"":u,m=a.numericFilters,h=a.restrictSearchableAttributes,b=void 0===h?[]:h;return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,l,u,h,v,y,S=this;return Object(r.__generator)(this,(function(k){switch(k.label){case 0:switch((i=g(n)).currentPage=s,a=function(e){return Object(r.__awaiter)(S,void 0,void 0,(function(){var n,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n={indexName:e.indexName,query:t,params:{page:s,hitsPerPage:c,numericFilters:m||e.singleTypeNumericFilters,facets:"*",facetFilters:p,restrictSearchableAttributes:b}},[4,this.query([n])];case 1:return(a=r.sent())?(i.exhaustedHits=!a.results[0].nbHits||a.results[0].hits.length<c,[2,{totalHits:a.results[0].nbHits,hits:a.results[0].hits}]):(i.exhaustedHits=!0,[2,{totalHits:0,hits:[]}])}}))}))},e){case d.a.Games:return[3,1];case d.a.Users:return[3,3];case d.a.Channels:return[3,5];case d.a.Videos:return[3,7];case d.a.StreamTags:return[3,9];case d.a.Tags:return[3,11]}return[3,13];case 1:return o=i,[4,a(f.games)];case 2:return o.games=k.sent(),[3,14];case 3:return l=i,[4,a(f.users)];case 4:return l.users=k.sent(),[3,14];case 5:return u=i,[4,a(f.channels)];case 6:return u.channels=k.sent(),[3,14];case 7:return h=i,[4,a(f.videos)];case 8:return h.videos=k.sent(),[3,14];case 9:return v=i,[4,a(f.streamTags)];case 10:return v.streamTags=k.sent(),[3,14];case 11:return y=i,[4,a(f.tags)];case 12:return y.tags=k.sent(),[3,14];case 13:return[2,null];case 14:return[2,i]}}))}))},e.prototype.queryVideos=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:switch(i=d.a.Videos,a=[],n.length){case u.Short:a.push("length<=900");break;case u.Long:a.push("length>900")}switch(o={indexName:i,query:e,params:{page:0,hitsPerPage:50,numericFilters:a,facets:"*",facetFilters:""}},n.type){case c.PastBroadcasts:o.params.facetFilters="broadcast_type:archive";break;case c.Uploads:o.params.facetFilters="broadcast_type:upload";break;case c.Highlights:o.params.facetFilters="broadcast_type:highlight"}return[4,this.query([o])];case 1:return(s=r.sent())?[2,{id:t,totalHits:s.results[0].nbHits,hits:s.results[0].hits}]:[2,{id:t,totalHits:0,hits:[]}]}}))}))},e.prototype.getCountryCode=function(){var e=this;this.apolloClient.query({query:m}).then((function(t){e.countryCode=t.data.requestInfo.countryCode})).catch((function(t){e.logger.warn(t,"Failed to get country code")}))},e.prototype.getSearchResults=function(e){var t=this,n={query:e,platform:"web"};return this.apolloClient.query({query:h,variables:n,fetchPolicy:"network-only"}).then((function(e){if(e.data.search&&e.data.search.result)return{results:JSON.parse(e.data.search.result)}})).catch((function(e){return t.logger.warn(e,"Failed to get search results"),e}))},e.prototype.getTopResult=function(e,t){return{indexName:e.indexName,query:t,params:{page:0,hitsPerPage:e.hitsPerPage,numericFilters:e.topNumericFilters}}},e.prototype.getTotalResult=function(e,t){return{indexName:e.indexName,query:t,params:{hitsPerPage:0,numericFilters:e.singleTypeNumericFilters}}},e.prototype.query=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,a,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=Date.now(),a=!1,r.label=1;case 1:return r.trys.push([1,6,,7]),this.sendSearchRequestToForage&&e.length>7?(o=e[0].query,[4,this.getSearchResults(o)]):[3,3];case 2:return t=r.sent(),[3,5];case 3:return[4,this.client.search(e)];case 4:t=r.sent(),r.label=5;case 5:return[3,7];case 6:return r.sent(),a=!0,t=null,[3,7];case 7:return i=Date.now(),this.countryCode&&(a?this.stats.recordSearchError(this.countryCode,i-n):this.stats.recordSearchSuccess(this.countryCode,i-n)),[2,t]}}))}))},e}();function g(e){var t;return(t={id:e})[i.Games]={totalHits:0,hits:[]},t[i.Videos]={totalHits:0,hits:[]},t[i.Users]={totalHits:0,hits:[]},t[i.Channels]={totalHits:0,hits:[]},t[i.StreamTags]={totalHits:0,hits:[]},t[i.Tags]={totalHits:0,hits:[]},t}function v(){return Math.floor(((new Date).getTime()-6e5)/1e3)}function y(){var e=new Date;return e.setMonth(e.getMonth()-1),Math.floor(e.getTime()/1e3)}function S(e){return e<=100?e:100*Math.round(e/100)}},O1pM:function(e,t,n){},OCZ4:function(e,t,n){},OEiS:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("8Ad5"),s=n("f00E"),l=n("GnwI"),c=n("H/lO"),u=n("NZDK"),d=n("9kXc"),p=n("8/mp"),m=n("QVaV"),h=n("8EUQ"),f=n("ANjH"),b=n("yR8l"),g=n("k91D"),v=n("sUnt"),y=n("+80q"),S=n("yymn"),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.data;return e&&!e.loading&&this.props.recipientLogin&&e.user&&e.user.self&&!e.user.self.canGift?r.createElement(v.a,{margin:{top:1}},r.createElement(y.a,{italic:!0,color:S.f.Alt2,"data-test-selector":"gift-eligibility-message-selector"},Object(a.d)("Sorry, a gift subscription to this channel is not available for this user.","GiftRecipientIneligibleMessage"))):null},t}(r.Component),C=Object(f.d)(Object(l.withLatencyTracking)("GiftRecipientIneligibleMessage"),Object(b.a)(g,{options:function(e){return{variables:{recipientLogin:e.recipientLogin,subProductId:e.subProductId}}},skip:function(e){return!e.recipientLogin||!e.subProductId}}))(k),E=n("JMwM"),_=n("br9A"),O=n("XQbB"),T=n("Ws8v"),x=n("hnjF"),N=n("PL8s"),w=n("i4Ys"),j=n("uXHW"),P=n("L/cU"),D=n("fPaz"),I=n("AFv4"),M=(n("d/7K"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedUser:null},t.handleGiftCheckoutAction=function(){var e=t.state.selectedUser;e&&e.login&&(a.n.set(h.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.selectedProduct.name),a.n.set(h.a.SUB_CHECKOUT__RECIPIENT_KEY,e.login),a.n.set(h.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,t.props.giftingAnonymously||!1)),t.props.handleSubMenuAction({action:_.a.BuyGiftSub,checkoutButtonTier:t.props.selectedProduct.tier,giftRecipient:t.state.selectedUser?t.state.selectedUser.login:null,isAnonymous:t.props.giftingAnonymously})},t.onUserClick=function(e){for(var n=e.target;n.parentElement&&!n.dataset.user_id;)n=n.parentElement;n.dataset.user_id&&n.dataset.user_login?t.setState({selectedUser:{id:n.dataset.userId||"",login:n.dataset.user_login||"",name:n.dataset.user_name||n.dataset.user_login||""}}):t.setState({selectedUser:null})},t}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return(e.isWaiting||e.isErrored||!e.hasInput)&&t.selectedUser?{selectedUser:null}:null},t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e;return e=this.props.isWaiting?r.createElement(v.a,{fullHeight:!0},r.createElement(O.a,{fillContent:!0})):this.props.hasInput?this.props.isErrored?this.getErrorMessage():this.props.userResults&&this.props.userResults.totalHits>0?this.getUserResultContent():this.getNoResultsMessage():r.createElement(v.a,{margin:1},r.createElement(y.a,{color:S.f.Alt2},Object(a.d)("Start typing to see a list of suggestions here.","GiftRecipientSearchResult"))),r.createElement("div",{onKeyDown:this.props.onKeyDown},r.createElement(T.a,{className:"gift-recipient-search-result-view",background:S.d.Alt,position:S.n.Relative,overflow:S.m.Hidden,display:S.g.Block,margin:{bottom:2},borderRadius:S.e.Medium},r.createElement(x.a,{overflow:S.m.Hidden,position:S.n.Relative},r.createElement(p.b,{suppressScrollX:!0},r.createElement(v.a,null,e,r.createElement(p.a,{enabled:!this.props.isWaiting&&this.props.hasInput,loadMore:this.props.loadMore}))))),r.createElement(v.a,null,r.createElement(v.a,{display:S.g.Flex,alignItems:S.b.Center,justifyContent:S.l.End,fullWidth:!0},r.createElement(x.a,{margin:{x:1}},r.createElement(y.a,{"data-test-selector":"gift-recipient-display-name-selector",bold:!0,type:y.e.Span},this.getFormattedDisplayName())),this.getBuyGiftButton()),r.createElement(C,{subProductId:this.props.selectedProduct.id,recipientLogin:this.state.selectedUser?this.state.selectedUser.login:null})))},t.prototype.getBuyGiftButton=function(){return r.createElement(E.a,{checkoutURL:this.props.selectedProduct.url,giftingAnonymously:this.props.giftingAnonymously,giftRecipient:this.state.selectedUser?this.state.selectedUser.login:null,onClick:this.handleGiftCheckoutAction,productName:this.props.selectedProduct.name,subProductId:this.props.selectedProduct.id})},t.prototype.getFormattedDisplayName=function(){return this.state.selectedUser?Object(m.a)(this.state.selectedUser.login,this.state.selectedUser.name):""},t.prototype.getErrorMessage=function(){return r.createElement(v.a,{fullWidth:!0,textAlign:S.p.Center,justifyContent:S.l.Center},r.createElement(y.a,null,Object(a.d)("Something went wrong","GiftRecipientSearchResult")))},t.prototype.getUserResultContent=function(){var e=this;return this.props.userResults?this.props.userResults.results.map((function(t){var n=Object(m.a)(t.login||"",t.name||"");return r.createElement(w.a,{tabIndex:-1,"data-ts_selectable":!0,"data-tt_content":!0,key:"git-recipient-result__"+t.id,"data-user_id":t.id,"data-user_login":t.login,"data-user_name":t.name,onClick:e.onUserClick,"data-test-selector":"subscribe-button__gift_search_result",blurAfterClick:!0,selected:!!e.state.selectedUser&&(""!==e.state.selectedUser.login&&e.state.selectedUser.login===t.login)},r.createElement(v.a,{padding:.5},r.createElement(j.a,{row:!0},r.createElement(P.a,{alt:t.thumbnailAltText,src:t.thumbnail?t.thumbnail:"",size:P.b.Size4,aspect:D.c.Aspect1x1,borderRadius:S.e.Rounded}),r.createElement(I.a,{overflow:S.m.Hidden},r.createElement(x.a,{padding:{x:1}},r.createElement(y.a,{type:y.e.H5,ellipsis:!0},n))))))})):r.createElement(N.a,null)},t.prototype.getNoResultsMessage=function(){return r.createElement(v.a,{margin:1},r.createElement(y.a,{color:S.f.Alt2},Object(a.d)("No Results","GiftRecipientSearchResult")))},t}(r.Component)),B=Object(l.withLatencyTracking)("GiftRecipientSearchResultPanel")(M),A=n("FLOH"),R=n("dBR3"),G=n("dEDE"),F=n("C7sF"),U=n("kqSx"),L=n("3Law"),H=(n("D/Iv"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedSubProduct:t.props.subscriptionProducts[0]},t.onTierSelect=function(e){t.setState({selectedSubProduct:e})},t.handleChange=function(e){t.props.onChange(e.target.value)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(!this.state.selectedSubProduct)return r.createElement(N.a,null);var e=Object(a.d)("Gift Anonymously","GiftRecipientSearch");return r.createElement(v.a,{className:"subscription-gift-recipient-search",padding:2},r.createElement(v.a,{display:S.g.Flex,justifyContent:S.l.Between,margin:{bottom:1}},r.createElement(v.a,{className:"community-gift-bundle-selection__back-button"},r.createElement(G.a,{"data-a-target":"subscribe-back-button","data-test-selector":"gift-recipient-search-back-button",icon:F.a.AngleLeft,onClick:this.props.onBack,type:G.d.Text},r.createElement(v.a,{alignItems:S.b.Center,display:S.g.InlineFlex},r.createElement(y.a,null,Object(a.d)("Back","GiftRecipientSearch"))))),r.createElement(v.a,{alignSelf:S.c.Center},r.createElement(U.a,{checked:this.props.giftingAnonymously,label:e,onChange:this.props.onAnonymousGiftingSelect}))),r.createElement(v.a,{margin:{y:1}},r.createElement(v.a,{flexGrow:1,padding:{left:.5}},r.createElement(y.a,{bold:!0,fontSize:S.j.Size4},Object(a.d)("Choose a Gift Recipient","GiftRecipientSearch")))),r.createElement(R.a,{handleSubMenuAction:this.props.handleSubMenuAction,onTierSelect:this.onTierSelect,subscriptionProducts:this.props.subscriptionProducts},r.createElement(r.Fragment,null,r.createElement(v.a,{padding:{y:1}},r.createElement(A.a,{allSubProducts:this.props.subscriptionProducts,"data-test-selector":"gift-recipient-search-subheading-selector",selectedSubProduct:this.state.selectedSubProduct,channelID:this.props.channelID})),null,r.createElement(v.a,{display:S.g.Flex,fullWidth:!0,justifyContent:S.l.Center,padding:{top:1}},r.createElement(v.a,{fullWidth:!0},r.createElement(v.a,{padding:{bottom:1}},r.createElement(L.a,{"data-test-selector":"gift-recipient-search-input-selector",id:"gift-recipient-search",onChange:this.handleChange,onKeyDown:this.props.onKeyDown,placeholder:Object(a.d)("Search for a Twitch ID","GiftRecipientSearch")})),r.createElement(B,{giftingAnonymously:this.props.giftingAnonymously,handleSubMenuAction:this.props.handleSubMenuAction,hasInput:this.props.hasInput,isErrored:this.props.isErrored,isWaiting:this.props.isWaiting,loadMore:this.props.loadMore,onKeyDown:this.props.onKeyDown,selectedProduct:this.state.selectedSubProduct,userResults:this.props.userResults}))))))},t}(r.Component));n.d(t,"a",(function(){return q}));var z=50,q=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e){n.inputTimer&&(clearTimeout(n.inputTimer),n.inputTimer=0),e?(n.setState({isWaiting:!0}),n.inputTimer=setTimeout((function(){return n.doSearch(e)}),z)):n.setState(n.getEmptyState())},n.loadMore=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e,t,n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:if(this.state.queryID||!0===this.state.exhaustedHits)return[2];e=this.state.currentPage+1,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.searchClient.queryForType(c.a.Users,this.state.term,"",{page:e})];case 2:return t=r.sent(),[3,4];case 3:return r.sent(),this.setState(Object(i.__assign)(Object(i.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0})),[2];case 4:return t?(n=Object(d.a)({searchResults:t,append:e>0,currentUserResults:this.state.currentUserResults}),this.setState({currentUserResults:n.currentUserResults,term:this.state.term,hasInput:!0,isWaiting:!1,currentPage:e,exhaustedHits:n.exhaustedHits}),[2]):(this.setState(Object(i.__assign)(Object(i.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0})),[2])}}))}))},n.onKeyDown=function(e){n.state.term&&(e.keyCode===o.a.Esc?n.setState({hasInput:!1}):e.keyCode===o.a.Up?n.focusNext(-1):e.keyCode===o.a.Down&&n.focusNext(1))},n.state=n.getEmptyState(),n.searchClient=new u.a({appId:a.a.algoliaApplicationID,apiKey:a.a.algoliaAPIKey,apolloClient:a.p.apollo.client,logger:a.k,config:a.a,stats:a.p.stats}),n}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(H,{giftingAnonymously:this.props.giftingAnonymously,hasInput:this.state.hasInput,isErrored:this.state.isErrored,isWaiting:this.state.isWaiting,handleSubMenuAction:this.props.handleSubMenuAction,onAnonymousGiftingSelect:this.props.onAnonymousGiftingSelect,onBack:this.props.onBack,onChange:this.onChange,onKeyDown:this.onKeyDown,loadMore:this.loadMore,subscriptionProducts:this.props.subscriptionProducts,userResults:this.state.currentUserResults,channelID:this.props.channelID})},t.prototype.getEmptyState=function(){return{currentUserResults:{totalHits:0,results:[]},term:"",hasInput:!1,isErrored:!1,queryID:"",isWaiting:!1,currentPage:-1,focusSelectable:!1,exhaustedHits:!1}},t.prototype.doSearch=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,a,o;return Object(i.__generator)(this,(function(l){switch(l.label){case 0:this.inputTimer=0,t=-1,n=s.b(),r=document.activeElement&&"INPUT"===document.activeElement.tagName,this.setState({queryID:n,focusSelectable:!r&&!!this.state.currentFocus}),l.label=1;case 1:return l.trys.push([1,3,,4]),t=0,[4,this.searchClient.queryForType(c.a.Users,e,n)];case 2:return a=l.sent(),[3,4];case 3:return l.sent(),this.setState(Object(i.__assign)(Object(i.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0,term:e})),[2];case 4:return a?this.state.queryID!==a.id?[2]:(o=Object(d.a)({searchResults:a,append:!1}),this.setState((function(n){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},n),o),{queryID:"",term:e,hasInput:!0,isWaiting:!1,currentPage:t})})),[2]):(this.setState(Object(i.__assign)(Object(i.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0,term:e})),[2])}}))}))},t.prototype.focusNext=function(e){var t,n=document.querySelectorAll("[data-ts_selectable=true]"),i=document.activeElement,r=Array.prototype.indexOf.call(n,i);if((t=r<0?e>0?0:n.length-1:r+e)<0&&(t=0),!(t>=n.length)){var a=n.item(t);a.focus(),a.tabIndex=0,this.setState((function(e){var t=e.currentFocus;return t&&(t.tabIndex=-1),{currentFocus:a}}))}},t=Object(i.__decorate)([Object(l.withLatencyTracking)("GiftRecipientSearch")],t)}(r.Component)},OkDP:function(e,t,n){},QHJn:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pendingSubscription"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PendingSubscription"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:80}};n.loc.source={body:"fragment pendingSubscription on PendingSubscription {\nprice\nstartsAt\ntier\ntype\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},RVth:function(e,t,n){},RuiO:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_SubEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withVideo"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withVideo"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:266}};n.loc.source={body:"query Core_Services_Spade_SubEvent_User($channelID: ID! $withVideo: Boolean! $videoID: ID) {\nuser(id: $channelID) {\nid\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\ntier\npurchasedWithPrime\n}\n}\n}\nvideo(id: $videoID) @include(if: $withVideo) {\nid\nbroadcastType\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Core_Services_Spade_SubEvent_User=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"Core_Services_Spade_SubEvent_User")},S2z6:function(e,t,n){},"SL++":function(e,t,n){"use strict";var i=n("q1tI"),r=n("/7QA"),a=n("fQWD"),o=n("66/j"),s=n("sUnt"),l=n("yymn"),c=n("+80q"),u=function(e){var t=e.badge,n=parseInt(t.version,10);return i.createElement(s.a,{alignItems:l.b.Center,className:e.className,display:l.g.Flex,flexDirection:l.h.Column,flexShrink:0},i.createElement(a.a,{badge:Object(o.b)(t),hideTooltip:!0,large:!0}),i.createElement(s.a,{margin:{top:.5}},i.createElement(c.a,{className:e.className+"--text",fontSize:l.j.Size7},n>=12?Object(r.d)("{years}-Year Badge",{years:n/12},"SubBadge"):Object(r.d)("{months}-Month Badge",{months:0===n?1:n},"SubBadge"))))};n.d(t,"a",(function(){return u}))},Uolz:function(e,t,n){},V3kL:function(e,t,n){},Wd44:function(e,t,n){},Wy3f:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ShareResub_ChannelData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resubNotification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cumulativeTenureMonths"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"streakTenureMonths"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:184}};n.loc.source={body:"query Chat_ShareResub_ChannelData($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nself {\nresubNotification {\nid\ncumulativeTenureMonths\nmonths\nstreakTenureMonths\ntoken\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_ShareResub_ChannelData=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_ShareResub_ChannelData")},XX8v:function(e,t,n){},XlIw:function(e,t,n){},Y5u1:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("/7QA"),l=n("D7An"),c=n("Uh2Q"),u=n("RiD7"),d=n("eL87"),p=n("Gylv"),m=n("FLOH"),h=n("dBR3"),f=n("br9A"),b=n("sUnt"),g=n("yymn"),v=n("+80q"),y=n("dEDE"),S=n("Ws8v"),k=n("hnjF"),C=n("2rlx"),E=n("hCFK"),_=n("C7sF"),O=n("kqSx"),T=n("NJDg"),x=n("Dbw4"),N=n("L2Dh");n("uOOi");!function(e){e.ShowMoreButton="show-more-button"}(i||(i={}));var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeProduct:t.props.subscriptionProducts[0],isExpanded:!1},t.bundleSizeExperimentAssignment=s.p.experiments.getAndTrackAssignment(l.c.CommunityGifting3Bundle)||"control",t.onClickShowMoreThanThree=function(){t.setState({isExpanded:!0},(function(){return t.props.handleSubMenuAction({action:f.a.ClickShowMoreGiftBundles})}))},t.onClickShowMoreThanOne=function(){t.setState({isExpanded:!0},(function(){return t.props.handleSubMenuAction({action:f.a.ClickShowMoreGiftBundlesFromBannerCTA})}))},t.setActiveTab=function(e){t.setState({activeProduct:e})},t.getBundlesForTreatment=function(){var e=t.state.activeProduct.tier||"1000",n=N.e[e];return"1000"!==e||t.state.isExpanded?n:t.props.communityGiftRecs&&!t.state.isExpanded?t.props.communityGiftRecs:t.props.defaultBundleSize&&!t.state.isExpanded?[t.props.defaultBundleSize]:N.f[t.bundleSizeExperimentAssignment]},t.renderCreatorLuvCallout=function(){return Object(c.f)(c.a)?a.createElement(b.a,{justifyContent:g.l.Center,display:g.g.Flex,flexDirection:g.h.Column,className:"community-gift-bundle-selection__mega-callout",margin:{top:1},padding:{x:2,y:1}},a.createElement(v.a,null,Object(s.d)("Through {date}, give to the community and get exclusive emotes!",{date:Object(s.c)(Object(c.h)(c.a),{day:"numeric",month:"numeric"})},"MysteryGiftBundleSelection")),a.createElement(b.a,{padding:{bottom:.5,right:.5},justifyContent:g.l.End,display:g.g.Flex},a.createElement(y.a,{linkTo:Object(c.e)(),targetBlank:!0,onClick:t.learnMoreClick},Object(s.d)("Learn More","MysteryGiftBundleSelection")))):null},t.learnMoreClick=function(){Object(u.o)({user_id:t.props.currentUserID||"",source:u.e.SubModalGifting})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=this.state,n=Object(s.d)("Gift Anonymously","MysteryGiftBundleSelection"),r=t.activeProduct.tier||"1000",o=N.d[r]||N.b,l=!this.props.giftingAnonymously&&a.createElement(S.a,{borderTop:!0,margin:{top:2,x:1},padding:{top:1}},a.createElement(p.a,{compact:!0})),c=this.getBundlesForTreatment(),u=N.f[this.bundleSizeExperimentAssignment],f=a.createElement(b.a,{padding:{top:0,bottom:2,x:1}},a.createElement(b.a,{padding:{top:1,x:1}},a.createElement(m.a,{allSubProducts:e.subscriptionProducts,selectedSubProduct:t.activeProduct,channelID:e.channelID}),this.renderCreatorLuvCallout()),a.createElement(b.a,{justifyContent:g.l.Center},a.createElement(b.a,{display:g.g.Flex,flexWrap:g.i.Wrap,justifyContent:g.l.Start,padding:{top:2}},"1000"===this.state.activeProduct.tier?a.createElement(a.Fragment,null,a.createElement(k.a,{display:g.g.Flex,flexWrap:g.i.Wrap},a.createElement(C.a,{transitionType:E.c.TranslateTop,duration:E.b.Long},c.map((function(n){return a.createElement(x.a,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,key:"MysteryGiftBundle"+n,mysteryGiftCount:n,subscriptionProduct:t.activeProduct,wasShownMoreBundles:-1===u.indexOf(n)})})))),!this.state.isExpanded&&("control"!==this.bundleSizeExperimentAssignment||this.props.defaultBundleSize||this.props.communityGiftRecs)&&a.createElement(b.a,{display:g.g.Flex,justifyContent:g.l.Center,fullWidth:!0},a.createElement(d.a,{onClick:this.props.defaultBundleSize?this.onClickShowMoreThanOne:this.onClickShowMoreThanThree,buttonText:Object(s.d)("Show more","MysteryGiftBundleSelection"),"data-test-selector":i.ShowMoreButton}))):c.map((function(n){return a.createElement(x.a,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,key:"MysteryGiftBundle"+n,mysteryGiftCount:n,subscriptionProduct:t.activeProduct})})),a.createElement(b.a,{fullWidth:!0,margin:{x:1}},a.createElement(T.a,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,limit:o,subscriptionProduct:t.activeProduct})))),l);return a.createElement(b.a,{className:"community-gift-bundle-selection"},a.createElement(b.a,{padding:{top:2,x:2}},a.createElement(b.a,{display:g.g.Flex,justifyContent:g.l.Between},a.createElement(b.a,{className:"community-gift-bundle-selection__back-button"},a.createElement(y.a,{"data-a-target":"subscribe-back-button",icon:_.a.AngleLeft,onClick:e.onBack,type:y.d.Text},a.createElement(v.a,null,Object(s.d)("Back","MysteryGiftBundleSelection")))),a.createElement(b.a,{alignSelf:g.c.Center},a.createElement(O.a,{checked:e.giftingAnonymously,label:n,onChange:e.onAnonymousGiftingSelect}))),a.createElement(b.a,{margin:{y:1}},a.createElement(v.a,{bold:!0,fontSize:g.j.Size4},Object(s.d)("Gift to the Community","MysteryGiftBundleSelection")))),a.createElement(h.a,{handleSubMenuAction:this.props.handleSubMenuAction,onTierSelect:this.setActiveTab,subscriptionProducts:e.subscriptionProducts},a.createElement(k.a,{fullHeight:!0,overflow:g.m.Hidden,position:g.n.Relative},f)))},t}(a.Component);var j=Object(o.b)((function(e){return{currentUserID:e.session.user&&e.session.user.id||null}}))(w)},YV9q:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("/7QA");function r(e){return e.hasAdFree?e.emoteCount>0?Object(i.d)("{emoteCount, plural,           one {Includes Ad-Free viewing, chatting during Sub-Only Mode, subscription tenure badges, and # emote.}           other {Includes Ad-Free viewing, chatting during Sub-Only Mode, subscription tenure badges, and # emotes.}}",{emoteCount:e.emoteCount},"SubBenefitMessage"):Object(i.d)("Includes Ad-Free viewing, chatting during Sub-Only Mode, and subscription tenure badges.","SubBenefitMessage"):e.emoteCount>0?Object(i.d)("{emoteCount, plural,           one {Includes chatting during Sub-Only Mode, subscription tenure badges, and # emote.}           other {Includes chatting during Sub-Only Mode, subscription tenure badges, and # emotes.}}",{emoteCount:e.emoteCount},"SubBenefitMessage"):Object(i.d)("Includes chatting during Sub-Only Mode and subscription tenure badges.","SubBenefitMessage")}},YVOQ:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("f00E"),o=n("4rCz"),s=n("1rIY"),l=n("8EUQ"),c=n("KriR"),u=n("br9A"),d={channel:{login:"",id:"",displayName:null},handleSubMenuAction:function(){},modalSessionId:"",subBadges:[],gifterBadges:[],canGiftInChannel:!0,channelId:null,giftingAnonymously:!1,hasPrime:!1,hidesGiftCount:!1,isNonStandardSub:!1,onAnonymousGiftingSelect:function(){return null},primeSubRenewalDate:null,sessionUser:void 0,subscriptionProducts:[],subscriptionBenefit:null,subscriptionGiftCount:0,tenure:null,streakTenure:null},p=Object(s.a)("SubModalContext",d),m=p.context,h=p.withContext,f=function(e){function t(n){var i=e.call(this,n)||this;return i.state=d,i.onAnonymousGiftingSelect=function(e){i.setState({giftingAnonymously:e.target.checked}),i.handleSubMenuAction({action:u.a.ClickAnonymousGiftCheckbox})},i.handleSubMenuAction=function(e){var t,n;new Set([u.a.ClickCheckout,u.a.BuyGiftSub,u.a.BuyMysteryGift,u.a.BuyCustomMysteryGift,u.a.BuyGiftToPaidUpgrade,u.a.BuyPaidUpgrade,u.a.BuyContinueSub,u.a.BuyPrimeToPaid,u.a.BuyQuickSub]).has(e.action)&&i.checkAndDisplaySubscriptionCheckout(e.wasShownMoreBundles,e.chargeInterval,e.offerID);var r=!!i.props.subscriptionBenefit;Object(u.c)({action:e.action||"",buttonCTA:e.buttonCTA||i.props.subButtonCTA,channelLogin:i.props.channel.login,channelID:i.props.channel.id,checkoutButtonTier:e.checkoutButtonTier,chargeInterval:e.chargeInterval,cumulativeTenureMonths:i.state.tenure?i.state.tenure.months:null,hasSubCredit:i.props.canPrimeSubscribe,hostChannelID:null===(t=i.props.hostChannel)||void 0===t?void 0:t.id,hostChannelLogin:null===(n=i.props.hostChannel)||void 0===n?void 0:n.login,isAnonymous:e.isAnonymous,isMenuOpen:e.action!==u.a.OpenSubMenu,isSingleMonth:e.isSingleMonth,mysteryGiftCount:e.mysteryGiftCount,sub_location:i.props.subLocation,modal:!r,modalLevel:r?"":"top_page",modalSessionId:i.state.modalSessionId,showPrimeContent:i.props.inPrimeRegion,giftRecipient:e.giftRecipient||null})},i.state={channel:{id:i.props.channel.id,login:i.props.channel.login,displayName:i.props.channel.displayName},countryCode:i.props.countryCode,subBadges:t.filterBadges(i.props.subBadges||[],i.props.globalBadges||[]),gifterBadges:t.filterGifterBadges(i.props.globalBadges||[]),subscriptionProducts:t.filterProducts(i.props.subscriptionProducts||[]),canGiftInChannel:t.canSendGift(i.props.subscriptionProducts||[]),channelId:i.props.channel.id,giftingAnonymously:!1,hasPrime:i.props.hasPrime,hidesGiftCount:i.props.hidesGiftCount,isNonStandardSub:t.isNonStandardSub(i.props.subscriptionProducts||[]),primeSubRenewalDate:i.props.primeSubRenewalDate,onAnonymousGiftingSelect:i.onAnonymousGiftingSelect,sessionUser:i.props.sessionUser,subscriptionGiftCount:i.props.subscriptionGiftCount,subscriptionBenefit:i.props.subscriptionBenefit,tenure:i.props.tenure,handleSubMenuAction:i.handleSubMenuAction,modalSessionId:i.props.modalSessionId||Object(a.c)(),streakTenure:i.props.streakTenure},i}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,n){var i=n.modalSessionId;return i!==e.modalSessionId&&(i=e.modalSessionId?e.modalSessionId:Object(a.c)()),{channel:{id:e.channel.id,login:e.channel.login,displayName:e.channel.displayName},countryCode:e.countryCode,subBadges:t.filterBadges(e.subBadges||[],e.globalBadges||[]),gifterBadges:t.filterGifterBadges(e.globalBadges||[]),subscriptionProducts:t.filterProducts(e.subscriptionProducts||[]),canGiftInChannel:t.canSendGift(e.subscriptionProducts||[]),channelId:e.channel.id,isNonStandardSub:t.isNonStandardSub(e.subscriptionProducts||[]),hasPrime:e.hasPrime,modalSessionId:i,primeSubRenewalDate:e.primeSubRenewalDate,sessionUser:e.sessionUser,subscriptionGiftCount:e.subscriptionGiftCount||0,subscriptionBenefit:e.subscriptionBenefit,tenure:e.tenure,streakTenure:e.streakTenure}},t.filterProducts=function(e){return e.filter((function(e){return null!==e}))},t.filterBadges=function(e,t){var n,i=e.filter((function(e){return"subscriber"===(null==e?void 0:e.setID)})).sort((function(e,t){return Number((null==e?void 0:e.version)||0)-Number((null==t?void 0:t.version)||0)}));if("0"===(null===(n=i[0])||void 0===n?void 0:n.version))return i;var r=null==t?void 0:t.find((function(e){return"subscriber"===(null==e?void 0:e.setID)&&"0"===(null==e?void 0:e.version)}));return r&&i.unshift(r),i},t.filterGifterBadges=function(e){return e.filter((function(e){return"sub-gifter"===(null==e?void 0:e.setID)})).sort((function(e,t){return Number((null==e?void 0:e.version)||0)-Number((null==t?void 0:t.version)||0)}))},t.isNonStandardSub=function(e){return 1===e.length},t.canSendGift=function(e){var t,n;return!!(null===(n=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.self)||void 0===n?void 0:n.canGiftInChannel)},t.prototype.componentDidMount=function(){this.handleSubMenuAction({action:u.a.SubMenuReady})},t.prototype.render=function(){return r.createElement(m.Provider,{value:this.state},this.props.children)},t.prototype.checkAndDisplaySubscriptionCheckout=function(e,t,n){var i=o.o.get(l.a.SUB_CHECKOUT__PRODUCT_KEY,"");if(i){var r=this.props.extraSubProductNames;if(this.state.subscriptionProducts.find((function(e){return e.name===i}))||(null==r?void 0:r.includes(i))){var a=this.props,s=a.sessionUser,u=a.showLoginModal;if(s){var d=this.props.showSubscriptionCheckout,p=this.state.modalSessionId;d({isAnonymous:o.o.get(l.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,!1),isOneTimePurchase:o.o.get(l.a.SUB_CHECKOUT__IS_ONE_TIME_PURCHASE,!1),mysteryGiftCount:Number(o.o.get(l.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,"")),productName:i,recipientLogin:o.o.get(l.a.SUB_CHECKOUT__RECIPIENT_KEY,""),trackingContext:{source:c.a.ChannelSubscribeButton,tenantTracking:{sub_session_id:p,from_show_more_bundles:e}},chargeInterval:t,offerID:n})}else u()}else l.a.clearSubscriptionCheckoutKeys()}},t}(r.Component);n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f}))},Z9JJ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NavSearch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platform"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userQuery"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}},{kind:"Argument",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:112}};n.loc.source={body:"query NavSearch($query: String! $platform: String!) {\nsearch(userQuery: $query platform: $platform) {\nresult\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.NavSearch=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"NavSearch")},a5fV:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var i=n("/7QA");function r(e,t){return e/Math.pow(10,t)}function a(e,t){return Object(i.f)(e,{style:"currency",currency:t})}function o(e){var t,n,i,r;if(l(e)||!e.priceInfo)return e.price;if(function(e){return"offers"in e}(e)&&e.offers){var a=null===(r=null===(i=null===(n=null===(t=e.offers.find((function(e){return e.eligibility.isEligible&&!!e.promotion})))||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel)||void 0===i?void 0:i.internal)||void 0===r?void 0:r.previewPrice;if(null==a?void 0:a.discount)return s({exponent:a.exponent,currency:a.currency,total:a.discount.total})}return s(e.priceInfo)}function s(e){return a(r(e.total,e.exponent),e.currency)}function l(e){return!("priceInfo"in e)}function c(e,t){if(l(e)||!e.priceInfo)return e.price;var n=r(e.priceInfo.total,e.priceInfo.exponent);return a(n*=t,e.priceInfo.currency)}},avap:function(e,t,n){},"azJ+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="https://static-cdn.jtvnw.net/subs-image-assets"},b5vT:function(e,t,n){"use strict";var i,r,a=n("TSYQ"),o=n("q1tI"),s=n("/7QA"),l=n("C7sF"),c=n("7uM4"),u=n("Ws8v"),d=n("yymn");!function(e){e[e.LOCK=0]="LOCK",e[e.BITS=1]="BITS"}(r||(r={}));var p=((i={})[r.LOCK]=l.a.Lock,i[r.BITS]=l.a.Bits,i),m=function(e){var t=e.lockIcon,n=o.useMemo((function(){return o.createElement(c.a,{asset:p[t],height:10,width:10})}),[t]);return o.createElement(u.a,{background:d.d.Overlay,borderRadius:d.e.Small,className:"emote-button__lock","data-test-selector":"emote-button-lock",display:d.g.InlineFlex,justifyContent:d.l.Center,position:d.n.Absolute,zIndex:d.s.Above},n)},h=n("GnwI"),f=n("b7S+"),b=n("hnjF"),g=(n("GOKC"),function(e){var t=a("emote-button__link",{"emote-button__link--locked":!e.onClick}),n=e.emote,i=n.displayName,l=n.srcSet;if(!l)return null;var c=l.split(" ")[0],u=o.createElement("img",{className:"emote-picker__image",src:c,srcSet:l,alt:i});if(e.isCriticalImage){for(var p={},g=0,v=l.split(",");g<v.length;g++){var y=v[g].trim().split(" "),S=y[1],k=y[0];p[S]=k}u=o.createElement(h.CriticalImage,{className:"emote-picker__emote-image",src:c,srcSet:p,alt:i||""})}var C=o.createElement(m,{lockIcon:e.emote.isBitsTierEmote?r.BITS:r.LOCK});return o.createElement("div",{className:"emote-button"},o.createElement(f.a,{label:i||Object(s.d)("Emote","EmoteButton"),direction:f.c.Bottom},o.createElement(b.a,{display:d.g.Flex,alignItems:d.b.Center,justifyContent:d.l.Center},o.createElement("button",{"data-test-selector":"emote-button-clickable",className:t,"aria-label":i,name:i,onMouseEnter:e.onMouseEnter?e.onMouseEnter.bind(null,e.emote):void 0,onMouseLeave:e.onMouseLeave?e.onMouseLeave.bind(null,e.emote):void 0,onClick:e.onClick?e.onClick.bind(null,e.emote):void 0,"data-a-target":i},o.createElement("figure",null,e.emote.isLocked?C:null,e.showOptions&&o.createElement("div",{className:"emote-button__options"}),u)))))});n.d(t,"a",(function(){return"emote-button"})),n.d(t,"b",(function(){return g}))},br9A:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u}));var i,r=n("mrSG"),a=n("/7QA"),o=n("2xye"),s=n("I6K6"),l=n("RuiO");!function(e){e.ChannelPage="channel_page",e.ChannelHome="channel_home",e.ChannelPageModal="channel_page_modal",e.EmoteCard="emote_card",e.TheatreMode="theatre_mode",e.SubsManagementPage="subscriptions_management_page",e.SquadPage="squad_page",e.ThankSubGifterCallout="thank_sub_gifter_callout",e.MegaGifterCallout="mega_gifter_callout",e.WatchPartyPage="watch_party_page"}(i||(i={}));var c={BuyContinueSub:"buy_continue_sub",BuyCustomMysteryGift:"buy_custom_mystery_gift",BuyGiftSub:"buy_gift_sub",BuyGiftToPaidUpgrade:"buy_gift_to_paid_upgrade",BuyMysteryGift:"buy_mystery_gift",BuyPaidUpgrade:"buy_paid_upgrade",BuyPrimeToPaid:"buy_prime_to_paid",BuyQuickSub:"buy_quick_sub",ChangeTier:"change_tier",ClickAnonymousGiftCheckbox:"anonymous_gift_click",ClickBack:"back_top_level",ClickCancelAndRefund:"click_cancel_and_refund",ClickCancelPaidUpgrade:"click_cancel_paid_upgrade",ClickChangePaymentMethod:"click_change_payment_method",ClickChangeSubTier:"click_change_sub_tier",ClickCheckout:"click_checkout_button",ClickCommunityGift:"click_community_gift",ClickDisableGift:"click_disable_gift_button",ClickDNRSub:"click_dnr_sub_button",ClickGiftSubOptions:"gift_options_click",ClickMoreSubOptions:"more_options_click",ClickMultiMonthOption:"multi_month_option_select",ClickMultiMonthInfo:"multi_month_info_click",ClickPaidUpgrade:"click_paid_upgrade",ClickPrimeFAQ:"click_prime_faq",ClickResubscribe:"click_resubscribe",ClickShowMoreEmotes:"click_show_more_emotes",ClickShowMoreGiftBundles:"click_show_more_gift_bundles",ClickShowMoreGiftBundlesFromBannerCTA:"click_show_more_gift_bundles_from_banner",ClickSignupForPrime:"click_signup_for_prime",ClickSingleGift:"click_single_gift",CloseSubMenu:"close_subscribe_menu",GiftASub:"gift_a_sub",OpenSubMenu:"open_subscribe_menu",SubMenuReady:"sub_menu_ready",SubWithPrime:"samus_spend_credit"};function u(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,c,u,d,p,m,h,f,b,g,v;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:t=a.o.getVideoPlayerTrackingData().vodID,n=!!t,i={channelID:e.channelID,withVideo:!1},n&&(i.withVideo=!0,i.videoID=t),c=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:l,variables:i})];case 2:return c=r.sent(),[3,4];case 3:return u=r.sent(),a.k.warn(u,"Failed to make query for channel info in FollowEvent reporting.",{channelID:e.channelID}),[3,4];case 4:return d=c&&c.data&&c.data.user||null,c&&!d&&a.k.warn("Query for channel info in SubEvent reporting returned no data.",{channelID:e.channelID}),p=null,c&&n&&((m=c&&c.data&&c.data.video)?p=Object(s.a)(m.broadcastType):a.k.warn("Query for video info in SubEvent reporting returned no data.",{currentVideoID:t})),h=d&&d.self,f=h?!!h.subscriptionBenefit:null,b=h&&h.subscriptionBenefit&&h.subscriptionBenefit.purchasedWithPrime||!1,g=h?h.canPrimeSubscribe:null,v={action:e.action,button_cta:e.buttonCTA,can_subscribe:g,channel:e.channelLogin,channel_id:e.channelID,charge_interval:e.chargeInterval,checkout_button_tier:e.checkoutButtonTier,cumulative_tenure_months:e.cumulativeTenureMonths,days_to_next_tenure_anniversary:e.daysToNextTenureAnniversary||null,has_sub_credit:e.hasSubCredit||null,host_channel:e.hostChannelLogin,host_channel_id:e.hostChannelID,is_anonymous:e.isAnonymous,is_menu_open:e.isMenuOpen||null,is_single_month:e.isSingleMonth,is_subscribed:f,is_subscribed_current_tier:h&&h.subscriptionBenefit&&h.subscriptionBenefit.tier,mystery_gift_count:e.mysteryGiftCount||null,sub_location:e.sub_location,sub_recipient:e.giftRecipient||null,modal:e.modal,modal_level:e.modalLevel||"",modal_session_id:e.modalSessionId||"",show_prime_content:e.showPrimeContent||!1,show_resub:d?g&&b:null,streak_number:e.streakNumber||null,vod_id:t,vod_type:p,viewport_height:window.innerHeight,viewport_width:window.innerWidth},a.o.track(o.SpadeEventType.Subscription,v),[2]}}))}))}},"d/7K":function(e,t,n){},dBR3:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("/7QA"),s=n("br9A"),l=n("sUnt"),c=n("uBOI"),u=n("yymn");!function(e){e.Prime="prime",e.Tier1="1000",e.Tier2="2000",e.Tier3="3000"}(i||(i={}));var d={prime:0,1e3:0,2e3:1,3e3:2},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeTab:i.Tier1,activeIndex:0},t.toggleActiveTab=function(e,n){t.setState({activeIndex:n},(function(){var e=t.props.subscriptionProducts[t.state.activeIndex];t.props.handleSubMenuAction({action:s.a.ChangeTier,checkoutButtonTier:e.price}),t.props.onTierSelect(e)}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;if(1===this.props.subscriptionProducts.length)return a.createElement(a.Fragment,null,this.props.children);var t=this.props.subscriptionProducts.filter((function(e){return e.tier})).map((function(t){var n=t.tier;return{label:Object(o.d)("Tier {tierNumber}",{tierNumber:d[n]+1},"TierTabsWrapper"),onClick:e.toggleActiveTab}}));return a.createElement(l.a,{className:"tier-tabs-wrapper"},a.createElement(l.a,{margin:{bottom:1}},a.createElement(c.b,{activeTabIndex:this.state.activeIndex,tabs:t,size:c.a.Default,justifyContent:u.l.Start})),a.createElement(l.a,null,this.props.children))},t}(a.Component);n.d(t,"a",(function(){return p}))},dq0Q:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductEmote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:61}};n.loc.source={body:"fragment subscriptionProductEmote on Emote {\nid\nsetID\ntoken\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},eL87:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("N0BP"),o=n("sUnt"),s=n("yymn"),l=n("Ws8v"),c=n("dEDE"),u=n("+80q"),d=n("7uM4"),p=n("C7sF"),m=(n("zdTm"),function(e){var t=r.createElement(o.a,{flexGrow:1,position:s.n.Relative},r.createElement(l.a,{borderTop:!0,className:"show-more__line",fullWidth:!0,position:s.n.Absolute,zIndex:s.s.Below}));return e.hideButton?r.createElement(o.a,{className:e.doNotMoveUp?void 0:"show-more__move-up"},r.createElement(o.a,Object(i.__assign)({},Object(a.a)(e),{className:"show-more__hidden"}),t)):r.createElement(o.a,Object(i.__assign)({className:e.doNotMoveUp?void 0:"show-more__move-up",display:s.g.Flex,textAlign:s.p.Center},Object(a.a)(e),{padding:{top:1}}),t,r.createElement(o.a,{flexGrow:0,padding:{x:1}},r.createElement(c.a,{blurAfterClick:!0,onClick:e.onClick,type:c.d.Text},r.createElement(o.a,{display:s.g.Flex},r.createElement(o.a,{alignSelf:s.c.Center,margin:{right:.5}},r.createElement(u.a,null,e.buttonText)),r.createElement(d.a,{asset:p.a.AngleDown})))),t)});n.d(t,"a",(function(){return m}))},eP7G:function(e,t,n){},eUBP:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("TSYQ"),o=n("q1tI"),s=n("/MKj"),l=n("/0dD"),c=n("XDQu"),u=n("nAiT"),d=n("VYPy"),p=n("Ws8v"),m=n("yymn"),h=n("b7S+"),f=n("i4Ys"),b=n("uG/k"),g=n("sUnt"),v=n("7uM4"),y=n("C7sF");n("rsq/");!function(e){e.Button="emote-modifier-button__button",e.ButtonPresentation="emote-modifier-button__presentation"}(i||(i={}));var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onClick&&t.props.onClick(t.props.modification)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=k(this.props.modification,this.props.theme),t=a({"emote-modifier-button":!0,"emote-modifier-button--selected":this.props.selected,"emote-modifier-button--large":this.props.large,"emote-modifier-button--draggable":this.props.draggable}),n=Object(u.b)(Object(d.c)(this.props.modification.name));return o.createElement(p.a,{display:m.g.Flex,background:m.d.Base,borderRadius:m.e.Medium,fullWidth:!0},o.createElement(h.a,{label:n},o.createElement(f.a,{"data-test-selector":i.Button,type:f.b.Alpha,onClick:this.props.onClick?this.handleClick:void 0,disabled:this.props.disabled},o.createElement(p.a,{"data-test-selector":i.ButtonPresentation,className:t,display:m.g.Flex,justifyContent:m.l.Center,alignItems:m.b.Center,borderRadius:m.e.Medium,border:!0},o.createElement(b.a,{srcSet:e,src:e["1x"],alt:n})),this.props.deleteMode&&o.createElement("div",{className:"emote-modifier-button__close"},o.createElement(g.a,{display:m.g.Flex,justifyContent:m.l.End,alignItems:m.b.Start},o.createElement(v.a,{asset:y.a.Close,height:10,width:10}))))))},t}(o.Component),k=function(e,t){var n=Object(d.c)(e.name).toLowerCase().replace(" ","-"),i=t===l.a.Dark?"light":"dark";return{"1x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+i+"-1.png","2x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+i+"-2.png","4x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+i+"-4.png"}};var C=Object(s.b)((function(e){return{theme:Object(c.a)(e)}}))(S);n.d(t,"a",(function(){return C}))},eWfc:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPointsChatPrivateCalloutUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsUserFragment"},directives:[]}]}}]}}],loc:{start:0,end:189}};i.loc.source={body:'#import "twilight/features/community-points/models/user-fragment.gql"\nquery CommunityPointsChatPrivateCalloutUser($login: String!) {\nuser(login: $login) {\n...communityPointsUserFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("1mB7").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.CommunityPointsChatPrivateCalloutUser=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"CommunityPointsChatPrivateCalloutUser")},erSJ:function(e,t,n){},evnP:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("D7An"),s=n("YVOQ"),l=n("Mb07"),c=n("DnOo"),u=n("a5fV"),d=n("br9A"),p=n("sUnt"),m=n("yymn"),h=n("+80q"),f=n("C7sF"),b=n("hnjF"),g=(n("g0Jf"),"first_paid_sub_offer");var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e;if(!y())return null;var t=this.props,n=t.handleSubMenuAction,i=t.product,o=t.subscriptionBenefit,s=Object(l.b)(l.a.FirstPaidSubOffer,i);if(!s||!Object(l.d)(s))return null;var g=Object(u.e)(i),v=Object(l.c)(s),S=v.discountPercent,k=v.price;return S&&g&&k?r.createElement(p.a,{className:"first-paid-sub-offer__container",display:m.g.Flex,flexGrow:1,justifyContent:m.l.Between,margin:{x:"auto"},padding:{x:2,y:1}},r.createElement(p.a,{className:"first-paid-sub-offer__upsell",display:m.g.Flex,flexDirection:m.h.Column,justifyContent:m.l.Center},r.createElement(p.a,{margin:{bottom:.5}},r.createElement(h.a,{fontSize:m.j.Size4,lineHeight:h.b.Heading},Object(a.d)("First Sub, First Month: {offerPercentage}% off!",{offerPercentage:S},"FirstPaidSubOffer"))),r.createElement(h.a,{fontSize:m.j.Size7},Object(a.d)("Tier 1 only. Renews monthly at {renewalPrice}",{renewalPrice:k},"FirstPaidSubOffer"))),r.createElement(p.a,{alignItems:m.b.End,className:"first-paid-sub-offer__cta",display:m.g.Flex,flexDirection:m.h.Column,justifyContent:m.l.Center},r.createElement(c.a,{customSubscribeNowMessage:(null===(e=null==o?void 0:o.gift)||void 0===e?void 0:e.isGift)||(null==o?void 0:o.purchasedWithPrime)?Object(a.d)("Continue Sub","FirstPaidSubOffer"):Object(a.d)("Subscribe","FirstPaidSubOffer"),handleSubAction:n,icon:f.a.Star,isSubbedToTier:!1,overrideSubEventAction:d.a.BuyQuickSub,productName:i.name,tierPrice:String(g),url:i.url,offerID:s.id}),r.createElement(b.a,{className:"first-paid-sub-offer__cta--description",textAlign:m.p.Right},r.createElement(h.a,{fontSize:m.j.Size7},Object(a.d)("Was {renewalPrice}, {offerPercentage}% Off First Month",{offerPercentage:S,renewalPrice:k},"FirstPaidSubOffer"))))):null},t}(r.Component);function y(){return a.b.get(g,!1)&&"variant_fpso_20"===a.p.experiments.getAndTrackAssignment(o.c.MultiMonthSubs)}var S=Object(s.b)((function(e){return{subscriptionBenefit:e.subscriptionBenefit}}))(v);n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return S}))},g0Jf:function(e,t,n){},hKya:function(e,t,n){},hWJn:function(e,t,n){},hfwl:function(e,t,n){"use strict";n.r(t);var i=n("mrSG"),r=n("q1tI"),a=n("/MKj"),o=n("ANjH"),s=n("cZKs"),l=n("1/iK"),c=n("f00E"),u=n("XDCx"),d=n("D7An"),p=n("kz7j"),m=n("kRBY"),h=n("4rCz"),f=n("w1PT"),b=n("8EUQ"),g=n("GnwI"),v=n("Ws8v"),y=n("yymn"),S=n("oaL6");var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadedLatencyEvent=t.props.latencyTracking.registerCustomEvent({benchmark:500,group:p.a.Subscriptions,label:p.c.Loaded,start:p.d.Registration,key:p.b.SubscriptionModalLoaded}),t.reportCustomLatencyTracking=function(){t.props.latencyTracking.reportCustomEvent(t.loadedLatencyEvent)},t}return Object(i.__extends)(t,e),t.prototype.componentWillUnmount=function(){var e,t;null===(t=(e=this.props).onClose)||void 0===t||t.call(e)},t.prototype.render=function(){var e="3SkuRecommendation"===h.q.experiments.getAndTrackAssignment(d.c.CommunityGiftingRecommendations),t=this.props.modalSessionId;return!t&&e&&(t=Object(c.c)()),r.createElement(v.a,{className:"sub-modal__container","data-a-target":"sub-modal",background:y.d.Base,borderRadius:y.e.Medium,overflow:y.m.Hidden},r.createElement(S.SubModalComponent,{channelLogin:this.props.channelLogin,communityGiftRecsExp:e,countryCode:this.props.countryCode,defaultPage:this.props.defaultPage,defaultCGBundleSize:this.props.defaultCGBundleSize,extraSubProductNames:this.props.extraSubProductNames,modalSessionId:t,reportCustomLatency:this.reportCustomLatencyTracking,sessionUser:this.props.sessionUser,showLoginModal:this.props.showLoginModal,showSubscriptionCheckout:this.props.showSubscriptionCheckout,subLocation:this.props.subLocation,subButtonCTA:this.props.subButtonCTA,hostChannelID:this.props.hostChannelID,hostChannelLogin:this.props.hostChannelLogin}),r.createElement(s.a,{closeOnBackdropClick:!0,closeOnPageNavigation:!0,displayInset:!0}))},t}(r.Component);var C=Object(o.d)(Object(a.b)((function(e){return{sessionUser:Object(m.e)(e)}}),(function(e){return Object(o.b)({closeModal:u.d,showLoginModal:b.a.showLoginModalWithCheckoutDispatch(l.a.ChannelSubscriptionButton),showSubscriptionCheckout:f.a},e)})),Object(g.withLatencyTracking)("SubModal"))(k);n.d(t,"SubscribeModalContainer",(function(){return k})),n.d(t,"SubModal",(function(){return C}))},i70y:function(e,t,n){"use strict";var i,r=n("q1tI"),a=n("/7QA"),o=n("azJ+"),s=n("sUnt"),l=n("yymn"),c=n("dEDE"),u=n("C7sF"),d=n("+80q"),p=n("kqSx"),m=n("Ws8v"),h=n("hnjF"),f=n("zene"),b=n("uG/k"),g=n("X2PJ"),v=(n("mEVa"),function(e){var t={backgroundImage:"url("+o.a+"/bg-ghost-purple_280x60.svg)",width:"100%",height:"100%"},n={backgroundImage:"url("+o.a+"/bg-ghost-portrait.svg)",width:"100%",height:"100%"};return e.wide?r.createElement(m.a,{className:"gift-option__wide "+e.className,border:!0,borderRadius:l.e.Medium},r.createElement(f.a,{content:r.createElement(b.a,{alt:Object(a.d)("Give a gift to the community","GiftOptions"),src:e.image1x,srcSet:{"1x":e.image1x,"2x":e.image2x,"4x":e.image4x}}),toggle:e.giftingAnonymously,toggledContent:r.createElement(g.a,{borderRadius:l.e.Medium},r.createElement("div",{style:t}))}),r.createElement(s.a,{margin:2,display:l.g.Flex,flexDirection:l.h.Column,flexGrow:1},r.createElement(s.a,{display:l.g.InlineBlock,margin:{bottom:1},flexGrow:0},r.createElement(d.a,{bold:!0,fontSize:l.j.Size5},e.title)),r.createElement(s.a,{display:l.g.Flex,flexDirection:l.h.Column,justifyContent:l.l.Between,flexGrow:1},r.createElement(s.a,{margin:{bottom:1}},r.createElement(d.a,{"data-test-selector":i.GiftDescription},e.description)),r.createElement(s.a,{textAlign:l.p.Right},r.createElement(c.a,{"data-test-selector":i.GiftButton,disabled:!e.currentUserCanGift,onClick:e.onClick,type:e.buttonType},e.CTA))))):r.createElement(m.a,{className:"gift-option__narrow "+e.className,flexDirection:l.h.Row},r.createElement(f.a,{content:r.createElement(b.a,{alt:e.title,src:e.image1x,srcSet:{"1x":e.image1x,"2x":e.image2x,"4x":e.image4x}}),toggle:e.giftingAnonymously,toggledContent:r.createElement(g.a,{borderRadius:l.e.Medium},r.createElement("div",{style:n}))}),r.createElement(s.a,{margin:{left:1},padding:{left:.5},display:l.g.Flex,flexDirection:l.h.Column,fullHeight:!0},r.createElement(s.a,{display:l.g.InlineBlock,margin:{bottom:1},flexGrow:0},r.createElement(d.a,{bold:!0,fontSize:l.j.Size5},e.title)),r.createElement(s.a,{display:l.g.Flex,flexDirection:l.h.Column,justifyContent:l.l.Between,flexGrow:1},r.createElement(s.a,{margin:{bottom:1}},r.createElement(d.a,{"data-test-selector":i.GiftDescription},e.description)),r.createElement(s.a,{textAlign:l.p.Left},r.createElement(c.a,{"data-test-selector":i.GiftButton,disabled:!e.currentUserCanGift,onClick:e.onClick,type:e.buttonType},e.CTA)))))});n("EBDZ");n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return y})),function(e){e.IneligibleToGiftMessage="IneligibleToGiftMessage",e.MysteryGiftOption="MysteryGiftOption",e.SingleGiftOption="SingleGiftOption",e.GiftButton="GiftButton",e.GiftDescription="GiftDescription"}(i||(i={}));var y=function(e){var t=Object(a.d)("Gift Anonymously","GiftOptions"),n=Object(a.d)("Search for someone you'd like to give a gift subscription to.","GiftOptions"),f=Object(a.d)("Gift a Subscription","GiftOptions"),b=Object(a.d)("Give a Gift Subscription","GiftOptions"),g=Object(a.d)("Gift up to 100 gifts to followers & viewers of {channelDisplayName} that Twitch picks for you!",{channelDisplayName:e.channelDisplayName},"GiftOptions"),y=Object(a.d)("Gift to a Specific Viewer","GiftOptions"),S=Object(a.d)("Gift to the Community","GiftOptions"),k=Object(a.d)("Give Gift Subscriptions","GiftOptions");return r.createElement(s.a,{className:"subscription-gift-options",margin:{x:2,top:2}},r.createElement(s.a,{display:l.g.Flex,justifyContent:l.l.Between,flexDirection:e.wrapAnonymousGiftingSelect?l.h.Column:l.h.Row},r.createElement(s.a,null,e.onBack&&r.createElement(s.a,{className:"subscription-gift-options__back-button",margin:{bottom:1}},r.createElement(c.a,{type:c.d.Text,"data-a-target":"subscribe-back-button",icon:u.a.AngleLeft,onClick:e.onBack},r.createElement(s.a,{alignItems:l.b.Center,display:l.g.InlineFlex},r.createElement(d.a,null,Object(a.d)("Back","GiftOptions"))))),r.createElement(s.a,{display:l.g.Flex},r.createElement(s.a,{flexGrow:1},r.createElement(d.a,{bold:!0,fontSize:l.j.Size4},f)))),r.createElement(s.a,{alignSelf:e.onBack?l.c.Start:l.c.Center,margin:{top:.5}},r.createElement(p.a,{checked:e.giftingAnonymously,label:t,onChange:e.onAnonymousGiftingSelect}))),r.createElement(s.a,{margin:{top:1}},!e.currentUserCanGift&&r.createElement(m.a,{borderBottom:!0,borderRight:!0,borderTop:!0,className:"subscription-gift-options__ineligible-message","data-test-selector":i.IneligibleToGiftMessage,margin:{y:1},padding:1},r.createElement(d.a,null,Object(a.d)("Sorry, you cannot give gifts in this channel.","GiftOptions")))),r.createElement(s.a,{display:l.g.Flex,flexDirection:l.h.Column,justifyContent:l.l.Around,alignItems:l.b.Start,breakpointMedium:{flexDirection:l.h.Row,alignItems:l.b.Stretch}},!e.isNonStandardSub&&r.createElement(r.Fragment,null,r.createElement(h.a,{margin:{bottom:2},display:l.g.Flex,breakpointMedium:{display:l.g.Hide}},r.createElement(v,{buttonType:e.buttonType,CTA:k,currentUserCanGift:e.currentUserCanGift,"data-test-selector":i.MysteryGiftOption,description:g,giftingAnonymously:e.giftingAnonymously,image1x:o.a+"/random-viewer-1x.png",image2x:o.a+"/random-viewer-2x.png",image4x:o.a+"/random-viewer-4x.png",onClick:e.onMysteryGiftSelect,title:S,wide:!1})),r.createElement(h.a,{margin:{right:2},display:l.g.Hide,breakpointMedium:{display:l.g.Flex}},r.createElement(v,{buttonType:e.buttonType,CTA:k,currentUserCanGift:e.currentUserCanGift,"data-test-selector":i.MysteryGiftOption,description:g,giftingAnonymously:e.giftingAnonymously,image1x:o.a+"/random-viewer-wide-1x.png",image2x:o.a+"/random-viewer-wide-2x.png",image4x:o.a+"/random-viewer-wide-4x.png",onClick:e.onMysteryGiftSelect,title:S,wide:!0}))),r.createElement(r.Fragment,null,r.createElement(h.a,{display:l.g.Flex,breakpointMedium:{display:l.g.Hide}},r.createElement(v,{buttonType:e.buttonType,CTA:b,currentUserCanGift:e.currentUserCanGift,"data-test-selector":i.SingleGiftOption,description:n,giftingAnonymously:e.giftingAnonymously,image1x:o.a+"/specific-viewer-1x.png",image2x:o.a+"/specific-viewer-2x.png",image4x:o.a+"/specific-viewer-4x.png",onClick:e.onGiftSelect,title:y,wide:!1})),r.createElement(h.a,{display:l.g.Hide,breakpointMedium:{display:l.g.Flex}},r.createElement(v,{buttonType:e.buttonType,CTA:b,currentUserCanGift:e.currentUserCanGift,"data-test-selector":i.SingleGiftOption,description:n,giftingAnonymously:e.giftingAnonymously,image1x:o.a+"/specific-viewer-wide-1x.png",image2x:o.a+"/specific-viewer-wide-2x.png",image4x:o.a+"/specific-viewer-wide-4x.png",onClick:e.onGiftSelect,title:y,wide:!0})))))}},k91D:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GiftSubscribeButton_Gift_Eligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recipientLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subProductId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"recipientLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canGift"},arguments:[{kind:"Argument",name:{kind:"Name",value:"product"},value:{kind:"Variable",name:{kind:"Name",value:"subProductId"}}}],directives:[]}]}}]}}]}}],loc:{start:0,end:171}};n.loc.source={body:"query GiftSubscribeButton_Gift_Eligibility($recipientLogin: String $subProductId: String!) {\nuser(login: $recipientLogin) {\nid\nself {\ncanGift(product: $subProductId)\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.GiftSubscribeButton_Gift_Eligibility=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"GiftSubscribeButton_Gift_Eligibility")},kduP:function(e,t,n){"use strict";var i=n("cr+I"),r={"*":"%2A","!":"%21",")":"%29","(":"%28","'":"%27"};function a(e){return"/directory/game/"+encodeURIComponent(e)}function o(e,t){var n="?term="+encodeURIComponent(e).split("").map((function(e){return r[e]||e})).join("");return t&&(n=n+"&type="+t),{pathname:"/search",search:n}}function s(e){return"/signup?"+i.stringify({next:""+e})}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}))},lXkT:function(e,t,n){"use strict";var i=n("hfwl");n.d(t,"a",(function(){return i.SubModal}))},mEVa:function(e,t,n){},mj5D:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ShareBitsBadgeTier_ChannelData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tierNotification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"threshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canShare"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unlockedEmoticons"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:203}};n.loc.source={body:"query Chat_ShareBitsBadgeTier_ChannelData($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nself {\nbitsBadge {\nid\ntierNotification {\nid\nthreshold\ncanShare\nunlockedEmoticons {\nid\ntoken\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_ShareBitsBadgeTier_ChannelData=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_ShareBitsBadgeTier_ChannelData")},oaL6:function(e,t,n){"use strict";n.r(t);var i,r=n("mrSG"),a=n("q1tI"),o=n("ANjH"),s=n("ZDlU"),l=n("yR8l"),c=n("wUQP"),u=n("ht6z"),d=n("D7An"),p=n("4rCz"),m=n("evnP"),h=n("atdg"),f=n("QVaV"),b=n("azJ+"),g=n("Ws8v"),v=n("sUnt"),y=n("yymn"),S=n("HH5h"),k=n("+80q");n("erSJ");!function(e){e.BannerBackground="BannerBackground"}(i||(i={}));var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e={backgroundImage:"url("+(this.props.bannerImageURL||b.a+"/modal-fallback-banner.png")+")"};return a.createElement(g.a,{className:"sub-modal-banner"},a.createElement(v.a,{className:"sub-modal-banner__container",display:y.g.Flex,alignItems:y.b.Center,zIndex:y.s.Above},a.createElement(v.a,{margin:{left:3,right:2}},a.createElement(S.a,{alt:this.props.channelDisplayName||this.props.channelLogin,size:50,userLogin:this.props.channelLogin,src:this.props.profileImageURL})),a.createElement(k.a,{id:h.a,bold:!0,type:k.e.H3},Object(f.a)(this.props.channelLogin,this.props.channelDisplayName))),a.createElement("div",{className:"sub-modal-banner__background",style:e,"data-test-selector":i.BannerBackground}),a.createElement(g.a,{className:"sub-modal-banner__cover",background:y.d.Base,zIndex:y.s.Below}))},t}(a.Component),E=n("YVOQ"),_=n("PL8s"),O=function(){return a.createElement(v.a,{className:"sub-modal-placeholder"},a.createElement(_.a,{height:100}),a.createElement(v.a,{padding:2},a.createElement(v.a,{padding:{y:1}},a.createElement(_.a,{width:140,height:20})),a.createElement(_.a,{lineCount:1}),a.createElement(v.a,{padding:{y:1}},a.createElement(_.a,{width:140,height:12})),a.createElement(_.a,{lineCount:3}),a.createElement(v.a,{display:y.g.Flex,padding:{y:2}},a.createElement(_.a,{width:40,height:40}),a.createElement(_.a,{width:40,height:40}),a.createElement(_.a,{width:40,height:40}),a.createElement(_.a,{width:40,height:40}),a.createElement(_.a,{width:40,height:40}),a.createElement(_.a,{width:40,height:40})),a.createElement(_.a,{width:140,height:12}),a.createElement(v.a,{display:y.g.Flex,padding:{y:2}},a.createElement(_.a,{width:30,height:30}),a.createElement(_.a,{width:30,height:30}),a.createElement(_.a,{width:30,height:30}),a.createElement(_.a,{width:30,height:30}),a.createElement(_.a,{width:30,height:30}),a.createElement(_.a,{width:30,height:30}),a.createElement(_.a,{width:30,height:30}),a.createElement(_.a,{width:30,height:30}),a.createElement(_.a,{width:30,height:30}),a.createElement(_.a,{width:30,height:30}),a.createElement(_.a,{width:30,height:30})),a.createElement(_.a,{width:140,height:12}),a.createElement(v.a,{padding:{y:1}},a.createElement(_.a,{height:80})),a.createElement(v.a,{padding:{y:1}},a.createElement(_.a,{height:80}))))},T=n("w4HT"),x=n("VYPy"),N=n("CtOe"),w=n("DQ0a");n("O1pM");n.d(t,"SubModalPresentation",(function(){return j})),n.d(t,"SubModalComponent",(function(){return P}));var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e,t;this.props.data.loading&&!this.props.data.error||null===(t=(e=this.props).reportCustomLatency)||void 0===t||t.call(e)},t.prototype.componentDidUpdate=function(e){var t,n;(e.data.loading&&!this.props.data.loading||this.props.data.error)&&(null===(n=(t=this.props).reportCustomLatency)||void 0===n||n.call(t))},t.prototype.render=function(){var e,t,n,i,r,o,l,c,m,h,f,b,g;if(!this.props.data.user)return this.props.data.error?a.createElement(s.PageError,{message:Object(p.d)("Something went wrong. Try again later.","SubModal")}):a.createElement(O,null);var y=this.props.data,S=y.badges,k=y.user,_=y.requestInfo,x=y.currentUser,N=!!_&&Object(u.a)(_.countryCode),w="treatment"===p.q.experiments.getAndTrackAssignment(d.c.CommunityGiftingReduceFriction);return a.createElement(v.a,{className:"sub-modal"},a.createElement(E.a,{canPrimeSubscribe:!!(null===(e=k.self)||void 0===e?void 0:e.canPrimeSubscribe),channel:{id:k.id||"",login:this.props.channelLogin,displayName:k.displayName},countryCode:this.props.countryCode,extraSubProductNames:this.props.extraSubProductNames,globalBadges:S,hasPrime:!!(null==x?void 0:x.hasPrime),hidesGiftCount:!!(null===(t=null==x?void 0:x.subscriptionSettings)||void 0===t?void 0:t.isGiftCountHidden),hostChannel:this.props.hostChannelID&&this.props.hostChannelLogin?{id:this.props.hostChannelID,login:this.props.hostChannelLogin,displayName:null}:void 0,inPrimeRegion:N,modalSessionId:this.props.modalSessionId,primeSubRenewalDate:(null===(i=null===(n=k.self)||void 0===n?void 0:n.primeSubCreditBenefit)||void 0===i?void 0:i.renewalDate)||null,sessionUser:this.props.sessionUser,showLoginModal:this.props.showLoginModal,showSubscriptionCheckout:this.props.showSubscriptionCheckout,subBadges:k.broadcastBadges,subButtonCTA:this.props.subButtonCTA,subLocation:this.props.subLocation,subscriptionGiftCount:(null===(r=k.self)||void 0===r?void 0:r.subscriptionGiftCount)||0,subscriptionProducts:k.subscriptionProducts,subscriptionBenefit:(null===(o=k.self)||void 0===o?void 0:o.subscriptionBenefit)||null,streakTenure:(null===(l=k.self)||void 0===l?void 0:l.streakTenure)||null,tenure:(null===(c=k.self)||void 0===c?void 0:c.cumulativeTenure)||null},a.createElement(C,{bannerImageURL:k.bannerImageURL,channelDisplayName:k.displayName,channelLogin:this.props.channelLogin,profileImageURL:k.profileImageURL}),a.createElement(T.b,{canPrimeSubscribe:!!(null===(m=k.self)||void 0===m?void 0:m.canPrimeSubscribe),communityGiftRecs:(null===(b=null===(f=null===(h=this.props.communityGiftingRecs)||void 0===h?void 0:h.currentUser)||void 0===f?void 0:f.recommendations)||void 0===b?void 0:b.communityGiftQuantities)||void 0,channelLogin:this.props.channelLogin,defaultPage:this.props.defaultPage,isSubscribed:!!(null===(g=k.self)||void 0===g?void 0:g.subscriptionBenefit),inPrimeRegion:N,defaultCGBundleSize:this.props.defaultCGBundleSize,reduceCGFrictionExperiment:w})))},t}(a.Component),P=Object(o.d)(Object(l.a)(w,{options:function(e){return{fetchPolicy:"cache-and-network",variables:{login:e.channelLogin,withOffers:Object(m.b)(),includeEmoteModifiers:Object(c.c)(x.a)}}}}),Object(l.a)(N,{name:"communityGiftingRecs",skip:function(e){return!e.communityGiftRecsExp},options:function(e){return{variables:{trackingId:e.modalSessionId}}}}))(j)},qyVS:function(e,t,n){},"rsq/":function(e,t,n){},sLmD:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var i=n("/7QA"),r="en-us",a={bg:"bg-bg",cs:"cs-cz",da:"da-dk",de:"de-de",el:"el-gr",en:r,"en-gb":r,es:"es-es","es-mx":"es-mx",fi:"fi-fi",fr:"fr-fr",hu:"hu-hu",it:"it-it",ja:"ja-jp",ko:"ko-kr",nl:"nl-nl",no:"no-no",pl:"pl-pl","pt-br":"pt-br",pt:"pt-pt",ro:"ro-ro",ru:"ru-ru",sk:"sk-sk",sv:"sv-se",th:"th-th",tr:"tr-tr",vi:"vi-vn","zh-cn":"zh-cn","zh-tw":"zh-tw"},o=function(e,t){var n,i=l();return n=t?{id:s(e)?e.tag_id:e.objectID,tagName:e.tag_name,isAutomated:e.automated||!1,localizedDescription:s(e)?"":e.description_localizations&&e.description_localizations[i]||"",localizedName:""}:{id:s(e)?e.tag_id:e.objectID,isLanguageTag:e.tag_name.includes("auto___lang"),localizedName:"",tagName:e.tag_name},e.localizations&&e.localizations[i]?n.localizedName=e.localizations[i]:e.localizations&&e.localizations[r]?n.localizedName=e.localizations[r]:n.localizedName=n.tagName,n};function s(e){return void 0!==e.tag_id}function l(){return a[i.p.intl.getLanguageCode()||""]||r}},tPnS:function(e,t,n){"use strict";n.r(t);var i=n("mrSG"),r=n("q1tI"),a=n("/MKj"),o=n("ANjH"),s=n("/7QA"),l=n("vHGB"),c=n("ISMp"),u=n("f00E"),d=n("amaQ"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closeString=Object(s.d)("Close","ChatPrivateCallout"),t.privateCalloutSID=Object(u.c)(),t.hasCTA=!0,t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){Object(d.g)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.trackingType,privateCalloutSID:this.privateCalloutSID,hasCTA:this.hasCTA})},t.prototype.trackDismiss=function(){this.trackAction(d.a.Dismiss,d.c.PrivateCallout)},t.prototype.trackAction=function(e,t,n,i){Object(d.e)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.trackingType,privateCalloutSID:this.privateCalloutSID,action:e,msgBody:n,usedPrompt:i,uiContext:t})},t.prototype.trackCTAClick=function(e){Object(d.f)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.trackingType,privateCalloutSID:this.privateCalloutSID,uiContext:d.c.PrivateCallout,clickType:e})},t}(r.Component),m=n("hO8c"),h=n("ZtEv"),f=n("aF6k");function b(e,t){return{type:h.b.InlinePrivateCallout,id:Object(f.a)("inlinePrivateCallout"),callout:e,tray:t}}var g=n("tcg6"),v=n("C7sF"),y=n("7uM4"),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.buildCalloutProps=function(){var e=this,t=this.props.badgeSets.getBadge("moderator","1"),n=Object(s.d)("Mod View","AppointedModeratorCallout"),a={children:n,overlay:!0,icon:v.a.Externallink,linkTo:Object(g.a)(this.props.channelLogin)},o={title:Object(s.d)("{channelDisplayName} added you as a Moderator of this channel!",{channelDisplayName:this.props.event.author},"AppointedModeratorCallout"),icon:t?r.createElement(l.a,{schemaBadge:t,noMargins:!0,hideTooltip:!0}):r.createElement(y.a,{asset:v.a.Sword,type:y.b.Brand})},c=Object(i.__assign)(Object(i.__assign)({},o),{trackingType:d.d.AppointedModerator,trackingClickType:d.b.OpenModView,privateSID:this.privateCalloutSID,cta:n,action:function(){return window.location.replace(a.linkTo)}});return{message:{title:o.title},actions:{primaryButton:a},icon:t?r.createElement(l.a,{schemaBadge:t,noMargins:!0,hideTooltip:!0}):r.createElement(y.a,{asset:v.a.Sword,type:y.b.Brand}),closeButton:{ariaLabel:this.closeString,onClick:function(){e.props.popCallout(),e.trackDismiss()}},progressBar:{animationDuration:15,onAnimationEnd:function(){e.props.popCallout(),e.props.onPushMessage(b(c))}},overlay:!0,inlineActions:!0}},t.prototype.render=function(){var e=this.buildCalloutProps();return r.createElement(c.a,Object(i.__assign)({},e))},t}(p);var k,C=Object(o.d)(Object(m.b)((function(e){return{popCallout:e.popCallout}})))(S),E=n("A4KW"),_=n("g+79"),O=n("W1jp"),T=n("dEDE"),x=n("sUnt"),N=n("+80q"),w=n("yymn");!function(e){e.RewardMessage="reward-message"}(k||(k={}));var j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackingType=d.d.CommunityPointsReward,t.trackingClickType=d.b.ShowReward,t}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(c.a,Object(i.__assign)({},this.buildCalloutProps()))},t.prototype.buildCalloutProps=function(){var e=this,t=this.props.event.reward;return{overlay:!0,inlineActions:!0,icon:this.renderRewardIcon(t),message:{title:this.renderRewardMessage(t)},progressBar:{animationDuration:15,onAnimationEnd:function(){e.props.popCallout(),e.props.onPushMessage(b({cta:e.renderRewardCTAText(),icon:e.renderRewardIcon(t),title:e.renderRewardMessage(t),action:e.props.event.openReward,trackingType:e.trackingType,trackingClickType:e.trackingClickType,privateSID:e.privateCalloutSID}))}},closeButton:{ariaLabel:this.closeString,onClick:function(){e.props.popCallout(),e.trackDismiss()}},actions:{primaryButton:{onClick:function(){e.props.popCallout(),e.props.event.openReward(),e.trackCTAClick(e.trackingClickType)},children:this.renderRewardCTAText(),type:T.d.Primary,overlay:!0}}}},t.prototype.renderRewardIcon=function(e){return r.createElement(_.a,{data:e,size:_.b.ExtraSmall})},t.prototype.renderRewardCTAText=function(){return Object(s.d)("Show me","CommunityPointsPrivateCalloutButton")},t.prototype.renderRewardMessage=function(e){return r.createElement(x.a,{"data-test-selector":k.RewardMessage},r.createElement(N.a,{type:N.e.Span},Object(s.d)("{rewardName} with your",{rewardName:O.f(e)},"CommunityPointsPrivateCalloutRewardMessage")),r.createElement(x.a,{display:w.g.InlineFlex,flexDirection:w.h.Row,verticalAlign:w.q.Middle},r.createElement(x.a,{display:w.g.InlineBlock,margin:{x:.5}},r.createElement(E.b,null)),r.createElement(N.a,null,Object(s.f)(O.c(e)))))},t}(p);var P=Object(o.d)(Object(m.b)((function(e){return{popCallout:e.popCallout}})))(j),D=n("DMoW"),I=n("RS58"),M=n("zwF8"),B=n("Ws8v"),A=n("uG/k"),R=(n("KOxZ"),function(e){var t=e.emoteReward,n=e.badgeReward,i=null;if(!t&&!n)return i;if(!(t&&n)){var a=t||n,o=(null==a?void 0:a.type)===D.Vb.EMOTE?"https://static-cdn.jtvnw.net/emoticons/v1/"+(null==a?void 0:a.id)+"/3.0":(null==a?void 0:a.image_url)||"";i=r.createElement(x.a,{className:"hype-train-rewards",fullWidth:!0,fullHeight:!0},r.createElement(B.a,{className:"hype-train-rewards__icon",display:w.g.Flex,borderRadius:w.e.Rounded,alignItems:w.b.Center,justifyContent:w.l.Center,padding:.5},r.createElement(A.a,{src:o,srcSet:{"112w":o},sizes:[{size:(null==a?void 0:a.type)===D.Vb.EMOTE?"24px":"72px"}],alt:(null==a?void 0:a.type)===D.Vb.EMOTE?(null==a?void 0:a.token)||"":(null==a?void 0:a.badge_id)||""})))}else{var s="https://static-cdn.jtvnw.net/emoticons/v1/"+(null==t?void 0:t.id)+"/3.0",l=(null==n?void 0:n.image_url)||"";i=r.createElement(x.a,{className:"hype-train-rewards hype-train-rewards__double-rewards",position:w.n.Relative,fullWidth:!0,fullHeight:!0},r.createElement(B.a,{className:"hype-train-rewards__icon",display:w.g.Flex,borderRadius:w.e.Rounded,alignItems:w.b.Center,justifyContent:w.l.Center,position:w.n.Absolute,attachBottom:!0,attachLeft:!0,zIndex:w.s.Above},r.createElement(A.a,{src:s,srcSet:{"112w":s},sizes:[{size:"17px"}],alt:(null==t?void 0:t.token)||""})),r.createElement(B.a,{className:"hype-train-rewards__icon",display:w.g.Flex,borderRadius:w.e.Rounded,alignItems:w.b.Center,justifyContent:w.l.Center,position:w.n.Absolute,attachTop:!0,attachRight:!0},r.createElement(A.a,{src:l,srcSet:{"72w":l},sizes:[{size:"34px"}],alt:(null==n?void 0:n.badge_id)||""})))}return i}),G=(n("xRjC"),15),F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackingType=d.d.HypeTrainRewards,t.trackingClickType=d.b.Thank,t.buildEmoteRewardProps=function(e,n,a){var o,l=r.createElement(R,{emoteReward:n,badgeReward:a}),c=r.createElement(x.a,{display:w.g.Flex,padding:{top:.5,bottom:1},alignItems:w.b.End},Object(s.d)("Hooray! Let the channel know you've earned a new Hype Train emote.","HypeTrainRewardsCalloutComponent")),u=Object(s.d)("Share","HypeTrainRewardsCalloutComponent"),p={title:e,icon:l,hideIconBackground:!0},m=Object(s.d)("Choo Chooo {emoteString}",{emoteString:n&&n.token?n.token:""},"HypeTrainRewardsCalloutComponent"),h=Object(i.__assign)(Object(i.__assign)({},p),{cta:n&&u,trackingType:t.trackingType,trackingClickType:t.trackingClickType,privateSID:t.privateCalloutSID}),f={title:Object(s.d)("Show off your support in chat!","HypeTrainRewardsCalloutComponent"),inputValue:m,body:c,sendButtonOverride:M.b.ShareEmoteReward,icon:l,disableCommands:!0,sendMessageHandler:{type:M.c.Chat,params:{privateCalloutTrackingContext:d.c.PrivateCallout}}};return o={message:{title:p.title},icon:l,closeButton:{ariaLabel:t.closeString,onClick:function(){t.props.popCallout(),t.trackDismiss()}},progressBar:{animationDuration:G,onAnimationEnd:function(){t.props.popCallout(),t.props.onPushMessage(b(h,n&&f))}},overlay:!0,inlineActions:!0,hideIconBackground:!0},f.callOnClose=function(){t.props.onPushMessage(b(h,f))},n&&(o.actions={primaryButton:{onClick:function(){t.props.popCallout(),t.props.appendToTrayInput(m),t.trackCTAClick(t.trackingClickType)},children:u,type:T.d.Secondary,overlay:!0}}),o},t.buildEmoteRewardMessage=function(){return Object(s.d)("You received a Level {level, number} Hype Train emote!",{level:t.props.event.level},"HypeTrainRewardsCalloutComponent")},t.buildConductorBadgeRewardsMessage=function(){return Object(s.d)("You earned a conductor badge!","HypeTrainRewardsCalloutComponent")},t.buildEmoteAndConductorBadgeRewardsMessage=function(){return Object(s.d)("You earned a conductor badge and a Level {level, number} Hype Train emote!",{level:t.props.event.level},"HypeTrainRewardsCalloutComponent")},t}return Object(i.__extends)(t,e),t.prototype.buildCalloutProps=function(){var e=this.props.event.rewards.filter((function(e){return e.type===D.Vb.BADGE})),t=this.props.event.rewards.filter((function(e){return e.type===D.Vb.EMOTE})),n="";return t.length>0&&e.length>0?n=this.buildEmoteAndConductorBadgeRewardsMessage():e.length>0?n=this.buildConductorBadgeRewardsMessage():t.length>0&&(n=this.buildEmoteRewardMessage()),this.buildEmoteRewardProps(n,t[0],e[0])},t.prototype.render=function(){var e=this.buildCalloutProps();return r.createElement(c.a,Object(i.__assign)({},e))},t}(p);var U,L,H,z=Object(o.d)(Object(m.b)((function(e){return{popCallout:e.popCallout}})),Object(I.b)((function(e){return{appendToTrayInput:e.appendToTrayInput}})))(F),q=n("XDCx"),V=n("kRBY"),W=function(){var e=document.querySelector('[data-a-target="bits-button"]');e&&e.click()},K=n("RiD7"),Q=(n("avap"),function(e){var t=null;if(0===e.emotes.length)return t;if(1===e.emotes.length){var n=e.emotes[0].imageURL||"";t=r.createElement(x.a,{className:"megacheer-rewards",fullWidth:!0,fullHeight:!0},r.createElement(B.a,{className:"megacheer-rewards__icon",display:w.g.Flex,borderRadius:w.e.Rounded,alignItems:w.b.Center,justifyContent:w.l.Center,padding:.5},r.createElement(A.a,{src:n,srcSet:{"112w":n},sizes:[{size:"24px"}],alt:e.emotes[0].text})))}else{var i=e.emotes[0].imageURL||"",a=e.emotes[1].imageURL||"";t=r.createElement(x.a,{className:"megacheer-rewards",position:w.n.Relative,fullWidth:!0,fullHeight:!0},r.createElement(B.a,{className:"megacheer-rewards__icon",display:w.g.Flex,borderRadius:w.e.Rounded,alignItems:w.b.Center,justifyContent:w.l.Center,padding:.5,position:w.n.Absolute,attachBottom:!0,attachLeft:!0,zIndex:w.s.Above},r.createElement(A.a,{src:i,srcSet:{"112w":i},sizes:[{size:"12px"}],alt:e.emotes[0].text})),r.createElement(B.a,{className:"megacheer-rewards__icon",display:w.g.Flex,borderRadius:w.e.Rounded,alignItems:w.b.Center,justifyContent:w.l.Center,padding:.5,position:w.n.Absolute,attachTop:!0,attachRight:!0},r.createElement(A.a,{src:a,srcSet:{"112w":a},sizes:[{size:"12px"}],alt:e.emotes[1].text})))}return t}),Y=n("x7UT"),X=n("0Log"),J=n("/aPz"),$=n("buTd");!function(e){e.Cheer="CHEER",e.Subscription="SUBSCRIPTION",e.SubGift="SUBGIFT"}(H||(H={}));var Z=((U={unknown:K.g.CheerAgain})[H.Cheer]=K.g.CheerAgain,U[H.SubGift]=K.g.SubGiftAgain,U[H.Subscription]=K.g.SubGift,U),ee=function(e){function t(t){var n=e.call(this,t)||this;return n.state={lastPushedNotificationID:null},n}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=e.pubsub.messages.userNotificationEvent,n=this.props.pubsub.messages.userNotificationEvent;if(n&&n!==t){if(n.type===X.PubsubMessageType.UserCampaignMegaCheerRewardEvent){var i=n;if(n.data.channelID&&n.data.channelID===this.props.channelID){var r={event:{type:$.a.MegaBenefactorRewards,emotes:i.data.contents.slice(),transactionID:i.data.transactionID,domain:i.data.domain,giftType:this.getGiftType(i.data.triggerType||""),notificationType:Z[i.data.triggerType||""]},key:Object(u.c)()};this.props.pushCallout(r)}}if(n.type===X.PubsubMessageType.UserGiftEvent){var a=n;if(a&&a.data.channelID&&a.data.channelID===this.props.channelID){var o={event:{type:$.a.MegaRecipientRewards,transactionID:a.data.transactionID,gifterDisplayName:a.data.benefactor,emotes:a.data.contents.slice(),domain:a.data.domain,giftType:this.getGiftType(a.data.triggerType||""),notificationType:Z[a.data.triggerType||""]},key:Object(u.c)()};this.props.pushCallout(o)}}}},t.prototype.render=function(){return null},t.prototype.getGiftType=function(e){return e===H.SubGift?H.SubGift:e===H.Subscription?H.Subscription:H.Cheer},t}(r.Component);var te=Object(o.d)(Object(Y.a)([{topic:function(e){return Object(J.S)(e.currentUserId||"")},mapMessageTypesToProps:(L={},L[X.PubsubMessageType.UserGiftEvent]="userNotificationEvent",L[X.PubsubMessageType.UserCampaignMegaCheerRewardEvent]="userNotificationEvent",L),skip:function(e){return!e.currentUserId}}]),Object(m.b)((function(e){return{pushCallout:function(t){return e.pushCallout(t)}}})))(ee),ne=n("lXkT"),ie=n("w4HT"),re=n("br9A"),ae=(n("EEET"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackingType=d.d.MegacheerEmoteRecipient,t.trackingClickType=d.b.Thank,t.onActionClick=function(e){var n=t.props.event.notificationType;switch(e){case H.SubGift:case H.Subscription:t.showSubModal();break;default:W()}Object(K.q)({notification_type:n,action:K.f.Click,transaction_id:t.props.event.transactionID||"",user_id:t.props.currentUserID||"",initiator_user_id:t.props.currentUserID||"",channel:t.props.channelLogin||"",channel_id:t.props.channelID||"",domain:t.props.event.domain||""})},t.showSubModal=function(){t.props.showSubModal({subLocation:"thank_sub_gifter_callout",channelLogin:t.props.channelLogin,defaultPage:ie.a.GiftOptions}),Object(re.c)({action:re.a.ClickGiftSubOptions,channelID:t.props.channelID||"",channelLogin:t.props.channelLogin,modal:!0,modalLevel:"top_page",sub_location:re.b.MegaGifterCallout,cumulativeTenureMonths:null})},t.onClose=function(){Object(K.q)({notification_type:t.props.event.notificationType,action:K.f.Dismiss,transaction_id:t.props.event.transactionID||"",user_id:t.props.currentUserID||"",initiator_user_id:t.props.currentUserID||"",channel:t.props.channelLogin||"",channel_id:t.props.channelID||"",domain:t.props.event.domain||""})},t}return Object(i.__extends)(t,e),t.prototype.buildCalloutProps=function(){var e,t=this,n=this.props.event.emotes,a=this.props.event.giftType,o=Object(s.d)("Cheer Again","MegaBenefactorRewardsCallout"),l=Object(s.d)("Cheer","MegaBenefactorRewardsCallout"),c=Object(s.d)("Gift","MegaBenefactorRewardsCallout");switch(a){case H.SubGift:o=Object(s.d)("Gift Again","MegaBenefactorRewardsCallout"),l=c;break;case H.Subscription:o=c,l=Object(s.d)("Subscription","MegaBenefactorRewardsCallout")}var u={title:Object(s.d)("{giftCount, plural, one {Your {giftType} unlocked an emote!} other {Your {giftType} unlocked emotes!}}",{giftCount:n.length,giftType:l},"MegaBenefactorRewardsCallout"),icon:r.createElement(Q,{emotes:n,key:n[0].id}),cta:o},d=Object(i.__assign)(Object(i.__assign)({},u),{trackingType:this.trackingType,trackingClickType:this.trackingClickType,privateSID:this.privateCalloutSID});return(e={message:{title:u.title},icon:u.icon,closeButton:{ariaLabel:this.closeString,onClick:function(){t.props.popCallout(),t.trackDismiss(),t.onClose()}},progressBar:{animationDuration:15,onAnimationEnd:function(){t.props.popCallout(),t.props.onPushMessage(b(d))}},overlay:!0,inlineActions:!0,hideIconBackground:!0}).actions={primaryButton:{onClick:function(){t.props.popCallout(),t.onActionClick(a),t.trackCTAClick(t.trackingClickType)},children:u.cta,type:T.d.Secondary,overlay:!0}},e},t.prototype.render=function(){if(0===this.props.event.emotes.length)return null;Object(K.p)({notification_type:this.props.event.notificationType,transaction_id:this.props.event.transactionID||"",user_id:this.props.currentUserID||"",initiator_user_id:this.props.currentUserID||"",channel:this.props.channelLogin||"",channel_id:this.props.channelID||"",domain:this.props.event.domain||""});var e=this.buildCalloutProps();return r.createElement(c.a,Object(i.__assign)({},e))},t}(p));function oe(e){var t=Object(V.e)(e);return{currentUserLogin:t?t.login:null,currentUserID:t?t.id:null}}var se=Object(o.d)(Object(m.b)((function(e){return{popCallout:e.popCallout}})),Object(a.b)(oe),Object(a.b)(oe,(function(e){return Object(o.b)({showSubModal:function(e){return Object(q.e)(ne.a,e)}},e)})))(ae),le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackingType=d.d.MegacheerEmoteRecipient,t.trackingClickType=d.b.Thank,t.onThank=function(){Object(K.q)({notification_type:K.g.Thank,action:K.f.Click,transaction_id:t.props.event.transactionID||"",user_id:t.props.currentUserID||"",initiator_user_id:t.props.event.gifterDisplayName,channel:t.props.channelLogin||"",channel_id:t.props.channelID||"",domain:t.props.event.domain||""})},t.onClose=function(){Object(K.q)({notification_type:K.g.Thank,action:K.f.Dismiss,transaction_id:t.props.event.transactionID||"",user_id:t.props.currentUserID||"",initiator_user_id:t.props.event.gifterDisplayName,channel:t.props.channelLogin||"",channel_id:t.props.channelID||"",domain:t.props.event.domain||""})},t}return Object(i.__extends)(t,e),t.prototype.buildCalloutProps=function(){var e=this,t=this.props.event.emotes,n=r.createElement(Q,{emotes:t,key:t[0].id}),a=this.props.event.giftType,o=Object(s.d)("Cheer","MegaRecipientRewardsCallouts");switch(a){case H.SubGift:o=Object(s.d)("Gift","MegaRecipientRewardsCallouts");break;case H.Subscription:o=Object(s.d)("Subscription","MegaRecipientRewardsCallouts")}var l,c={title:Object(s.d)("{numEmotes, plural, one {You got an emote thanks to {benefactor}'s {giftType}!} other {You got {numEmotes} emotes thanks to {benefactor}'s {giftType}!}}",{benefactor:this.props.event.gifterDisplayName,giftType:o,numEmotes:t.length},"MegaRecipientRewardsCallouts"),icon:n,cta:Object(s.d)("Thank","MegaRecipientRewardsCallout"),hideIconBackground:!0},u=Object(i.__assign)(Object(i.__assign)({},c),{trackingType:this.trackingType,trackingClickType:this.trackingClickType,privateSID:this.privateCalloutSID}),p=Object(s.d)("{numEmotes, plural, one {Thanks for the {emoteList} @{user}} other {Thanks for the {emoteList} @{user}}}",{emoteList:this.props.event.emotes.map((function(e){return e.text})).join(" "),user:this.props.event.gifterDisplayName,numEmotes:t.length},"MegaRecipientRewardsCallout"),m={title:Object(s.d)("Add a message to thank {user} for your gift!",{user:this.props.event.gifterDisplayName},"MegaRecipientRewardsCallout"),body:Object(s.d)("Enjoy your gift!","MegaRecipientRewardsCallout"),sendButtonOverride:M.b.ThankSubGifter,icon:n,inputValue:p,disableCommands:!0,sendMessageHandler:{type:M.c.Chat,params:{privateCalloutTrackingContext:d.c.PrivateCallout},onSuccess:function(t,n){var i=Boolean(t===p);e.trackAction(d.a.Message,n&&n.privateCalloutTrackingContext||d.c.PrivateCallout,t,i),Object(K.r)({body:t,transaction_id:e.props.event.transactionID||"",user_id:e.props.currentUserID||"",initiator_user_id:e.props.event.gifterDisplayName,channel:e.props.channelLogin||"",channel_id:e.props.channelID||"",domain:e.props.event.domain||""})}}};return l={message:{title:c.title},icon:n,closeButton:{ariaLabel:this.closeString,onClick:function(){e.props.popCallout(),e.trackDismiss(),e.onClose()}},progressBar:{animationDuration:15,onAnimationEnd:function(){e.props.popCallout(),e.props.onPushMessage(b(u,m))}},overlay:!0,inlineActions:!0,hideIconBackground:!0},m.callOnClose=function(){e.props.onPushMessage(b(u,m))},l.actions={primaryButton:{onClick:function(){e.onThank(),e.props.popCallout(),e.props.setTray(m),e.trackCTAClick(e.trackingClickType)},children:c.cta,type:T.d.Secondary,overlay:!0}},l},t.prototype.render=function(){if(0===this.props.event.emotes.length)return null;Object(K.p)({notification_type:K.g.Thank,transaction_id:this.props.event.transactionID||"",user_id:this.props.currentUserID||"",initiator_user_id:this.props.event.gifterDisplayName,channel:this.props.channelLogin||"",channel_id:this.props.channelID||"",domain:this.props.event.domain||""});var e=this.buildCalloutProps();return r.createElement(c.a,Object(i.__assign)({},e))},t}(p);var ce=Object(o.d)(Object(m.b)((function(e){return{popCallout:e.popCallout}})),Object(I.b)((function(e){return{setTray:function(t){return e.setTray(t)}}})),Object(a.b)((function(e){var t=Object(V.e)(e);return{currentUserLogin:t?t.login:null,currentUserID:t?t.id:null}})))(le),ue=n("yR8l"),de=n("geRD"),pe=n("IZXT"),me=n("TSYQ"),he=n("a1OF"),fe=(n("Uolz"),function(e){var t=e.badge,n=e.badgeName,i=e.emoteID,a=e.emoteToken,o=e.arrangeVertically,s=e.hideIconBackground,l=Object(he.d)(i,3),c=me("bits-badge-tier-rewards__icon",{"bits-badge-tier-rewards__icon--background":!s}),u=r.createElement(A.a,{src:t.image1x,srcSet:{"72w":t.image4x},sizes:[{size:"17px"}],alt:n}),d=r.createElement(A.a,{src:l,srcSet:{"112w":l},sizes:[{size:"17px"}],alt:a});return o?r.createElement(x.a,{className:"bits-badge-tier-rewards",fullWidth:!0,fullHeight:!0},r.createElement(B.a,{className:c,display:w.g.Flex,alignItems:w.b.Center,justifyContent:w.l.Center},u),r.createElement(B.a,{className:c,display:w.g.Flex,alignItems:w.b.Center,justifyContent:w.l.Center},d)):r.createElement(x.a,{className:"bits-badge-tier-rewards",position:w.n.Relative,fullWidth:!0,fullHeight:!0},r.createElement(B.a,{className:c,display:w.g.Flex,borderRadius:w.e.Rounded,alignItems:w.b.Center,justifyContent:w.l.Center,position:w.n.Absolute,attachBottom:!0,attachLeft:!0,zIndex:w.s.Above},u),r.createElement(B.a,{className:c,display:w.g.Flex,borderRadius:w.e.Rounded,alignItems:w.b.Center,justifyContent:w.l.Center,position:w.n.Absolute,attachTop:!0,attachRight:!0},d))}),be=n("NK7l"),ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackingType=d.d.CheerBadgeGrant,t.trackingClickType=d.b.Share,t.dismiss=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this.props.authToken&&this.props.event&&this.props.event.id?[4,this.props.updateBitsBadgeTierNotification(Object(de.a)({notificationID:this.props.event.id,notificationState:D.o.SKIPPED}))]:[3,2];case 1:t.sent(),t.label=2;case 2:return[3,4];case 3:return e=t.sent(),Object(pe.d)()?s.k.warn("Failed to dismiss share bits tier callout"):s.k.errorAndReport(e,"Failed to dismiss share bits tier callout"),[3,4];case 4:return[2]}}))}))},t.share=function(e,n){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),this.props.authToken?[4,this.props.updateBitsBadgeTierNotification(Object(de.a)({notificationID:this.props.event.id,notificationState:D.o.SHARED,message:e}))]:[3,2];case 1:return i.sent(),this.props.clearTray(),this.trackAction(d.a.Message,n.privateCalloutTrackingContext||d.c.PrivateCallout),[2,!0];case 2:return[3,4];case 3:return t=i.sent(),this.props.clearTray(),Object(pe.d)()?s.k.warn("Failed to post bits badge tier message"):s.k.errorAndReport(t,"Failed to post bits badge tier message"),[2,!1];case 4:return[2,!1]}}))}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.hasCTA=this.props.event.canShare,this.trackBitsAction(K.b.Impression),e.prototype.componentDidMount.call(this)},t.prototype.buildCalloutProps=function(){var e,t=this,n=!(!this.props.event.emoteID||!this.props.event.emoteToken),a=r.createElement(l.a,{badge:this.props.event.badge,noMargins:!0,hideTooltip:!0}),o={title:n?Object(s.d)("You just earned a new badge and emote from {channelName}!",{channelName:this.props.channelDisplayName||this.props.channelLogin},"ShareBitsBadgeTierCallout"):Object(s.d)("You just earned the {badgeTitle} Bits badge!",{badgeTitle:this.props.event.badgeName},"ShareBitsBadgeTierCallout"),icon:n?r.createElement(fe,{badge:this.props.event.badge,badgeName:this.props.event.badgeName,emoteID:this.props.event.emoteID,emoteToken:this.props.event.emoteToken}):a,cta:this.props.event.canShare?"Share":void 0},c=Object(i.__assign)(Object(i.__assign)({},o),{trackingType:this.trackingType,trackingClickType:this.trackingClickType,privateSID:this.privateCalloutSID}),u={title:n?Object(s.d)("Show off your support in Chat!","ShareBitsBadgeTierInputTray"):Object(s.d)("Show off your new badge in Chat!","ShareBitsBadgeTierInputTray"),body:n?Object(s.d)("Hooray! Let the channel know you've earned a new badge and {emoteToken} emote.",{emoteToken:this.props.event.emoteToken||""},"ShareBitsBadgeTierInputTray"):Object(s.d)("Hooray! Let the channel know you've earned the {badgeTitle} Bits badge.",{badgeTitle:this.props.event.badgeName},"ShareBitsBadgeTierInputTray"),sendButtonOverride:M.b.ShareBitsBadgeTier,icon:n?r.createElement(fe,{badge:this.props.event.badge,badgeName:this.props.event.badgeName,emoteID:this.props.event.emoteID,emoteToken:this.props.event.emoteToken,arrangeVertically:!0,hideIconBackground:!0}):a,sendMessageHandler:{type:M.c.Custom,handleMessage:this.share,params:{privateCalloutTrackingContext:d.c.PrivateCallout}},disableBits:!0,disableCommands:!0};return e={message:{title:o.title},icon:o.icon,closeButton:{ariaLabel:this.closeString,onClick:function(){t.props.popCallout(),t.trackDismiss(),t.dismiss()}},progressBar:{animationDuration:15,onAnimationEnd:function(){t.props.popCallout(),t.trackBitsAction(K.b.AutoSkip),t.props.event.canShare?t.props.onPushMessage(b(c,u)):t.props.onPushMessage(b(c)),t.dismiss()}},overlay:!0,inlineActions:!0,hideIconBackground:n},this.props.event.canShare?(u.callOnClose=function(){t.dismiss(),t.props.onPushMessage(b(c,u))},e.actions={primaryButton:{onClick:function(){t.props.popCallout(),t.props.setTray(u),t.trackCTAClick(t.trackingClickType)},children:Object(s.d)("Share","ShareBitsBadgeTierCallout"),type:T.d.Secondary,overlay:!0}}):u.callOnClose=function(){t.dismiss(),t.props.onPushMessage(b(c,u))},e},t.prototype.render=function(){var e=this.buildCalloutProps();return r.createElement(c.a,Object(i.__assign)({},e))},t.prototype.trackBitsAction=function(e){Object(K.l)({action:e,userId:this.props.currentUserID||"",userLogin:this.props.currentUserLogin||"",channelId:this.props.channelID||"",channelLogin:this.props.channelLogin,transactionId:this.props.event.id,badgeAmount:this.props.event.threshold,emoteID:this.props.event.emoteID||""})},t}(p);var ve,ye=Object(o.d)(Object(m.b)((function(e){return{popCallout:e.popCallout}})),Object(I.b)((function(e){return{clearTray:e.clearTray,setTray:e.setTray}})),Object(ue.a)(be,{name:"updateBitsBadgeTierNotification"}),Object(a.b)((function(e){var t=Object(V.e)(e);return{currentUserLogin:t?t.login:null,currentUserID:t?t.id:null}})))(ge),Se=n("w09P"),ke=n("dsMP"),Ce=n("D7An"),Ee=n("D4eI"),_e=n("b7S+"),Oe=n("7d/q");n("09Cy");!function(e){e.Icon="callout__icon"}(ve||(ve={}));var Te,xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={pinIcon:v.a.Pinned},t.inChatInputRevampExperiment="variant1"===s.p.experiments.getAndTrackAssignment(Ce.c.ChatInputRevamp),t.onPinHover=function(){t.setState({pinIcon:v.a.Pin})},t.onPinBlur=function(){t.setState({pinIcon:v.a.Pinned})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.actions,n=e.icon,a=e.message,o=e.onUnpin,s=e.unpinDescription,l=me({"pinned-callout":!0,"pinned-callout__input-revamp":this.inChatInputRevampExperiment});return r.createElement(B.a,{className:l,background:w.d.Alt,position:w.n.Relative,padding:{y:1,x:2}},r.createElement(x.a,{display:w.g.Flex,alignItems:w.b.Start},n&&r.createElement(B.a,{className:"pinned-callout__icon",margin:{right:1},padding:.5,"data-test-selector":ve.Icon,display:w.g.Flex,flexGrow:0,flexShrink:0,borderRadius:w.e.Rounded,border:!0,alignItems:w.b.Center,justifyContent:w.l.Center},this.renderIcon()),r.createElement(x.a,{display:w.g.Flex,alignItems:w.b.Center,className:"pinned-callout__header-segment",padding:{right:.5},flexGrow:1},r.createElement(x.a,null,r.createElement(N.a,{bold:!0,type:N.e.Span},a))),r.createElement(x.a,{display:w.g.Flex,alignItems:w.b.Center,className:"pinned-callout__header-segment"},r.createElement(Ee.a,Object(i.__assign)({},t)),r.createElement(x.a,{padding:{left:.5}}),r.createElement(_e.a,{align:_e.b.Right,label:s,offsetX:"6px"},r.createElement(Oe.a,{ariaLabel:"pinned",icon:this.state.pinIcon,onClick:o,type:Oe.c.Secondary,onMouseEnter:this.onPinHover,onMouseLeave:this.onPinBlur})))))},t.prototype.renderIcon=function(){return this.props.icon.asset?r.createElement(y.a,Object(i.__assign)({},this.props.icon)):this.props.icon},t}(r.Component),Ne=n("Wy3f");!function(e){e.Dismissed="dismissed",e.Lapsed="lapsed",e.Pinned="pinned"}(Te||(Te={}));var we,je=function(e,t,n){var i=s.m.get("shareResubNotificationIDs",{})||{};i[e]={data:t,timestamp:Date.now(),type:n},s.m.set("shareResubNotificationIDs",i)},Pe=function(e){var t=s.m.get("shareResubNotificationIDs",{})||{};return void 0===t[e]?null:t[e]},De=function(){var e=s.m.get("shareResubNotificationIDs",{})||{};for(var t in e)void 0!==e[t]&&void 0!==e[t].timestamp&&Date.now()-e[t].timestamp>26784e5&&delete e[t];s.m.set("shareResubNotificationIDs",e)},Ie=n("cpJf"),Me=n("hnjF"),Be=(n("1Hre"),function(e){var t=me("rare-emote__face",{"rare-emote__face--animate":!!e.animate}),n=me("rare-emote__neck",{"rare-emote__neck--animate":!!e.animate});return r.createElement(x.a,{overflow:w.m.Hidden,className:"rare-emote"},r.createElement(Me.a,{zIndex:w.s.Above,position:w.n.Relative},r.createElement("img",{className:t,src:"https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoteID+"/2.0"})),r.createElement(x.a,{position:w.n.Relative,zIndex:w.s.Default,className:n},r.createElement(y.a,{width:28,height:28,asset:v.a.Neck})))}),Ae=n("4/vz"),Re=r.createElement(y.a,{asset:v.a.Star,type:y.b.Success});!function(e){e.ContextMenu="share-resub-callout__context-menu"}(we||(we={}));var Ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackingType=t.props.pinned?d.d.PinnedResub:d.d.Resub,t.sendingMessage=!1,t.randomEmoteId=t.getRandomEmoteId(),t.hide=function(){t.props.popCallout(),t.trackAction(d.a.Remind,d.c.PrivateCallout);var e=t.props.event;Pe(e.id)&&je(e.id,e,Te.Lapsed)},t.skip=function(){t.props.popCallout(),t.trackAction(d.a.SkipMonthlyAlert,d.c.PrivateCallout);var e=t.props.event;Pe(e.id)&&je(e.id,e,Te.Dismissed)},t.pin=function(e){t.trackAction(d.a.Pin,e||d.c.PrivateCallout);var n=t.props.event;Pe(n.id)&&je(n.id,n,Te.Pinned),t.props.popCallout(),t.props.pinCallout({event:n,key:n.id})},t.unpin=function(){t.trackAction(d.a.Remind,d.c.PrivateCallout);var e=t.props.event,n=Pe(e.id);t.sendInline(),n&&je(e.id,e,Te.Lapsed),t.props.unpinCallout()},t.share=function(){t.trackCTAClick(d.b.Share),t.props.setTray(t.getTray()),t.props.pinned?t.props.unpinCallout():t.props.popCallout()},t.sendInline=function(e){var n=t.props.event;je(n.id,n,Te.Lapsed),t.props.onPushMessage(b({contextMenuProps:{event:n,onPin:function(){return t.pin(d.c.Chat)}},cta:Object(s.d)("Share","InlineShareResubCallout"),icon:Re,withReminderText:e,title:t.getCalloutTitle(),trackingType:t.trackingType,trackingClickType:d.b.Share,privateSID:t.privateCalloutSID},t.getTray()))},t.shareResub=function(e,n){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(this.sendingMessage)return[2,!1];this.sendingMessage=!0,i.label=1;case 1:return i.trys.push([1,4,5,6]),this.props.authToken?(t={message:e,channelLogin:this.props.channelLogin,includeStreak:!!n.opt,tokenID:this.props.event.id},[4,this.props.shareResubNotification(Object(de.a)(t))]):[3,3];case 2:return i.sent(),Object(de.i)(Ne,{channelLogin:this.props.channelLogin},(function(e){return e.user&&e.user.self&&e.user.self.resubNotification?Se(e,(function(e){return e.user.self.resubNotification}),(function(){return null})):e})),this.trackAction(d.a.Message,n.privateCalloutTrackingContext||d.c.PrivateCallout),[2,!0];case 3:return[3,6];case 4:return r=i.sent(),Object(pe.d)()?s.k.warn("Failed to post resub message"):s.k.errorAndReport(r,"Failed to post resub message"),[2,!1];case 5:return this.sendingMessage=!1,[7];case 6:return[2,!1]}}))}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.pinned?r.createElement(xe,Object(i.__assign)({},this.buildPinnedCalloutProps())):r.createElement(c.a,Object(i.__assign)({},this.buildCalloutProps()))},t.prototype.buildCalloutProps=function(){var e=this;return{message:{title:this.getCalloutTitle()},icon:Re,contextMenu:this.getContextMenu({top:1,bottom:2,x:1}),overlay:!this.props.pinned,inlineActions:!0,actions:{primaryButton:{onClick:this.share,children:Object(s.d)("Share","ShareResubCallout"),type:T.d.Primary,overlay:!0}},progressBar:{animationDuration:45,onAnimationEnd:function(){e.props.popCallout(),e.sendInline(!0)}}}},t.prototype.buildPinnedCalloutProps=function(){return{message:this.getCalloutTitle(),icon:Re,actions:{primaryButton:{onClick:this.share,children:Object(s.d)("Share","PinnedShareResubCallout"),type:T.d.Primary,overlay:!1}},onUnpin:this.unpin,unpinDescription:Object(s.d)("Unpin this and get a reminder later.","ShareResubCallout")}},t.prototype.getCalloutTitle=function(){return Object(s.d)("It's your {monthsSubbed} month sub anniversary!",{monthsSubbed:this.props.event.cumulativeTenureMonths},"ShareResubCallout")},t.prototype.getTray=function(){var e=this.props,t=e.channelDisplayName,n=e.channelLogin,i=e.event;return{callOnClose:e.pinned?this.pin:this.sendInline,sendMessageHandler:{type:M.c.ShareResub,handleMessage:this.shareResub,params:{privateCalloutTrackingContext:d.c.PrivateCallout}},title:Object(s.d)("Share your Sub anniversary in chat!","ShareResubCallout"),body:r.createElement(N.a,null,Object(s.d)("Let <x:strong>{channelName}</x:strong> know you've been subbed for <x:strong>{monthsSubbed} months</x:strong>.",{channelName:t||n,monthsSubbed:i.cumulativeTenureMonths,"x:strong":function(e){return r.createElement(N.a,{bold:!0,type:N.e.Span},e)}},"ShareResubCallout")),checkboxLabel:Object(s.d)("Show my {streakMonths, number} month streak in the chat message.",{streakMonths:i.streakTenureMonths},"ShareResubCallout"),sendButtonOverride:M.b.ShareResub,icon:r.createElement(Be,{emoteID:this.randomEmoteId,animate:!0}),disableBits:!0,disableCommands:!0,type:M.a.ShareResub}},t.prototype.getContextMenu=function(e){return r.createElement(x.a,{"data-test-selector":we.ContextMenu,padding:e},r.createElement(ke.a,{event:this.props.event,onPin:this.pin,onSkip:this.skip,onHide:this.hide}))},t.prototype.getRandomEmoteId=function(){var e=Math.floor(Math.random()*Ie.b.length);return Ie.b[e]},t}(p);var Fe,Ue=Object(o.d)(Object(a.b)((function(e){var t=Object(V.e)(e);return{currentUserID:t?t.id:null,currentUserLogin:t?t.login:null}})),Object(ue.a)(Ae,{name:"shareResubNotification"}),Object(m.b)((function(e){return{popCallout:e.popCallout,pinCallout:e.pinCallout,unpinCallout:e.unpinCallout}})),Object(I.b)((function(e){return{setTray:function(t){return e.setTray(t)}}})))(Ge),Le=n("u5aL"),He=n("4rCz"),ze=n("u03v"),qe=n("ygYM"),Ve=n("rbP/"),We=n("9qaG"),Ke=n("k0nM"),Qe=n("4wKg"),Ye=(n("RVth"),"https://static-cdn.jtvnw.net/emoticons/v1/508650/2.0");!function(e){e.Control="control",e.ThankFirst="thank_first",e.GiftFirst="gift_first"}(Fe||(Fe={}));var Xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={ctaDropdownVisible:!1},t.trackingType=d.d.CommunitySubGift,t.getCalloutActions=function(e){switch(He.q.experiments.getAndTrackAssignment(Ce.c.SubsPif)){case Fe.ThankFirst:return t.getThankFirstSplitCalloutAction(e);case Fe.GiftFirst:return t.getGiftFirstSplitCalloutAction(e);case Fe.Control:default:return t.getCoreCalloutAction(e)}},t.getCoreCalloutAction=function(e){return{primaryButton:{onClick:function(){t.props.popCallout(),t.props.setTray(e),t.trackCTAClick(d.b.Thank)},children:t.getThankRenderData().cta,type:T.d.Secondary,overlay:!0}}},t.getThankFirstSplitCalloutAction=function(e){return t.getSplitButtonAction({handler:t.getThankClickHandler(e),content:t.getThankRenderData().cta},{handler:t.getGiftClickHandler(e),content:t.getGiftMoreRenderData().cta})},t.getGiftFirstSplitCalloutAction=function(e){return t.getSplitButtonAction({handler:t.getGiftClickHandler(e),content:t.getGiftMoreRenderData().cta},{handler:t.getThankClickHandler(e),content:t.getThankRenderData().cta})},t.getSplitButtonAction=function(e,n){var a={onClick:t.handleDropdownClick,type:t.state.ctaDropdownVisible?ze.b.ArrowUp:ze.b.ArrowDown},o={show:t.state.ctaDropdownVisible,direction:qe.b.BottomLeft,elevation:2,size:qe.c.Auto};return r.createElement(Le.a,{onClickOut:t.handleClickout},r.createElement(x.a,{display:w.g.Flex,justifyContent:w.l.End,position:w.n.Relative},r.createElement(Ve.a,{onClick:e.handler,type:We.d.Primary,overlay:!0,dropdown:a,icon:e.figure},e.content),r.createElement(Ke.a,Object(i.__assign)({},o),r.createElement(B.a,{key:0,color:w.f.Base},r.createElement(Qe.a,{onClick:n.handler,figure:n.figure&&{icon:n.figure}},n.content)))))},t.getCalloutTitle=function(){return Object(s.d)("You received a Gift Sub from {gifterUsername}",{gifterUsername:t.props.event.gifterDisplayName},"ThankSubGifterCallout")},t.getThankRenderData=function(){return{title:t.getCalloutTitle(),cta:Object(s.d)("Thank","ThankSubGifterCallout")}},t.getGiftMoreRenderData=function(){return{title:t.getCalloutTitle(),cta:Object(s.d)("Gift More","ThankSubGifterCallout")}},t.getInlineCalloutRenderData=function(){return He.q.experiments.getAndTrackAssignment(Ce.c.SubsPif)===Fe.GiftFirst?t.getGiftFirstInlineCalloutData():t.getThankFirstInlineCalloutData()},t.getThankFirstInlineCalloutData=function(){return Object(i.__assign)(Object(i.__assign)({},t.getThankRenderData()),{icon:r.createElement(y.a,{asset:v.a.Star,type:y.b.Success}),trackingType:t.trackingType,trackingClickType:d.b.Thank,privateSID:t.privateCalloutSID})},t.getGiftFirstInlineCalloutData=function(){return Object(i.__assign)(Object(i.__assign)({},t.getGiftMoreRenderData()),{icon:r.createElement(y.a,{asset:v.a.Star,type:y.b.Success}),trackingType:t.trackingType,trackingClickType:d.b.Gift,privateSID:t.privateCalloutSID,action:t.showSubModal})},t.getTray=function(){var e=r.createElement(x.a,{className:"thank-sub-gifter-callout__prompt-icon"},r.createElement("img",{alt:Object(s.d)("TPFufun emoticon","ThankSubGifterInputTray"),src:Ye})),n=Object(s.d)("@{gifterUsername} Thanks for the gift sub!",{gifterUsername:t.props.event.gifterDisplayName},"ThankSubGifterInputTray"),i={title:Object(s.d)("Give a shoutout to {gifterUsername} for your subscription.",{gifterUsername:t.props.event.gifterDisplayName},"ThankSubGifterInputTray"),body:Object(s.d)("Enjoy your gift!","ThankSubGifterInputTray"),sendButtonOverride:M.b.ThankSubGifter,icon:e,inputValue:n,sendMessageHandler:{type:M.c.Chat,params:{privateCalloutTrackingContext:d.c.PrivateCallout},onSuccess:t.getTraySuccessHandler(n)},disableBits:!0,disableCommands:!0,callOnClose:function(){t.props.onPushMessage(b(t.getInlineCalloutRenderData(),i))}};return i},t.getTraySuccessHandler=function(e){return function(n,i){var r=Boolean(n===e);t.trackAction(d.a.Message,i&&i.privateCalloutTrackingContext||d.c.PrivateCallout,n,r)}},t.getThankClickHandler=function(e){return function(){t.props.popCallout(),t.props.setTray(e),t.trackCTAClick(d.b.Thank)}},t.getGiftClickHandler=function(e){return function(){t.props.popCallout(),t.props.onPushMessage(b(t.getThankFirstInlineCalloutData(),e)),t.showSubModal(),t.trackCTAClick(d.b.Gift)}},t.showSubModal=function(){t.props.showSubModal({subLocation:"thank_sub_gifter_callout",channelLogin:t.props.event.channelLogin,defaultPage:ie.a.GiftOptions}),Object(re.c)({action:re.a.OpenSubMenu,channelID:t.props.channelID,channelLogin:t.props.event.channelLogin,modal:!0,modalLevel:"top_page",sub_location:re.b.ThankSubGifterCallout,cumulativeTenureMonths:null})},t.handleDropdownClick=function(){t.setState((function(e){return{ctaDropdownVisible:!e.ctaDropdownVisible}}))},t.handleClickout=function(){t.setState({ctaDropdownVisible:!1})},t}return Object(i.__extends)(t,e),t.prototype.buildCalloutProps=function(){var e=this,t=this.getThankRenderData(),n=this.getTray(),i={message:{title:t.title},icon:{asset:v.a.Star,type:y.b.Success},closeButton:{ariaLabel:this.closeString,onClick:function(){e.props.popCallout(),e.trackDismiss()}},progressBar:{animationDuration:15,onAnimationEnd:function(){e.props.popCallout(),e.props.onPushMessage(b(e.getInlineCalloutRenderData(),n))}},overlay:!0,inlineActions:!0};return i.actions=this.getCalloutActions(n),i},t.prototype.render=function(){var e=this.buildCalloutProps();return r.createElement(c.a,Object(i.__assign)({},e))},t}(p);var Je,$e=Object(o.d)(Object(m.b)((function(e){return{popCallout:e.popCallout}})),Object(I.b)((function(e){return{setTray:function(t){return e.setTray(t)}}})),Object(a.b)((function(e){var t=Object(V.e)(e);return{currentUserLogin:t?t.login:null,currentUserID:t?t.id:null}}),(function(e){return Object(o.b)({showSubModal:function(e){return Object(q.e)(ne.a,e)}},e)})))(Xe),Ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){if((!e.pubsub.messages.moderatorActions||e.pubsub.messages.moderatorActions&&e.pubsub.messages.moderatorActions!==this.props.pubsub.messages.moderatorActions)&&this.props.pubsub.messages.moderatorActions&&this.props.pubsub.messages.moderatorActions.type===X.PubsubMessageType.ModeratorAdded){if(!this.props.currentUserID||!this.props.channelID)return;var t={event:{type:$.a.AppointedModerator,channelID:this.props.channelID,userID:this.props.currentUserID,author:this.props.pubsub.messages.moderatorActions.data.created_by},key:Object(u.c)()};this.props.pushCallout(t)}},t.prototype.render=function(){return null},t}(r.Component);var et=Object(o.d)(Object(Y.a)([{topic:function(e){return Object(J.B)(e.currentUserID||"",e.channelID||"")},mapMessageTypesToProps:(Je={},Je[X.PubsubMessageType.ModeratorAdded]="moderatorActions",Je[X.PubsubMessageType.ModeratorRemoved]="moderatorActions",Je),skipMessage:function(e,t){var n=e;return!t.currentUserID||n.data.target_user_id!==t.currentUserID}}]),Object(m.b)((function(e){return{pushCallout:function(t){return e.pushCallout(t)}}})))(Ze);var tt=Object(a.b)((function(e){var t=Object(V.e)(e);return{currentUserID:t?t.id:null,currentUserLogin:t?t.login:null}}))(et),nt=n("hbnN"),it=n("jBwP"),rt=n("YV90"),at=n("OUdD"),ot=n("Lqow"),st=n("A4cy"),lt=n("V8f+"),ct=n("eWfc"),ut=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortRewards=Object(nt.a)((function(e){return Object(ot.a)(e)})),t.filterRewards=Object(nt.a)((function(e,t){return e.filter((function(e){var n=Object(st.a)(e,t);return Object.values(n).every((function(e){return!0===e}))}))})),t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=this,n=this.props.balance,i=e.balance;if(!s.b.get("disable_channel_points_chat_private_callout",!1)&&this.props.isChannelPointsEnabled&&this.props.channelID===this.props.rewardChannelID&&this.props.currentUserID!==this.props.rewardChannelID&&n>i){var r=this.getRewards();if(this.isEligibleForNewReward(n,i,r)){var a=r[this.getHighestRewardIndexForBalance(n,r)];if(a&&i<Object(O.c)(a)&&!this.seenCalloutForReward(a)){var o={event:{type:$.a.CommunityPointsRewards,reward:a,openReward:function(){t.props.openReward({direction:lt.a.OpenRewardCenter,reward:a})}},key:a.id};this.props.pushCallout(o)}}}},t.prototype.render=function(){return null},t.prototype.getRewards=function(){var e=this.sortRewards(this.props.automaticRewards||[]),t=e[Math.floor(e.length/2)],n=Object(i.__spreadArrays)(this.props.customRewards)||[];t&&n.push(t);var r={isUserSubscribed:this.isChannelSubscriber(),isChannelSubsOnlyMode:this.props.subsOnlyMode};return n=this.filterRewards(n,r),this.sortRewards(n)},t.prototype.seenCalloutForReward=function(e){if(this.props.channelID){var t=s.m.get("seenCommunityPointsRewardPrivateCallouts",{}),n=t[this.props.channelID];if(n){if(n.indexOf(e.id)>=0)return!0;n.push(e.id)}else t[this.props.channelID]=[e.id];s.m.set("seenCommunityPointsRewardPrivateCallouts",t)}return!1},t.prototype.isEligibleForNewReward=function(e,t,n){return n&&n.length>0&&e>=Object(O.c)(n[0])&&t<Object(O.c)(n[n.length-1])},t.prototype.getHighestRewardIndexForBalance=function(e,t){var n=t[t.length-1];if(e>=Object(O.c)(n))return t.length-1;for(var i=0;e>=Object(O.c)(t[i]);)i++;return i-1},t.prototype.isChannelSubscriber=function(){return this.props.data&&this.props.data.user&&this.props.data.user.self&&!!this.props.data.user.self.subscriptionBenefit},t}(r.Component);var dt=Object(o.d)(Object(rt.a)((function(e){return{balance:e.balance,rewardChannelID:e.channelID,isChannelPointsEnabled:e.isChannelPointsEnabled,automaticRewards:e.automaticRewards,customRewards:e.customRewards}})),Object(at.b)((function(e){return{openReward:e.openReward}})),Object(m.b)((function(e){return{pushCallout:function(t){return e.pushCallout(t)}}})),Object(it.c)((function(e){return{subsOnlyMode:e.subsOnlyMode}})),Object(ue.a)(ct,{options:function(e){return{variables:{login:e.channelLogin}}}}))(ut);var pt,mt=Object(a.b)((function(e){var t=Object(V.e)(e);return{currentUserID:t?t.id:null}}))(dt),ht=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMessageReceived=function(e,n,r){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(i){return t={event:{type:$.a.HypeTrainRewards,userID:r,level:n,rewards:e},key:Object(u.c)()},this.props.pushCallout(t),[2]}))}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){if((!e.pubsub.messages.hypeTrainRewards||e.pubsub.messages.hypeTrainRewards&&e.pubsub.messages.hypeTrainRewards!==this.props.pubsub.messages.hypeTrainRewards)&&this.props.pubsub.messages.hypeTrainRewards&&this.props.pubsub.messages.hypeTrainRewards.type===X.PubsubMessageType.HypeTrainRewards){if(!this.props.currentUserID||!this.props.channelID)return;this.onMessageReceived(this.props.pubsub.messages.hypeTrainRewards.data.rewards,this.props.pubsub.messages.hypeTrainRewards.data.completed_level,this.props.currentUserID)}},t.prototype.render=function(){return null},t}(r.Component);var ft=Object(o.d)(Object(Y.a)([{topic:function(e){return Object(J.z)(e.currentUserID||"")},mapMessageTypesToProps:(pt={},pt[X.PubsubMessageType.HypeTrainRewards]="hypeTrainRewards",pt),skip:function(e){return!e.currentUserID||!e.channelID},skipMessage:function(e,t){var n=e;return!n||!n.data||!n.data.rewards||n.data.rewards.length<1||n.data.channel_id!==t.channelID}}]),Object(m.b)((function(e){return{pushCallout:function(t){return e.pushCallout(t)}}})))(ht);var bt=Object(a.b)((function(e){var t=Object(V.e)(e);return{currentUserID:t?t.id:null,currentUserLogin:t?t.login:null}}))(ft);var gt=Object(a.b)((function(e){var t=Object(V.e)(e);return{currentUserId:t?t.id:null}}))(te),vt=n("eDVu"),yt=n("xZ3y"),St=n("mj5D"),kt=n("MWAM"),Ct=function(e){function t(t){var n=e.call(this,t)||this;return n.state={lastPushedNotificationID:null},n.dataIsReady=function(e){return e.data&&!e.data.loading&&!e.data.error},n}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(){if(this.dataIsReady(this.props)&&this.props.data.user&&this.props.data.user.self&&this.props.data.user.self.bitsBadge&&this.props.data.user.self.bitsBadge.tierNotification&&this.state.lastPushedNotificationID!==this.props.data.user.self.bitsBadge.tierNotification.id&&this.badgesDataIsReady()){var e=this.props.data.user.self.bitsBadge.tierNotification,t=this.getBitsBadge(e.threshold);if(t){var n=Object(yt.b)(t,e.threshold),i=e.unlockedEmoticons.length&&e.unlockedEmoticons[0],r=i&&i.id||null,a=i&&i.token||null,o={event:{type:$.a.BitsBadgeTier,canShare:e.canShare,threshold:e.threshold,badge:t,badgeName:n,id:e.id,emoteID:r,emoteToken:a},key:e.id};"control"!==s.p.experiments.getAndTrackAssignment(Ce.c.ChatPrivateCalloutRedesign)&&(this.props.pushCallout(o),this.setState({lastPushedNotificationID:e.id}))}}},t.prototype.render=function(){return null},t.prototype.getBitsBadge=function(e){if(!this.props.badgesData||!this.props.badgesData.user||!this.props.badgesData.user.self)return null;var t=this.props.badgesData.user.self,n=t.selectedBadge,i=t.availableBadges;return n&&n.setID===yt.a&&n.version===e.toString()?{id:n.id,setID:n.setID,version:n.version,title:n.title,image1x:n.image1x,image2x:n.image2x,image4x:n.image4x,clickAction:null,clickURL:n.clickURL||""}:i?i.reduce((function(e,t){return t?(e.push({id:t.id,setID:t.setID,version:t.version,title:t.title,image1x:t.image1x,image2x:t.image2x,image4x:t.image4x,clickAction:null,clickURL:t.clickURL||""}),e):e}),[]).find((function(t){return t.setID===yt.a&&t.version===e.toString()})):null},t.prototype.badgesDataIsReady=function(){return this.props.badgesData&&!this.props.badgesData.loading&&!this.props.badgesData.error},t}(r.Component);var Et=Object(o.d)(Object(ue.a)(St,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(vt.a)((function(e){return{query:St,variables:{channelLogin:e.channelLogin},topic:e.currentUserId?Object(J.R)(e.currentUserId):"",type:X.PubsubMessageType.UserBitsBadgeNotification,skip:!e.currentUserId,mutator:function(t,n){return n.user&&n.user.self&&n.user.self.bitsBadge&&t.data&&t.data.user_id===e.currentUserId&&t.data.channel_id===e.channelID&&e.data.refetch(),n}}})),Object(ue.a)(kt,{name:"badgesData",options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!(e.channelLogin&&e.data&&e.data.user&&e.data.user.self&&e.data.user.self.bitsBadge&&e.data.user.self.bitsBadge.tierNotification&&e.data.user.self.bitsBadge.tierNotification.threshold)}}),Object(m.b)((function(e){return{pushCallout:function(t){return e.pushCallout(t)}}})))(Ct);var _t=Object(a.b)((function(e){var t=Object(V.e)(e);return{currentUserId:t?t.id:null,currentUserLogin:t?t.login:null}}))(Et),Ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lastPushedNotificationID:null},t.dataIsReady=function(e){return e.data&&!e.data.loading&&!e.data.error},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){setTimeout(De,0)},t.prototype.componentDidUpdate=function(e){if(this.dataIsReady(this.props)&&this.props.data&&this.props.pubsub.messages.subscriptionInfo!==e.pubsub.messages.subscriptionInfo&&this.props.data.refetch(),this.dataIsReady(this.props)&&this.props.data&&this.props.data.user&&this.props.data.user.self&&this.props.data.user.self.resubNotification&&this.state.lastPushedNotificationID!==this.props.data.user.self.resubNotification.id){var t=this.props.data.user.self.resubNotification,n=t.id,i=t.cumulativeTenureMonths,r=t.streakTenureMonths,a=t.token;if("variant2"===s.p.experiments.getAndTrackAssignment(Ce.c.ChatPrivateCalloutRedesign)){var o=Pe(n);if(o&&!function(e){switch(e.type){case Te.Dismissed:return!1;case Te.Pinned:case Te.Lapsed:return!0;default:return!1}}(o))return null;var l={type:$.a.ShareResub,id:n,cumulativeTenureMonths:i,streakTenureMonths:r,token:a},c={event:l,key:n};o&&o.type!==Te.Lapsed?o.type===Te.Pinned&&this.props.pinCallout(c):(je(n,l,Te.Lapsed),this.props.pushCallout(c)),this.setState({lastPushedNotificationID:n})}}},t.prototype.render=function(){return null},t}(r.Component);var Tt=Object(o.d)(Object(ue.a)(Ne,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(Y.a)([{topic:function(e){return Object(J.V)(e.currentUserID?e.currentUserID:"")},mapMessageTypesToProps:{"*":"subscriptionInfo"},skip:function(e){return!e.currentUserID}}]),Object(m.b)((function(e){return{pinCallout:function(t){return e.pinCallout(t)},pushCallout:function(t){return e.pushCallout(t)}}})))(Ot);var xt,Nt=Object(a.b)((function(e){var t=Object(V.e)(e);return{currentUserID:t?t.id:null,currentUserLogin:t?t.login:null}}))(Tt),wt=n("hCFK");!function(e){e.CalloutContainer="chat-private-callout-queue__callout-container",e.Services="chat-private-callout-queue__services"}(xt||(xt={}));var jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=null,t=this.props.callouts[0]||this.props.pinnedCallout;if(t&&!this.props.isChatRulesOpen){var n=this.selectCalloutComponent(t);e=r.createElement(x.a,{"data-test-selector":xt.CalloutContainer,margin:{top:1,bottom:.5}},n)}return r.createElement(x.a,null,r.createElement(wt.a,{show:!!e,type:wt.c.Fade,duration:wt.b.Long},e),this.props.authToken&&r.createElement(_t,{"data-test-selector":xt.Services,authToken:this.props.authToken,channelLogin:this.props.channelLogin,channelID:this.props.channelID}),this.props.authToken&&r.createElement(Nt,{"data-test-selector":xt.Services,authToken:this.props.authToken,channelLogin:this.props.channelLogin,channelID:this.props.channelID}),this.props.authToken&&r.createElement(gt,{"data-test-selector":xt.Services,channelID:this.props.channelID}),this.props.authToken&&r.createElement(tt,{"data-test-selector":xt.Services,channelID:this.props.channelID}),this.props.authToken&&r.createElement(mt,{"data-test-selector":xt.Services,channelID:this.props.channelID,channelLogin:this.props.channelLogin}),this.props.authToken&&r.createElement(bt,{channelID:this.props.channelID}))},t.prototype.selectCalloutComponent=function(e){switch(e.event.type){case $.a.ThankSubGifter:return r.createElement($e,{event:e.event,key:e.key,onPushMessage:this.props.onPushMessage,channelLogin:this.props.channelLogin,channelID:this.props.channelID});case $.a.BitsBadgeTier:return r.createElement(ye,{event:e.event,key:e.key,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,authToken:this.props.authToken,onPushMessage:this.props.onPushMessage});case $.a.ShareResub:var t=!!this.props.pinnedCallout&&this.props.pinnedCallout.key===e.key;return r.createElement(Ue,{event:e.event,key:e.key,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,authToken:this.props.authToken,pinned:t,onPushMessage:this.props.onPushMessage});case $.a.MegaRecipientRewards:return r.createElement(ce,{event:e.event,key:e.key,channelLogin:this.props.channelLogin,channelID:this.props.channelID,onPushMessage:this.props.onPushMessage});case $.a.MegaBenefactorRewards:return r.createElement(se,{event:e.event,key:e.key,channelLogin:this.props.channelLogin,channelID:this.props.channelID,onPushMessage:this.props.onPushMessage});case $.a.AppointedModerator:return r.createElement(C,{event:e.event,key:e.key,badgeSets:this.props.badgeSets,onPushMessage:this.props.onPushMessage,channelLogin:this.props.channelLogin,channelID:this.props.channelID});case $.a.CommunityPointsRewards:return r.createElement(P,{key:e.key,event:e.event,channelLogin:this.props.channelLogin,channelID:this.props.channelID,onPushMessage:this.props.onPushMessage});case $.a.HypeTrainRewards:return r.createElement(z,{event:e.event,key:e.key,channelLogin:this.props.channelLogin,channelID:this.props.channelID,onPushMessage:this.props.onPushMessage})}return null},t}(r.Component);var Pt=Object(o.d)(Object(m.b)((function(e){return{callouts:e.callouts,pinnedCallout:e.pinnedCallout}})),Object(a.b)((function(e){return{isChatRulesOpen:e.chat.isChatRulesOpen}})))(jt);n.d(t,"TestSelectors",(function(){return xt})),n.d(t,"ChatPrivateCalloutQueuePresentation",(function(){return jt})),n.d(t,"ChatPrivateCalloutQueue",(function(){return Pt}))},tcIj:function(e,t,n){},uBOI:function(e,t,n){"use strict";var i=n("o0o1"),r=n.n(i),a=n("yXPU"),o=n.n(a),s=n("lSNA"),l=n.n(s),c=n("pVnL"),u=n.n(c),d=n("VbXa"),p=n.n(d),m=n("q1tI"),h=n("A5Hy"),f=n("fNzW"),b=n("vCsY"),g=n("Jsra"),v=n("IbuL"),y=n("yymn"),S=n("X2PJ"),k=n("Ws8v"),C=n("sUnt"),E=n("C7sF"),_=n("tlKs"),O=n("+80q"),T=n("2Ob2"),x=(n("72SC"),function(e){function t(){var t;return(t=e.apply(this,arguments)||this).handleTabOnClick=function(e){t.props.onClick&&t.props.onClick(e,t.props.originalIndex)},t}return p()(t,e),t.prototype.render=function(){var e="string"==typeof this.props.label?this.props.label:this.props.label[0],t="string"!=typeof this.props.label&&this.props.label[1]||void 0;return m.createElement(S.a,u()({},Object(b.a)(this.props),{display:y.g.Block,padding:void 0===this.props.padding?{x:1}:this.props.padding,fullHeight:!0,fullWidth:!0,color:this.props.overlay?y.f.Overlay:y.f.Inherit}),m.createElement(_.a,{className:"tw-tab-item",onClick:this.handleTabOnClick,linkTo:this.props.linkTo,ariaLabel:this.props.ariaLabel,disabled:this.props.disabled,renderLink:this.props.renderLink,tabIndex:this.props.tabIndex,targetBlank:this.props.targetBlank,blurAfterClick:this.props.blurAfterClick,title:this.props.title,role:h.c.Tab},m.createElement(C.a,{fullHeight:!0,textAlign:this.props.textAlign,display:y.g.Flex,flexDirection:y.h.Column},m.createElement(C.a,{flexGrow:0},m.createElement(k.a,{fontSize:this.props.size===B.Large?y.j.Size4:y.j.Size5,fontWeight:this.props.size===B.Large||t?y.k.SemiBold:y.k.Regular},e),t&&m.createElement(O.a,{fontSize:y.j.Size5},t)),m.createElement(C.a,{flexGrow:1}),m.createElement(C.a,{flexGrow:0},this.props.activeIndicator))))},t}(m.Component));x.displayName="TabItemComponent";var N=Object(T.c)(x),w=n("ygYM"),j=n("i4Ys"),P=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).handleClick=function(e){t.props.onClick&&t.props.onClick(e,t.props.originalIndex)},t}return p()(t,e),t.prototype.render=function(){var e="string"==typeof this.props.label?this.props.label:this.props.label[0],t="string"!=typeof this.props.label&&this.props.label[1]||void 0;return m.createElement(j.a,{type:j.b.Inverted,linkTo:this.props.linkTo,onClick:this.handleClick,ariaLabel:this.props.ariaLabel,disabled:this.props.disabled,renderLink:this.props.renderLink,tabIndex:this.props.tabIndex,targetBlank:this.props.targetBlank,borderRadius:y.e.Medium},m.createElement(C.a,{padding:{x:1,y:.5}},m.createElement(O.a,{bold:!!t},e),t&&m.createElement(O.a,null,t)))},t}(m.Component);P.displayName="TabMenuItem";var D=function(e){function t(){return e.apply(this,arguments)||this}return p()(t,e),t.prototype.render=function(){return m.createElement(w.a,{direction:w.b.BottomRight,show:!0},m.createElement(C.a,{padding:1},this.props.tabs.map((function(e,t){return m.createElement(P,u()({},e,{key:t}))}))))},t}(m.Component);D.displayName="TabMenu";n("CkPG");function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return R}));var M,B,A=32;!function(e){e.ActiveTabIndicator="ACTIVE_TAB_INDICATOR"}(M||(M={})),function(e){e[e.Default=1]="Default",e[e.Large=2]="Large"}(B||(B={}));var R=function(e){function t(t){var n;return(n=e.call(this,t)||this).containerRef=null,n.indicatorRef=null,n.tabRefs=[],n.renderTab=function(e,t){var i,r=void 0!==n.props.justifyContent||n.state.showAllTabsForMeasuring?0:1;return i=n.props.justifyContent===y.l.Start&&0===t?{left:0,right:1}:n.props.justifyContent===y.l.End&&t===n.props.tabs.length-1?{left:1,right:0}:{x:1},m.createElement(S.a,{key:e.originalIndex,flexGrow:r,color:n.props.activeTabIndex===e.originalIndex?y.f.Link:y.f.Base,alignItems:y.b.Center,justifyContent:y.l.Center,fullHeight:!0},m.createElement("li",{className:"tw-tabs__tab",role:h.c.Presentation,ref:n.setTabRef,"data-index":e.originalIndex},m.createElement(N,u()({},e,{padding:i,size:n.props.size,textAlign:[y.l.Center,void 0].includes(n.props.justifyContent)?y.p.Center:y.p.Left,activeIndicator:n.props.activeTabIndex===e.originalIndex&&m.createElement("div",{ref:n.setIndicatorRef,className:"tw-tabs__active-indicator",style:{transform:n.state.activeIndicatorTransform},"data-test-selector":M.ActiveTabIndicator})||void 0}))))},n.setTabProps=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{originalIndex:t})},n.toggleMoreItemsMenu=function(){n.setState((function(e){return{showMoreItemsMenu:!e.showMoreItemsMenu}}))},n.setContainerRef=function(e){n.containerRef=e},n.setIndicatorRef=function(e){n.indicatorRef=e},n.setTabRef=function(e){if(n.tabRefs.length>n.props.tabs.length&&n.tabRefs.splice(n.props.tabs.length),e){var t=e.getAttribute("data-index");if(null!==t){var i=parseInt(t,void 0);n.tabRefs[i]=e}}},n.updateVisibleTabs=function(){var e=o()(r.a.mark((function e(t){var i,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),n.tabRefs&&n.containerRef){e.next=3;break}return e.abrupt("return","");case 3:if(!0!==t&&n.state.tabWidths.length===n.tabRefs.length){e.next=6;break}return e.next=6,n.measureTabWidths();case 6:return i=n.props.activeTabIndex||0,a=[],o=n.containerRef.clientWidth,n.hasHiddenItems()||(o-=A),n.props.tabs[i]&&(a.push(i),o-=n.state.tabWidths[i]),n.state.tabWidths.some((function(e,t){return t!==i&&(o-e<=0||(o-=e,t<i?a.splice(t,0,t):a.push(t),!1))})),JSON.stringify(a)!==JSON.stringify(n.state.visibleTabIndexList)&&n.setState({visibleTabIndexList:a}),e.abrupt("return");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.measureTabWidths=o()(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=o()(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.showAllTabsForMeasuring){e.next=3;break}return e.next=3,n.setState({showAllTabsForMeasuring:!0});case 3:n.ensureLayoutReflow(),n.setState({tabWidths:n.tabRefs.map((function(e){return e.clientWidth})),showAllTabsForMeasuring:!1},t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),n.ensureLayoutReflow=function(){n.containerRef&&n.containerRef.scrollTop},n.setupResizeHandler=function(){window.addEventListener("resize",n.onResize),setTimeout((function(){n.updateVisibleTabs(!0)}),500)},n.removeResizeHandler=function(){window.removeEventListener("resize",n.onResize)},n.onResize=function(e){n.updateVisibleTabs()},n.hasItemWithTwoLineText=function(){return-1<n.props.tabs.findIndex((function(e){return"string"!=typeof e.label&&e.label.length>1}))},n.state={visibleTabIndexList:t.tabs.map((function(e,t){return t})),activeIndicatorTransform:"",tabWidths:[]},n}p()(t,e);var n=t.prototype;return n.getSnapshotBeforeUpdate=function(e,t){return this.props.activeTabIndex!==e.activeTabIndex?this.getIndicatorTransform(this.props.activeTabIndex):null},n.componentDidUpdate=function(e,t,n){var i=this;JSON.stringify(e.tabs)!==JSON.stringify(this.props.tabs)&&this.updateVisibleTabs(!0),n&&this.setState({activeIndicatorTransform:n,showMoreItemsMenu:!1},(function(){i.updateVisibleTabs(),i.ensureLayoutReflow(),i.setState({activeIndicatorTransform:""})}))},n.componentDidMount=function(){this.props.setupResizeHandler?this.props.setupResizeHandler(this.updateVisibleTabs):this.setupResizeHandler()},n.componentWillUnmount=function(){this.props.removeResizeHandler?this.props.removeResizeHandler(this.updateVisibleTabs):this.removeResizeHandler()},n.render=function(){var e={"tw-tabs":!0,"tw-tabs--large":this.props.size===B.Large,"tw-tabs--two-line-text":this.hasItemWithTwoLineText()},t=this.state.showAllTabsForMeasuring?this.props.tabs.map(this.setTabProps):this.getVisibleTabs();return m.createElement(k.a,{className:Object(f.a)(e),position:y.n.Relative,display:y.g.Flex,fullWidth:!0,borderBottom:void 0===this.props.borderBottom||this.props.borderBottom},m.createElement(S.a,{flexGrow:1,display:y.g.Flex,fullHeight:!0,alignItems:y.b.Center,justifyContent:this.props.justifyContent?this.props.justifyContent:y.l.Start,fontSize:y.j.Size4,flexWrap:y.i.Wrap},m.createElement("ul",u()({ref:this.setContainerRef,role:h.c.TabList},Object(b.a)(this.props)),t.map(this.renderTab))),this.hasHiddenItems()&&m.createElement(g.a,{type:g.b.Inherit,blurAfterClick:!0,onClick:this.toggleMoreItemsMenu},m.createElement(C.a,{margin:{left:1}},m.createElement(v.a,{asset:E.a.NavMore}))),this.state.showMoreItemsMenu&&m.createElement(D,{tabs:this.getHiddenTabs()}))},n.getVisibleTabs=function(){var e=this.props.tabs.map(this.setTabProps);return this.state.visibleTabIndexList.map((function(t){return e[t]})).filter((function(e){return void 0!==e}))},n.getHiddenTabs=function(){var e=this;return this.props.tabs.map(this.setTabProps).filter((function(t,n){return-1===e.state.visibleTabIndexList.indexOf(n)}))},n.hasHiddenItems=function(){return this.state.visibleTabIndexList.length!==this.props.tabs.length},n.getIndicatorTransform=function(e){var t=this.tabRefs[e];if(!t||!this.indicatorRef||!this.containerRef)return"";var n=this.indicatorRef.getBoundingClientRect(),i=n.left-this.containerRef.getBoundingClientRect().left,r="scaleX("+n.width/t.clientWidth+")";return["translateX("+(i-t.offsetLeft)+"px)",r].join(" ")},t}(m.Component);R.displayName="Tabs"},uOOi:function(e,t,n){},uXHW:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("vCsY"),s=n("yymn"),l=n("sUnt"),c=n("Ws8v"),u=function(e){var t,n,i;return e.row&&(t=s.b.Center),e.elevation&&(n=e.elevation),e.background===s.d.Overlay&&(i=s.f.Overlay),a.createElement(l.a,r()({className:"tw-card",position:s.n.Relative},Object(o.a)(e)),a.createElement(c.a,{display:s.g.Flex,flexDirection:e.row?s.h.Row:s.h.Column,alignItems:t,elevation:n,background:e.background,borderRadius:e.borderRadius,color:i,border:e.border,flexWrap:s.i.NoWrap},e.children))};u.displayName="Card",u.displayName="Card"},w1PT:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("/7QA"),r=n("ZS2+"),a=n("SDEh"),o=n("XDCx"),s=n("IZXT"),l=n("8EUQ"),c="core.ui.CHECKOUT_SHOWN";function u(e){if(Object(a.b)()){try{l.a.clearSubscriptionCheckoutKeys(),function(e){if(!e.productName)return void i.k.warn("No productName provided");var t=new URL("https://www.twitch.tv/products/"+e.productName);e.recipientLogin?t.searchParams.append("recipient",e.recipientLogin):e.mysteryGiftCount&&t.searchParams.append("gift_count",e.mysteryGiftCount.toString());e.isAnonymous&&t.searchParams.append("is_anonymous",e.isAnonymous.toString());e.isOneTimePurchase&&t.searchParams.append("is_one_time_purchase",e.isOneTimePurchase.toString());window.open(t.toString(),"_blank")}(e)}catch(e){Object(s.d)()?i.k.warn("Failed to open subscription checkout externally"):i.k.errorAndReport(e,"Failed to open subscription checkout externally")}return function(e){e({type:c})}}return function(t){t(Object(o.e)(r.a,{component:"CheckoutModal",loader:function(){return Promise.all([n.e(0),n.e(72)]).then(n.bind(null,"KJv/"))},componentProps:e}))}}},w4HT:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("8/mp"),s=n("YVOQ"),l=n("/7QA"),c=n("fQWD"),u=n("1bK4"),d=n("66/j"),p=n("Ws8v"),m=n("yymn"),h=n("sUnt"),f=n("b7S+"),b=n("+80q");!function(e){e.PreviewMessage="PreviewMessage",e.UserBadge="UserBadge",e.UpsellEmote="UpsellEmote"}(i||(i={}));var g=function(e){var t=e.userName,n=e.badges,r=e.emotes,o=e.tier,s=n.get(o);return a.createElement(p.a,{margin:{y:1},elevation:1,background:m.d.Alt,border:!0,borderRadius:m.e.Small,display:m.g.InlineBlock,flexDirection:m.h.Row,justifyContent:m.l.End,flexWrap:m.i.Wrap},a.createElement(h.a,{display:m.g.Flex,flexGrow:2,padding:.5},s&&a.createElement(h.a,{alignSelf:m.c.Center,"data-test-selector":i.UserBadge,margin:{right:.5}},a.createElement(c.a,{badge:Object(d.b)(s),dynamicData:y(s.version,o)})),a.createElement(h.a,{alignSelf:m.c.Center,"data-test-selector":i.PreviewMessage,margin:{right:.5}},Object(l.d)("<x:strong>{userName}</x:strong>: Hello!",{userName:t,"x:strong":v},"BadgeModifierUpsellPreview")),r&&r.map((function(e){return a.createElement(f.a,{label:e.displayName,direction:f.c.Bottom,key:e.id,display:m.g.Flex},a.createElement(h.a,{margin:{right:1},"data-test-selector":i.UpsellEmote,className:"badge-upsell__emote"},a.createElement("img",{srcSet:e.srcSet,alt:e.displayName})))}))))};function v(e){return a.createElement(b.a,{color:m.f.Link,type:b.e.Span,bold:!0},e)}function y(e,t){var n=Number(e);switch(t){case 2:n-=u.e;break;case 3:n-=u.f}return String(n)}var S,k=n("DMoW"),C=n("4rCz"),E=n("DnOo"),_=n("a5fV"),O=n("0WFu"),T=n("br9A"),x=n("hnjF"),N=n("dEDE"),w=n("C7sF"),j=n("eJ65"),P=n("y0tB"),D=n("Jsra"),I=n("ygYM");n("tcIj");!function(e){e[e.One=1]="One",e[e.Three=3]="Three",e[e.Six=6]="Six"}(S||(S={}));var M,B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={toggleWhyMultiMonthBalloon:!1},t.toggleWhyBalloon=function(){t.setState((function(e){return e.toggleWhyMultiMonthBalloon||t.props.onMoreInfoClick(),{toggleWhyMultiMonthBalloon:!e.toggleWhyMultiMonthBalloon}}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;return a.createElement(h.a,{display:m.g.Flex,flexDirection:m.h.Column,alignItems:m.b.Start},a.createElement(h.a,{display:m.g.Flex,flexDirection:m.h.Row,alignItems:m.b.Center,margin:{y:.5}},a.createElement(h.a,{margin:{right:.5}},a.createElement(P.a,{checked:this.props.chargeInterval===S.One,onChange:function(){return e.props.onChange(S.One)},label:null,"data-a-target":"charge-interval-radio-one-month"})),a.createElement(h.a,{margin:{right:.5}},a.createElement("label",{className:"charge-interval__radio__label"},Object(l.d)("Monthly recurring","ChargeIntervalSelector"))),a.createElement(h.a,null,a.createElement(b.a,null,Object(_.c)(this.props.product,S.One)))),a.createElement(h.a,{display:m.g.Flex,flexDirection:m.h.Row},a.createElement(h.a,{margin:{right:.5}},a.createElement(b.a,null,Object(l.d)("Subscribe for multiple months at a time.","ChargeIntervalSelector"))),a.createElement(h.a,{position:m.n.Relative},a.createElement(j.a,{onToggle:this.toggleWhyBalloon},a.createElement(D.a,null,Object(l.d)("Why?","ChargeIntervalSelector")),a.createElement(I.a,{tail:!0,direction:I.b.BottomCenter,size:I.c.Medium},a.createElement(h.a,{padding:1},a.createElement(x.a,{margin:{bottom:.5}},a.createElement(b.a,{bold:!0},Object(l.d)("Why subscribe for multiple months?","ChargeIntervalSelector"))),a.createElement(b.a,null,Object(l.d)("Your long-term support gives streamers the chance to take their streams to the next level. They'll be able to keep doing what they love with the comfort of knowing you'll be there.","ChargeIntervalSelector"))))))),a.createElement(h.a,{display:m.g.Flex,flexDirection:m.h.Row,alignItems:m.b.Center,margin:{y:.5}},a.createElement(h.a,{margin:{right:.5}},a.createElement(P.a,{checked:this.props.chargeInterval===S.Three,onChange:function(){return e.props.onChange(S.Three)},label:null,"data-a-target":"charge-interval-radio-three-month"})),a.createElement(h.a,{margin:{right:.5}},a.createElement("label",{className:"charge-interval__radio__label"},Object(l.d)("3 months recurring","ChargeIntervalSelector"))),a.createElement(h.a,null,a.createElement(b.a,null,Object(_.c)(this.props.product,S.Three)))),a.createElement(h.a,{display:m.g.Flex,flexDirection:m.h.Row,alignItems:m.b.Center,margin:{y:.5}},a.createElement(h.a,{margin:{right:.5}},a.createElement(P.a,{checked:this.props.chargeInterval===S.Six,onChange:function(){return e.props.onChange(S.Six)},label:null,"data-a-target":"charge-interval-radio-six-month"})),a.createElement(h.a,{margin:{right:.5}},a.createElement("label",{className:"charge-interval__radio__label"},Object(l.d)("6 months recurring","ChargeIntervalSelector"))),a.createElement(h.a,null,a.createElement(b.a,null,Object(_.c)(this.props.product,S.Six)))))},t}(a.Component),A=n("AXRb"),R=function(e){var t;return t=e.hasPrime?Object(l.d)("Use your free sub to support your favorite streamer. <x:link>Learn more</x:link>",{"x:link":function(e){return a.createElement(D.a,{linkTo:"https://help.twitch.tv/customer/en/portal/articles/2572060-twitch-prime-guide",targetBlank:!0},e)}},"SubPlan"):Object(l.d)("Get monthly games and in-game loot, a monthly Twitch channel subscription, and loads more with Twitch Prime.","SubPlan"),a.createElement(a.Fragment,null,a.createElement(h.a,{"data-test-selector":M.PrimeSubPlan,flexGrow:2,padding:1},a.createElement(h.a,{padding:{bottom:e.inMultiMonthSubsExperiment?.5:0}},a.createElement(b.a,{bold:!0,type:e.inMultiMonthSubsExperiment?b.e.H5:void 0},Object(l.d)("Free Subscription with Twitch Prime","SubPlan"))),a.createElement(b.a,null,t)),a.createElement(h.a,{display:m.g.Flex,alignItems:m.b.Center,justifyContent:m.l.End,fullHeight:!0,margin:1},a.createElement(A.a,{handleSubMenuAction:e.handleSubMenuAction,channelLogin:e.channelLogin})))};function G(e,t){if(!t)return!1;var n=Number(t.tier);isNaN(n)&&(n=1e3);var i=Number(e.tier);return isNaN(i)&&(i=1e3),i===n}!function(e){e.RenewsMessage="subplanrenews",e.PrimeSubPlan="primesubplan",e.TieredSubPlan="tieredsubplan"}(M||(M={}));var F,U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={chargeInterval:S.One},t.onMoreInfoClick=function(){var e;t.props.handleSubMenuAction({action:T.a.ClickMultiMonthInfo,buttonCTA:"Why?",checkoutButtonTier:null===(e=Object(O.b)(t.props.product.tier))||void 0===e?void 0:e.toString()})},t.onChargeIntervalSelected=function(e){var n;t.props.handleSubMenuAction({action:T.a.ClickMultiMonthOption,buttonCTA:e+" months recurring",chargeInterval:e,checkoutButtonTier:null===(n=Object(O.b)(t.props.product.tier))||void 0===n?void 0:n.toString()}),t.setState({chargeInterval:e})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=Object(O.b)(this.props.product.tier),t=Object(_.e)(this.props.product),n=this.props.isQuickSub?{borderBottom:!0,borderRadius:m.e.None}:{border:!0,borderRadius:m.e.Medium},i=m.b.Start;this.props.inMultiMonthSubsExperiment&&(t=Object(_.c)(this.props.product,this.state.chargeInterval),this.props.multiMonthActionButtonsAlignItems&&(i=this.props.multiMonthActionButtonsAlignItems),void 0!==this.props.multiMonthUseBorder&&(n={border:this.props.multiMonthUseBorder,borderRadius:m.e.None}));var o=this.props.primeSubPlan?a.createElement(R,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,hasPrime:this.props.primeSubPlan.hasPrime,inMultiMonthSubsExperiment:this.props.inMultiMonthSubsExperiment}):a.createElement(a.Fragment,null,a.createElement(h.a,{flexGrow:1,"data-test-selector":M.TieredSubPlan,padding:1},this.props.inMultiMonthSubsExperiment?a.createElement(a.Fragment,null,this.props.multiMonthHeader&&a.createElement(x.a,{padding:{bottom:.5}},a.createElement(b.a,{type:b.e.H5,bold:!0},this.props.multiMonthHeader)),this.props.isMultiMonthGiftPlan?a.createElement(b.a,null,Object(C.d)("Gift a Sub to the community or a specific viewer","SubModalPlan")):a.createElement(B,{onMoreInfoClick:this.onMoreInfoClick,chargeInterval:this.state.chargeInterval,onChange:this.onChargeIntervalSelected,product:this.props.product})):a.createElement(h.a,null,a.createElement(b.a,{bold:!0},e?Object(C.d)("Tier {tierNumber} Subscription",{tierNumber:e},"SubModalPlan"):Object(C.d)("Subscription","SubModalPlan")),a.createElement(b.a,{"data-test-selector":M.RenewsMessage},function(e){var t=Object(_.b)(e.priceInfo),n=Object(_.e)(e);switch(e.interval.unit){case k.ld.MONTH:return t===n?Object(C.d)("Renews monthly at {price}",{price:t},"SubModalPlan"):Object(C.d)("First month for {discountedPrice}, renews monthly thereafter at {price}",{price:t,discountedPrice:n},"SubModalPlan");case k.ld.WEEK:return Object(C.d)("Renews weekly at {price}",{price:t},"SubModalPlan");case k.ld.YEAR:return Object(C.d)("Renews yearly at {price}",{price:t},"SubModalPlan");case k.ld.ONE_TIME:return Object(C.d)("One-time purchase","SubModalPlan");default:return null}}(this.props.product)))),a.createElement(h.a,{display:m.g.Flex,justifyContent:m.l.End,alignItems:i,margin:1},this.props.onGift&&a.createElement(h.a,{margin:{right:1}},a.createElement(N.a,{disabled:this.state.chargeInterval!==S.One,type:N.d.Secondary,icon:w.a.Gift,onClick:this.props.onGift},this.props.isMultiMonthGiftPlan?Object(C.d)("Gift a Sub","SubModalPlan"):Object(C.d)("Gift","SubModalPlan"))),!this.props.isMultiMonthGiftPlan&&a.createElement(E.a,{handleSubAction:this.props.handleSubMenuAction,icon:w.a.Star,isSubbedToTier:G(this.props.product,this.props.subscriptionBenefit),overrideSubEventAction:this.props.isQuickSub?T.a.BuyQuickSub:void 0,productName:this.props.product.name,tierPrice:t,url:this.props.product.url,chargeInterval:this.state.chargeInterval})));return a.createElement(p.a,Object(r.__assign)({},n,{display:m.g.Flex,flexDirection:m.h.Row,justifyContent:m.l.End,padding:1,flexWrap:m.i.Wrap}),o)},t}(a.Component),L=n("9ABA"),H=n("Z2sP"),z=function(e){var t=e.badge,n=parseInt(t.version,10);return a.createElement(h.a,{alignItems:m.b.Center,className:e.className,display:m.g.Flex,flexDirection:m.h.Column,flexShrink:0,margin:{top:1}},a.createElement(c.a,{badge:Object(d.b)(t),hideTooltip:!0,large:!0}),a.createElement(h.a,{margin:{top:.5}},a.createElement(b.a,{className:e.className+"--text",fontSize:m.j.Size7},n>=12?Object(l.d)("{years}-Year",{years:n/12},"SubBadge"):Object(l.d)("{months}-Month",{months:0===n?1:n},"SubBadge"))))};n("hWJn");!function(e){e.Anniversarymessage="subanniversarymessage",e.RenewsMessage="subrenewsmessage",e.TenureMessage="subtenuremessage"}(F||(F={}));var q=96,V=5,W=1e3,K=1999,Q=2e3,Y=2999,X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=function(e,t,n){if(!Object(u.c)(n)||!t||"1000"===(null==t?void 0:t.tier))return e.filter((function(e){return parseInt(e.version,10)<=q}));switch(t.tier){case"2000":return e.filter((function(e){return parseInt(e.version,10)>=W&&parseInt(e.version,10)<=K})).map((function(e){return Object.assign({},e,{version:(parseInt(e.version,10)-W).toString()})}));case"3000":return e.filter((function(e){return parseInt(e.version,10)>=Q&&parseInt(e.version,10)<=Y})).map((function(e){return Object.assign({},e,{version:(parseInt(e.version,10)-Q).toString()})}))}return e}(this.props.subBadges,this.props.subscriptionBenefit,this.props.channelID);e=J(e,this.props.tenure);var t=this.getMonthsRemaining(e.slice(0,2)),n=null;if(this.props.subscriptionBenefit){var i=null;if(this.props.tenure){var r=this.props,o=r.tenure,s=r.streakTenure,l=r.formattedDisplayName,c=r.subscriptionBenefit;i=s?Object(C.d)("You've been subscribed to {channelName} for <x:bold>{monthCount} months</x:bold> with a current streak of <x:bold>{streakCount}</x:bold> months.",{channelName:l,monthCount:o.months,streakCount:s.months,"x:bold":function(e){return a.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"SubTenureBadgeProgress"):Object(C.d)("You've been subscribed to {channelName} for <x:bold>{monthCount} months</x:bold>.",{channelName:l,monthCount:o.months,"x:bold":function(e){return a.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"SubTenureBadgeProgress");var d=new Date;d.setDate(d.getDate()+o.daysRemaining);var p=Object(C.d)("Next Sub Anniversary on <x:bold>{formattedDate}</x:bold> ({relativeDate})",{formattedDate:Object(C.c)(d,{month:"short",day:"numeric"}),relativeDate:Object(C.i)(d,{units:"day"}),"x:bold":function(e){return a.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"SubTenureBadgeProgress"),f=null;if(c.renewsAt){var g=new Date(c.renewsAt);f=Object(C.d)("Sub renews on <x:bold>{formattedDate}</x:bold> ({relativeDate})",{formattedDate:Object(C.c)(g,{month:"short",day:"numeric"}),relativeDate:Object(C.i)(g,{units:"day"}),"x:bold":function(e){return a.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"SubTenureBadgeProgress")}n=a.createElement(h.a,{display:m.g.Flex,flexDirection:m.h.Column,justifyContent:m.l.Center,textAlign:m.p.Center,padding:{x:2,top:2}},a.createElement(b.a,{"data-test-selector":F.TenureMessage},i),a.createElement(h.a,{display:m.g.Flex,flexDirection:m.h.Row,justifyContent:m.l.Center},a.createElement(b.a,{"data-test-selector":F.Anniversarymessage},p),f&&a.createElement(a.Fragment,null,a.createElement(h.a,{margin:{x:1}},Object(C.d)("|","SubTenureBadgeProgress")),a.createElement(b.a,{"data-test-selector":F.RenewsMessage},f))))}}else{var v=null;v=Object(C.d)("Instantly unlock your first Sub Badge and show your support.","SubTenureBadgeProgress"),this.props.tenure&&this.props.tenure.months>0&&(v=0===t?Object(C.d)("Resubscribe to retrieve your highest unlocked Sub Badge. Total Months Subscribed: {totalMonths}",{totalMonths:this.props.tenure.months},"SubTenureBadgeProgress"):Object(C.d)("{monthsRemaining, plural, one {Resubscribe to achieve your next Sub Badge in {monthsRemaining} month. Total Months Subscribed: {totalMonths}} other {Resubscribe to achieve your next Sub Badge in {monthsRemaining} months. Total Months Subscribed: {totalMonths}}}",{monthsRemaining:t,totalMonths:this.props.tenure.months},"SubTenureBadgeProgress")),n=a.createElement(b.a,null,v)}return a.createElement(h.a,null,a.createElement(x.a,{margin:{bottom:1}},n),this.getNextBadgeProgress(e,V))},t.prototype.getNextBadgeProgress=function(e,t){var n=e.slice(0,t),i=n.slice(0,2),r=n.slice(2),o=null;2===i.length&&this.props.tenure&&(o=Object(L.c)(this.props.tenure,i[0].version,i[1].version));var s=a.createElement(h.a,{className:"tenure-badge-progress__to-next-"+n.length},a.createElement(h.a,{display:m.g.Flex,fullWidth:!0,justifyContent:1!==n.length?m.l.Between:m.l.Center},i.map((function(e){return a.createElement(x.a,{zIndex:m.s.Above,key:e.version},a.createElement(z,{badge:e}))}))),i.length>1&&a.createElement(h.a,{className:"tenure-badge-progress__bar",position:m.n.Relative,margin:{left:2,right:3}},a.createElement(H.a,{size:H.c.Small,mask:!0,value:o||0}))),l=r.length>0&&a.createElement(h.a,{flexGrow:2,className:"tenure-badge-progress__future"},a.createElement(h.a,{display:m.g.Flex,fullWidth:!0,justifyContent:m.l.Between},a.createElement("div",{className:"tenure-badge-progress__placeholder-"+n.length}),r.map((function(e,t){return a.createElement(x.a,{zIndex:m.s.Above,key:e.version},a.createElement(z,{badge:e,className:t>1?"tenure-badge-progress__more-badges":void 0}))}))),a.createElement(h.a,{className:"tenure-badge-progress__bar",position:m.n.Relative},a.createElement(H.a,{size:H.c.Small,mask:!0,value:0})));return a.createElement(h.a,{display:m.g.Flex,padding:{x:2},justifyContent:m.l.Center},s,l)},t.prototype.getMonthsRemaining=function(e){if(this.props.tenure){var t=this.props.tenure.months,n=e[1];if(n)return Math.max(Number(n.version)-t,0)}return 0},t}(a.Component);function J(e,t){var n=e;if(t){n=[];for(var i=null,r=0,a=e;r<a.length;r++){var o=a[r];Number(o.version)<=t.months?i=o:n.push(o)}null!==i&&n.unshift(i)}return n.length>V&&(n=n.slice(0,V)),n}var $=n("cw0r"),Z=n("OpME"),ee=n("u5aL"),te=n("b5vT"),ne=n("eUBP"),ie=n("VYPy"),re=(n("Ji9N"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={modification:void 0},t.handleClick=function(e){t.setState((function(t){return e===t.modification?{modification:void 0}:{modification:e}}))},t.handleClickOut=function(){t.setState({modification:void 0})},t.handleEmoteClick=function(){return!0},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;return this.props.modifications.length?a.createElement(ee.a,{onClickOut:this.handleClickOut},a.createElement(h.a,{className:"emote-modifier-preview-list",display:m.g.Flex,position:m.n.Relative,margin:{bottom:1}},this.props.modifications.map((function(t){return a.createElement(h.a,{key:"emote-modifier-preview-button-"+t.code,margin:{right:.5}},a.createElement(ne.a,{modification:t,onClick:e.handleClick,selected:e.state.modification===t}))})),a.createElement(I.a,{show:void 0!==this.state.modification,direction:this.props.balloonDirection||I.b.Bottom},a.createElement(h.a,{className:"emote-modifier-preview-list__emotes",display:m.g.Flex,position:m.n.Relative,flexWrap:m.i.Wrap,overflow:m.m.Scroll},this.state.modification&&this.props.emotes.map((function(t){var n,i=Object(ie.e)(t,(null===(n=e.state.modification)||void 0===n?void 0:n.code)||"");return a.createElement(te.b,{key:"emote-modifier-preview-emote-"+t.id,emote:i,onClick:e.handleEmoteClick})})))))):null},t}(a.Component)),ae=n("KnXG"),oe=n("D7An"),se=n("Uh2Q"),le=n("ybLH"),ce=n("evnP"),ue=n("QVaV"),de=(n("XX8v"),20),pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visibleCount:de},t.onShowAllClick=function(){if(t.props.product.emotes){var e=t.props.product.emotes.length;t.setState((function(t){return{visibleCount:t.visibleCount===de?e:de}}),(function(){t.props.handleSubMenuAction({action:T.a.ClickShowMoreEmotes})}))}},t}return Object(r.__extends)(t,e),t.prototype.render=function(){if(!this.props.product.emotes||0===this.props.product.emotes.length)return null;var e=Object(Z.c)(this.props.product.emotes);return a.createElement(h.a,{className:"emote-benefits",margin:{y:1}},a.createElement(b.a,null,Object(C.d)("{emoteCount, plural, one {{emoteCount} Custom Emote} other {{emoteCount} Custom Emotes}}",{emoteCount:this.props.product.emotes.length},"SubEmoteBenfits")),a.createElement(h.a,{display:m.g.Flex,flexWrap:m.i.Wrap,margin:{y:1,x:2}},e.slice(0,this.state.visibleCount).map((function(e){return a.createElement(f.a,{label:e.displayName,direction:f.c.Bottom,key:e.id,display:m.g.Flex},a.createElement(h.a,{margin:{right:1,bottom:1},className:"emote-benefits__emote"},a.createElement("img",{srcSet:e.srcSet,alt:e.displayName})))})),e.length>de&&a.createElement(N.a,{type:N.d.Text,onClick:this.onShowAllClick},this.state.visibleCount===de?Object(C.d)("Show all","SubEmoteBenefits"):Object(C.d)("Show less","SubEmoteBenfits"))))},t}(a.PureComponent);var me,he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(X,{formattedDisplayName:Object(ue.a)(this.props.channel.login,this.props.channel.displayName),subBadges:this.props.subBadges,subscriptionBenefit:this.props.subscriptionBenefit,tenure:this.props.tenure,streakTenure:this.props.streakTenure,channelID:this.props.channel.id})},t}(a.Component),fe=Object(s.b)((function(e){return{channel:e.channel,subBadges:e.subBadges,subscriptionBenefit:e.subscriptionBenefit,tenure:e.tenure,streakTenure:e.streakTenure}}))(he);!function(e){e.AdFreeMessage="SubBenefitAdFree",e.SubscriberStreamMessage="SubBenefitSubscriberStream"}(me||(me={}));var be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.selectedTier?this.props.subscriptionProducts.find((function(t){return t.tier===e.props.selectedTier})):this.props.subscriptionProducts[0];if(!t)return null;var n=this.props.selectedTier?Object(C.d)("Tier Benefits","SubBenefits"):Object(C.d)("Benefits","SubBenefits");return a.createElement(h.a,null,a.createElement(x.a,{margin:{top:this.props.inMultiMonthSubsExperiment?0:2,bottom:1}},a.createElement(b.a,{type:b.e.H5,bold:!0},this.props.inMultiMonthSubsExperiment?Object(C.d)("Tier 1 Benefits","SubBenefits"):n)),t.hasAdFree&&a.createElement(x.a,{margin:{bottom:1}},a.createElement(b.a,{"data-test-selector":me.AdFreeMessage},Object(C.d)("Ad-free viewing on {channelName}'s channel (with limited exceptions).",{channelName:this.props.formattedDisplayName},"SubBenefits"))),a.createElement(x.a,{margin:{bottom:1}},a.createElement(b.a,null,Object(C.d)("Chat during Subscriber-Only Mode and not affected by chat slow mode.","SubBenefits"))),a.createElement(x.a,{margin:{bottom:1}},a.createElement(b.a,{"data-test-selector":me.SubscriberStreamMessage},Object(C.d)("Watch Subscriber Streams (access depends on Subscription Tier).","SubBenefits"))),a.createElement(fe,null),a.createElement(pe,{product:t,handleSubMenuAction:this.props.handleSubMenuAction}))},t}(a.Component);var ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(be,{subscriptionProducts:this.props.subscriptionProducts,handleSubMenuAction:this.props.handleSubMenuAction,formattedDisplayName:Object(ue.a)(this.props.channel.login,this.props.channel.displayName||null),inMultiMonthSubsExperiment:this.props.inMultiMonthSubsExperiment})},t}(a.Component),ve=Object(s.b)((function(e){return{channel:e.channel,handleSubMenuAction:e.handleSubMenuAction,subscriptionProducts:e.subscriptionProducts}}))(ge);var ye,Se=function(e){var t=(e.interval&&e.interval.unit)===k.ld.ONE_TIME,n=isNaN(Number(e.tier)),i=e.type.toLowerCase()===k.nd.TEAMSUB.toLowerCase()||e.type.toLowerCase()===k.nd.TURBO.toLowerCase();return t||n||i},ke=n("Mb07");n("Li6Q");!function(e){e.QuickSub="QuickSub",e.HigherTier="HigherTier",e.BadgeModifierUpsell="BadgeModifierUpsell"}(ye||(ye={}));var Ce,Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.channelLogin,n=e.handleSubMenuAction,i=e.subscriptionProducts,r=Object(C.d)("Tier 1 Subscription","SubModalUnsubbedPage"),s=Object(C.d)("Subscriptions are a great way to directly support the streamers you love and get great benefits too!","SubModalUnsubbedPage");return a.createElement(h.a,{className:"unsubbed-top-page__scroll"},a.createElement(o.b,{autoHide:!1,suppressScrollX:!0},a.createElement(a.Fragment,null,this.inMultiMonthSubsExperiment?a.createElement(a.Fragment,null,a.createElement(U,{channelLogin:t,"data-test-selector":ye.QuickSub,handleSubMenuAction:n,isQuickSub:!0,product:i[0],inMultiMonthSubsExperiment:this.inMultiMonthSubsExperiment,multiMonthActionButtonsAlignItems:m.b.Start,multiMonthUseBorder:!1,multiMonthHeader:Object(C.d)("Tier 1 Subscription","UnsubbedTopPage")}),a.createElement(h.a,{padding:{x:2,bottom:2}},a.createElement(ve,{inMultiMonthSubsExperiment:this.inMultiMonthSubsExperiment}),this.getSubPlans())):a.createElement(a.Fragment,null,Object(ce.b)()&&Object(ke.d)(Object(ke.b)(ke.a.FirstPaidSubOffer,i[0]))?a.createElement(ce.a,{handleSubMenuAction:n,product:i[0]}):a.createElement(U,{channelLogin:t,"data-test-selector":ye.QuickSub,handleSubMenuAction:n,isQuickSub:!0,product:i[0]}),Object(se.f)(se.a)&&a.createElement(h.a,{margin:1},a.createElement(le.a,null)),a.createElement(h.a,{padding:2},a.createElement(b.a,{type:b.e.H4,bold:!0},r),a.createElement(x.a,{margin:{y:1}},a.createElement(b.a,null,s)),a.createElement(ve,null),this.getSubPlans())),a.createElement(h.a,null,this.getHigherTiers()))))},t.prototype.getSubPlans=function(e){var t=[];if(this.inMultiMonthSubsExperiment&&this.props.inPrimeRegion&&!e)return t.push(a.createElement(h.a,{key:"subplan-top",margin:{y:1}},a.createElement(U,{key:"subplan-prime",handleSubMenuAction:this.props.handleSubMenuAction,channelLogin:this.props.channelLogin,primeSubPlan:{hasPrime:this.props.hasPrime},product:this.props.subscriptionProducts[0],inMultiMonthSubsExperiment:this.inMultiMonthSubsExperiment}))),t.push(a.createElement(U,{key:"subplan-tier1-gift",channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,product:this.props.subscriptionProducts[0],onGift:this.props.onGift,multiMonthActionButtonsAlignItems:m.b.Center,inMultiMonthSubsExperiment:this.inMultiMonthSubsExperiment,isMultiMonthGiftPlan:!0,multiMonthHeader:Object(C.d)("Gift Tier 1 Subscription","UnsubbedTopPage")})),t;var n,i,r=(n=Object(ae.a)()||"US",i=l.b.get("prime_sub_blocked_regions",[]),!!n&&!i.includes(n.toUpperCase())),o=a.createElement(U,{key:"subplan-tier1",channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,product:this.props.subscriptionProducts[0],onGift:this.props.isNonStandardSub?void 0:this.props.onGift});if(this.props.inPrimeRegion&&!e&&r){t.push(a.createElement(b.a,{key:"subplan-heading",type:b.e.H5,bold:!0},Object(C.d)("Two Ways to Subscribe","SubModalUnsubbedPage")));var s=a.createElement(U,{key:"subplan-prime",handleSubMenuAction:this.props.handleSubMenuAction,channelLogin:this.props.channelLogin,primeSubPlan:{hasPrime:this.props.hasPrime},product:this.props.subscriptionProducts[0]});this.props.canPrimeSubscribe?(t.push(a.createElement(h.a,{key:"subplan-top",margin:{y:1}},s)),t.push(o)):(t.push(a.createElement(h.a,{key:"subplan-top",margin:{y:1}},o)),t.push(s))}else t.push(o);return t},t.prototype.getHigherTiers=function(){var e=this.props.subscriptionProducts.slice(1);return e.length<1?null:a.createElement(p.a,{background:m.d.Alt,padding:2},a.createElement(b.a,{bold:!0,type:b.e.H4},Object(C.d)("Higher Tiers","SubModalUnsubbedPage")),a.createElement(_e,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,baseProduct:this.props.subscriptionProducts[0],higherTierProducts:e,onGift:this.props.isNonStandardSub?void 0:this.props.onGift,inMultiMonthSubsExperiment:this.inMultiMonthSubsExperiment,sessionUser:this.props.sessionUser,subBadges:this.props.subBadges,tenure:this.props.tenure}))},Object.defineProperty(t.prototype,"inMultiMonthSubsExperiment",{get:function(){for(var e=0,t=this.props.subscriptionProducts;e<t.length;e++){var n=t[e];if(Se(n))return!1}return C.b.get("mm_subs_v2_experiment",!1)&&"variant_ui"===l.p.experiments.getAndTrackAssignment(oe.c.MultiMonthSubs)},enumerable:!0,configurable:!0}),t}(a.Component),_e=function(e){var t,n,i=e.channelID,r=e.baseProduct,o=e.higherTierProducts,s=e.sessionUser,c=e.subBadges,d=e.tenure;if(o.length<1)return null;var p=Object(Z.c)(r.emotes||[]),v=Object(Z.c)(o[0]&&o[0].emotes||[]),y=Object(Z.c)(o[1]&&o[1].emotes||[]),S=[[],v,v.concat(y)],k=(null===(t=o[0])||void 0===t?void 0:t.emoteModifiers)||[],C=(null===(n=o[1])||void 0===n?void 0:n.emoteModifiers)||[],E=[[],k,k.concat(C)];return a.createElement(a.Fragment,null,o.map((function(t){var n=Object(O.b)(t.tier)||1,r=S[n-1],o=E[n-1],v=p.concat(r);if(s&&c&&d&&Object(u.c)(i)){var y=J(c,d),k={};y.length>0&&(k=y[0]);var C=Object(u.b)(c,k);return a.createElement(h.a,{key:t.id,margin:{y:1},"data-test-selector":ye.HigherTier},a.createElement(b.a,{bold:!0,type:b.e.H5},Object(l.d)("Tier {tierNumber}",{tierNumber:n},"SubModalUnsubbedPage")),a.createElement(h.a,{"data-test-selector":ye.BadgeModifierUpsell+"__"+t.tier},a.createElement(h.a,{display:m.g.Flex,margin:{top:1}},a.createElement(b.a,null,r.length>0?Object(l.d)("{emoteCount, plural, one {All Tier 1 Benefits plus a Tier {tierNum} badge flair and {emoteCount} Exclusive Emote!} other {All Tier 1 Benefits plus a Tier {tierNum} badge flair and {emoteCount} Exclusive Emotes!}}",{tierNum:Object(l.f)(n),emoteCount:Object(l.f)(r.length)},"SubModalUnsubbedPage"):Object(l.d)("All Tier 1 Benefits plus a Tier {tierNum} badge flair!",{tierNum:Object(l.f)(n)},"SubModalUnsubbedPage_BadgeModifier"))),a.createElement(g,{userName:s.displayName,badges:C,tier:n,emotes:r}),a.createElement($.a,{name:ie.a},a.createElement(re,{modifications:o,emotes:v})),a.createElement(U,{channelLogin:e.channelLogin,product:t,handleSubMenuAction:e.handleSubMenuAction,onGift:e.onGift,subscriptionBenefit:e.subscriptionBenefit})))}return a.createElement(h.a,{key:t.id,margin:{y:1},"data-test-selector":ye.HigherTier},a.createElement(b.a,{bold:!0,type:b.e.H5},Object(l.d)("Tier {tierNumber}",{tierNumber:n},"SubModalUnsubbedPageAll_BadgeModifier")),a.createElement(h.a,null,a.createElement(h.a,{display:m.g.Flex},r.map((function(e){return a.createElement(f.a,{label:e.displayName,direction:f.c.Bottom,key:e.id,display:m.g.Flex},a.createElement(h.a,{margin:{right:1,bottom:1},className:"emote-benefits__emote"},a.createElement("img",{srcSet:e.srcSet,alt:e.displayName})))})),a.createElement(x.a,{margin:{y:1}},a.createElement(b.a,null,r.length>0?Object(l.d)("{emoteCount, plural, one {All Tier 1 Benefits plus <x:bold>{emoteCount} Exclusive Emote</x:bold>} other {All Tier 1 Benefits plus <x:bold>{emoteCount} Exclusive Emotes</x:bold>}}",{emoteCount:r.length,"x:bold":function(e){return a.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"SubModalUnsubbedPage"):Object(l.d)("All Tier 1 Benefits plus extra support for your streamer!","SubModalUnsubbedPage")))),a.createElement($.a,{name:ie.a},a.createElement(re,{modifications:o,emotes:v})),a.createElement(U,{channelLogin:e.channelLogin,product:t,handleSubMenuAction:e.handleSubMenuAction,onGift:e.onGift,subscriptionBenefit:e.subscriptionBenefit,inMultiMonthSubsExperiment:e.inMultiMonthSubsExperiment,multiMonthActionButtonsAlignItems:m.b.Center,multiMonthUseBorder:!0})))})))},Oe=function(e){return Object(l.d)("Tier {tierNumber}",{tierNumber:e},"AllPaidTiers")},Te=n("YV9q");n("OCZ4");!function(e){e.BadgeModifierUpsellT1="badge-modifier__upsell-t1"}(Ce||(Ce={}));var xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.subscriptionProducts[0],t=(Object(O.b)(e.tier)||"").toString(),n=this.props.subscriptionProducts.slice(1);if(Object(u.c)(this.props.channelID)&&this.props.subBadges&&this.props.sessionUser){var i=J(this.props.subBadges,this.props.tenure),r={};i.length>0&&(r=i[0]);var o=Object(u.b)(this.props.subBadges,r);return a.createElement(h.a,{className:"all-paid-tiers"},a.createElement(h.a,{className:"all-paid-tiers__back-button",margin:{bottom:1}},a.createElement(N.a,{type:N.d.Text,"data-a-target":"subscribe-back-button",icon:w.a.AngleLeft,onClick:this.props.onBack},a.createElement(h.a,{alignItems:m.b.Center,display:m.g.InlineFlex},a.createElement(b.a,null,Object(l.d)("Back","AllPaidTiers_BadgeModifier"))))),a.createElement(h.a,{margin:{bottom:1}},a.createElement(b.a,{bold:!0,type:b.e.H5},Oe(t))),a.createElement(h.a,{margin:{top:1}},a.createElement(b.a,null,Object(Te.a)({emoteCount:e.emotes&&e.emotes.length||0,hasAdFree:e.hasAdFree}))),a.createElement(h.a,{"data-test-selector":Ce.BadgeModifierUpsellT1},a.createElement(g,{badges:o,userName:this.props.sessionUser.displayName,tier:1})),a.createElement(U,{key:"subplan-tier1",channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,product:e,subscriptionBenefit:this.props.subscriptionBenefit}),a.createElement(_e,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,baseProduct:e,higherTierProducts:n,sessionUser:this.props.sessionUser&&this.props.sessionUser,subBadges:this.props.subBadges,subscriptionBenefit:this.props.subscriptionBenefit,tenure:this.props.tenure}))}return a.createElement(h.a,{className:"all-paid-tiers"},a.createElement(h.a,{className:"all-paid-tiers__back-button",margin:{bottom:1}},a.createElement(N.a,{type:N.d.Text,"data-a-target":"subscribe-back-button",icon:w.a.AngleLeft,onClick:this.props.onBack},a.createElement(h.a,{alignItems:m.b.Center,display:m.g.InlineFlex},a.createElement(b.a,null,Object(l.d)("Back","AllPaidTiers"))))),a.createElement(h.a,{margin:{bottom:1}},a.createElement(b.a,{bold:!0,type:b.e.H5},Oe(t))),a.createElement(h.a,{margin:{top:1}},a.createElement(b.a,null,Object(Te.a)({emoteCount:e.emotes&&e.emotes.length||0,hasAdFree:e.hasAdFree}))),a.createElement(U,{key:"subplan-tier1",channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,product:e,subscriptionBenefit:this.props.subscriptionBenefit}),a.createElement(_e,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,baseProduct:e,higherTierProducts:n,sessionUser:this.props.sessionUser&&this.props.sessionUser,subBadges:this.props.subBadges,subscriptionBenefit:this.props.subscriptionBenefit,tenure:this.props.tenure}))},t}(a.Component);var Ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(xe,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,onBack:this.props.onBack,subscriptionBenefit:this.props.subscriptionBenefit,subscriptionProducts:this.props.subscriptionProducts,channelID:this.props.channel.id,sessionUser:this.props.sessionUser&&this.props.sessionUser,subBadges:this.props.subBadges,tenure:this.props.tenure})},t}(a.Component),we=Object(s.b)((function(e){return{subscriptionBenefit:e.subscriptionBenefit||void 0,subscriptionProducts:e.subscriptionProducts,handleSubMenuAction:e.handleSubMenuAction,channel:e.channel,sessionUser:e.sessionUser,subBadges:e.subBadges,tenure:e.tenure}}))(Ne),je=n("NJDg"),Pe=n("Dbw4"),De=n("L2Dh"),Ie=n("FLOH"),Me=n("dBR3"),Be=n("kqSx");n("yLMg");var Ae,Re,Ge=Object(s.b)((function(e){return{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,onAnonymousGiftingSelect:e.onAnonymousGiftingSelect,subscriptionProducts:e.subscriptionProducts}}))((function(e){var t=Object(a.useState)(e.subscriptionProducts[0]),n=t[0],i=t[1],r=Object(a.useCallback)((function(e){i(e)}),[]),o=Object(l.d)("Gift Anonymously","CommunityGiftBundleSelection"),s=n.tier||"1000",c=De.d[s]||De.b,u=De.e[s];return a.createElement(h.a,null,e.onBack&&a.createElement(h.a,{className:"community-gift-bundle-selection__back",margin:{bottom:1}},a.createElement(N.a,{type:N.d.Text,icon:w.a.AngleLeft,onClick:e.onBack},a.createElement(b.a,null,Object(l.d)("Back","CommunityGiftBundleSelection")))),a.createElement(h.a,{display:m.g.Flex,justifyContent:m.l.Between,margin:{bottom:1}},a.createElement(b.a,{bold:!0,fontSize:m.j.Size4},Object(l.d)("Gift to the Community","CommunityGiftBundleSelection")),a.createElement(N.a,{type:N.d.Text,onClick:e.onSingleGiftSelect},a.createElement(b.a,null,Object(l.d)("Gift to a Specific Viewer","CommunityGiftBundleSelection")))),a.createElement(Me.a,{handleSubMenuAction:e.handleSubMenuAction,onTierSelect:r,subscriptionProducts:e.subscriptionProducts},a.createElement(h.a,{className:"community-gift-bundle-selection__bundles"},a.createElement(h.a,{padding:1,display:m.g.Flex,justifyContent:m.l.Between},a.createElement(Ie.a,{allSubProducts:e.subscriptionProducts,selectedSubProduct:n}),a.createElement(h.a,{className:"community-gift-bundle-selection__anonymous",alignSelf:m.c.Center},a.createElement(Be.a,{checked:e.giftingAnonymously,label:o,onChange:e.onAnonymousGiftingSelect}))),a.createElement(h.a,{display:m.g.Flex,flexWrap:m.i.Wrap},u.map((function(t){return a.createElement(Pe.a,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,key:"MysteryGiftBundle"+t,mysteryGiftCount:t,subscriptionProduct:n})}))),a.createElement(h.a,{fullWidth:!0,margin:{x:1}},a.createElement(je.a,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,limit:c,subscriptionProduct:n})))))})),Fe=n("Gylv"),Ue=n("8EUQ");!function(e){e[e.Upgrade=0]="Upgrade",e[e.Continue=1]="Continue",e[e.None=2]="None"}(Ae||(Ae={})),function(e){e.AllPaidTiers="allpaidtiers",e.ContinueSub="continuesub",e.UpgradeSub="upgradesub"}(Re||(Re={}));var Le,He=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.upsellProduct,i=t.purchaseButtonType;return a.createElement(h.a,{display:m.g.Flex,flexDirection:m.h.Row,justifyContent:m.l.End,flexWrap:m.i.Wrap},a.createElement(h.a,{margin:{right:1,bottom:1}},a.createElement(N.a,{"data-test-selector":Re.AllPaidTiers,onClick:this.props.onAllPaidTiersSelect,type:N.d.Secondary},Object(l.d)("All Paid Tiers","CurrentSubscriptionButtonPanel"))),[i].map((function(t){switch(t){case Ae.Continue:return n?a.createElement(h.a,{key:"continuebutton",margin:{right:1,bottom:1}},a.createElement(N.a,{key:n.id,"data-test-selector":Re.ContinueSub,icon:w.a.Star,onClick:e.props.onCheckoutClick,purchase:Object(_.e)(n)},Object(l.d)("Continue Sub","CurrentSubscriptionButtonPanel"))):null;case Ae.Upgrade:if(!n)return null;var i=Object(O.b)(n.tier);return i?a.createElement(h.a,{key:"upgradebutton",margin:{right:1,bottom:1}},a.createElement(N.a,{key:n.id,"data-test-selector":Re.UpgradeSub,icon:w.a.Star,onClick:e.props.onCheckoutClick,purchase:Object(_.e)(n)},Object(l.d)("Upgrade to Tier {tierNumber}",{tierNumber:i},"CurrentSubscriptionButtonPanel"))):a.createElement(h.a,{key:"upgradebutton",margin:{right:1,bottom:1}},a.createElement(N.a,{key:n.id,"data-test-selector":Re.UpgradeSub,icon:w.a.Star,onClick:e.props.onCheckoutClick,purchase:Object(_.e)(n)},Object(l.d)("Upgrade Sub","CurrentSubscriptionButtonPanel")));default:return null}})))},t}(a.Component),ze=n("7uM4");!function(e){e.Header="header"}(Le||(Le={}));var qe=function(e){var t="";return t=e.isPrimeSubscription?Object(l.d)("Twitch Prime Subscription","CurrentSubscriptionHeaderModal"):e.isGift?e.tier?Object(l.d)("Tier {tierNumber} Gifted Subscription",{tierNumber:e.tier},"CurrentSubscriptionHeaderModal"):Object(l.d)("Gifted Subscription","CurrentSubscriptionHeaderModal"):e.tier?Object(l.d)("Tier {tierNumber} Subscription",{tierNumber:e.tier},"CurrentSubscriptionHeaderModal"):Object(l.d)("Your Subscription","CurrentSubscriptionHeaderModal"),a.createElement(h.a,{className:"current-subscription__heading-"+(e.isPrimeSubscription?"prime":"tier"),display:m.g.Flex,margin:{bottom:1},alignItems:m.b.Stretch},a.createElement(ze.a,{asset:e.isPrimeSubscription?w.a.Crown:w.a.Star,height:25}),a.createElement(x.a,{margin:{left:.5}},a.createElement(b.a,{bold:!0,"data-test-selector":Le.Header,type:b.e.H4},t)))},Ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(){t.props.upsellProduct&&(C.o.set(Ue.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:T.a.BuyPaidUpgrade,checkoutButtonTier:t.props.upsellProduct.tier}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.subEndDate?Object(l.d)("<x:strong>Continue your Subscription</x:strong> to keep your benefits after your Subscription ends! You won't be charged until {date}.",{date:Object(l.c)(this.props.subEndDate,{month:"short",day:"numeric"}),"x:strong":function(e){return a.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"CurrentDNRSubscription"):Object(l.d)("<x:strong>Continue your Subscription</x:strong> to keep your benefits after your Subscription ends!",{"x:strong":function(e){return a.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"CurrentDNRSubscription");return a.createElement(p.a,{padding:{left:2,right:1,y:1},border:!0,borderRadius:m.e.Medium},a.createElement(h.a,{margin:{top:1},display:m.g.Flex,flexWrap:m.i.Wrap,flexDirection:m.h.Row,alignItems:m.b.Center},a.createElement(qe,{tier:this.props.tier}),a.createElement(h.a,{margin:{bottom:1},flexGrow:0},e),a.createElement(h.a,{margin:{bottom:1},flexGrow:1,textAlign:m.p.Right},a.createElement(He,{onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:Ae.Continue,onCheckoutClick:this.onCheckoutClick,upsellProduct:this.props.upsellProduct}))))},t}(a.Component),We=n("2xye");var Ke;n("OkDP");!function(e){e.UpsellString="UpsellString",e.LearnMoreString="LearnMoreString",e.HelpButton="HelpButton"}(Ke||(Ke={}));var Qe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.learnMoreClick=function(){!function(e){Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return l.o.track(We.SpadeEventType.BadgeModifierLearnMoreClick,{time:Date.now(),user_id:e.user_id}),[2]}))}))}({user_id:t.props.currentUserID||""})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(p.a,{borderRadius:m.e.Large,className:"badge-modifier--banner__body",display:m.g.Flex,flexDirection:m.h.Column,margin:{top:1}},a.createElement(h.a,{textAlign:m.p.Left,justifyContent:m.l.Start,padding:{left:2,y:2},display:m.g.Flex},a.createElement(b.a,{"data-test-selector":Ke.UpsellString,type:b.e.P,fontSize:m.j.Size6},Object(l.d)("Tier 2 and Tier 3 Subscribers can now show off their status with Badge Flair!","BadgeModifiersBanner")),a.createElement(h.a,{margin:{left:2,right:2,top:1}},a.createElement(N.a,{"data-test-selector":Ke.HelpButton,onClick:this.learnMoreClick,linkTo:Object(u.a)(),targetBlank:!0,fullWidth:!0,overlay:!0},Object(l.d)("Learn More","BadgeModifiersBanner")))))},t}(a.Component),Ye=n("HGFl");function Xe(e){return Object(O.b)(e.tier)?Object(C.d)("Your new Tier {tier} Paid Subscription will begin on {pendingSubStartDate}",{tier:Object(O.b)(e.tier)||1,pendingSubStartDate:Object(C.c)(Object(Ye.e)(e.startsAt.toString()),{month:"short",day:"numeric"})},"CurrentSubscription"):Object(C.d)("Your new Paid Subscription will begin on {pendingSubStartDate}",{pendingSubStartDate:Object(C.c)(Object(Ye.e)(e.startsAt.toString()),{month:"short",day:"numeric"})},"CurrentSubscription")}var Je,$e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(){t.props.upsellProduct&&(C.o.set(Ue.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:T.a.BuyGiftToPaidUpgrade,checkoutButtonTier:t.props.upsellProduct.tier}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t,n=!0,i=void 0!==this.props.gifterDisplayName,r=this.props.pendingSubscription,o=this.props.tier&&Object(u.c)(this.props.channelID);this.props.subEndDate?(e=void 0!==this.props.gifterDisplayName?Object(l.d)("Gifted from <x:strong>{gifter}</x:strong> - Subscription ends on {date} ({daysRemaining})",{gifter:this.props.gifterDisplayName,date:Object(l.c)(this.props.subEndDate,{month:"long",day:"numeric",year:"numeric"}),"x:strong":function(e){return a.createElement(b.a,{bold:!0,type:b.e.Span},e)},daysRemaining:Object(l.i)(this.props.subEndDate,{units:"day",style:"best fit"})},"CurrentGiftSubscription"):null,t=r?Xe(r):Object(l.d)("<x:strong>Continue your Subscription</x:strong> to keep your benefits after your Subscription ends! You won't be charged until {date}.",{date:Object(l.c)(this.props.subEndDate,{month:"short",day:"numeric"}),"x:strong":function(e){return a.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"CurrentGiftSubscription")):(n=!1,e=this.props.gifterDisplayName?Object(l.d)("Gifted from <x:strong>{gifter}</x:strong>",{gifter:this.props.gifterDisplayName,"x:strong":function(e){return a.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"CurrentGiftSubscription"):null,t=null);var s=r?null:a.createElement(h.a,{margin:{bottom:1},textAlign:m.p.Right,fullWidth:!0},a.createElement(He,{onCheckoutClick:this.onCheckoutClick,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:n?Ae.Continue:Ae.None,upsellProduct:this.props.upsellProduct}));return a.createElement(p.a,{padding:{x:2,y:1},border:!0,borderRadius:m.e.Medium},o&&a.createElement(Qe,{currentUserID:this.props.userID?this.props.userID:""}),a.createElement(h.a,{margin:{top:1},display:m.g.Flex,flexWrap:m.i.Wrap,flexDirection:m.h.Row,alignItems:m.b.Center},a.createElement(qe,{isGift:!0,tier:this.props.tier}),a.createElement(h.a,{margin:{bottom:1},flexGrow:0},e,a.createElement(h.a,{margin:i?{top:1}:{}},t)),s))},t}(a.Component),Ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(){t.props.upsellProduct&&(C.o.set(Ue.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:T.a.BuyPaidUpgrade,checkoutButtonTier:t.props.upsellProduct.tier}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.tier&&Object(u.c)(this.props.channelID),t=this.props.subEndDate&&this.props.upsellProduct?a.createElement(h.a,{flexGrow:1,textAlign:m.p.Right},a.createElement(He,{onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:Ae.Upgrade,onCheckoutClick:this.onCheckoutClick,upsellProduct:this.props.upsellProduct})):null;return a.createElement(p.a,{padding:{left:2,right:1,y:1},border:!0,borderRadius:m.e.Medium},e?a.createElement(Qe,{currentUserID:this.props.userID?this.props.userID:""}):null,a.createElement(h.a,{margin:{top:1},display:m.g.Flex,flexWrap:m.i.Wrap,flexDirection:m.h.Row,alignItems:m.b.Center},a.createElement(qe,{tier:this.props.tier}),t))},t}(a.Component),et=n("zNDD");n("eP7G");!function(e){e.PrimeSubRenewsMessage="primesubrenewsmessage"}(Je||(Je={}));var tt,nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(){t.props.upsellProduct&&(C.o.set(Ue.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:T.a.BuyPrimeToPaid,checkoutButtonTier:t.props.upsellProduct.tier}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=this.props.pendingSubscription;e=t?Xe(t):this.props.subEndDate?Object(l.d)("<x:strong>Convert to a recurring Subscription</x:strong> to keep your benefits after your Twitch Prime Subscription ends! You won't be charged until {date}.",{date:Object(l.c)(this.props.subEndDate,{month:"short",day:"numeric"}),"x:strong":function(e){return a.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"CurrentPrimeSubscription"):null;var n=this.props.primeSubRenewalDate&&!t?a.createElement(h.a,{margin:{right:1},className:"sub-modal-current-prime-subscription__prime-renewal-date"},a.createElement(b.a,{color:m.f.Alt2,"data-test-selector":Je.PrimeSubRenewsMessage},Object(l.d)("Your next Prime sub will be available {renewalDate}.",{renewalDate:Object(et.a)(this.props.primeSubRenewalDate,{displayFormat:{month:"short",day:"numeric"}})},"SubModalCurrentPrimeSubscription"))):null,i=t?null:a.createElement(He,{onCheckoutClick:this.onCheckoutClick,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:this.props.subEndDate?Ae.Continue:Ae.None,upsellProduct:this.props.upsellProduct});return a.createElement(p.a,{padding:{left:2,right:1,y:1},border:!0,borderRadius:m.e.Medium},a.createElement(h.a,{margin:{top:1},display:m.g.Flex,flexWrap:m.i.Wrap,flexDirection:m.h.Row,alignItems:m.b.Center},a.createElement(h.a,{display:m.g.Flex,flexDirection:m.h.Column},a.createElement(qe,{isPrimeSubscription:!0}),a.createElement(h.a,{margin:{bottom:1},flexGrow:0},e)),a.createElement(h.a,{margin:{bottom:1},flexGrow:1,textAlign:m.p.Right},i,n)))},t}(a.Component);n("Wd44");!function(e){e[e.Prime=0]="Prime",e[e.Paid=1]="Paid",e[e.DNR=2]="DNR",e[e.Gift=3]="Gift"}(tt||(tt={}));var it=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.getCurrentSubscription();return!e||this.props.isExtended?null:a.createElement(h.a,{margin:{x:2,top:2}},a.createElement(h.a,{margin:{bottom:1}},a.createElement(b.a,{bold:!0,type:b.e.H4},Object(l.d)("Your Subscription","CurrentSubscriptionComponent"))),e)},t.prototype.getCurrentSubscription=function(){switch(this.props.subType){case tt.Prime:return a.createElement(nt,{key:"currentprimesubscription",handleSubMenuAction:this.props.handleSubMenuAction,subEndDate:this.props.subEndDate,upsellProduct:this.props.upsellProduct,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,pendingSubscription:this.props.pendingSubscription,primeSubRenewalDate:this.props.primeSubRenewalDate});case tt.DNR:return a.createElement(Ve,{key:"currentdnrsubscription",handleSubMenuAction:this.props.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,subEndDate:this.props.subEndDate,tier:this.props.tier,upsellProduct:this.props.upsellProduct});case tt.Gift:return a.createElement($e,{key:"currentgiftsubscription",handleSubMenuAction:this.props.handleSubMenuAction,gifterDisplayName:this.props.gifterDisplayName,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,pendingSubscription:this.props.pendingSubscription,subEndDate:this.props.subEndDate,tier:this.props.tier,upsellProduct:this.props.upsellProduct,channelID:this.props.channelID,userID:this.props.userID});case tt.Paid:return a.createElement(Ze,{key:"currentpaidsubscription",handleSubMenuAction:this.props.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,subEndDate:this.props.subEndDate,tier:this.props.tier,upsellProduct:this.props.upsellProduct,channelID:this.props.channelID,userID:this.props.userID});default:return null}},t}(a.Component);var rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=this.mapToComponentProps(),n=(null===(e=this.props.subscriptionBenefit)||void 0===e?void 0:e.pendingSubscription)||void 0;return a.createElement(it,{subEndDate:t.subEndDate,gifterDisplayName:t.gifterDisplayName,handleSubMenuAction:t.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,subType:t.subType,tier:t.tier,pendingSubscription:n,primeSubRenewalDate:t.primeSubRenewalDate,upsellProduct:t.upsellProduct,isExtended:t.isExtended,channelID:t.channelID,userID:t.userID})},t.prototype.mapToComponentProps=function(){var e,t,n,i,r,a,o,s=tt.Paid,l=null,c=!1;if(this.props.subscriptionBenefit){var u=this.props.subscriptionBenefit,d=this.props.subscriptionProducts.find((function(e){return e.tier===u.tier}));l=Object(O.b)(u.tier),a=u.endsAt?new Date(u.endsAt):void 0,c=u.isExtended,(null===(e=u.gift)||void 0===e?void 0:e.isGift)?(s=tt.Gift,r=null===(t=u.gift.gifter)||void 0===t?void 0:t.displayName,o=d):u.purchasedWithPrime?(s=tt.Prime,o=d):u.isDNRd?(s=tt.DNR,o=d,u.pendingSubscription&&(s=tt.Paid,o=void 0)):o=this.props.subscriptionProducts.find((function(e){return e.tier>u.tier})),u.endsAt||u.renewsAt||(null===(n=u.gift)||void 0===n?void 0:n.isGift)||(s=tt.Paid)}return{subEndDate:a,gifterDisplayName:r||void 0,handleSubMenuAction:this.props.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,subType:s,primeSubRenewalDate:this.props.primeSubRenewalDate||void 0,tier:l||void 0,upsellProduct:o,isExtended:c,channelID:this.props.channel.id,userID:null===(i=this.props.sessionUser)||void 0===i?void 0:i.id}},t}(a.Component),at=Object(s.b)((function(e){return{subscriptionBenefit:e.subscriptionBenefit,handleSubMenuAction:e.handleSubMenuAction,subscriptionProducts:e.subscriptionProducts,primeSubRenewalDate:e.primeSubRenewalDate,channel:e.channel,sessionUser:e.sessionUser}}))(rt),ot=n("i70y");var st=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(ot.a,{buttonType:this.props.buttonType,channelDisplayName:Object(ue.a)(this.props.channel.login,this.props.channel.displayName),currentUserCanGift:this.props.canGift,giftingAnonymously:this.props.giftingAnonymously,isNonStandardSub:this.props.isNonStandardSub,onAnonymousGiftingSelect:this.props.onAnonymousGiftingSelect,onBack:this.props.onBack,onGiftSelect:this.props.onGiftSelect,onMysteryGiftSelect:this.props.onMysteryGiftSelect,wrapAnonymousGiftingSelect:this.props.wrapAnonymousGiftingSelect})},t}(a.Component),lt=Object(s.b)((function(e){return{canGift:e.canGiftInChannel,channel:e.channel,giftingAnonymously:e.giftingAnonymously,isNonStandardSub:e.isNonStandardSub,onAnonymousGiftingSelect:e.onAnonymousGiftingSelect}}))(st),ct=(n("V3kL"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.handleSubMenuAction,n=e.subscriptionProducts,i=a.createElement(o.b,{autoHide:!1,className:"subbed-top-page__scroll",suppressScrollX:!0},a.createElement(a.Fragment,null,a.createElement(ce.a,{handleSubMenuAction:t,product:n[0]}),Object(se.f)(se.a)&&a.createElement(h.a,{margin:1},a.createElement(le.a,null)),this.props.reduceCGFrictionExperiment?a.createElement(h.a,{margin:2},a.createElement(Ge,{onSingleGiftSelect:this.props.onGiftSelect})):a.createElement(lt,{onGiftSelect:this.props.onGiftSelect,onMysteryGiftSelect:this.props.onMysteryGiftSelect}),a.createElement(h.a,{margin:{x:2}},a.createElement(Fe.a,null)),a.createElement(at,{onAllPaidTiersSelect:this.props.onAllPaidTiersSelect}),a.createElement(h.a,{margin:{bottom:2}},a.createElement(fe,null))));return a.createElement(h.a,{className:"subbed-top-page"},i)},t}(a.Component));var ut=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(ct,{handleSubMenuAction:this.props.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,onGiftSelect:this.props.onGiftSelect,onMysteryGiftSelect:this.props.onMysteryGiftSelect,reduceCGFrictionExperiment:this.props.reduceCGFrictionExperiment,subscriptionProducts:this.props.subscriptionProducts})},t}(a.Component),dt=Object(s.b)((function(e){return{handleSubMenuAction:e.handleSubMenuAction,subscriptionProducts:e.subscriptionProducts}}))(ut);var pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(Ee,{canPrimeSubscribe:this.props.canPrimeSubscribe,channelID:this.props.channelID,channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,hasPrime:this.props.hasPrime,inPrimeRegion:this.props.inPrimeRegion,isNonStandardSub:this.props.isNonStandardSub,onGift:this.props.onGift,sessionUser:this.props.sessionUser,subscriptionProducts:this.props.subscriptionProducts,subBadges:this.props.subBadges,tenure:this.props.tenure})},t}(a.Component),mt=Object(s.b)((function(e){return{channelID:e.channel.id,handleSubMenuAction:e.handleSubMenuAction,hasPrime:e.hasPrime,isNonStandardSub:e.isNonStandardSub,sessionUser:e.sessionUser,subscriptionProducts:e.subscriptionProducts,subBadges:e.subBadges,tenure:e.tenure}}))(pt),ht=n("OEiS");var ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(ht.a,{giftingAnonymously:this.props.giftingAnonymously,handleSubMenuAction:this.props.handleSubMenuAction,onAnonymousGiftingSelect:this.props.onAnonymousGiftingSelect,onBack:this.props.onBack,subscriptionProducts:this.props.subscriptionProducts,channelID:this.props.channel.id})},t}(a.Component),bt=Object(s.b)((function(e){return{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,onAnonymousGiftingSelect:e.onAnonymousGiftingSelect,subscriptionProducts:e.subscriptionProducts,channel:e.channel}}))(ft),gt=n("Y5u1");var vt,yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(gt.a,{communityGiftRecs:this.props.communityGiftRecs,defaultBundleSize:this.props.defaultBundleSize,giftingAnonymously:this.props.giftingAnonymously,handleSubMenuAction:this.props.handleSubMenuAction,onAnonymousGiftingSelect:this.props.onAnonymousGiftingSelect,onBack:this.props.onBack,subscriptionProducts:this.props.subscriptionProducts,channelID:this.props.channelID})},t}(a.Component),St=Object(s.b)((function(e){return{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,onAnonymousGiftingSelect:e.onAnonymousGiftingSelect,subscriptionProducts:e.subscriptionProducts,channelID:e.channel.id}}))(yt);n("S2z6");!function(e){e[e.AllPaidTiers=0]="AllPaidTiers",e[e.CurrentSubscription=1]="CurrentSubscription",e[e.GiftOptions=2]="GiftOptions",e[e.GiftSelect=3]="GiftSelect",e[e.MysteryGiftSelect=4]="MysteryGiftSelect",e[e.UnsubbedTop=5]="UnsubbedTop",e[e.CommunityGiftSelect=6]="CommunityGiftSelect"}(vt||(vt={}));var kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={channelLogin:t.props.channelLogin,currentPage:t.props.defaultPage?t.props.defaultPage:t.props.isSubscribed?vt.CurrentSubscription:vt.UnsubbedTop},t.onGiftOptionsSelect=function(){t.props.handleSubMenuAction({action:T.a.ClickGiftSubOptions}),t.setState({currentPage:t.props.reduceCGFrictionExperiment?vt.CommunityGiftSelect:vt.GiftOptions})},t.onGiftSelect=function(){t.props.handleSubMenuAction({action:T.a.ClickSingleGift}),t.setState({currentPage:vt.GiftSelect})},t.onMysteryGiftSelect=function(){t.props.handleSubMenuAction({action:T.a.ClickCommunityGift}),t.setState({currentPage:vt.MysteryGiftSelect})},t.onAllPaidTiersSelect=function(){t.props.handleSubMenuAction({action:T.a.ClickMoreSubOptions}),t.setState({currentPage:vt.AllPaidTiers})},t.onBack=function(){var e=t.props,n=e.isSubscribed,i=e.handleSubMenuAction;if(n)t.setState({currentPage:vt.CurrentSubscription});else switch(t.state.currentPage){case vt.MysteryGiftSelect:t.setState({currentPage:vt.GiftOptions});break;case vt.GiftSelect:t.setState({currentPage:t.props.reduceCGFrictionExperiment?vt.CommunityGiftSelect:vt.GiftOptions});break;case vt.CommunityGiftSelect:default:t.setState({currentPage:vt.UnsubbedTop})}i({action:T.a.ClickBack})},t}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.channelLogin!==t.channelLogin?{channelLogin:e.channelLogin,currentPage:e.isSubscribed?vt.CurrentSubscription:vt.UnsubbedTop}:t},t.prototype.render=function(){var e;switch(this.state.currentPage){case vt.UnsubbedTop:return a.createElement(mt,{canPrimeSubscribe:this.props.canPrimeSubscribe,channelLogin:this.props.channelLogin,inPrimeRegion:this.props.inPrimeRegion,onGift:this.onGiftOptionsSelect});case vt.CurrentSubscription:return a.createElement(dt,{onAllPaidTiersSelect:this.onAllPaidTiersSelect,onGiftSelect:this.onGiftSelect,onMysteryGiftSelect:this.onMysteryGiftSelect,reduceCGFrictionExperiment:this.props.reduceCGFrictionExperiment});case vt.GiftOptions:e=a.createElement(h.a,{className:"sub-modal-top-page__gift-options",display:m.g.Flex,flexDirection:m.h.Column},a.createElement(o.b,{autoHide:!1,suppressScrollX:!0},a.createElement(h.a,null,a.createElement(lt,{onBack:this.onBack,onGiftSelect:this.onGiftSelect,onMysteryGiftSelect:this.onMysteryGiftSelect}),a.createElement(h.a,{margin:{bottom:2,top:1,x:2}},a.createElement(Fe.a,null)))));break;case vt.GiftSelect:e=a.createElement(h.a,{className:"sub-modal-top-page__gift-select",display:m.g.Flex,flexDirection:m.h.Column},a.createElement(o.b,{autoHide:!1,suppressScrollX:!0},a.createElement(h.a,null,a.createElement(bt,{onBack:this.onBack}),a.createElement(h.a,{margin:{bottom:2,x:2}},a.createElement(Fe.a,{compact:!0})))));break;case vt.MysteryGiftSelect:e=a.createElement(h.a,{className:"sub-modal-top-page__mystery-gift-select",display:m.g.Flex,flexDirection:m.h.Column},a.createElement(o.b,{autoHide:!1,suppressScrollX:!0},a.createElement(h.a,null,a.createElement(St,{onBack:this.onBack,communityGiftRecs:this.props.communityGiftRecs,defaultBundleSize:this.props.defaultCGBundleSize}))));break;case vt.AllPaidTiers:e=a.createElement(h.a,{className:"sub-modal-top-page__all-paid-tiers",display:m.g.Flex,flexDirection:m.h.Column},a.createElement(o.b,{autoHide:!1,suppressScrollX:!0},a.createElement(h.a,null,a.createElement(we,{channelLogin:this.props.channelLogin,onBack:this.onBack}))));break;case vt.CommunityGiftSelect:e=a.createElement(h.a,{className:"sub-modal-top-page__community-gift-select",display:m.g.Flex,flexDirection:m.h.Column},a.createElement(o.b,{autoHide:!1,suppressScrollX:!0},a.createElement(h.a,{margin:2},a.createElement(Ge,{onBack:this.onBack,onSingleGiftSelect:this.onGiftSelect}),a.createElement(h.a,{margin:{top:1,x:2}},a.createElement(Fe.a,null)))));break;default:return null}return e},t}(a.Component),Ct=Object(s.b)((function(e){return{handleSubMenuAction:e.handleSubMenuAction,subscriptionProducts:e.subscriptionProducts}}))(kt);n.d(t,"a",(function(){return vt})),n.d(t,"b",(function(){return Ct}))},xRjC:function(e,t,n){},yLMg:function(e,t,n){},yLwq:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var i=[{id:"profile_image_001",urlSlug:"bb97f7e6-f11a-4194-9708-52bf5a5125e8"},{id:"profile_image_002",urlSlug:"27103734-3cda-44d6-a384-f2ab71e4bb85"},{id:"profile_image_003",urlSlug:"49988c7b-57bc-4dee-bd4f-6df4ad215d3a"},{id:"profile_image_004",urlSlug:"0ecbb6c3-fecb-4016-8115-aa467b7c36ed"},{id:"profile_image_005",urlSlug:"cd618d3e-f14d-4960-b7cf-094231b04735"},{id:"profile_image_006",urlSlug:"4cbf10f1-bb9f-4f57-90e1-15bf06cfe6f5"},{id:"profile_image_007",urlSlug:"b83b1794-7df9-4878-916c-88c2ad2e4f9f"}],r=function(){return Math.floor(Math.random()*i.length)};function a(e,t){var n=70;return 300===t?n=300:96!==t&&80!==t||(n=150),"https://static-cdn.jtvnw.net/user-default-pictures/"+e.urlSlug+"-profile_image-"+n+"x"+n+".jpg"}function o(e,t){var n=parseInt(e,10)%i.length;return a(i[n],t)}},ybLH:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/MKj"),o=n("/7QA"),s=n("Uh2Q"),l=n("RiD7"),c=n("Ws8v"),u=n("yymn"),d=n("sUnt"),p=n("K+jS"),m=n("+80q"),h=n("dEDE"),f=(n("Dye3"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.learnMoreClick=function(){Object(l.o)({user_id:t.props.currentUserID||"",source:t.props.isSubscriptionPage?l.e.SubManagement:l.e.SubModalMain})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(!Object(s.f)(s.a))return null;var e=Object(o.d)("Streamer Love","CreatorLuvModalBanner"),t=Object(o.d)("Through {date}, give to the community and get exclusive emotes!",{date:Object(o.c)(Object(s.h)(s.a),{day:"numeric",month:"numeric"})},"CreatorLuvModalBanner");return r.createElement(c.a,{borderRadius:u.e.Large,className:"creater-luv-banner",display:u.g.Flex,flexDirection:u.h.Column},r.createElement(d.a,{textAlign:u.p.Left,justifyContent:u.l.Start,padding:{x:2,y:1}},r.createElement(p.a,{size:p.b.Small},e),r.createElement(m.a,{bold:!0,type:m.e.H5},t)),r.createElement(d.a,{padding:{bottom:2,right:2},justifyContent:u.l.End,display:u.g.Flex},r.createElement(h.a,{linkTo:Object(s.e)(),targetBlank:!0,onClick:this.learnMoreClick},Object(o.d)("Learn More","CreatorLuvModalBanner"))))},t}(r.Component));var b=Object(a.b)((function(e){return{currentUserID:e.session.user&&e.session.user.id||null}}))(f);n.d(t,"a",(function(){return b}))},zNDD:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("/7QA"),r=864e5;function a(e,t){if(!e)return"";var n=e instanceof Date?e:new Date(e),a=t&&t.relativeDateLimit||r,o=t&&t.displayFormat||"short";return Math.abs(n.getTime()-Date.now())<=a?Object(i.i)(n):Object(i.c)(n,o)}},zdTm:function(e,t,n){},zene:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("sUnt"),o=n("yymn"),s=(n("hKya"),"animated-background-transition"),l=s+"__toggled-content",c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={previousToggle:t.props.toggle,toggled:!1},t.ref=null,t.setRef=function(e){t.ref=e,t.ref&&t.ref.addEventListener("animationend",t.unToggle)},t.unToggle=function(){return t.setState({toggled:!1})},t}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return t.previousToggle===e.toggle?null:{previousToggle:e.toggle,toggled:!0}},t.prototype.componentWillUnmount=function(){this.ref&&this.ref.removeEventListener("animationend",this.unToggle)},t.prototype.render=function(){var e=this.props.toggle?l+"--show":l+"--hide";return this.state.toggled&&(e=this.props.toggle?l+"--fade-in":l+"--fade-out"),r.createElement(a.a,{className:s,position:o.n.Relative},r.createElement(a.a,{className:s+"__background",position:o.n.Absolute}),r.createElement(a.a,{className:e,position:o.n.Absolute,justifyContent:o.l.Center,refDelegate:this.setRef},this.props.toggledContent),r.createElement(a.a,{position:o.n.Absolute,fullWidth:!0,fullHeight:!0,display:o.g.Flex,justifyContent:o.l.Center},this.props.content))},t}(r.Component);n.d(t,"a",(function(){return c}))}}]);