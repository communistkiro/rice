(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"+cHD":function(e,t,n){"use strict";var i,r,a=n("mrSG"),o=n("TSYQ"),s=n("q1tI"),l=n("ANjH"),c=n("/7QA"),u=n("X2PJ"),d=n("yymn"),p=n("sUnt"),m=n("y0tB"),f=n("IbuL"),h=n("C7sF"),g=n("K+jS"),b=n("+80q"),v=n("zY44");n("IvOK");!function(e){e.Title="title",e.Count="Count",e.Fill="fill"}(i||(i={})),function(e){e.Default="choice-progress__fill--default",e.Winner="choice-progress__fill--winner"}(r||(r={}));var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animationTimer=null,t.animationComplete=function(){t.animationTimer=null,t.props.selfVoteAnimationComplete&&t.props.selfVoteAnimationComplete()},t.onChoiceProgressClick=function(e){e.stopPropagation()},t.onRadioButtonChange=function(){t.props.onClick&&t.props.onClick(t.props.choiceID)},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e={"choice-progress__fill":!0};this.props.success?e[r.Winner]=!0:e[r.Default]=!0;var t=this.props.amountTotal?this.props.amountVoted/this.props.amountTotal:0,n=100*t;return s.createElement(u.a,{className:"choice-progress",borderRadius:d.e.Large,overflow:d.m.Hidden},s.createElement("div",{onClick:this.onChoiceProgressClick,role:"progressbar","aria-valuenow":this.props.amountVoted,"aria-valuemin":0,"aria-valuemax":this.props.amountTotal,color:d.f.Base,className:"container"},s.createElement(u.a,{display:d.g.Block,borderRadius:{topLeft:d.e.Large,bottomLeft:d.e.Large},"data-test-selector":i.Fill,className:o(Object(a.__assign)({container__progress:!0,"container__progress--self-vote":this.props.showSelfVoteAnimation},e))},s.createElement("div",{style:{width:n+"%"}})),s.createElement(u.a,{display:d.g.Block,borderRadius:{topLeft:d.e.Large,bottomLeft:d.e.Large},className:o(Object(a.__assign)({"container__progress--background":!0},e))},s.createElement("div",{style:{width:n+"%"}})),s.createElement(u.a,{className:"container__info",display:d.g.Flex,flexDirection:d.h.Row,justifyContent:d.l.Between,alignItems:d.b.Center,borderRadius:{topLeft:d.e.Large,bottomLeft:d.e.Large}},s.createElement("label",{className:o({"choice-progress--selector":!!this.props.selectable&&!this.props.disabled})},s.createElement(p.a,{margin:{left:1},display:d.g.Flex,flexDirection:d.h.Row,alignItems:d.b.Center},this.props.selectable&&s.createElement(p.a,{margin:{right:.5}},s.createElement(m.a,{onChange:this.onRadioButtonChange,label:"",value:this.props.choiceID,checked:this.props.selected,disabled:this.props.disabled})),this.props.success&&s.createElement(p.a,{className:"choice-progress__icon",margin:{right:1},display:d.g.Flex},s.createElement(f.a,{asset:h.a.Trophy})),s.createElement(g.a,{"data-test-selector":i.Title,size:g.b.ExtraSmall},this.props.choiceTitle)),s.createElement(p.a,{margin:{right:1}},s.createElement(b.a,{"data-test-selector":i.Count,fontSize:d.j.Size6},Object(c.d)("{percent} ({votes})",{percent:Object(c.f)(t,"percent"),votes:s.createElement(v.a,{formatValue:function(e){return Object(c.f)(e)},value:this.props.amountVoted})},"ChoiceProgressControl")))))))},t.prototype.componentDidUpdate=function(e){!e.showSelfVoteAnimation&&this.props.showSelfVoteAnimation?this.animationTimer=setTimeout(this.animationComplete,1e3):e.showSelfVoteAnimation&&!this.props.showSelfVoteAnimation&&this.clearTimer()},t.prototype.clearTimer=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},t}(s.Component),S=Object(l.d)()(y);n.d(t,"a",(function(){return S}))},"/2Fp":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MysteryGiftGiver"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:75}};n.loc.source={body:"query MysteryGiftGiver($id: ID!) {\nuser(id: $id) {\nid\ndisplayName\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.MysteryGiftGiver=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"MysteryGiftGiver")},"0hI/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ReportUserModal_ReportUserData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"targetUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}},{kind:"Argument",name:{kind:"Name",value:"lookupType"},value:{kind:"EnumValue",value:"ALL"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blockedUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:176}};n.loc.source={body:"query ReportUserModal_ReportUserData($targetUserID: ID!) {\ntargetUser: user(id: $targetUserID lookupType: ALL) {\nid\nlogin\ndisplayName\n}\ncurrentUser {\nid\nblockedUsers {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ReportUserModal_ReportUserData=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ReportUserModal_ReportUserData")},"0iXB":function(e,t,n){},"26Wv":function(e,t,n){},"2rlx":function(e,t,n){"use strict";var i=n("pVnL"),r=n.n(i),a=n("o0o1"),o=n.n(a),s=n("yXPU"),l=n.n(s),c=n("lSNA"),u=n.n(c),d=n("VbXa"),p=n.n(d),m=n("q1tI"),f=n("fNzW"),h=n("hnjF"),g=n("yymn"),b=n("hCFK");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).refHandler=function(e){t.props.refDelegate&&t.props.refDelegate(e,t.props.id)},t.onExitComplete=function(){t.props.onExitComplete&&t.props.onExitComplete(t.props.id)},t.onTransformEnd=function(){t.props.onTransformEnd&&t.props.onTransformEnd(t.props.id)},t}return p()(t,e),t.prototype.render=function(){var e=this.props.transition.duration||b.b.Medium,t=!this.props.moveStyles&&!this.props.prepareForTransform,n={};return!1===this.props.transition.show&&void 0===this.props.exitStyles?n.position="absolute":!1===this.props.transition.show&&this.props.exitStyles?n=this.props.exitStyles:this.props.moveStyles&&(n=this.props.moveStyles),m.createElement(b.a,{key:this.props.id,show:!!this.props.transition.show,type:this.props.transition.type||b.c.ScaleOver,transitionInitialMount:!!this.props.transition.transitionInitialMount,duration:e,onExitComplete:this.onExitComplete,injectChild:!0},m.createElement("div",{key:this.props.id,ref:this.refHandler,style:y({},n,{transitionProperty:t?"transform, opacity":"opacity",transitionTimingFunction:"ease"}),onTransitionEnd:this.onTransformEnd},this.props.child))},t}(m.Component);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}S.displayName="TransitionGroupItem",n.d(t,"a",(function(){return C}));var C=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).state={childMap:{},initialRenderComplete:!1},t.containerRef=void 0,t.childRefMap={},t.currentlyTransitioningKeys=[],t.setContainerRef=function(e){t.containerRef=e},t.setItemRef=function(e,n){e&&(t.childRefMap[n]=e)},t.onTransformEnd=function(e){t.currentlyTransitioningKeys=t.currentlyTransitioningKeys.filter((function(t){return t!==e}))},t.deleteChild=function(e){e in t.state.childMap&&(delete t.childRefMap[e],t.setState((function(t){var n=E({},t.childMap);return delete n[e],{childMap:n}})))},t.measureItems=function(e){var n={};return e.filter((function(e){return e in t.childRefMap})).forEach((function(e){e in n||(n[e]=t.childRefMap[e].getBoundingClientRect())})),n},t.setTransforms=function(){var e=l()(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.setState((function(e){var i=E({},e.childMap),r=n.moved,a=n.exited,o=n.container,s=r,l=t.measureItems(Object.keys(r));return Object.keys(s).forEach((function(e){var t=s[e].left-l[e].left,n=s[e].top-l[e].top;i[e].moveStyles={transform:"translate3d("+t+"px, "+n+"px,0)"},i[e].prepareForTransform=!1})),Object.keys(a).forEach((function(e){var t=a[e],n=t.left-(o?o.left:0),r=t.top-(o?o.top:0);i[e].exitStyles={top:r+"px",left:n+"px",position:"absolute",width:t.width+"px",height:t.height+"px"}})),{childMap:i}}),e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.clearMoveStyles=function(e){t.setState((function(t){var n=E({},t.childMap);return e.forEach((function(e){return n[e].moveStyles=void 0})),{childMap:n}}))},t.ensureLayoutReflow=function(){var e=t.childRefMap[Object.keys(t.childRefMap)[0]];e&&e.scrollTop},t}p()(t,e),t.getDerivedStateFromProps=function(e,t){var n,i,r=t.childMap,a=(n=e.children,i={},m.Children.map(n,(function(e){return e})).forEach((function(e){if(null!==e.key){var t={id:e.key,transition:{show:!0},child:e};i[e.key]=t}})),i);if(!t.initialRenderComplete)return{childMap:a,initialRenderComplete:!0};var o=function(e,t){var n=Object.keys(e).filter((function(t){return!0===e[t].transition.show}));return Object.keys(t).filter((function(t,i){return n[i]!==t&&t in e}))}(r,a),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),a=[];for(var o in e)o in t?a.length&&(r[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(r[l])for(i=0;i<r[l].length;i++){var c=r[l][i];s[r[l][i]]=n(c)}s[l]=n(l)}for(i=0;i<a.length;i++)s[a[i]]=n(a[i]);return s}(r,a);return Object.keys(s).forEach((function(e){var t=e in r,n=e in a,i=o.includes(e);t&&(s[e].moveStyles=r[e].moveStyles,s[e].exitStyles=r[e].exitStyles,s[e].transition=r[e].transition),s[e].prepareForTransform=i,n&&!t?(s[e].transition.show=!0,s[e].transition.transitionInitialMount=!0):!n&&t?s[e].transition.show=!1:n&&t&&!1===s[e].transition.show&&(s[e].transition.show=!0,s[e].exitStyles=void 0)})),{childMap:s}};var n=t.prototype;return n.getSnapshotBeforeUpdate=function(){var e=this.state.childMap,t=Object.keys(e).filter((function(t){return!0===e[t].prepareForTransform})),n=Object.keys(e).filter((function(t){return!1===e[t].transition.show&&!e[t].exitStyles}));return 0===t.length&&0===n.length?null:{moved:this.measureItems([].concat(t,this.currentlyTransitioningKeys)),exited:this.measureItems(n),container:n.length&&this.containerRef?this.containerRef.getBoundingClientRect():void 0}},n.componentDidUpdate=function(e,t,n){var i=this;if(n&&0!==Object.keys(n).length){var r=Object.keys(n.moved);this.setTransforms(n).then((function(){r&&(i.ensureLayoutReflow(),i.clearMoveStyles(r),i.currentlyTransitioningKeys=r.filter((function(e){return!(e in n.exited)})))}))}},n.render=function(){var e=this;if(!this.state.childMap)return null;var t=Object.keys(this.state.childMap).map((function(t){var n=e.state.childMap[t];return m.createElement(S,r()({},n,{key:t,transition:E({},n.transition,{duration:e.props.duration,type:e.props.transitionType}),refDelegate:e.setItemRef,onExitComplete:e.deleteChild,onTransformEnd:e.onTransformEnd}))}));return m.createElement(h.a,{position:g.n.Relative},m.createElement("div",{className:Object(f.a)(this.props.className,"tw-transition-group"),ref:this.setContainerRef},this.props.component?m.cloneElement(this.props.component,void 0,t):t))},t}(m.Component);C.displayName="TransitionGroup"},"3CMh":function(e,t,n){"use strict";var i,r=n("TSYQ"),a=n("q1tI"),o=n("ANjH"),s=n("/7QA"),l=n("bBAb"),c=n("5zXJ"),u=n("XmgI"),d=n("4h+t"),p=n("x1M1"),m=n("yymn"),f=n("hnjF");n("0iXB");!function(e){e[e.Large=4]="Large",e[e.Medium=3]="Medium",e[e.Small=2]="Small",e[e.ExtraSmall=1.5]="ExtraSmall",e[e.ExtremelySmall=1]="ExtremelySmall"}(i||(i={}));var h=Object(o.d)(Object(l.b)((function(e){return{bitsConfig:e.bitsConfig}})))((function(e){var t,n=e.bitsConfig&&e.bitsConfig.indexedActions[e.prefix.toLowerCase()];n||(n=Object(d.b)("Cheer"));var o=e.amount||c.l,l=n.orderedTiers.find((function(e){return e.bits<=o}));l||(l=n.orderedTiers[0]);var h=null===(t=e.bitsConfig)||void 0===t?void 0:t.tiers.find((function(e){return e.bits<=o}));h||(h=e.bitsConfig.tiers[0]);var g=e.display===m.g.Inline||e.display===m.g.InlineFlex||e.display===m.g.InlineBlock,b=null,v=r("cheermote-for-amount__cheer-amount",{"cheermote-for-amount__display--table-cell":!g},{"cheermote-for-amount__cheer-amount--medium":e.size===i.Medium},{"cheermote-for-amount__cheer-amount--small":e.size===i.Small||e.size===i.ExtraSmall},{"cheermote-for-amount__cheer-amount--extremely-small":e.size===i.ExtremelySmall});if(void 0!==e.amount&&e.showAmount){var y=e.formattedNumber?Object(s.f)(e.amount):e.amount;b=a.createElement(f.a,{padding:e.size===i.Small?0:void 0,textAlign:e.size===i.Small?m.p.Center:void 0},a.createElement("strong",{className:v,style:{color:h.color}},y))}var S=r("cheermote-for-amount__cheer-image",{"cheermote-for-amount__display--table-cell":!g},{"cheermote-for-amount__cheer--inline":g},{"cheermote-for-amount__cheer-image--small":e.size===i.Small},{"cheermote-for-amount__cheer-image--extra-small":e.size===i.ExtraSmall},{"cheermote-for-amount__cheer-image--extremely-small":e.size===i.ExtremelySmall}),k=a.createElement(p.a,{className:S,sources:Object(u.d)(n,l.bits,e.size||i.Large,e.animated)});return e.showImage||(k=null),a.createElement(f.a,{className:"cheermote-for-amount",alignItems:e.alignItems,display:e.display},a.createElement("span",null,k,b))}));n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return h}))},"3Law":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("kV5U"),s=n("fNzW"),l=n("vCsY"),c=n("1H2c"),u=n("hnjF"),d=n("yymn"),p=n("C7sF"),m=n("3aAs"),f=function(e){var t,n="tw-"+Object(c.a)();return e.tabIndex&&(t=e.tabIndex),a.createElement("div",r()({className:Object(s.a)("tw-search-input")},Object(l.a)(e)),a.createElement(u.a,{display:d.g.HideAccessible},a.createElement("label",{htmlFor:e.id?e.id:n},"Search")),a.createElement(m.a,r()({},Object(o.a)(e),{autoCapitalize:e.autoCapitalize,autoFocus:e.autoFocus,autoComplete:e.autoComplete||"off",disabled:e.disabled,error:e.error,icon:p.a.NavSearch,id:e.id?e.id:n,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,placeholder:e.placeholder,refDelegate:e.refDelegate,spellCheck:e.spellCheck,tabIndex:t,size:e.size,type:m.c.Search,value:e.value,overlay:e.overlay})))};f.displayName="SearchInput",f.displayName="SearchInput"},"4FF5":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetHypeTrainExecution"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"userLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hypeTrain"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"execution"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainExecution"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:220}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-execution.gql"\nquery GetHypeTrainExecution($userLogin: String!) {\nuser(login: $userLogin) {\nid\nchannel {\nid\nhypeTrain {\nexecution {\n...hypeTrainExecution\n}\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("vYXc").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.GetHypeTrainExecution=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"GetHypeTrainExecution")},"4qQ0":function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.BitsViolation="bits_violation",e.ChatBanEvasion="chat_ban_evasion",e.Cheating="cheating",e.Gore="gore",e.Harassment="harassment",e.Harm="harm",e.HatefulConduct="hateful_conduct",e.Impersonation="impersonation",e.Miscategorized="miscategorized",e.OffensiveUsername="offensive_username",e.Other="other",e.Porn="porn",e.Prohibited="prohibited",e.SelfHarm="selfharm",e.SexualContent="sexual_content",e.SexualViolence="sexual_violence",e.Spam="spam",e.TerrorismMassViolence="terrorism_mass_violence",e.TosBanEvasion="tos_ban_evasion",e.Underaged="underaged"}(i||(i={})),function(e){e[e.Unsubmitted=0]="Unsubmitted",e[e.Success=1]="Success",e[e.FormError=2]="FormError",e[e.MutationError=3]="MutationError",e[e.UserError=4]="UserError"}(r||(r={}))},"6/xl":function(e,t,n){"use strict";var i=n("q1tI"),r=n("f00E"),a=n("sUnt"),o=n("uG/k"),s=function(e){var t=e.emoteID,n=e.emoteToken,s=e.quantity,l=i.useMemo((function(){return new Array(s).fill(0).map((function(){return i.createElement(a.a,{padding:{x:.5},key:Object(r.b)()},i.createElement(o.a,{alt:n,src:"https://static-cdn.jtvnw.net/emoticons/v1/"+t+"/1.0"}))}))}),[t,n,s]);return i.createElement(i.Fragment,null,l)};n.d(t,"e",(function(){return"pogchamp"})),n.d(t,"d",(function(){return 88})),n.d(t,"c",(function(){return"notlikethis"})),n.d(t,"b",(function(){return 58765})),n.d(t,"a",(function(){return s}))},"66/j":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("DMoW");function r(e){return{id:e.id,setID:e.setID,version:e.version,title:e.title,image1x:e.image1x,image2x:e.image2x,image4x:e.image4x,clickAction:i.m.SUBSCRIBE,clickURL:e.clickURL||""}}var a="324"},"6TSi":function(e,t){},"72SC":function(e,t,n){},"7qJZ":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s}));var i=n("ll/k"),r="raid_update_v2",a="raid_cancel_v2",o="raid_go_v2",s=function(){function e(e,t,n){this.message=e,this.id=e.raid.id,this.type=e.type,this.creatorID=e.raid.creator_id,this.sourceChannelID=e.raid.source_id,this.targetChannelID=e.raid.target_id,this.viewerCount=e.raid.viewer_count,this.remainingDurationSeconds=e.raid.remaining_duration_seconds,this.targetLogin=e.raid.target_login,this.targetDisplayName=e.raid.target_display_name,this.targetProfileImage=e.raid.target_profile_image,this.storage=t,this.hasJoined=t.hasJoined(this),this.isExpired=t.isExpired(this),this.isAnnouncing=e.type===r,this.isGoing=Boolean(n&&n.isAnnouncing)&&e.type===o,this.hasEnded=e.type===o||e.type===a,n&&n.hasEnded&&(this.isAnnouncing=!1,this.isGoing=n.isGoing,this.hasEnded=!0),this.isGoing&&n&&!n.isGoing?this.jitterSeconds=Object(i.a)(e.raid.transition_jitter_seconds):this.jitterSeconds=n&&n.jitterSeconds||0}return e.prototype.withMessage=function(t){return this.id!==t.raid.id?new e(t,this.storage):new e(t,this.storage,this)},e.prototype.withStorage=function(t){return new e(this.message,t,this)},e}()},"80LI":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainDifficultySetting"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainDifficultySettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"difficulty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"levels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainLevel"},directives:[]}]}}]}}],loc:{start:0,end:178}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-level.gql"\nfragment hypeTrainDifficultySetting on HypeTrainDifficultySettings {\ndifficulty\nlevels {\n...hypeTrainLevel\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("QC++").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},"8EUQ":function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"SUB_CHECKOUT__PRODUCT_KEY",(function(){return o})),n.d(i,"SUB_CHECKOUT__RECIPIENT_KEY",(function(){return s})),n.d(i,"SUB_CHECKOUT__MYSTERY_GIFT_COUNT",(function(){return l})),n.d(i,"SUB_CHECKOUT__GIFTING_ANONYMOUSLY",(function(){return c})),n.d(i,"SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",(function(){return u})),n.d(i,"clearSubscriptionCheckoutKeys",(function(){return p})),n.d(i,"showLoginModalWithCheckoutDispatch",(function(){return m}));var r=n("/7QA"),a=n("y5D0"),o="SUB_CHECKOUT__PRODUCT",s="SUB_CHECKOUT__RECIPIENT",l="SUB_CHECKOUT__MYSTERY_GIFT_COUNT",c="SUB_CHECKOUT__GIFTING_ANONYMOUSLY",u="SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",d=[o,s,l,c,u];function p(){d.forEach((function(e){return r.n.remove(e)}))}function m(e){return function(){return Object(a.e)(e,{onClose:p})}}n.d(t,"a",(function(){return i}))},"8R12":function(e,t,n){},"8jAs":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DropsHighlightService_ClaimDropRewards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ClaimDropRewardsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"claimDropRewards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserAccountConnected"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:149}};n.loc.source={body:"mutation DropsHighlightService_ClaimDropRewards($input: ClaimDropRewardsInput!) {\nclaimDropRewards(input: $input) {\nstatus\nisUserAccountConnected\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.DropsHighlightService_ClaimDropRewards=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"DropsHighlightService_ClaimDropRewards")},"9ABA":function(e,t,n){"use strict";var i=n("q1tI"),r=n("/7QA"),a=n("fQWD"),o=n("66/j"),s=n("sUnt"),l=n("yymn"),c=n("Z2sP"),u=n("X2PJ"),d=n("+80q"),p=n("SL++"),m=(n("Aea7"),3),f=function(e){var t=e.cumulativeTenure,n=e.expired,f=e.sortedSubBadges;if(0===f.length)return null;var g=f.findIndex((function(e){return parseInt(e.version,10)>t.months})),b=f[-1===g?f.length-1:g-1],v=f[g];if(!b)return null;var y=m;return v&&(y+=h(t,b.version,v.version)||0),v?i.createElement(s.a,{className:"sub-badge-progress",display:l.g.Flex,justifyContent:l.l.Center},i.createElement(p.a,{badge:b,className:"sub-badge-progress__current-badge"}),i.createElement(s.a,{className:"sub-badge-progress__progress-bar"+(n?"--expired":""),flexGrow:1,margin:{x:.5},padding:{top:2}},i.createElement(c.a,{borderRadius:l.e.Large,mask:!0,size:c.c.Small,value:y})),i.createElement(p.a,{badge:v,className:"sub-badge-progress__next-badge"})):i.createElement(i.Fragment,null,i.createElement(s.a,{className:"sub-badge-progress",display:l.g.Flex,flexWrap:l.i.Wrap,justifyContent:l.l.Center,padding:{x:2}},f.map((function(e){return i.createElement(s.a,{key:"sub-badge-progress-"+e.id,flexShrink:0,margin:.5},i.createElement(a.a,{badge:Object(o.b)(e),large:!0}))}))),i.createElement(u.a,{textAlign:l.p.Center},i.createElement(d.a,{className:"sub-badge-progress__all-badges--text",fontSize:l.j.Size7},Object(r.d)("Congrats! You've unlocked all Sub Badges.","SubBadgeProgress"))))};function h(e,t,n){var i=e.daysRemaining,r=e.months,a=(new Date).getTime(),o=new Date(a+24*i*60*60*1e3);o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0);var s=new Date(o.getTime());s.setMonth(o.getMonth()-1);var l=o.getTime(),c=s.getTime(),u=l-c,d=a-c;if(0===u)return null;var p=parseInt(t,10),f=0===p?1:p,h=parseInt(n,10)-f;if(h<=0)return null;var g=(r-f+d/u)/h;return Math.min(Math.max(g,0),1)*(100-m)}n.d(t,"a",(function(){return 96})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h}))},"9kXc":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("/7QA"),r=n("yLwq"),a=n("kduP"),o=n("2xye"),s=n("sLmD");function l(e){var t,n,s,l,d=e.append,p=void 0!==d&&d,m=e.searchResults,f=e.currentGameResults,h=e.currentUserResults,g=e.currentVideoResults,b=e.currentLiveResults;if(m.games&&(t={totalHits:m.games.totalHits,results:p&&f?f.results:[]},p&&m.exhaustedHits&&f&&!m.games.totalHits&&(t.totalHits=f.totalHits),t.results=t.results.concat(m.games.hits.map((function(e,t){var n,r=i.p.intl.getLanguageCode();n=r&&void 0!==e.localizations&&r in e.localizations?e.localizations[r]:e.name;var s=u(e.tags);return{title:n,thumbnailAltText:e.name,linkTo:{pathname:Object(a.a)(e.name),state:{content:o.PageviewContent.Game,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,popularity:e.popularity,tags:s}})))),m.videos){var v=p&&g?g.results:[],y=m.videos.totalHits;p&&m.exhaustedHits&&g&&!m.videos.totalHits&&(y=g.totalHits),s=function(e,t,n){return{results:e.concat(t.hits.map(c)),totalHits:t.totalHits||n}}(v,m.videos,y)}return m.users&&(n={totalHits:p&&h?h.totalHits:m.users.totalHits,results:p&&h?h.results:[]},p&&m.exhaustedHits&&h&&!m.users.totalHits&&(n.totalHits=h.totalHits),n.results=n.results.concat(m.users.hits.map((function(e,t){return{login:e.login,name:e.name,thumbnail:e.profile_image||Object(r.c)(e.objectID,64),thumbnailAltText:e.name,linkTo:{pathname:"/"+e.login,state:{content:o.PageviewContent.User,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,followers:e.followers}})))),m.channels&&((l={totalHits:p&&b?b.totalHits:m.channels.totalHits,results:p&&b?b.results:[]}).results=l.results.concat(m.channels.hits.map((function(e,t){var n=u(e.graffiti);return{viewerCount:e.channel_count,login:e.login,name:e.name,thumbnailAltText:e.status,linkTo:{pathname:"/"+e.login,state:{content:o.PageviewContent.Live,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,status:e.status,tags:n}})))),{currentGameResults:t,currentUserResults:n,currentLiveResults:l,currentVideoResults:s,exhaustedHits:m.exhaustedHits}}function c(e,t){return{title:e.title,thumbnail:e.thumbnail,thumbnailAltText:e.title,linkTo:{pathname:"/videos/"+e.objectID,state:{content:o.PageviewContent.Video,content_index:t,medium:o.PageviewMedium.NavSearch}},login:e.broadcaster_login,name:e.broadcaster_name,createdAt:e.created_at,length:e.length,id:e.objectID}}function u(e){if(e)return e.map((function(e){var t,n=Object(s.a)();return t=n&&void 0!==e.localizations&&n in e.localizations?e.localizations[n]:e.name,{id:e.id,isLanguageTag:e.name.includes("auto___lang"),localizedName:t,tagName:e.name}}))}},AFv4:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("vCsY"),s=n("sUnt"),l=n("yymn"),c=function(e){return a.createElement(s.a,r()({className:"tw-card-body",overflow:e.overflow,position:l.n.Relative},Object(o.a)(e)),e.children)};c.displayName="CardBody",c.displayName="CardBody"},AXRb:function(e,t,n){"use strict";var i=n("mrSG"),r=n("w09P"),a=n("q1tI"),o=n("ANjH"),s=n("/7QA"),l=n("yR8l"),c=n("3Bft"),u=n("geRD"),d=n("DMoW"),p=n("2xye"),m=n("GnwI"),f=n("br9A"),h=n("O4UZ"),g=n("Ws8v"),b=n("yymn"),v=n("+80q"),y=n("sUnt"),S=n("7uM4"),k=n("C7sF"),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=Object(h.f)(this.props.errorType);return a.createElement(g.a,{background:b.d.Alt2,display:b.g.Flex,justifyContent:b.l.Center,padding:{y:1},margin:{bottom:1},textAlign:b.p.Center,"data-test-selector":this.props.testTarget,"data-a-target":this.props.testTarget},a.createElement(v.a,{type:v.e.H4,align:b.q.Middle},a.createElement(g.a,{padding:1,display:b.g.InlineFlex,flexGrow:1,flexWrap:b.i.NoWrap,alignItems:b.b.Center,textAlign:b.p.Left,fontSize:this.props.fontSize?this.props.fontSize:b.j.Size5,"data-a-target":"prime-error-glitch"},a.createElement(y.a,{margin:{right:1},display:b.g.InlineFlex,flexGrow:1,flexWrap:b.i.NoWrap,alignItems:b.b.Center},a.createElement(S.a,{asset:k.a.DeadGlitch,type:S.b.Alert,width:20,height:20})),a.createElement(v.a,{type:v.e.P},e))))},t}(a.Component),C=Object(m.withLatencyTracking)("PrimeError",{autoReportInteractive:!0})(E),_=n("Rjl4"),O=n("dEDE"),T=n("vCsY"),w=n("PL8s"),x=n("D/KL"),D=n("JRpg");n.d(t,"a",(function(){return N}));var j="subscribe-button__prime-subscribe",I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isSubscribing:!1,primeSubFailure:!1,error:void 0},t.referralID=Object(_.e)(),t.handleStartPrimeTrialClick=function(){t.props.handleSubMenuAction({action:f.a.ClickSignupForPrime}),Object(_.w)({tp_refcode:t.referralID,content:p.PageviewContent.ChannelSubscribeButton,medium:p.PageviewMedium.Channel,tp_campaign:_.b.TrackingAlpha})},t.getErrorType=function(){return t.state.error||h.b.UNABLE_TO_SPEND},t.spendPrimeCredit=function(){t.setState({isSubscribing:!0});var e=t.props,n=e.data;if(t.isUserDataReady(e)&&n.currentUser&&n.currentUser.id&&n.user&&n.user.id){var a=n.user.id,o=n.currentUser.id,s=Object(u.a)({broadcasterID:a,userID:o});t.props.handleSubMenuAction({action:f.a.SubWithPrime}),t.props.spendPrimeSubscriptionCredit(s).then((function(e){var n=e.data&&e.data.spendSubscriptionCredit&&e.data.spendSubscriptionCredit.error;if(n){var a=h.b[n.code];t.setState({isSubscribing:!1,primeSubFailure:!0,error:a||h.b.UNABLE_TO_SPEND})}else t.setState({isSubscribing:!1,primeSubFailure:!1,error:void 0}),Object(u.i)(D,{login:t.props.channelLogin},(function(e){var t=e.user;return t&&t.self&&t.id?r(e,(function(e){return e.user.self}),(function(e){var n=e.subscriptionBenefit||{__typename:"SubscriptionBenefit",id:t.id,purchasedWithPrime:!0,tier:c.a.Prime,platform:d.md.WEB,gift:{__typename:"SubscriptionGift",isGift:!1,gifter:null},renewsAt:null,endsAt:null,paidUpgrade:null};return Object(i.__assign)(Object(i.__assign)({},e),{canPrimeSubscribe:!1,subscriptionBenefit:n})})):e}))})).catch((function(){t.setState({isSubscribing:!1,primeSubFailure:!0,error:h.b.UNABLE_TO_SPEND})}))}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.data.loading&&!this.props.data.error||this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.props.data.loading&&!this.props.data.error||this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){if(this.state.isSubscribing)return a.createElement(O.a,Object(i.__assign)({"data-test-selector":j,disabled:this.state.isSubscribing,icon:k.a.Crown,state:O.c.Loading},Object(T.a)(this.props)));if(this.state.primeSubFailure){var e=this.getErrorType();return a.createElement(C,{fontSize:b.j.Size6,testTarget:"prime-sub-error",errorType:e})}if(!this.isUserDataReady(this.props))return a.createElement(w.a,{width:82,height:30});var t=this.canPrimeSubscribe(this.props),n=this.canResub(this.props),r=this.willPrimeSubCreditRenew(),o=this.primeSubCreditRenewalDate();if(!this.props.data.currentUser||!this.props.data.currentUser.hasPrime){var l=Object(s.d)("Start Your Free Trial","PrimeSubscribe");return a.createElement(O.a,Object(i.__assign)({ariaLabel:l,"data-test-selector":j,icon:k.a.Crown,linkTo:Object(_.d)(s.a.tryPrimeURI,this.referralID),onClick:this.handleStartPrimeTrialClick},Object(T.a)(this.props),{targetBlank:!0}),l)}if(this.isSubscribed(this.props)&&!n){var c=Object(s.d)("Subscribed","PrimeSubscribe");return a.createElement(O.a,Object(i.__assign)({ariaLabel:c,"data-a-target":"subscribe-with-prime-button","data-test-selector":j,disabled:!0,icon:k.a.Crown},Object(T.a)(this.props)),c)}var u=Object(s.d)("Subscribe Free","PrimeSubscribe");if(!t){var d=r&&o&&Object(s.c)(new Date(o),{month:"long",day:"numeric"}),p=d&&Object(s.d)("Prime Subscription available {availableDate}",{availableDate:d},"PrimeSubscribe");return a.createElement(y.a,{display:b.g.Flex,flexWrap:b.i.NoWrap,alignItems:b.b.Center},p&&a.createElement(y.a,{margin:{right:2},breakpointLarge:{margin:{right:1}}},a.createElement(v.a,{color:b.f.Alt2,bold:!0,align:b.q.Middle},p)),a.createElement(O.a,Object(i.__assign)({ariaLabel:u,"data-test-selector":j,disabled:!0,icon:k.a.Crown},Object(T.a)(this.props)),u))}var m=n?Object(s.d)("Resubscribe Free","PrimeSubscribe"):u;return a.createElement(O.a,Object(i.__assign)({ariaLabel:m,"data-test-selector":j,"data-a-target":"subscribe-with-prime-button",disabled:this.state.isSubscribing,icon:k.a.Crown,state:this.state.isSubscribing?O.c.Loading:O.c.Default,onClick:this.spendPrimeCredit},Object(T.a)(this.props)),m)},t.prototype.isUserDataReady=function(e){return e.data&&e.data.user&&!e.data.loading&&!e.data.error},t.prototype.canPrimeSubscribe=function(e){return e.data&&e.data.user&&e.data.user.self&&e.data.user.self.canPrimeSubscribe},Object.defineProperty(t.prototype,"primeSubCreditBenefit",{get:function(){return this.props.data&&this.props.data.user&&this.props.data.user.self&&this.props.data.user.self.primeSubCreditBenefit},enumerable:!0,configurable:!0}),t.prototype.willPrimeSubCreditRenew=function(){return this.primeSubCreditBenefit&&this.primeSubCreditBenefit.willRenew},t.prototype.primeSubCreditRenewalDate=function(){return this.primeSubCreditBenefit&&this.primeSubCreditBenefit.renewalDate},t.prototype.canResub=function(e){return e.data&&e.data.user&&e.data.user.self&&e.data.user.self.subscriptionBenefit&&e.data.user.self.subscriptionBenefit.purchasedWithPrime&&this.canPrimeSubscribe(this.props)},t.prototype.isSubscribed=function(e){var t=e.data,n=t&&t.user,i=n&&n.self;return i&&i.subscriptionBenefit},t}(a.Component),N=Object(o.d)(Object(m.withLatencyTracking)("PrimeSubscribe"),Object(l.a)(D,{options:function(e){return{variables:{login:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(l.a)(x,{name:"spendPrimeSubscriptionCredit"}))(I)},Aea7:function(e,t,n){},Aiem:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainParticipationConversionRate"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainParticipationConversionRate"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}],loc:{start:0,end:109}};n.loc.source={body:"fragment hypeTrainParticipationConversionRate on HypeTrainParticipationConversionRate {\naction\nsource\nvalue\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"B/q4":function(e,t,n){"use strict";var i=n("q1tI"),r=n("4rCz"),a=n("sUnt"),o=n("Ws8v"),s=n("yymn"),l=(n("wQB+"),function(e){var t=e.topCommunityPointsContributor;if(!t)return null;var n=t.user&&t.user.displayName||"",l=t.communityPointsAmount;return n&&l?i.createElement(a.a,{margin:{top:1}},i.createElement(o.a,{borderRadius:s.e.Rounded,className:"top-poll-community-points-contributor",padding:{x:1,y:.5},display:s.g.InlineBlock},Object(r.d)("{communityPoints, plural, one {{username} contributed {pointsString} Channel Point!} other {{username} contributed {pointsString} Channel Points!}}",{username:n,communityPoints:l,pointsString:Object(r.f)(l)},"Polls--TopPollCommunityPointsContributor"))):null});n.d(t,"a",(function(){return l}))},BSTw:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Algolia_RequestInfo"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:57}};n.loc.source={body:"query Algolia_RequestInfo {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Algolia_RequestInfo=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"Algolia_RequestInfo")},BhFH:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),r=n("w09P"),a=n("yR8l"),o=n("ru7j"),s=n("kSkr");function l(){return Object(a.b)(s,{props:function(e){return{blockUserMutation:function(t,n,a){return e.mutate({variables:{input:{targetUserID:t,sourceContext:a,reason:n}},optimisticResponse:{blockUser:{__typename:"BlockUserPayload",targetUser:{__typename:"User",id:t}}},update:function(e){var n=null;try{n=e.readQuery({query:o})}catch(e){return}(null==n?void 0:n.currentUser)&&e.writeQuery({query:o,data:r(n,(function(e){return e.currentUser.blockedUsers}),(function(e){return Object(i.__spreadArrays)(e,[{id:t,__typename:"User"}])}))})}})}}}})}},BmOg:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.DropAvailable="drop-available",e.DropClaim="drop-claim",e.Raid="raid",e.Megacheer="megacheer",e.ChannelPoll="poll",e.MysterySubGift="community_sub_gift",e.HypeTrain="hype_train"}(i||(i={}))},CGUg:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("fNzW"),s=n("vCsY"),l=n("Ws8v"),c=n("yymn"),u=(n("rljb"),function(e){return a.createElement(l.a,r()({className:Object(o.a)({"tw-typeset":!0}),fontSize:e.baseFontSize||c.j.Size5},Object(s.a)(e)),e.children)});u.displayName="Typeset",u.displayName="Typeset"},"Cak+":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HypeTrain_GetUserInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}}]}}],loc:{start:0,end:115}};n.loc.source={body:"query HypeTrain_GetUserInfo($userID: ID!) {\nuser(id: $userID) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 50)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.HypeTrain_GetUserInfo=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"HypeTrain_GetUserInfo")},CkPG:function(e,t,n){},"D/Iv":function(e,t,n){},"D/KL":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PrimeSubscribe_SpendPrimeSubscriptionCredit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SpendSubscriptionCreditInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"spendSubscriptionCredit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:227}};n.loc.source={body:"mutation PrimeSubscribe_SpendPrimeSubscriptionCredit($input: SpendSubscriptionCreditInput!) {\nspendSubscriptionCredit(input: $input) {\nuserID\nsubscriptionBenefit {\nid\npurchasedWithPrime\ntier\nplatform\nendsAt\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PrimeSubscribe_SpendPrimeSubscriptionCredit=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"PrimeSubscribe_SpendPrimeSubscriptionCredit")},DQBF:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return l}));var i,r,a=n("/7QA"),o=n("2xye"),s="hype-train";function l(e){var t={server_time:e.serverTime,channel_id:e.channelID,user_id:e.userID,train_id:e.trainID,action_name:e.action,action_type:e.actionType};a.o.track(o.SpadeEventType.HypeTrainCardInteraction,t)}!function(e){e.Expand="expand",e.Hide="hide",e.MoreInfo="moreinfo",e.LeaderName="leadername"}(i||(i={})),function(e){e.Click="click"}(r||(r={}))},Dbw4:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("Uh2Q"),s=n("8EUQ"),l=n("azJ+"),c=n("zene"),u=n("HaqC"),d=n("br9A"),p=n("sUnt"),m=n("yymn"),f=n("K+jS"),h=n("uG/k"),g=n("X2PJ"),b=n("dEDE"),v=(n("EYib"),n("5zXJ"));function y(e,t){return t?function(e){return e>=100?{"1x":v.g+"/creator-luv/subscriptions/100-gifts-1x.png","2x":v.g+"/creator-luv/subscriptions/100-gifts-2x.png","4x":v.g+"/creator-luv/subscriptions/100-gifts-4x.png"}:e>=50?{"1x":v.g+"/creator-luv/subscriptions/50-gifts-1x.png","2x":v.g+"/creator-luv/subscriptions/50-gifts-2x.png","4x":v.g+"/creator-luv/subscriptions/50-gifts-4x.png"}:e>=20?{"1x":v.g+"/creator-luv/subscriptions/20-gifts-1x.png","2x":v.g+"/creator-luv/subscriptions/20-gifts-2x.png","4x":v.g+"/creator-luv/subscriptions/20-gifts-4x.png"}:e>=10?{"1x":v.g+"/creator-luv/subscriptions/10-gifts-1x.png","2x":v.g+"/creator-luv/subscriptions/10-gifts-2x.png","4x":v.g+"/creator-luv/subscriptions/10-gifts-4x.png"}:e>=5?{"1x":v.g+"/creator-luv/subscriptions/5-gifts-1x.png","2x":v.g+"/creator-luv/subscriptions/5-gifts-2x.png","4x":v.g+"/creator-luv/subscriptions/5-gifts-4x.png"}:e>=1?{"1x":v.g+"/creator-luv/subscriptions/1-gift-1x.png","2x":v.g+"/creator-luv/subscriptions/1-gift-2x.png","4x":v.g+"/creator-luv/subscriptions/1-gift-4x.png"}:{"1x":"","2x":"","4x":""}}(e):e>=100?{"1x":l.a+"/100-gifts-1x.png","2x":l.a+"/100-gifts-2x.png","4x":l.a+"/100-gifts-4x.png"}:e>=50?{"1x":l.a+"/50-gifts-1x.png","2x":l.a+"/50-gifts-2x.png","4x":l.a+"/50-gifts-4x.png"}:e>=20?{"1x":l.a+"/20-gifts-1x.png","2x":l.a+"/20-gifts-2x.png","4x":l.a+"/20-gifts-4x.png"}:e>=10?{"1x":l.a+"/10-gifts-1x.png","2x":l.a+"/10-gifts-2x.png","4x":l.a+"/10-gifts-4x.png"}:e>=5?{"1x":l.a+"/5-gifts-1x.png","2x":l.a+"/5-gifts-2x.png","4x":l.a+"/5-gifts-4x.png"}:e>=1?{"1x":l.a+"/1-gift-1x.png","2x":l.a+"/1-gift-2x.png","4x":l.a+"/1-gift-4x.png"}:{"1x":"","2x":"","4x":""}}var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hovered:!1},t.handleClick=function(){a.n.set(s.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.subscriptionProduct.name),a.n.set(s.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,String(t.props.mysteryGiftCount)),a.n.set(s.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,t.props.giftingAnonymously),t.props.handleSubMenuAction({action:d.a.BuyMysteryGift,checkoutButtonTier:t.props.subscriptionProduct.tier,mysteryGiftCount:t.props.mysteryGiftCount,isAnonymous:t.props.giftingAnonymously,wasShownMoreBundles:t.props.wasShownMoreBundles})},t.handleHoverStart=function(){t.setState({hovered:!0})},t.handleHoverEnd=function(){t.setState({hovered:!1})},t.renderCreatorLuvOverlay=function(){if(!Object(o.f)(o.a))return null;var e=Object(o.d)(t.props.mysteryGiftCount,t.props.subscriptionProduct.tier),n=Object(o.c)(t.props.mysteryGiftCount,t.props.subscriptionProduct.tier),i=Object(a.d)("Give {giftAmount} to the community",{giftAmount:n},"MysteryGiftBundle"),s=Object(a.d)("Give {giftAmount} emotes to the community",{giftAmount:n},"MysteryGiftBundle");return r.createElement(p.a,{position:m.n.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,zIndex:m.s.Above,padding:{x:1,y:1},className:"mystery-gift-bundle__overlay"},!t.props.giftingAnonymously&&r.createElement(f.a,{size:f.b.Small},Object(a.d)("{benefactorAmount, plural, one {Get {benefactorAmount} emote} other {Get {benefactorAmount} emotes}}",{benefactorAmount:e},"MysteryGiftBundle")),r.createElement(f.a,{size:f.b.Small},t.props.giftingAnonymously?s:i))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=y(this.props.mysteryGiftCount,Object(o.f)(o.a));return r.createElement(p.a,{className:"mystery-gift-bundle",margin:{bottom:2,x:1}},r.createElement("div",{onMouseEnter:this.handleHoverStart,onMouseLeave:this.handleHoverEnd},r.createElement(p.a,{position:m.n.Relative},this.state.hovered&&this.renderCreatorLuvOverlay(),r.createElement(c.a,{content:r.createElement(h.a,{alt:Object(a.d)("{mysteryGiftCount, plural, one {Gift {mysteryGiftCount} Sub at random.} other {Gift {mysteryGiftCount} Subs at random.}}",{mysteryGiftCount:this.props.mysteryGiftCount},"MysteryGiftBundle"),src:e["1x"],srcSet:e}),toggle:this.props.giftingAnonymously,toggledContent:r.createElement(g.a,{borderRadius:m.e.Medium},r.createElement(h.a,{alt:Object(a.d)("{mysteryGiftCount, plural, one {Anonymously Gift {mysteryGiftCount} Sub at random.} other {Anonymously Gift {mysteryGiftCount} Subs at random.}}",{mysteryGiftCount:this.props.mysteryGiftCount},"MysteryGiftBundle"),src:l.a+"/bg-ghost-purple.svg"}))})),r.createElement(p.a,{display:m.g.Flex,margin:{top:.5}},r.createElement(b.a,{fullWidth:!0,onClick:this.handleClick,purchase:Object(u.a)(this.props.mysteryGiftCount,this.props.subscriptionProduct),targetBlank:!0},Object(a.d)("{mysteryGiftCount, plural, one {Gift {mysteryGiftCount} Sub} other {Gift {mysteryGiftCount} Subs}}",{mysteryGiftCount:this.props.mysteryGiftCount},"MysteryGiftBundle")))))},t}(r.Component);n.d(t,"a",(function(){return S}))},DlC9:function(e,t,n){"use strict";n.r(t);var i,r=n("mrSG"),a=n("q1tI"),o=n("TSYQ"),s=n("/MKj"),l=n("/7QA"),c=n("8/mp"),u=n("kRBY"),d=n("ANjH"),p=n("yR8l"),m=n("geRD"),f=n("1/iK"),h=n("f00E"),g=n("XDCx"),b=n("y5D0"),v=n("DMoW"),y=n("4rCz"),S=n("YV90"),k=n("EgE3"),E=n("Owek"),C=n("RBh2"),_=n("i5+p"),O=n("q0CL"),T=n("dEDE"),w=n("NAv5"),x=n("eJ65"),D=n("wUQP"),j=n("sUnt"),I=n("yymn"),N=n("7d/q"),R=n("C7sF"),P=n("IbuL"),M=n("Ws8v"),A=n("Z2sP"),B=n("hCFK");n("XNPz");!function(e){e.ClickWrapper="click-wrapper",e.HeaderContent="header-content",e.ExpandedContent="expanded-content",e.Footer="footer"}(i||(i={}));var F,U=function(e){var t=e.expandable,n=void 0!==t&&t,r=e.expanded,s=void 0!==r&&r,l=e.dismissable,c=void 0!==l&&l,u=e.onClick,d=e.onDismiss,p=e.toggleExpanded,m=e.progressBar,f=e.header,g=e.children,b=e.visible,v=e.footer,y=1;m&&(y=m.duration);var S=y;m&&m.durationRemaining&&(S=m.durationRemaining);var k=a.useState({percent:S/y*100,duration:y,key:Object(h.c)()}),E=k[0],C=k[1],_=a.useState(Date.now()+1e3*S),O=_[0],T=_[1];a.useEffect((function(){var e=Date.now()+1e3*S;T(e)}),[S]),a.useEffect((function(){var e=(O-Date.now())/(1e3*y);C({percent:Math.max(100*e,0),duration:Math.max(y*e,0),key:Object(h.c)()})}),[O,y,s,b]);var w=m&&m.onDurationEnd;a.useEffect((function(){var e=setTimeout((function(){w&&w()}),1e3*S);return function(){return clearTimeout(e)}}),[S,w]);var x=function(e){p&&(e.stopPropagation(),p())},D=u||!p?void 0:x,F=function(){return a.createElement(M.a,{fullWidth:!0,className:"highlight__footer","data-test-selector":i.Footer},v)},U=a.createElement(j.a,{className:o("highlight",{highlight__collapsed:!s}),padding:1,display:I.g.Flex,flexDirection:I.h.Column,justifyContent:n?I.l.Start:I.l.Center,zIndex:I.s.Above,position:I.n.Relative},a.createElement(j.a,{display:I.g.Flex,alignItems:I.b.Center},a.createElement(j.a,{flexGrow:1,"data-test-selector":i.HeaderContent,className:"highlight__header"},f),c?a.createElement(j.a,{alignSelf:I.c.Start,margin:{top:.5}},a.createElement(N.a,{icon:R.a.Close,size:N.b.Large,onClick:d})):n&&p?D?a.createElement(j.a,{alignSelf:I.c.Start,margin:{top:.5}},a.createElement(N.a,{icon:s?R.a.AngleUp:R.a.AngleDown,size:N.b.Large,onClick:D,disabled:void 0===D})):a.createElement(j.a,{className:"highlight__icon",margin:.5},a.createElement(P.a,{asset:s?R.a.AngleUp:R.a.AngleDown,fill:!0})):void 0),a.createElement(B.a,{type:B.c.SlideOverTop,show:s},a.createElement(j.a,{"data-test-selector":i.ExpandedContent},g,s&&m&&a.createElement(j.a,{margin:{top:1,bottom:.5}},a.createElement(A.a,{mask:!0,borderRadius:I.e.Rounded,value:E.percent,animationDuration:E.duration,animationDirection:A.b.Down,size:A.c.ExtraSmall,key:E.key})))));return(u||p&&n)&&(U=a.createElement("div",{onClick:u?function(){return u(n)}:x,className:"highlight__click-target","data-test-selector":i.ClickWrapper},U)),a.createElement(j.a,null,a.createElement(j.a,null,U,!s&&m&&a.createElement(M.a,{fullWidth:!0,className:"highlight__progress-bar",overflow:I.m.Hidden,position:v?void 0:I.n.Absolute,zIndex:I.s.Below},a.createElement(A.a,{mask:!0,value:E.percent,animationDuration:E.duration,animationDirection:A.b.Down,size:v?A.c.ExtraSmall:A.c.Default,key:E.key,borderRadius:v?I.e.Large:I.e.Rounded})),!s&&v&&F()),s&&v&&F())},L=n("+cHD"),G=n("2rlx"),H=function(e){var t=Object(_.e)(e.poll.status),n=e.poll.choices.slice(),i=null;return t&&(n=n.sort((function(e,t){return e.votes.total>t.votes.total?-1:e.votes.total<t.votes.total?1:0})),i=n[0].votes.total),e.winnersOnly&&(n=n.filter((function(e){return i===e.votes.total}))),a.createElement(G.a,{duration:B.b.Long},n.map((function(n,r){var o=null!==i&&i===n.votes.total,s=!e.multiSelectEnabled&&!(!e.voter||e.voter.choices[0].id===n.id)||e.disabled,l=e.selectedChoiceID===n.id;return a.createElement(j.a,{key:n.id,margin:{top:0===r?0:.5}},a.createElement(L.a,{choiceID:n.id,choiceTitle:n.title,amountVoted:n.votes.total,amountTotal:e.poll.votes.total,onClick:e.onChoiceClick,selected:l,success:t&&o&&!!i,selectable:!t&&!s,disabled:s||e.voteInProgress,showSelfVoteAnimation:l&&e.showSelfVoteAnimation,selfVoteAnimationComplete:e.selfVoteAnimationComplete}))})))},z=n("p9bs"),V=n("+80q"),W=n("k0nM"),q=n("ygYM"),Q=n("4wKg"),K=n("Njy6"),Y=n("B/q4"),J=Object(d.d)(Object(E.b)((function(e){return{topBitsContributor:e.topBitsContributor,topCommunityPointsContributor:e.topCommunityPointsContributor}})))((function(e){return a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Column},a.createElement(K.a,{topBitsContributor:e.topBitsContributor}),a.createElement(Y.a,{topCommunityPointsContributor:e.topCommunityPointsContributor}))})),X=n("A4KW"),$=n("nAiT"),Z=n("yIzk"),ee=n("kqSx"),te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showVoteDialogAgain:!1},t.renderCost=function(){switch(t.props.type){case F.ChannelPoints:return a.createElement(M.a,{fontSize:I.j.Size4,fontWeight:I.k.SemiBold},Object(y.d)("Voting again will cost you <x:strong>{cost} {pointName}</x:strong>",{"x:strong":function(e){return a.createElement(j.a,{display:I.g.Flex,alignItems:I.b.Center,justifyContent:I.l.Center},e)},cost:a.createElement(j.a,{display:I.g.Flex,alignItems:I.b.Center,margin:{right:.5}},a.createElement(j.a,{margin:{x:.5}},a.createElement(X.b,null)),Object(y.f)(t.props.cost)),pointName:t.props.pointName||Object($.a)()},"Polls--VoteAgainDialog"));case F.Bits:return a.createElement(M.a,{fontSize:I.j.Size4,fontWeight:I.k.SemiBold},Object(y.d)("Voting again will cost you {bits}",{bits:a.createElement(j.a,{display:I.g.Flex,alignItems:I.b.Center,justifyContent:I.l.Center},a.createElement(P.a,{asset:R.a.Bits}),Object(y.f)(t.props.cost))},"Polls--VoteAgainDialog"));default:return null}},t.onConfirm=function(){t.props.onConfirm&&t.props.onConfirm(t.state.showVoteDialogAgain)},t.onDontShowAgain=function(){t.setState((function(e){return{showVoteDialogAgain:!e.showVoteDialogAgain}}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(Z.a,null,a.createElement(M.a,{position:I.n.Absolute,background:I.d.Overlay,display:I.g.Flex,flexDirection:I.h.Column,alignItems:I.b.Center,justifyContent:I.l.Center,padding:2,fullHeight:!0,fullWidth:!0,attachTop:!0,attachLeft:!0,zIndex:I.s.Above},a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Column,alignItems:I.b.Center},this.renderCost()),a.createElement(j.a,{display:I.g.Flex,alignItems:I.b.Center,margin:{y:2}},a.createElement(T.a,{type:T.d.Secondary,onClick:this.props.onCancel},Object(y.d)("Nevermind","Polls--ViewerPoll")),a.createElement(j.a,{margin:{left:1}},a.createElement(T.a,{onClick:this.onConfirm,overlay:!1},Object(y.d)("Got it","Polls--ViewerPoll")))),a.createElement(j.a,{display:I.g.Flex,alignItems:I.b.Center},a.createElement(ee.a,{label:"",onChange:this.onDontShowAgain,checked:!this.state.showVoteDialogAgain,overlay:!1}),a.createElement(j.a,{margin:{left:1}},a.createElement(V.a,{color:I.f.Overlay},Object(y.d)("Don't show this again","Polls--ActiveViewerPollWidget"))))))},t}(a.PureComponent),ne=function(e){var t=e.cost,n=e.disabled,i=e.onClick,r=e.state,o=e.type,s=Object(l.d)("Vote","Polls--ChannelPoll");return a.createElement(j.a,{margin:{right:.5}},a.createElement(T.a,{ariaLabel:function(){switch(o){case F.ChannelPoints:return Object(l.d)("Vote with Channel Points","Polls--ViewerPoll");case F.Bits:return Object(l.d)("Vote with Bits","Polls--ViewerPoll");case F.Primary:default:return""}}(),disabled:n,onClick:i,state:r||T.c.Default},a.createElement(j.a,{display:I.g.Flex,alignItems:I.b.Center},s,function(){switch(o){case F.Bits:return a.createElement(j.a,{margin:{x:.5},display:I.g.Flex},a.createElement(P.a,{asset:R.a.Bits}));case F.ChannelPoints:return a.createElement(j.a,{margin:{x:.5},display:I.g.Flex},a.createElement(X.b,null));case F.Primary:default:return null}}(),t&&Object(l.f)(t))))};n("NC8R");!function(e){e.Primary="primary",e.Bits="bits",e.ChannelPoints="channel-points"}(F||(F={}));var ie,re,ae,oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedChoiceID:null,showVoteBitsDialog:!1,showVoteChannelPointsDialog:!1},t.renderBody=function(){var e=t.props,n=e.viewablePoll,i=e.selfVoter,r=e.isSubscriber,o=e.isChatBanned,s=Object(_.e)(n.status),l=n.settings.subscriberOnly.isEnabled,c=n.votes.total,u=!(!(t.props.user&&i&&i.votes.base>0)||n.settings.bitsVotes.isEnabled||n.settings.communityPointsVotes.isEnabled),d=n&&n.ownedBy&&n.ownedBy.id;if(t.props.expanded){var p=t.props.primaryButtonState===T.c.Loading||t.props.bitsButtonState===T.c.Loading||t.props.channelPointsButtonState===T.c.Loading;return a.createElement(j.a,{margin:{top:1}},a.createElement(H,{poll:n,voter:i,selectedChoiceID:t.state.selectedChoiceID,onChoiceClick:t.onChoiceClick,disabled:o||l&&!r,showSelfVoteAnimation:t.props.showSelfVoteAnimation,selfVoteAnimationComplete:t.props.selfVoteAnimationComplete,multiSelectEnabled:n.settings.multichoice.isEnabled&&!u,voteInProgress:p}),!s&&a.createElement(j.a,{margin:{top:1}},t.renderVoteButtons()),s&&d&&a.createElement(J,null))}return s&&c?a.createElement(j.a,{margin:{top:1}},a.createElement(H,{poll:n,voter:i,selectedChoiceID:t.state.selectedChoiceID,winnersOnly:!0}),d&&a.createElement(J,null)):null},t.renderVoteButtons=function(){var e=t.props,n=e.channelLogin,i=e.viewablePoll,r=e.user,o=e.selfVoter,s=e.isSubscriber,l=e.isChatBanned,c=e.primaryButtonState,u=e.bitsButtonState,d=e.channelPointsButtonState,p=e.voteError,m=t.state.selectedChoiceID,f=!1,h=null,g=i.settings.subscriberOnly.isEnabled;i.settings.subscriberMultiplier.isEnabled&&(h=Object(y.d)("Subscriber votes count for 2x!","Polls--ViewerPoll")),g&&!s&&(f=!0,h=Object(y.d)("This poll is only for subscribers","Polls--ActiveViewerPollWidget"));var b=r&&r.login===n,v=o&&o.votes.base>0,S=b||!i.settings.bitsVotes.isEnabled&&!i.settings.communityPointsVotes.isEnabled;v&&S&&(f=!0,h=Object(y.d)("Voted!","Polls--ChannelPoll")),l?(f=!0,h=Object(y.d)("You are chat banned.","Polls--ViewerPoll")):p&&!m?h=Object(y.d)("Select an option to vote.","Polls--ViewerPoll"):p&&(h=t.getErrorMessage());var k=v&&!b&&i.settings.bitsVotes.isEnabled,E=v&&!b&&Object(D.c)("copo_polls")&&i.settings.communityPointsVotes.isEnabled;return a.createElement(j.a,{display:I.g.Flex,alignItems:I.b.Center,flexWrap:I.i.Wrap},a.createElement("div",{onClick:t.stopPropagation},a.createElement(j.a,{display:I.g.Flex,alignItems:I.b.Center},(!v||S)&&a.createElement(ne,{disabled:f,onClick:t.onVoteButtonClick,state:c,type:F.Primary}),k&&a.createElement(ne,{cost:i.settings.bitsVotes.cost,disabled:f,onClick:t.onVoteBitsButtonClick,state:u,type:F.Bits}),E&&a.createElement(ne,{cost:i.settings.communityPointsVotes.cost,disabled:f,onClick:t.onVoteChannelPointsButtonClick,state:d,type:F.ChannelPoints}))),a.createElement(j.a,{padding:{top:.5}},a.createElement(V.a,{className:"channel-poll__description-text",color:p||l?I.f.Error:I.f.Alt2},h)))},t.onDismissButtonIconClick=function(){var e=t.props,n=e.viewablePoll,i=e.user;Object(_.h)(n.id,i&&i.id||null,!0),t.props.onDismissButtonClick()},t.onChoiceClick=function(e){t.setState({selectedChoiceID:e})},t.stopPropagation=function(e){e.stopPropagation()},t.onVoteButtonClick=function(){t.props.onVoteButtonClick(t.state.selectedChoiceID,F.Primary)},t.onVoteBitsButtonClick=function(){var e=t.props,n=e.viewablePoll,i=e.user;t.state.showVoteBitsDialog||!Object(_.d)(n.id,i&&i.id||null,F.Bits)?t.props.onVoteButtonClick(t.state.selectedChoiceID,F.Bits):t.setState({showVoteBitsDialog:!0})},t.onVoteChannelPointsButtonClick=function(){var e=t.props,n=e.viewablePoll,i=e.user;t.state.showVoteChannelPointsDialog||!Object(_.d)(n.id,i&&i.id||null,F.ChannelPoints)?t.props.onVoteButtonClick(t.state.selectedChoiceID,F.ChannelPoints):t.setState({showVoteChannelPointsDialog:!0})},t.onVoteBitsDialogConfirm=function(e){var n=t.props,i=n.viewablePoll,r=n.user;Object(_.i)(i.id,r&&r.id||null,F.Bits,e),t.setState({showVoteBitsDialog:!1}),t.props.onVoteButtonClick(t.state.selectedChoiceID,F.Bits)},t.onVoteChannelPointsDialogConfirm=function(e){var n=t.props,i=n.viewablePoll,r=n.user;Object(_.i)(i.id,r&&r.id||null,F.ChannelPoints,e),t.setState({showVoteChannelPointsDialog:!1}),t.props.onVoteButtonClick(t.state.selectedChoiceID,F.ChannelPoints)},t.onVoteBitsDialogCancel=function(){t.setState({showVoteBitsDialog:!1})},t.onVoteChannelPointsDialogCancel=function(){t.setState({showVoteChannelPointsDialog:!1})},t.onReportDropDownMenuItemClick=function(e){e.stopPropagation(),t.props.onReportButtonClick()},t.onHighlightCardClick=function(){t.props.trackPollsClientInteraction(t.props.expanded?C.a.Expand:C.a.Collapse),t.setState({showVoteBitsDialog:!1,showVoteChannelPointsDialog:!1}),t.props.toggleExpanded()},t.getErrorMessage=function(){var e=t.props,n=e.viewablePoll,i=e.bitsBalance,r=e.channelPointsBalance,a=e.voteErrorCode,o=Object(y.d)("Something went wrong.","Polls--ViewerPoll");switch(a){case v.Rd.RATE_LIMITED:o=Object(y.d)("You're voting too fast!","Polls--ViewerPoll");break;case v.Rd.INSUFFICIENT_BITS_BALANCE:o=Object(y.d)("{diff, plural, one {You need {diffFormatted} more Bits to vote.} other {You need {diffFormatted} more Bits to vote.}}",{diff:n.settings.bitsVotes.cost-i,diffFormatted:Object(y.f)(n.settings.bitsVotes.cost-i)},"Polls--ViewerPoll");break;case v.Rd.INSUFFICIENT_COMMUNITY_POINTS_BALANCE:o=Object(y.d)("{diff, plural, one {You need {diffFormatted} more Channel Point to vote.} other {You need {diffFormatted} more Channel Points to vote.}}",{diff:n.settings.communityPointsVotes.cost-r,diffFormatted:Object(y.f)(n.settings.communityPointsVotes.cost-r)},"Polls--ViewerPoll");break;case v.Rd.SELF_BITS_VOTE_NOT_ALLOWED:o=Object(y.d)("You cant use Bits on your own poll","Polls--NewPollModal")}return o},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.trackPolls()},t.prototype.render=function(){var e=this.props.viewablePoll,t=Object(_.e)(e.status);return a.createElement(j.a,{position:I.n.Relative},a.createElement(U,{expandable:!0,progressBar:t?void 0:{duration:e.durationSeconds,durationRemaining:e.remainingDurationMilliseconds/1e3},expanded:t||this.props.expanded,toggleExpanded:this.onHighlightCardClick,visible:this.props.visible,onClick:this.props.onClick,dismissable:t,onDismiss:this.onDismissButtonIconClick,header:a.createElement(j.a,{display:I.g.Flex,alignItems:I.b.Center},a.createElement(j.a,{flexGrow:1,overflow:I.m.Hidden},a.createElement(z.a,{status:e.status,title:e.title,truncated:!this.props.expanded})),a.createElement(j.a,{padding:{left:1},display:I.g.Flex,flexDirection:I.h.Row,alignItems:I.b.Center,alignSelf:I.c.Start,className:"channel-poll__more-icon"},a.createElement(x.a,{hideBalloonOnInsideClick:!0,stopPropagation:!0},a.createElement(N.a,{icon:R.a.More}),a.createElement(W.a,{direction:q.b.BottomRight},a.createElement(Q.a,{label:Object(y.d)("Report Poll","Polls--ViewerPoll"),onClick:this.onReportDropDownMenuItemClick})))))},this.renderBody()),this.state.showVoteBitsDialog&&a.createElement(te,{cost:e.settings.bitsVotes.cost,onConfirm:this.onVoteBitsDialogConfirm,onCancel:this.onVoteBitsDialogCancel,type:F.Bits}),this.state.showVoteChannelPointsDialog&&a.createElement(te,{cost:e.settings.communityPointsVotes.cost,onConfirm:this.onVoteChannelPointsDialogConfirm,onCancel:this.onVoteChannelPointsDialogCancel,type:F.ChannelPoints,pointName:this.props.pointName}))},t.prototype.trackPolls=function(){var e=this.props,t=e.viewablePoll,n=e.user;if(t.ownedBy){var i=Object(w.parse)(t.startedAt),r=Object(w.addSeconds)(i,t.durationSeconds),a=Math.max(Object(w.differenceInSeconds)(r,new Date),0);Object(C.d)({userID:n&&n.id,channelID:t.ownedBy.id,pollID:t.id,totalResponses:t.choices.length,hasSubscriberBonus:t.settings.subscriberMultiplier.isEnabled,isSubscriberOnly:t.settings.subscriberOnly.isEnabled,bitsPerVote:t.settings.bitsVotes.cost,communityPointsPerVote:t.settings.communityPointsVotes.cost,pollDurationSecondsRemaining:a}),Object(C.c)({userID:n&&n.id,pollID:t.id,serverTimeRemaining:t.remainingDurationMilliseconds,pollStartTime:t.startedAt,pollDuration:t.durationSeconds})}},t}(a.Component),se=n("beC6"),le=2e3,ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={primaryButtonState:null,bitsButtonState:null,channelPointsButtonState:null,voteError:!1,voteErrorCode:null,showSelfVoteAnimation:!1},t.selectChoiceErrorTimer=null,t.onReportButtonClick=function(){var e=t.props,n=e.viewablePoll,i=e.data;if(!(n&&n.createdBy&&n.ownedBy&&i.channel&&i.channel.displayName))return null;t.props.user?t.props.showReportUserModal({reportContext:{contentType:v.Mc.POLL_REPORT,targetUserID:n.createdBy.id,contentID:n.id,extra:JSON.stringify({channel_id:n.ownedBy.id.toString()})},title:Object(y.d)("Report {channelDisplayName}'s Poll",{channelDisplayName:i.channel.displayName},"ViewerPoll")}):t.props.showLoginModal()},t.onDismissButtonClick=function(){t.props.removeHighlight()},t.validateVote=function(e,n){void 0===e&&(e=null);var i=t.props,r=i.viewablePoll,a=i.user,o=i.showLoginModal;return!!r&&(a?null===e?(t.setState({voteError:!0,voteErrorCode:null}),t.clearSelectChoiceErrorTimer(),t.selectChoiceErrorTimer=setTimeout((function(){t.selectChoiceErrorTimer=null,t.setState({voteError:!1,voteErrorCode:null})}),le),!1):n===F.Bits&&t.props.bitsBalance<r.settings.bitsVotes.cost?(t.setState({voteError:!0,voteErrorCode:v.Rd.INSUFFICIENT_BITS_BALANCE}),!1):!(n===F.ChannelPoints&&t.props.channelPointsBalance<r.settings.communityPointsVotes.cost)||(t.setState({voteError:!0,voteErrorCode:v.Rd.INSUFFICIENT_COMMUNITY_POINTS_BALANCE}),!1):(n!==F.Primary&&y.l.warn("encountered logged out user when voting again"),o(),!1))},t.onVoteButtonClick=function(e,n){return void 0===e&&(e=null),Object(r.__awaiter)(t,void 0,void 0,(function(){var t,i,a,o;return Object(r.__generator)(this,(function(r){return t=this.props,i=t.viewablePoll,a=t.user,this.validateVote(e,n)?(o=null,n===F.Bits?o={bits:i.settings.bitsVotes.cost,channelPoints:0}:n===F.ChannelPoints&&(o={bits:0,channelPoints:i.settings.communityPointsVotes.cost}),this.voteInPoll({pollID:i.id,choiceID:e,userID:a.id,voteID:Object(h.c)(),tokens:o},n),[2]):[2]}))}))},t.getButtonStateFromType=function(e){switch(e){case F.Bits:return"bitsButtonState";case F.ChannelPoints:return"channelPointsButtonState";default:return"primaryButtonState"}},t.voteInPoll=function(e,n){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,i,a,o;return Object(r.__generator)(this,(function(s){switch(s.label){case 0:if(!this.props.voteInPoll)return[2];this.trackPollsClientInteraction(C.a.Vote,n),t=this.getButtonStateFromType(n),this.setState((function(e){var n;return Object(r.__assign)(Object(r.__assign)({},e),((n={})[t]=T.c.Loading,n))})),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.props.voteInPoll(Object(m.a)(e))];case 2:return(i=s.sent()).data.voteInPoll&&i.data.voteInPoll.error?(this.clearSelectChoiceErrorTimer(),a=i.data.voteInPoll.error.code,this.setState((function(e){var n;return Object(r.__assign)(Object(r.__assign)({},e),((n={voteError:!0,voteErrorCode:a})[t]=T.c.Default,n))})),[2]):(n===F.ChannelPoints&&this.trackChannelPointsSpendOnPolls(),this.setState({voteError:!1,voteErrorCode:null,showSelfVoteAnimation:!0}),[3,4]);case 3:return o=s.sent(),y.l.warn(o,"Failed to perform vote"),this.clearSelectChoiceErrorTimer(),this.setState({voteError:!0,voteErrorCode:null}),[3,4];case 4:return this.setState((function(e){var n;return Object(r.__assign)(Object(r.__assign)({},e),((n={})[t]=T.c.Default,n))})),[2]}}))}))},t.selfVoteAnimationComplete=function(){t.setState({showSelfVoteAnimation:!1})},t.trackPollsClientInteraction=function(e,n){var i=t.props,r=i.viewablePoll,a=i.user,o=i.data;if(o.channel&&o.channel.id&&r){var s=n===F.Bits?r.settings.bitsVotes.cost:0,l=n===F.ChannelPoints?r.settings.communityPointsVotes.cost:0;Object(C.e)({userID:a&&a.id,channelID:o.channel.id,pollID:r.id,action:e,actionSource:C.b.PollInput,bitsSpent:s,communityPointsSpent:l})}},t.trackChannelPointsSpendOnPolls=function(){var e=t.props,n=e.viewablePoll,i=e.data;i.channel&&i.channel.id&&n&&Object(k.i)({channelID:i.channel.id,channelLogin:i.channel.login||"",poll:n})},t}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){this.props.viewablePoll&&t.voteError&&e.bitsBalance<this.props.viewablePoll.settings.bitsVotes.cost&&this.props.bitsBalance>=this.props.viewablePoll.settings.bitsVotes.cost&&this.setState({voteError:!1})},t.prototype.render=function(){var e=this.props,t=e.viewablePoll,n=e.selfVoter,i=e.user,r=e.data;return!t||r.loading||r.error||!r.channel?null:Object(_.f)(t.status)?a.createElement(oe,{channelLogin:r.channel.login,bitsBalance:this.props.bitsBalance,channelPointsBalance:this.props.channelPointsBalance,pointName:this.props.pointName,viewablePoll:t,isSubscriber:!(!r.channel.self||!r.channel.self.subscriptionBenefit),isChatBanned:r.channel.self&&r.channel.self.banStatus&&r.channel.self.banStatus.isPermanent||!1,selfVoter:n,showSelfVoteAnimation:this.state.showSelfVoteAnimation,user:i,primaryButtonState:this.state.primaryButtonState,bitsButtonState:this.state.bitsButtonState,channelPointsButtonState:this.state.channelPointsButtonState,voteError:this.state.voteError,voteErrorCode:this.state.voteErrorCode,onReportButtonClick:this.onReportButtonClick,onVoteButtonClick:this.onVoteButtonClick,onDismissButtonClick:this.onDismissButtonClick,selfVoteAnimationComplete:this.selfVoteAnimationComplete,key:t.id,trackPollsClientInteraction:this.trackPollsClientInteraction,expanded:this.props.expanded,toggleExpanded:this.props.toggleExpanded,visible:this.props.visible,onClick:this.props.onClick}):null},t.prototype.clearSelectChoiceErrorTimer=function(){this.selectChoiceErrorTimer&&(clearTimeout(this.selectChoiceErrorTimer),this.selectChoiceErrorTimer=null)},t}(a.Component),ue=Object(d.d)(Object(s.b)((function(e){return{user:Object(u.e)(e)}}),(function(e){return Object(d.b)({showLoginModal:function(){return Object(b.e)(f.a.ChannelPoll)},showReportUserModal:function(e){var t=Object(r.__rest)(e,[]);return Object(g.e)(O.ReportUserModal,t)}},e)})),Object(E.b)((function(e){return{viewablePoll:e.viewablePoll,selfVoter:e.selfVoter,voteInPoll:e.voteInPoll,bitsBalance:e.bitsBalance}})),Object(S.a)((function(e){return{pointName:e.pointName,channelPointsBalance:e.balance}})),Object(p.a)(se,{skip:function(e){return!e.viewablePoll||!e.viewablePoll.ownedBy},options:function(e){return{variables:{channelID:e.viewablePoll.ownedBy.id}}}}))(ce),de=n("ilvU"),pe=n("uGUt"),me=n("nTAV"),fe=n("2xye");!function(e){e.DropsInfo="drops_info",e.DropsClaimable="drops_claimable",e.DropsClaimed="Drops_claimed",e.ClaimFailed="claim_failed",e.NoNewDrops="no_new_drops"}(ie||(ie={})),function(e){e.Render="render",e.Expand="expand",e.Minimize="minimize",e.Dismiss="dismiss",e.ClickCTA="click_cta"}(re||(re={})),function(e){e.ViewDetails="view_details",e.Claim="claim",e.Login="login",e.ConnectAccounts="connect_accounts"}(ae||(ae={}));var he,ge=function(e){var t={time:new Date,location:e.location,action:e.action,channel_id:e.channelID,drop_id:e.dropID,drop_instance_id:e.dropInstanceID||null,cta_detail:e.CTADetail||null,user_id:e.userID||null};y.p.track(fe.SpadeEventType.DropsCommunityCalloutActions,t)},be=n("L/cU"),ve=n("fPaz"),ye=n("Jsra");!function(e){e.LogInButton="drops-available-highlight-login-button",e.ViewDetailsCoreLink="drops-available-highlight-view-details-core-link",e.ViewDetailsButton="drops-available-highlight-view-details-button"}(he||(he={}));var Se,ke=function(e){var t=e.removeHighlight,n=e.toggleExpanded,i=Object(s.d)(),r=Object(l.d)("{seconds, plural, one {# sec} other {# secs}}",{seconds:e.event.durationS},"DropAvailableHighlight"),o=Object(l.d)("{minutes, plural, one {# min} other {# mins}}",{minutes:Math.floor(e.event.durationS/60)},"DropAvailableHighlight"),c=e.event.durationS<60?r:o,u=a.useCallback((function(n){n.stopPropagation(),ge({location:ie.DropsInfo,action:re.Dismiss,channelID:e.event.channelID,dropID:e.event.dropID,userID:e.event.userID}),t()}),[e.event.channelID,e.event.dropID,e.event.userID,t]),d=a.useCallback((function(t){t.stopPropagation(),ge({location:ie.DropsInfo,action:re.ClickCTA,channelID:e.event.channelID,dropID:e.event.dropID,userID:e.event.userID,CTADetail:ae.ViewDetails})}),[e.event.channelID,e.event.dropID,e.event.userID]),p=a.useCallback((function(t){t.stopPropagation(),i(Object(me.b)()),ge({location:ie.DropsInfo,action:re.ClickCTA,channelID:e.event.channelID,dropID:e.event.dropID,userID:e.event.userID,CTADetail:ae.Login})}),[i,e.event.channelID,e.event.dropID,e.event.userID]),m=a.createElement(M.a,{display:I.g.Flex,padding:{top:1,bottom:1,right:1}},a.createElement(j.a,null,a.createElement(M.a,{borderRadius:I.e.Rounded,margin:{right:1},overflow:I.m.Hidden},a.createElement(be.a,{aspect:ve.c.Aspect1x1,size:be.b.Size4,src:e.event.iconURL,alt:Object(l.d)("drop icon","DropAvailableHighlight")}))),a.createElement(j.a,{flexGrow:1,overflow:I.m.Hidden,display:I.g.Flex,flexDirection:I.h.Column,justifyContent:I.l.Center},a.createElement(V.a,{fontSize:I.j.Size8,color:I.f.Alt2},Object(l.d)("Twitch Drops","DropAvailableHighlight")),a.createElement(V.a,{ellipsis:!e.expanded,fontSize:I.j.Size5},e.event.isWatchTimeBased?Object(l.d)("Get {dropName} by watching {channelName} play {gameName}!",{dropName:a.createElement(V.a,{bold:!0,type:V.e.Span},e.event.dropName),channelName:e.event.channelName,gameName:a.createElement(V.a,{bold:!0,type:V.e.Span},e.event.gameName)},"DropAvailableHighlight"):Object(l.d)("Get {dropName} by watching {channelName} complete the Drop mission {questName}!",{dropName:a.createElement(V.a,{bold:!0,type:V.e.Span},e.event.dropName),channelName:e.event.channelName,questName:a.createElement(V.a,{bold:!0,type:V.e.Span},e.event.questName)},"DropAvailableHighlight")))),f=Object(l.d)("View Details","DropAvailableHighlight"),h=e.event.detailsURL&&e.event.detailsURL.trim().length,g=a.useCallback((function(){return e.isUserLoggedIn&&h?a.createElement(j.a,{display:I.g.Inline,margin:{right:1,top:1}},a.createElement(T.a,{size:T.b.Small,linkTo:e.event.detailsURL,"data-test-selector":he.ViewDetailsButton,targetBlank:!0,onClick:d},f)):e.isUserLoggedIn?void 0:a.createElement(j.a,{display:I.g.Inline,margin:{right:1,top:1}},a.createElement(T.a,{"data-test-selector":he.LogInButton,size:T.b.Small,onClick:p},Object(l.d)("Log in","DropAvailableHighlight")))}),[h,p,d,e.event.detailsURL,e.isUserLoggedIn,f]),b=a.useCallback((function(){n&&(ge({location:ie.DropsInfo,action:e.expanded?re.Minimize:re.Expand,channelID:e.event.channelID,dropID:e.event.dropID,userID:e.event.userID}),n())}),[e.event.channelID,e.event.dropID,e.event.userID,e.expanded,n]);return a.createElement(U,{expandable:!0,visible:e.visible,onClick:e.onClick,progressBar:{duration:e.event.durationS,onDurationEnd:t},expanded:e.expanded,toggleExpanded:b,header:m},a.createElement(M.a,{padding:{right:1,left:3,bottom:1}},a.createElement(j.a,{padding:{left:2,bottom:.5}},a.createElement(j.a,null,a.createElement(V.a,{color:I.f.Alt2},e.event.isWatchTimeBased?Object(l.d)("{channelName} has enabled Drops for the community! Watch at least {minimumWatchTime} for a chance to earn the reward.",{channelName:e.event.channelName,minimumWatchTime:e.event.minimumWatchTimeString},"DropAvailableHighlight"):Object(l.d)("Stay alert! When {channelName} completes the mission, the reward has to be claimed within {duration}.",{channelName:e.event.channelName,duration:a.createElement(V.a,{type:V.e.Span,bold:!0},c)},"DropAvailableHighlight")," ",e.isUserLoggedIn?null:Object(l.d)("Don't miss out. Log in to Twitch to start participating.","DropAvailableHighlight"))),a.createElement(j.a,{margin:{top:1}},a.createElement(V.a,{color:I.f.Alt2},Object(l.d)("Ends on {endDate}.",{endDate:Object(l.c)(new Date(e.event.endDate),{day:"numeric",month:"short"})},"DropAvailableHighlight")," ",!e.isUserLoggedIn&&h?a.createElement(ye.a,{linkTo:e.event.detailsURL,"data-test-selector":he.ViewDetailsCoreLink,targetBlank:!0,onClick:d},f):null),a.createElement(j.a,{display:I.g.Flex,flexWrap:I.i.Wrap},g(),a.createElement(j.a,{display:I.g.Inline,margin:{right:1,top:1}},a.createElement(T.a,{size:T.b.Small,type:T.d.Secondary,onClick:u},Object(l.d)("Dismiss This Message","DropAvailableHighlight"))))))))},Ee=n("8jAs"),Ce=n("7uM4");n("QYyK");!function(e){e.ClaimButton="drops-claim-highlight-claim-button",e.HeaderSubtitle="drops-claim-highlight-header-subtitle",e.BodyText="drops-claim-highlight-body-text",e.ConnectAccountsMessage="drops-claim-highlight-connect-account-message",e.ConnectBodyButton="drops-claim-highlight-connect-body-button",e.SuccessFooter="drops-claim-highlight-success-footer",e.ErrorFooter="drops-claim-highlight-error-footer",e.DismissButton="drops-claim-highlight-dismiss-button"}(Se||(Se={}));var _e,Oe=Object(d.d)(Object(p.a)(Ee,{name:"claimDropRewards"}))((function(e){var t=a.useContext(de.c),n=a.useState(!1),i=n[0],r=n[1],o=e.removeHighlight,s=e.claimDropRewards,c=e.toggleExpanded,u=e.event.status===v.yb.DROP_INSTANCE_ALREADY_CLAIMED,d=e.event.status===v.yb.ENTITLEMENT_LIMIT_REACHED,p=e.event.status===v.yb.EXPIRED||e.event.status===v.yb.UNKNOWN,m=e.event.error||p,f=a.useCallback((function(n){if(n.stopPropagation(),r(!0),!(e.event.loading||u||d)){Object(me.d)(e.event.channelName,e.event,s,t,(function(t){t===v.yb.ENTITLEMENT_LIMIT_REACHED&&ge({location:ie.NoNewDrops,action:re.Render,channelID:e.event.channelID,dropID:e.event.dropID,userID:e.event.userID,dropInstanceID:e.event.dropInstanceID}),ge({location:ie.DropsClaimed,action:re.ClickCTA,channelID:e.event.channelID,dropID:e.event.dropID,userID:e.event.userID,CTADetail:ae.Claim,dropInstanceID:e.event.dropInstanceID})})).catch((function(){r(!1),ge({location:ie.ClaimFailed,action:re.Render,channelID:e.event.channelID,dropID:e.event.dropID,userID:e.event.userID,CTADetail:ae.Claim,dropInstanceID:e.event.dropInstanceID})}))}}),[e.event,u,d,s,t]),h=a.useCallback((function(t){t.stopPropagation();var n=i?ie.DropsClaimed:ie.DropsClaimable;m&&i&&(n=ie.ClaimFailed),d&&(n=ie.NoNewDrops),ge({location:n,action:re.Dismiss,channelID:e.event.channelID,dropID:e.event.dropID,userID:e.event.userID,dropInstanceID:e.event.dropInstanceID}),(u||d||p)&&Object(me.e)(e.event.channelName,e.event.dropInstanceID),o()}),[i,m,u,d,p,e.event.channelID,e.event.channelName,e.event.dropID,e.event.dropInstanceID,e.event.userID,o]),g=a.useCallback((function(t){t.stopPropagation(),ge({location:i?ie.DropsClaimed:ie.DropsClaimable,action:re.ClickCTA,channelID:e.event.channelID,dropID:e.event.dropID,userID:e.event.userID,CTADetail:ae.ConnectAccounts,dropInstanceID:e.event.dropInstanceID})}),[i,e.event.channelID,e.event.dropID,e.event.dropInstanceID,e.event.userID]),b=e.event.iconURL?a.createElement(be.a,{aspect:ve.c.Aspect1x1,size:be.b.Size4,src:e.event.iconURL,alt:Object(l.d)("drop icon","DropClaimHighlight")}):a.createElement(P.a,{asset:R.a.Drops}),y=a.useCallback((function(){return u?null:!i||d||e.event.loading?a.createElement(T.a,{disabled:d,type:T.d.Primary,state:e.event.loading?T.c.Loading:T.c.Default,onClick:f,"data-test-selector":Se.ClaimButton},Object(l.d)("Claim","DropClaimHighlight")):null}),[f,i,u,d,e.event.loading]),S=a.useCallback((function(){return!i||d||u||p||e.event.error?p&&!e.event.error?null:u?a.createElement(V.a,{fontSize:I.j.Size8,color:I.f.Alt2,"data-test-selector":Se.HeaderSubtitle},Object(l.d)("Reward claimed","DropClaimHighlight")):d?a.createElement(V.a,{fontSize:I.j.Size8,color:I.f.Alt2,"data-test-selector":Se.HeaderSubtitle},Object(l.d)("No more drops to claim","DropClaimHighlight")):a.createElement(V.a,{fontSize:I.j.Size5,"data-test-selector":Se.HeaderSubtitle,ellipsis:!e.expanded},Object(l.d)("Claim the reward now.","DropClaimHighlight")):null}),[i,u,d,p,e.event.error,e.expanded]),k=a.createElement(M.a,{display:I.g.Flex},a.createElement(j.a,{flexGrow:1,overflow:I.m.Hidden,display:I.g.Flex,flexDirection:I.h.Column,justifyContent:I.l.Center},a.createElement(V.a,{fontSize:I.j.Size5},Object(l.d)("Drop mission completed!","DropClaimHighlight")),S()),a.createElement(j.a,{margin:{left:.5},display:I.g.Flex,alignItems:I.b.Center,flexGrow:0,flexShrink:0},a.createElement(M.a,{borderRadius:I.e.Rounded,overflow:I.m.Hidden},i&&!e.event.loading?b:null)),a.createElement(j.a,{margin:{top:.5,left:.5,right:.5},display:I.g.Flex,flexGrow:0,flexShrink:0},y())),E=a.useCallback((function(){return d?Object(l.d)("{channelName} has completed the Drop mission {questName}.",{channelName:e.event.channelName,questName:a.createElement(V.a,{type:V.e.Span,bold:!0},e.event.questName)},"DropClaimHighlight"):p&&!e.event.error?null:Object(l.d)("{channelName} has completed the Drop mission {questName}. The Community gets to claim {dropName}.",{channelName:e.event.channelName,questName:a.createElement(V.a,{type:V.e.Span,bold:!0},e.event.questName),dropName:a.createElement(V.a,{type:V.e.Span,bold:!0},e.event.dropName)},"DropClaimHighlight")}),[d,e.event.channelName,e.event.dropName,e.event.questName,p,e.event.error]),C=a.createElement(M.a,{padding:{bottom:1},margin:{top:.5}},a.createElement(j.a,{padding:{bottom:.5}},a.createElement(j.a,null,a.createElement(V.a,{color:I.f.Alt2,"data-test-selector":Se.BodyText},E())),!e.event.isUserAccountConnected&&u?a.createElement(j.a,{margin:{top:1}},a.createElement(V.a,{color:I.f.Alt2,"data-test-selector":Se.ConnectAccountsMessage},Object(l.d)("Connect accounts to receive it.","DropClaimHighlight"))):null,a.createElement(j.a,{display:I.g.Flex,flexWrap:I.i.Wrap},!e.event.isUserAccountConnected&&u?a.createElement(j.a,{margin:{right:1,top:1}},a.createElement(T.a,{size:T.b.Small,type:T.d.Primary,linkTo:e.event.accountLinkURL,"data-test-selector":Se.ConnectBodyButton,targetBlank:!0,onClick:g},Object(l.d)("Connect","DropClaimHighlight"))):null,a.createElement(j.a,{margin:{right:1,top:1}},a.createElement(T.a,{size:T.b.Small,type:T.d.Secondary,onClick:h,"data-test-selector":Se.DismissButton},Object(l.d)("Dismiss This Message","DropClaimHighlight")))))),_=a.createElement(M.a,{className:"claim-success",borderRadius:{bottomLeft:I.e.Large,bottomRight:I.e.Large},display:I.g.Flex,color:I.f.Overlay,padding:{x:1,y:.5},"data-test-selector":Se.SuccessFooter},a.createElement(j.a,null,a.createElement(M.a,{display:I.g.Flex,margin:{right:.5,y:.5},borderRadius:I.e.Rounded,className:"badge-color-success"},a.createElement(Ce.a,{asset:R.a.Check,width:18,height:18}))),a.createElement(j.a,{display:I.g.Flex,margin:{y:.5}},a.createElement(j.a,{display:I.g.Inline,margin:{right:1}},a.createElement(V.a,{bold:!0,className:"claim-text-dark"},Object(l.d)("Claimed","DropClaimHighlight"))),a.createElement(j.a,{display:I.g.Inline},e.event.isUserAccountConnected?null:a.createElement(V.a,{className:"claim-text-dark"},Object(l.d)("<x:link>Connect accounts</x:link> to receive it.",{"x:link":function(t){return a.createElement(ye.a,{underline:!0,linkTo:e.event.accountLinkURL,className:"claim-link-dark",targetBlank:!0,onClick:g},t)}},"DropClaimHighlight"))))),O=a.useCallback((function(){return p||e.event.error||!d?p&&!e.event.error?Object(l.d)("Error occurred. Drop was not claimed.","DropClaimHighlight"):Object(l.d)("Error occurred. Please try again.","DropClaimHighlight"):Object(l.d)("Sorry, there are no more drops to claim.","DropClaimHighlight")}),[e.event.error,d,p]),w=a.createElement(M.a,{display:I.g.Flex,className:"claim-error",color:I.f.Overlay,borderRadius:{bottomLeft:I.e.Large,bottomRight:I.e.Large},padding:{x:1,y:.5},"data-test-selector":Se.ErrorFooter},a.createElement(j.a,null,a.createElement(j.a,{display:I.g.InlineFlex,margin:{right:.5,y:.5},className:"claim-error-text"},a.createElement(Ce.a,{asset:R.a.NotificationError,width:18,height:18}))),a.createElement(j.a,{margin:{y:.5}},a.createElement(V.a,{className:"claim-error-text"},O()))),x=a.useCallback((function(){Object(me.e)(e.event.channelName,e.event.dropInstanceID),o()}),[e.event.channelName,e.event.dropInstanceID,o]),D=a.useCallback((function(){if(c){var t=i?ie.DropsClaimed:ie.DropsClaimable;d&&(t=ie.NoNewDrops),ge({location:t,action:e.expanded?re.Minimize:re.Expand,channelID:e.event.channelID,dropID:e.event.dropID,userID:e.event.userID,dropInstanceID:e.event.dropInstanceID}),c()}}),[i,d,e.event.channelID,e.event.dropID,e.event.dropInstanceID,e.event.userID,e.expanded,c]);return a.createElement(U,{expandable:!0,visible:e.visible,onClick:e.onClick,progressBar:{duration:e.event.durationS,onDurationEnd:x},expanded:e.expanded,toggleExpanded:D,header:k,footer:e.listAllView||e.event.loading?void 0:m||d&&i?w:i?_:void 0},C)})),Te=n("hnjF"),we=(n("xRFA"),function(e){return a.createElement(a.Fragment,null,a.Children.map(e.children,(function(t,n){var i=o({"animated-section__segment":!0,"animated-section__segment--slow":e.fadeInSlow});return a.createElement(Te.a,{className:i,key:t+":"+n},a.createElement("div",{style:{animationDelay:30*n+"ms"}},t))})))}),xe=n("6/xl");!function(e){e.AddProgress="add_progress",e.FinishLargeEventAnimation="finish_large_event_animation",e.Start="start",e.FinishStartAnimation="finish_start_animation",e.PreLevelUp="pre_level_up",e.LevelUp="level_up",e.FinishLevelUpAnimation="finish_level_up_animation",e.Complete="complete",e.Fail="fail",e.ShowRewards="show_rewards",e.UpdateConductor="update_conductor",e.ShowProgress="show_progress",e.ShowExpandedView="show_expanded_view",e.HideExpandedView="hide_expanded_view",e.InitializeState="initialize_state",e.ResetState="reset_state"}(_e||(_e={}));var De=n("1rIY"),je=function(){return{id:"",channelID:"",progress:0,remainingSeconds:0,total:0,goal:1e3,level:1,calloutEmote:null,rewards:[],previousRewards:[],conductorRewards:[],participationConversionRates:[],previousLevel:0,lastLevel:5,bitsReceived:0,subsReceived:0,currentEventUserID:"",currentEventQuantity:0,currentEventAction:v.Tb.UNKNOWN,currentEventSource:v.Ub.UNKNOWN,bitsConductor:void 0,subsConductor:void 0,isLargeEvent:!1,hypeTrainStarted:!1,hypeTrainInProgress:!1,hypeTrainComplete:!1,hypeTrainFailed:!1,hypeTrainPreLevelUp:!1,hypeTrainLeveledUp:!1,hypeTrainProgressVisible:!1,hypeTrainCompleteRewardsVisible:!1,hypeTrainExpandedViewVisible:!1,receivedAt:new Date}},Ie=Object(De.a)("HypeTrainContext",Object(r.__assign)(Object(r.__assign)({},je()),{finishStartHypeTrainAnimation:function(){},finishLevelUpHypeTrainAnimation:function(){},finishLargeEventAnimation:function(){},showHypeTrainRewards:function(){},showExpandedView:function(){},hideExpandedView:function(){},resetState:function(){}})),Ne=Ie.context,Re=(Ie.withContext,function(e){var t=e.onComplete,n=e.duration,i=e.shouldStart,o=a.useRef(null),s=a.useRef(null),l=a.useRef(0),c=a.useCallback((function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(i){switch(i.label){case 0:return s.current||(s.current=e),l.current=e-s.current,l.current<n?[4,new Promise((function(e){o.current=window.setTimeout(e,200)}))]:[3,2];case 1:return i.sent(),c(performance.now()),[3,3];case 2:l.current=0,s.current=null,t&&t(),o.current&&(window.clearTimeout(o.current),o.current=null),i.label=3;case 3:return[2]}}))}))}),[n,t]);a.useEffect((function(){return i&&c(performance.now()),function(){o.current&&(window.clearTimeout(o.current),o.current=null)}}),[i,c])}),Pe=n("CGXs"),Me=n("0Log"),Ae=n("/aPz"),Be=function(e,t){return{__typename:"HypeTrainConductor",source:e,participation:Object.entries(t.participations).map((function(e){return Fe(e[0],e[1])})),user:{__typename:"User",id:t.user.id}}},Fe=function(e,t){var n=e.split(".");return{__typename:"HypeTrainParticipation",source:n[0],action:n[1],quantity:t}},Ue=function(e,t){var n=[];return Object.entries(e.conductor_rewards).forEach((function(e){var t=Object.entries(e[1]).map((function(t){return n=e[0],i=t[0],r=t[1],{__typename:"HypeTrainConductorReward",source:n,type:i,rewards:r.map(Qe)};var n,i,r}));n=n.concat(t)})),{__typename:"HypeTrainConfig",id:t?e.channel_id+":"+t:e.channel_id,conductorRewards:n,cooldownPeriodMinutes:e.cooldown_duration,difficulty:e.difficulty,difficultySettings:Object.entries(e.difficulty_settings).map((function(t){return He(t[0],e.channel_id,t[1])})),isEnabled:e.is_enabled,kickoff:Ge(e.kickoff),levelDurationSeconds:e.level_duration,notificationThresholds:Object.entries(e.notification_thresholds).map((function(e){return ze(e[0],e[1])})),participationConversionRates:Object.entries(e.participation_conversion_rates).map((function(e){return Ve(e[0],e[1])})),calloutEmote:Le(e)}},Le=function(e){return{__typename:"Emote",id:e.callout_emote_id,token:e.callout_emote_token}},Ge=function(e){return{__typename:"HypeTrainKickoffConfig",eventsThreshold:e.num_of_events,minPoints:e.min_points,periodSeconds:e.duration}},He=function(e,t,n){return{__typename:"HypeTrainDifficultySettings",difficulty:e,levels:n.map((function(n){return qe(n,t,e)}))}},ze=function(e,t){var n=e.split(".");return{__typename:"HypeTrainNotificationThreshold",source:n[0],action:n[1],value:t}},Ve=function(e,t){var n=e.split(".");return{__typename:"HypeTrainParticipationConversionRate",source:n[0],action:n[1],value:t}},We=function(e,t,n){return{__typename:"HypeTrainProgress",goal:e.goal,total:e.total,progression:e.value,remainingSeconds:e.remaining_seconds,level:qe(e.level,t,n)}},qe=function(e,t,n){var i=e.rewards.map(Qe);return{__typename:"HypeTrainLevel",id:t+":"+n+":"+e.value,value:e.value,goal:e.goal,rewards:i}},Qe=function(e){switch(e.type){case v.Vb.BADGE:return{__typename:"HypeTrainBadgeReward",id:e.id,type:v.Vb.BADGE,badge:{__typename:"Badge",id:e.badge_id||e.id,setID:e.group_id,imageURL:e.image_url||""}};case v.Vb.EMOTE:return{__typename:"HypeTrainEmoteReward",id:e.id,type:v.Vb.EMOTE,emote:{__typename:"Emote",id:e.id,token:e.token||""}};default:throw new Error("unknown reward type found")}},Ke=n("4FF5"),Ye=n("w09P"),Je=n("eirU"),Xe=[Me.PubsubMessageType.HypeTrainStart,Me.PubsubMessageType.HypeTrainLevelUp,Me.PubsubMessageType.HypeTrainProgression,Me.PubsubMessageType.HypeTrainConductorUpdate,Me.PubsubMessageType.HypeTrainEnd],$e=function(e){var t=e.channelLogin,n=e.dispatch,i=function(e){var t=e.channelLogin,n=e.dispatch,i=a.useState(!1),r=i[0],o=i[1],s=a.useCallback((function(e){e&&e.user&&e.user.channel&&e.user.channel.hypeTrain.execution&&!r&&n({type:_e.InitializeState,value:e.user.channel.hypeTrain.execution,channelID:e.user.channel.id}),o(!0)}),[n,r]);return[Object(Je.d)(Ke,{variables:{userLogin:t},fetchPolicy:"cache-and-network",onCompleted:s}).data]}({channelLogin:t,dispatch:n})[0],o=a.useRef(0),s=a.useRef(null),l=a.useMemo((function(){var e;return(null===(e=null==i?void 0:i.user)||void 0===e?void 0:e.id)||""}),[i]),c=a.useMemo((function(){var e,t,n;return(null===(n=null===(t=null===(e=null==i?void 0:i.user)||void 0===e?void 0:e.channel)||void 0===t?void 0:t.hypeTrain.execution)||void 0===n?void 0:n.config.notificationThresholds)||[]}),[i]),u=function(e){var t=e.channelID,n=e.notificationThresholds,i=a.useContext(Ne),r=a.useRef([]),o=a.useState(null),s=o[0],l=o[1],c=a.useState(!1),u=c[0],d=c[1],p=a.useState(!1),m=p[0],f=p[1],h=a.useCallback((function(e){switch(e.type){case Me.PubsubMessageType.HypeTrainStart:return 14e3;case"hype-train-pre-level-up":return 1e3;case Me.PubsubMessageType.HypeTrainProgression:var t=e,i=n.find((function(e){return e.source===t.data.source&&e.action===t.data.action}));if(i){var r=i.value;if(t.data.quantity>=r)return 7e3}return 2e3;case Me.PubsubMessageType.HypeTrainLevelUp:return 18e3;case Me.PubsubMessageType.HypeTrainEnd:return 19e3;default:return 0}}),[n]),g=a.useCallback((function(e){return Xe.some((function(t){return t===e.type}))}),[]),b=Object(Pe.a)(t?Object(Ae.y)(t):"",!t,(function(e){return!g(e)}))[0];return a.useEffect((function(){if(b)switch(b.type){case Me.PubsubMessageType.HypeTrainStart:if(i.hypeTrainInProgress)return;var e=b;return r.current.unshift({msg:e,delay:h(e)}),void f(!0);case Me.PubsubMessageType.HypeTrainLevelUp:if(!i.hypeTrainInProgress)return;var t=b,a={type:"hype-train-pre-level-up"};return r.current.unshift({msg:a,delay:h(a)}),r.current.unshift({msg:t,delay:h(t)}),void f(!0);case Me.PubsubMessageType.HypeTrainConductorUpdate:if(!i.hypeTrainInProgress)return;var o=b;return r.current=r.current.filter((function(e){return e.msg.type!==Me.PubsubMessageType.HypeTrainConductorUpdate||e.msg.data.source!==o.data.source})),r.current.unshift({msg:o,delay:h(o)}),void f(!0);case Me.PubsubMessageType.HypeTrainEnd:if(!i.hypeTrainInProgress)return;var s=b,l=r.current.shift();return r.current=[],l&&r.current.unshift(l),r.current.unshift({msg:s,delay:h(s)}),void f(!0);case Me.PubsubMessageType.HypeTrainProgression:if(!i.hypeTrainInProgress)return;var c=b;return r.current.length>5&&(r.current=r.current.filter((function(e){if(e.msg.type!==Me.PubsubMessageType.HypeTrainProgression)return!0;var t=e.msg,i=n.find((function(e){return e.source===t.data.source&&e.action===t.data.action}));if(i){var r=i.value;return c.data.quantity>=r}return!0}))),r.current.unshift({msg:c,delay:h(c)}),void f(!0);default:return}}),[b,i.hypeTrainInProgress,h,n]),a.useEffect((function(){if(!u){var e=r.current.pop();e&&(l(e.msg),d(!0),window.setTimeout((function(){d(!1),l(null)}),e.delay)),f(!1)}}),[u,m]),[s]}({channelID:l,notificationThresholds:c})[0];a.useEffect((function(){var e,a,l,c,d,p,f,h,g,b,y,S,k,E,C,_,O,T,w,x,D,j,I;if(i&&i.user&&i.user.channel&&i.user.channel.hypeTrain&&u)switch(u.type){case Me.PubsubMessageType.HypeTrainStart:var N=u,R=Ye(i,(function(e){var t,n,i;return null===(i=null===(n=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.hypeTrain)||void 0===i?void 0:i.execution}),(function(){return e=N.data,t=Object.entries(e.conductors).map((function(e){return Be(e[0],e[1])})),n={__typename:"HypeTrainExecution",id:e.id,config:Ue(e.config,e.id),startedAt:new Date(e.started_at).toISOString(),expiresAt:new Date(e.expires_at).toISOString(),updatedAt:new Date(e.updated_at).toISOString(),participations:Object.entries(e.participations).map((function(e){return Fe(e[0],e[1])})),conductors:t,endedAt:null,endReason:null,progress:We(e.progress,e.channel_id,e.config.difficulty)},e.ended_at&&(n.endedAt=new Date(e.ended_at).toISOString()),e.ending_reason&&(n.endReason=e.ending_reason),n;var e,t,n}));Object(m.i)(Ke,{userLogin:t},(function(){return R}));var P={type:_e.Start,value:null===(l=null===(a=null===(e=R.user)||void 0===e?void 0:e.channel)||void 0===a?void 0:a.hypeTrain)||void 0===l?void 0:l.execution,channelID:i.user.channel.id,receivedAt:new Date};return void n(P);case"hype-train-pre-level-up":return void n({type:_e.PreLevelUp});case Me.PubsubMessageType.HypeTrainLevelUp:var M=u,A=We(M.data.progress,null===(c=i.user)||void 0===c?void 0:c.id,(null===(h=null===(f=null===(p=null===(d=i.user)||void 0===d?void 0:d.channel)||void 0===p?void 0:p.hypeTrain)||void 0===f?void 0:f.execution)||void 0===h?void 0:h.config).difficulty);if(s.current&&s.current.progress.level===M.data.progress.level)return;s.current=M.data,o.current=M.data.progress.total,Object(m.i)(Ke,{userLogin:t},(function(){return Ye(i,(function(e){var t,n,i,r;return null===(r=null===(i=null===(n=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.hypeTrain)||void 0===i?void 0:i.execution)||void 0===r?void 0:r.progress}),(function(){return A}))}));var B=(null===(C=null===(E=null===(k=null===(S=null===(y=null===(b=null===(g=i.user)||void 0===g?void 0:g.channel)||void 0===b?void 0:b.hypeTrain)||void 0===y?void 0:y.execution)||void 0===S?void 0:S.config.difficultySettings)||void 0===k?void 0:k.find((function(e){var t,n,r,a;return e.difficulty===(null===(a=null===(r=null===(n=null===(t=i.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.hypeTrain)||void 0===r?void 0:r.execution)||void 0===a?void 0:a.config).difficulty})))||void 0===E?void 0:E.levels.find((function(e){return e.value===A.level.value-1})))||void 0===C?void 0:C.rewards)||[],F={type:_e.LevelUp,level:M.data.progress.level.value,goal:M.data.progress.goal,total:M.data.progress.total,progress:M.data.progress.value,remainingSeconds:M.data.progress.remaining_seconds,rewards:A.level.rewards,previousRewards:B,receivedAt:new Date};return void n(F);case Me.PubsubMessageType.HypeTrainConductorUpdate:var U=u,L=Be(U.data.source,U.data),G=Ye(i,(function(e){var t,n,i,r;return null===(r=null===(i=null===(n=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.hypeTrain)||void 0===i?void 0:i.execution)||void 0===r?void 0:r.conductors}),(function(e){var t=null==e?void 0:e.findIndex((function(e){return e.source===U.data.source}));return t?null==e?void 0:e.splice(t,1,L):e?Object(r.__spreadArrays)(e,[L]):[L]}));Object(m.i)(Ke,{userLogin:t},(function(){return G}));var H={type:_e.UpdateConductor,conductor:L,source:U.data.source};return void n(H);case Me.PubsubMessageType.HypeTrainEnd:var z=u;switch(Object(m.i)(Ke,{userLogin:t},(function(){return Ye(i,(function(e){var t,n,i;return null===(i=null===(n=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.hypeTrain)||void 0===i?void 0:i.execution}),(function(e){return Object(r.__assign)(Object(r.__assign)({},e),{endedAt:new Date(z.data.ended_at).toISOString(),endReason:z.data.ending_reason})}))})),z.data.ending_reason){case v.Sb.EXPIRED:n({type:_e.Fail});break;case v.Sb.COMPLETED:n({type:_e.Complete})}return void(o.current=0);case Me.PubsubMessageType.HypeTrainProgression:var V=u;if(V.data.sequence_id<=o.current)return;var W=Ye(i,(function(e){var t,n,i,r;return null===(r=null===(i=null===(n=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.hypeTrain)||void 0===i?void 0:i.execution)||void 0===r?void 0:r.progress}),(function(){var e,t,n,r,a;return We(V.data.progress,null===(e=i.user)||void 0===e?void 0:e.id,(null===(a=null===(r=null===(n=null===(t=i.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.hypeTrain)||void 0===r?void 0:r.execution)||void 0===a?void 0:a.config).difficulty)}));Object(m.i)(Ke,{userLogin:t},(function(){return W})),o.current=V.data.sequence_id;var q=1,Q=null===(w=null===(T=null===(O=null===(_=null==W?void 0:W.user)||void 0===_?void 0:_.channel)||void 0===O?void 0:O.hypeTrain)||void 0===T?void 0:T.execution)||void 0===w?void 0:w.config.participationConversionRates.find((function(e){return e.source===V.data.source&&e.action===V.data.action}));Q&&(q=Q.value);var K=!1,Y=null===(I=null===(j=null===(D=null===(x=null==W?void 0:W.user)||void 0===x?void 0:x.channel)||void 0===D?void 0:D.hypeTrain)||void 0===j?void 0:j.execution)||void 0===I?void 0:I.config.notificationThresholds.find((function(e){return e.source===V.data.source&&e.action===V.data.action}));if(Y){var J=Y.value;V.data.quantity>=J&&(K=!0)}var X=V.data.quantity*q,$={type:_e.AddProgress,value:X,bitsReceived:V.data.source===v.Ub.BITS?V.data.quantity:0,subsReceived:V.data.source===v.Ub.SUBS?V.data.quantity:0,userID:V.data.user_id,action:V.data.action,source:V.data.source,quantity:V.data.quantity,remainingSeconds:V.data.progress.remaining_seconds,isLargeEvent:K};return void n($);default:return}}),[u,i,n,t,c])};function Ze(e,t){var n,i;switch(t.type){case _e.InitializeState:var a=t,o=a.value.config.difficulty,s=a.value.config.difficultySettings.find((function(e){return e.difficulty===o})),l=5,c=[];if(s)l=s.levels[s.levels.length-1].value,c=(null===(n=s.levels.find((function(e){return e.value===a.value.progress.level.value-1})))||void 0===n?void 0:n.rewards)||[];var u=a.value.participations.filter((function(e){return e.source===v.Ub.BITS})).reduce((function(e,t){return e+t.quantity}),0),d=a.value.participations.filter((function(e){return e.source===v.Ub.SUBS})).reduce((function(e,t){return e+t.quantity}),0);return Object(r.__assign)(Object(r.__assign)({},e),{id:a.value.id,channelID:a.channelID,calloutEmote:a.value.config.calloutEmote,hypeTrainInProgress:!0,hypeTrainProgressVisible:!0,goal:a.value.progress.goal,progress:a.value.progress.progression,remainingSeconds:a.value.progress.remainingSeconds,previousLevel:a.value.progress.level.value>1?a.value.progress.level.value-1:0,level:a.value.progress.level.value,lastLevel:l,total:a.value.progress.total,rewards:a.value.progress.level.rewards,previousRewards:c,conductorRewards:a.value.config.conductorRewards,subsReceived:d,bitsReceived:u,participationConversionRates:a.value.config.participationConversionRates,subsConductor:a.value.conductors.find((function(e){return e.source===v.Ub.SUBS})),bitsConductor:a.value.conductors.find((function(e){return e.source===v.Ub.BITS})),receivedAt:new Date});case _e.Start:var p=t,m=p.value.config.difficulty,f=p.value.config.difficultySettings.find((function(e){return e.difficulty===m})),h=5,g=[];if(f)h=f.levels[f.levels.length-1].value,g=(null===(i=f.levels.find((function(e){return e.value===p.value.progress.level.value-1})))||void 0===i?void 0:i.rewards)||[];var b=p.value.participations.filter((function(e){return e.source===v.Ub.BITS})).reduce((function(e,t){return e+t.quantity}),0),y=p.value.participations.filter((function(e){return e.source===v.Ub.SUBS})).reduce((function(e,t){return e+t.quantity}),0);return Object(r.__assign)(Object(r.__assign)({},e),{id:p.value.id,channelID:p.channelID,calloutEmote:p.value.config.calloutEmote,hypeTrainStarted:!0,hypeTrainInProgress:!0,goal:p.value.progress.goal,progress:p.value.progress.progression,remainingSeconds:p.value.progress.remainingSeconds,level:p.value.progress.level.value,lastLevel:h,previousLevel:p.value.progress.level.value>1?p.value.progress.level.value-1:0,total:p.value.progress.total,rewards:p.value.progress.level.rewards,previousRewards:g,conductorRewards:p.value.config.conductorRewards,participationConversionRates:p.value.config.participationConversionRates,bitsReceived:b,subsReceived:y,subsConductor:p.value.conductors.find((function(e){return e.source===v.Ub.SUBS})),bitsConductor:p.value.conductors.find((function(e){return e.source===v.Ub.BITS})),receivedAt:p.receivedAt});case _e.FinishStartAnimation:return Object(r.__assign)(Object(r.__assign)({},e),{hypeTrainStarted:!1,hypeTrainProgressVisible:!0});case _e.ShowProgress:return Object(r.__assign)(Object(r.__assign)({},e),{hypeTrainProgressVisible:!0});case _e.ShowExpandedView:return Object(r.__assign)(Object(r.__assign)({},e),{hypeTrainExpandedViewVisible:!0});case _e.HideExpandedView:return Object(r.__assign)(Object(r.__assign)({},e),{hypeTrainExpandedViewVisible:!1});case _e.PreLevelUp:return Object(r.__assign)(Object(r.__assign)({},e),{hypeTrainPreLevelUp:!0});case _e.LevelUp:var S=t,k=e.level;return Object(r.__assign)(Object(r.__assign)({},e),{hypeTrainPreLevelUp:!1,hypeTrainLeveledUp:!0,hypeTrainProgressVisible:!1,previousLevel:k,level:S.level,previousRewards:S.previousRewards,rewards:S.rewards,progress:S.progress,remainingSeconds:S.remainingSeconds,goal:S.goal,total:S.total,receivedAt:S.receivedAt});case _e.UpdateConductor:var E=t;return Object(r.__assign)(Object(r.__assign)({},e),{bitsConductor:E.source===v.Ub.BITS?E.conductor:e.bitsConductor,subsConductor:E.source===v.Ub.SUBS?E.conductor:e.subsConductor});case _e.FinishLevelUpAnimation:return Object(r.__assign)(Object(r.__assign)({},e),{hypeTrainLeveledUp:!1,hypeTrainProgressVisible:!0});case _e.Complete:return Object(r.__assign)(Object(r.__assign)({},e),{hypeTrainComplete:!0,hypeTrainProgressVisible:!1,hypeTrainExpandedViewVisible:!1});case _e.Fail:return Object(r.__assign)(Object(r.__assign)({},e),{hypeTrainFailed:!0,hypeTrainProgressVisible:!1,hypeTrainExpandedViewVisible:!1});case _e.ShowRewards:return Object(r.__assign)(Object(r.__assign)({},e),{hypeTrainComplete:!1,hypeTrainCompleteRewardsVisible:!0});case _e.AddProgress:var C=t;return Object(r.__assign)(Object(r.__assign)({},e),{progress:e.progress+C.value,total:e.total+C.value,bitsReceived:e.bitsReceived+C.bitsReceived,subsReceived:e.subsReceived+C.subsReceived,currentEventUserID:C.userID,currentEventQuantity:C.quantity,currentEventAction:C.action,currentEventSource:C.source,isLargeEvent:C.isLargeEvent});case _e.FinishLargeEventAnimation:return Object(r.__assign)(Object(r.__assign)({},e),{isLargeEvent:!1});case _e.ResetState:return Object(r.__assign)({},je());default:return e}}var et=function(e){var t=a.useReducer(Ze,Object(r.__assign)({},je())),n=t[0],i=t[1],o=Object(r.__assign)(Object(r.__assign)({},n),{finishStartHypeTrainAnimation:function(){return i({type:_e.FinishStartAnimation})},finishLevelUpHypeTrainAnimation:function(){return i({type:_e.FinishLevelUpAnimation})},finishLargeEventAnimation:function(){return i({type:_e.FinishLargeEventAnimation})},showHypeTrainRewards:function(){return i({type:_e.ShowRewards})},showExpandedView:function(){return i({type:_e.ShowExpandedView})},hideExpandedView:function(){return i({type:_e.HideExpandedView})},resetState:function(){return i({type:_e.ResetState})}});return a.createElement(Ne.Provider,{value:o},a.createElement(tt,{channelLogin:e.channelLogin,dispatch:i}),e.children)},tt=function(e){var t=e.dispatch,n=e.channelLogin;return $e({channelLogin:n,dispatch:t}),a.createElement(j.a,{display:I.g.Hide})},nt=n("VbXa"),it=n.n(nt),rt=(n("hxuZ"),function(e){function t(){return e.apply(this,arguments)||this}return it()(t,e),t.prototype.render=function(){var e=this.props.children.split(" ");return e.map((function(t,n){return a.createElement(a.Fragment,{key:t+n},a.createElement(Te.a,{display:I.g.InlineBlock},a.createElement("span",{className:"tw-animated-title__segment tw-animated-title__segment--"+n,style:{animationDelay:30*n+"ms"}},t)),n<e.length&&a.createElement("span",null," "))}))},t}(a.Component));rt.displayName="AnimatedTitle";n("26Wv");var at=function(){var e=a.useContext(Ne),t=a.useState(!1),n=t[0],i=t[1],r=a.useState(!1),s=r[0],c=r[1],u=a.useState(!1),d=u[0],p=u[1],m=a.useMemo((function(){return e.level===e.lastLevel?e.level:e.previousLevel}),[e.level,e.lastLevel,e.previousLevel]);Re({duration:5,onComplete:function(){return i(!0)},shouldStart:e.hypeTrainComplete&&!n}),Re({duration:7e3,onComplete:function(){return c(!0)},shouldStart:e.hypeTrainComplete&&n&&!s}),Re({duration:6e3,onComplete:function(){return p(!0)},shouldStart:s}),Re({duration:6e3,onComplete:e.showHypeTrainRewards,shouldStart:d});var f=o({"hype-train-complete__intro":!0,"hype-train-complete__intro--start":e.hypeTrainComplete&&n&&!s}),h=a.useMemo((function(){return e.calloutEmote&&e.calloutEmote.id?Number(e.calloutEmote.id):xe.d}),[e.calloutEmote]),g=a.useMemo((function(){return e.calloutEmote&&e.calloutEmote.token||xe.e}),[e.calloutEmote]);return a.createElement(j.a,{className:"hype-train-complete__container",display:I.g.Flex,flexDirection:I.h.Row,alignItems:I.b.Center,padding:{x:2},position:I.n.Relative},a.createElement(j.a,{className:f,display:e.hypeTrainComplete&&!s?I.g.Flex:I.g.Hide,flexDirection:I.h.Row,alignItems:I.b.Center,position:I.n.Absolute,fullHeight:!0},a.createElement(V.a,{bold:!0,fontSize:I.j.Size2,whiteSpace:V.f.NoWrap},Object(l.d)("Hype Train success!","HypeTrainCompleteTrain")),a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row,padding:{left:1}},a.createElement(xe.a,{quantity:4,emoteID:h,emoteToken:g}))),a.createElement(B.a,{show:s,type:B.c.SlideOverBottom,injectChild:!0},a.createElement(j.a,{display:s&&!d?I.g.Flex:I.g.Hide,flexDirection:I.h.Column,fullHeight:!0,margin:"auto"},a.createElement(V.a,{bold:!0,fontSize:I.j.Size5,color:I.f.Overlay},a.createElement(rt,null,Object(l.d)("Such strong support","HypeTrainCompleteTrain"))),a.createElement(V.a,{bold:!0,fontSize:I.j.Size5,color:I.f.Overlay},a.createElement(rt,null,Object(l.d)("Level {level} completed!",{level:Object(l.f)(m)},"HypeTrainComplete"))))),a.createElement(B.a,{show:d,type:B.c.SlideOverBottom,injectChild:!0},a.createElement(j.a,{display:d?I.g.Flex:I.g.Hide,flexDirection:I.h.Column,fullHeight:!0,margin:"auto"},a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row},a.createElement(we,null,a.createElement(M.a,{color:I.f.Overlay,padding:{right:.5}},a.createElement(P.a,{asset:R.a.Star}))),a.createElement(V.a,{className:"hype-train-complete__text",bold:!0,fontSize:I.j.Size5,color:I.f.Overlay},a.createElement(rt,null,Object(l.d)("{numSubs, plural, one {{subs} Sub} other {{subs} Subs}}",{numSubs:e.subsReceived,subs:Object(l.f)(e.subsReceived)},"HypeTrainComplete")))),a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row},a.createElement(we,null,a.createElement(M.a,{color:I.f.Overlay,padding:{right:.5}},a.createElement(P.a,{asset:R.a.Bits}))),a.createElement(V.a,{className:"hype-train-complete__text",bold:!0,fontSize:I.j.Size5,color:I.f.Overlay},a.createElement(rt,null,Object(l.d)("{bits} Bits",{bits:Object(l.f)(e.bitsReceived)},"HypeTrainComplete")))))))},ot=n("DQBF"),st=n("Mj6i"),lt=n("b5vT"),ct=n("OpME"),ut=function(e){var t={id:e.id,token:e.token,isLocked:e.isLocked},n=Object(ct.b)(t);return a.createElement(lt.b,{emote:n,key:t.id})};var dt=Object(d.d)(Object(s.b)((function(e){return{isLoggedIn:Object(u.f)(e)}})),Object(st.a)())((function(e){var t=e.emoteSetsData,n=a.useContext(Ne),i=a.useCallback((function(e){return!t||!t.emoteMap||void 0===Object.entries(t.emoteMap).find((function(t){return t[1].id===e}))}),[t]),r=a.useMemo((function(){return a.createElement(we,{fadeInSlow:!0},n.rewards.filter((function(e){return e.type===v.Vb.EMOTE})).map((function(e){var t;return"HypeTrainEmoteReward"===e.__typename&&a.createElement(ut,{key:"emote-reward:"+e.id,id:e.id,token:(null===(t=e.emote)||void 0===t?void 0:t.token)||"",isLocked:i(e.id)})})))}),[n.rewards,i]);return a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Column,padding:{top:2}},a.createElement(V.a,{bold:!0,transform:V.d.Uppercase,fontSize:I.j.Size5},Object(l.d)("Available Rewards","HypeTrainExpandedViewAvailableRewards")),a.createElement(V.a,{fontSize:I.j.Size8},Object(l.d)("You can earn one emote per train by subbing, gifting, or using more than 100 Bits in total during the event. Exclusive emotes are given out at the end of the Hype Train event, and will be available to use until they are refreshed with a new emote theme.","HypeTrainExpandedViewAvailableRewards")),a.createElement(j.a,{padding:{top:.5},display:I.g.Flex,flexDirection:I.h.Column,textAlign:I.p.Center},a.createElement(V.a,{fontSize:I.j.Size5},Object(l.d)("Level {level} emotes",{level:n.level},"HypeTrainExpandedViewAvailableRewards")),a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row,padding:{top:.5},justifyContent:I.l.Around},r)))})),pt=n("8SX2"),mt=n("oK83"),ft=n("Cak+"),ht=n("uG/k"),gt=(n("v30r"),function(e){var t=e.source,n=e.message,i=e.claimMessage,r=a.useContext(Ne),o=a.useMemo((function(){switch(t){case v.Ub.SUBS:return r.subsConductor;case v.Ub.BITS:return r.bitsConductor;default:return}}),[t,r]),s=Object(Je.d)(ft,{skip:!o,variables:{userID:(null==o?void 0:o.user.id)||""}}).data,c=a.useMemo((function(){return s&&s.user&&s.user.login?s.user.login:""}),[s]),u=a.useMemo((function(){if(s&&s.user){if(s.user.displayName)return s.user.displayName;if(s.user.login)return s.user.login}return""}),[s]),d=a.useMemo((function(){return o?o.participation.filter((function(e){return e.source===t})).reduce((function(e,t){return e+t.quantity}),0):0}),[o,t]),p=a.useMemo((function(){switch(t){case v.Ub.SUBS:return R.a.Gift;case v.Ub.BITS:return R.a.Bits;default:return R.a.DeadGlitch}}),[t]),m=a.useMemo((function(){var e=r.conductorRewards.find((function(e){return e.type===v.Qb.CURRENT&&e.source===t}));if(e){var n=e.rewards.filter((function(e){return e.type===v.Vb.BADGE}));if(n.length>=1&&"HypeTrainBadgeReward"===n[0].__typename)return n[0]}return null}),[r.conductorRewards,t]),f=a.useMemo((function(){return a.createElement(M.a,{className:"hype-train-conductor-info__claim",background:m&&m.badge&&m.badge.imageURL&&I.d.Base||I.d.Alt2,borderRadius:I.e.Large},m&&m.badge&&m.badge.imageURL&&a.createElement(ht.a,{alt:Object(l.d)("Conductor badge","HypeTrainConductorInfo"),src:m.badge.imageURL})||a.createElement(Ce.a,{asset:p,height:30,width:30}))}),[p,m]),h=a.useMemo((function(){return o?n(c,u,d):i}),[o,i,n,c,u,d]);return a.createElement(j.a,{alignItems:I.b.Center,display:I.g.Flex,flexDirection:I.h.Row},a.createElement(j.a,{padding:{right:.5},flexShrink:0},f),a.createElement(V.a,{fontSize:I.j.Size8},h))}),bt=n("uOxs");var vt=Object(d.d)(Object(s.b)((function(e){var t=Object(u.e)(e);return{userID:t?t.id:""}})))((function(e){var t=e.userID,n=a.useContext(Ne),i=a.useCallback((function(){Object(ot.d)({serverTime:(new Date).toString(),channelID:n.channelID,userID:t,trainID:n.id,action:ot.b.LeaderName,actionType:ot.c.Click})}),[n.channelID,n.id,t]),r=a.useCallback((function(e,t,n){return Object(l.d)("{numSubs, plural, one {{user} has contributed {subs} Sub!} other {{user} has contributed {subs} Subs!}}",{user:a.createElement(pt.a,{contentID:"",login:e,sourceType:mt.b.hype_train},a.createElement(ye.a,{onClick:i},a.createElement(V.a,{fontSize:I.j.Size8,color:I.f.Link,type:V.e.Span},t))),numSubs:n,subs:Object(l.f)(n)},"HypeTrainExpandedViewConductors")}),[i]),o=a.useMemo((function(){return Object(l.d)("Sub or Gift to take over this spot!","HypeTrainExpandedViewConductors")}),[]),s=a.useCallback((function(e,t,n){return Object(l.d)("{user} has used {bits} Bits!",{user:a.createElement(pt.a,{contentID:"",login:e,sourceType:mt.b.hype_train},a.createElement(ye.a,{onClick:i},a.createElement(V.a,{fontSize:I.j.Size8,color:I.f.Link,type:V.e.Span},t))),bits:Object(l.g)(n)},"HypeTrainExpandedViewConductors")}),[i]),c=a.useMemo((function(){return Object(l.d)("Use Bits to take over this spot!","HypeTrainExpandedViewConductors")}),[]);return a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Column,padding:{top:2}},a.createElement(V.a,{bold:!0,transform:V.d.Uppercase,fontSize:I.j.Size5},Object(l.d)("Hype Conductors","HypeTrainExpandedViewConductors")),a.createElement(V.a,{fontSize:I.j.Size8},Object(l.d)("Current Hype Train top supporters.","HypeTrainExpandedViewConductors")),a.createElement(j.a,{padding:{top:.5}},a.createElement(bt.a,{childWidth:bt.b.Medium,gutterSize:bt.c.ExtraSmall,noGrow:!0},a.createElement(gt,{source:v.Ub.SUBS,message:r,claimMessage:o}),a.createElement(gt,{source:v.Ub.BITS,message:s,claimMessage:c}))))})),yt=function(){var e=a.useContext(Ne),t=a.useMemo((function(){var t=1,n=e.participationConversionRates.find((function(e){return e.action===v.Tb.TIER_1_SUB}));return n&&(t=n.value),Math.ceil(e.goal/t)}),[e.goal,e.participationConversionRates]),n=a.useMemo((function(){var t=1,n=e.participationConversionRates.find((function(e){return e.action===v.Tb.CHEER}));return n&&(t=n.value),Math.ceil(e.goal/t)}),[e.goal,e.participationConversionRates]);return a.createElement(V.a,{fontSize:I.j.Size8},Object(l.d)("Completing Level {level} requires combined support events totaling {totalSubs} Tier 1 Subs or {totalBits} Bits.",{level:e.level,totalSubs:Object(l.f)(t),totalBits:Object(l.f)(n)},"HypeTrainExpandedViewLevelOverview"))};var St=Object(d.d)(Object(s.b)((function(e){var t=Object(u.e)(e);return{userID:t?t.id:""}})))((function(e){var t=e.userID,n=a.useContext(Ne),i=a.useCallback((function(){Object(ot.d)({serverTime:(new Date).toString(),channelID:n.channelID,userID:t,trainID:n.id,action:ot.b.MoreInfo,actionType:ot.c.Click})}),[n.channelID,n.id,t]);return a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Column,padding:2},a.createElement(yt,null),a.createElement(vt,null),a.createElement(dt,null),a.createElement(j.a,{padding:{top:1},textAlign:I.p.Center},a.createElement(ye.a,{targetBlank:!0,onClick:i,linkTo:"https://help.twitch.tv/s/article/hype-train-guide"},Object(l.d)("More info","HypeTrainExpandedView"))))})),kt=(n("G75Y"),function(){var e=a.useContext(Ne);return a.createElement(j.a,{className:"hype-train-fail__container",display:e.hypeTrainFailed?I.g.Flex:I.g.Hide,flexDirection:I.h.Column,fullHeight:!0,position:I.n.Relative},a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row,padding:{x:2,top:1}},a.createElement(V.a,{bold:!0,fontSize:I.j.Size4},Object(l.d)("You missed the train","HypeTrainFail")),a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row},a.createElement(xe.a,{quantity:2,emoteID:xe.b,emoteToken:xe.c}))),a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row,padding:{x:2,top:.5,bottom:1}},a.createElement(V.a,null,Object(l.d)("The Hype Train is long gone. Better luck next time!","HypeTrainFail"))),a.createElement(j.a,{position:I.n.Absolute,attachBottom:!0,fullWidth:!0},a.createElement(A.a,{animationDirection:A.b.Down,size:A.c.Small,animationDuration:20,onAnimationEnd:e.resetState})))}),Et=(n("qG/w"),function(){var e=a.useContext(Ne),t=a.useState(!1),n=t[0],i=t[1],r=a.useState(!1),s=r[0],c=r[1],u=a.useState(!1),d=u[0],p=u[1],m=a.useState(!1),f=m[0],h=m[1],g=a.useState(!1),b=g[0],v=g[1],y=a.useState(!1),S=y[0],k=y[1];Re({duration:10,onComplete:function(){return i(!0)},shouldStart:e.hypeTrainLeveledUp&&!e.hypeTrainPreLevelUp&&!n}),Re({duration:3e3,onComplete:function(){return c(!0)},shouldStart:n&&!s}),Re({duration:20,onComplete:function(){return p(!0)},shouldStart:s&&!d}),Re({duration:8e3,onComplete:function(){return h(!0)},shouldStart:d&&!f}),Re({duration:20,onComplete:function(){return v(!0)},shouldStart:f&&!b}),Re({duration:6e3,onComplete:function(){k(!0),e.finishLevelUpHypeTrainAnimation()},shouldStart:b&&!S});var E=o({"hype-train-level-up__container":!0,"hype-train-level-up__background-confetti":!0}),C=o({"hype-train-level-up__text-container":!0,"hype-train-level-up__text-container--fade-in":e.hypeTrainLeveledUp&&n&&!s}),_=o({"hype-train-level-up__intro":!0,"hype-train-level-up__intro--start":s&&d&&!f}),O=a.useMemo((function(){return e.calloutEmote&&e.calloutEmote.id?Number(e.calloutEmote.id):xe.d}),[e.calloutEmote]),T=a.useMemo((function(){return e.calloutEmote&&e.calloutEmote.token||xe.e}),[e.calloutEmote]);return a.createElement(j.a,{className:E,display:e.hypeTrainLeveledUp&&!e.hypeTrainPreLevelUp?I.g.Flex:I.g.Hide,flexDirection:I.h.Row,alignItems:I.b.Center,padding:{x:2},position:I.n.Relative},a.createElement(j.a,{className:C,display:!e.hypeTrainLeveledUp||e.hypeTrainPreLevelUp||s?I.g.Hide:I.g.Flex,textAlign:I.p.Center,margin:"auto"},a.createElement(V.a,{bold:!0,fontSize:I.j.Size3},Object(l.f)(1,"percent"))),a.createElement(j.a,{className:_,display:s&&!f?I.g.Flex:I.g.Hide,flexDirection:I.h.Row,alignItems:I.b.Center,position:I.n.Absolute,textAlign:I.p.Center,fullHeight:!0},a.createElement(V.a,{bold:!0,fontSize:I.j.Size2,transform:V.d.Capitalize,whiteSpace:V.f.NoWrap},Object(l.d)("hyyyyypeeee","HypeTrainLevelUp")),a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row,padding:{left:1},fullWidth:!0},a.createElement(xe.a,{quantity:4,emoteID:O,emoteToken:T}))),a.createElement(j.a,{display:f&&!S?I.g.Flex:I.g.Hide,flexDirection:I.h.Row,fullHeight:!0,margin:"auto",alignItems:I.b.Center},a.createElement(V.a,{bold:!0,fontSize:I.j.Size5,color:I.f.Overlay},a.createElement(rt,null,Object(l.d)("Level {previousLevel} complete!",{previousLevel:e.previousLevel},"HypeTrainLevelUp")))))}),Ct=n("3CMh"),_t=(n("peTa"),function(){var e=a.useContext(Ne),t=Object(Je.d)(ft,{skip:!e.currentEventUserID,variables:{userID:e.currentEventUserID}}).data;Re({duration:7e3,onComplete:e.finishLargeEventAnimation,shouldStart:e.isLargeEvent});var n=a.useMemo((function(){if(e.currentEventSource!==v.Ub.SUBS)return 0;switch(e.currentEventAction){case v.Tb.TIER_1_SUB:case v.Tb.TIER_1_GIFTED_SUB:return 1;case v.Tb.TIER_2_SUB:case v.Tb.TIER_2_GIFTED_SUB:return 2;case v.Tb.TIER_3_SUB:case v.Tb.TIER_3_GIFTED_SUB:return 3;default:return 0}}),[e.currentEventSource,e.currentEventAction]),i=a.useMemo((function(){if(e.currentEventSource!==v.Ub.SUBS)return!1;switch(e.currentEventAction){case v.Tb.TIER_1_GIFTED_SUB:case v.Tb.TIER_2_GIFTED_SUB:case v.Tb.TIER_3_GIFTED_SUB:return!0;default:return!1}}),[e.currentEventSource,e.currentEventAction]),r=a.useMemo((function(){if(t&&t.user){if(t.user.displayName)return t.user.displayName;if(t.user.login)return t.user.login}return""}),[t]),o=a.useMemo((function(){switch(e.currentEventSource){case v.Ub.SUBS:return a.createElement(ht.a,{alt:Object(l.d)("Sub Gift Icon","HypeTrainLargeEvent"),src:"https://static-cdn.jtvnw.net/badges/v1/3e638e02-b765-4070-81bd-a73d1ae34965/3"});case v.Ub.BITS:return a.createElement(j.a,{className:"hype-train-large-event__cheermote"},a.createElement(Ct.a,{prefix:"cheer",amount:e.currentEventQuantity,showImage:!0,showAmount:!1,animated:!1,size:Ct.b.Medium}));default:return null}}),[e.currentEventSource,e.currentEventQuantity]);return a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row,padding:{top:.5},alignItems:I.b.Center},a.createElement(we,null,a.createElement(j.a,{padding:{right:1}},o)),a.createElement(j.a,null,a.createElement(V.a,{bold:!0},e.currentEventSource===v.Ub.BITS&&a.createElement(rt,null,Object(l.d)("{user} just used {numBits} Bits!",{numBits:Object(l.f)(e.currentEventQuantity),user:r},"HypeTrainLargeEvent")),e.currentEventSource===v.Ub.SUBS&&i&&a.createElement(rt,null,Object(l.d)("{user} just gifted {numSubs} Tier {tier} Subs!",{numSubs:Object(l.f)(e.currentEventQuantity),tier:n,user:r},"HypeTrainLargeEvent")),e.currentEventSource===v.Ub.SUBS&&!i&&a.createElement(rt,null,Object(l.d)("{user} just subscribed with a Tier {tier} Sub!",{tier:n,user:r},"HypeTrainLargeEvent")))))}),Ot=function(){var e=a.useContext(Ne),t=a.useMemo((function(){return e.level===e.lastLevel?Object(l.d)("Final level! Keep the hype going until the clock runs out.","HypeTrainLevelDisplay"):Object(l.d)("Sub, gift, or use Bits to get to the next level","HypeTrainLevelDisplay")}),[e.level,e.lastLevel]);return a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Column},a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row,padding:{bottom:.5}},a.createElement(M.a,{className:"hype-train-progress-bar-info-view__level-pill",borderRadius:I.e.Rounded,padding:{x:1},alignItems:I.b.Center,flexShrink:0},a.createElement(V.a,{tabularNums:!0},"LVL "+e.level)),a.createElement(Te.a,{padding:{left:.5}},a.createElement(V.a,{fontSize:I.j.Size5},Object(l.d)("Hype Train","HypeTrainLevelDisplay")))),a.createElement(V.a,null,t))},Tt=n("zY44"),wt=n("5zf8"),xt=function(e){var t=e.seconds,n=a.useState(t-2),i=n[0],r=n[1];return a.useEffect((function(){var e=setInterval((function(){r((function(e){return e<=0?0:e-1}))}),1e3);return function(){return clearInterval(e)}}),[t]),a.createElement(a.Fragment,null,Object(wt.b)(i,wt.a.ClockMS))};n("w4pw");var Dt,jt=Object(d.d)(Object(s.b)((function(e){var t=Object(u.e)(e);return{userID:t?t.id:""}})))((function(e){var t=e.userID,n=a.useContext(Ne);Re({duration:1e3,onComplete:null,shouldStart:n.hypeTrainPreLevelUp});var i=a.useCallback((function(){var e;n.hypeTrainExpandedViewVisible?(e=ot.b.Expand,n.hideExpandedView()):(e=ot.b.Hide,n.showExpandedView()),Object(ot.d)({serverTime:(new Date).toString(),channelID:n.channelID,userID:t,trainID:n.id,action:e,actionType:ot.c.Click})}),[n,t]),r=a.useMemo((function(){return n.hypeTrainExpandedViewVisible?R.a.AngleUp:R.a.AngleDown}),[n.hypeTrainExpandedViewVisible]),s=a.useMemo((function(){var e=n.progress/n.goal*100;return e>100&&n.level!==n.lastLevel?100:e}),[n.progress,n.goal,n.level,n.lastLevel]),l=a.useMemo((function(){return n.remainingSeconds-Math.round(((new Date).getTime()-n.receivedAt.getTime())/1e3)}),[n.receivedAt,n.remainingSeconds]),c=a.useMemo((function(){return o({"hype-train-progress-bar-info-view__progress-value":!0,"hype-train-progress-bar-info-view__progress-value--level-up":n.hypeTrainPreLevelUp})}),[n.hypeTrainPreLevelUp]),u=a.useMemo((function(){return o({"hype-train-progress-bar-info-view__timer":!0,"hype-train-progress-bar-info-view__timer--level-up":n.hypeTrainPreLevelUp})}),[n.hypeTrainPreLevelUp]),d=a.useMemo((function(){return o({"hype-train-progress-bar-info-view__left":!0,"hype-train-progress-bar-info-view__left--level-up":n.hypeTrainPreLevelUp})}),[n.hypeTrainPreLevelUp]);return a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row,padding:{y:.5,x:2},fullHeight:!0},a.createElement(j.a,{className:d},a.createElement(B.a,{show:!n.isLargeEvent,type:B.c.SlideOverBottom,duration:B.b.Long},a.createElement(j.a,{display:n.isLargeEvent?I.g.Hide:I.g.Flex},a.createElement(Ot,null))),a.createElement(B.a,{show:n.isLargeEvent,type:B.c.SlideOverBottom,duration:B.b.Long},a.createElement(j.a,{display:n.isLargeEvent?I.g.Flex:I.g.Hide},a.createElement(_t,null)))),a.createElement(j.a,{className:"hype-train-progress-bar-info-view__right",display:I.g.Flex,flexDirection:I.h.Column,textAlign:I.p.Right,alignItems:I.b.End},a.createElement(Te.a,{className:u,textAlign:I.p.Right,padding:{right:3}},a.createElement(V.a,{color:I.f.Alt,fontSize:I.j.Size8},a.createElement(xt,{seconds:l}))),a.createElement(j.a,{className:c,display:I.g.Flex,flexDirection:I.h.Row,textAlign:I.p.Right,margin:{y:"auto"}},a.createElement(V.a,{bold:!0,fontSize:I.j.Size3},a.createElement(Tt.a,{value:s,formatValue:function(e){return e+"%"},duration:4})),a.createElement(N.a,{onClick:i,icon:r}))))})),It=(n("zwzf"),function(){var e=a.useContext(Ne),t={transform:"scaleX("+e.progress/e.goal+")",transformOrigin:"0 0"};return a.createElement(j.a,{fullHeight:!0,fullWidth:!0},a.createElement(M.a,{fullWidth:!0,fullHeight:!0,overflow:I.m.Hidden,position:I.n.Absolute,zIndex:I.s.Below},a.createElement(Te.a,{fullHeight:!0,fullWidth:!0},a.createElement("div",{className:"hype-train-progress-bar__fill",style:t}))),a.createElement(jt,null))}),Nt=(n("WNT5"),function(){var e=a.useContext(Ne),t=a.useState(!0),n=t[0],i=t[1],r=a.useMemo((function(){return e.level===e.lastLevel?e.rewards:e.previousRewards}),[e.level,e.lastLevel,e.rewards,e.previousRewards]);Re({duration:2e3,onComplete:function(){return i(!1)},shouldStart:n}),Re({duration:2e3,onComplete:function(){return i(!0)},shouldStart:!n});var o=a.useMemo((function(){return r.length%2==0?r.length/2:Math.ceil(r.length/2)}),[r]),s=a.useMemo((function(){return n?0:o}),[n,o]),c=a.useMemo((function(){return n?o:r.length}),[n,o,r.length]),u=a.useMemo((function(){return r.slice(s,c)}),[r,s,c]),d=a.createElement(we,{fadeInSlow:!0},u.filter((function(e){return e.type===v.Vb.EMOTE})).map((function(e){var t;return"HypeTrainEmoteReward"===e.__typename&&a.createElement(ut,{key:"emote-reward:"+e.id,id:e.id,token:(null===(t=e.emote)||void 0===t?void 0:t.token)||""})})));return a.createElement(j.a,{className:"hype-train-rewards-display__container",display:e.hypeTrainCompleteRewardsVisible?I.g.Flex:I.g.Hide,flexDirection:I.h.Column,fullHeight:!0,position:I.n.Relative},a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row,padding:{left:2,right:1},fullHeight:!0,alignItems:I.b.Center,position:I.n.Absolute},a.createElement(V.a,{className:"hype-train-rewards-display__text"},Object(l.d)("Great work! Emotes are being delivered to supporters","HypeTrainRewards")),a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row,zIndex:I.s.Above},d)),a.createElement(j.a,{position:I.n.Absolute,attachBottom:!0,fullWidth:!0},a.createElement(A.a,{animationDirection:A.b.Down,size:A.c.Small,animationDuration:20,onAnimationEnd:e.resetState})))}),Rt=(n("d028"),function(){var e=a.useContext(Ne),t=a.useState(!1),n=t[0],i=t[1],r=a.useState(!1),s=r[0],c=r[1],u=a.useState(!1),d=u[0],p=u[1];Re({duration:20,onComplete:function(){return i(!0)},shouldStart:e.hypeTrainStarted&&!n}),Re({duration:7e3,onComplete:function(){return c(!0)},shouldStart:n&&!s}),Re({duration:6e3,onComplete:function(){p(!0),e.finishStartHypeTrainAnimation()},shouldStart:s&&!d});var m=o({"hype-train-start__intro":!0,"hype-train-start__intro--start":e.hypeTrainStarted&&n&&!s}),f=a.useMemo((function(){return e.calloutEmote&&e.calloutEmote.id?Number(e.calloutEmote.id):xe.d}),[e.calloutEmote]),h=a.useMemo((function(){return e.calloutEmote&&e.calloutEmote.token||xe.e}),[e.calloutEmote]);return a.createElement(j.a,{className:"hype-train-start__container",display:I.g.Flex,flexDirection:I.h.Row,alignItems:I.b.Center,padding:{x:2},position:I.n.Relative},a.createElement(j.a,{className:m,display:e.hypeTrainStarted&&!s?I.g.Flex:I.g.Hide,flexDirection:I.h.Row,alignItems:I.b.Center,position:I.n.Absolute,textAlign:I.p.Center,fullHeight:!0},a.createElement(V.a,{bold:!0,fontSize:I.j.Size2,whiteSpace:V.f.NoWrap},Object(l.d)("Hype Train incoming!","HypeTrainStart")),a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row,padding:{left:1}},a.createElement(xe.a,{quantity:4,emoteID:f,emoteToken:h}))),a.createElement(B.a,{show:s,type:B.c.SlideOverBottom},a.createElement(j.a,{fullHeight:!0,display:s&&!d?I.g.Flex:I.g.Hide},a.createElement(Te.a,{margin:"auto"},a.createElement(V.a,{bold:!0,fontSize:I.j.Size5,color:I.f.Overlay},a.createElement(rt,null,Object(l.d)("You'll have a limited time to earn exclusive emotes","HypeTrainStart")))))))}),Pt=function(){var e=a.useContext(Ne);return a.createElement(B.a,{show:e.hypeTrainInProgress,type:B.c.ScaleOver,duration:B.b.Long},a.createElement(M.a,{borderRadius:I.e.Medium,overflow:e.hypeTrainCompleteRewardsVisible?I.m.Visible:I.m.Hidden,display:e.hypeTrainInProgress?I.g.Flex:I.g.Hide,flexDirection:I.h.Column},a.createElement(j.a,{fullWidth:!0},e.hypeTrainStarted&&a.createElement(j.a,{display:I.g.Block,fullHeight:!0,fullWidth:!0},a.createElement(Rt,null)),a.createElement(B.a,{show:e.hypeTrainProgressVisible,type:B.c.SlideOverLeft,duration:B.b.Long},a.createElement(j.a,{display:e.hypeTrainProgressVisible?I.g.Flex:I.g.Hide,fullHeight:!0},a.createElement(It,null))),e.hypeTrainComplete&&a.createElement(j.a,{display:I.g.Block,fullHeight:!0,fullWidth:!0},a.createElement(at,null)),e.hypeTrainFailed&&a.createElement(j.a,{display:I.g.Block,fullHeight:!0,fullWidth:!0},a.createElement(kt,null)),e.hypeTrainCompleteRewardsVisible&&a.createElement(j.a,{display:I.g.Block,fullHeight:!0,fullWidth:!0},a.createElement(Nt,null)),e.hypeTrainLeveledUp&&!e.hypeTrainPreLevelUp&&a.createElement(j.a,{display:I.g.Block,fullHeight:!0,fullWidth:!0},a.createElement(Et,null))),e.hypeTrainExpandedViewVisible&&a.createElement(St,null)))},Mt=n("X2PJ"),At=function(e){var t=e.expanded,n=e.toggleExpanded,i=e.onClick,r=a.useContext(Ne),o=a.useRef(!1);return a.useEffect((function(){o.current!==t?r.hypeTrainExpandedViewVisible&&!t?(o.current=!1,r.hideExpandedView()):!r.hypeTrainExpandedViewVisible&&t&&(o.current=!0,r.showExpandedView()):o.current!==r.hypeTrainExpandedViewVisible&&(t!==r.hypeTrainExpandedViewVisible&&n(),o.current=r.hypeTrainExpandedViewVisible)}),[r,n,t]),a.createElement(Mt.a,{borderRadius:I.e.Large,background:I.d.Base},a.createElement("div",{onClick:i},a.createElement(Pt,null)))};n("si9w");!function(e){e.Container="notification-selector"}(Dt||(Dt={}));var Bt=function(e){var t=a.createElement(pt.a,{contentID:"",login:e.data.userLogin,sourceType:mt.b.mega_cheer_notification},e.data.displayName),n=Object(l.d)("{gifterButton} MegaCheered {bitsAmount} Bits and shared rewards to {giftedAmount} others in chat!",{gifterButton:t,bitsAmount:Object(l.f)(e.data.triggerAmount),giftedAmount:e.data.selectedCount},"MegaCheerNotificationCard");return a.createElement(j.a,{"data-test-selector":Dt.Container,display:I.g.Flex,alignItems:I.b.Center,flexDirection:I.h.Row,overflow:I.m.Hidden},a.createElement(j.a,{display:I.g.Flex,alignItems:I.b.Center,className:"mega-cheer-notification-card__icon"},a.createElement(ht.a,{src:e.iconURL,alt:""})),a.createElement(j.a,{flexGrow:1,margin:{left:.5}},a.createElement(V.a,{fontSize:I.j.Size7,color:I.f.Alt2},n)))},Ft=function(e){return a.createElement(U,{progressBar:{duration:e.event.durationS,onDurationEnd:e.removeHighlight},visible:e.visible,onClick:e.onClick,header:a.createElement(Bt,{data:e.event.data,iconURL:e.event.iconURL})})},Ut=n("ZS2+"),Lt=n("V6PS"),Gt=n.n(Lt),Ht=n("QVaV"),zt=n("D7An"),Vt=n("w4HT"),Wt=n("0WFu"),qt=n("/2Fp"),Qt=(n("8R12"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={start:Date.now()},t.experimentAssignment=l.p.experiments.getAndTrackAssignment(zt.c.GiftXMore)||"control",t.giftMoreCount=t.getGiftMoreCount(t.experimentAssignment),t.getBannerText=function(){var e=null,n=null;t.props.data&&t.props.data.user&&(t.props.data.user.displayName&&(e=t.props.data.user.displayName),t.props.data.user.login&&(n=t.props.data.user.login));var i=Object(Wt.b)(t.props.tier)||"";return"control"!==t.experimentAssignment?n||e?Object(l.d)("{mysteryGiftCount, plural,            one {{displayName} is gifting {mysteryGiftCount} Tier {tier} Sub!}            other {{displayName} is gifting {mysteryGiftCount} Tier {tier} Subs!}}",{displayName:a.createElement(V.a,{bold:!0,type:V.e.Span},Object(Ht.a)(n,e)),mysteryGiftCount:t.props.mysteryGiftCount,tier:i},"MysteryGiftChatBanner"):Object(l.d)("{mysteryGiftCount, plural,          one {An anonymous gifter is gifting {mysteryGiftCount} Tier {tier} Sub!}          other {An anonymous gifter is gifting {mysteryGiftCount} Tier {tier} Subs!}}",{mysteryGiftCount:t.props.mysteryGiftCount,tier:i},"MysteryGiftChatBanner"):n||e?Object(l.d)("{mysteryGiftCount, plural,          one {{displayName} is gifting {mysteryGiftCount} Tier {tier} Sub to the community!}          other {{displayName} is gifting {mysteryGiftCount} Tier {tier} Subs to the community!}}",{displayName:a.createElement(V.a,{bold:!0,type:V.e.Span},Object(Ht.a)(n,e)),mysteryGiftCount:t.props.mysteryGiftCount,tier:i},"MysteryGiftChatBanner"):Object(l.d)("{mysteryGiftCount, plural,        one {An anonymous gifter is gifting {mysteryGiftCount} Tier {tier} Sub to the community!}        other {An anonymous gifter is gifting {mysteryGiftCount} Tier {tier} Subs to the community!}}",{mysteryGiftCount:t.props.mysteryGiftCount,tier:i},"MysteryGiftChatBanner")},t.onGiftMoreClick=function(){t.props.showSubModal({channelLogin:t.props.channelLogin||"",subLocation:"community_gift_highlight",defaultPage:Vt.a.MysteryGiftSelect,subButtonCTA:"Gift "+t.giftMoreCount+" More",defaultCGBundleSize:t.giftMoreCount})},t}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.props.mysteryGiftCount!==e.mysteryGiftCount&&this.setState({start:Date.now()})},t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(j.a,{alignItems:I.b.Center,display:I.g.Flex,flexDirection:I.h.Row,padding:{left:1},className:"mystery-gift-chat-banner"},a.createElement(j.a,{display:I.g.Flex,flexGrow:1,margin:{right:1}},a.createElement(j.a,{padding:{right:1},display:I.g.Flex,alignItems:I.b.Center,className:"mystery-gift-chat-banner__icon"},a.createElement(ht.a,{src:Gt.a,alt:Object(l.d)("Mystery gifts being given out!","MysteryGiftChatBanner")})),a.createElement(V.a,null,this.getBannerText())),"control"!==this.experimentAssignment&&this.giftMoreCount>0&&a.createElement(j.a,{fullWidth:!0,display:I.g.Flex,justifyContent:I.l.Center,flexShrink:2},a.createElement(T.a,{onClick:this.onGiftMoreClick,type:T.d.Secondary},Object(l.d)("{giftCount, plural, one {Gift {giftCount} More!} other {Gift {giftCount} More!}}",{giftCount:this.giftMoreCount},"MysteryGiftChatBanner")))))},t.prototype.getGiftMoreCount=function(e){return"control"===e?0:"variant_1"===e?1:"variant_2"===e?3:"variant_3"===e?5:0},t}(a.Component)),Kt=Object(d.d)(Object(p.a)(qt,{options:function(e){return{variables:{id:e.userID}}},skip:function(e){return!e.userID}}))(Qt),Yt=Ut.a.wrap((function(){return Promise.all([n.e(0),n.e(103)]).then(n.bind(null,"hfwl"))}),"SubModal");var Jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(Kt,{channelLogin:this.props.channelLogin,mysteryGiftCount:this.props.mysteryGiftCount,tier:this.props.tier,userID:this.props.userID,uuid:this.props.uuid,showSubModal:this.props.showSubModal})},t}(a.Component),Xt=Object(s.b)(null,(function(e){return Object(d.b)({showSubModal:function(e){var t=Object(r.__rest)(e,[]);return Object(g.e)(Yt,t)}},e)}))(Jt),$t=function(e){return a.createElement(U,{visible:e.visible,onClick:e.onClick,progressBar:{duration:e.eventData.durationS,onDurationEnd:e.removeHighlight},header:a.createElement(Xt,{key:"MysteryGiftChatBanner-"+e.eventData.uuid,channelLogin:e.eventData.channelLogin,mysteryGiftCount:e.eventData.mysteryGiftCount,tier:e.eventData.tier,userID:e.eventData.userID,uuid:e.eventData.uuid})})},Zt=n("Kukq"),en=n("Ty5D"),tn=n("oMhb");var nn=Object(p.a)(tn,{options:function(e){return{variables:{sourceChannelID:e.raid.sourceChannelID,targetChannelID:e.raid.targetChannelID}}}})((function(e){if(e.data.loading||e.data.error)return a.createElement("div",null);var t=e.component,n=Object(r.__rest)(e,["component"]);return a.createElement(t,Object(r.__assign)({},n))}));var rn=n("zwNz"),an={raid_type:"now"};function on(e,t){sn(fe.SpadeEventType.RaidPromptImpression,e,t)}function sn(e,t,n){var i=Object(r.__assign)({raid_creator_id:Number(t.creatorID),raid_source_id:Number(t.sourceChannelID),raid_target_id:Number(t.targetChannelID),raid_id:t.id},n);l.o.track(e,i)}var ln=n("eRLD"),cn=n("HH5h"),un={"data-test-selector":"raid-message"},dn={"data-test-selector":"raid-cancel-button"},pn={"data-test-selector":"raid-now-button"},mn={"data-test-selector":"raid-error-button"},fn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={didError:!1},t.handleRaidNow=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.props.onRaidNow()];case 1:return(e=t.sent()).data&&e.data.goRaid&&e.data.goRaid.error&&e.data.goRaid.error.code?this.setState({didError:!0}):this.setState({didError:!1}),[3,3];case 2:return t.sent(),this.setState({didError:!0}),[3,3];case 3:return[2]}}))}))},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){on(this.props.raid,an)},t.prototype.componentDidUpdate=function(){this.props.raid.isGoing&&this.props.onRaidGo(this.props.targetChannel.login)},t.prototype.render=function(){var e=this.props.targetChannel,t=e.displayName,n=e.login,i=e.profileImageURL;return a.createElement(a.Fragment,null,a.createElement(j.a,{display:I.g.Flex,justifyContent:I.l.Between},a.createElement(j.a,{alignItems:I.b.Center,display:I.g.Flex},a.createElement(cn.a,{size:30,src:i,alt:t,userLogin:n}),a.createElement(j.a,Object(r.__assign)({padding:{left:1}},un),this.props.timerPhase.isWaiting?hn(this.props,this.props.timerPhase.secondsUntilTransition):gn(this.props))),this.props.timerPhase.isReady&&this.props.timerPhase.secondsUntilTransition<=10&&a.createElement(rn.a,{seconds:this.props.timerPhase.secondsUntilTransition})),a.createElement(j.a,{display:I.g.Flex,justifyContent:this.state.didError?I.l.Between:I.l.End,margin:{top:.5}},this.state.didError&&a.createElement(j.a,Object(r.__assign)({display:I.g.Flex,alignItems:I.b.Center},mn),a.createElement(Ce.a,{asset:R.a.NotificationError}),Object(l.d)("Error","RaidNowError")),a.createElement(j.a,{display:I.g.Flex},a.createElement(j.a,{margin:{right:1}},a.createElement(T.a,Object(r.__assign)({type:T.d.Secondary,size:T.b.Small,onClick:this.props.onCancelRaid},dn),Object(l.d)("Cancel","RaidCreatorButton"))),a.createElement(j.a,null,a.createElement(T.a,Object(r.__assign)({size:T.b.Small,onClick:this.handleRaidNow,disabled:this.props.timerPhase.isWaiting},pn),Object(l.d)("Raid Now","RaidCreatorButton"))))))},t}(a.Component),hn=function(e,t){return Object(l.d)("{raiderCount, plural,       one {<x:strong># viewer </x:strong><x:span>is ready to raid</x:span> <x:block>{targetDisplayName} in {secondsRemaining}</x:block>}       other {<x:strong># viewers </x:strong><x:span>are ready to raid</x:span> <x:block>{targetDisplayName} in {secondsRemaining}</x:block>}}",{"x:block":function(e){return a.createElement(V.a,{type:V.e.Strong},e)},"x:strong":function(e){return a.createElement(V.a,{key:"raid-count",type:V.e.Strong},e)},"x:span":function(e){return a.createElement(V.a,{type:V.e.Span},e)},raiderCount:e.raid.viewerCount,secondsRemaining:Object(wt.b)(t,wt.a.HumanizedShort),targetDisplayName:e.targetChannel.displayName},"RaidCreatorMessageTimeLeft")},gn=function(e){return Object(l.d)("{raiderCount, plural,       one {<x:strong># viewer </x:strong><x:span>is ready to raid</x:span> <x:block>{targetDisplayName} now</x:block>}       other {<x:strong># viewers </x:strong><x:span>are ready to raid</x:span> <x:block>{targetDisplayName} now</x:block>}}",{"x:block":function(e){return a.createElement(V.a,{type:V.e.Strong},e)},"x:strong":function(e){return a.createElement(V.a,{key:"raid-count",type:V.e.Strong},e)},"x:span":function(e){return a.createElement(V.a,{type:V.e.Span},e)},raiderCount:e.raid.viewerCount,targetDisplayName:e.targetChannel.displayName},"RaidCreatorMessageCanRaid")},bn=function(e){return a.createElement(ln.a,{raid:e.raid},(function(t){return a.createElement(fn,Object(r.__assign)({},e,{timerPhase:t}))}))},vn=n("ll/k"),yn=n("rO5f"),Sn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleLeaveRaid=function(){clearTimeout(t.joinDelayTimerID),t.props.onLeaveRaid()},t.handleCountdownEnd=function(){t.props.onRaidGo(t.props.targetChannel.login)},t.handleSecondsUpdate=function(e){t.setState({remainingJitterSeconds:e})},t.channelPointsMessage=function(){return t.props.isChannelPointsEnabled&&t.props.raidPointAmount?Object(l.d)("Raid for {pointIcon} +{raidPointAmount}",{pointIcon:a.createElement(j.a,{margin:{left:.5}},a.createElement(X.b,null)),raidPointAmount:t.props.raidPointAmount},"RaidViewerMessage"):null},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.hasJoined&&(this.joinDelayTimerID=setTimeout(this.props.onJoinRaid,Object(vn.a)(5e3))),on(this.props.raid,an)},t.prototype.componentWillUnmount=function(){clearTimeout(this.joinDelayTimerID)},t.prototype.render=function(){var e=this.props.targetChannel,t=e.displayName,n=e.login,i=e.profileImageURL;return a.createElement(a.Fragment,null,a.createElement(j.a,{justifyContent:I.l.Between,display:I.g.Flex},a.createElement(j.a,{fullWidth:!0,alignItems:I.b.Center,display:I.g.Flex},a.createElement(j.a,{flexGrow:0,flexShrink:0},a.createElement(cn.a,{size:30,src:i,alt:t,userLogin:n})),a.createElement(j.a,{fullWidth:!0,padding:{x:1}},kn(this.props),a.createElement(j.a,{display:I.g.Flex,flexDirection:I.h.Row},this.channelPointsMessage())),a.createElement(j.a,{alignSelf:I.c.Center},this.renderActionable()))),this.props.raid.isGoing&&a.createElement(yn.a,{from:this.props.raid.jitterSeconds,onSecondsUpdate:this.handleSecondsUpdate,onCountdownEnd:this.handleCountdownEnd}))},t.prototype.renderActionable=function(){return this.props.raid.isGoing&&this.props.raid.jitterSeconds>2&&void 0!==this.state.remainingJitterSeconds?a.createElement(rn.a,{seconds:this.state.remainingJitterSeconds}):this.props.hasJoined?a.createElement(En,{onLeaveRaid:this.handleLeaveRaid}):a.createElement(Cn,{onJoinRaid:this.props.onJoinRaid})},t}(a.Component),kn=function(e){return Object(l.d)("{viewerCount, plural,     one {{sourceDisplayName} is raiding {targetDisplayName} with # raider. }     other {{sourceDisplayName} is raiding {targetDisplayName} with # raiders. }}",{sourceDisplayName:a.createElement(V.a,{type:V.e.Strong},e.sourceChannel.displayName),targetDisplayName:a.createElement(V.a,{type:V.e.Strong},e.targetChannel.displayName),viewerCount:e.raid.viewerCount},"RaidViewerMessage")},En=function(e){var t=e.onLeaveRaid;return a.createElement(T.a,{size:T.b.Small,type:T.d.Secondary,onClick:t},Object(l.d)("Leave","RaidViewerButton"))},Cn=function(e){var t=e.onJoinRaid;return a.createElement(T.a,{size:T.b.Small,onClick:t},Object(l.d)("Join","RaidViewerButton"))};var _n=Object(S.a)((function(e){return{raidPointAmount:e.raidPointAmount,isChannelPointsEnabled:e.isChannelPointsEnabled}}))(Sn),On=n("cr+I"),Tn=n("SSXq");var wn={"data-test-selector":"raid-banner"},xn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRaidGo=function(e){if(t.props.onExpire(t.props.raid),t.hasJoinedCurrentRaid){var n=function(e,t){var n;if(function(e){return!e.split("/")[2]}(e.pathname))n="/"+t;else{if(!function(e){return/^\/.+\/chat$/.test(e)}(e.pathname))return"";n="/"+t+"/chat"}var i=Object(r.__assign)(Object(r.__assign)({},On.parse(e.search)),{referrer:"raid"});return Object(Tn.a)(n+"?"+On.stringify(i),"www")}(t.props.history.location,e);if(n)if("/"===n.charAt(0)){var i={medium:"twitch_channel",content:"raid_channel",raid_id:t.props.raid.id};t.props.history.push(n,i)}else window.location.assign(n)}},t.handleJoinRaid=function(){var e,n;e=t.props.raid,n=an,sn(fe.SpadeEventType.RaidPromptJoin,e,n),t.props.onJoin(t.props.raid)},t.handleLeaveRaid=function(){var e,n;e=t.props.raid,n=an,sn(fe.SpadeEventType.RaidPromptLeave,e,n),t.props.onLeave(t.props.raid)},t.handleRaidNow=function(){var e;return e=t.props.raid,sn(fe.SpadeEventType.RaidPromptNow,e,an),t.props.onRaidNow(t.props.raid)},t.handleCancelRaid=function(){var e,n;e=t.props.raid,n=an,sn(fe.SpadeEventType.RaidPromptCancel,e,n),t.props.onCancel(t.props.raid)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){if(this.shouldRenderRaidBanner){var e=this.props.raid,t=this.props.data,n=t.sourceChannel,i=t.targetChannel,o=a.createElement(_n,{hasJoined:this.hasJoinedCurrentRaid,onJoinRaid:this.handleJoinRaid,onLeaveRaid:this.handleLeaveRaid,onRaidGo:this.handleRaidGo,raid:e,sourceChannel:n,targetChannel:i});return this.isRaidCreator&&(o=a.createElement(bn,{onCancelRaid:this.handleCancelRaid,onRaidNow:this.handleRaidNow,onRaidGo:this.handleRaidGo,raid:e,sourceChannel:n,targetChannel:i})),a.createElement(M.a,Object(r.__assign)({fullWidth:!0},wn),o)}return null},Object.defineProperty(t.prototype,"shouldRenderRaidBanner",{get:function(){var e=this.props.raid,t=e.isGoing&&this.hasJoinedCurrentRaid;return(e.isAnnouncing||t)&&!e.isExpired},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRaidCreator",{get:function(){var e=this.props.raid;return Boolean(e&&this.props.user&&this.props.user.id===e.creatorID)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasJoinedCurrentRaid",{get:function(){var e=this.props.raid;return!!e&&(this.isRaidCreator||e.hasJoined)},enumerable:!0,configurable:!0}),t}(a.Component);var Dn,jn=Object(d.d)(Object(s.b)((function(e){return{user:Object(u.e)(e)}})),en.k,(function(e){return function(t){return a.createElement(nn,Object(r.__assign)({},t,{component:e}))}}))(xn),In=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return this.props.raid?a.createElement(jn,{raid:this.props.raid,onJoin:this.props.onJoin,onLeave:this.props.onLeave,onExpire:this.props.onExpire,onCancel:this.props.onCancel,onRaidNow:this.props.onRaidNow}):null},t}(a.Component),Nn=n("G8UE"),Rn=function(e){var t=e.event,n=t.channelID,i=t.raid,r=t.onJoin,o=t.onLeave,l=t.onCancel,c=t.onCreate,d=t.onExpire,p=t.onRaidNow,m=Object(s.e)(u.e),f=m&&i&&m.id===i.creatorID,h=Object(a.useState)(Nn.CreationStatus.Waiting),g=h[0],b=h[1],v=Object(a.useCallback)((function(){b(Nn.CreationStatus.Ready)}),[b]),y=Object(a.useCallback)((function(){b(Nn.CreationStatus.Forced)}),[b]);return a.createElement(U,{visible:e.visible,onClick:e.onClick,progressBar:f?function(){if(i.isAnnouncing)switch(g){case Nn.CreationStatus.Waiting:return{duration:10,onDurationEnd:v};case Nn.CreationStatus.Ready:return{duration:80,onDurationEnd:y};default:return}}():function(){if(i.isAnnouncing)return{duration:90}}(),header:a.createElement(In,{channelID:n,raid:i,onCancel:l,onExpire:d,onJoin:r,onLeave:o,onRaidNow:p,onCreate:c})})},Pn=n("BmOg");!function(e){e.Expand="expand",e.Collapse="collapse",e.NavLeft="nav_left",e.NavRight="nav_right",e.SelectHighlight="select_highlight",e.ViewAll="view_all",e.CloseViewAll="close_view_all"}(Dn||(Dn={}));var Mn,An=function(e){var t={user_id:e.userID||null,channel_id:e.channelID,impression_type:e.impressionType,highlights_count:e.highlightsCount,type:e.type,stack_uuid:e.stackUUID};y.p.track(fe.SpadeEventType.CommunityHighlightClientInteraction,t)},Bn=(n("bNmR"),function(e){var t=a.useContext(de.c),n=a.useContext(de.b),i=n.highlights,r=n.uuid,o=n.listAllView,l=Object(s.e)((function(e){var t=Object(u.e)(e);return t&&t.id})),c=a.useCallback((function(){t(Object(pe.f)(e.highlight.id))}),[t,e.highlight.id]),d=a.useCallback((function(){var n=e.highlight.expanded?Dn.Collapse:Dn.Expand;An({userID:l,channelID:e.channelID,impressionType:e.highlight.event.type,highlightsCount:i.length,stackUUID:r,type:n}),t(Object(pe.g)(e.highlight.id))}),[t,i.length,e.channelID,e.highlight.event.type,e.highlight.expanded,e.highlight.id,l,r]),p=a.useRef(!1),m=a.useRef(!1);a.useEffect((function(){var t,n;!p.current&&e.visible&&(t={userID:l,channelID:e.channelID,type:e.highlight.event.type,typeDetails:null,highlightsCount:i.length,stackUUID:r},n={user_id:t.userID||null,channel_id:t.channelID,type:t.type,highlights_count:t.highlightsCount,type_details:t.typeDetails,stack_uuid:t.stackUUID},y.p.track(fe.SpadeEventType.CommunityHighlightClientImpression,n),p.current=!0)}),[l,i.length,r,e.visible,e.channelID,e.highlight.event.type]),a.useEffect((function(){var t,n;p.current||m.current||e.visible||(t={userID:l,channelID:e.channelID,type:e.highlight.event.type,highlightsCount:i.length,stackUUID:r},n={user_id:t.userID||null,channel_id:t.channelID,type:t.type,highlights_count:t.highlightsCount,stack_uuid:t.stackUUID},y.p.track(fe.SpadeEventType.CommunityHighlightClientImpressionQueued,n),m.current=!0)}),[l,i.length,r,e.visible,e.channelID,e.highlight.event.type]);return a.createElement(M.a,{background:I.d.Base,display:e.visible?I.g.Flex:I.g.Hide,flexDirection:I.h.Column,justifyContent:I.l.Center,position:I.n.Relative,elevation:2,border:!0,borderRadius:I.e.Large,margin:e.margin,fullWidth:!0,className:"community-highlight"},function(t){switch(t.event.type){case Pn.a.Raid:return a.createElement(Rn,{onClick:e.onClick,event:t.event,visible:e.visible});case Pn.a.ChannelPoll:return a.createElement(ue,{onClick:e.onClick,toggleExpanded:d,expanded:e.expanded,visible:e.visible,removeHighlight:c});case Pn.a.DropAvailable:return a.createElement(ke,{onClick:e.onClick,toggleExpanded:d,expanded:e.expanded,event:t.event,visible:e.visible,removeHighlight:c,isUserLoggedIn:void 0!==l&&l.length>0});case Pn.a.DropClaim:return a.createElement(Oe,{onClick:e.onClick,toggleExpanded:d,expanded:e.expanded,event:t.event,visible:e.visible,removeHighlight:c,listAllView:o});case Pn.a.Megacheer:return a.createElement(Ft,{onClick:e.onClick,visible:e.visible,event:t.event,removeHighlight:c});case Pn.a.MysterySubGift:return a.createElement($t,{eventData:t.event,visible:e.visible,onClick:e.onClick,removeHighlight:c});case Pn.a.HypeTrain:return a.createElement(At,{expanded:e.expanded,toggleExpanded:d,onClick:e.onClick});default:return null}}(e.highlight))}),Fn=function(e){switch(e){case Pn.a.Raid:return Object(l.d)("Raid","HighlightTitle");case Pn.a.ChannelPoll:return Object(l.d)("Poll","HighlightTitle");case Pn.a.HypeTrain:return Object(l.d)("Hype Train","HighlightTitle");case Pn.a.MysterySubGift:return Object(l.d)("Community Gift","HighlightTitle");case Pn.a.Megacheer:return"Megacheer";default:return Object(l.d)("Event","HighlightTitle")}},Un=n("wp5a"),Ln=n("i4Ys");n("IAA2");!function(e){e.ViewAllButton="view-all-button"}(Mn||(Mn={}));var Gn=function(e){var t=a.useState(!1),n=t[0],i=t[1],d=a.useState(!1),p=d[0],m=d[1],f=a.useState(!1),h=f[0],g=f[1],b=a.useContext(de.b),v=b.highlights,y=b.notifications,S=b.currentIndex,k=b.listAllView,E=b.uuid,C=a.useContext(de.c),_=Object(s.e)((function(e){var t=Object(u.e)(e);return t&&t.id})),O=Object(l.d)("{count, plural, one {# New Event} other {# New Events}}",{count:y.length},"CommunityHighlightStack"),T=a.useCallback((function(t){An({userID:_,channelID:e.channelID,impressionType:null,highlightsCount:v.length,stackUUID:E,type:Dn.ViewAll}),t.stopPropagation(),C(Object(pe.d)())}),[C,v,e.channelID,_,E]),w=a.useCallback((function(t){An({userID:_,channelID:e.channelID,impressionType:null,highlightsCount:v.length,stackUUID:E,type:Dn.CloseViewAll}),t.stopPropagation(),C(Object(pe.b)())}),[C,v,e.channelID,_,E]);a.useEffect((function(){var e;return k?g(!1):!h&&v.length>1?e=setTimeout((function(){return g(!0)}),100):h&&v.length<=1&&(e=setTimeout((function(){return g(!1)}),100)),function(){return clearTimeout(e)}}),[v,h,g,k]);var x,D,N=k?Object(r.__spreadArrays)(v.filter((function(e){return y.includes(e.id)})),v.filter((function(e){return!y.includes(e.id)}))):v,A=function(t){return t.map((function(t,n){return a.createElement(Bn,{channelID:e.channelID,highlight:t,visible:!!k||n===S,key:t.id,margin:k?{bottom:1}:void 0,onClick:k?function(n){return function(t,n){An({userID:_,channelID:e.channelID,impressionType:t.event.type,highlightsCount:v.length,stackUUID:E,type:Dn.SelectHighlight}),C(Object(pe.c)(t.id,n))}(t,n)}:void 0,expanded:!k&&t.expanded})}))},F=function(){return a.createElement(M.a,{background:I.d.Alt,className:"community-highlight-stack__header",key:"header"},a.createElement(Ln.a,{type:Ln.b.Alpha,border:!0,borderRadius:I.e.Large},a.createElement(j.a,{display:I.g.Flex,justifyContent:I.l.Between,alignItems:I.b.Center,padding:{y:.5,x:1}},a.createElement(V.a,{transform:V.d.Uppercase,fontWeight:I.k.SemiBold},Object(l.d)("Happening Now ({count})",{count:v.length},"CommunityHighlightStack")),a.createElement(P.a,{asset:R.a.GlyphArrUp}))))},U=function(t){An({userID:_,channelID:e.channelID,impressionType:null,highlightsCount:v.length,stackUUID:E,type:t})},L=o({"community-highlight-stack__card":!0,"community-highlight-stack__card--wide":1===v.length&&!k,"community-highlight-stack__card--scrollable":k&&p}),H=o({"community-highlight-stack__list-all":k}),z={disableScroll:o({"community-highlight-stack__scroll-area--disable":!k}),content:o({"community-highlight-stack__scroll-content":k,"community-highlight-stack__scroll-content--disable":!k})};return 0===v.length?null:a.createElement(Te.a,{position:I.n.Absolute,zIndex:I.s.Above,fullWidth:!0,fullHeight:k},a.createElement("div",{onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)}},a.createElement(B.a,{show:h,type:B.c.ScaleOver,duration:B.b.Long},a.createElement(j.a,{fullWidth:!0,position:I.n.Absolute,zIndex:I.s.Above},a.createElement(M.a,{className:"community-highlight-stack__backlog-card",border:!0,borderRadius:I.e.Large,position:I.n.Absolute,background:I.d.Base,zIndex:I.s.Below,key:"backlog"}))),a.createElement(j.a,{className:H,fullWidth:!0,fullHeight:k,position:I.n.Absolute,zIndex:I.s.Above},a.createElement(Te.a,{position:I.n.Absolute,fullWidth:!0,fullHeight:!0},a.createElement("div",{onClick:k?w:void 0})),a.createElement(c.b,{suppressScrollX:!0,className:z.disableScroll,scrollContentClassName:z.disableScroll,contentClassName:z.content},a.createElement(Te.a,{flexGrow:1},a.createElement("div",{onClick:k?w:void 0},!k&&v.length>1&&a.createElement(Te.a,{position:I.n.Absolute,className:"community-highlight-stack__nav-target",attachTop:!0,attachLeft:!0},a.createElement("div",{onClick:function(){return U(Dn.NavLeft)}})),a.createElement(B.a,{type:B.c.ScaleOver,duration:B.b.Long,show:v.length>0,transitionInitialMount:!0},a.createElement(j.a,{className:L},(x=A(N),D=y.length,k&&D>0&&D!==N.length?x=Object(r.__spreadArrays)([F(),a.createElement(M.a,{margin:{bottom:1},fontSize:I.j.Size5,key:"pill"},a.createElement(Un.a,{label:O,type:Un.b.Brand,transform:V.d.Uppercase}))],x.slice(0,D),[a.createElement(j.a,{display:I.g.Flex,justifyContent:I.l.Center,fullWidth:!0,key:"separator"},a.createElement(j.a,{className:"community-highlight-stack__separator",margin:{bottom:1}}))],x.slice(D)):k&&(x=Object(r.__spreadArrays)([F()],x)),a.createElement(G.a,{transitionType:k?B.c.SlideOverTop:B.c.ScaleOver,duration:B.b.Long},x)))),!k&&v.length>1&&a.createElement(Te.a,{position:I.n.Absolute,className:"community-highlight-stack__nav-target",attachTop:!0,attachRight:!0},a.createElement("div",{onClick:function(){return U(Dn.NavRight)}})),function(){var e=v[S].expanded;if((n||e)&&!k&&v.length>1){var t=y.length>=1,i=1===y.length;return a.createElement(j.a,{display:I.g.Flex,justifyContent:I.l.Center,textAlign:I.p.Center,"data-test-selector":Mn.ViewAllButton,padding:{bottom:1}},a.createElement(M.a,{borderRadius:I.e.Rounded,background:t?I.d.Accent:I.d.Alt},a.createElement(Ln.a,{onClick:i?function(){return C(Object(pe.c)(y[0]))}:T,type:t?Ln.b.Overlay:Ln.b.Alpha,borderRadius:I.e.Rounded,border:!0},a.createElement(M.a,{padding:{y:.5,x:2},borderRadius:I.e.Rounded},a.createElement(V.a,{color:t?I.f.Overlay:I.f.Link,fontWeight:I.k.SemiBold},function(){if(1===y.length){var e=v.filter((function(e){return e.id===y[0]}))[0].event.type;return Object(l.d)("1 New: {name}",{name:Fn(e)},"CommunityHighlightStack")}return y.length>1?O:Object(l.d)("View All ({count})",{count:v.length},"CommunityHighlightStack")}())))))}return null}(),a.createElement(c.c,{visible:function(){p&&m(!1)},notVisible:function(){p||m(!0)},pixelThreshold:20})))))))},Hn=Object(d.d)(Object(s.b)((function(e){return{user:Object(u.e)(e)}})),Object(E.b)((function(e){return{viewablePoll:e.viewablePoll}})))((function(e){var t=e.viewablePoll,n=e.user,i=t&&t.id,r=Object(a.useRef)(null),o=Object(a.useContext)(de.c);return Object(a.useEffect)((function(){i&&(Object(_.c)(i,n&&n.id||null)||o(Object(pe.e)({type:Pn.a.ChannelPoll},i)));r.current&&r.current!==i&&o(Object(pe.f)(r.current)),r.current=i}),[n,i,o]),null})),zn=n("VlKc"),Vn=n("SpWp"),Wn=n("m0uL"),qn=function(e){var t,n=a.useContext(de.c),i=e.channelLogin,o=Object(s.e)(u.e),c=Object(zn.a)(i).isLive||!1,d=Object(Je.d)(Vn,{variables:{channelID:e.channelID}}).data,p=(null===(t=null==d?void 0:d.channel)||void 0===t?void 0:t.id)||"",m=(null==o?void 0:o.id)||"",f=(null==o?void 0:o.login)||"",h=a.useCallback((function(e,t){var n=l.b.get("drops_2_ui_enabled",!1),i=l.b.get("drops_2_user_whitelist",[]).some((function(t){return t===e}));return(n||i)&&t}),[]),g=a.useCallback((function(e){return e!==v.yb.EXPIRED&&e!==v.yb.UNKNOWN}),[]);a.useEffect((function(){if(h(f,c)&&f){var e=l.m.get("drop_ids",{}),t=e[i]||[];i in e&&!(t.length<1)&&Object(r.__awaiter)(void 0,void 0,void 0,(function(){var e,a,o,s,c,u;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:e=0,a=t,r.label=1;case 1:if(!(e<a.length))return[3,6];o=a[e],r.label=2;case 2:return r.trys.push([2,4,,5]),[4,E.query({query:Wn,variables:{dropInstanceID:o}})];case 3:return s=r.sent().data,c=Object(me.a)(m,p,i,s,!1),g(s.dropEligibility.status)?(n(Object(pe.e)(c,o)),[3,5]):(Object(me.e)(i,o),[2]);case 4:return u=r.sent(),l.k.warn("[DropsHighlightService] error found when verifying eligibility",u),[3,5];case 5:return e++,[3,1];case 6:return[2]}}))}))}}),[]),a.useEffect((function(){if(d&&d.channel&&d.channel.availableDrops&&h(f,c))for(var e=d.channel.availableDrops,t=0,r=void 0===e?[]:e;t<r.length;t++){var a=r[t];if(a){var o={type:Pn.a.DropAvailable,userID:m,iconURL:a.imageURL,dropName:a.name,dropID:a.id,channelName:i,channelID:p,detailsURL:a.detailsURL,questName:a.questName,durationS:120,endDate:a.endDate,gameName:a.game.name,isWatchTimeBased:!1,minimumWatchTimeString:"10 minutes"};ge({userID:m,location:ie.DropsInfo,action:re.Render,channelID:p,dropID:a.id}),n(Object(pe.e)(o,a.id))}}}),[n,p,d,o,i,h,m,f,c]);var b=Object(Ae.k)(e.channelID),y=Object(Pe.a)(b),S=y[0],k=y[1],E=Object(Je.a)();return a.useEffect((function(){if(!(k&&k.error||k&&k.isSubscribing)&&S&&S.type===Me.PubsubMessageType.DropEvent&&h(f,c)&&f){var e=S.drop_instance_id;Object(me.f)(i,e),Object(r.__awaiter)(void 0,void 0,void 0,(function(){var t,a,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,E.query({query:Wn,variables:{dropInstanceID:e}})];case 1:return(t=r.sent().data)?(a=Object(me.a)(m,p,i,t,!1),g(t.dropEligibility.status)&&(ge({userID:m,location:t.dropEligibility.status===v.yb.ENTITLEMENT_LIMIT_REACHED?ie.NoNewDrops:ie.DropsClaimable,action:re.Render,channelID:p,dropID:a.dropID,dropInstanceID:e}),n(Object(pe.e)(a,e))),[3,3]):[2];case 2:return o=r.sent(),l.k.warn("[DropsHighlightService] error found when verifying eligibility",o),[3,3];case 3:return[2]}}))}))}}),[p,i,E,n,c,S,g,h,k,o,m,f]),null},Qn=function(){var e=a.useContext(Ne),t=a.useContext(de.c),n=a.useRef(null);return a.useEffect((function(){e.hypeTrainInProgress&&!n.current?(n.current=e.id,t(Object(pe.e)({type:Pn.a.HypeTrain},n.current))):n.current&&""===e.id&&(t(Object(pe.f)(n.current)),n.current=null)}),[e.id,e.hypeTrainInProgress,t]),null},Kn=n("5zXJ"),Yn=n("Uh2Q"),Jn=function(e){var t=e.channelID,n=Object(a.useContext)(de.c),i=Object(a.useContext)(Ne),r=Object(Pe.a)(Object(Ae.p)(t)),o=r[0],s=r[1],l=Object(a.useState)(null),c=l[0],u=l[1],d=Object(a.useState)(null),p=d[0],m=d[1];return Object(a.useEffect)((function(){(s&&s.error||!o||o.type!==Me.PubsubMessageType.CheerbombEvent||i.hypeTrainInProgress||o===p)&&(m(o),u(null)),u(o)}),[s,o,i.hypeTrainInProgress,p]),Object(a.useEffect)((function(){if(c&&c!==p){var e=c;if(e.data&&e.data.triggerType&&e.data.triggerType===Yn.b.Cheer)if(e.data.triggerAmount>=5e3){var t=Object(h.c)();n(Object(pe.e)({data:e.data,iconURL:$n(e.data.domain),durationS:10,type:Pn.a.Megacheer},t))}else if(e.data.triggerAmount>=1e3){t=Object(h.c)();n(Object(pe.e)({data:e.data,iconURL:Xn(e.data.domain),durationS:5,type:Pn.a.Megacheer},t))}}}),[n,p,c]),null};function Xn(e){return Object(Yn.g)(e,Yn.a)?Yn.a.tier3ImageUrl:Kn.g+"/owl-2019/notifications/MegaCheer-03.png"}function $n(e){return Object(Yn.g)(e,Yn.a)?Yn.a.tier4ImageUrl:Kn.g+"/owl-2019/notifications/MegaCheer-04.png"}var Zn=function(e){var t=e.channelID,n=e.channelLogin,i=Object(a.useContext)(Ne),r=Object(a.useContext)(de.c),o=Object(a.useState)(null),s=o[0],l=o[1],c=Object(a.useState)(null),u=c[0],d=c[1],p=Object(Pe.a)(Object(Ae.D)(t)),m=p[0],f=p[1];return Object(a.useEffect)((function(){(f&&f.error||!m||m.type!==Me.PubsubMessageType.MysteryGiftPurchase||i.hypeTrainInProgress||m===u)&&(d(m),l(null)),l(m)}),[f,m,i.hypeTrainInProgress,u]),Object(a.useEffect)((function(){if(s&&s!==u){var e=s;r(Object(pe.e)({type:Pn.a.MysterySubGift,channelLogin:n,mysteryGiftCount:e.count,tier:e.tier,userID:e.user_id,uuid:e.uuid,durationS:e.count},e.uuid))}}),[n,r,s,u]),null},ei=function(e){var t=e.channelID,n=e.raid,i=e.onJoin,r=e.onLeave,o=e.onCancel,s=e.onCreate,l=e.onExpire,c=e.onRaidNow,u=Object(a.useContext)(de.c);return Object(a.useEffect)((function(){if(n&&n.sourceChannelID===t)if((!n.hasEnded||n.isGoing&&n.hasJoined)&&!n.isExpired){u(Object(pe.e)({type:Pn.a.Raid,channelID:t,raid:n,onJoin:i,onLeave:r,onCancel:function(e){return u(Object(pe.f)(e.id)),o(e)},onCreate:s,onExpire:l,onRaidNow:c},n.id))}else u(Object(pe.f)(n.id))}),[u,n,t,i,r,o,s,l,c]),null},ti=function(e){return a.createElement(et,{channelLogin:e.channelLogin},a.createElement(Gn,{channelID:e.channelID}),a.createElement(a.Fragment,null,a.createElement(Hn,null),a.createElement(Qn,null),a.createElement(Jn,{channelID:e.channelID}),a.createElement(Zt.a,{channelID:e.channelID},(function(t){return a.createElement(ei,Object(r.__assign)({channelID:e.channelID},t))})),a.createElement(Zn,{channelID:e.channelID,channelLogin:e.channelLogin}),a.createElement(qn,{channelID:e.channelID,channelLogin:e.channelLogin})))};n.d(t,"CommunityHighlightStackManager",(function(){return ti}))},DnOo:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("SDEh"),l=n("8EUQ"),c=n("GnwI"),u=n("br9A"),d=n("dEDE"),p=n("C7sF"),m=n("vCsY"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.openCheckout(),t.props.handleSubAction({action:t.props.overrideSubEventAction?t.props.overrideSubEventAction:u.a.ClickCheckout,checkoutButtonTier:t.props.tierPrice,chargeInterval:t.props.chargeInterval,offerID:t.props.offerID})},t.openCheckout=function(){t.props.isMobileCheckout||o.n.set(l.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.productName)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(this.props.isSubbedToTier){var e=Object(o.d)("Subscribed","SubTierButton");return r.createElement(d.a,{ariaLabel:e,"data-test-selector":"subscribe-button__subscribe-tier-button",disabled:!0,icon:p.a.Star},e)}var t;return t=this.props.customSubscribeNowMessage?this.props.customSubscribeNowMessage:Object(o.d)("Subscribe","SubTierButton"),r.createElement(d.a,Object(i.__assign)({ariaLabel:t+" "+this.props.tierPrice,"data-test-selector":"subscribe-button__subscribe-tier-button",icon:this.props.icon,linkTo:this.props.isMobileCheckout?this.props.url:void 0,onClick:this.handleClick,purchase:this.props.tierPrice},Object(m.a)(this.props),{fullWidth:this.props.fullWidth,targetBlank:!!Object(s.b)()||void 0}),t)},t}(r.Component),h=Object(a.d)(Object(c.withLatencyTracking)("SubTierButton",{autoReportInteractive:!0}))(f);n.d(t,"a",(function(){return h}))},Dye3:function(e,t,n){},EBDZ:function(e,t,n){},EYib:function(e,t,n){},F9EK:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CancelRaid"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CancelRaidInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cancelRaid"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raid"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:106}};n.loc.source={body:"mutation CancelRaid($input: CancelRaidInput!) {\ncancelRaid(input: $input) {\nraid {\nid\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CancelRaid=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CancelRaid")},FLOH:function(e,t,n){"use strict";var i,r=n("q1tI"),a=n("/7QA"),o=n("3Bft"),s=n("OpME"),l=n("1bK4"),c=n("sUnt"),u=n("+80q"),d=n("yymn"),p=n("YV9q");!function(e){e.BenefitMessage="BenefitMessage",e.ExtraEmoteMessage="ExtraEmoteMessage"}(i||(i={}));var m=function(e){var t=function(e,t){var n=t[1],i=t[2];if(!n||!i)return[];var r=[],a=n.emotes,l=i.emotes;e.tier===o.a.Tier2&&a&&r.push.apply(r,a);e.tier===o.a.Tier3&&a&&l&&(r.push.apply(r,a),r.push.apply(r,l));return Object(s.c)(r)}(e.selectedSubProduct,e.allSubProducts),n=e.selectedSubProduct.tier.length>0?e.selectedSubProduct.tier[0]:"1";return Object(l.c)(e.channelID)&&Number(n)>=2?r.createElement(c.a,null,r.createElement(u.a,{"data-test-selector":i.BenefitMessage},f(e)),t.length>0?r.createElement(c.a,{alignItems:d.b.Center,display:d.g.Flex,margin:{top:1}},t.map((function(e){return r.createElement(c.a,{display:d.g.InlineFlex,key:e.id,margin:{right:.5}},r.createElement("img",{alt:e.displayName,srcSet:e.srcSet,title:e.displayName}))})),r.createElement(u.a,{bold:!0,"data-test-selector":i.ExtraEmoteMessage},Object(a.d)("{emoteCount, plural, one {Plus a Tier {tierNum} badge flair and {emoteCount} extra channel emote} other {Plus a Tier {tierNum} badge flair and {emoteCount} extra channel emotes}}",{tierNum:n,emoteCount:Object(a.f)(t.length)},"SubBenefitMessage"))):r.createElement(c.a,{alignItems:d.b.Center,display:d.g.Flex,margin:{top:1}},r.createElement(u.a,{bold:!0,"data-test-selector":i.ExtraEmoteMessage},Object(a.d)("Plus a Tier {tierNum} badge flair!",{tierNum:n},"SubBenefitMessage")))):r.createElement(c.a,null,r.createElement(u.a,{"data-test-selector":i.BenefitMessage},f(e)),t.length>0&&r.createElement(c.a,{alignItems:d.b.Center,display:d.g.Flex,margin:{top:1}},t.map((function(e){return r.createElement(c.a,{display:d.g.InlineFlex,key:e.id,margin:{right:.5}},r.createElement("img",{alt:e.displayName,srcSet:e.srcSet,title:e.displayName}))})),r.createElement(u.a,{bold:!0,"data-test-selector":i.ExtraEmoteMessage},Object(a.d)("{extraEmoteCount, plural,                 one {Plus {extraEmoteCount, number} extra channel emote}                 other {Plus {extraEmoteCount, number} extra channel emotes}}",{extraEmoteCount:t.length},"SubBenefitMessage"))))};function f(e){var t=e.allSubProducts[0],n=0;return t&&t.emotes&&(n=t.emotes.length),Object(p.a)({emoteCount:n,hasAdFree:e.selectedSubProduct.hasAdFree})}n.d(t,"a",(function(){return m}))},G6r4:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainKickoffConfig"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainKickoffConfig"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"eventsThreshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"periodSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minPoints"},arguments:[],directives:[]}]}}],loc:{start:0,end:101}};n.loc.source={body:"fragment hypeTrainKickoffConfig on HypeTrainKickoffConfig {\neventsThreshold\nperiodSeconds\nminPoints\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},G75Y:function(e,t,n){},G8UE:function(e,t,n){"use strict";var i=n("J1ZQ");n.d(t,"RaidStorage",(function(){return i.a}));var r=n("6TSi");n.o(r,"CreationStatus")&&n.d(t,"CreationStatus",(function(){return r.CreationStatus})),n.o(r,"RAID_CANCEL_V2")&&n.d(t,"RAID_CANCEL_V2",(function(){return r.RAID_CANCEL_V2})),n.o(r,"RAID_GO_V2")&&n.d(t,"RAID_GO_V2",(function(){return r.RAID_GO_V2})),n.o(r,"RAID_UPDATE_V2")&&n.d(t,"RAID_UPDATE_V2",(function(){return r.RAID_UPDATE_V2})),n.o(r,"RaidV2")&&n.d(t,"RaidV2",(function(){return r.RaidV2})),n.o(r,"TimerPhase")&&n.d(t,"TimerPhase",(function(){return r.TimerPhase}));var a=n("7qJZ");n.d(t,"RAID_CANCEL_V2",(function(){return a.a})),n.d(t,"RAID_GO_V2",(function(){return a.b})),n.d(t,"RAID_UPDATE_V2",(function(){return a.c})),n.d(t,"RaidV2",(function(){return a.d}));var o=n("Tn5u");n.d(t,"CreationStatus",(function(){return o.a})),n.d(t,"TimerPhase",(function(){return o.b}))},GOKC:function(e,t,n){},Gylv:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("QVaV"),s=n("YVOQ"),l=n("4rCz"),c=n("fQWD"),u=n("66/j"),d=n("sUnt"),p=n("+80q"),m=n("yymn"),f=n("hnjF"),h=n("Z2sP"),g=n("Jsra"),b=function(e){var t=e.badge;return a.createElement(d.a,{alignItems:m.b.Center,className:e.className,display:m.g.Flex,flexDirection:m.h.Column,flexShrink:0,margin:{top:1}},a.createElement(c.a,{badge:Object(u.b)(t),hideTooltip:!0,large:!0}),a.createElement(d.a,{margin:{top:.5}},a.createElement(p.a,{className:e.className+"--text",fontSize:m.j.Size7},t.title)))};n("qyVS");!function(e){e.ProgressMessage="subgifterprogressmessage",e.PrivacyWarning="privacysettingwarning"}(i||(i={}));var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){if(0===this.props.gifterBadges.length)return null;if(this.props.giftingAnonymously)return null;var e=this.filterBadges(),t=e.nextBadge&&parseInt(e.nextBadge.version,10)||0;return a.createElement(d.a,null,this.getProgressionMessage(t),this.getNextBadgeProgress(e,t),this.getPrivacySettingWarning(e.baseBadge))},t.prototype.getProgressionMessage=function(e){if(this.props.compact)return null;var t=null;return t=0===this.props.giftsSentCount?Object(l.d)("Instantly unlock your first gifter badge by gifting at least 1 Sub!","SubGifterBadgeProgress"):0!==e&&1e3!==e?Object(l.d)("{giftCount, plural, one {You've given <x:bold>{giftCount} gift sub</x:bold> to {channelName}'s channel. Gift <x:bold>{remainingCount} more</x:bold> to unlock your next badge!} other {You've given <x:bold>{giftCount} gift subs</x:bold> to {channelName}'s channel. Gift <x:bold>{remainingCount} more</x:bold> to unlock your next badge!}}",{giftCount:this.props.giftsSentCount,channelName:this.props.formattedDisplayName,remainingCount:e-this.props.giftsSentCount,"x:bold":function(e){return a.createElement(p.a,{bold:!0,type:p.e.Span},e)}},"SubGifterBadgeProgress"):Object(l.d)("{giftCount, plural, one {You've given <x:bold>{giftCount} gift sub</x:bold> to {channelName}'s channel!} other {You've given <x:bold>{giftCount} gift subs</x:bold> to {channelName}'s channel!}}",{giftCount:this.props.giftsSentCount,channelName:this.props.formattedDisplayName,"x:bold":function(e){return a.createElement(p.a,{bold:!0,type:p.e.Span},e)}},"SubGifterBadgeProgress"),a.createElement(d.a,{padding:{x:2,top:2},textAlign:m.p.Center},a.createElement(p.a,{"data-test-selector":i.ProgressMessage},t))},t.prototype.getCompactProgressionMessage=function(e){if(!this.props.compact||0===e||1e3===e)return null;var t=e-this.props.giftsSentCount,n=null;return n=0===this.props.giftsSentCount?Object(l.d)("<x:bold>1 Gift</x:bold> to First Badge",{"x:bold":function(e){return a.createElement(p.a,{bold:!0,type:p.e.Span},e)}},"SubGifterBadgeProgress"):Object(l.d)("{giftsRemaining, plural, one {<x:bold>{giftsRemaining} Gifts</x:bold> to Next Badge} other {<x:bold>{giftsRemaining} Gifts</x:bold> to Next Badge}}",{giftsRemaining:t,"x:bold":function(e){return a.createElement(p.a,{bold:!0,type:p.e.Span},e)}},"SubGifterBadgeProgress"),a.createElement(f.a,{margin:{top:5}},a.createElement(p.a,null,n))},t.prototype.getNextBadgeProgress=function(e,t){var n=null;if(null!==e.currentBadge&&null!==e.nextBadge){var i=parseInt(e.currentBadge.version,10);1===i&&(i=0);var r=100*(this.props.giftsSentCount-i)/(t-i);n=a.createElement(d.a,{className:"gifter-badge-progress__to-next"},a.createElement(d.a,{display:m.g.Flex,fullWidth:!0,justifyContent:m.l.Between},this.badgeLayout(e.currentBadge),this.getCompactProgressionMessage(t),this.badgeLayout(e.nextBadge)),a.createElement(d.a,{className:"gifter-badge-progress__bar",position:m.n.Relative,margin:{left:2,right:4}},a.createElement(h.a,{size:h.c.Small,mask:!0,value:r||0})))}else null===e.currentBadge&&null!==e.nextBadge?n=a.createElement(d.a,{className:"gifter-badge-progress__only-next"},a.createElement(d.a,{display:m.g.Flex,fullWidth:!0,justifyContent:m.l.Between},this.badgeLayout(e.nextBadge))):null!==e.currentBadge&&null===e.nextBadge&&(n=a.createElement(d.a,{className:"gifter-badge-progress__only-current"},a.createElement(d.a,{display:m.g.Flex,fullWidth:!0,justifyContent:m.l.Between},this.badgeLayout(e.currentBadge))));return null===n?null:a.createElement(d.a,{display:m.g.Flex,padding:{x:2},justifyContent:m.l.Center},n)},t.prototype.badgeLayout=function(e){return a.createElement(f.a,{zIndex:m.s.Above,key:e.setID+e.version},a.createElement(b,{badge:e}))},t.prototype.filterBadges=function(){var e={currentBadge:null,nextBadge:null},t=this.props.gifterBadges,n=this.props.giftsSentCount;0===n&&(n=1);for(var i=0,r=t;i<r.length;i++){var a=r[i],o=Number(a.version);if(1===o&&(e.baseBadge=a),!(o<=n))return e.nextBadge=a,e;e.currentBadge=a}return e},t.prototype.getPrivacySettingWarning=function(e){if(this.props.hidesGiftCount){var t=Object(l.d)("Your <x:link>privacy settings</x:link> have hidden your gifts given count. The default badge will be displayed.",{"x:link":function(e){return a.createElement(g.a,{linkTo:"/settings/security"},e)}},"SubGifterBadgeProgress");return a.createElement(d.a,{margin:{top:1},display:m.g.Flex,flexDirection:m.h.Row,alignItems:m.b.Center,justifyContent:m.l.Center},a.createElement(f.a,{padding:{x:1}},a.createElement(c.a,{badge:Object(u.b)(e),hideTooltip:!0})),a.createElement(f.a,{padding:{x:1}},a.createElement(p.a,{"data-test-selector":i.PrivacyWarning},t)))}return null},t}(a.Component);var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(v,{formattedDisplayName:Object(o.a)(this.props.channel.login,this.props.channel.displayName),gifterBadges:this.props.gifterBadges,giftingAnonymously:this.props.giftingAnonymously,giftsSentCount:this.props.giftCount,hidesGiftCount:this.props.hidesGiftCount,compact:this.props.compact||!1})},t}(a.Component),S=Object(s.b)((function(e){return{channel:e.channel,gifterBadges:e.gifterBadges,giftingAnonymously:e.giftingAnonymously,giftCount:e.subscriptionGiftCount,hidesGiftCount:e.hidesGiftCount}}))(y);n.d(t,"a",(function(){return S}))},HaqC:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("a5fV");function r(e,t){return Object(i.a)(Object(i.d)(t.priceInfo.price*e,t.priceInfo.exponent),t.priceInfo.currency)}},IAA2:function(e,t,n){},IvOK:function(e,t,n){},J1ZQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i,r=n("/7QA"),a=function(){function e(e){this.expiredRaids=new Set,this.leftRaids=new Set,e&&(this.expiredRaids=e.expiredRaids,this.leftRaids=e.leftRaids)}return Object.defineProperty(e,"instance",{get:function(){return i||(i=new e),i},enumerable:!0,configurable:!0}),e.prototype.isExpired=function(e){return this.expiredRaids.has(e.id)},e.prototype.hasJoined=function(e){return!this.leftRaids.has(e.id)&&!this.getStorageData()[e.id]},e.prototype.expireRaid=function(t){var n=new Set(this.expiredRaids);return n.add(t.id),new e({expiredRaids:n,leftRaids:this.leftRaids})},e.prototype.joinRaid=function(t){var n=new Set(this.leftRaids);n.delete(t.id);var i=this.getStorageData();return delete i[t.id],this.setStorageData(i),new e({expiredRaids:this.expiredRaids,leftRaids:n})},e.prototype.leaveRaid=function(t){var n=new Set(this.leftRaids);n.add(t.id);var i=this.getStorageData();return i[t.id]=!0,this.setStorageData(i),new e({expiredRaids:this.expiredRaids,leftRaids:n})},e.prototype.destroy=function(){i=void 0},e.prototype.setStorageData=function(e){r.m.set("raids-left",e)},e.prototype.getStorageData=function(){return r.m.get("raids-left",{})},e}()},JMwM:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("yR8l"),s=n("GnwI"),l=n("dEDE"),c=n("k91D"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){return t.props.onClick&&t.props.onClick()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t,n=!!(this.props.data&&this.props.data.user&&this.props.data.user.self)&&this.props.data.user.self.canGift;return this.props.checkoutURL?(e=Object(a.d)("Gift a Subscription","GiftSubscribeButton"),t="checkout-gift-subscribe-button"):(e=Object(a.d)("Gift a Sub","GiftSubscribeButton"),t="gift-subscribe-button"),r.createElement(l.a,{targetBlank:!0,disabled:!n,onClick:this.handleClick,"data-test-selector":t,purchase:this.props.purchase},this.props.buttonMessage||e)},t=Object(i.__decorate)([Object(s.withLatencyTracking)("GiftSubscribeButton",{autoReportInteractive:!0}),Object(o.a)(c,{options:function(e){return{variables:{recipientLogin:e.giftRecipient,subProductId:e.subProductId}}},skip:function(e){return!e.giftRecipient||!e.subProductId}})],t)}(r.Component);n.d(t,"a",(function(){return u}))},JRpg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PrimeSubscribe_UserPrimeData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primeSubCreditBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"willRenew"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renewalDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renewsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paidUpgrade"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gifter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:362}};n.loc.source={body:"query PrimeSubscribe_UserPrimeData($login: String!) {\nuser(login: $login) {\nid\nself {\ncanPrimeSubscribe\nprimeSubCreditBenefit {\nwillRenew\nrenewalDate\n}\nsubscriptionBenefit {\nid\npurchasedWithPrime\ntier\nplatform\nrenewsAt\nendsAt\npaidUpgrade {\nprice\nstartsAt\n}\ngift {\nisGift\ngifter {\nid\ndisplayName\n}\n}\n}\n}\n}\ncurrentUser {\nid\nhasPrime\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PrimeSubscribe_UserPrimeData=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"PrimeSubscribe_UserPrimeData")},Ji9N:function(e,t,n){},KAhE:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainConfig"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainConfig"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"kickoff"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainKickoffConfig"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cooldownPeriodMinutes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"levelDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"difficulty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"difficultySettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainDifficultySetting"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"conductorRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConductorReward"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notificationThresholds"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainNotificationThreshold"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"participationConversionRates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainParticipationConversionRate"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"calloutEmote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainCalloutEmote"},directives:[]}]}}]}}],loc:{start:0,end:920}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-conductor-reward.gql"\n#import "twilight/features/hype-train/queries/hype-train-difficulty-setting.gql"\n#import "twilight/features/hype-train/queries/hype-train-kickoff-config.gql"\n#import "twilight/features/hype-train/queries/hype-train-notification-threshold.gql"\n#import "twilight/features/hype-train/queries/hype-train-participation-conversion-rate.gql"\n#import "twilight/features/hype-train/queries/hype-train-callout-emote.gql"\nfragment hypeTrainConfig on HypeTrainConfig {\nid\nisEnabled\nkickoff {\n...hypeTrainKickoffConfig\n}\ncooldownPeriodMinutes\nlevelDurationSeconds\ndifficulty\ndifficultySettings {\n...hypeTrainDifficultySetting\n}\nconductorRewards {\n...hypeTrainConductorReward\n}\nnotificationThresholds {\n...hypeTrainNotificationThreshold\n}\nparticipationConversionRates {\n...hypeTrainParticipationConversionRate\n}\ncalloutEmote {\n...hypeTrainCalloutEmote\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("p0fo").definitions)),i.definitions=i.definitions.concat(a(n("80LI").definitions)),i.definitions=i.definitions.concat(a(n("G6r4").definitions)),i.definitions=i.definitions.concat(a(n("zB5j").definitions)),i.definitions=i.definitions.concat(a(n("Aiem").definitions)),i.definitions=i.definitions.concat(a(n("YIFl").definitions)),e.exports=i},KnXG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("p46w"),r=n("cr+I"),a=n("dlQn");function o(){return r.parse(window.location.search).countryCode||i.get(a.a)}},Kukq:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("yR8l"),l=n("geRD"),c=n("/aPz"),u=n("G8UE"),d=n("F9EK"),p=n("W1kE"),m=n("bFdo"),f=n("ulmk"),h=n("NO6m"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.raidStorage=u.RaidStorage.instance,t.handleJoin=function(e){t.setState({raid:e.withStorage(t.raidStorage.joinRaid(e))});var n={raidID:e.id};return t.props.joinRaid(Object(l.a)(n)).catch((function(){return{data:null}}))},t.handleExpire=function(e){t.setState({raid:e.withStorage(t.raidStorage.expireRaid(e))})},t.handleLeave=function(e){t.setState({raid:e.withStorage(t.raidStorage.leaveRaid(e))});var n={raidID:e.id};return t.props.leaveRaid(Object(l.a)(n)).catch((function(){return{data:null}}))},t.handleCancel=function(e){var n={sourceID:e.sourceChannelID};return t.props.cancelRaid(Object(l.a)(n)).catch((function(){return{data:null}}))},t.handleCreate=function(e,n){var i={sourceID:e,targetID:n};return t.props.createRaid(Object(l.a)(i)).catch((function(){return{data:null}}))},t.handleRaidNow=function(e){var n={sourceID:e.sourceChannelID};return t.props.goRaid(Object(l.a)(n)).catch((function(){return{data:null}}))},t.unsubscribe=function(){},t.handlePubsubMessage=function(e){if(t.props.channelID===e.raid.source_id)switch(e.type){case u.RAID_UPDATE_V2:case u.RAID_CANCEL_V2:case u.RAID_GO_V2:return t.setState((function(n){return n.raid?Object(i.__assign)(Object(i.__assign)({},n),{raid:n.raid.withMessage(e)}):Object(i.__assign)(Object(i.__assign)({},n),{raid:new u.RaidV2(e,t.raidStorage)})}));default:return}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.subscribe(this.props.channelID)},t.prototype.render=function(){return r.createElement(r.Fragment,null,this.props.children({raid:this.state.raid,onJoin:this.handleJoin,onLeave:this.handleLeave,onCancel:this.handleCancel,onCreate:this.handleCreate,onExpire:this.handleExpire,onRaidNow:this.handleRaidNow}))},t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.componentDidUpdate=function(e){var t=this;this.props.channelID!==e.channelID&&(this.unsubscribe(),this.setState({raid:void 0},(function(){return t.subscribe(t.props.channelID)})))},t.prototype.subscribe=function(e){this.unsubscribe=o.p.pubsub.subscribe({topic:Object(c.I)(e),onMessage:this.handlePubsubMessage})},t}(r.Component),b=Object(a.d)(Object(s.a)(d,{name:"cancelRaid"}),Object(s.a)(p,{name:"createRaid"}),Object(s.a)(m,{name:"goRaid"}),Object(s.a)(f,{name:"joinRaid"}),Object(s.a)(h,{name:"leaveRaid"}))(g);n.d(t,"a",(function(){return b}))},L2Dh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l}));var i=10,r=1,a=100,o={AAP:[1,2,5,25,65],1e3:[1,5,10,20,50,100],2e3:[1,5,10,20,50,100],3e3:[1,5,10,20,40]},s={AAP:65,1e3:100,2e3:100,3e3:40},l={control:[1,5,10,20,50,100],A:[1,5,10],B:[5,10,20],C:[10,20,50],D:[20,50,100]}},LKES:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainProgress"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"level"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainLevel"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progression"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remainingSeconds"},arguments:[],directives:[]}]}}],loc:{start:0,end:187}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-level.gql"\nfragment hypeTrainProgress on HypeTrainProgress {\nlevel {\n...hypeTrainLevel\n}\ngoal\nprogression\ntotal\nremainingSeconds\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("QC++").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},Li6Q:function(e,t,n){},MPK0:function(e,t,n){},Mb07:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var i,r=n("a5fV");function a(e,t){var n;return null===(n=t.offers)||void 0===n?void 0:n.find((function(t){var n;return(null===(n=t.promotion)||void 0===n?void 0:n.name)===e}))}function o(e){return s(e)?function(e){var t,n,i,a,o,s,l,c,u=null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.promoDisplay.discountPercent,d=null===(i=null===(n=null==e?void 0:e.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===i?void 0:i.previewPrice,p=null===(l=null===(s=null===(o=null===(a=null==e?void 0:e.listing)||void 0===a?void 0:a.chargeModel.internal)||void 0===o?void 0:o.previewPrice)||void 0===s?void 0:s.discount)||void 0===l?void 0:l.price;d&&(c=Object(r.a)(Object(r.d)(d.total,d.exponent),d.currency));return{discountPercent:u,discountPrice:p,price:c}}(e):{}}function s(e){return!!(null==e?void 0:e.eligibility.isEligible)}!function(e){e.FirstPaidSubOffer="first_paid_sub_offer_20_perc_off"}(i||(i={}))},NC8R:function(e,t,n){},NJDg:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("D7An"),s=n("Uh2Q"),l=n("8EUQ"),c=n("L2Dh"),u=n("HaqC"),d=n("br9A"),p=n("sUnt"),m=n("yymn"),f=n("+80q"),h=n("3aAs"),g=n("dEDE"),b=(n("XlIw"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=t.getInitialState(),t.handleChange=function(e){if(""!==e.target.value){var n=parseInt(e.target.value,10);if(!isNaN(n)){var i=t.props.limit||c.b;n<c.c?n=c.c:n>i&&(n=i),t.setState({giftCount:n,inputString:n.toString()})}}else t.setState({giftCount:1,inputString:e.target.value})},t.onCheckoutClick=function(){a.n.set(l.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.subscriptionProduct.name),a.n.set(l.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,t.state.giftCount),a.n.set(l.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,t.props.giftingAnonymously),t.props.handleSubMenuAction({action:d.a.BuyCustomMysteryGift,checkoutButtonTier:t.props.subscriptionProduct.tier,mysteryGiftCount:t.state.giftCount,isAnonymous:t.props.giftingAnonymously})},t.renderCreatorLuvUpsell=function(){if(!Object(s.f)(s.a))return null;var e=Object(s.d)(t.state.giftCount,t.props.subscriptionProduct.tier),n=Object(s.c)(t.state.giftCount,t.props.subscriptionProduct.tier),i=Object(a.d)("{benefactorAmount, plural, one {Get {benefactorAmount} emote, give {giftAmount} to the community!} other {Get {benefactorAmount} emotes, give {giftAmount} to the community!}}",{benefactorAmount:e,giftAmount:n},"CustomMysteryGiftBundle"),o=Object(a.d)("{giftAmount, plural, one {Give {giftAmount} emote to the community!} other {Give {giftAmount} emotes to the community!}}",{giftAmount:n},"CustomMysteryGiftBundle");return r.createElement(p.a,{alignItems:m.b.Center,display:m.g.Flex,margin:{left:1}},r.createElement(f.a,{color:m.f.Alt2},t.props.giftingAnonymously?o:i))},t}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.limit&&e.limit<t.giftCount?{giftCount:e.limit,inputString:e.limit.toString()}:null},t.prototype.render=function(){return r.createElement(p.a,{fullWidth:!0},r.createElement(f.a,{bold:!0,fontSize:m.j.Size5},Object(a.d)("Custom Quantity","CustomMysteryGiftBundle")),r.createElement(p.a,{display:m.g.Flex,justifyContent:m.l.Start,margin:{top:1}},r.createElement(p.a,{alignItems:m.b.Center,display:m.g.Flex,margin:{right:2}},r.createElement(p.a,{margin:{right:1}},r.createElement(h.a,{max:this.props.limit||c.b,min:c.c,onChange:this.handleChange,type:h.c.Number,value:this.state.inputString})),r.createElement(f.a,{className:"custom-community-gift-bundle__max-text"},Object(a.d)("(Max {limit, number})",{limit:this.props.limit||c.b},"CustomMysteryGiftBundle"))),r.createElement(p.a,{className:"custom-community-gift-bundle__purchase-button"},r.createElement(g.a,{fullWidth:!0,onClick:this.onCheckoutClick,purchase:Object(u.a)(this.state.giftCount,this.props.subscriptionProduct),targetBlank:!0},Object(a.d)("{mysteryGiftCount, plural, one {Gift {mysteryGiftCount} Sub} other {Gift {mysteryGiftCount} Subs}}",{mysteryGiftCount:this.state.giftCount},"CustomMysteryGiftBundle"))),this.renderCreatorLuvUpsell()))},t.prototype.getInitialState=function(){return"treatment"===a.p.experiments.getAndTrackAssignment(o.c.CommunityGiftingCustomOfferPresentment)?{giftCount:c.a,inputString:c.a.toString()}:{giftCount:c.c,inputString:c.c.toString()}},t}(r.Component));n.d(t,"a",(function(){return b}))},NO6m:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LeaveRaid"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LeaveRaidInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leaveRaid"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raidID"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:83}};n.loc.source={body:"mutation LeaveRaid($input: LeaveRaidInput!) {\nleaveRaid(input: $input) {\nraidID\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.LeaveRaid=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"LeaveRaid")},NZDK:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("hnrd"),o=n("4An/"),s=n("/7QA"),l=n("D7An");!function(e){e.Games="games",e.Videos="videos",e.Users="users",e.Channels="channels",e.StreamTags="streamTags",e.Tags="tags"}(i||(i={}));var c,u,d=n("H/lO");!function(e){e[e.AllVideos=0]="AllVideos",e[e.PastBroadcasts=1]="PastBroadcasts",e[e.Uploads=2]="Uploads",e[e.Highlights=3]="Highlights"}(c||(c={})),function(e){e[e.AnyLength=0]="AnyLength",e[e.Short=1]="Short",e[e.Long=2]="Long"}(u||(u={}));var p,m=n("BSTw"),f=n("Z9JJ");n.d(t,"a",(function(){return g}));var h=((p={})[i.Games]={indexName:d.a.Games,hitsPerPage:2,topNumericFilters:["popularity>1"],singleTypeNumericFilters:[],optionalFacetFilters:""},p[i.Videos]={indexName:d.a.Videos,hitsPerPage:6,get topNumericFilters(){return["created_at>"+S(y())]},singleTypeNumericFilters:[],optionalFacetFilters:""},p[i.Users]={indexName:d.a.Users,hitsPerPage:2,topNumericFilters:["followers>50"],singleTypeNumericFilters:[],optionalFacetFilters:""},p[i.Channels]={indexName:d.a.Channels,hitsPerPage:6,get topNumericFilters(){return["channel_count>10","updated_on>"+S(v())]},get singleTypeNumericFilters(){return["updated_on>"+S(v())]},optionalFacetFilters:""},p[i.StreamTags]={indexName:d.a.StreamTags,hitsPerPage:2,topNumericFilters:[],singleTypeNumericFilters:[],optionalFacetFilters:""},p[i.Tags]={indexName:d.a.Tags,hitsPerPage:2,topNumericFilters:[],singleTypeNumericFilters:[],optionalFacetFilters:""},p),g=function(){function e(e){this.apolloClient=e.apolloClient,this.client=a(e.appId,e.apiKey),this.stats=e.stats,this.logger=e.logger.withCategory("search-client"),this.sendSearchRequestToForage="variant"===s.p.experiments.getAndTrackAssignment(l.c.NewSearchBackend),this.getCountryCode()}return e.prototype.queryTopResults=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,a,s,l,c,u=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=b(t),a=[],o.a.values(i).forEach((function(t){a.push(u.getTopResult(h[t],e)),a.push(u.getTotalResult(h[t],e))})),[4,this.query(a)];case 1:return(s=r.sent())&&s.results?((c={})[d.a.Users]=i.Users,c[d.a.Games]=i.Games,c[d.a.Channels]=i.Channels,c[d.a.Videos]=i.Videos,c[d.a.StreamTags]=i.StreamTags,c[d.a.Tags]=i.Tags,l=c,s.results.forEach((function(e){var t=o.a.convertValueFromExternal(d.a,e.index);if(t){var i=l[t];n[i]?(n[i].totalHits=Math.max(e.nbHits,n[i].totalHits),n[i].hits=e.hits.length>n[i].hits.length?e.hits:n[i].hits):n[i]={hits:e.hits,totalHits:e.nbHits}}})),[2,n]):[2,n]}}))}))},e.prototype.queryForType=function(e,t,n,i){var a=void 0===i?{}:i,o=a.page,s=void 0===o?0:o,l=a.hitsPerPage,c=void 0===l?50:l,u=a.facetFilters,p=void 0===u?"":u,m=a.numericFilters,f=a.restrictSearchableAttributes,g=void 0===f?[]:f;return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,l,u,f,v,y,S=this;return Object(r.__generator)(this,(function(k){switch(k.label){case 0:switch((i=b(n)).currentPage=s,a=function(e){return Object(r.__awaiter)(S,void 0,void 0,(function(){var n,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n={indexName:e.indexName,query:t,params:{page:s,hitsPerPage:c,numericFilters:m||e.singleTypeNumericFilters,facets:"*",facetFilters:p,restrictSearchableAttributes:g}},[4,this.query([n])];case 1:return(a=r.sent())?(i.exhaustedHits=!a.results[0].nbHits||a.results[0].hits.length<c,[2,{totalHits:a.results[0].nbHits,hits:a.results[0].hits}]):(i.exhaustedHits=!0,[2,{totalHits:0,hits:[]}])}}))}))},e){case d.a.Games:return[3,1];case d.a.Users:return[3,3];case d.a.Channels:return[3,5];case d.a.Videos:return[3,7];case d.a.StreamTags:return[3,9];case d.a.Tags:return[3,11]}return[3,13];case 1:return o=i,[4,a(h.games)];case 2:return o.games=k.sent(),[3,14];case 3:return l=i,[4,a(h.users)];case 4:return l.users=k.sent(),[3,14];case 5:return u=i,[4,a(h.channels)];case 6:return u.channels=k.sent(),[3,14];case 7:return f=i,[4,a(h.videos)];case 8:return f.videos=k.sent(),[3,14];case 9:return v=i,[4,a(h.streamTags)];case 10:return v.streamTags=k.sent(),[3,14];case 11:return y=i,[4,a(h.tags)];case 12:return y.tags=k.sent(),[3,14];case 13:return[2,null];case 14:return[2,i]}}))}))},e.prototype.queryVideos=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:switch(i=d.a.Videos,a=[],n.length){case u.Short:a.push("length<=900");break;case u.Long:a.push("length>900")}switch(o={indexName:i,query:e,params:{page:0,hitsPerPage:50,numericFilters:a,facets:"*",facetFilters:""}},n.type){case c.PastBroadcasts:o.params.facetFilters="broadcast_type:archive";break;case c.Uploads:o.params.facetFilters="broadcast_type:upload";break;case c.Highlights:o.params.facetFilters="broadcast_type:highlight"}return[4,this.query([o])];case 1:return(s=r.sent())?[2,{id:t,totalHits:s.results[0].nbHits,hits:s.results[0].hits}]:[2,{id:t,totalHits:0,hits:[]}]}}))}))},e.prototype.getCountryCode=function(){var e=this;this.apolloClient.query({query:m}).then((function(t){e.countryCode=t.data.requestInfo.countryCode})).catch((function(t){e.logger.warn(t,"Failed to get country code")}))},e.prototype.getSearchResults=function(e){var t=this,n={query:e,platform:"web"};return this.apolloClient.query({query:f,variables:n,fetchPolicy:"network-only"}).then((function(e){if(e.data.search&&e.data.search.result)return{results:JSON.parse(e.data.search.result)}})).catch((function(e){return t.logger.warn(e,"Failed to get search results"),e}))},e.prototype.getTopResult=function(e,t){return{indexName:e.indexName,query:t,params:{page:0,hitsPerPage:e.hitsPerPage,numericFilters:e.topNumericFilters}}},e.prototype.getTotalResult=function(e,t){return{indexName:e.indexName,query:t,params:{hitsPerPage:0,numericFilters:e.singleTypeNumericFilters}}},e.prototype.query=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,a,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=Date.now(),a=!1,r.label=1;case 1:return r.trys.push([1,6,,7]),this.sendSearchRequestToForage&&e.length>7?(o=e[0].query,[4,this.getSearchResults(o)]):[3,3];case 2:return t=r.sent(),[3,5];case 3:return[4,this.client.search(e)];case 4:t=r.sent(),r.label=5;case 5:return[3,7];case 6:return r.sent(),a=!0,t=null,[3,7];case 7:return i=Date.now(),this.countryCode&&(a?this.stats.recordSearchError(this.countryCode,i-n):this.stats.recordSearchSuccess(this.countryCode,i-n)),[2,t]}}))}))},e}();function b(e){var t;return(t={id:e})[i.Games]={totalHits:0,hits:[]},t[i.Videos]={totalHits:0,hits:[]},t[i.Users]={totalHits:0,hits:[]},t[i.Channels]={totalHits:0,hits:[]},t[i.StreamTags]={totalHits:0,hits:[]},t[i.Tags]={totalHits:0,hits:[]},t}function v(){return Math.floor(((new Date).getTime()-6e5)/1e3)}function y(){var e=new Date;return e.setMonth(e.getMonth()-1),Math.floor(e.getTime()/1e3)}function S(e){return e<=100?e:100*Math.round(e/100)}},Njy6:function(e,t,n){"use strict";var i=n("q1tI"),r=n("4rCz"),a=n("sUnt"),o=n("Ws8v"),s=n("yymn"),l=(n("s7pO"),function(e){var t=e.topBitsContributor;if(!t)return null;var n=t.user&&t.user.displayName||"",l=t.bitsAmount;return n&&l?i.createElement(a.a,{margin:{top:1}},i.createElement(o.a,{borderRadius:s.e.Rounded,className:"top-poll-contributor",padding:{x:1,y:.5},display:s.g.InlineBlock},Object(r.d)("{bits, plural, one {{username} contributed {bitsString} bits!} other {{username} contributed {bitsString} bits!}}",{username:n,bits:l,bitsString:Object(r.f)(l)},"Polls--TopPollContributor"))):null});n.d(t,"a",(function(){return l}))},O3Y9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var i,r=n("/7QA"),a=n("2xye");function o(e){r.p.tracking.track(a.SpadeEventType.WhisperIgnoreUser,{ui_context:e.context,from_login:e.currentUserLogin,ignored_login:e.targetUserLogin})}!function(e){e.ViewerCard="chat_card",e.ReportWizard="report_wizard"}(i||(i={}))},OCZ4:function(e,t,n){},OEiS:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("8Ad5"),s=n("f00E"),l=n("GnwI"),c=n("H/lO"),u=n("NZDK"),d=n("9kXc"),p=n("8/mp"),m=n("QVaV"),f=n("8EUQ"),h=n("ANjH"),g=n("yR8l"),b=n("k91D"),v=n("sUnt"),y=n("+80q"),S=n("yymn"),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.data;return e&&!e.loading&&this.props.recipientLogin&&e.user&&e.user.self&&!e.user.self.canGift?r.createElement(v.a,{margin:{top:1}},r.createElement(y.a,{italic:!0,color:S.f.Alt2,"data-test-selector":"gift-eligibility-message-selector"},Object(a.d)("Sorry, a gift subscription to this channel is not available for this user.","GiftRecipientIneligibleMessage"))):null},t}(r.Component),E=Object(h.d)(Object(l.withLatencyTracking)("GiftRecipientIneligibleMessage"),Object(g.a)(b,{options:function(e){return{variables:{recipientLogin:e.recipientLogin,subProductId:e.subProductId}}},skip:function(e){return!e.recipientLogin||!e.subProductId}}))(k),C=n("JMwM"),_=n("br9A"),O=n("XQbB"),T=n("Ws8v"),w=n("hnjF"),x=n("PL8s"),D=n("i4Ys"),j=n("uXHW"),I=n("L/cU"),N=n("fPaz"),R=n("AFv4"),P=(n("d/7K"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedUser:null},t.handleGiftCheckoutAction=function(){var e=t.state.selectedUser;e&&e.login&&(a.n.set(f.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.selectedProduct.name),a.n.set(f.a.SUB_CHECKOUT__RECIPIENT_KEY,e.login),a.n.set(f.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,t.props.giftingAnonymously||!1)),t.props.handleSubMenuAction({action:_.a.BuyGiftSub,checkoutButtonTier:t.props.selectedProduct.tier,giftRecipient:t.state.selectedUser?t.state.selectedUser.login:null,isAnonymous:t.props.giftingAnonymously})},t.onUserClick=function(e){for(var n=e.target;n.parentElement&&!n.dataset.user_id;)n=n.parentElement;n.dataset.user_id&&n.dataset.user_login?t.setState({selectedUser:{id:n.dataset.userId||"",login:n.dataset.user_login||"",name:n.dataset.user_name||n.dataset.user_login||""}}):t.setState({selectedUser:null})},t}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return(e.isWaiting||e.isErrored||!e.hasInput)&&t.selectedUser?{selectedUser:null}:null},t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e;return e=this.props.isWaiting?r.createElement(v.a,{fullHeight:!0},r.createElement(O.a,{fillContent:!0})):this.props.hasInput?this.props.isErrored?this.getErrorMessage():this.props.userResults&&this.props.userResults.totalHits>0?this.getUserResultContent():this.getNoResultsMessage():r.createElement(v.a,{margin:1},r.createElement(y.a,{color:S.f.Alt2},Object(a.d)("Start typing to see a list of suggestions here.","GiftRecipientSearchResult"))),r.createElement("div",{onKeyDown:this.props.onKeyDown},r.createElement(T.a,{className:"gift-recipient-search-result-view",background:S.d.Alt,position:S.n.Relative,overflow:S.m.Hidden,display:S.g.Block,margin:{bottom:2},borderRadius:S.e.Medium},r.createElement(w.a,{overflow:S.m.Hidden,position:S.n.Relative},r.createElement(p.b,{suppressScrollX:!0},r.createElement(v.a,null,e,r.createElement(p.a,{enabled:!this.props.isWaiting&&this.props.hasInput,loadMore:this.props.loadMore}))))),r.createElement(v.a,null,r.createElement(v.a,{display:S.g.Flex,alignItems:S.b.Center,justifyContent:S.l.End,fullWidth:!0},r.createElement(w.a,{margin:{x:1}},r.createElement(y.a,{"data-test-selector":"gift-recipient-display-name-selector",bold:!0,type:y.e.Span},this.getFormattedDisplayName())),this.getBuyGiftButton()),r.createElement(E,{subProductId:this.props.selectedProduct.id,recipientLogin:this.state.selectedUser?this.state.selectedUser.login:null})))},t.prototype.getBuyGiftButton=function(){return r.createElement(C.a,{checkoutURL:this.props.selectedProduct.url,giftingAnonymously:this.props.giftingAnonymously,giftRecipient:this.state.selectedUser?this.state.selectedUser.login:null,onClick:this.handleGiftCheckoutAction,productName:this.props.selectedProduct.name,subProductId:this.props.selectedProduct.id})},t.prototype.getFormattedDisplayName=function(){return this.state.selectedUser?Object(m.a)(this.state.selectedUser.login,this.state.selectedUser.name):""},t.prototype.getErrorMessage=function(){return r.createElement(v.a,{fullWidth:!0,textAlign:S.p.Center,justifyContent:S.l.Center},r.createElement(y.a,null,Object(a.d)("Something went wrong","GiftRecipientSearchResult")))},t.prototype.getUserResultContent=function(){var e=this;return this.props.userResults?this.props.userResults.results.map((function(t){var n=Object(m.a)(t.login||"",t.name||"");return r.createElement(D.a,{tabIndex:-1,"data-ts_selectable":!0,"data-tt_content":!0,key:"git-recipient-result__"+t.id,"data-user_id":t.id,"data-user_login":t.login,"data-user_name":t.name,onClick:e.onUserClick,"data-test-selector":"subscribe-button__gift_search_result",blurAfterClick:!0,selected:!!e.state.selectedUser&&(""!==e.state.selectedUser.login&&e.state.selectedUser.login===t.login)},r.createElement(v.a,{padding:.5},r.createElement(j.a,{row:!0},r.createElement(I.a,{alt:t.thumbnailAltText,src:t.thumbnail?t.thumbnail:"",size:I.b.Size4,aspect:N.c.Aspect1x1,borderRadius:S.e.Rounded}),r.createElement(R.a,{overflow:S.m.Hidden},r.createElement(w.a,{padding:{x:1}},r.createElement(y.a,{type:y.e.H5,ellipsis:!0},n))))))})):r.createElement(x.a,null)},t.prototype.getNoResultsMessage=function(){return r.createElement(v.a,{margin:1},r.createElement(y.a,{color:S.f.Alt2},Object(a.d)("No Results","GiftRecipientSearchResult")))},t}(r.Component)),M=Object(l.withLatencyTracking)("GiftRecipientSearchResultPanel")(P),A=n("FLOH"),B=n("dBR3"),F=n("dEDE"),U=n("C7sF"),L=n("kqSx"),G=n("3Law"),H=(n("D/Iv"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedSubProduct:t.props.subscriptionProducts[0]},t.onTierSelect=function(e){t.setState({selectedSubProduct:e})},t.handleChange=function(e){t.props.onChange(e.target.value)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(!this.state.selectedSubProduct)return r.createElement(x.a,null);var e=Object(a.d)("Gift Anonymously","GiftRecipientSearch");return r.createElement(v.a,{className:"subscription-gift-recipient-search",padding:2},r.createElement(v.a,{display:S.g.Flex,justifyContent:S.l.Between,margin:{bottom:1}},r.createElement(v.a,{className:"community-gift-bundle-selection__back-button"},r.createElement(F.a,{"data-a-target":"subscribe-back-button","data-test-selector":"gift-recipient-search-back-button",icon:U.a.AngleLeft,onClick:this.props.onBack,type:F.d.Text},r.createElement(v.a,{alignItems:S.b.Center,display:S.g.InlineFlex},r.createElement(y.a,null,Object(a.d)("Back","GiftRecipientSearch"))))),r.createElement(v.a,{alignSelf:S.c.Center},r.createElement(L.a,{checked:this.props.giftingAnonymously,label:e,onChange:this.props.onAnonymousGiftingSelect}))),r.createElement(v.a,{margin:{y:1}},r.createElement(v.a,{flexGrow:1,padding:{left:.5}},r.createElement(y.a,{bold:!0,fontSize:S.j.Size4},Object(a.d)("Choose a Gift Recipient","GiftRecipientSearch")))),r.createElement(B.a,{handleSubMenuAction:this.props.handleSubMenuAction,onTierSelect:this.onTierSelect,subscriptionProducts:this.props.subscriptionProducts},r.createElement(r.Fragment,null,r.createElement(v.a,{padding:{y:1}},r.createElement(A.a,{allSubProducts:this.props.subscriptionProducts,"data-test-selector":"gift-recipient-search-subheading-selector",selectedSubProduct:this.state.selectedSubProduct,channelID:this.props.channelID})),null,r.createElement(v.a,{display:S.g.Flex,fullWidth:!0,justifyContent:S.l.Center,padding:{top:1}},r.createElement(v.a,{fullWidth:!0},r.createElement(v.a,{padding:{bottom:1}},r.createElement(G.a,{"data-test-selector":"gift-recipient-search-input-selector",id:"gift-recipient-search",onChange:this.handleChange,onKeyDown:this.props.onKeyDown,placeholder:Object(a.d)("Search for a Twitch ID","GiftRecipientSearch")})),r.createElement(M,{giftingAnonymously:this.props.giftingAnonymously,handleSubMenuAction:this.props.handleSubMenuAction,hasInput:this.props.hasInput,isErrored:this.props.isErrored,isWaiting:this.props.isWaiting,loadMore:this.props.loadMore,onKeyDown:this.props.onKeyDown,selectedProduct:this.state.selectedSubProduct,userResults:this.props.userResults}))))))},t}(r.Component));n.d(t,"a",(function(){return V}));var z=50,V=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e){n.inputTimer&&(clearTimeout(n.inputTimer),n.inputTimer=0),e?(n.setState({isWaiting:!0}),n.inputTimer=setTimeout((function(){return n.doSearch(e)}),z)):n.setState(n.getEmptyState())},n.loadMore=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e,t,n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:if(this.state.queryID||!0===this.state.exhaustedHits)return[2];e=this.state.currentPage+1,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.searchClient.queryForType(c.a.Users,this.state.term,"",{page:e})];case 2:return t=r.sent(),[3,4];case 3:return r.sent(),this.setState(Object(i.__assign)(Object(i.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0})),[2];case 4:return t?(n=Object(d.a)({searchResults:t,append:e>0,currentUserResults:this.state.currentUserResults}),this.setState({currentUserResults:n.currentUserResults,term:this.state.term,hasInput:!0,isWaiting:!1,currentPage:e,exhaustedHits:n.exhaustedHits}),[2]):(this.setState(Object(i.__assign)(Object(i.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0})),[2])}}))}))},n.onKeyDown=function(e){n.state.term&&(e.keyCode===o.a.Esc?n.setState({hasInput:!1}):e.keyCode===o.a.Up?n.focusNext(-1):e.keyCode===o.a.Down&&n.focusNext(1))},n.state=n.getEmptyState(),n.searchClient=new u.a({appId:a.a.algoliaApplicationID,apiKey:a.a.algoliaAPIKey,apolloClient:a.p.apollo.client,logger:a.k,config:a.a,stats:a.p.stats}),n}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(H,{giftingAnonymously:this.props.giftingAnonymously,hasInput:this.state.hasInput,isErrored:this.state.isErrored,isWaiting:this.state.isWaiting,handleSubMenuAction:this.props.handleSubMenuAction,onAnonymousGiftingSelect:this.props.onAnonymousGiftingSelect,onBack:this.props.onBack,onChange:this.onChange,onKeyDown:this.onKeyDown,loadMore:this.loadMore,subscriptionProducts:this.props.subscriptionProducts,userResults:this.state.currentUserResults,channelID:this.props.channelID})},t.prototype.getEmptyState=function(){return{currentUserResults:{totalHits:0,results:[]},term:"",hasInput:!1,isErrored:!1,queryID:"",isWaiting:!1,currentPage:-1,focusSelectable:!1,exhaustedHits:!1}},t.prototype.doSearch=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,a,o;return Object(i.__generator)(this,(function(l){switch(l.label){case 0:this.inputTimer=0,t=-1,n=s.b(),r=document.activeElement&&"INPUT"===document.activeElement.tagName,this.setState({queryID:n,focusSelectable:!r&&!!this.state.currentFocus}),l.label=1;case 1:return l.trys.push([1,3,,4]),t=0,[4,this.searchClient.queryForType(c.a.Users,e,n)];case 2:return a=l.sent(),[3,4];case 3:return l.sent(),this.setState(Object(i.__assign)(Object(i.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0,term:e})),[2];case 4:return a?this.state.queryID!==a.id?[2]:(o=Object(d.a)({searchResults:a,append:!1}),this.setState((function(n){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},n),o),{queryID:"",term:e,hasInput:!0,isWaiting:!1,currentPage:t})})),[2]):(this.setState(Object(i.__assign)(Object(i.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0,term:e})),[2])}}))}))},t.prototype.focusNext=function(e){var t,n=document.querySelectorAll("[data-ts_selectable=true]"),i=document.activeElement,r=Array.prototype.indexOf.call(n,i);if((t=r<0?e>0?0:n.length-1:r+e)<0&&(t=0),!(t>=n.length)){var a=n.item(t);a.focus(),a.tabIndex=0,this.setState((function(e){var t=e.currentFocus;return t&&(t.tabIndex=-1),{currentFocus:a}}))}},t=Object(i.__decorate)([Object(l.withLatencyTracking)("GiftRecipientSearch")],t)}(r.Component)},OkDP:function(e,t,n){},Oy4H:function(e,t,n){},"QC++":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainLevel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainLevel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainReward"},directives:[]}]}}]}}],loc:{start:0,end:159}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-reward.gql"\nfragment hypeTrainLevel on HypeTrainLevel {\nid\nvalue\ngoal\nrewards {\n...hypeTrainReward\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("iotB").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},QYyK:function(e,t,n){},RBh2:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return c}));var i,r,a=n("/7QA"),o=n("2xye");function s(e){var t={user_id:e.userID||null,channel_id:e.channelID,poll_id:e.pollID,total_responses:e.totalResponses,has_subscriber_bonus:e.hasSubscriberBonus,is_subscriber_only:e.isSubscriberOnly,bits_per_vote:e.bitsPerVote,channel_points_per_vote:e.communityPointsPerVote,poll_duration_seconds_remaining:e.pollDurationSecondsRemaining};a.o.track(o.SpadeEventType.PollsClientImpression,t)}function l(e){var t={user_id:e.userID||null,channel_id:e.channelID,poll_id:e.pollID,action:e.action,action_source:e.actionSource,bits_spent:e.bitsSpent||null,channel_points_spent:e.communityPointsSpent||null};a.o.track(o.SpadeEventType.PollsClientInteraction,t)}function c(e){var t=Date.parse(e.pollStartTime)+1e3*e.pollDuration-Date.now(),n={user_id:e.userID||null,poll_id:e.pollID,time_difference_ms:Math.abs(e.serverTimeRemaining-t),server_time_remaining_ms:e.serverTimeRemaining,client_time_remaining_ms:t,device_id:a.p.session.deviceID};a.o.track(o.SpadeEventType.PollsTimeDifferenceImpression,n)}!function(e){e.Vote="vote",e.Expand="expand",e.Collapse="collapse"}(i||(i={})),function(e){e.ChatCommand="chat_command",e.PollInput="poll_input"}(r||(r={}))},"RCc/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UseLive"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:105}};n.loc.source={body:"query UseLive($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nlogin\nstream {\nid\ncreatedAt\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UseLive=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"UseLive")},RuiO:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_SubEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withVideo"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withVideo"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:266}};n.loc.source={body:"query Core_Services_Spade_SubEvent_User($channelID: ID! $withVideo: Boolean! $videoID: ID) {\nuser(id: $channelID) {\nid\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\ntier\npurchasedWithPrime\n}\n}\n}\nvideo(id: $videoID) @include(if: $withVideo) {\nid\nbroadcastType\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Core_Services_Spade_SubEvent_User=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"Core_Services_Spade_SubEvent_User")},S2z6:function(e,t,n){},"SL++":function(e,t,n){"use strict";var i=n("q1tI"),r=n("/7QA"),a=n("fQWD"),o=n("66/j"),s=n("sUnt"),l=n("yymn"),c=n("+80q"),u=function(e){var t=e.badge,n=parseInt(t.version,10);return i.createElement(s.a,{alignItems:l.b.Center,className:e.className,display:l.g.Flex,flexDirection:l.h.Column,flexShrink:0},i.createElement(a.a,{badge:Object(o.b)(t),hideTooltip:!0,large:!0}),i.createElement(s.a,{margin:{top:.5}},i.createElement(c.a,{className:e.className+"--text",fontSize:l.j.Size7},n>=12?Object(r.d)("{years}-Year Badge",{years:n/12},"SubBadge"):Object(r.d)("{months}-Month Badge",{months:0===n?1:n},"SubBadge"))))};n.d(t,"a",(function(){return u}))},SpWp:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"DropsHighlightService_AvailableDrops"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableDrops"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"ownerID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownerName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsURL"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:216}};n.loc.source={body:"query DropsHighlightService_AvailableDrops($channelID: ID!) {\nchannel(id: $channelID) {\nid\navailableDrops {\nid\nname\ngame {\nid\nname\n}\nownerID\nownerName\ndescription\nendDate\nstartDate\nimageURL\nquestName\ndetailsURL\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.DropsHighlightService_AvailableDrops=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"DropsHighlightService_AvailableDrops")},Tn5u:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e[e.Waiting=0]="Waiting",e[e.Ready=1]="Ready",e[e.Forced=2]="Forced"}(i||(i={}));var r=function(){function e(e){this.status=e.status,this.secondsUntilTransition=e.secondsUntilTransition}return e.waitingFor=function(t){return new e({status:i.Waiting,secondsUntilTransition:t})},e.readyFor=function(t){return new e({status:i.Ready,secondsUntilTransition:t})},e.forced=function(){return new e({status:i.Forced,secondsUntilTransition:1/0})},Object.defineProperty(e.prototype,"isWaiting",{get:function(){return this.status===i.Waiting},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return this.status===i.Ready},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isForced",{get:function(){return this.status===i.Forced},enumerable:!0,configurable:!0}),e}()},V3kL:function(e,t,n){},V6PS:function(e,t,n){e.exports=n.p+"assets/community-gift-13d8871e1410e7690ed3.svg"},VlKc:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("CGXs"),a=n("eirU"),o=n("0Log"),s=n("/aPz"),l=n("RCc/");function c(e){var t,n,c,u,d,p,m,f,h,g=Object(i.useRef)(!0),b=Object(a.d)(l,{variables:{channelLogin:null!=e?e:""},skip:!e,fetchPolicy:"network-only"}),v=b.data,y=b.loading,S=null!==(n=null===(t=null==v?void 0:v.user)||void 0===t?void 0:t.id)&&void 0!==n?n:null,k=y?null:!!(null===(u=null===(c=null==v?void 0:v.user)||void 0===c?void 0:c.stream)||void 0===u?void 0:u.id),E=Object(i.useState)(k),C=E[0],_=E[1],O=Object(r.a)(S?Object(s.W)(S):"",!S)[0];Object(i.useEffect)((function(){g.current=!0}),[e]),Object(i.useEffect)((function(){g.current&&_(k)}),[k]),Object(i.useEffect)((function(){O&&(g.current=!1,!function(e){return e.type===o.PubsubMessageType.ChannelStreamDown}(O)?_(!0):_(!1))}),[O]);var T=null;return(null===(d=null==v?void 0:v.user)||void 0===d?void 0:d.login)&&(null===(p=null==v?void 0:v.user)||void 0===p?void 0:p.login.toLowerCase())===(null==e?void 0:e.toLowerCase())&&(T=null!=C?C:g.current?k:null),{isLive:T,liveSince:null!==(h=null===(f=null===(m=null==v?void 0:v.user)||void 0===m?void 0:m.stream)||void 0===f?void 0:f.createdAt)&&void 0!==h?h:null}}},W1kE:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateRaid"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateRaidInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createRaid"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raid"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:106}};n.loc.source={body:"mutation CreateRaid($input: CreateRaidInput!) {\ncreateRaid(input: $input) {\nraid {\nid\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CreateRaid=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CreateRaid")},WNT5:function(e,t,n){},Wd44:function(e,t,n){},XNPz:function(e,t,n){},XX8v:function(e,t,n){},XlIw:function(e,t,n){},XnJk:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainConductor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainConductor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainParticipation"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:192}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-participation.gql"\nfragment hypeTrainConductor on HypeTrainConductor {\nsource\nparticipation {\n...hypeTrainParticipation\n}\nuser {\nid\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("e0KT").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},Y5u1:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("/7QA"),l=n("D7An"),c=n("Uh2Q"),u=n("RiD7"),d=n("eL87"),p=n("Gylv"),m=n("FLOH"),f=n("dBR3"),h=n("br9A"),g=n("sUnt"),b=n("yymn"),v=n("+80q"),y=n("dEDE"),S=n("Ws8v"),k=n("hnjF"),E=n("2rlx"),C=n("hCFK"),_=n("C7sF"),O=n("kqSx"),T=n("NJDg"),w=n("Dbw4"),x=n("L2Dh");n("uOOi");!function(e){e.ShowMoreButton="show-more-button"}(i||(i={}));var D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeProduct:t.props.subscriptionProducts[0],isExpanded:!1},t.bundleSizeExperimentAssignment=s.p.experiments.getAndTrackAssignment(l.c.CommunityGifting3Bundle)||"control",t.onClickShowMoreThanThree=function(){t.setState({isExpanded:!0},(function(){return t.props.handleSubMenuAction({action:h.a.ClickShowMoreGiftBundles})}))},t.onClickShowMoreThanOne=function(){t.setState({isExpanded:!0},(function(){return t.props.handleSubMenuAction({action:h.a.ClickShowMoreGiftBundlesFromBannerCTA})}))},t.setActiveTab=function(e){t.setState({activeProduct:e})},t.getBundlesForTreatment=function(){var e=t.state.activeProduct.tier||"1000",n=x.e[e];return"1000"!==e||t.state.isExpanded?n:t.props.communityGiftRecs&&!t.state.isExpanded?t.props.communityGiftRecs:t.props.defaultBundleSize&&!t.state.isExpanded?[t.props.defaultBundleSize]:x.f[t.bundleSizeExperimentAssignment]},t.renderCreatorLuvCallout=function(){return Object(c.f)(c.a)?a.createElement(g.a,{justifyContent:b.l.Center,display:b.g.Flex,flexDirection:b.h.Column,className:"community-gift-bundle-selection__mega-callout",margin:{top:1},padding:{x:2,y:1}},a.createElement(v.a,null,Object(s.d)("Through {date}, give to the community and get exclusive emotes!",{date:Object(s.c)(Object(c.h)(c.a),{day:"numeric",month:"numeric"})},"MysteryGiftBundleSelection")),a.createElement(g.a,{padding:{bottom:.5,right:.5},justifyContent:b.l.End,display:b.g.Flex},a.createElement(y.a,{linkTo:Object(c.e)(),targetBlank:!0,onClick:t.learnMoreClick},Object(s.d)("Learn More","MysteryGiftBundleSelection")))):null},t.learnMoreClick=function(){Object(u.o)({user_id:t.props.currentUserID||"",source:u.e.SubModalGifting})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=this.state,n=Object(s.d)("Gift Anonymously","MysteryGiftBundleSelection"),r=t.activeProduct.tier||"1000",o=x.d[r]||x.b,l=!this.props.giftingAnonymously&&a.createElement(S.a,{borderTop:!0,margin:{top:2,x:1},padding:{top:1}},a.createElement(p.a,{compact:!0})),c=this.getBundlesForTreatment(),u=x.f[this.bundleSizeExperimentAssignment],h=a.createElement(g.a,{padding:{top:0,bottom:2,x:1}},a.createElement(g.a,{padding:{top:1,x:1}},a.createElement(m.a,{allSubProducts:e.subscriptionProducts,selectedSubProduct:t.activeProduct,channelID:e.channelID}),this.renderCreatorLuvCallout()),a.createElement(g.a,{justifyContent:b.l.Center},a.createElement(g.a,{display:b.g.Flex,flexWrap:b.i.Wrap,justifyContent:b.l.Start,padding:{top:2}},"1000"===this.state.activeProduct.tier?a.createElement(a.Fragment,null,a.createElement(k.a,{display:b.g.Flex,flexWrap:b.i.Wrap},a.createElement(E.a,{transitionType:C.c.TranslateTop,duration:C.b.Long},c.map((function(n){return a.createElement(w.a,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,key:"MysteryGiftBundle"+n,mysteryGiftCount:n,subscriptionProduct:t.activeProduct,wasShownMoreBundles:-1===u.indexOf(n)})})))),!this.state.isExpanded&&("control"!==this.bundleSizeExperimentAssignment||this.props.defaultBundleSize||this.props.communityGiftRecs)&&a.createElement(g.a,{display:b.g.Flex,justifyContent:b.l.Center,fullWidth:!0},a.createElement(d.a,{onClick:this.props.defaultBundleSize?this.onClickShowMoreThanOne:this.onClickShowMoreThanThree,buttonText:Object(s.d)("Show more","MysteryGiftBundleSelection"),"data-test-selector":i.ShowMoreButton}))):c.map((function(n){return a.createElement(w.a,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,key:"MysteryGiftBundle"+n,mysteryGiftCount:n,subscriptionProduct:t.activeProduct})})),a.createElement(g.a,{fullWidth:!0,margin:{x:1}},a.createElement(T.a,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,limit:o,subscriptionProduct:t.activeProduct})))),l);return a.createElement(g.a,{className:"community-gift-bundle-selection"},a.createElement(g.a,{padding:{top:2,x:2}},a.createElement(g.a,{display:b.g.Flex,justifyContent:b.l.Between},a.createElement(g.a,{className:"community-gift-bundle-selection__back-button"},a.createElement(y.a,{"data-a-target":"subscribe-back-button",icon:_.a.AngleLeft,onClick:e.onBack,type:y.d.Text},a.createElement(v.a,null,Object(s.d)("Back","MysteryGiftBundleSelection")))),a.createElement(g.a,{alignSelf:b.c.Center},a.createElement(O.a,{checked:e.giftingAnonymously,label:n,onChange:e.onAnonymousGiftingSelect}))),a.createElement(g.a,{margin:{y:1}},a.createElement(v.a,{bold:!0,fontSize:b.j.Size4},Object(s.d)("Gift to the Community","MysteryGiftBundleSelection")))),a.createElement(f.a,{handleSubMenuAction:this.props.handleSubMenuAction,onTierSelect:this.setActiveTab,subscriptionProducts:e.subscriptionProducts},a.createElement(k.a,{fullHeight:!0,overflow:b.m.Hidden,position:b.n.Relative},h)))},t}(a.Component);var j=Object(o.b)((function(e){return{currentUserID:e.session.user&&e.session.user.id||null}}))(D)},YIFl:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainCalloutEmote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:52}};n.loc.source={body:"fragment hypeTrainCalloutEmote on Emote {\nid\ntoken\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},YV9q:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("/7QA");function r(e){return e.hasAdFree?e.emoteCount>0?Object(i.d)("{emoteCount, plural,           one {Includes Ad-Free viewing, chatting during Sub-Only Mode, subscription tenure badges, and # emote.}           other {Includes Ad-Free viewing, chatting during Sub-Only Mode, subscription tenure badges, and # emotes.}}",{emoteCount:e.emoteCount},"SubBenefitMessage"):Object(i.d)("Includes Ad-Free viewing, chatting during Sub-Only Mode, and subscription tenure badges.","SubBenefitMessage"):e.emoteCount>0?Object(i.d)("{emoteCount, plural,           one {Includes chatting during Sub-Only Mode, subscription tenure badges, and # emote.}           other {Includes chatting during Sub-Only Mode, subscription tenure badges, and # emotes.}}",{emoteCount:e.emoteCount},"SubBenefitMessage"):Object(i.d)("Includes chatting during Sub-Only Mode and subscription tenure badges.","SubBenefitMessage")}},YVOQ:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("f00E"),o=n("4rCz"),s=n("1rIY"),l=n("8EUQ"),c=n("KriR"),u=n("br9A"),d={channel:{login:"",id:"",displayName:null},handleSubMenuAction:function(){},modalSessionId:"",subBadges:[],gifterBadges:[],canGiftInChannel:!0,channelId:null,giftingAnonymously:!1,hasPrime:!1,hidesGiftCount:!1,isNonStandardSub:!1,onAnonymousGiftingSelect:function(){return null},primeSubRenewalDate:null,sessionUser:void 0,subscriptionProducts:[],subscriptionBenefit:null,subscriptionGiftCount:0,tenure:null,streakTenure:null},p=Object(s.a)("SubModalContext",d),m=p.context,f=p.withContext,h=function(e){function t(n){var i=e.call(this,n)||this;return i.state=d,i.onAnonymousGiftingSelect=function(e){i.setState({giftingAnonymously:e.target.checked}),i.handleSubMenuAction({action:u.a.ClickAnonymousGiftCheckbox})},i.handleSubMenuAction=function(e){var t,n;new Set([u.a.ClickCheckout,u.a.BuyGiftSub,u.a.BuyMysteryGift,u.a.BuyCustomMysteryGift,u.a.BuyGiftToPaidUpgrade,u.a.BuyPaidUpgrade,u.a.BuyContinueSub,u.a.BuyPrimeToPaid,u.a.BuyQuickSub]).has(e.action)&&i.checkAndDisplaySubscriptionCheckout(e.wasShownMoreBundles,e.chargeInterval,e.offerID);var r=!!i.props.subscriptionBenefit;Object(u.c)({action:e.action||"",buttonCTA:e.buttonCTA||i.props.subButtonCTA,channelLogin:i.props.channel.login,channelID:i.props.channel.id,checkoutButtonTier:e.checkoutButtonTier,chargeInterval:e.chargeInterval,cumulativeTenureMonths:i.state.tenure?i.state.tenure.months:null,hasSubCredit:i.props.canPrimeSubscribe,hostChannelID:null===(t=i.props.hostChannel)||void 0===t?void 0:t.id,hostChannelLogin:null===(n=i.props.hostChannel)||void 0===n?void 0:n.login,isAnonymous:e.isAnonymous,isMenuOpen:e.action!==u.a.OpenSubMenu,isSingleMonth:e.isSingleMonth,mysteryGiftCount:e.mysteryGiftCount,sub_location:i.props.subLocation,modal:!r,modalLevel:r?"":"top_page",modalSessionId:i.state.modalSessionId,showPrimeContent:i.props.inPrimeRegion,giftRecipient:e.giftRecipient||null})},i.state={channel:{id:i.props.channel.id,login:i.props.channel.login,displayName:i.props.channel.displayName},countryCode:i.props.countryCode,subBadges:t.filterBadges(i.props.subBadges||[],i.props.globalBadges||[]),gifterBadges:t.filterGifterBadges(i.props.globalBadges||[]),subscriptionProducts:t.filterProducts(i.props.subscriptionProducts||[]),canGiftInChannel:t.canSendGift(i.props.subscriptionProducts||[]),channelId:i.props.channel.id,giftingAnonymously:!1,hasPrime:i.props.hasPrime,hidesGiftCount:i.props.hidesGiftCount,isNonStandardSub:t.isNonStandardSub(i.props.subscriptionProducts||[]),primeSubRenewalDate:i.props.primeSubRenewalDate,onAnonymousGiftingSelect:i.onAnonymousGiftingSelect,sessionUser:i.props.sessionUser,subscriptionGiftCount:i.props.subscriptionGiftCount,subscriptionBenefit:i.props.subscriptionBenefit,tenure:i.props.tenure,handleSubMenuAction:i.handleSubMenuAction,modalSessionId:i.props.modalSessionId||Object(a.c)(),streakTenure:i.props.streakTenure},i}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,n){var i=n.modalSessionId;return i!==e.modalSessionId&&(i=e.modalSessionId?e.modalSessionId:Object(a.c)()),{channel:{id:e.channel.id,login:e.channel.login,displayName:e.channel.displayName},countryCode:e.countryCode,subBadges:t.filterBadges(e.subBadges||[],e.globalBadges||[]),gifterBadges:t.filterGifterBadges(e.globalBadges||[]),subscriptionProducts:t.filterProducts(e.subscriptionProducts||[]),canGiftInChannel:t.canSendGift(e.subscriptionProducts||[]),channelId:e.channel.id,isNonStandardSub:t.isNonStandardSub(e.subscriptionProducts||[]),hasPrime:e.hasPrime,modalSessionId:i,primeSubRenewalDate:e.primeSubRenewalDate,sessionUser:e.sessionUser,subscriptionGiftCount:e.subscriptionGiftCount||0,subscriptionBenefit:e.subscriptionBenefit,tenure:e.tenure,streakTenure:e.streakTenure}},t.filterProducts=function(e){return e.filter((function(e){return null!==e}))},t.filterBadges=function(e,t){var n,i=e.filter((function(e){return"subscriber"===(null==e?void 0:e.setID)})).sort((function(e,t){return Number((null==e?void 0:e.version)||0)-Number((null==t?void 0:t.version)||0)}));if("0"===(null===(n=i[0])||void 0===n?void 0:n.version))return i;var r=null==t?void 0:t.find((function(e){return"subscriber"===(null==e?void 0:e.setID)&&"0"===(null==e?void 0:e.version)}));return r&&i.unshift(r),i},t.filterGifterBadges=function(e){return e.filter((function(e){return"sub-gifter"===(null==e?void 0:e.setID)})).sort((function(e,t){return Number((null==e?void 0:e.version)||0)-Number((null==t?void 0:t.version)||0)}))},t.isNonStandardSub=function(e){return 1===e.length},t.canSendGift=function(e){var t,n;return!!(null===(n=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.self)||void 0===n?void 0:n.canGiftInChannel)},t.prototype.componentDidMount=function(){this.handleSubMenuAction({action:u.a.SubMenuReady})},t.prototype.render=function(){return r.createElement(m.Provider,{value:this.state},this.props.children)},t.prototype.checkAndDisplaySubscriptionCheckout=function(e,t,n){var i=o.o.get(l.a.SUB_CHECKOUT__PRODUCT_KEY,"");if(i){var r=this.props.extraSubProductNames;if(this.state.subscriptionProducts.find((function(e){return e.name===i}))||(null==r?void 0:r.includes(i))){var a=this.props,s=a.sessionUser,u=a.showLoginModal;if(s){var d=this.props.showSubscriptionCheckout,p=this.state.modalSessionId;d({isAnonymous:o.o.get(l.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,!1),isOneTimePurchase:o.o.get(l.a.SUB_CHECKOUT__IS_ONE_TIME_PURCHASE,!1),mysteryGiftCount:Number(o.o.get(l.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,"")),productName:i,recipientLogin:o.o.get(l.a.SUB_CHECKOUT__RECIPIENT_KEY,""),trackingContext:{source:c.a.ChannelSubscribeButton,tenantTracking:{sub_session_id:p,from_show_more_bundles:e}},chargeInterval:t,offerID:n})}else u()}else l.a.clearSubscriptionCheckoutKeys()}},t}(r.Component);n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}))},Z9JJ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NavSearch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platform"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userQuery"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}},{kind:"Argument",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:112}};n.loc.source={body:"query NavSearch($query: String! $platform: String!) {\nsearch(userQuery: $query platform: $platform) {\nresult\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.NavSearch=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"NavSearch")},a5fV:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var i=n("/7QA");function r(e,t){return e/Math.pow(10,t)}function a(e,t){return Object(i.f)(e,{style:"currency",currency:t})}function o(e){var t,n,i,r;if(l(e)||!e.priceInfo)return e.price;if(function(e){return"offers"in e}(e)&&e.offers){var a=null===(r=null===(i=null===(n=null===(t=e.offers.find((function(e){return e.eligibility.isEligible&&!!e.promotion})))||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel)||void 0===i?void 0:i.internal)||void 0===r?void 0:r.previewPrice;if(null==a?void 0:a.discount)return s({exponent:a.exponent,currency:a.currency,total:a.discount.total})}return s(e.priceInfo)}function s(e){return a(r(e.total,e.exponent),e.currency)}function l(e){return!("priceInfo"in e)}function c(e,t){if(l(e)||!e.priceInfo)return e.price;var n=r(e.priceInfo.total,e.priceInfo.exponent);return a(n*=t,e.priceInfo.currency)}},"azJ+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="https://static-cdn.jtvnw.net/subs-image-assets"},b5vT:function(e,t,n){"use strict";var i,r,a=n("TSYQ"),o=n("q1tI"),s=n("/7QA"),l=n("C7sF"),c=n("7uM4"),u=n("Ws8v"),d=n("yymn");!function(e){e[e.LOCK=0]="LOCK",e[e.BITS=1]="BITS"}(r||(r={}));var p=((i={})[r.LOCK]=l.a.Lock,i[r.BITS]=l.a.Bits,i),m=function(e){var t=e.lockIcon,n=o.useMemo((function(){return o.createElement(c.a,{asset:p[t],height:10,width:10})}),[t]);return o.createElement(u.a,{background:d.d.Overlay,borderRadius:d.e.Small,className:"emote-button__lock","data-test-selector":"emote-button-lock",display:d.g.InlineFlex,justifyContent:d.l.Center,position:d.n.Absolute,zIndex:d.s.Above},n)},f=n("GnwI"),h=n("b7S+"),g=n("hnjF"),b=(n("GOKC"),function(e){var t=a("emote-button__link",{"emote-button__link--locked":!e.onClick}),n=e.emote,i=n.displayName,l=n.srcSet;if(!l)return null;var c=l.split(" ")[0],u=o.createElement("img",{className:"emote-picker__image",src:c,srcSet:l,alt:i});if(e.isCriticalImage){for(var p={},b=0,v=l.split(",");b<v.length;b++){var y=v[b].trim().split(" "),S=y[1],k=y[0];p[S]=k}u=o.createElement(f.CriticalImage,{className:"emote-picker__emote-image",src:c,srcSet:p,alt:i||""})}var E=o.createElement(m,{lockIcon:e.emote.isBitsTierEmote?r.BITS:r.LOCK});return o.createElement("div",{className:"emote-button"},o.createElement(h.a,{label:i||Object(s.d)("Emote","EmoteButton"),direction:h.c.Bottom},o.createElement(g.a,{display:d.g.Flex,alignItems:d.b.Center,justifyContent:d.l.Center},o.createElement("button",{"data-test-selector":"emote-button-clickable",className:t,"aria-label":i,name:i,onMouseEnter:e.onMouseEnter?e.onMouseEnter.bind(null,e.emote):void 0,onMouseLeave:e.onMouseLeave?e.onMouseLeave.bind(null,e.emote):void 0,onClick:e.onClick?e.onClick.bind(null,e.emote):void 0,"data-a-target":i},o.createElement("figure",null,e.emote.isLocked?E:null,e.showOptions&&o.createElement("div",{className:"emote-button__options"}),u)))))});n.d(t,"a",(function(){return"emote-button"})),n.d(t,"b",(function(){return b}))},bFdo:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"GoRaid"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"GoRaidInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"goRaid"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raid"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:94}};n.loc.source={body:"mutation GoRaid($input: GoRaidInput!) {\ngoRaid(input: $input) {\nraid {\nid\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.GoRaid=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"GoRaid")},bNmR:function(e,t,n){},beC6:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPoll_GetUserStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:169}};n.loc.source={body:"query ChannelPoll_GetUserStatus($channelID: ID!) {\nchannel: user(id: $channelID) {\nid\nlogin\ndisplayName\nself {\nsubscriptionBenefit {\nid\n}\nbanStatus {\nisPermanent\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPoll_GetUserStatus=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPoll_GetUserStatus")},br9A:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u}));var i,r=n("mrSG"),a=n("/7QA"),o=n("2xye"),s=n("I6K6"),l=n("RuiO");!function(e){e.ChannelPage="channel_page",e.ChannelHome="channel_home",e.ChannelPageModal="channel_page_modal",e.EmoteCard="emote_card",e.TheatreMode="theatre_mode",e.SubsManagementPage="subscriptions_management_page",e.SquadPage="squad_page",e.ThankSubGifterCallout="thank_sub_gifter_callout",e.MegaGifterCallout="mega_gifter_callout",e.WatchPartyPage="watch_party_page"}(i||(i={}));var c={BuyContinueSub:"buy_continue_sub",BuyCustomMysteryGift:"buy_custom_mystery_gift",BuyGiftSub:"buy_gift_sub",BuyGiftToPaidUpgrade:"buy_gift_to_paid_upgrade",BuyMysteryGift:"buy_mystery_gift",BuyPaidUpgrade:"buy_paid_upgrade",BuyPrimeToPaid:"buy_prime_to_paid",BuyQuickSub:"buy_quick_sub",ChangeTier:"change_tier",ClickAnonymousGiftCheckbox:"anonymous_gift_click",ClickBack:"back_top_level",ClickCancelAndRefund:"click_cancel_and_refund",ClickCancelPaidUpgrade:"click_cancel_paid_upgrade",ClickChangePaymentMethod:"click_change_payment_method",ClickChangeSubTier:"click_change_sub_tier",ClickCheckout:"click_checkout_button",ClickCommunityGift:"click_community_gift",ClickDisableGift:"click_disable_gift_button",ClickDNRSub:"click_dnr_sub_button",ClickGiftSubOptions:"gift_options_click",ClickMoreSubOptions:"more_options_click",ClickMultiMonthOption:"multi_month_option_select",ClickMultiMonthInfo:"multi_month_info_click",ClickPaidUpgrade:"click_paid_upgrade",ClickPrimeFAQ:"click_prime_faq",ClickResubscribe:"click_resubscribe",ClickShowMoreEmotes:"click_show_more_emotes",ClickShowMoreGiftBundles:"click_show_more_gift_bundles",ClickShowMoreGiftBundlesFromBannerCTA:"click_show_more_gift_bundles_from_banner",ClickSignupForPrime:"click_signup_for_prime",ClickSingleGift:"click_single_gift",CloseSubMenu:"close_subscribe_menu",GiftASub:"gift_a_sub",OpenSubMenu:"open_subscribe_menu",SubMenuReady:"sub_menu_ready",SubWithPrime:"samus_spend_credit"};function u(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,c,u,d,p,m,f,h,g,b,v;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:t=a.o.getVideoPlayerTrackingData().vodID,n=!!t,i={channelID:e.channelID,withVideo:!1},n&&(i.withVideo=!0,i.videoID=t),c=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:l,variables:i})];case 2:return c=r.sent(),[3,4];case 3:return u=r.sent(),a.k.warn(u,"Failed to make query for channel info in FollowEvent reporting.",{channelID:e.channelID}),[3,4];case 4:return d=c&&c.data&&c.data.user||null,c&&!d&&a.k.warn("Query for channel info in SubEvent reporting returned no data.",{channelID:e.channelID}),p=null,c&&n&&((m=c&&c.data&&c.data.video)?p=Object(s.a)(m.broadcastType):a.k.warn("Query for video info in SubEvent reporting returned no data.",{currentVideoID:t})),f=d&&d.self,h=f?!!f.subscriptionBenefit:null,g=f&&f.subscriptionBenefit&&f.subscriptionBenefit.purchasedWithPrime||!1,b=f?f.canPrimeSubscribe:null,v={action:e.action,button_cta:e.buttonCTA,can_subscribe:b,channel:e.channelLogin,channel_id:e.channelID,charge_interval:e.chargeInterval,checkout_button_tier:e.checkoutButtonTier,cumulative_tenure_months:e.cumulativeTenureMonths,days_to_next_tenure_anniversary:e.daysToNextTenureAnniversary||null,has_sub_credit:e.hasSubCredit||null,host_channel:e.hostChannelLogin,host_channel_id:e.hostChannelID,is_anonymous:e.isAnonymous,is_menu_open:e.isMenuOpen||null,is_single_month:e.isSingleMonth,is_subscribed:h,is_subscribed_current_tier:f&&f.subscriptionBenefit&&f.subscriptionBenefit.tier,mystery_gift_count:e.mysteryGiftCount||null,sub_location:e.sub_location,sub_recipient:e.giftRecipient||null,modal:e.modal,modal_level:e.modalLevel||"",modal_session_id:e.modalSessionId||"",show_prime_content:e.showPrimeContent||!1,show_resub:d?b&&g:null,streak_number:e.streakNumber||null,vod_id:t,vod_type:p,viewport_height:window.innerHeight,viewport_width:window.innerWidth},a.o.track(o.SpadeEventType.Subscription,v),[2]}}))}))}},"d/7K":function(e,t,n){},d028:function(e,t,n){},dAHa:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("ANjH"),l=n("/7QA"),c=n("atdg"),u=n("yR8l"),d=n("BhFH"),p=n("iS14"),m=n("geRD"),f=n("O3Y9"),h=n("f00E"),g=n("DMoW"),b=n("2xye"),v=n("IZXT"),y=n("GnwI"),S=n("QVaV"),k=n("Jsra"),E=n("sUnt"),C=n("yymn"),_=n("7uM4"),O=n("C7sF"),T=n("+80q"),w=n("Ws8v"),x=n("CGUg"),D=(n("MPK0"),"report-wizard-block"),j="report-wizard-unblock",I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={userBlocked:t.props.userBlocked||!1},t.renderBlock=function(){return a.createElement(k.a,{hoverUnderlineNone:!0,onClick:t.handleBlock,"data-test-selector":D},a.createElement(E.a,{display:C.g.Flex,alignItems:C.b.Center},a.createElement(_.a,{type:_.b.Brand,asset:O.a.Ban}),a.createElement(E.a,{margin:{left:.5}},Object(l.d)("Block {user}",{user:t.displayName()},"ReportWizardBlockActions"))))},t.renderUnblock=function(){return a.createElement(E.a,{className:"report-wizard__block-actions",display:C.g.Flex,alignItems:C.b.Center},a.createElement(_.a,{type:_.b.Success,asset:O.a.FollowCheck}),a.createElement(E.a,{margin:{right:1}},a.createElement(T.a,{className:"block-user__success",type:T.e.Span},Object(l.d)("{user} blocked",{user:t.displayName()},"ReportWizardBlockActions"))),a.createElement(k.a,{hoverUnderlineNone:!0,onClick:t.handleUnblock,"data-test-selector":j},a.createElement(E.a,{margin:{left:.5}},Object(l.d)("Unblock","ReportWizardBlockActions"))))},t.handleBlock=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return this.props.onBlock(),this.setState({userBlocked:!0}),[2]}))}))},t.handleUnblock=function(){t.props.onUnblock(),t.setState({userBlocked:!1})},t.displayName=function(){var e=t.props.targetUser.displayName,n=t.props.targetUser.login;return e||(n||"")},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.state.userBlocked?this.renderUnblock():this.renderBlock(),t=Object(S.a)(this.props.targetUser.login,this.props.targetUser.displayName,!0);return a.createElement(w.a,{borderTop:!0,padding:{y:1},margin:{top:1}},a.createElement(E.a,null,Object(l.d)("Would you like to block {user}?",{user:t},"ReportWizardBlockActions")),a.createElement(w.a,{color:C.f.Alt2,margin:{y:1}},a.createElement(x.a,{baseFontSize:C.j.Size6},a.createElement("p",null,Object(l.d)("Blocking {user} will:",{user:t},"ReportWizardBlockActions")),a.createElement("ul",null,a.createElement("li",null,Object(l.d)("Prevent them from sending you whispers","ReportWizardBlockActions")),a.createElement("li",null,Object(l.d)("Prevent them from hosting you","ReportWizardBlockActions")),a.createElement("li",null,Object(l.d)("Prevent them from adding you as a friend","ReportWizardBlockActions")),a.createElement("li",null,Object(l.d)("Prevent them from purchasing gift subs for other users in your channel","ReportWizardBlockActions")),a.createElement("li",null,Object(l.d)("Filter their messages out of chats you dont moderate","ReportWizardBlockActions"))))),a.createElement(E.a,{margin:{top:1}},e))},t}(a.Component),N=n("4qQ0");!function(e){e.Link="link",e.MultipleChoice="multiple choice",e.Text="text",e.Textarea="textarea"}(i||(i={}));var R,P={generalFilter:function(){return Object(l.d)("I don't think their content or behavior is allowed on Twitch","ReportModalWizard")},me:function(){return Object(l.d)("Me","ReportModalWizard")},someoneElse:function(){return Object(l.d)("Someone else","ReportModalWizard")},abusiveViolence:function(){return Object(l.d)("Threatening violence or physical harm","ReportModalWizard")},commitingViolence:function(){return Object(l.d)("Committing acts of violence or physical harm","ReportModalWizard")},threatening:function(){return Object(l.d)("Threatening, harming, or endangering someone","ReportModalWizard")},abusive:function(){return Object(l.d)("Being hateful, harassing, or abusive","ReportModalWizard")},harassment:function(){return Object(l.d)("Hate speech, harassment, or abuse","ReportModalWizard")},moreOptions:function(){return Object(l.d)("Give me more options...","ReportModalWizard")},scam:function(){return Object(l.d)("Attempts to scam other community members","ReportModalWizard")}},M={input_description:{getTitle:function(){return Object(l.d)("Could you provide more detail about this issue? You may include links to videos, clips, and content outside Twitch.","ReportModalWizard")},value:"description",type:i.Textarea,required:!0},input_link:{getTitle:function(){return Object(l.d)("If possible, please provide a link to show us where the issue occurred. Links that do not lead to the original source of the content may not be usable as evidence.","ReportModalWizard")},rows:2,value:"external links",type:i.Textarea},input_usernames:{getTitle:function(){return Object(l.d)("If you know the usernames of any other Twitch accounts that may be owned by this person, please list them in this space.","ReportModalWizard")},value:"other usernames",rows:2,type:i.Textarea},input_connection:{getTitle:function(){return Object(l.d)("Please describe how you connected the offsite content to this Twitch account.","ReportModalWizard")},value:"offsite content connection",type:i.Textarea},input_comments:{getTitle:function(){return Object(l.d)("If you have any other comments you would like to add, please do so here.","ReportModalWizard")},value:"comments",type:i.Textarea},input_identifyOwner:{getTitle:function(){return Object(l.d)("Please describe how you identified this person as the owner of this Twitch account.","ReportModalWizard")},rows:2,value:"connect account owner",type:i.Textarea},input_emotes:{getTitle:function(){return Object(l.d)("Please provide more detail about the emote in question.","ReportModalWizard")},value:"emote report context",type:i.Textarea},endBlurb_socialmedia:{getTitle:function(){return Object(l.d)("Please submit a report on the site or service where the incident occurred as well if you have not already done so.","ReportModalWizard")},type:i.Text},endBlurb_threat:{getTitle:function(){return Object(l.d)("If you feel you are in immediate danger, please contact your local law enforcement. To protect yourself on Twitch, you may also block the user.","ReportModalWizard")},type:i.Text},endLink_selfharm:{getTitle:function(){return Object(l.d)("Learn more about mental health support","ReportModalWizard")},value:"https://help.twitch.tv/customer/en/portal/articles/2904486-twitch-cares-mental-health-support-information",type:i.Link},endLink_DMCA:{getTitle:function(){return Object(l.d)("View our DMCA Notification Guidelines","ReportModalWizard")},value:"https://www.twitch.tv/p/legal/dmca-guidelines/",type:i.Link},endLink_trademark:{getTitle:function(){return Object(l.d)("View our Trademark Policy","ReportModalWizard")},value:"https://www.twitch.tv/p/legal/trademark-policy/",type:i.Link},endLink_devAgreement:{getTitle:function(){return Object(l.d)("View our Developer Agreement","ReportModalWizard")},value:"https://www.twitch.tv/p/legal/developer-agreement/",type:i.Link},endLink_eventCoC:{getTitle:function(){return Object(l.d)("View our Events Code of Conduct","ReportModalWizard")},value:"https://www.twitch.tv/p/legal/events-code-of-conduct",type:i.Link},messaging_general:{getTitle:P.generalFilter,value:"general_messaging",omitFromDescription:!0},profile_general:{getTitle:P.generalFilter,value:"general_profile",omitFromDescription:!0},maliciousRaid:{getTitle:function(){return Object(l.d)("Participating in a malicious raid","ReportModalWizard")},value:"malicious raid",reportReason:N.a.Harassment},automod:{getTitle:function(){return Object(l.d)("It's being used to bypass AutoMod","ReportModalWizard")},value:"bypass automod",reportReason:N.a.Other},violence:{getTitle:function(){return Object(l.d)("Threats, harm, or endangerment of someone","ReportModalWizard")},value:"violence/threats",reportReason:N.a.Harm},terrorism_mass_violence:{getTitle:function(){return Object(l.d)("Terrorism or act of mass violence","ReportModalWizard")},value:"terrorism_mass_violence",reportReason:N.a.TerrorismMassViolence},report_username:{getTitle:function(){return Object(l.d)("The username is inappropriate","ReportModalWizard")},value:"inappropriate username",reportReason:N.a.OffensiveUsername},report_emotes:{getTitle:function(){return Object(l.d)("The emotes or badges","ReportModalWizard")},value:"inappropriate emotes",reportReason:N.a.Other},emotes_break_guidelines:{getTitle:function(){return Object(l.d)("The emotes break Twitch's guidelines","ReportModalWizard")},value:"emotes break guidelines",reportReason:N.a.Other},abusive:{getTitle:P.harassment,value:"abusive"},scam:{getTitle:P.scam,value:"scam",reportReason:N.a.Spam},emptyStream:{getTitle:function(){return Object(l.d)("There's nobody on the stream","ReportModalWizard")},value:"empty stream"},impersonation:{getTitle:function(){return Object(l.d)("They're impersonating someone","ReportModalWizard")},value:"impersonation",reportReason:N.a.Impersonation},impersonating:{getTitle:function(){return Object(l.d)("Impersonating someone","ReportModalWizard")},value:"impersonation",reportReason:N.a.Impersonation},underage:{getTitle:function(){return Object(l.d)("They're underage (12 or younger)","ReportModalWizard")},value:"underage",reportReason:N.a.Underaged},report_ip:{getTitle:function(){return Object(l.d)("I think they're using copyrighted content, trademarks, or other intellectual property that's not theirs","ReportModalWizard")},value:"intellectual property"},itsInappropriateContent:{getTitle:function(){return Object(l.d)("It's inappropriate or obscene","ReportModalWizard")},value:"inappropriate content"},inappropriateContent:{getTitle:function(){return Object(l.d)("Inappropriate or obscene content","ReportModalWizard")},value:"inappropriate content"},violateDevAgreement:{getTitle:function(){return Object(l.d)("They're breaking Twitch's Developer Agreement","ReportModalWizard")},value:"violating developer agreement"},revealPersonalInfo:{getTitle:function(){return Object(l.d)("Revealing someone's personal information","ReportModalWizard")},value:"revealing personal info",reportReason:N.a.Other},inappropriateBadge:{getTitle:function(){return Object(l.d)("Their emote or subscriber badge violates Twitch's Guidelines","ReportModalWizard")},value:"emote/subscriber badge",reportReason:N.a.Other},noModeration:{getTitle:function(){return Object(l.d)("They're not moderating their chat appropriately","ReportModalWizard")},value:"not moderating chat",reportReason:N.a.Other},inappropriateExtension:{getTitle:function(){return Object(l.d)("The extensions are inappropriate or malicious","ReportModalWizard")},value:"inappropriate extension",reportReason:N.a.Other},cheating:{getTitle:function(){return Object(l.d)("Cheating in an online game","ReportModalWizard")},value:"cheating",reportReason:N.a.Cheating},bitsViolation:{getTitle:function(){return Object(l.d)("They're breaking Twitch's Bits Policy","ReportModalWizard")},value:"bits violation",reportReason:N.a.BitsViolation},compromisedAccount:{getTitle:function(){return Object(l.d)("The account is stolen or compromised","ReportModalWizard")},value:"account compromised",reportReason:N.a.Other},video_labeling:{getTitle:function(){return Object(l.d)("Their content is misclassified (wrong category or tags)","ReportModalWizard")},value:"incorrect label",reportReason:N.a.Miscategorized},video_general:{getTitle:P.generalFilter,value:"general_video",omitFromDescription:!0},hateSpeechSymbols:{getTitle:function(){return Object(l.d)("It contains hate speech or hate symbols","ReportModalWizard")},value:"hate speech symbols",reportReason:N.a.HatefulConduct},hateSpeech:{getTitle:function(){return Object(l.d)("Hate speech, hateful symbols, or other hateful conduct","ReportModalWizard")},value:"hate speech",reportReason:N.a.HatefulConduct},harassing:{getTitle:function(){return Object(l.d)("It's harassing or bullying someone","ReportModalWizard")},value:"harassment",reportReason:N.a.Harassment},harassment:{getTitle:function(){return Object(l.d)("Harassing or bullying someone","ReportModalWizard")},value:"harassment",reportReason:N.a.Harassment},abusiveViolence:{getTitle:P.abusiveViolence,value:"threatening violence",reportReason:N.a.Harm},commitingViolence:{getTitle:P.commitingViolence,value:"committing violence",reportReason:N.a.Harm},swatting:{getTitle:function(){return Object(l.d)("Involvement in swatting or DDOS attacks","ReportModalWizard")},value:"swatting/ddosing",reportReason:N.a.Harassment},personalInfo:{getTitle:function(){return Object(l.d)("Doxxing (purposely revealing personal information)","ReportModalWizard")},value:"revealing personal info",reportReason:N.a.Harassment},threat_me:{getTitle:function(){return Object(l.d)("At me","ReportModalWizard")},value:"against me",reportReason:N.a.Harm},threat_person:{getTitle:function(){return Object(l.d)("At someone else","ReportModalWizard")},value:"against another person",reportReason:N.a.Harm},threat_group:{getTitle:function(){return Object(l.d)("At a group of people","ReportModalWizard")},value:"against group of people",reportReason:N.a.Harm},threat_selfharm:{getTitle:function(){return Object(l.d)("They're threatening self-harm","ReportModalWizard")},value:"selfharm"},inappropriate_game:{getTitle:function(){return Object(l.d)("The game isn't allowed on Twitch","ReportModalWizard")},value:"prohibited game",reportReason:N.a.Prohibited},sexuallyViolentChildAnimal:{getTitle:function(){return Object(l.d)("Sexual conduct involving violence, children, or animals","ReportModalWizard")},value:"sexual conduct: violent, child, or animal",reportReason:N.a.SexualViolence},pornographic:{getTitle:function(){return Object(l.d)("Sexually explicit or pornographic content","ReportModalWizard")},value:"pornographic",reportReason:N.a.SexualContent},gory:{getTitle:function(){return Object(l.d)("Extreme violence or gore","ReportModalWizard")},value:"gory",reportReason:N.a.Gore},suggestive:{getTitle:function(){return Object(l.d)("Sexually suggestive content","ReportModalWizard")},value:"sexually suggestive",reportReason:N.a.SexualContent},nudity:{getTitle:function(){return Object(l.d)("Full or partial nudity","ReportModalWizard")},value:"nudity",reportReason:N.a.SexualContent},other:{getTitle:function(){return Object(l.d)("There's something else wrong with it...","ReportModalWizard")},value:"other",reportReason:N.a.Other},evasion:{getTitle:function(){return Object(l.d)("Evading a block, ban, or suspension","ReportModalWizard")},value:"ban evasion"},evasion_sitewide:{getTitle:function(){return Object(l.d)("A sitewide ban from Twitch","ReportModalWizard")},value:"sitewide ban",reportReason:N.a.TosBanEvasion},evasion_chat:{getTitle:function(){return Object(l.d)("A chat ban from one or more channels","ReportModalWizard")},value:"chat ban",reportReason:N.a.ChatBanEvasion},evasion_messaging:{getTitle:function(){return Object(l.d)("A block from messaging me","ReportModalWizard")},value:"messaging block",reportReason:N.a.ChatBanEvasion},impersonation_me:{getTitle:P.me,value:"impersonating me",reportReason:N.a.Impersonation},impersonation_brand:{getTitle:function(){return Object(l.d)("Someone I represent, or a company I work for","ReportModalWizard")},value:"impersonating brand",reportReason:N.a.Impersonation},impersonation_other:{getTitle:P.someoneElse,value:"Impersonating someone else",reportReason:N.a.Impersonation},selfharm:{getTitle:function(){return Object(l.d)("I'm concerned for their wellbeing","ReportModalWizard")},value:"selfharm",reportReason:N.a.SelfHarm},video:{getTitle:function(){return Object(l.d)("In a live stream, video, or clip","ReportModalWizard")},value:"video"},video_more_options:{getTitle:P.moreOptions,value:"video more options"},channel_points:{getTitle:function(e){return Object(l.d)("In {username}'s channel points or rewards",{username:e},"ReportModalWizardItem")},value:"channel_points",reportContext:g.Mc.CHANNEL_POINTS_REPORT},whisper:{getTitle:function(){return Object(l.d)("In a whisper (private message)","ReportModalWizard")},value:"whisper",reportContext:g.Mc.WHISPER_REPORT},whisper_more_options:{getTitle:P.moreOptions,value:"whisper more options"},chat:{getTitle:function(){return Object(l.d)("In a chat message","ReportModalWizardChat")},value:"chat"},chat_more_options:{getTitle:P.moreOptions,value:"chat more options"},moderating:{getTitle:function(e){return Object(l.d)("{username} isn't moderating their chat",{username:e},"ReportModalWizard")},value:"moderating",reportReason:N.a.Other},otherContent:{getTitle:function(e){return Object(l.d)("In {username}'s other content (profile, emotes, etc.)",{username:e},"ReportModalWizard")},value:"other content"},poll:{getTitle:function(e){return Object(l.e)("In {username}'s poll title or choices",{username:e},"Polls--ReportModalWizard")},value:"poll",reportContext:g.Mc.POLL_REPORT},poll_more_options:{getTitle:P.moreOptions,value:"poll more options"},profile:{getTitle:function(){return Object(l.d)("The profile content (avatar, panels, etc.)","ReportModalWizard")},value:"profile"},profile_more_options:{getTitle:P.moreOptions,value:"profile more options"},report_other:{getTitle:function(){return Object(l.d)("Somewhere else...","ReportModalWizard")},value:"somewhere else",omitFromDescription:!0},video_streamer:{getTitle:function(){return Object(l.d)("The streamer or channel owner","ReportModalWizard")},value:"streamer"},video_someoneElse:{getTitle:function(){return Object(l.d)("Someone else in the video","ReportModalWizard")},value:"someone else in video"},video_chatSomeone:{getTitle:function(){return Object(l.d)("Someone in chat","ReportModalWizard")},value:"someone in chat",differentTarget:!0},report_channelOwner:{getTitle:function(){return Object(l.d)("The channel owner","ReportModalWizard")},value:"channel owner"},report_member:{getTitle:function(){return Object(l.d)("Another community member","ReportModalWizard")},value:"community member",differentTarget:!0},location_onTwitch:{getTitle:function(){return Object(l.d)("On Twitch","ReportModalWizard")},value:"on twitch"},location_anotherSite:{getTitle:function(){return Object(l.d)("On another site or service","RpoertModalWizard")},value:"another site"},location_TwitchEvent:{getTitle:function(){return Object(l.d)("In person, at a Twitch event","ReportModalWizard")},value:"twitch event"},external_incitingRaids:{getTitle:function(){return Object(l.d)("Inciting brigading or malicious raids","ReportModalWizard")},reportReason:N.a.Harassment,value:"brigading/raids"},external_threatening:{getTitle:P.threatening,value:"threatening"},external_harassment:{getTitle:P.harassment,value:"hateful/harassing"},external_abusiveViolence:{getTitle:P.abusiveViolence,value:"external site; threatening violence",reportReason:N.a.Harm},external_commitingViolence:{getTitle:P.commitingViolence,value:"external site; committing violence",reportReason:N.a.Harm},conduct_impersonation:{getTitle:function(){return Object(l.d)("impersonating someone","ReportModalWizard")},value:"impersonation",reportReason:N.a.Impersonation},spam:{getTitle:function(){return Object(l.d)("Spam, malicious links, or bot accounts","ReportModalWizard")},value:"spam",reportReason:N.a.Spam},spam_bot:{getTitle:function(){return Object(l.d)("I think this is a bot account","ReportModalWizard")},value:"bot"},spam_links:{getTitle:function(){return Object(l.d)("Sending malicious links","ReportModalWizard")},value:"malicious links"},spam_scam:{getTitle:P.scam,value:"scam"},spam_repeated:{getTitle:function(){return Object(l.d)("Sending repeated messages (spam)","ReportModalWizard")},value:"repeat messages"}},A=n("akKH"),B=n("Kae6"),F=n("y0tB"),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(e){var n=e.target,i=n.name,r=n.value;t.props.onChangeText(i,r)},t.onSelect=function(e){if(t.props.currentCard.items&&e.currentTarget.parentElement){var n=Number(e.currentTarget.parentElement.getAttribute("data-a-index")),i=t.props.currentCard.items[n];t.props.onChangeRadio(i)}},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.currentCard.getDescription?a.createElement(E.a,{padding:{bottom:1}},this.props.currentCard.getDescription()):null;return a.createElement(E.a,{className:"reporting-wizard-card"},e,a.createElement(A.a,{label:this.props.currentCard.getLabel?this.props.currentCard.getLabel():""},this.renderCardItems()))},t.prototype.renderCardItems=function(){var e=this,t=this.props.currentCard,n=[];return t.items&&t.type&&(n=t.items.filter((function(e){return!!e})).map((function(t,n){switch(t.type){case i.Text:return a.createElement(E.a,{key:n,padding:{bottom:1}},t.getTitle());case i.Link:return a.createElement(E.a,{key:n,padding:{bottom:1}},a.createElement(k.a,{linkTo:t.value,targetBlank:!0},a.createElement(E.a,{display:C.g.Flex},a.createElement(E.a,{display:C.g.Inline,padding:{right:.5}},a.createElement(_.a,{asset:O.a.Document})),t.getTitle())));case i.Textarea:var r=t.value?e.props.userTextInputs[t.value]:void 0,o=t.required&&(!r||!!r&&0===r.trim().length);return a.createElement(E.a,{key:n,padding:{bottom:1}},a.createElement(A.a,{label:t.getTitle(),labelOptional:t.required?"":Object(l.d)("Optional","ReportModalWizardCard")},a.createElement(B.a,{onChange:e.onChange,rows:t.rows||3,name:t.value,error:e.props.error&&o,value:r,"data-test-selector":"report-wizard-textarea"})));case i.MultipleChoice:default:return a.createElement(E.a,{key:n,padding:{y:.5}},a.createElement(F.a,{checked:!!e.props.currentSelection&&e.props.currentSelection.value===t.value,onChange:e.onSelect,label:t.getTitle(e.props.targetUser.displayName),"data-a-index":n,name:"card",value:t.value}))}}))),n},t}(a.Component);!function(e){e.Confirm="Confirm",e.MultipleChoice="MultipleChoice",e.Info="End Card"}(R||(R={}));var L,G,H,z={contentGeneral:function(){return Object(l.d)("What would you like to report?","ReportModalWizard")},content:function(){return Object(l.d)("What's wrong with this content?","ReportModalWizard")},identifyUser:function(){return Object(l.d)("Who do you want to report?","ReportModalWizard")},thisPersonIs:function(){return Object(l.d)("This person is...","ReportModalWizard")},relevantStatements:function(){return Object(l.d)("What would you like to report? (Please choose the most relevant statement that applies.)","ReportModalWizard")}},V={report:function(e){return Object(l.d)("Report {username}",{username:e},"ReportModalWizard")},reportVideo:function(e){return Object(l.d)("Report {username}'s Video",{username:e},"ReportModalWizard")},reportMessage:function(e){return Object(l.d)("Report {username}'s Message",{username:e},"ReportModalWizard")},reportWhisper:function(e){return Object(l.d)("Report {username}'s Whisper",{username:e},"ReportModalWizard")},reportPoll:function(e){return Object(l.d)("Report {username}'s Poll",{username:e},"Polls--ReportModalWizard")},reportProfileOrOtherContent:function(e){return Object(l.d)("Report {username}'s Profile Or Other Content",{username:e},"ReportModalWizard")},reportProfile:function(e){return Object(l.d)("Report {username}'s Profile Content",{username:e},"ReportModalWizard")},reportEmotesBadges:function(e){return Object(l.d)("Report {username}'s Emotes or Badges",{username:e},"ReportModalWizard")},reportAbusive:function(e){return Object(l.d)("Report {username} for Abusive Conduct",{username:e},"ReportModalWizard")},tellUsMore:function(){return Object(l.d)("Tell Us More","ReportModalWizard")},thanks:function(){return Object(l.d)("Thanks for letting us know","ReportModalWizard")},thanksConcern:function(){return Object(l.d)("Thank you for your concern","ReportModalWizard")}},W={getDescription:function(){return Object(l.d)("Reports are reviewed by Twitch Staff 24 hours a day. We will issue penalties, such as account suspension and/or content removal, once we verify that a violation of our policies has occurred.","ReportModalWizard")},blockPrompt:!0,getTitle:V.thanks,type:R.Info,value:"end card"},q={socialMedia:Object(r.__assign)(Object(r.__assign)({},W),{items:[M.endBlurb_socialmedia]}),violence:Object(r.__assign)(Object(r.__assign)({},W),{items:[M.endBlurb_threat]}),terrorism_mass_violence:Object(r.__assign)(Object(r.__assign)({},W),{items:[M.endBlurb_threat]}),legal:{getTitle:V.thanksConcern,getDescription:function(){return Object(l.d)("To submit a claim or report a violation of this type, you will need to follow the steps listed on the relevant page below.","ReportModalWizard")},items:[M.endLink_DMCA,M.endLink_trademark,M.endLink_devAgreement],type:R.Info,value:"ip end"},selfharm:{getTitle:V.thanksConcern,getDescription:function(){return Object(l.d)("If you know the user personally, and you believe them to be in danger, please contact their local authorities immediately. The link below contains some general information that may be of use.","ReportModalWizard")},items:[M.endLink_selfharm],type:R.Info,value:"selfharm end"},twitchEvent:{getTitle:V.thanksConcern,getDescription:function(){return Object(l.d)("Please bring this concern to the attention of staff or security at the event if you have not already done so. More information is available at the link below.","ReportModalWizard")},items:[M.endLink_eventCoC],value:"twitch event end",type:R.Info}},Q={getTitle:V.report,getLabel:function(){return Object(l.d)("Where is the problem?","ReportModalWizard")},items:[M.video,M.whisper,M.chat,M.moderating,M.otherContent,M.report_username,M.channel_points,M.report_other],type:R.MultipleChoice,value:"content type"},K={identifyUser:{getTitle:V.reportVideo,getLabel:z.identifyUser,items:[M.video_streamer,M.video_someoneElse,M.video_chatSomeone],type:R.MultipleChoice,value:"video identify user"},content:{getTitle:V.reportVideo,getLabel:z.contentGeneral,items:[M.terrorism_mass_violence,M.violence,M.abusive,M.video_labeling,M.inappropriateContent,M.selfharm,M.video_more_options],type:R.MultipleChoice,value:"video report reason"},moreOptions:{getTitle:V.reportVideo,getLabel:z.contentGeneral,items:[M.revealPersonalInfo,M.cheating,M.impersonating,M.underage,M.bitsViolation,M.report_ip,M.other],type:R.MultipleChoice,value:"video general report reason"}},Y={content:{getTitle:V.reportMessage,getLabel:z.contentGeneral,items:[M.report_username,M.violence,M.abusive,M.evasion,M.spam,M.selfharm,M.chat_more_options],type:R.MultipleChoice,value:"message report reason"},moreOptions:{getTitle:V.reportMessage,getLabel:z.contentGeneral,items:[M.emotes_break_guidelines,M.inappropriateContent,M.revealPersonalInfo,M.maliciousRaid,M.underage,M.bitsViolation,M.other],type:R.MultipleChoice,value:"message general report reason"}},J={general:{getTitle:V.reportWhisper,getLabel:z.contentGeneral,items:[M.report_username,M.violence,M.abusive,M.spam,M.selfharm,M.whisper_more_options],type:R.MultipleChoice,value:"whisper report reason",getDescription:function(){return Object(l.d)("Please note that we may review additional messages in this conversation to determine the context of your report.","ReportModalWizard")}},moreOptions:{getTitle:V.reportWhisper,getLabel:z.contentGeneral,items:[M.emotes_break_guidelines,M.evasion,M.inappropriateContent,M.revealPersonalInfo,M.underage,M.other],type:R.MultipleChoice,value:"whisper general report reason"}},X={general:{getTitle:V.reportPoll,getLabel:z.contentGeneral,items:[M.violence,M.abusive,M.spam,M.selfharm,M.poll_more_options],type:R.MultipleChoice,value:"poll report reason"},moreOptions:{getTitle:V.reportPoll,getLabel:z.contentGeneral,items:[M.emotes_break_guidelines,M.evasion,M.inappropriateContent,M.revealPersonalInfo,M.underage,M.other],type:R.MultipleChoice,value:"poll general report reason"}},$={profile:{getTitle:V.reportProfile,getLabel:z.contentGeneral,items:[M.revealPersonalInfo,M.violence,M.abusive,M.inappropriateContent,M.selfharm,M.profile_more_options],type:R.MultipleChoice,value:"profile report reason"},profileMoreOptions:{getTitle:V.reportProfile,getLabel:z.contentGeneral,items:[M.scam,M.evasion,M.impersonation,M.underage,M.report_ip,M.other],type:R.MultipleChoice,value:"profile general report reason"},emotes:{getTitle:V.reportEmotesBadges,getLabel:z.content,items:[M.hateSpeechSymbols,M.harassing,M.itsInappropriateContent,M.automod,M.report_ip,M.other],type:R.MultipleChoice,value:"emote report reason"},general:{getTitle:V.reportProfileOrOtherContent,getLabel:z.content,items:[M.report_username,M.profile,M.report_emotes,M.inappropriateExtension,M.compromisedAccount,M.violateDevAgreement],type:R.MultipleChoice,value:"profile content location"}},Z={getTitle:function(e){return Object(l.d)("Report {username}'s Room",{username:e},"ReportModalWizard")},getLabel:z.identifyUser,items:[M.report_channelOwner,M.report_member],value:"room report user",type:R.MultipleChoice},ee={getTitle:V.tellUsMore,items:[M.input_description],type:R.Confirm,value:"tell us more"},te={getTitle:function(e){return Object(l.d)("Report {username}'s Emote",{username:e},"ReportModalWizard")},items:[M.input_emotes],type:R.Confirm,value:"Emote report context"},ne={banEvasion:Object(r.__assign)(Object(r.__assign)({},ee),{items:[M.input_usernames,M.input_description],value:"ban evasion tell us more"}),socialMedia:Object(r.__assign)(Object(r.__assign)({},ee),{items:[M.input_link,M.input_connection,M.input_description],nextCard:q.socialMedia,value:"social media tell us more"})},ie={content:{getTitle:V.reportAbusive,getLabel:z.relevantStatements,items:[M.hateSpeech,M.harassment,M.abusiveViolence,M.commitingViolence,M.swatting,M.personalInfo],type:R.MultipleChoice,value:"abuse type"}},re={identifyLocation:{getTitle:function(e){return Object(l.d)("Report {username} for something else...",{username:e},"ReportModalWizard")},getLabel:function(){return Object(l.d)("Where did the problem happen?","ReportModalWizard")},items:[M.location_onTwitch,M.location_anotherSite,M.location_TwitchEvent],type:R.MultipleChoice,value:"off-site conduct location"},externalSite:{getTitle:function(e){return Object(l.d)("Report {username}'s Conduct on Another Site or Service",{username:e},"ReportModalWizard")},getLabel:z.contentGeneral,getDescription:function(){return Object(l.d)("Please note that incidents reported through this form must involve Twitch community members. If possible, please submit a report to the site or service where the incident occurred as well.","ReportModalWizard")},items:[M.external_incitingRaids,M.external_threatening,M.external_harassment],type:R.MultipleChoice,nextCard:ne.socialMedia,value:"external site conduct"},external_abusive:Object(r.__assign)(Object(r.__assign)({},ie.content),{items:[M.hateSpeech,M.harassment,M.external_abusiveViolence,M.external_commitingViolence,M.swatting,M.personalInfo],nextCard:ne.socialMedia})},ae={getTitle:function(e){return Object(l.d)("Report {username}'s Spam or Malicious Links",{username:e},"ReportModalWizard")},getLabel:z.contentGeneral,items:[M.spam_bot,M.spam_scam,M.spam_links,M.spam_repeated],type:R.MultipleChoice,value:"spam type"},oe={getTitle:function(e){return Object(l.d)("Report {username} for Inappropriate Content",{username:e},"ReportModalWizard")},getLabel:z.relevantStatements,items:[M.inappropriate_game,M.gory,M.sexuallyViolentChildAnimal,M.pornographic,M.suggestive,M.nudity,M.other],type:R.MultipleChoice,value:"inappropriate content type"},se={getTitle:function(e){return Object(l.d)("Report {username} for Evading a Ban",{username:e},"ReportModalWizard")},getLabel:function(){return Object(l.d)("What kind of ban are they evading?","ReportModalWizard")},value:"ban type",items:[M.evasion_chat,M.evasion_sitewide,M.evasion_messaging],type:R.MultipleChoice,nextCard:ne.banEvasion},le={getTitle:function(e){return Object(l.d)("Report {username} for Impersonation",{username:e},"ReportModalWizard")},getLabel:function(){return Object(l.d)("Who is being impersonated?","ReportModalWizard")},getDescription:function(){return Object(l.d)("Please note that parody, cosplay, and other portrayals without the intent to deceive or defraud are allowed under Twitch's Community Guidelines. If you would still like to submit a report, please continue.","ReportModalWizard")},items:[M.impersonation_me,M.impersonation_brand,M.impersonation_other],type:R.MultipleChoice,value:"impersonation type"},ce=Q,ue=ee,de=W,pe={video:K.content,"video more options":K.moreOptions,whisper:J.general,"whisper more options":J.moreOptions,poll:X.general,"poll more options":X.moreOptions,chat:Y.content,"chat more options":Y.moreOptions,"other content":$.general,profile:$.profile,"profile more options":$.profileMoreOptions,room:Z,"somewhere else":re.identifyLocation,streamer:K.content,"someone else in video":K.content,"someone in chat":Y.content,general_video:K.moreOptions,general_messaging:Y.content,general_profile:$.profile,"channel owner":$.general,"community member":Y.content,"on twitch":$.general,"another site":re.externalSite,"twitch event":q.twitchEvent,"brigading/raids":ne.socialMedia,"hateful/harassing":re.external_abusive,"external site; scam":ne.socialMedia,"ban evasion":se,spam:ae,hateful:ie.content,impersonation:le,abusive:ie.content,"inappropriate content":oe,"inappropriate emotes":$.emotes,"intellectual property":q.legal,"violating developer agreement":q.legal},me={selfharm:q.selfharm,harm:q.violence,terrorism_mass_violence:q.terrorism_mass_violence,other:de},fe={CHANNEL_FEED_POST_REPORT:$.general,COMMUNITY_REPORT:$.general,CHAT_REPORT:Y.content,CLIP_REPORT:K.content,EMOTE_REPORT:te,EVENT_REPORT:$.general,EXTENSION_REPORT:$.general,LIVE_UP_REPORT:$.general,ROOM_REPORT:Z,WHISPER_REPORT:J.general,POLL_REPORT:X.general,VOD_COMMENT_REPORT:Y.content},he=n("dEDE"),ge=(n("m618"),"report-wizard-back"),be="report-wizard-close",ve="report-wizard-next",ye="report-wizard-submit",Se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentCard:t.props.currentCard||fe[t.props.reportContentType]||ce,prevCards:[],currentSelection:null,prevSelections:[],displacedSelections:[],userTextInput:{},error:null,loading:!1,reportReason:t.props.reportReason||null,modalCloseTracked:!1,targetUnknown:!1,reportContext:t.props.reportContentType},t.renderPrimer=function(){return a.createElement(E.a,{margin:{top:1}},a.createElement(T.a,null,Object(l.d)("We are going to ask you a few questions to help us investigate your report quickly and accurately.","ReportModalWizard")))},t.renderButtons=function(){var e=Object(l.d)("Close","ReportModalWizard"),n=t.handleClose,i=be,r=!1,o=t.state.prevCards.length?t.renderBack():null;switch(t.state.currentCard.type){case R.MultipleChoice:e=Object(l.d)("Next","ReportModalWizard"),n=t.handleNext,i=ve,r=!t.state.currentSelection;break;case R.Confirm:e=Object(l.d)("Submit Report","ReportModalWizard"),n=t.handleSubmit,r=!t.state.userTextInput,i=ye}return a.createElement(E.a,null,o,a.createElement(he.a,{onClick:n,disabled:r,"data-test-selector":i,state:t.state.loading?he.c.Loading:he.c.Default},a.createElement(E.a,{padding:{x:1}},e)))},t.renderBack=function(){return a.createElement(E.a,{margin:{right:1},display:C.g.InlineBlock},a.createElement(he.a,{type:he.d.Secondary,onClick:t.handleBack,"data-test-selector":ge},a.createElement(E.a,{padding:{x:1}},Object(l.d)("Back","ReportModalWizard"))))},t.getTitle=function(){return t.state.currentCard.getTitle&&t.props.targetUser.displayName&&t.props.targetUser.id?t.state.targetUnknown?t.state.currentCard.getTitle(Object(l.d)("Another User","ReportModalWizard")):t.state.currentCard.getTitle(t.props.targetUser.displayName):t.state.targetUnknown?Object(l.d)("Report User","ReportModalWizard"):t.props.title},t.handleClose=function(){t.setState({modalCloseTracked:!0},(function(){return t.props.trackClose({actionType:G.Close,closeType:H.Finish,currentStep:t.state.currentCard.value,choiceIndex:t.getChoiceIndex()})})),t.props.onClose()},t.getChoiceIndex=function(){var e=0;return t.state.currentCard&&t.state.currentCard.items&&(e=t.state.currentCard.items.findIndex((function(e){return t.state.currentSelection===e}))+1),e>=1?e:void 0},t.handleNext=function(){if(t.state.currentSelection&&t.state.currentSelection.value){var e=t.state.currentCard,n=t.state.prevCards.concat(e),i=t.state.prevSelections.concat(t.state.currentSelection),r=t.state.displacedSelections[t.state.displacedSelections.length-1],a=t.state.currentSelection.differentTarget||t.state.targetUnknown,o=t.state.currentSelection.reportContext||t.state.reportContext,s=t.getChoiceIndex(),l=e.nextCard||ue;pe[t.state.currentSelection.value]&&(l=pe[t.state.currentSelection.value]);var c=t.state.currentSelection.reportReason||t.state.reportReason,u=l.type===R.Info;t.setState({currentCard:l,reportReason:c,prevCards:u?[]:n,prevSelections:i,targetUnknown:a,currentSelection:r||null,displacedSelections:t.state.displacedSelections.slice(0,-1),reportContext:o},(function(){return t.props.trackAction({actionType:G.Next,currentStep:e.value,navigatedTo:l.value,choiceIndex:s})}))}},t.createReportDescription=function(){return""+(t.state.reportContext!==t.props.reportContentType?"report context: "+t.props.reportContentType+"\n\n":"")+t.state.prevSelections.map((function(e){if(!e.omitFromDescription)return e.value})).filter((function(e){return!!e})).join(" > ")+"\n\n"+Object.keys(t.state.userTextInput).map((function(e){return e+": "+t.state.userTextInput[e]})).join("\n")},t.requiredInputsNonEmpty=function(){if(t.state.currentCard.items)return 0===t.state.currentCard.items.filter((function(e){if(e.type!==i.Textarea||!e.required)return!1;var n=t.state.userTextInput[e.value],r=n&&0===n.trim().length;return!n||r})).length},t.handleSubmit=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i,a,o,s=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return e=Object(l.d)("Additional information is required.","ReportModalWizard"),this.requiredInputsNonEmpty()?(t=null!==(o=this.state.reportReason)&&void 0!==o?o:"other",n=this.createReportDescription(),this.setState({loading:!0}),[4,this.props.onSubmit(t,n,this.state.reportContext)]):[3,2];case 1:switch(r.sent(),this.setState({loading:!1}),this.props.submitStatus){case N.b.FormError:this.setState({error:e});break;case N.b.Success:i=de,me[t]&&(i=me[t]),this.state.currentCard.nextCard&&(i=this.state.currentCard.nextCard),a=this.getChoiceIndex(),this.setState({currentCard:i,prevCards:[],prevSelections:[],currentSelection:null,displacedSelections:[],userTextInput:{},error:null},(function(){return s.props.trackAction({actionType:G.Submit,choiceIndex:a})}));break;case N.b.UserError:this.setState({error:Object(l.d)("This account could not be reported. It may have already been suspended, or the owner may have deleted it.","ReportModalWizard")});break;case N.b.MutationError:default:this.setState({error:Object(l.d)("Sorry, a network error occurred when submitting your report. Please try again later.","ReportModalWizard")})}return[3,3];case 2:this.props.onError(N.b.FormError),this.setState({error:e}),r.label=3;case 3:return[2]}}))}))},t.handleBack=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i,a,o,s=this;return Object(r.__generator)(this,(function(r){return e=this.state.currentCard,t=this.state.prevCards[this.state.prevCards.length-1],n=this.state.prevSelections[this.state.prevSelections.length-1],i=!n.differentTarget&&this.state.targetUnknown,a=this.getChoiceIndex(),o=this.state.displacedSelections,this.state.currentSelection&&(o=o.concat(this.state.currentSelection)),t&&n&&this.setState({currentCard:t,currentSelection:n,displacedSelections:o,prevCards:this.state.prevCards.slice(0,-1),prevSelections:this.state.prevSelections.slice(0,-1),error:null,targetUnknown:i},(function(){return s.props.trackAction({actionType:G.Back,navigatedTo:e.value,currentStep:t.value,choiceIndex:a})})),[2]}))}))},t.handleTextInput=function(e,n){var i=t.state.userTextInput;i[e]=n,t.setState({userTextInput:i})},t.handleSelection=function(e){if(t.state.currentCard.items&&e!==t.state.currentSelection){var n=t.state.targetUnknown;if(n)n=0===t.state.displacedSelections.filter((function(e){return e.differentTarget})).length;var i=t.state.reportContext;(t.state.displacedSelections.filter((function(e){return e.reportContext})).length||t.state.currentSelection&&t.state.currentSelection.reportContext)&&(i=t.props.reportContentType),t.setState({currentSelection:e,displacedSelections:[],userTextInput:{},targetUnknown:n,reportContext:i})}},t}return Object(r.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.state.modalCloseTracked||this.props.trackClose({actionType:G.Close,closeType:H.Close,currentStep:this.state.currentCard.value,choiceIndex:this.getChoiceIndex()})},t.prototype.render=function(){var e=this.state.currentCard.type===R.Info&&this.state.currentCard.blockPrompt?a.createElement(I,{targetUser:this.props.targetUser,onBlock:this.props.onBlock,onUnblock:this.props.onUnblock,userBlocked:this.props.userBlocked}):null,t=this.state.error&&a.createElement(w.a,{fullWidth:!0,margin:{bottom:1},padding:1,className:"report-wizard__error-container"},this.state.error),n=this.state.prevCards.length||this.state.currentCard.type===R.Info?null:this.renderPrimer();return a.createElement(w.a,{display:C.g.Flex,margin:{x:1},flexDirection:C.h.Column,fullHeight:!0,"data-test-card-value":this.state.currentCard.value},t,a.createElement(T.a,{id:c.a,bold:!0,type:T.e.H4,"data-a-target":"reporting-channel-name"},this.getTitle()),n,a.createElement(E.a,{margin:{y:1}},a.createElement(U,{currentCard:this.state.currentCard,currentSelection:this.state.currentSelection,targetUser:this.props.targetUser,targetUserID:this.props.targetUser.id,onChangeRadio:this.handleSelection,onChangeText:this.handleTextInput,userTextInputs:this.state.userTextInput,error:this.props.submitStatus===N.b.FormError&&!!this.state.error}),e),this.renderButtons())},t}(a.Component),ke=n("XQbB"),Ee=n("s8Ou"),Ce=n("0hI/");n.d(t,"c",(function(){return G})),n.d(t,"a",(function(){return H})),n.d(t,"b",(function(){return Oe})),function(e){e.Close="close",e.Open="open",e.Submit="submit_report",e.ToggleSettings="modal_settings"}(L||(L={})),function(e){e.Back="back",e.Close="close",e.Open="open",e.Next="next",e.Submit="submit_report",e.ToggleSettings="modal_settings"}(G||(G={})),function(e){e.Close="close",e.Finish="finish"}(H||(H={}));var _e=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSubmit=function(e,t,i){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n,a,o,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(!this.props.data.targetUser)return[2];n=i&&[g.Mc.WHISPER_REPORT,g.Mc.CHANNEL_POINTS_REPORT].includes(i)?i:this.props.reportContext.contentType,a=g.Mc[n],o={description:t,reason:e,content:a,contentID:this.props.reportContext.contentID||"",extra:this.props.reportContext.extra||"",targetID:this.props.data.targetUser.id},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.props.reportUser(Object(m.a)(o))];case 2:return r.sent(),this.setState({submitStatus:N.b.Success}),[3,4];case 3:return s=r.sent(),Object(v.d)()?l.k.warn("ReportUser Mutation failed."):l.k.errorAndReport(s,"ReportUser Mutation failed."),this.setState({submitStatus:N.b.MutationError}),[3,4];case 4:return[2]}}))}))},n.handleChildError=function(e){return n.setState({submitStatus:e})},n.handleClose=function(){n.props.onClose&&n.props.onClose(n.state.submitStatus,n.state.userBlocked)},n.onBlock=function(){var e,t;n.props.data.targetUser&&(n.props.blockUserMutation(n.props.data.targetUser.id),n.setState({userBlocked:!0}),(null===(e=n.props.sessionUser)||void 0===e?void 0:e.login)&&(null===(t=n.props.data.targetUser)||void 0===t?void 0:t.login)&&Object(f.b)({context:f.a.ReportWizard,targetUserLogin:n.props.data.targetUser.login,currentUserLogin:n.props.sessionUser.login}))},n.onUnblock=function(){n.props.data.targetUser&&(n.props.unblockUserMutation(n.props.data.targetUser.id),n.setState({userBlocked:!1}))},n.trackOpen=function(e){n.state.openEventSent||(n.trackWizardAction({actionType:G.Open,currentStep:e}),n.setState({openEventSent:!0}))},n.trackClose=function(e){n.state.closeEventSent||(n.trackWizardAction(e),n.setState({closeEventSent:!0}))},n.trackWizardAction=function(e){l.p.tracking.track(b.SpadeEventType.ReportWizardFlowAction,{ui_context:n.props.reportContext.trackingContext||n.props.reportContext.contentType,target_user_id:n.props.reportContext.targetUserID,report_sent:n.state.submitStatus===N.b.Success,modal_type:"wizard_v2",extra_user_id:n.props.reportContext.additionalTrackingID,action:e.actionType,close_type:e.closeType,report_session_id:n.reportID,current_step:e.currentStep,navigated_to:e.navigatedTo,choice_index:e.choiceIndex})},n.reportID=Object(h.b)(),n.state={submitStatus:N.b.Unsubmitted,openEventSent:!1,closeEventSent:!1,userBlocked:!1},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.trackOpen()},t.prototype.componentWillUnmount=function(){this.handleClose()},t.prototype.render=function(){if(this.props.data.error)return a.createElement(a.Fragment,null,a.createElement(T.a,{id:c.a,type:T.e.H4},this.props.title),a.createElement(E.a,{margin:{bottom:1}},a.createElement(T.a,{fontSize:C.j.Size5},Object(l.d)("There was an unexpected error. Please refresh the page and try again","ReportUser"))));if(this.props.data.loading)return a.createElement(ke.a,null);if(this.props.data.targetUser){var e={onClose:this.handleClose,onError:this.handleChildError,onSubmit:this.handleSubmit,reportContentType:this.props.reportContext.contentType,submitStatus:this.state.submitStatus,title:this.props.title,defaultDescription:this.props.defaultDescription};return this.props.data.loading?a.createElement(a.Fragment,null,a.createElement(T.a,{id:c.a,type:T.e.H4},this.props.title),a.createElement(ke.a,null)):a.createElement(Se,Object(r.__assign)({},e,{user:this.props.sessionUser,onBlock:this.onBlock,onUnblock:this.onUnblock,targetUser:this.props.data.targetUser,trackAction:this.trackWizardAction,trackClose:this.trackClose,userBlocked:this.userBlocked}))}return a.createElement(a.Fragment,null,a.createElement(T.a,{id:c.a,type:T.e.H4},this.props.title),a.createElement(E.a,{margin:{bottom:1}},a.createElement(T.a,{fontSize:C.j.Size5},Object(l.d)("The user you are trying to report does not exist","ReportUser"))))},Object.defineProperty(t.prototype,"userBlocked",{get:function(){var e,t,n=this;return!!(null===(t=null===(e=this.props.data.currentUser)||void 0===e?void 0:e.blockedUsers)||void 0===t?void 0:t.find((function(e){return!!e&&e.id===n.props.reportContext.targetUserID})))},enumerable:!0,configurable:!0}),t}(a.Component);var Oe=Object(s.d)(Object(u.a)(Ee,{name:"reportUser"}),Object(u.a)(Ce,{options:function(e){return{variables:{targetUserID:e.reportContext.targetUserID}}}}),Object(y.withLatencyTracking)("ReportUser",{autoReportInteractive:!0}),Object(d.a)(),Object(p.a)(),Object(o.b)((function(e){return{sessionUser:e.session.user}}),null))(_e)},dBR3:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("/7QA"),s=n("br9A"),l=n("sUnt"),c=n("uBOI"),u=n("yymn");!function(e){e.Prime="prime",e.Tier1="1000",e.Tier2="2000",e.Tier3="3000"}(i||(i={}));var d={prime:0,1e3:0,2e3:1,3e3:2},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeTab:i.Tier1,activeIndex:0},t.toggleActiveTab=function(e,n){t.setState({activeIndex:n},(function(){var e=t.props.subscriptionProducts[t.state.activeIndex];t.props.handleSubMenuAction({action:s.a.ChangeTier,checkoutButtonTier:e.price}),t.props.onTierSelect(e)}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;if(1===this.props.subscriptionProducts.length)return a.createElement(a.Fragment,null,this.props.children);var t=this.props.subscriptionProducts.filter((function(e){return e.tier})).map((function(t){var n=t.tier;return{label:Object(o.d)("Tier {tierNumber}",{tierNumber:d[n]+1},"TierTabsWrapper"),onClick:e.toggleActiveTab}}));return a.createElement(l.a,{className:"tier-tabs-wrapper"},a.createElement(l.a,{margin:{bottom:1}},a.createElement(c.b,{activeTabIndex:this.state.activeIndex,tabs:t,size:c.a.Default,justifyContent:u.l.Start})),a.createElement(l.a,null,this.props.children))},t}(a.Component);n.d(t,"a",(function(){return p}))},e0KT:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainParticipation"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainParticipation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]}]}}],loc:{start:0,end:84}};n.loc.source={body:"fragment hypeTrainParticipation on HypeTrainParticipation {\nsource\naction\nquantity\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},eL87:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("N0BP"),o=n("sUnt"),s=n("yymn"),l=n("Ws8v"),c=n("dEDE"),u=n("+80q"),d=n("7uM4"),p=n("C7sF"),m=(n("zdTm"),function(e){var t=r.createElement(o.a,{flexGrow:1,position:s.n.Relative},r.createElement(l.a,{borderTop:!0,className:"show-more__line",fullWidth:!0,position:s.n.Absolute,zIndex:s.s.Below}));return e.hideButton?r.createElement(o.a,{className:e.doNotMoveUp?void 0:"show-more__move-up"},r.createElement(o.a,Object(i.__assign)({},Object(a.a)(e),{className:"show-more__hidden"}),t)):r.createElement(o.a,Object(i.__assign)({className:e.doNotMoveUp?void 0:"show-more__move-up",display:s.g.Flex,textAlign:s.p.Center},Object(a.a)(e),{padding:{top:1}}),t,r.createElement(o.a,{flexGrow:0,padding:{x:1}},r.createElement(c.a,{blurAfterClick:!0,onClick:e.onClick,type:c.d.Text},r.createElement(o.a,{display:s.g.Flex},r.createElement(o.a,{alignSelf:s.c.Center,margin:{right:.5}},r.createElement(u.a,null,e.buttonText)),r.createElement(d.a,{asset:p.a.AngleDown})))),t)});n.d(t,"a",(function(){return m}))},eP7G:function(e,t,n){},eRLD:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("G8UE"),o=10,s=90;function l(e){return e<10?a.TimerPhase.waitingFor(o-e):e<s?a.TimerPhase.readyFor(s-e):a.TimerPhase.forced()}var c=new Map;var u=function(){},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={timerPhase:l(0)},t.stop=u,t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.stop=function(e,t){var n=c.get(e);if(n)n.listeners.add(t);else{var i=new Set([t]),r=0,a=setInterval((function(){r++,i.forEach((function(e){return e(r)}))}),1e3);n={listeners:i,timerID:a},c.set(e,n)}return function(){n&&(n.listeners.delete(t),0===n.listeners.size&&(c.delete(e),clearInterval(n.timerID)))}}(this.props.raid.id,(function(t){e.setState({timerPhase:l(t)})}))},t.prototype.componentWillUnmount=function(){this.stop()},t.prototype.render=function(){return r.createElement(r.Fragment,null,this.props.children(this.state.timerPhase))},t}(r.Component);n.d(t,"a",(function(){return d}))},eUBP:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("TSYQ"),o=n("q1tI"),s=n("/MKj"),l=n("/0dD"),c=n("XDQu"),u=n("nAiT"),d=n("VYPy"),p=n("Ws8v"),m=n("yymn"),f=n("b7S+"),h=n("i4Ys"),g=n("uG/k"),b=n("sUnt"),v=n("7uM4"),y=n("C7sF");n("rsq/");!function(e){e.Button="emote-modifier-button__button",e.ButtonPresentation="emote-modifier-button__presentation"}(i||(i={}));var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onClick&&t.props.onClick(t.props.modification)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=k(this.props.modification,this.props.theme),t=a({"emote-modifier-button":!0,"emote-modifier-button--selected":this.props.selected,"emote-modifier-button--large":this.props.large,"emote-modifier-button--draggable":this.props.draggable}),n=Object(u.b)(Object(d.c)(this.props.modification.name));return o.createElement(p.a,{display:m.g.Flex,background:m.d.Base,borderRadius:m.e.Medium,fullWidth:!0},o.createElement(f.a,{label:n},o.createElement(h.a,{"data-test-selector":i.Button,type:h.b.Alpha,onClick:this.props.onClick?this.handleClick:void 0,disabled:this.props.disabled},o.createElement(p.a,{"data-test-selector":i.ButtonPresentation,className:t,display:m.g.Flex,justifyContent:m.l.Center,alignItems:m.b.Center,borderRadius:m.e.Medium,border:!0},o.createElement(g.a,{srcSet:e,src:e["1x"],alt:n})),this.props.deleteMode&&o.createElement("div",{className:"emote-modifier-button__close"},o.createElement(b.a,{display:m.g.Flex,justifyContent:m.l.End,alignItems:m.b.Start},o.createElement(v.a,{asset:y.a.Close,height:10,width:10}))))))},t}(o.Component),k=function(e,t){var n=Object(d.c)(e.name).toLowerCase().replace(" ","-"),i=t===l.a.Dark?"light":"dark";return{"1x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+i+"-1.png","2x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+i+"-2.png","4x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+i+"-4.png"}};var E=Object(s.b)((function(e){return{theme:Object(c.a)(e)}}))(S);n.d(t,"a",(function(){return E}))},evnP:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("D7An"),s=n("YVOQ"),l=n("Mb07"),c=n("DnOo"),u=n("a5fV"),d=n("br9A"),p=n("sUnt"),m=n("yymn"),f=n("+80q"),h=n("C7sF"),g=n("hnjF"),b=(n("g0Jf"),"first_paid_sub_offer");var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e;if(!y())return null;var t=this.props,n=t.handleSubMenuAction,i=t.product,o=t.subscriptionBenefit,s=Object(l.b)(l.a.FirstPaidSubOffer,i);if(!s||!Object(l.d)(s))return null;var b=Object(u.e)(i),v=Object(l.c)(s),S=v.discountPercent,k=v.price;return S&&b&&k?r.createElement(p.a,{className:"first-paid-sub-offer__container",display:m.g.Flex,flexGrow:1,justifyContent:m.l.Between,margin:{x:"auto"},padding:{x:2,y:1}},r.createElement(p.a,{className:"first-paid-sub-offer__upsell",display:m.g.Flex,flexDirection:m.h.Column,justifyContent:m.l.Center},r.createElement(p.a,{margin:{bottom:.5}},r.createElement(f.a,{fontSize:m.j.Size4,lineHeight:f.b.Heading},Object(a.d)("First Sub, First Month: {offerPercentage}% off!",{offerPercentage:S},"FirstPaidSubOffer"))),r.createElement(f.a,{fontSize:m.j.Size7},Object(a.d)("Tier 1 only. Renews monthly at {renewalPrice}",{renewalPrice:k},"FirstPaidSubOffer"))),r.createElement(p.a,{alignItems:m.b.End,className:"first-paid-sub-offer__cta",display:m.g.Flex,flexDirection:m.h.Column,justifyContent:m.l.Center},r.createElement(c.a,{customSubscribeNowMessage:(null===(e=null==o?void 0:o.gift)||void 0===e?void 0:e.isGift)||(null==o?void 0:o.purchasedWithPrime)?Object(a.d)("Continue Sub","FirstPaidSubOffer"):Object(a.d)("Subscribe","FirstPaidSubOffer"),handleSubAction:n,icon:h.a.Star,isSubbedToTier:!1,overrideSubEventAction:d.a.BuyQuickSub,productName:i.name,tierPrice:String(b),url:i.url,offerID:s.id}),r.createElement(g.a,{className:"first-paid-sub-offer__cta--description",textAlign:m.p.Right},r.createElement(f.a,{fontSize:m.j.Size7},Object(a.d)("Was {renewalPrice}, {offerPercentage}% Off First Month",{offerPercentage:S,renewalPrice:k},"FirstPaidSubOffer"))))):null},t}(r.Component);function y(){return a.b.get(b,!1)&&"variant_fpso_20"===a.p.experiments.getAndTrackAssignment(o.c.MultiMonthSubs)}var S=Object(s.b)((function(e){return{subscriptionBenefit:e.subscriptionBenefit}}))(v);n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return S}))},g0Jf:function(e,t,n){},hKya:function(e,t,n){},hWJn:function(e,t,n){},hxuZ:function(e,t,n){},i70y:function(e,t,n){"use strict";var i,r=n("q1tI"),a=n("/7QA"),o=n("azJ+"),s=n("sUnt"),l=n("yymn"),c=n("dEDE"),u=n("C7sF"),d=n("+80q"),p=n("kqSx"),m=n("Ws8v"),f=n("hnjF"),h=n("zene"),g=n("uG/k"),b=n("X2PJ"),v=(n("mEVa"),function(e){var t={backgroundImage:"url("+o.a+"/bg-ghost-purple_280x60.svg)",width:"100%",height:"100%"},n={backgroundImage:"url("+o.a+"/bg-ghost-portrait.svg)",width:"100%",height:"100%"};return e.wide?r.createElement(m.a,{className:"gift-option__wide "+e.className,border:!0,borderRadius:l.e.Medium},r.createElement(h.a,{content:r.createElement(g.a,{alt:Object(a.d)("Give a gift to the community","GiftOptions"),src:e.image1x,srcSet:{"1x":e.image1x,"2x":e.image2x,"4x":e.image4x}}),toggle:e.giftingAnonymously,toggledContent:r.createElement(b.a,{borderRadius:l.e.Medium},r.createElement("div",{style:t}))}),r.createElement(s.a,{margin:2,display:l.g.Flex,flexDirection:l.h.Column,flexGrow:1},r.createElement(s.a,{display:l.g.InlineBlock,margin:{bottom:1},flexGrow:0},r.createElement(d.a,{bold:!0,fontSize:l.j.Size5},e.title)),r.createElement(s.a,{display:l.g.Flex,flexDirection:l.h.Column,justifyContent:l.l.Between,flexGrow:1},r.createElement(s.a,{margin:{bottom:1}},r.createElement(d.a,{"data-test-selector":i.GiftDescription},e.description)),r.createElement(s.a,{textAlign:l.p.Right},r.createElement(c.a,{"data-test-selector":i.GiftButton,disabled:!e.currentUserCanGift,onClick:e.onClick,type:e.buttonType},e.CTA))))):r.createElement(m.a,{className:"gift-option__narrow "+e.className,flexDirection:l.h.Row},r.createElement(h.a,{content:r.createElement(g.a,{alt:e.title,src:e.image1x,srcSet:{"1x":e.image1x,"2x":e.image2x,"4x":e.image4x}}),toggle:e.giftingAnonymously,toggledContent:r.createElement(b.a,{borderRadius:l.e.Medium},r.createElement("div",{style:n}))}),r.createElement(s.a,{margin:{left:1},padding:{left:.5},display:l.g.Flex,flexDirection:l.h.Column,fullHeight:!0},r.createElement(s.a,{display:l.g.InlineBlock,margin:{bottom:1},flexGrow:0},r.createElement(d.a,{bold:!0,fontSize:l.j.Size5},e.title)),r.createElement(s.a,{display:l.g.Flex,flexDirection:l.h.Column,justifyContent:l.l.Between,flexGrow:1},r.createElement(s.a,{margin:{bottom:1}},r.createElement(d.a,{"data-test-selector":i.GiftDescription},e.description)),r.createElement(s.a,{textAlign:l.p.Left},r.createElement(c.a,{"data-test-selector":i.GiftButton,disabled:!e.currentUserCanGift,onClick:e.onClick,type:e.buttonType},e.CTA)))))});n("EBDZ");n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return y})),function(e){e.IneligibleToGiftMessage="IneligibleToGiftMessage",e.MysteryGiftOption="MysteryGiftOption",e.SingleGiftOption="SingleGiftOption",e.GiftButton="GiftButton",e.GiftDescription="GiftDescription"}(i||(i={}));var y=function(e){var t=Object(a.d)("Gift Anonymously","GiftOptions"),n=Object(a.d)("Search for someone you'd like to give a gift subscription to.","GiftOptions"),h=Object(a.d)("Gift a Subscription","GiftOptions"),g=Object(a.d)("Give a Gift Subscription","GiftOptions"),b=Object(a.d)("Gift up to 100 gifts to followers & viewers of {channelDisplayName} that Twitch picks for you!",{channelDisplayName:e.channelDisplayName},"GiftOptions"),y=Object(a.d)("Gift to a Specific Viewer","GiftOptions"),S=Object(a.d)("Gift to the Community","GiftOptions"),k=Object(a.d)("Give Gift Subscriptions","GiftOptions");return r.createElement(s.a,{className:"subscription-gift-options",margin:{x:2,top:2}},r.createElement(s.a,{display:l.g.Flex,justifyContent:l.l.Between,flexDirection:e.wrapAnonymousGiftingSelect?l.h.Column:l.h.Row},r.createElement(s.a,null,e.onBack&&r.createElement(s.a,{className:"subscription-gift-options__back-button",margin:{bottom:1}},r.createElement(c.a,{type:c.d.Text,"data-a-target":"subscribe-back-button",icon:u.a.AngleLeft,onClick:e.onBack},r.createElement(s.a,{alignItems:l.b.Center,display:l.g.InlineFlex},r.createElement(d.a,null,Object(a.d)("Back","GiftOptions"))))),r.createElement(s.a,{display:l.g.Flex},r.createElement(s.a,{flexGrow:1},r.createElement(d.a,{bold:!0,fontSize:l.j.Size4},h)))),r.createElement(s.a,{alignSelf:e.onBack?l.c.Start:l.c.Center,margin:{top:.5}},r.createElement(p.a,{checked:e.giftingAnonymously,label:t,onChange:e.onAnonymousGiftingSelect}))),r.createElement(s.a,{margin:{top:1}},!e.currentUserCanGift&&r.createElement(m.a,{borderBottom:!0,borderRight:!0,borderTop:!0,className:"subscription-gift-options__ineligible-message","data-test-selector":i.IneligibleToGiftMessage,margin:{y:1},padding:1},r.createElement(d.a,null,Object(a.d)("Sorry, you cannot give gifts in this channel.","GiftOptions")))),r.createElement(s.a,{display:l.g.Flex,flexDirection:l.h.Column,justifyContent:l.l.Around,alignItems:l.b.Start,breakpointMedium:{flexDirection:l.h.Row,alignItems:l.b.Stretch}},!e.isNonStandardSub&&r.createElement(r.Fragment,null,r.createElement(f.a,{margin:{bottom:2},display:l.g.Flex,breakpointMedium:{display:l.g.Hide}},r.createElement(v,{buttonType:e.buttonType,CTA:k,currentUserCanGift:e.currentUserCanGift,"data-test-selector":i.MysteryGiftOption,description:b,giftingAnonymously:e.giftingAnonymously,image1x:o.a+"/random-viewer-1x.png",image2x:o.a+"/random-viewer-2x.png",image4x:o.a+"/random-viewer-4x.png",onClick:e.onMysteryGiftSelect,title:S,wide:!1})),r.createElement(f.a,{margin:{right:2},display:l.g.Hide,breakpointMedium:{display:l.g.Flex}},r.createElement(v,{buttonType:e.buttonType,CTA:k,currentUserCanGift:e.currentUserCanGift,"data-test-selector":i.MysteryGiftOption,description:b,giftingAnonymously:e.giftingAnonymously,image1x:o.a+"/random-viewer-wide-1x.png",image2x:o.a+"/random-viewer-wide-2x.png",image4x:o.a+"/random-viewer-wide-4x.png",onClick:e.onMysteryGiftSelect,title:S,wide:!0}))),r.createElement(r.Fragment,null,r.createElement(f.a,{display:l.g.Flex,breakpointMedium:{display:l.g.Hide}},r.createElement(v,{buttonType:e.buttonType,CTA:g,currentUserCanGift:e.currentUserCanGift,"data-test-selector":i.SingleGiftOption,description:n,giftingAnonymously:e.giftingAnonymously,image1x:o.a+"/specific-viewer-1x.png",image2x:o.a+"/specific-viewer-2x.png",image4x:o.a+"/specific-viewer-4x.png",onClick:e.onGiftSelect,title:y,wide:!1})),r.createElement(f.a,{display:l.g.Hide,breakpointMedium:{display:l.g.Flex}},r.createElement(v,{buttonType:e.buttonType,CTA:g,currentUserCanGift:e.currentUserCanGift,"data-test-selector":i.SingleGiftOption,description:n,giftingAnonymously:e.giftingAnonymously,image1x:o.a+"/specific-viewer-wide-1x.png",image2x:o.a+"/specific-viewer-wide-2x.png",image4x:o.a+"/specific-viewer-wide-4x.png",onClick:e.onGiftSelect,title:y,wide:!0})))))}},iS14:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),r=n("w09P"),a=n("yR8l"),o=n("ru7j"),s=n("zixI");function l(){var e=this;return Object(a.a)(s,{props:function(t){return{unblockUserMutation:function(n){return Object(i.__awaiter)(e,void 0,Promise,(function(){var e;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return t.mutate?[4,t.mutate({variables:{input:{targetUserID:n}},optimisticResponse:{unblockUser:{__typename:"UnblockUserPayload",targetUser:{__typename:"User",id:n}}},update:function(e){var t=null;try{t=e.readQuery({query:o})}catch(e){return}(null==t?void 0:t.currentUser)&&e.writeQuery({query:o,data:r(t,(function(e){return e.currentUser.blockedUsers}),(function(e){return e.filter((function(e){return!e||e.id!==n}))}))})}})]:[3,2];case 1:if(!(e=i.sent()))throw new Error("unblockUserMutation did not resolve with data");return[2,e];case 2:throw new Error("unblockUserMutation is not ready")}}))}))}}}})}},iotB:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainEmoteReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainBadgeReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"DOUBLE"}}],directives:[]}]}}]}}]}}],loc:{start:0,end:180}};n.loc.source={body:"fragment hypeTrainReward on HypeTrainReward {\nid\ntype\n... on HypeTrainEmoteReward {\nemote {\nid\ntoken\n}\n}\n... on HypeTrainBadgeReward {\nbadge {\nid\nsetID\nimageURL(size: DOUBLE)\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},k91D:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GiftSubscribeButton_Gift_Eligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recipientLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subProductId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"recipientLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canGift"},arguments:[{kind:"Argument",name:{kind:"Name",value:"product"},value:{kind:"Variable",name:{kind:"Name",value:"subProductId"}}}],directives:[]}]}}]}}]}}],loc:{start:0,end:171}};n.loc.source={body:"query GiftSubscribeButton_Gift_Eligibility($recipientLogin: String $subProductId: String!) {\nuser(login: $recipientLogin) {\nid\nself {\ncanGift(product: $subProductId)\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.GiftSubscribeButton_Gift_Eligibility=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"GiftSubscribeButton_Gift_Eligibility")},kSkr:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"BlockUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BlockUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"blockUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"targetUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:94}};n.loc.source={body:"mutation BlockUser($input: BlockUserInput!) {\nblockUser(input: $input) {\ntargetUser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.BlockUser=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"BlockUser")},kduP:function(e,t,n){"use strict";var i=n("cr+I"),r={"*":"%2A","!":"%21",")":"%29","(":"%28","'":"%27"};function a(e){return"/directory/game/"+encodeURIComponent(e)}function o(e,t){var n="?term="+encodeURIComponent(e).split("").map((function(e){return r[e]||e})).join("");return t&&(n=n+"&type="+t),{pathname:"/search",search:n}}function s(e){return"/signup?"+i.stringify({next:""+e})}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}))},m0uL:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"DropsHighlightService_VerifyEligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dropInstanceID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dropEligibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"dropInstanceID"},value:{kind:"Variable",name:{kind:"Name",value:"dropInstanceID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dropInstanceID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"claimSecondsRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"drop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accountLinkURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageAssetURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownerID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownerName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:307}};n.loc.source={body:"query DropsHighlightService_VerifyEligibility($dropInstanceID: ID!) {\ndropEligibility(dropInstanceID: $dropInstanceID) {\ndropInstanceID\nstatus\nclaimSecondsRemaining\ndrop {\nid\nname\nimageURL\nquestName\ndetailsURL\naccountLinkURL\n}\nrewards {\nid\nname\ndescription\nimageAssetURL\nownerID\nownerName\navailability\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.DropsHighlightService_VerifyEligibility=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"DropsHighlightService_VerifyEligibility")},m618:function(e,t,n){},mEVa:function(e,t,n){},nTAV:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b}));var i=n("mrSG"),r=n("/7QA"),a=n("geRD"),o=n("1/iK"),s=n("y5D0"),l=n("DMoW"),c=n("kRBY"),u=n("uGUt"),d=n("BmOg"),p=function(e,t,n,r,o){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var s,c,d,p,m;return Object(i.__generator)(this,(function(h){switch(h.label){case 0:r(Object(u.e)(Object(i.__assign)(Object(i.__assign)({},t),{loading:!0}),t.dropInstanceID)),s=Object(a.a)({dropInstanceID:t.dropInstanceID}),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n(s)];case 2:return c=h.sent(),f(e,t.dropInstanceID),d=Object(i.__assign)(Object(i.__assign)({},t),{loading:!1,status:(null===(p=c.data.claimDropRewards)||void 0===p?void 0:p.status)||l.yb.UNKNOWN,isUserAccountConnected:(null===(m=c.data.claimDropRewards)||void 0===m?void 0:m.isUserAccountConnected)||!1}),r(Object(u.e)(d,t.dropInstanceID)),o&&o(d.status),[2,c];case 3:return h.sent(),r(Object(u.e)(Object(i.__assign)(Object(i.__assign)({},t),{loading:!1,error:!0}),t.dropInstanceID)),[2,{data:null}];case 4:return[2]}}))}))},m=function(e,t,n,i,r){var a,o=i.dropEligibility,s=(null==o?void 0:o.dropInstanceID)||"";return{type:d.a.DropClaim,iconURL:(null==o?void 0:o.drop.imageURL)||(null===(a=null==o?void 0:o.rewards[0])||void 0===a?void 0:a.imageAssetURL)||"",questName:(null==o?void 0:o.drop.questName)||"",dropName:(null==o?void 0:o.drop.name)||"",detailsURL:(null==o?void 0:o.drop.detailsURL)||"",durationS:(null==o?void 0:o.claimSecondsRemaining)||300,status:(null==o?void 0:o.status)||l.yb.UNKNOWN,accountLinkURL:(null==o?void 0:o.drop.accountLinkURL)||"",loading:!1,isUserAccountConnected:!1,error:r,dropInstanceID:s,channelName:n,channelID:t,userID:e,dropID:(null==o?void 0:o.drop.id)||""}},f=function(e,t){var n=r.m.get("drop_ids",{});if(e in n){var a=Object(i.__spreadArrays)(n[e]||[]).filter((function(e){return e!==t}));n[e]=a,r.m.set("drop_ids",n)}},h=function(e,t){var n=r.m.get("drop_ids",{}),a=new Set(Object(i.__spreadArrays)(n[e]||[]));a.add(t),n[e]=Array.from(a),r.m.set("drop_ids",n)},g=function(e){var t={targetChannel:void 0,showContext:!0,onComplete:e};return Object(s.e)(o.a.Drops20LoginButton,t)},b=function(){var e=Object(c.e)(r.p.store.getState()),t=(null==e?void 0:e.login)||"",n=r.b.get("drops_2_ui_enabled",!1),i=r.b.get("drops_2_user_whitelist",[]).some((function(e){return e===t}));return n||i}},oMhb:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RaidNotification_Channels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sourceChannelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetChannelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"sourceChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"sourceChannelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"targetChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetChannelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]}]}}]}}],loc:{start:0,end:268}};n.loc.source={body:"query RaidNotification_Channels($sourceChannelID: ID! $targetChannelID: ID!) {\nsourceChannel: user(id: $sourceChannelID) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 70)\n}\ntargetChannel: user(id: $targetChannelID) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 70)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.RaidNotification_Channels=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"RaidNotification_Channels")},p0fo:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainConductorReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainConductorReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainReward"},directives:[]}]}}]}}],loc:{start:0,end:177}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-reward.gql"\nfragment hypeTrainConductorReward on HypeTrainConductorReward {\nsource\ntype\nrewards {\n...hypeTrainReward\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("iotB").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},p9bs:function(e,t,n){"use strict";var i,r=n("q1tI"),a=n("/7QA"),o=n("i5+p"),s=n("yymn"),l=n("sUnt"),c=n("+80q");!function(e){e.Header="header"}(i||(i={}));var u=function(e){var t=s.f.Alt2;e.overlay&&(t=s.f.OverlayAlt);var n=s.f.Base;return e.overlay&&(n=s.f.Overlay),r.createElement(l.a,null,r.createElement(c.a,{"data-test-selector":i.Header,fontSize:s.j.Size6,color:t},Object(o.e)(e.status)?Object(a.d)("Poll Ended","Polls--PollHeader"):Object(a.d)("Current Poll","Polls--PollHeader")),r.createElement(c.a,{lineHeight:c.b.Heading,bold:!0,color:n,fontSize:s.j.Size4,wordBreak:c.g.BreakWord,ellipsis:e.truncated},e.title))};n.d(t,"a",(function(){return u}))},peTa:function(e,t,n){},q0CL:function(e,t,n){"use strict";n.r(t),n.d(t,"TEST_SELECTOR",(function(){return h})),n.d(t,"ReportUserModalComponent",(function(){return g})),n.d(t,"ReportUserModal",(function(){return b}));var i=n("q1tI"),r=n("/MKj"),a=n("cZKs"),o=n("ZDlU"),s=n("1/iK"),l=n("XDCx"),c=n("y5D0"),u=n("kRBY"),d=n("GnwI"),p=n("dAHa"),m=n("Ws8v"),f=n("yymn"),h=(n("Oy4H"),{ERROR:"report-modal-error",REPORT_MODAL:"report-modal-content"}),g=function(e){var t=Object(r.e)(u.f),n=Object(r.d)();if(!t)return n(Object(c.e)(s.a.ReportModal)),i.createElement(o.PageError,{"data-test-selector":h.ERROR});return i.createElement(m.a,{className:"reporting-modal__container",background:f.d.Base,padding:{x:2,y:3}},i.createElement(p.b,{"data-test-selector":h.REPORT_MODAL,onClose:function(t,i){var r;n(l.d),null===(r=e.onClose)||void 0===r||r.call(e,t,i)},reportContext:e.reportContext,title:e.title,defaultDescription:e.defaultDescription}),i.createElement(a.a,null))},b=Object(d.withLatencyTracking)("ReportUserModal")(g)},"qG/w":function(e,t,n){},qyVS:function(e,t,n){},rO5f:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("nIRf"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={remainingSeconds:t.props.from},t.handleIntervalUpdate=function(){if(t.state.remainingSeconds<=0)return t.props.onCountdownEnd&&t.props.onCountdownEnd(),t.countdownTimer.stop();t.setState((function(e){return{remainingSeconds:e.remainingSeconds-1}}),(function(){t.props.onSecondsUpdate(t.state.remainingSeconds)}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.countdownTimer=new a.a({onInterval:this.handleIntervalUpdate,intervalMillis:1e3}),this.countdownTimer.start()},t.prototype.componentWillUnmount=function(){this.countdownTimer.stop()},t.prototype.render=function(){return null},t}(r.Component);n.d(t,"a",(function(){return o}))},rljb:function(e,t,n){},"rsq/":function(e,t,n){},s7pO:function(e,t,n){},s8Ou:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReportUserModal_ReportUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReportContentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reportContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentID"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:111}};n.loc.source={body:"mutation ReportUserModal_ReportUser($input: ReportContentInput!) {\nreportContent(input: $input) {\ncontentID\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ReportUserModal_ReportUser=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ReportUserModal_ReportUser")},sLmD:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var i=n("/7QA"),r="en-us",a={bg:"bg-bg",cs:"cs-cz",da:"da-dk",de:"de-de",el:"el-gr",en:r,"en-gb":r,es:"es-es","es-mx":"es-mx",fi:"fi-fi",fr:"fr-fr",hu:"hu-hu",it:"it-it",ja:"ja-jp",ko:"ko-kr",nl:"nl-nl",no:"no-no",pl:"pl-pl","pt-br":"pt-br",pt:"pt-pt",ro:"ro-ro",ru:"ru-ru",sk:"sk-sk",sv:"sv-se",th:"th-th",tr:"tr-tr",vi:"vi-vn","zh-cn":"zh-cn","zh-tw":"zh-tw"},o=function(e,t){var n,i=l();return n=t?{id:s(e)?e.tag_id:e.objectID,tagName:e.tag_name,isAutomated:e.automated||!1,localizedDescription:s(e)?"":e.description_localizations&&e.description_localizations[i]||"",localizedName:""}:{id:s(e)?e.tag_id:e.objectID,isLanguageTag:e.tag_name.includes("auto___lang"),localizedName:"",tagName:e.tag_name},e.localizations&&e.localizations[i]?n.localizedName=e.localizations[i]:e.localizations&&e.localizations[r]?n.localizedName=e.localizations[r]:n.localizedName=n.tagName,n};function s(e){return void 0!==e.tag_id}function l(){return a[i.p.intl.getLanguageCode()||""]||r}},si9w:function(e,t,n){},tcIj:function(e,t,n){},u5X6:function(e,t,n){},uBOI:function(e,t,n){"use strict";var i=n("o0o1"),r=n.n(i),a=n("yXPU"),o=n.n(a),s=n("lSNA"),l=n.n(s),c=n("pVnL"),u=n.n(c),d=n("VbXa"),p=n.n(d),m=n("q1tI"),f=n("A5Hy"),h=n("fNzW"),g=n("vCsY"),b=n("Jsra"),v=n("IbuL"),y=n("yymn"),S=n("X2PJ"),k=n("Ws8v"),E=n("sUnt"),C=n("C7sF"),_=n("tlKs"),O=n("+80q"),T=n("2Ob2"),w=(n("72SC"),function(e){function t(){var t;return(t=e.apply(this,arguments)||this).handleTabOnClick=function(e){t.props.onClick&&t.props.onClick(e,t.props.originalIndex)},t}return p()(t,e),t.prototype.render=function(){var e="string"==typeof this.props.label?this.props.label:this.props.label[0],t="string"!=typeof this.props.label&&this.props.label[1]||void 0;return m.createElement(S.a,u()({},Object(g.a)(this.props),{display:y.g.Block,padding:void 0===this.props.padding?{x:1}:this.props.padding,fullHeight:!0,fullWidth:!0,color:this.props.overlay?y.f.Overlay:y.f.Inherit}),m.createElement(_.a,{className:"tw-tab-item",onClick:this.handleTabOnClick,linkTo:this.props.linkTo,ariaLabel:this.props.ariaLabel,disabled:this.props.disabled,renderLink:this.props.renderLink,tabIndex:this.props.tabIndex,targetBlank:this.props.targetBlank,blurAfterClick:this.props.blurAfterClick,title:this.props.title,role:f.c.Tab},m.createElement(E.a,{fullHeight:!0,textAlign:this.props.textAlign,display:y.g.Flex,flexDirection:y.h.Column},m.createElement(E.a,{flexGrow:0},m.createElement(k.a,{fontSize:this.props.size===M.Large?y.j.Size4:y.j.Size5,fontWeight:this.props.size===M.Large||t?y.k.SemiBold:y.k.Regular},e),t&&m.createElement(O.a,{fontSize:y.j.Size5},t)),m.createElement(E.a,{flexGrow:1}),m.createElement(E.a,{flexGrow:0},this.props.activeIndicator))))},t}(m.Component));w.displayName="TabItemComponent";var x=Object(T.c)(w),D=n("ygYM"),j=n("i4Ys"),I=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).handleClick=function(e){t.props.onClick&&t.props.onClick(e,t.props.originalIndex)},t}return p()(t,e),t.prototype.render=function(){var e="string"==typeof this.props.label?this.props.label:this.props.label[0],t="string"!=typeof this.props.label&&this.props.label[1]||void 0;return m.createElement(j.a,{type:j.b.Inverted,linkTo:this.props.linkTo,onClick:this.handleClick,ariaLabel:this.props.ariaLabel,disabled:this.props.disabled,renderLink:this.props.renderLink,tabIndex:this.props.tabIndex,targetBlank:this.props.targetBlank,borderRadius:y.e.Medium},m.createElement(E.a,{padding:{x:1,y:.5}},m.createElement(O.a,{bold:!!t},e),t&&m.createElement(O.a,null,t)))},t}(m.Component);I.displayName="TabMenuItem";var N=function(e){function t(){return e.apply(this,arguments)||this}return p()(t,e),t.prototype.render=function(){return m.createElement(D.a,{direction:D.b.BottomRight,show:!0},m.createElement(E.a,{padding:1},this.props.tabs.map((function(e,t){return m.createElement(I,u()({},e,{key:t}))}))))},t}(m.Component);N.displayName="TabMenu";n("CkPG");function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return B}));var P,M,A=32;!function(e){e.ActiveTabIndicator="ACTIVE_TAB_INDICATOR"}(P||(P={})),function(e){e[e.Default=1]="Default",e[e.Large=2]="Large"}(M||(M={}));var B=function(e){function t(t){var n;return(n=e.call(this,t)||this).containerRef=null,n.indicatorRef=null,n.tabRefs=[],n.renderTab=function(e,t){var i,r=void 0!==n.props.justifyContent||n.state.showAllTabsForMeasuring?0:1;return i=n.props.justifyContent===y.l.Start&&0===t?{left:0,right:1}:n.props.justifyContent===y.l.End&&t===n.props.tabs.length-1?{left:1,right:0}:{x:1},m.createElement(S.a,{key:e.originalIndex,flexGrow:r,color:n.props.activeTabIndex===e.originalIndex?y.f.Link:y.f.Base,alignItems:y.b.Center,justifyContent:y.l.Center,fullHeight:!0},m.createElement("li",{className:"tw-tabs__tab",role:f.c.Presentation,ref:n.setTabRef,"data-index":e.originalIndex},m.createElement(x,u()({},e,{padding:i,size:n.props.size,textAlign:[y.l.Center,void 0].includes(n.props.justifyContent)?y.p.Center:y.p.Left,activeIndicator:n.props.activeTabIndex===e.originalIndex&&m.createElement("div",{ref:n.setIndicatorRef,className:"tw-tabs__active-indicator",style:{transform:n.state.activeIndicatorTransform},"data-test-selector":P.ActiveTabIndicator})||void 0}))))},n.setTabProps=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{originalIndex:t})},n.toggleMoreItemsMenu=function(){n.setState((function(e){return{showMoreItemsMenu:!e.showMoreItemsMenu}}))},n.setContainerRef=function(e){n.containerRef=e},n.setIndicatorRef=function(e){n.indicatorRef=e},n.setTabRef=function(e){if(n.tabRefs.length>n.props.tabs.length&&n.tabRefs.splice(n.props.tabs.length),e){var t=e.getAttribute("data-index");if(null!==t){var i=parseInt(t,void 0);n.tabRefs[i]=e}}},n.updateVisibleTabs=function(){var e=o()(r.a.mark((function e(t){var i,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),n.tabRefs&&n.containerRef){e.next=3;break}return e.abrupt("return","");case 3:if(!0!==t&&n.state.tabWidths.length===n.tabRefs.length){e.next=6;break}return e.next=6,n.measureTabWidths();case 6:return i=n.props.activeTabIndex||0,a=[],o=n.containerRef.clientWidth,n.hasHiddenItems()||(o-=A),n.props.tabs[i]&&(a.push(i),o-=n.state.tabWidths[i]),n.state.tabWidths.some((function(e,t){return t!==i&&(o-e<=0||(o-=e,t<i?a.splice(t,0,t):a.push(t),!1))})),JSON.stringify(a)!==JSON.stringify(n.state.visibleTabIndexList)&&n.setState({visibleTabIndexList:a}),e.abrupt("return");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.measureTabWidths=o()(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=o()(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.showAllTabsForMeasuring){e.next=3;break}return e.next=3,n.setState({showAllTabsForMeasuring:!0});case 3:n.ensureLayoutReflow(),n.setState({tabWidths:n.tabRefs.map((function(e){return e.clientWidth})),showAllTabsForMeasuring:!1},t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),n.ensureLayoutReflow=function(){n.containerRef&&n.containerRef.scrollTop},n.setupResizeHandler=function(){window.addEventListener("resize",n.onResize),setTimeout((function(){n.updateVisibleTabs(!0)}),500)},n.removeResizeHandler=function(){window.removeEventListener("resize",n.onResize)},n.onResize=function(e){n.updateVisibleTabs()},n.hasItemWithTwoLineText=function(){return-1<n.props.tabs.findIndex((function(e){return"string"!=typeof e.label&&e.label.length>1}))},n.state={visibleTabIndexList:t.tabs.map((function(e,t){return t})),activeIndicatorTransform:"",tabWidths:[]},n}p()(t,e);var n=t.prototype;return n.getSnapshotBeforeUpdate=function(e,t){return this.props.activeTabIndex!==e.activeTabIndex?this.getIndicatorTransform(this.props.activeTabIndex):null},n.componentDidUpdate=function(e,t,n){var i=this;JSON.stringify(e.tabs)!==JSON.stringify(this.props.tabs)&&this.updateVisibleTabs(!0),n&&this.setState({activeIndicatorTransform:n,showMoreItemsMenu:!1},(function(){i.updateVisibleTabs(),i.ensureLayoutReflow(),i.setState({activeIndicatorTransform:""})}))},n.componentDidMount=function(){this.props.setupResizeHandler?this.props.setupResizeHandler(this.updateVisibleTabs):this.setupResizeHandler()},n.componentWillUnmount=function(){this.props.removeResizeHandler?this.props.removeResizeHandler(this.updateVisibleTabs):this.removeResizeHandler()},n.render=function(){var e={"tw-tabs":!0,"tw-tabs--large":this.props.size===M.Large,"tw-tabs--two-line-text":this.hasItemWithTwoLineText()},t=this.state.showAllTabsForMeasuring?this.props.tabs.map(this.setTabProps):this.getVisibleTabs();return m.createElement(k.a,{className:Object(h.a)(e),position:y.n.Relative,display:y.g.Flex,fullWidth:!0,borderBottom:void 0===this.props.borderBottom||this.props.borderBottom},m.createElement(S.a,{flexGrow:1,display:y.g.Flex,fullHeight:!0,alignItems:y.b.Center,justifyContent:this.props.justifyContent?this.props.justifyContent:y.l.Start,fontSize:y.j.Size4,flexWrap:y.i.Wrap},m.createElement("ul",u()({ref:this.setContainerRef,role:f.c.TabList},Object(g.a)(this.props)),t.map(this.renderTab))),this.hasHiddenItems()&&m.createElement(b.a,{type:b.b.Inherit,blurAfterClick:!0,onClick:this.toggleMoreItemsMenu},m.createElement(E.a,{margin:{left:1}},m.createElement(v.a,{asset:C.a.NavMore}))),this.state.showMoreItemsMenu&&m.createElement(N,{tabs:this.getHiddenTabs()}))},n.getVisibleTabs=function(){var e=this.props.tabs.map(this.setTabProps);return this.state.visibleTabIndexList.map((function(t){return e[t]})).filter((function(e){return void 0!==e}))},n.getHiddenTabs=function(){var e=this;return this.props.tabs.map(this.setTabProps).filter((function(t,n){return-1===e.state.visibleTabIndexList.indexOf(n)}))},n.hasHiddenItems=function(){return this.state.visibleTabIndexList.length!==this.props.tabs.length},n.getIndicatorTransform=function(e){var t=this.tabRefs[e];if(!t||!this.indicatorRef||!this.containerRef)return"";var n=this.indicatorRef.getBoundingClientRect(),i=n.left-this.containerRef.getBoundingClientRect().left,r="scaleX("+n.width/t.clientWidth+")";return["translateX("+(i-t.offsetLeft)+"px)",r].join(" ")},t}(m.Component);B.displayName="Tabs"},uOOi:function(e,t,n){},uOxs:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return p}));var i,r,a=n("pVnL"),o=n.n(a),s=n("q1tI"),l=n("fNzW"),c=n("vCsY"),u=n("sUnt"),d=n("yymn");n("u5X6");!function(e){e.Default="",e.ExtraSmall="tw-tower--gutter-xs",e.Small="tw-tower--gutter-sm",e.Large="tw-tower--gutter-lg",e.None="tw-tower--gutter-none"}(i||(i={})),function(e){e.ExtraSmall="tw-tower--120",e.Small="tw-tower--180",e.Medium="tw-tower--240",e.Large="tw-tower--300",e.ExtraLarge="tw-tower--360"}(r||(r={}));var p=function(e){var t={"tw-tower":!0,"tw-tower--nogrow":e.noGrow};e.gutterSize&&(t[e.gutterSize]=!0),e.childWidth&&(t[e.childWidth]=!0);var n=new Array;if(e.placeholderItems)for(var i=0;i<e.placeholderItems;++i)n.push(s.createElement("div",{className:"tw-tower__placeholder",key:i}));return s.createElement(u.a,o()({justifyContent:e.center?d.l.Center:void 0,flexWrap:e.noWrap?d.i.NoWrap:d.i.Wrap,className:Object(l.a)(t)},Object(c.a)(e)),e.children,n)};p.displayName="Tower",p.displayName="Tower"},uXHW:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("vCsY"),s=n("yymn"),l=n("sUnt"),c=n("Ws8v"),u=function(e){var t,n,i;return e.row&&(t=s.b.Center),e.elevation&&(n=e.elevation),e.background===s.d.Overlay&&(i=s.f.Overlay),a.createElement(l.a,r()({className:"tw-card",position:s.n.Relative},Object(o.a)(e)),a.createElement(c.a,{display:s.g.Flex,flexDirection:e.row?s.h.Row:s.h.Column,alignItems:t,elevation:n,background:e.background,borderRadius:e.borderRadius,color:i,border:e.border,flexWrap:s.i.NoWrap},e.children))};u.displayName="Card",u.displayName="Card"},uhve:function(e,t,n){},ulmk:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"JoinRaid"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"JoinRaidInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"joinRaid"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raidID"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:80}};n.loc.source={body:"mutation JoinRaid($input: JoinRaidInput!) {\njoinRaid(input: $input) {\nraidID\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.JoinRaid=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"JoinRaid")},v30r:function(e,t,n){},vYXc:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainExecution"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainExecution"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainProgress"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"conductors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConductor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"participations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainParticipation"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"config"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConfig"},directives:[]}]}}]}}],loc:{start:0,end:538}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-conductor.gql"\n#import "twilight/features/hype-train/queries/hype-train-config.gql"\n#import "twilight/features/hype-train/queries/hype-train-participation.gql"\n#import "twilight/features/hype-train/queries/hype-train-progress.gql"\nfragment hypeTrainExecution on HypeTrainExecution {\nid\nstartedAt\nexpiresAt\nupdatedAt\nendedAt\nendReason\nprogress {\n...hypeTrainProgress\n}\nconductors {\n...hypeTrainConductor\n}\nparticipations {\n...hypeTrainParticipation\n}\nconfig {\n...hypeTrainConfig\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("XnJk").definitions)),i.definitions=i.definitions.concat(a(n("KAhE").definitions)),i.definitions=i.definitions.concat(a(n("e0KT").definitions)),i.definitions=i.definitions.concat(a(n("LKES").definitions)),e.exports=i},w4HT:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("8/mp"),s=n("YVOQ"),l=n("/7QA"),c=n("fQWD"),u=n("1bK4"),d=n("66/j"),p=n("Ws8v"),m=n("yymn"),f=n("sUnt"),h=n("b7S+"),g=n("+80q");!function(e){e.PreviewMessage="PreviewMessage",e.UserBadge="UserBadge",e.UpsellEmote="UpsellEmote"}(i||(i={}));var b=function(e){var t=e.userName,n=e.badges,r=e.emotes,o=e.tier,s=n.get(o);return a.createElement(p.a,{margin:{y:1},elevation:1,background:m.d.Alt,border:!0,borderRadius:m.e.Small,display:m.g.InlineBlock,flexDirection:m.h.Row,justifyContent:m.l.End,flexWrap:m.i.Wrap},a.createElement(f.a,{display:m.g.Flex,flexGrow:2,padding:.5},s&&a.createElement(f.a,{alignSelf:m.c.Center,"data-test-selector":i.UserBadge,margin:{right:.5}},a.createElement(c.a,{badge:Object(d.b)(s),dynamicData:y(s.version,o)})),a.createElement(f.a,{alignSelf:m.c.Center,"data-test-selector":i.PreviewMessage,margin:{right:.5}},Object(l.d)("<x:strong>{userName}</x:strong>: Hello!",{userName:t,"x:strong":v},"BadgeModifierUpsellPreview")),r&&r.map((function(e){return a.createElement(h.a,{label:e.displayName,direction:h.c.Bottom,key:e.id,display:m.g.Flex},a.createElement(f.a,{margin:{right:1},"data-test-selector":i.UpsellEmote,className:"badge-upsell__emote"},a.createElement("img",{srcSet:e.srcSet,alt:e.displayName})))}))))};function v(e){return a.createElement(g.a,{color:m.f.Link,type:g.e.Span,bold:!0},e)}function y(e,t){var n=Number(e);switch(t){case 2:n-=u.e;break;case 3:n-=u.f}return String(n)}var S,k=n("DMoW"),E=n("4rCz"),C=n("DnOo"),_=n("a5fV"),O=n("0WFu"),T=n("br9A"),w=n("hnjF"),x=n("dEDE"),D=n("C7sF"),j=n("eJ65"),I=n("y0tB"),N=n("Jsra"),R=n("ygYM");n("tcIj");!function(e){e[e.One=1]="One",e[e.Three=3]="Three",e[e.Six=6]="Six"}(S||(S={}));var P,M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={toggleWhyMultiMonthBalloon:!1},t.toggleWhyBalloon=function(){t.setState((function(e){return e.toggleWhyMultiMonthBalloon||t.props.onMoreInfoClick(),{toggleWhyMultiMonthBalloon:!e.toggleWhyMultiMonthBalloon}}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;return a.createElement(f.a,{display:m.g.Flex,flexDirection:m.h.Column,alignItems:m.b.Start},a.createElement(f.a,{display:m.g.Flex,flexDirection:m.h.Row,alignItems:m.b.Center,margin:{y:.5}},a.createElement(f.a,{margin:{right:.5}},a.createElement(I.a,{checked:this.props.chargeInterval===S.One,onChange:function(){return e.props.onChange(S.One)},label:null,"data-a-target":"charge-interval-radio-one-month"})),a.createElement(f.a,{margin:{right:.5}},a.createElement("label",{className:"charge-interval__radio__label"},Object(l.d)("Monthly recurring","ChargeIntervalSelector"))),a.createElement(f.a,null,a.createElement(g.a,null,Object(_.c)(this.props.product,S.One)))),a.createElement(f.a,{display:m.g.Flex,flexDirection:m.h.Row},a.createElement(f.a,{margin:{right:.5}},a.createElement(g.a,null,Object(l.d)("Subscribe for multiple months at a time.","ChargeIntervalSelector"))),a.createElement(f.a,{position:m.n.Relative},a.createElement(j.a,{onToggle:this.toggleWhyBalloon},a.createElement(N.a,null,Object(l.d)("Why?","ChargeIntervalSelector")),a.createElement(R.a,{tail:!0,direction:R.b.BottomCenter,size:R.c.Medium},a.createElement(f.a,{padding:1},a.createElement(w.a,{margin:{bottom:.5}},a.createElement(g.a,{bold:!0},Object(l.d)("Why subscribe for multiple months?","ChargeIntervalSelector"))),a.createElement(g.a,null,Object(l.d)("Your long-term support gives streamers the chance to take their streams to the next level. They'll be able to keep doing what they love with the comfort of knowing you'll be there.","ChargeIntervalSelector"))))))),a.createElement(f.a,{display:m.g.Flex,flexDirection:m.h.Row,alignItems:m.b.Center,margin:{y:.5}},a.createElement(f.a,{margin:{right:.5}},a.createElement(I.a,{checked:this.props.chargeInterval===S.Three,onChange:function(){return e.props.onChange(S.Three)},label:null,"data-a-target":"charge-interval-radio-three-month"})),a.createElement(f.a,{margin:{right:.5}},a.createElement("label",{className:"charge-interval__radio__label"},Object(l.d)("3 months recurring","ChargeIntervalSelector"))),a.createElement(f.a,null,a.createElement(g.a,null,Object(_.c)(this.props.product,S.Three)))),a.createElement(f.a,{display:m.g.Flex,flexDirection:m.h.Row,alignItems:m.b.Center,margin:{y:.5}},a.createElement(f.a,{margin:{right:.5}},a.createElement(I.a,{checked:this.props.chargeInterval===S.Six,onChange:function(){return e.props.onChange(S.Six)},label:null,"data-a-target":"charge-interval-radio-six-month"})),a.createElement(f.a,{margin:{right:.5}},a.createElement("label",{className:"charge-interval__radio__label"},Object(l.d)("6 months recurring","ChargeIntervalSelector"))),a.createElement(f.a,null,a.createElement(g.a,null,Object(_.c)(this.props.product,S.Six)))))},t}(a.Component),A=n("AXRb"),B=function(e){var t;return t=e.hasPrime?Object(l.d)("Use your free sub to support your favorite streamer. <x:link>Learn more</x:link>",{"x:link":function(e){return a.createElement(N.a,{linkTo:"https://help.twitch.tv/customer/en/portal/articles/2572060-twitch-prime-guide",targetBlank:!0},e)}},"SubPlan"):Object(l.d)("Get monthly games and in-game loot, a monthly Twitch channel subscription, and loads more with Twitch Prime.","SubPlan"),a.createElement(a.Fragment,null,a.createElement(f.a,{"data-test-selector":P.PrimeSubPlan,flexGrow:2,padding:1},a.createElement(f.a,{padding:{bottom:e.inMultiMonthSubsExperiment?.5:0}},a.createElement(g.a,{bold:!0,type:e.inMultiMonthSubsExperiment?g.e.H5:void 0},Object(l.d)("Free Subscription with Twitch Prime","SubPlan"))),a.createElement(g.a,null,t)),a.createElement(f.a,{display:m.g.Flex,alignItems:m.b.Center,justifyContent:m.l.End,fullHeight:!0,margin:1},a.createElement(A.a,{handleSubMenuAction:e.handleSubMenuAction,channelLogin:e.channelLogin})))};function F(e,t){if(!t)return!1;var n=Number(t.tier);isNaN(n)&&(n=1e3);var i=Number(e.tier);return isNaN(i)&&(i=1e3),i===n}!function(e){e.RenewsMessage="subplanrenews",e.PrimeSubPlan="primesubplan",e.TieredSubPlan="tieredsubplan"}(P||(P={}));var U,L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={chargeInterval:S.One},t.onMoreInfoClick=function(){var e;t.props.handleSubMenuAction({action:T.a.ClickMultiMonthInfo,buttonCTA:"Why?",checkoutButtonTier:null===(e=Object(O.b)(t.props.product.tier))||void 0===e?void 0:e.toString()})},t.onChargeIntervalSelected=function(e){var n;t.props.handleSubMenuAction({action:T.a.ClickMultiMonthOption,buttonCTA:e+" months recurring",chargeInterval:e,checkoutButtonTier:null===(n=Object(O.b)(t.props.product.tier))||void 0===n?void 0:n.toString()}),t.setState({chargeInterval:e})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=Object(O.b)(this.props.product.tier),t=Object(_.e)(this.props.product),n=this.props.isQuickSub?{borderBottom:!0,borderRadius:m.e.None}:{border:!0,borderRadius:m.e.Medium},i=m.b.Start;this.props.inMultiMonthSubsExperiment&&(t=Object(_.c)(this.props.product,this.state.chargeInterval),this.props.multiMonthActionButtonsAlignItems&&(i=this.props.multiMonthActionButtonsAlignItems),void 0!==this.props.multiMonthUseBorder&&(n={border:this.props.multiMonthUseBorder,borderRadius:m.e.None}));var o=this.props.primeSubPlan?a.createElement(B,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,hasPrime:this.props.primeSubPlan.hasPrime,inMultiMonthSubsExperiment:this.props.inMultiMonthSubsExperiment}):a.createElement(a.Fragment,null,a.createElement(f.a,{flexGrow:1,"data-test-selector":P.TieredSubPlan,padding:1},this.props.inMultiMonthSubsExperiment?a.createElement(a.Fragment,null,this.props.multiMonthHeader&&a.createElement(w.a,{padding:{bottom:.5}},a.createElement(g.a,{type:g.e.H5,bold:!0},this.props.multiMonthHeader)),this.props.isMultiMonthGiftPlan?a.createElement(g.a,null,Object(E.d)("Gift a Sub to the community or a specific viewer","SubModalPlan")):a.createElement(M,{onMoreInfoClick:this.onMoreInfoClick,chargeInterval:this.state.chargeInterval,onChange:this.onChargeIntervalSelected,product:this.props.product})):a.createElement(f.a,null,a.createElement(g.a,{bold:!0},e?Object(E.d)("Tier {tierNumber} Subscription",{tierNumber:e},"SubModalPlan"):Object(E.d)("Subscription","SubModalPlan")),a.createElement(g.a,{"data-test-selector":P.RenewsMessage},function(e){var t=Object(_.b)(e.priceInfo),n=Object(_.e)(e);switch(e.interval.unit){case k.ld.MONTH:return t===n?Object(E.d)("Renews monthly at {price}",{price:t},"SubModalPlan"):Object(E.d)("First month for {discountedPrice}, renews monthly thereafter at {price}",{price:t,discountedPrice:n},"SubModalPlan");case k.ld.WEEK:return Object(E.d)("Renews weekly at {price}",{price:t},"SubModalPlan");case k.ld.YEAR:return Object(E.d)("Renews yearly at {price}",{price:t},"SubModalPlan");case k.ld.ONE_TIME:return Object(E.d)("One-time purchase","SubModalPlan");default:return null}}(this.props.product)))),a.createElement(f.a,{display:m.g.Flex,justifyContent:m.l.End,alignItems:i,margin:1},this.props.onGift&&a.createElement(f.a,{margin:{right:1}},a.createElement(x.a,{disabled:this.state.chargeInterval!==S.One,type:x.d.Secondary,icon:D.a.Gift,onClick:this.props.onGift},this.props.isMultiMonthGiftPlan?Object(E.d)("Gift a Sub","SubModalPlan"):Object(E.d)("Gift","SubModalPlan"))),!this.props.isMultiMonthGiftPlan&&a.createElement(C.a,{handleSubAction:this.props.handleSubMenuAction,icon:D.a.Star,isSubbedToTier:F(this.props.product,this.props.subscriptionBenefit),overrideSubEventAction:this.props.isQuickSub?T.a.BuyQuickSub:void 0,productName:this.props.product.name,tierPrice:t,url:this.props.product.url,chargeInterval:this.state.chargeInterval})));return a.createElement(p.a,Object(r.__assign)({},n,{display:m.g.Flex,flexDirection:m.h.Row,justifyContent:m.l.End,padding:1,flexWrap:m.i.Wrap}),o)},t}(a.Component),G=n("9ABA"),H=n("Z2sP"),z=function(e){var t=e.badge,n=parseInt(t.version,10);return a.createElement(f.a,{alignItems:m.b.Center,className:e.className,display:m.g.Flex,flexDirection:m.h.Column,flexShrink:0,margin:{top:1}},a.createElement(c.a,{badge:Object(d.b)(t),hideTooltip:!0,large:!0}),a.createElement(f.a,{margin:{top:.5}},a.createElement(g.a,{className:e.className+"--text",fontSize:m.j.Size7},n>=12?Object(l.d)("{years}-Year",{years:n/12},"SubBadge"):Object(l.d)("{months}-Month",{months:0===n?1:n},"SubBadge"))))};n("hWJn");!function(e){e.Anniversarymessage="subanniversarymessage",e.RenewsMessage="subrenewsmessage",e.TenureMessage="subtenuremessage"}(U||(U={}));var V=96,W=5,q=1e3,Q=1999,K=2e3,Y=2999,J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=function(e,t,n){if(!Object(u.c)(n)||!t||"1000"===(null==t?void 0:t.tier))return e.filter((function(e){return parseInt(e.version,10)<=V}));switch(t.tier){case"2000":return e.filter((function(e){return parseInt(e.version,10)>=q&&parseInt(e.version,10)<=Q})).map((function(e){return Object.assign({},e,{version:(parseInt(e.version,10)-q).toString()})}));case"3000":return e.filter((function(e){return parseInt(e.version,10)>=K&&parseInt(e.version,10)<=Y})).map((function(e){return Object.assign({},e,{version:(parseInt(e.version,10)-K).toString()})}))}return e}(this.props.subBadges,this.props.subscriptionBenefit,this.props.channelID);e=X(e,this.props.tenure);var t=this.getMonthsRemaining(e.slice(0,2)),n=null;if(this.props.subscriptionBenefit){var i=null;if(this.props.tenure){var r=this.props,o=r.tenure,s=r.streakTenure,l=r.formattedDisplayName,c=r.subscriptionBenefit;i=s?Object(E.d)("You've been subscribed to {channelName} for <x:bold>{monthCount} months</x:bold> with a current streak of <x:bold>{streakCount}</x:bold> months.",{channelName:l,monthCount:o.months,streakCount:s.months,"x:bold":function(e){return a.createElement(g.a,{bold:!0,type:g.e.Span},e)}},"SubTenureBadgeProgress"):Object(E.d)("You've been subscribed to {channelName} for <x:bold>{monthCount} months</x:bold>.",{channelName:l,monthCount:o.months,"x:bold":function(e){return a.createElement(g.a,{bold:!0,type:g.e.Span},e)}},"SubTenureBadgeProgress");var d=new Date;d.setDate(d.getDate()+o.daysRemaining);var p=Object(E.d)("Next Sub Anniversary on <x:bold>{formattedDate}</x:bold> ({relativeDate})",{formattedDate:Object(E.c)(d,{month:"short",day:"numeric"}),relativeDate:Object(E.i)(d,{units:"day"}),"x:bold":function(e){return a.createElement(g.a,{bold:!0,type:g.e.Span},e)}},"SubTenureBadgeProgress"),h=null;if(c.renewsAt){var b=new Date(c.renewsAt);h=Object(E.d)("Sub renews on <x:bold>{formattedDate}</x:bold> ({relativeDate})",{formattedDate:Object(E.c)(b,{month:"short",day:"numeric"}),relativeDate:Object(E.i)(b,{units:"day"}),"x:bold":function(e){return a.createElement(g.a,{bold:!0,type:g.e.Span},e)}},"SubTenureBadgeProgress")}n=a.createElement(f.a,{display:m.g.Flex,flexDirection:m.h.Column,justifyContent:m.l.Center,textAlign:m.p.Center,padding:{x:2,top:2}},a.createElement(g.a,{"data-test-selector":U.TenureMessage},i),a.createElement(f.a,{display:m.g.Flex,flexDirection:m.h.Row,justifyContent:m.l.Center},a.createElement(g.a,{"data-test-selector":U.Anniversarymessage},p),h&&a.createElement(a.Fragment,null,a.createElement(f.a,{margin:{x:1}},Object(E.d)("|","SubTenureBadgeProgress")),a.createElement(g.a,{"data-test-selector":U.RenewsMessage},h))))}}else{var v=null;v=Object(E.d)("Instantly unlock your first Sub Badge and show your support.","SubTenureBadgeProgress"),this.props.tenure&&this.props.tenure.months>0&&(v=0===t?Object(E.d)("Resubscribe to retrieve your highest unlocked Sub Badge. Total Months Subscribed: {totalMonths}",{totalMonths:this.props.tenure.months},"SubTenureBadgeProgress"):Object(E.d)("{monthsRemaining, plural, one {Resubscribe to achieve your next Sub Badge in {monthsRemaining} month. Total Months Subscribed: {totalMonths}} other {Resubscribe to achieve your next Sub Badge in {monthsRemaining} months. Total Months Subscribed: {totalMonths}}}",{monthsRemaining:t,totalMonths:this.props.tenure.months},"SubTenureBadgeProgress")),n=a.createElement(g.a,null,v)}return a.createElement(f.a,null,a.createElement(w.a,{margin:{bottom:1}},n),this.getNextBadgeProgress(e,W))},t.prototype.getNextBadgeProgress=function(e,t){var n=e.slice(0,t),i=n.slice(0,2),r=n.slice(2),o=null;2===i.length&&this.props.tenure&&(o=Object(G.c)(this.props.tenure,i[0].version,i[1].version));var s=a.createElement(f.a,{className:"tenure-badge-progress__to-next-"+n.length},a.createElement(f.a,{display:m.g.Flex,fullWidth:!0,justifyContent:1!==n.length?m.l.Between:m.l.Center},i.map((function(e){return a.createElement(w.a,{zIndex:m.s.Above,key:e.version},a.createElement(z,{badge:e}))}))),i.length>1&&a.createElement(f.a,{className:"tenure-badge-progress__bar",position:m.n.Relative,margin:{left:2,right:3}},a.createElement(H.a,{size:H.c.Small,mask:!0,value:o||0}))),l=r.length>0&&a.createElement(f.a,{flexGrow:2,className:"tenure-badge-progress__future"},a.createElement(f.a,{display:m.g.Flex,fullWidth:!0,justifyContent:m.l.Between},a.createElement("div",{className:"tenure-badge-progress__placeholder-"+n.length}),r.map((function(e,t){return a.createElement(w.a,{zIndex:m.s.Above,key:e.version},a.createElement(z,{badge:e,className:t>1?"tenure-badge-progress__more-badges":void 0}))}))),a.createElement(f.a,{className:"tenure-badge-progress__bar",position:m.n.Relative},a.createElement(H.a,{size:H.c.Small,mask:!0,value:0})));return a.createElement(f.a,{display:m.g.Flex,padding:{x:2},justifyContent:m.l.Center},s,l)},t.prototype.getMonthsRemaining=function(e){if(this.props.tenure){var t=this.props.tenure.months,n=e[1];if(n)return Math.max(Number(n.version)-t,0)}return 0},t}(a.Component);function X(e,t){var n=e;if(t){n=[];for(var i=null,r=0,a=e;r<a.length;r++){var o=a[r];Number(o.version)<=t.months?i=o:n.push(o)}null!==i&&n.unshift(i)}return n.length>W&&(n=n.slice(0,W)),n}var $=n("cw0r"),Z=n("OpME"),ee=n("u5aL"),te=n("b5vT"),ne=n("eUBP"),ie=n("VYPy"),re=(n("Ji9N"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={modification:void 0},t.handleClick=function(e){t.setState((function(t){return e===t.modification?{modification:void 0}:{modification:e}}))},t.handleClickOut=function(){t.setState({modification:void 0})},t.handleEmoteClick=function(){return!0},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;return this.props.modifications.length?a.createElement(ee.a,{onClickOut:this.handleClickOut},a.createElement(f.a,{className:"emote-modifier-preview-list",display:m.g.Flex,position:m.n.Relative,margin:{bottom:1}},this.props.modifications.map((function(t){return a.createElement(f.a,{key:"emote-modifier-preview-button-"+t.code,margin:{right:.5}},a.createElement(ne.a,{modification:t,onClick:e.handleClick,selected:e.state.modification===t}))})),a.createElement(R.a,{show:void 0!==this.state.modification,direction:this.props.balloonDirection||R.b.Bottom},a.createElement(f.a,{className:"emote-modifier-preview-list__emotes",display:m.g.Flex,position:m.n.Relative,flexWrap:m.i.Wrap,overflow:m.m.Scroll},this.state.modification&&this.props.emotes.map((function(t){var n,i=Object(ie.e)(t,(null===(n=e.state.modification)||void 0===n?void 0:n.code)||"");return a.createElement(te.b,{key:"emote-modifier-preview-emote-"+t.id,emote:i,onClick:e.handleEmoteClick})})))))):null},t}(a.Component)),ae=n("KnXG"),oe=n("D7An"),se=n("Uh2Q"),le=n("ybLH"),ce=n("evnP"),ue=n("QVaV"),de=(n("XX8v"),20),pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visibleCount:de},t.onShowAllClick=function(){if(t.props.product.emotes){var e=t.props.product.emotes.length;t.setState((function(t){return{visibleCount:t.visibleCount===de?e:de}}),(function(){t.props.handleSubMenuAction({action:T.a.ClickShowMoreEmotes})}))}},t}return Object(r.__extends)(t,e),t.prototype.render=function(){if(!this.props.product.emotes||0===this.props.product.emotes.length)return null;var e=Object(Z.c)(this.props.product.emotes);return a.createElement(f.a,{className:"emote-benefits",margin:{y:1}},a.createElement(g.a,null,Object(E.d)("{emoteCount, plural, one {{emoteCount} Custom Emote} other {{emoteCount} Custom Emotes}}",{emoteCount:this.props.product.emotes.length},"SubEmoteBenfits")),a.createElement(f.a,{display:m.g.Flex,flexWrap:m.i.Wrap,margin:{y:1,x:2}},e.slice(0,this.state.visibleCount).map((function(e){return a.createElement(h.a,{label:e.displayName,direction:h.c.Bottom,key:e.id,display:m.g.Flex},a.createElement(f.a,{margin:{right:1,bottom:1},className:"emote-benefits__emote"},a.createElement("img",{srcSet:e.srcSet,alt:e.displayName})))})),e.length>de&&a.createElement(x.a,{type:x.d.Text,onClick:this.onShowAllClick},this.state.visibleCount===de?Object(E.d)("Show all","SubEmoteBenefits"):Object(E.d)("Show less","SubEmoteBenfits"))))},t}(a.PureComponent);var me,fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(J,{formattedDisplayName:Object(ue.a)(this.props.channel.login,this.props.channel.displayName),subBadges:this.props.subBadges,subscriptionBenefit:this.props.subscriptionBenefit,tenure:this.props.tenure,streakTenure:this.props.streakTenure,channelID:this.props.channel.id})},t}(a.Component),he=Object(s.b)((function(e){return{channel:e.channel,subBadges:e.subBadges,subscriptionBenefit:e.subscriptionBenefit,tenure:e.tenure,streakTenure:e.streakTenure}}))(fe);!function(e){e.AdFreeMessage="SubBenefitAdFree",e.SubscriberStreamMessage="SubBenefitSubscriberStream"}(me||(me={}));var ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.selectedTier?this.props.subscriptionProducts.find((function(t){return t.tier===e.props.selectedTier})):this.props.subscriptionProducts[0];if(!t)return null;var n=this.props.selectedTier?Object(E.d)("Tier Benefits","SubBenefits"):Object(E.d)("Benefits","SubBenefits");return a.createElement(f.a,null,a.createElement(w.a,{margin:{top:this.props.inMultiMonthSubsExperiment?0:2,bottom:1}},a.createElement(g.a,{type:g.e.H5,bold:!0},this.props.inMultiMonthSubsExperiment?Object(E.d)("Tier 1 Benefits","SubBenefits"):n)),t.hasAdFree&&a.createElement(w.a,{margin:{bottom:1}},a.createElement(g.a,{"data-test-selector":me.AdFreeMessage},Object(E.d)("Ad-free viewing on {channelName}'s channel (with limited exceptions).",{channelName:this.props.formattedDisplayName},"SubBenefits"))),a.createElement(w.a,{margin:{bottom:1}},a.createElement(g.a,null,Object(E.d)("Chat during Subscriber-Only Mode and not affected by chat slow mode.","SubBenefits"))),a.createElement(w.a,{margin:{bottom:1}},a.createElement(g.a,{"data-test-selector":me.SubscriberStreamMessage},Object(E.d)("Watch Subscriber Streams (access depends on Subscription Tier).","SubBenefits"))),a.createElement(he,null),a.createElement(pe,{product:t,handleSubMenuAction:this.props.handleSubMenuAction}))},t}(a.Component);var be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(ge,{subscriptionProducts:this.props.subscriptionProducts,handleSubMenuAction:this.props.handleSubMenuAction,formattedDisplayName:Object(ue.a)(this.props.channel.login,this.props.channel.displayName||null),inMultiMonthSubsExperiment:this.props.inMultiMonthSubsExperiment})},t}(a.Component),ve=Object(s.b)((function(e){return{channel:e.channel,handleSubMenuAction:e.handleSubMenuAction,subscriptionProducts:e.subscriptionProducts}}))(be);var ye,Se=function(e){var t=(e.interval&&e.interval.unit)===k.ld.ONE_TIME,n=isNaN(Number(e.tier)),i=e.type.toLowerCase()===k.nd.TEAMSUB.toLowerCase()||e.type.toLowerCase()===k.nd.TURBO.toLowerCase();return t||n||i},ke=n("Mb07");n("Li6Q");!function(e){e.QuickSub="QuickSub",e.HigherTier="HigherTier",e.BadgeModifierUpsell="BadgeModifierUpsell"}(ye||(ye={}));var Ee,Ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.channelLogin,n=e.handleSubMenuAction,i=e.subscriptionProducts,r=Object(E.d)("Tier 1 Subscription","SubModalUnsubbedPage"),s=Object(E.d)("Subscriptions are a great way to directly support the streamers you love and get great benefits too!","SubModalUnsubbedPage");return a.createElement(f.a,{className:"unsubbed-top-page__scroll"},a.createElement(o.b,{autoHide:!1,suppressScrollX:!0},a.createElement(a.Fragment,null,this.inMultiMonthSubsExperiment?a.createElement(a.Fragment,null,a.createElement(L,{channelLogin:t,"data-test-selector":ye.QuickSub,handleSubMenuAction:n,isQuickSub:!0,product:i[0],inMultiMonthSubsExperiment:this.inMultiMonthSubsExperiment,multiMonthActionButtonsAlignItems:m.b.Start,multiMonthUseBorder:!1,multiMonthHeader:Object(E.d)("Tier 1 Subscription","UnsubbedTopPage")}),a.createElement(f.a,{padding:{x:2,bottom:2}},a.createElement(ve,{inMultiMonthSubsExperiment:this.inMultiMonthSubsExperiment}),this.getSubPlans())):a.createElement(a.Fragment,null,Object(ce.b)()&&Object(ke.d)(Object(ke.b)(ke.a.FirstPaidSubOffer,i[0]))?a.createElement(ce.a,{handleSubMenuAction:n,product:i[0]}):a.createElement(L,{channelLogin:t,"data-test-selector":ye.QuickSub,handleSubMenuAction:n,isQuickSub:!0,product:i[0]}),Object(se.f)(se.a)&&a.createElement(f.a,{margin:1},a.createElement(le.a,null)),a.createElement(f.a,{padding:2},a.createElement(g.a,{type:g.e.H4,bold:!0},r),a.createElement(w.a,{margin:{y:1}},a.createElement(g.a,null,s)),a.createElement(ve,null),this.getSubPlans())),a.createElement(f.a,null,this.getHigherTiers()))))},t.prototype.getSubPlans=function(e){var t=[];if(this.inMultiMonthSubsExperiment&&this.props.inPrimeRegion&&!e)return t.push(a.createElement(f.a,{key:"subplan-top",margin:{y:1}},a.createElement(L,{key:"subplan-prime",handleSubMenuAction:this.props.handleSubMenuAction,channelLogin:this.props.channelLogin,primeSubPlan:{hasPrime:this.props.hasPrime},product:this.props.subscriptionProducts[0],inMultiMonthSubsExperiment:this.inMultiMonthSubsExperiment}))),t.push(a.createElement(L,{key:"subplan-tier1-gift",channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,product:this.props.subscriptionProducts[0],onGift:this.props.onGift,multiMonthActionButtonsAlignItems:m.b.Center,inMultiMonthSubsExperiment:this.inMultiMonthSubsExperiment,isMultiMonthGiftPlan:!0,multiMonthHeader:Object(E.d)("Gift Tier 1 Subscription","UnsubbedTopPage")})),t;var n,i,r=(n=Object(ae.a)()||"US",i=l.b.get("prime_sub_blocked_regions",[]),!!n&&!i.includes(n.toUpperCase())),o=a.createElement(L,{key:"subplan-tier1",channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,product:this.props.subscriptionProducts[0],onGift:this.props.isNonStandardSub?void 0:this.props.onGift});if(this.props.inPrimeRegion&&!e&&r){t.push(a.createElement(g.a,{key:"subplan-heading",type:g.e.H5,bold:!0},Object(E.d)("Two Ways to Subscribe","SubModalUnsubbedPage")));var s=a.createElement(L,{key:"subplan-prime",handleSubMenuAction:this.props.handleSubMenuAction,channelLogin:this.props.channelLogin,primeSubPlan:{hasPrime:this.props.hasPrime},product:this.props.subscriptionProducts[0]});this.props.canPrimeSubscribe?(t.push(a.createElement(f.a,{key:"subplan-top",margin:{y:1}},s)),t.push(o)):(t.push(a.createElement(f.a,{key:"subplan-top",margin:{y:1}},o)),t.push(s))}else t.push(o);return t},t.prototype.getHigherTiers=function(){var e=this.props.subscriptionProducts.slice(1);return e.length<1?null:a.createElement(p.a,{background:m.d.Alt,padding:2},a.createElement(g.a,{bold:!0,type:g.e.H4},Object(E.d)("Higher Tiers","SubModalUnsubbedPage")),a.createElement(_e,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,baseProduct:this.props.subscriptionProducts[0],higherTierProducts:e,onGift:this.props.isNonStandardSub?void 0:this.props.onGift,inMultiMonthSubsExperiment:this.inMultiMonthSubsExperiment,sessionUser:this.props.sessionUser,subBadges:this.props.subBadges,tenure:this.props.tenure}))},Object.defineProperty(t.prototype,"inMultiMonthSubsExperiment",{get:function(){for(var e=0,t=this.props.subscriptionProducts;e<t.length;e++){var n=t[e];if(Se(n))return!1}return E.b.get("mm_subs_v2_experiment",!1)&&"variant_ui"===l.p.experiments.getAndTrackAssignment(oe.c.MultiMonthSubs)},enumerable:!0,configurable:!0}),t}(a.Component),_e=function(e){var t,n,i=e.channelID,r=e.baseProduct,o=e.higherTierProducts,s=e.sessionUser,c=e.subBadges,d=e.tenure;if(o.length<1)return null;var p=Object(Z.c)(r.emotes||[]),v=Object(Z.c)(o[0]&&o[0].emotes||[]),y=Object(Z.c)(o[1]&&o[1].emotes||[]),S=[[],v,v.concat(y)],k=(null===(t=o[0])||void 0===t?void 0:t.emoteModifiers)||[],E=(null===(n=o[1])||void 0===n?void 0:n.emoteModifiers)||[],C=[[],k,k.concat(E)];return a.createElement(a.Fragment,null,o.map((function(t){var n=Object(O.b)(t.tier)||1,r=S[n-1],o=C[n-1],v=p.concat(r);if(s&&c&&d&&Object(u.c)(i)){var y=X(c,d),k={};y.length>0&&(k=y[0]);var E=Object(u.b)(c,k);return a.createElement(f.a,{key:t.id,margin:{y:1},"data-test-selector":ye.HigherTier},a.createElement(g.a,{bold:!0,type:g.e.H5},Object(l.d)("Tier {tierNumber}",{tierNumber:n},"SubModalUnsubbedPage")),a.createElement(f.a,{"data-test-selector":ye.BadgeModifierUpsell+"__"+t.tier},a.createElement(f.a,{display:m.g.Flex,margin:{top:1}},a.createElement(g.a,null,r.length>0?Object(l.d)("{emoteCount, plural, one {All Tier 1 Benefits plus a Tier {tierNum} badge flair and {emoteCount} Exclusive Emote!} other {All Tier 1 Benefits plus a Tier {tierNum} badge flair and {emoteCount} Exclusive Emotes!}}",{tierNum:Object(l.f)(n),emoteCount:Object(l.f)(r.length)},"SubModalUnsubbedPage"):Object(l.d)("All Tier 1 Benefits plus a Tier {tierNum} badge flair!",{tierNum:Object(l.f)(n)},"SubModalUnsubbedPage_BadgeModifier"))),a.createElement(b,{userName:s.displayName,badges:E,tier:n,emotes:r}),a.createElement($.a,{name:ie.a},a.createElement(re,{modifications:o,emotes:v})),a.createElement(L,{channelLogin:e.channelLogin,product:t,handleSubMenuAction:e.handleSubMenuAction,onGift:e.onGift,subscriptionBenefit:e.subscriptionBenefit})))}return a.createElement(f.a,{key:t.id,margin:{y:1},"data-test-selector":ye.HigherTier},a.createElement(g.a,{bold:!0,type:g.e.H5},Object(l.d)("Tier {tierNumber}",{tierNumber:n},"SubModalUnsubbedPageAll_BadgeModifier")),a.createElement(f.a,null,a.createElement(f.a,{display:m.g.Flex},r.map((function(e){return a.createElement(h.a,{label:e.displayName,direction:h.c.Bottom,key:e.id,display:m.g.Flex},a.createElement(f.a,{margin:{right:1,bottom:1},className:"emote-benefits__emote"},a.createElement("img",{srcSet:e.srcSet,alt:e.displayName})))})),a.createElement(w.a,{margin:{y:1}},a.createElement(g.a,null,r.length>0?Object(l.d)("{emoteCount, plural, one {All Tier 1 Benefits plus <x:bold>{emoteCount} Exclusive Emote</x:bold>} other {All Tier 1 Benefits plus <x:bold>{emoteCount} Exclusive Emotes</x:bold>}}",{emoteCount:r.length,"x:bold":function(e){return a.createElement(g.a,{bold:!0,type:g.e.Span},e)}},"SubModalUnsubbedPage"):Object(l.d)("All Tier 1 Benefits plus extra support for your streamer!","SubModalUnsubbedPage")))),a.createElement($.a,{name:ie.a},a.createElement(re,{modifications:o,emotes:v})),a.createElement(L,{channelLogin:e.channelLogin,product:t,handleSubMenuAction:e.handleSubMenuAction,onGift:e.onGift,subscriptionBenefit:e.subscriptionBenefit,inMultiMonthSubsExperiment:e.inMultiMonthSubsExperiment,multiMonthActionButtonsAlignItems:m.b.Center,multiMonthUseBorder:!0})))})))},Oe=function(e){return Object(l.d)("Tier {tierNumber}",{tierNumber:e},"AllPaidTiers")},Te=n("YV9q");n("OCZ4");!function(e){e.BadgeModifierUpsellT1="badge-modifier__upsell-t1"}(Ee||(Ee={}));var we=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.subscriptionProducts[0],t=(Object(O.b)(e.tier)||"").toString(),n=this.props.subscriptionProducts.slice(1);if(Object(u.c)(this.props.channelID)&&this.props.subBadges&&this.props.sessionUser){var i=X(this.props.subBadges,this.props.tenure),r={};i.length>0&&(r=i[0]);var o=Object(u.b)(this.props.subBadges,r);return a.createElement(f.a,{className:"all-paid-tiers"},a.createElement(f.a,{className:"all-paid-tiers__back-button",margin:{bottom:1}},a.createElement(x.a,{type:x.d.Text,"data-a-target":"subscribe-back-button",icon:D.a.AngleLeft,onClick:this.props.onBack},a.createElement(f.a,{alignItems:m.b.Center,display:m.g.InlineFlex},a.createElement(g.a,null,Object(l.d)("Back","AllPaidTiers_BadgeModifier"))))),a.createElement(f.a,{margin:{bottom:1}},a.createElement(g.a,{bold:!0,type:g.e.H5},Oe(t))),a.createElement(f.a,{margin:{top:1}},a.createElement(g.a,null,Object(Te.a)({emoteCount:e.emotes&&e.emotes.length||0,hasAdFree:e.hasAdFree}))),a.createElement(f.a,{"data-test-selector":Ee.BadgeModifierUpsellT1},a.createElement(b,{badges:o,userName:this.props.sessionUser.displayName,tier:1})),a.createElement(L,{key:"subplan-tier1",channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,product:e,subscriptionBenefit:this.props.subscriptionBenefit}),a.createElement(_e,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,baseProduct:e,higherTierProducts:n,sessionUser:this.props.sessionUser&&this.props.sessionUser,subBadges:this.props.subBadges,subscriptionBenefit:this.props.subscriptionBenefit,tenure:this.props.tenure}))}return a.createElement(f.a,{className:"all-paid-tiers"},a.createElement(f.a,{className:"all-paid-tiers__back-button",margin:{bottom:1}},a.createElement(x.a,{type:x.d.Text,"data-a-target":"subscribe-back-button",icon:D.a.AngleLeft,onClick:this.props.onBack},a.createElement(f.a,{alignItems:m.b.Center,display:m.g.InlineFlex},a.createElement(g.a,null,Object(l.d)("Back","AllPaidTiers"))))),a.createElement(f.a,{margin:{bottom:1}},a.createElement(g.a,{bold:!0,type:g.e.H5},Oe(t))),a.createElement(f.a,{margin:{top:1}},a.createElement(g.a,null,Object(Te.a)({emoteCount:e.emotes&&e.emotes.length||0,hasAdFree:e.hasAdFree}))),a.createElement(L,{key:"subplan-tier1",channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,product:e,subscriptionBenefit:this.props.subscriptionBenefit}),a.createElement(_e,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,baseProduct:e,higherTierProducts:n,sessionUser:this.props.sessionUser&&this.props.sessionUser,subBadges:this.props.subBadges,subscriptionBenefit:this.props.subscriptionBenefit,tenure:this.props.tenure}))},t}(a.Component);var xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(we,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,onBack:this.props.onBack,subscriptionBenefit:this.props.subscriptionBenefit,subscriptionProducts:this.props.subscriptionProducts,channelID:this.props.channel.id,sessionUser:this.props.sessionUser&&this.props.sessionUser,subBadges:this.props.subBadges,tenure:this.props.tenure})},t}(a.Component),De=Object(s.b)((function(e){return{subscriptionBenefit:e.subscriptionBenefit||void 0,subscriptionProducts:e.subscriptionProducts,handleSubMenuAction:e.handleSubMenuAction,channel:e.channel,sessionUser:e.sessionUser,subBadges:e.subBadges,tenure:e.tenure}}))(xe),je=n("NJDg"),Ie=n("Dbw4"),Ne=n("L2Dh"),Re=n("FLOH"),Pe=n("dBR3"),Me=n("kqSx");n("yLMg");var Ae,Be,Fe=Object(s.b)((function(e){return{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,onAnonymousGiftingSelect:e.onAnonymousGiftingSelect,subscriptionProducts:e.subscriptionProducts}}))((function(e){var t=Object(a.useState)(e.subscriptionProducts[0]),n=t[0],i=t[1],r=Object(a.useCallback)((function(e){i(e)}),[]),o=Object(l.d)("Gift Anonymously","CommunityGiftBundleSelection"),s=n.tier||"1000",c=Ne.d[s]||Ne.b,u=Ne.e[s];return a.createElement(f.a,null,e.onBack&&a.createElement(f.a,{className:"community-gift-bundle-selection__back",margin:{bottom:1}},a.createElement(x.a,{type:x.d.Text,icon:D.a.AngleLeft,onClick:e.onBack},a.createElement(g.a,null,Object(l.d)("Back","CommunityGiftBundleSelection")))),a.createElement(f.a,{display:m.g.Flex,justifyContent:m.l.Between,margin:{bottom:1}},a.createElement(g.a,{bold:!0,fontSize:m.j.Size4},Object(l.d)("Gift to the Community","CommunityGiftBundleSelection")),a.createElement(x.a,{type:x.d.Text,onClick:e.onSingleGiftSelect},a.createElement(g.a,null,Object(l.d)("Gift to a Specific Viewer","CommunityGiftBundleSelection")))),a.createElement(Pe.a,{handleSubMenuAction:e.handleSubMenuAction,onTierSelect:r,subscriptionProducts:e.subscriptionProducts},a.createElement(f.a,{className:"community-gift-bundle-selection__bundles"},a.createElement(f.a,{padding:1,display:m.g.Flex,justifyContent:m.l.Between},a.createElement(Re.a,{allSubProducts:e.subscriptionProducts,selectedSubProduct:n}),a.createElement(f.a,{className:"community-gift-bundle-selection__anonymous",alignSelf:m.c.Center},a.createElement(Me.a,{checked:e.giftingAnonymously,label:o,onChange:e.onAnonymousGiftingSelect}))),a.createElement(f.a,{display:m.g.Flex,flexWrap:m.i.Wrap},u.map((function(t){return a.createElement(Ie.a,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,key:"MysteryGiftBundle"+t,mysteryGiftCount:t,subscriptionProduct:n})}))),a.createElement(f.a,{fullWidth:!0,margin:{x:1}},a.createElement(je.a,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,limit:c,subscriptionProduct:n})))))})),Ue=n("Gylv"),Le=n("8EUQ");!function(e){e[e.Upgrade=0]="Upgrade",e[e.Continue=1]="Continue",e[e.None=2]="None"}(Ae||(Ae={})),function(e){e.AllPaidTiers="allpaidtiers",e.ContinueSub="continuesub",e.UpgradeSub="upgradesub"}(Be||(Be={}));var Ge,He=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.upsellProduct,i=t.purchaseButtonType;return a.createElement(f.a,{display:m.g.Flex,flexDirection:m.h.Row,justifyContent:m.l.End,flexWrap:m.i.Wrap},a.createElement(f.a,{margin:{right:1,bottom:1}},a.createElement(x.a,{"data-test-selector":Be.AllPaidTiers,onClick:this.props.onAllPaidTiersSelect,type:x.d.Secondary},Object(l.d)("All Paid Tiers","CurrentSubscriptionButtonPanel"))),[i].map((function(t){switch(t){case Ae.Continue:return n?a.createElement(f.a,{key:"continuebutton",margin:{right:1,bottom:1}},a.createElement(x.a,{key:n.id,"data-test-selector":Be.ContinueSub,icon:D.a.Star,onClick:e.props.onCheckoutClick,purchase:Object(_.e)(n)},Object(l.d)("Continue Sub","CurrentSubscriptionButtonPanel"))):null;case Ae.Upgrade:if(!n)return null;var i=Object(O.b)(n.tier);return i?a.createElement(f.a,{key:"upgradebutton",margin:{right:1,bottom:1}},a.createElement(x.a,{key:n.id,"data-test-selector":Be.UpgradeSub,icon:D.a.Star,onClick:e.props.onCheckoutClick,purchase:Object(_.e)(n)},Object(l.d)("Upgrade to Tier {tierNumber}",{tierNumber:i},"CurrentSubscriptionButtonPanel"))):a.createElement(f.a,{key:"upgradebutton",margin:{right:1,bottom:1}},a.createElement(x.a,{key:n.id,"data-test-selector":Be.UpgradeSub,icon:D.a.Star,onClick:e.props.onCheckoutClick,purchase:Object(_.e)(n)},Object(l.d)("Upgrade Sub","CurrentSubscriptionButtonPanel")));default:return null}})))},t}(a.Component),ze=n("7uM4");!function(e){e.Header="header"}(Ge||(Ge={}));var Ve=function(e){var t="";return t=e.isPrimeSubscription?Object(l.d)("Twitch Prime Subscription","CurrentSubscriptionHeaderModal"):e.isGift?e.tier?Object(l.d)("Tier {tierNumber} Gifted Subscription",{tierNumber:e.tier},"CurrentSubscriptionHeaderModal"):Object(l.d)("Gifted Subscription","CurrentSubscriptionHeaderModal"):e.tier?Object(l.d)("Tier {tierNumber} Subscription",{tierNumber:e.tier},"CurrentSubscriptionHeaderModal"):Object(l.d)("Your Subscription","CurrentSubscriptionHeaderModal"),a.createElement(f.a,{className:"current-subscription__heading-"+(e.isPrimeSubscription?"prime":"tier"),display:m.g.Flex,margin:{bottom:1},alignItems:m.b.Stretch},a.createElement(ze.a,{asset:e.isPrimeSubscription?D.a.Crown:D.a.Star,height:25}),a.createElement(w.a,{margin:{left:.5}},a.createElement(g.a,{bold:!0,"data-test-selector":Ge.Header,type:g.e.H4},t)))},We=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(){t.props.upsellProduct&&(E.o.set(Le.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:T.a.BuyPaidUpgrade,checkoutButtonTier:t.props.upsellProduct.tier}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.subEndDate?Object(l.d)("<x:strong>Continue your Subscription</x:strong> to keep your benefits after your Subscription ends! You won't be charged until {date}.",{date:Object(l.c)(this.props.subEndDate,{month:"short",day:"numeric"}),"x:strong":function(e){return a.createElement(g.a,{bold:!0,type:g.e.Span},e)}},"CurrentDNRSubscription"):Object(l.d)("<x:strong>Continue your Subscription</x:strong> to keep your benefits after your Subscription ends!",{"x:strong":function(e){return a.createElement(g.a,{bold:!0,type:g.e.Span},e)}},"CurrentDNRSubscription");return a.createElement(p.a,{padding:{left:2,right:1,y:1},border:!0,borderRadius:m.e.Medium},a.createElement(f.a,{margin:{top:1},display:m.g.Flex,flexWrap:m.i.Wrap,flexDirection:m.h.Row,alignItems:m.b.Center},a.createElement(Ve,{tier:this.props.tier}),a.createElement(f.a,{margin:{bottom:1},flexGrow:0},e),a.createElement(f.a,{margin:{bottom:1},flexGrow:1,textAlign:m.p.Right},a.createElement(He,{onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:Ae.Continue,onCheckoutClick:this.onCheckoutClick,upsellProduct:this.props.upsellProduct}))))},t}(a.Component),qe=n("2xye");var Qe;n("OkDP");!function(e){e.UpsellString="UpsellString",e.LearnMoreString="LearnMoreString",e.HelpButton="HelpButton"}(Qe||(Qe={}));var Ke=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.learnMoreClick=function(){!function(e){Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return l.o.track(qe.SpadeEventType.BadgeModifierLearnMoreClick,{time:Date.now(),user_id:e.user_id}),[2]}))}))}({user_id:t.props.currentUserID||""})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(p.a,{borderRadius:m.e.Large,className:"badge-modifier--banner__body",display:m.g.Flex,flexDirection:m.h.Column,margin:{top:1}},a.createElement(f.a,{textAlign:m.p.Left,justifyContent:m.l.Start,padding:{left:2,y:2},display:m.g.Flex},a.createElement(g.a,{"data-test-selector":Qe.UpsellString,type:g.e.P,fontSize:m.j.Size6},Object(l.d)("Tier 2 and Tier 3 Subscribers can now show off their status with Badge Flair!","BadgeModifiersBanner")),a.createElement(f.a,{margin:{left:2,right:2,top:1}},a.createElement(x.a,{"data-test-selector":Qe.HelpButton,onClick:this.learnMoreClick,linkTo:Object(u.a)(),targetBlank:!0,fullWidth:!0,overlay:!0},Object(l.d)("Learn More","BadgeModifiersBanner")))))},t}(a.Component),Ye=n("HGFl");function Je(e){return Object(O.b)(e.tier)?Object(E.d)("Your new Tier {tier} Paid Subscription will begin on {pendingSubStartDate}",{tier:Object(O.b)(e.tier)||1,pendingSubStartDate:Object(E.c)(Object(Ye.e)(e.startsAt.toString()),{month:"short",day:"numeric"})},"CurrentSubscription"):Object(E.d)("Your new Paid Subscription will begin on {pendingSubStartDate}",{pendingSubStartDate:Object(E.c)(Object(Ye.e)(e.startsAt.toString()),{month:"short",day:"numeric"})},"CurrentSubscription")}var Xe,$e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(){t.props.upsellProduct&&(E.o.set(Le.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:T.a.BuyGiftToPaidUpgrade,checkoutButtonTier:t.props.upsellProduct.tier}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t,n=!0,i=void 0!==this.props.gifterDisplayName,r=this.props.pendingSubscription,o=this.props.tier&&Object(u.c)(this.props.channelID);this.props.subEndDate?(e=void 0!==this.props.gifterDisplayName?Object(l.d)("Gifted from <x:strong>{gifter}</x:strong> - Subscription ends on {date} ({daysRemaining})",{gifter:this.props.gifterDisplayName,date:Object(l.c)(this.props.subEndDate,{month:"long",day:"numeric",year:"numeric"}),"x:strong":function(e){return a.createElement(g.a,{bold:!0,type:g.e.Span},e)},daysRemaining:Object(l.i)(this.props.subEndDate,{units:"day",style:"best fit"})},"CurrentGiftSubscription"):null,t=r?Je(r):Object(l.d)("<x:strong>Continue your Subscription</x:strong> to keep your benefits after your Subscription ends! You won't be charged until {date}.",{date:Object(l.c)(this.props.subEndDate,{month:"short",day:"numeric"}),"x:strong":function(e){return a.createElement(g.a,{bold:!0,type:g.e.Span},e)}},"CurrentGiftSubscription")):(n=!1,e=this.props.gifterDisplayName?Object(l.d)("Gifted from <x:strong>{gifter}</x:strong>",{gifter:this.props.gifterDisplayName,"x:strong":function(e){return a.createElement(g.a,{bold:!0,type:g.e.Span},e)}},"CurrentGiftSubscription"):null,t=null);var s=r?null:a.createElement(f.a,{margin:{bottom:1},textAlign:m.p.Right,fullWidth:!0},a.createElement(He,{onCheckoutClick:this.onCheckoutClick,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:n?Ae.Continue:Ae.None,upsellProduct:this.props.upsellProduct}));return a.createElement(p.a,{padding:{x:2,y:1},border:!0,borderRadius:m.e.Medium},o&&a.createElement(Ke,{currentUserID:this.props.userID?this.props.userID:""}),a.createElement(f.a,{margin:{top:1},display:m.g.Flex,flexWrap:m.i.Wrap,flexDirection:m.h.Row,alignItems:m.b.Center},a.createElement(Ve,{isGift:!0,tier:this.props.tier}),a.createElement(f.a,{margin:{bottom:1},flexGrow:0},e,a.createElement(f.a,{margin:i?{top:1}:{}},t)),s))},t}(a.Component),Ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(){t.props.upsellProduct&&(E.o.set(Le.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:T.a.BuyPaidUpgrade,checkoutButtonTier:t.props.upsellProduct.tier}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.tier&&Object(u.c)(this.props.channelID),t=this.props.subEndDate&&this.props.upsellProduct?a.createElement(f.a,{flexGrow:1,textAlign:m.p.Right},a.createElement(He,{onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:Ae.Upgrade,onCheckoutClick:this.onCheckoutClick,upsellProduct:this.props.upsellProduct})):null;return a.createElement(p.a,{padding:{left:2,right:1,y:1},border:!0,borderRadius:m.e.Medium},e?a.createElement(Ke,{currentUserID:this.props.userID?this.props.userID:""}):null,a.createElement(f.a,{margin:{top:1},display:m.g.Flex,flexWrap:m.i.Wrap,flexDirection:m.h.Row,alignItems:m.b.Center},a.createElement(Ve,{tier:this.props.tier}),t))},t}(a.Component),et=n("zNDD");n("eP7G");!function(e){e.PrimeSubRenewsMessage="primesubrenewsmessage"}(Xe||(Xe={}));var tt,nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(){t.props.upsellProduct&&(E.o.set(Le.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:T.a.BuyPrimeToPaid,checkoutButtonTier:t.props.upsellProduct.tier}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=this.props.pendingSubscription;e=t?Je(t):this.props.subEndDate?Object(l.d)("<x:strong>Convert to a recurring Subscription</x:strong> to keep your benefits after your Twitch Prime Subscription ends! You won't be charged until {date}.",{date:Object(l.c)(this.props.subEndDate,{month:"short",day:"numeric"}),"x:strong":function(e){return a.createElement(g.a,{bold:!0,type:g.e.Span},e)}},"CurrentPrimeSubscription"):null;var n=this.props.primeSubRenewalDate&&!t?a.createElement(f.a,{margin:{right:1},className:"sub-modal-current-prime-subscription__prime-renewal-date"},a.createElement(g.a,{color:m.f.Alt2,"data-test-selector":Xe.PrimeSubRenewsMessage},Object(l.d)("Your next Prime sub will be available {renewalDate}.",{renewalDate:Object(et.a)(this.props.primeSubRenewalDate,{displayFormat:{month:"short",day:"numeric"}})},"SubModalCurrentPrimeSubscription"))):null,i=t?null:a.createElement(He,{onCheckoutClick:this.onCheckoutClick,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:this.props.subEndDate?Ae.Continue:Ae.None,upsellProduct:this.props.upsellProduct});return a.createElement(p.a,{padding:{left:2,right:1,y:1},border:!0,borderRadius:m.e.Medium},a.createElement(f.a,{margin:{top:1},display:m.g.Flex,flexWrap:m.i.Wrap,flexDirection:m.h.Row,alignItems:m.b.Center},a.createElement(f.a,{display:m.g.Flex,flexDirection:m.h.Column},a.createElement(Ve,{isPrimeSubscription:!0}),a.createElement(f.a,{margin:{bottom:1},flexGrow:0},e)),a.createElement(f.a,{margin:{bottom:1},flexGrow:1,textAlign:m.p.Right},i,n)))},t}(a.Component);n("Wd44");!function(e){e[e.Prime=0]="Prime",e[e.Paid=1]="Paid",e[e.DNR=2]="DNR",e[e.Gift=3]="Gift"}(tt||(tt={}));var it=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.getCurrentSubscription();return!e||this.props.isExtended?null:a.createElement(f.a,{margin:{x:2,top:2}},a.createElement(f.a,{margin:{bottom:1}},a.createElement(g.a,{bold:!0,type:g.e.H4},Object(l.d)("Your Subscription","CurrentSubscriptionComponent"))),e)},t.prototype.getCurrentSubscription=function(){switch(this.props.subType){case tt.Prime:return a.createElement(nt,{key:"currentprimesubscription",handleSubMenuAction:this.props.handleSubMenuAction,subEndDate:this.props.subEndDate,upsellProduct:this.props.upsellProduct,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,pendingSubscription:this.props.pendingSubscription,primeSubRenewalDate:this.props.primeSubRenewalDate});case tt.DNR:return a.createElement(We,{key:"currentdnrsubscription",handleSubMenuAction:this.props.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,subEndDate:this.props.subEndDate,tier:this.props.tier,upsellProduct:this.props.upsellProduct});case tt.Gift:return a.createElement($e,{key:"currentgiftsubscription",handleSubMenuAction:this.props.handleSubMenuAction,gifterDisplayName:this.props.gifterDisplayName,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,pendingSubscription:this.props.pendingSubscription,subEndDate:this.props.subEndDate,tier:this.props.tier,upsellProduct:this.props.upsellProduct,channelID:this.props.channelID,userID:this.props.userID});case tt.Paid:return a.createElement(Ze,{key:"currentpaidsubscription",handleSubMenuAction:this.props.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,subEndDate:this.props.subEndDate,tier:this.props.tier,upsellProduct:this.props.upsellProduct,channelID:this.props.channelID,userID:this.props.userID});default:return null}},t}(a.Component);var rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=this.mapToComponentProps(),n=(null===(e=this.props.subscriptionBenefit)||void 0===e?void 0:e.pendingSubscription)||void 0;return a.createElement(it,{subEndDate:t.subEndDate,gifterDisplayName:t.gifterDisplayName,handleSubMenuAction:t.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,subType:t.subType,tier:t.tier,pendingSubscription:n,primeSubRenewalDate:t.primeSubRenewalDate,upsellProduct:t.upsellProduct,isExtended:t.isExtended,channelID:t.channelID,userID:t.userID})},t.prototype.mapToComponentProps=function(){var e,t,n,i,r,a,o,s=tt.Paid,l=null,c=!1;if(this.props.subscriptionBenefit){var u=this.props.subscriptionBenefit,d=this.props.subscriptionProducts.find((function(e){return e.tier===u.tier}));l=Object(O.b)(u.tier),a=u.endsAt?new Date(u.endsAt):void 0,c=u.isExtended,(null===(e=u.gift)||void 0===e?void 0:e.isGift)?(s=tt.Gift,r=null===(t=u.gift.gifter)||void 0===t?void 0:t.displayName,o=d):u.purchasedWithPrime?(s=tt.Prime,o=d):u.isDNRd?(s=tt.DNR,o=d,u.pendingSubscription&&(s=tt.Paid,o=void 0)):o=this.props.subscriptionProducts.find((function(e){return e.tier>u.tier})),u.endsAt||u.renewsAt||(null===(n=u.gift)||void 0===n?void 0:n.isGift)||(s=tt.Paid)}return{subEndDate:a,gifterDisplayName:r||void 0,handleSubMenuAction:this.props.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,subType:s,primeSubRenewalDate:this.props.primeSubRenewalDate||void 0,tier:l||void 0,upsellProduct:o,isExtended:c,channelID:this.props.channel.id,userID:null===(i=this.props.sessionUser)||void 0===i?void 0:i.id}},t}(a.Component),at=Object(s.b)((function(e){return{subscriptionBenefit:e.subscriptionBenefit,handleSubMenuAction:e.handleSubMenuAction,subscriptionProducts:e.subscriptionProducts,primeSubRenewalDate:e.primeSubRenewalDate,channel:e.channel,sessionUser:e.sessionUser}}))(rt),ot=n("i70y");var st=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(ot.a,{buttonType:this.props.buttonType,channelDisplayName:Object(ue.a)(this.props.channel.login,this.props.channel.displayName),currentUserCanGift:this.props.canGift,giftingAnonymously:this.props.giftingAnonymously,isNonStandardSub:this.props.isNonStandardSub,onAnonymousGiftingSelect:this.props.onAnonymousGiftingSelect,onBack:this.props.onBack,onGiftSelect:this.props.onGiftSelect,onMysteryGiftSelect:this.props.onMysteryGiftSelect,wrapAnonymousGiftingSelect:this.props.wrapAnonymousGiftingSelect})},t}(a.Component),lt=Object(s.b)((function(e){return{canGift:e.canGiftInChannel,channel:e.channel,giftingAnonymously:e.giftingAnonymously,isNonStandardSub:e.isNonStandardSub,onAnonymousGiftingSelect:e.onAnonymousGiftingSelect}}))(st),ct=(n("V3kL"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.handleSubMenuAction,n=e.subscriptionProducts,i=a.createElement(o.b,{autoHide:!1,className:"subbed-top-page__scroll",suppressScrollX:!0},a.createElement(a.Fragment,null,a.createElement(ce.a,{handleSubMenuAction:t,product:n[0]}),Object(se.f)(se.a)&&a.createElement(f.a,{margin:1},a.createElement(le.a,null)),this.props.reduceCGFrictionExperiment?a.createElement(f.a,{margin:2},a.createElement(Fe,{onSingleGiftSelect:this.props.onGiftSelect})):a.createElement(lt,{onGiftSelect:this.props.onGiftSelect,onMysteryGiftSelect:this.props.onMysteryGiftSelect}),a.createElement(f.a,{margin:{x:2}},a.createElement(Ue.a,null)),a.createElement(at,{onAllPaidTiersSelect:this.props.onAllPaidTiersSelect}),a.createElement(f.a,{margin:{bottom:2}},a.createElement(he,null))));return a.createElement(f.a,{className:"subbed-top-page"},i)},t}(a.Component));var ut=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(ct,{handleSubMenuAction:this.props.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,onGiftSelect:this.props.onGiftSelect,onMysteryGiftSelect:this.props.onMysteryGiftSelect,reduceCGFrictionExperiment:this.props.reduceCGFrictionExperiment,subscriptionProducts:this.props.subscriptionProducts})},t}(a.Component),dt=Object(s.b)((function(e){return{handleSubMenuAction:e.handleSubMenuAction,subscriptionProducts:e.subscriptionProducts}}))(ut);var pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(Ce,{canPrimeSubscribe:this.props.canPrimeSubscribe,channelID:this.props.channelID,channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,hasPrime:this.props.hasPrime,inPrimeRegion:this.props.inPrimeRegion,isNonStandardSub:this.props.isNonStandardSub,onGift:this.props.onGift,sessionUser:this.props.sessionUser,subscriptionProducts:this.props.subscriptionProducts,subBadges:this.props.subBadges,tenure:this.props.tenure})},t}(a.Component),mt=Object(s.b)((function(e){return{channelID:e.channel.id,handleSubMenuAction:e.handleSubMenuAction,hasPrime:e.hasPrime,isNonStandardSub:e.isNonStandardSub,sessionUser:e.sessionUser,subscriptionProducts:e.subscriptionProducts,subBadges:e.subBadges,tenure:e.tenure}}))(pt),ft=n("OEiS");var ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(ft.a,{giftingAnonymously:this.props.giftingAnonymously,handleSubMenuAction:this.props.handleSubMenuAction,onAnonymousGiftingSelect:this.props.onAnonymousGiftingSelect,onBack:this.props.onBack,subscriptionProducts:this.props.subscriptionProducts,channelID:this.props.channel.id})},t}(a.Component),gt=Object(s.b)((function(e){return{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,onAnonymousGiftingSelect:e.onAnonymousGiftingSelect,subscriptionProducts:e.subscriptionProducts,channel:e.channel}}))(ht),bt=n("Y5u1");var vt,yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(bt.a,{communityGiftRecs:this.props.communityGiftRecs,defaultBundleSize:this.props.defaultBundleSize,giftingAnonymously:this.props.giftingAnonymously,handleSubMenuAction:this.props.handleSubMenuAction,onAnonymousGiftingSelect:this.props.onAnonymousGiftingSelect,onBack:this.props.onBack,subscriptionProducts:this.props.subscriptionProducts,channelID:this.props.channelID})},t}(a.Component),St=Object(s.b)((function(e){return{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,onAnonymousGiftingSelect:e.onAnonymousGiftingSelect,subscriptionProducts:e.subscriptionProducts,channelID:e.channel.id}}))(yt);n("S2z6");!function(e){e[e.AllPaidTiers=0]="AllPaidTiers",e[e.CurrentSubscription=1]="CurrentSubscription",e[e.GiftOptions=2]="GiftOptions",e[e.GiftSelect=3]="GiftSelect",e[e.MysteryGiftSelect=4]="MysteryGiftSelect",e[e.UnsubbedTop=5]="UnsubbedTop",e[e.CommunityGiftSelect=6]="CommunityGiftSelect"}(vt||(vt={}));var kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={channelLogin:t.props.channelLogin,currentPage:t.props.defaultPage?t.props.defaultPage:t.props.isSubscribed?vt.CurrentSubscription:vt.UnsubbedTop},t.onGiftOptionsSelect=function(){t.props.handleSubMenuAction({action:T.a.ClickGiftSubOptions}),t.setState({currentPage:t.props.reduceCGFrictionExperiment?vt.CommunityGiftSelect:vt.GiftOptions})},t.onGiftSelect=function(){t.props.handleSubMenuAction({action:T.a.ClickSingleGift}),t.setState({currentPage:vt.GiftSelect})},t.onMysteryGiftSelect=function(){t.props.handleSubMenuAction({action:T.a.ClickCommunityGift}),t.setState({currentPage:vt.MysteryGiftSelect})},t.onAllPaidTiersSelect=function(){t.props.handleSubMenuAction({action:T.a.ClickMoreSubOptions}),t.setState({currentPage:vt.AllPaidTiers})},t.onBack=function(){var e=t.props,n=e.isSubscribed,i=e.handleSubMenuAction;if(n)t.setState({currentPage:vt.CurrentSubscription});else switch(t.state.currentPage){case vt.MysteryGiftSelect:t.setState({currentPage:vt.GiftOptions});break;case vt.GiftSelect:t.setState({currentPage:t.props.reduceCGFrictionExperiment?vt.CommunityGiftSelect:vt.GiftOptions});break;case vt.CommunityGiftSelect:default:t.setState({currentPage:vt.UnsubbedTop})}i({action:T.a.ClickBack})},t}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.channelLogin!==t.channelLogin?{channelLogin:e.channelLogin,currentPage:e.isSubscribed?vt.CurrentSubscription:vt.UnsubbedTop}:t},t.prototype.render=function(){var e;switch(this.state.currentPage){case vt.UnsubbedTop:return a.createElement(mt,{canPrimeSubscribe:this.props.canPrimeSubscribe,channelLogin:this.props.channelLogin,inPrimeRegion:this.props.inPrimeRegion,onGift:this.onGiftOptionsSelect});case vt.CurrentSubscription:return a.createElement(dt,{onAllPaidTiersSelect:this.onAllPaidTiersSelect,onGiftSelect:this.onGiftSelect,onMysteryGiftSelect:this.onMysteryGiftSelect,reduceCGFrictionExperiment:this.props.reduceCGFrictionExperiment});case vt.GiftOptions:e=a.createElement(f.a,{className:"sub-modal-top-page__gift-options",display:m.g.Flex,flexDirection:m.h.Column},a.createElement(o.b,{autoHide:!1,suppressScrollX:!0},a.createElement(f.a,null,a.createElement(lt,{onBack:this.onBack,onGiftSelect:this.onGiftSelect,onMysteryGiftSelect:this.onMysteryGiftSelect}),a.createElement(f.a,{margin:{bottom:2,top:1,x:2}},a.createElement(Ue.a,null)))));break;case vt.GiftSelect:e=a.createElement(f.a,{className:"sub-modal-top-page__gift-select",display:m.g.Flex,flexDirection:m.h.Column},a.createElement(o.b,{autoHide:!1,suppressScrollX:!0},a.createElement(f.a,null,a.createElement(gt,{onBack:this.onBack}),a.createElement(f.a,{margin:{bottom:2,x:2}},a.createElement(Ue.a,{compact:!0})))));break;case vt.MysteryGiftSelect:e=a.createElement(f.a,{className:"sub-modal-top-page__mystery-gift-select",display:m.g.Flex,flexDirection:m.h.Column},a.createElement(o.b,{autoHide:!1,suppressScrollX:!0},a.createElement(f.a,null,a.createElement(St,{onBack:this.onBack,communityGiftRecs:this.props.communityGiftRecs,defaultBundleSize:this.props.defaultCGBundleSize}))));break;case vt.AllPaidTiers:e=a.createElement(f.a,{className:"sub-modal-top-page__all-paid-tiers",display:m.g.Flex,flexDirection:m.h.Column},a.createElement(o.b,{autoHide:!1,suppressScrollX:!0},a.createElement(f.a,null,a.createElement(De,{channelLogin:this.props.channelLogin,onBack:this.onBack}))));break;case vt.CommunityGiftSelect:e=a.createElement(f.a,{className:"sub-modal-top-page__community-gift-select",display:m.g.Flex,flexDirection:m.h.Column},a.createElement(o.b,{autoHide:!1,suppressScrollX:!0},a.createElement(f.a,{margin:2},a.createElement(Fe,{onBack:this.onBack,onSingleGiftSelect:this.onGiftSelect}),a.createElement(f.a,{margin:{top:1,x:2}},a.createElement(Ue.a,null)))));break;default:return null}return e},t}(a.Component),Et=Object(s.b)((function(e){return{handleSubMenuAction:e.handleSubMenuAction,subscriptionProducts:e.subscriptionProducts}}))(kt);n.d(t,"a",(function(){return vt})),n.d(t,"b",(function(){return Et}))},w4pw:function(e,t,n){},"wQB+":function(e,t,n){},xRFA:function(e,t,n){},yIzk:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("VbXa"),r=n.n(i),a=n("q1tI"),o=n("yymn"),s=n("Ws8v"),l=n("2Ob2"),c=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e={};return this.props.overlay?e.color=o.f.Overlay:e.color=o.f.Base,a.createElement(l.b,{value:!!this.props.overlay},a.createElement(s.a,e,this.props.children))},t}(a.Component);c.displayName="OverlayContext",c.defaultProps={overlay:!0}},yLMg:function(e,t,n){},yLwq:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var i=[{id:"profile_image_001",urlSlug:"bb97f7e6-f11a-4194-9708-52bf5a5125e8"},{id:"profile_image_002",urlSlug:"27103734-3cda-44d6-a384-f2ab71e4bb85"},{id:"profile_image_003",urlSlug:"49988c7b-57bc-4dee-bd4f-6df4ad215d3a"},{id:"profile_image_004",urlSlug:"0ecbb6c3-fecb-4016-8115-aa467b7c36ed"},{id:"profile_image_005",urlSlug:"cd618d3e-f14d-4960-b7cf-094231b04735"},{id:"profile_image_006",urlSlug:"4cbf10f1-bb9f-4f57-90e1-15bf06cfe6f5"},{id:"profile_image_007",urlSlug:"b83b1794-7df9-4878-916c-88c2ad2e4f9f"}],r=function(){return Math.floor(Math.random()*i.length)};function a(e,t){var n=70;return 300===t?n=300:96!==t&&80!==t||(n=150),"https://static-cdn.jtvnw.net/user-default-pictures/"+e.urlSlug+"-profile_image-"+n+"x"+n+".jpg"}function o(e,t){var n=parseInt(e,10)%i.length;return a(i[n],t)}},ybLH:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/MKj"),o=n("/7QA"),s=n("Uh2Q"),l=n("RiD7"),c=n("Ws8v"),u=n("yymn"),d=n("sUnt"),p=n("K+jS"),m=n("+80q"),f=n("dEDE"),h=(n("Dye3"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.learnMoreClick=function(){Object(l.o)({user_id:t.props.currentUserID||"",source:t.props.isSubscriptionPage?l.e.SubManagement:l.e.SubModalMain})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(!Object(s.f)(s.a))return null;var e=Object(o.d)("Streamer Love","CreatorLuvModalBanner"),t=Object(o.d)("Through {date}, give to the community and get exclusive emotes!",{date:Object(o.c)(Object(s.h)(s.a),{day:"numeric",month:"numeric"})},"CreatorLuvModalBanner");return r.createElement(c.a,{borderRadius:u.e.Large,className:"creater-luv-banner",display:u.g.Flex,flexDirection:u.h.Column},r.createElement(d.a,{textAlign:u.p.Left,justifyContent:u.l.Start,padding:{x:2,y:1}},r.createElement(p.a,{size:p.b.Small},e),r.createElement(m.a,{bold:!0,type:m.e.H5},t)),r.createElement(d.a,{padding:{bottom:2,right:2},justifyContent:u.l.End,display:u.g.Flex},r.createElement(f.a,{linkTo:Object(s.e)(),targetBlank:!0,onClick:this.learnMoreClick},Object(o.d)("Learn More","CreatorLuvModalBanner"))))},t}(r.Component));var g=Object(a.b)((function(e){return{currentUserID:e.session.user&&e.session.user.id||null}}))(h);n.d(t,"a",(function(){return g}))},zB5j:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainNotificationThreshold"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainNotificationThreshold"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}],loc:{start:0,end:97}};n.loc.source={body:"fragment hypeTrainNotificationThreshold on HypeTrainNotificationThreshold {\naction\nsource\nvalue\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},zNDD:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("/7QA"),r=864e5;function a(e,t){if(!e)return"";var n=e instanceof Date?e:new Date(e),a=t&&t.relativeDateLimit||r,o=t&&t.displayFormat||"short";return Math.abs(n.getTime()-Date.now())<=a?Object(i.i)(n):Object(i.c)(n,o)}},zY44:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("VbXa"),r=n.n(i),a=n("q1tI"),o=n("PHNs"),s=n.n(o),l=n("fNzW"),c=(n("uhve"),function(e){function t(t){var n;return(n=e.call(this,t)||this).state={currentValue:t.value,prevValue:void 0!==t.initialValue?t.initialValue:t.value},n}r()(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e=this;this.props.value!==this.state.currentValue&&this.setState((function(t){return{currentValue:e.props.value,prevValue:t.currentValue}}))},n.render=function(){return a.createElement(s.a,{className:Object(l.a)({"tw-animated-number":!0,"tw-animated-number--monospaced":this.props.monospaced}),duration:this.props.duration,end:this.state.currentValue,start:this.state.prevValue,formattingFn:this.props.formatValue})},t}(a.Component));c.displayName="AnimatedNumber",c.defaultProps={duration:.7,monospaced:!0}},zdTm:function(e,t,n){},zene:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("sUnt"),o=n("yymn"),s=(n("hKya"),"animated-background-transition"),l=s+"__toggled-content",c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={previousToggle:t.props.toggle,toggled:!1},t.ref=null,t.setRef=function(e){t.ref=e,t.ref&&t.ref.addEventListener("animationend",t.unToggle)},t.unToggle=function(){return t.setState({toggled:!1})},t}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return t.previousToggle===e.toggle?null:{previousToggle:e.toggle,toggled:!0}},t.prototype.componentWillUnmount=function(){this.ref&&this.ref.removeEventListener("animationend",this.unToggle)},t.prototype.render=function(){var e=this.props.toggle?l+"--show":l+"--hide";return this.state.toggled&&(e=this.props.toggle?l+"--fade-in":l+"--fade-out"),r.createElement(a.a,{className:s,position:o.n.Relative},r.createElement(a.a,{className:s+"__background",position:o.n.Absolute}),r.createElement(a.a,{className:e,position:o.n.Absolute,justifyContent:o.l.Center,refDelegate:this.setRef},this.props.toggledContent),r.createElement(a.a,{position:o.n.Absolute,fullWidth:!0,fullHeight:!0,display:o.g.Flex,justifyContent:o.l.Center},this.props.content))},t}(r.Component);n.d(t,"a",(function(){return c}))},zixI:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnblockUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnblockUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unblockUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"targetUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:100}};n.loc.source={body:"mutation UnblockUser($input: UnblockUserInput!) {\nunblockUser(input: $input) {\ntargetUser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UnblockUser=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"UnblockUser")},zwNz:function(e,t,n){"use strict";var i=n("q1tI"),r=n("Ws8v"),a=n("yymn"),o=n("XQbB"),s=function(e){var t=e.seconds;return i.createElement(r.a,{display:a.g.Flex,alignItems:a.b.Center,justifyContent:a.l.Center,color:a.f.Overlay},i.createElement(o.a,{size:o.b.Large,delay:0,inheritColor:!0}),i.createElement(r.a,{position:a.n.Absolute,color:a.f.Base},t))};n.d(t,"a",(function(){return s}))},zwzf:function(e,t,n){}}]);