mw.loader.implement("ext.gadget.BlockInfo@1vy6x",function($,jQuery,require,module){(function(){'use strict';var api=new mw.Api();function el(tag,child,attr,events){var key,node=document.createElement(tag);if(child){if(typeof child!=='object')child=[child];for(var i=0;i<child.length;++i){var ch=child[i];if((ch===void(null))||(ch===null))continue;else if(typeof ch!=='object')ch=document.createTextNode(String(ch));node.appendChild(ch);}}if(attr)for(key in attr){node.setAttribute(key,String(attr[key]));}if(events)for(key in events){node.addEventListener(key,events[key],false);}return node;}function fmtDate(date){date=new Date(date);switch(mw.user.options.get('date')){case'dmy':return date.toLocaleTimeString()+', '+date.getDate()+' '+mw.language.months.genitive[date.getMonth()]+' '+date.getFullYear();case'mdy':return date.toLocaleTimeString()+', '+mw.language.months.genitive[date.getMonth()]+' '+date.getFullYear()+', '+date.getDate();case'ymd':return date.toLocaleTimeString()+', '+date.
getFullYear()+' '+mw.language.months.genitive[date.getMonth()]+' '+date.getDate();case'default':return date.toLocaleString();case'ISO 8601':return date.toISOString();}}var wd2iw={'metawiki':'m'};function buildList(user,callback){var isAnon=mw.util.isIPv4Address(user)||mw.util.isIPv6Address(user);var rq=api.get({action:'query',list:'blocks'+(isAnon?'|globalblocks':'|globalallusers'),bkip:isAnon?user:void(window.warranty),bkusers:isAnon?void(window.warranty):user,bkprop:'id|user|range|timestamp|expiry|by|reason|flags',bkdir:'older',bgip:isAnon?user:void(window.warranty),bgprop:isAnon?'id|address|range|timestamp|expiry|by|reason':void(window.warranty),bgdir:isAnon?'older':void(window.warranty),agufrom:!isAnon?user:void(window.warranty),aguto:!isAnon?user:void(window.warranty),agulimit:!isAnon?1:void(window.warranty),aguprop:!isAnon?'lockinfo':void(window.warranty)});rq.then(function(result){var list=el('ul'),item,i;if(result.query.globalallusers&&result.query.globalallusers[0]&&('locked'
in result.query.globalallusers[0])){list.appendChild(el('li',["This account is globally locked"," (",el('a',"globalauth log",{href:mw.util.getUrl('m:Special:Log/globalauth',{page:'User:'+user+'@global'})}),")."]));}for(i=0;i<result.query.blocks.length;++i){item=result.query.blocks[i];list.appendChild(el('li',[fmtDate(item.timestamp),': ',el('a',item.by,{href:mw.util.getUrl('User:'+item.by)})," blocked ",el('b',item.user)," (",el('a','block log',{href:mw.util.getUrl('Special:Log/block',{page:'User:'+item.user})}),"),",' expiring ',el('b',item.expiry==='infinity'?'never':fmtDate(item.expiry)),item.reason&&" (",item.reason,item.reason&&")",]));}if(result.query.globalblocks)for(i=0;i<result.query.globalblocks.length;++i){item=result.query.globalblocks[i];list.appendChild(el('li',[fmtDate(item.timestamp),': ',el('a',item.by,{href:mw.util.getUrl(wd2iw[item.bywiki]+':User:'+item.by)})," at ",el('code',item.bywiki)," globally blocked ",el('b',item.address)," (",el('a',"gblblock log",{href:mw.
util.getUrl(wd2iw[item.bywiki]+':Special:Log/gblblock',{page:'User:'+item.address})}),"),"," expiring ",el('b',item.expiry==='infinity'?"never":fmtDate(item.expiry)),item.reason&&" (",item.reason,item.reason&&")",]));}callback(list);});return rq;}function makeBox(user,relTo){if(!user)return;relTo=relTo||document.getElementById('mw-content-text');var afterList,box=el('div',[el('p',[el('strong',user),' is currently blocked.']),afterList=el('small',[el('a',"block log",{href:mw.util.getUrl('Special:Log/block',{page:'User:'+user})})])],{'class':'mw-warning-with-logexcerpt'});relTo.rq=buildList(user,function(list){relTo.rq=null;if(!list.hasChildNodes())return;box.insertBefore(list,afterList);relTo.parentNode.insertBefore(box,relTo);});return box;}var user;var wgNamespaceNumber=mw.config.get('wgNamespaceNumber');var wgNamespaceIds=mw.config.get('wgNamespaceIds');var wgTitle=mw.config.get('wgTitle');if((wgNamespaceNumber&~1)===wgNamespaceIds.user){makeBox(wgTitle.replace(/\/.*$/,''));}else if(
(mw.config.get('wgCanonicalSpecialPageName')==='Contributions')||(mw.config.get('wgCanonicalSpecialPageName')==='DeletedContributions')){makeBox(wgTitle.indexOf('/')!==-1?wgTitle.replace(/^.*?\//,''):mw.util.getParamValue('target'));}else if(mw.config.get('wgCanonicalSpecialPageName')==='Log'){user=mw.util.getParamValue('user');if(/^[^\/]+\/(block|delete)$/.test(wgTitle))return;if(wgTitle.indexOf('/')!==-1)user=wgTitle.replace(/^.*\//,'');makeBox(user);}else if(mw.config.get('wgCanonicalSpecialPageName')==='Block'){var ipinput=document.getElementById('mw-bi-target');var relTo=ipinput.form.getElementsByTagName('legend')[0].nextSibling;var warnnode=null;var refresh=function(){if(relTo.rq)relTo.rq.abort();if(warnnode&&warnnode.parentNode){warnnode.parentNode.removeChild(warnnode);warnnode=null;}if(!ipinput.value)return;warnnode=makeBox(ipinput.value,relTo);};var tmout;ipinput.addEventListener('input',function(){clearTimeout(tmout);tmout=setTimeout(refresh,500);},false);ipinput.
addEventListener('change',function(){refresh();},false);refresh();return;}})();});mw.loader.implement("ext.gadget.CodeLinks@1i3l2",function($,jQuery,require,module){jQuery(function CodeLinksIIFE(){'use strict';var URLRegExp=/\b((?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/i;function processComment(node){var wikilinkMatch,templateMatch,URLMatch,textNode=node.firstChild;while((wikilinkMatch=/\[\[([^|{}\[\]\n]+)?(?:\|.*?)?]]/.exec(textNode.data))||(templateMatch=/(\{\{(?:#invoke:)?)([^|{}\[\]\n#]+)(?=\||}})/i.exec(textNode.data))||(URLMatch=URLRegExp.exec(textNode.data))){var link=document.createElement('a'),start=(wikilinkMatch||templateMatch||URLMatch).index,linkText;link.classList.add("code-link");if(URLMatch){var URL=URLMatch[0];link.href=URL;linkText=URL;}else{var fullPageName;if(wikilinkMatch){linkText=wikilinkMatch[0];fullPageName=wikilinkMatch[1];}else if(templateMatch){var prefix=templateMatch[1],pageName=templateMatch[
2];linkText=pageName;fullPageName=(prefix==='{{#invoke:'?'Module:':'Template:')+pageName;link.title=fullPageName;start+=prefix.length;}link.href=mw.util.getUrl(fullPageName);}var beforeLink=textNode.data.substring(0,start),afterLink=textNode.data.substring(start+linkText.length);textNode.data=afterLink;link.appendChild(document.createTextNode(linkText));node.insertBefore(link,textNode);node.insertBefore(document.createTextNode(beforeLink),link);wikilinkMatch=templateMatch=URLMatch=null;}}function each(coll,walk){return Array.prototype.forEach.call(coll,walk);}var commentClasses=['c','c1','cm'];each(document.getElementsByClassName('mw-highlight'),function(codeBlock){each(commentClasses,function(commentClass){each(codeBlock.getElementsByClassName(commentClass),processComment);});});var copyArray=Array.from?Array.from.bind(Array):function copyArray(array){return Array.prototype.slice.call(array);};var classes={identifier:"n",functionName:"nb",singleQuoteString:"s1",doubleQuoteString:"s2",
};var trackingTemplateElements=[],moduleNames=[],dataModuleNames=[];var functionNames=document.getElementsByClassName(classes.functionName);Array.prototype.forEach.call(functionNames,function(functionName){var text=functionName.firstChild.nodeValue;if(text!=="require")return;var next=functionName.nextElementSibling;var nextText=next&&next.firstChild&&next.firstChild.nodeValue;var hasParenthesis=nextText==="(";if(hasParenthesis){next=next.nextElementSibling;nextText=next&&next.firstChild&&next.firstChild.nodeValue;}var classList=next.classList;if(!(classList.contains(classes.singleQuoteString)||classList.contains(classes.doubleQuoteString)))return;var string=next;var stringValue=nextText;if(!stringValue)return;next=next.nextElementSibling;nextText=next&&next.firstChild&&next.firstChild.nodeValue;if(hasParenthesis&&nextText&&nextText[0]!==")")return;moduleNames.push(string);if(hasParenthesis?nextText===").":nextText==="."&&(/^["']mod(?:ule)?:(.+)["']$/i.exec(stringValue)||[])[1]===
"debug"){next=next.nextElementSibling;nextText=next&&next.firstChild&&next.firstChild.nodeValue;if(nextText!=="track")return;next=next.nextElementSibling;nextText=next&&next.firstChild&&next.firstChild.nodeValue;var trackWithParenthesis=!1;if(nextText==="("){next=next.nextElementSibling;trackWithParenthesis=!0;}classList=next.classList;if(!(classList.contains(classes.singleQuoteString)||classList.contains(classes.doubleQuoteString)))return;nextText=next&&next.firstChild&&next.firstChild.nodeValue;if(!nextText)return;if(trackWithParenthesis){var after=next.nextElementSibling;var afterText=after&&after.firstChild&&after.firstChild.nodeValue;if(afterText!==")")return;}trackingTemplateElements.push(next);}});var strings=copyArray(document.getElementsByClassName(classes.singleQuoteString)).concat(copyArray(document.getElementsByClassName(classes.doubleQuoteString)));Array.prototype.forEach.call(strings,function(string){if(moduleNames.indexOf(string)!==-1||trackingTemplateElements.
indexOf(string)!==-1)return;var stringValue=string.firstChild.nodeValue;if(!/^["'](?:module|mod):/i.test(stringValue))return;var prev=string.previousElementSibling;var prevText=prev&&prev.firstChild&&prev.firstChild.nodeValue;if(prevText==="("){var next=string.nextElementSibling;var nextText=next&&next.firstChild&&next.firstChild.nodeValue;if(!(nextText&&nextText[0]===")"))return;prev=prev.previousElementSibling;prevText=prev&&prev.firstChild&&prev.firstChild.nodeValue;}if(prevText!=="loadData")return;prev=prev.previousElementSibling;prevText=prev&&prev.firstChild&&prev.firstChild.nodeValue;if(prevText!==".")return;prev=prev.previousElementSibling;prevText=prev&&prev.firstChild&&prev.firstChild.nodeValue;if(prevText!=="mw")return;dataModuleNames.push(string);});if(moduleNames.length>0||trackingTemplateElements.length>0||dataModuleNames.length>0){mw.loader.using("mediawiki.util").done(function(){function addLink(element,page){if(!(element instanceof Element))throw new TypeError(
"Expected Element object");var link=document.createElement("a");link.href=mw.util.getUrl(page);var firstChild=element.firstChild;if(!(firstChild instanceof Text))throw new TypeError("Expected Text object");link.appendChild(firstChild);element.appendChild(link);}moduleNames.concat(dataModuleNames).forEach(function(module){var link=document.createElement("a");var stringValue=module.firstChild.nodeValue;var moduleName=stringValue.substring(1,stringValue.length-1);var linkPage=/^mod(?:ule)?:/i.test(moduleName)?moduleName:"mw:Extension:Scribunto/Lua reference manual#"+moduleName;addLink(module,linkPage);});trackingTemplateElements.forEach(function(trackingTemplate){var text=trackingTemplate.firstChild&&trackingTemplate.firstChild.nodeValue;if(!text)return;var trackingCode=text.substring(1,text.length-1);addLink(trackingTemplate,"Special:WhatLinksHere/Template:tracking/"+trackingCode);});});}});});mw.loader.implement("ext.gadget.DocTabs@s13qq",function($,jQuery,require,module){"use strict";var conf=mw.config.get(['wgPageName','wgUserLanguage','wgNamespaceNumber','wgNamespaceIds','wgTitle','wgCanonicalNamespace']);var tabs={};var titlesQueue=[];var msgQueue=(conf.wgUserLanguage!=='en')?{}:null;var msgs={'nstab-main':"Entry",'nstab-talk':"Discussion",'nstab-citations':"Citations",'nstab-template':"Template",'nstab-template_talk':"Discussion",'nstab-module':"Module",'nstab-module_talk':"Discussion",'nstab-documentation':"Documentation",'tooltip-ca-nstab-main':"View the content page",'tooltip-ca-nstab-module':"",'tooltip-ca-nstab-template':"View the template",'tooltip-ca-nstab-citations':"View the citations page",'tooltip-ca-nstab-documentation':"View the documentation",'tooltip-ca-talk':"Discussion about the content page"};var api=new mw.Api();if(conf.wgUserLanguage!=='en'){try{var msgsCache=JSON.parse(window.sessionStorage.getItem('DocTabs-messages-'+conf.wgUserLanguage));if(
msgsCache)msgs=msgsCache;else throw void('tantrum');}catch(e){api.get({action:'query',meta:'allmessages',amlang:conf.wgUserLanguage,ammessages:Object.keys(msgs).join('|')}).done(function(result){for(var i=0;i<result.query.allmessages.length;++i){var mesg=result.query.allmessages[i];if('missing'in mesg)continue;msgs[mesg.name]=mesg['*'];if(msgQueue&&msgQueue[mesg.name])msgQueue[mesg.name].elem[msgQueue[mesg.name].prop]=mesg['*'];}msgQueue=null;try{window.sessionStorage.setItem('DocTabs-messages-'+conf.wgUserLanguage,JSON.stringify(msgs));}catch(e){}});}}function makeThird(page1,page2,msgroot,msgtalk,msgmine){msgtalk=msgtalk||(msgroot+'_talk');var portlet=document.getElementById('p-namespaces')||document.getElementById('p-cactions');var ul=portlet.getElementsByTagName('ul')[0];var first=ul.firstElementChild;ul.removeChild(first.nextElementSibling);var pl1=tabs[page1]=mw.util.addPortletLink(portlet.id,mw.util.getUrl(page1),msgs['nstab-'+msgroot],'ca-nstab-'+msgroot,msgs[
'tooltip-ca-nstab-'+msgroot],'c',first);var pl2=tabs[page2]=mw.util.addPortletLink(portlet.id,mw.util.getUrl(page2),msgs['nstab-'+msgtalk],'ca-talk',msgs['tooltip-ca-talk'],'t',first);titlesQueue.push(page1,page2);var firstLink=first.getElementsByTagName('a')[0];if(msgmine){firstLink.textContent=msgs['nstab-'+msgmine];firstLink.title=msgs['tooltip-ca-nstab-'+msgmine];}firstLink.accessKey='3';if(!msgQueue)return;msgQueue['nstab-'+msgroot]={elem:pl1.getElementsByTagName('a')[0],prop:'textContent'};msgQueue['nstab-'+msgtalk]={elem:pl2.getElementsByTagName('a')[0],prop:'textContent'};msgQueue['tooltip-ca-nstab-'+msgroot]={elem:pl1.getElementsByTagName('a')[0],prop:'title'};msgQueue['tooltip-ca-talk']={elem:pl2.getElementsByTagName('a')[0],prop:'title'};}function addThird(page,msgroot){var portlet=document.getElementById('p-namespaces')?'p-namespaces':'p-cactions';var pl=tabs[page]=mw.util.addPortletLink(portlet,mw.util.getUrl(page),msgs['nstab-'+msgroot],'ca-nstab-'+msgroot,msgs[
'tooltip-ca-nstab-'+msgroot],'3',portlet==='p-cactions'?(document.getElementById('ca-edit')||document.getElementById('ca-viewsource')):null);pl.isThird=!0;titlesQueue.push(page);if(!msgQueue)return;msgQueue['nstab-'+msgroot]={elem:pl.getElementsByTagName('a')[0],prop:'textContent'};msgQueue['tooltip-ca-nstab-'+msgroot]={elem:pl.getElementsByTagName('a')[0],prop:'title'};}jQuery(document).ready(function(){if(conf.wgNamespaceNumber===conf.wgNamespaceIds.citations){makeThird(conf.wgTitle,'Talk:'+conf.wgTitle,'main','talk');}else if((conf.wgNamespaceNumber===0)||(conf.wgNamespaceNumber===conf.wgNamespaceIds.talk)){addThird('Citations:'+conf.wgTitle,'citations');}else if((conf.wgNamespaceNumber===conf.wgNamespaceIds.module)||(conf.wgNamespaceNumber===conf.wgNamespaceIds.template)||(conf.wgNamespaceNumber===conf.wgNamespaceIds.module_talk)||(conf.wgNamespaceNumber===conf.wgNamespaceIds.template_talk)){if(/\/documentation$/.test(conf.wgPageName)){if(!(conf.wgNamespaceNumber&1)){var basename
=conf.wgTitle.replace(/\/documentation$/,'');makeThird(conf.wgCanonicalNamespace+':'+basename,conf.wgCanonicalNamespace+' talk:'+basename,(conf.wgNamespaceNumber&~1)==conf.wgNamespaceIds.module?'module':'template',null,'documentation');}else return;}else{addThird(conf.wgCanonicalNamespace.replace(/[_ ]talk$/,'')+':'+conf.wgTitle+'/documentation','documentation');}}else return;if(titlesQueue.length){api.get({action:'query',titles:titlesQueue.join('|')}).done(function(result){if(!result.query){return;}for(var pageid in result.query.pages){var page=result.query.pages[pageid];if(parseInt(pageid,10)<0){var link=tabs[page.title].getElementsByTagName('a')[0];var query={action:'edit',redlink:'1'};if(tabs[page.title].isThird&&(conf.wgNamespaceNumber!==0&&conf.wgNamespaceNumber!==1)){if(conf.wgNamespaceNumber===conf.wgNamespaceIds.module)if(/\/testcases$/.test(conf.wgTitle))query.preload='Template:documentation/preloadModuleTestcases';else query.preload='Template:documentation/preloadModule';
else query.preload='Template:documentation/preloadTemplate';}link.href=mw.util.getUrl(page.title,query);jQuery(tabs[page.title]).addClass('new');}}});}});},{"css":["body.skin-monobook li#ca-talk{margin-right:0.3em}body.skin-monobook li#ca-edit{margin-left:1.6em}"]});mw.loader.implement("ext.gadget.Editor@16yxe",function($,jQuery,require,module){window.PageEditor=function(title){this.CheckOutForEdit=function(){return new mw.Api().get({action:'query',prop:'revisions',rvprop:['content','timestamp'],titles:String(title),formatversion:'2',curtimestamp:!0}).then(function(data){var page,revision;if(!data.query||!data.query.pages){return $.Deferred().reject('unknown');}page=data.query.pages[0];if(!page||page.missing){return $.Deferred().reject('nocreate-missing');}revision=page.revisions[0];this.basetimestamp=revision.timestamp;this.curtimestamp=data.curtimestamp;return revision.content;});}
this.Save=function(newWikitext,params){var editParams=typeof params==='object'?params:{text:String(params)};return new mw.Api().postWithEditToken($.extend({action:'edit',title:title,formatversion:'2',text:newWikitext,assert:mw.user.isAnon()?undefined:'user',basetimestamp:this.basetimestamp,starttimestamp:this.curtimestamp,nocreate:!0},editParams));}}
window.Editor=function(){if(arguments.callee.instance)return arguments.callee.instance;else arguments.callee.instance=this;this.page=new PageEditor(mw.config.get('wgPageName'));this.withCurrentText=function(callback){if(callbacks.length==0){callbacks=[callback];for(var i=0;i<callbacks.length;i++){callbacks[i](currentText);}return callbacks=[];}if(callbacks.length>0){return callbacks.push(callback);}callbacks=[callback];thiz.page.CheckOutForEdit().then(function(wikitext){if(wikitext===null)return thiz.error("Could not connect to server");currentText=originalText=wikitext;for(var i=0;i<callbacks.length;i++){callbacks[i](currentText);}callbacks=[];});}
function performSequentially(f){return(function(){var the_arguments=arguments;thiz.withCurrentText(function(){f.apply(thiz,the_arguments);});});}function addEdit(edit,node,fromRedo){withPresenceShowing(false,function(){if(node){nodestack.push(node);node.style.cssText="border: 2px #00FF00 dashed;"}if(!fromRedo)redostack=[];var ntext=!1;try{ntext=edit.edit(currentText);if(ntext&&ntext!=currentText){edit.redo();currentText=ntext;}else return false;}catch(e){thiz.error("ERROR:"+e);}editstack.push(edit);});}this.addEdit=performSequentially(addEdit);this.error=function(message){if(!errorlog){errorlog=$('<ul>').css("background-color","#FFDDDD").css("margin","0px -10px -10px -10px").css("padding","10px")[0];withPresenceShowing(true,function(presence){presence.appendChild(errorlog);});}errorlog.appendChild($('<li>').text(message)[0]);}
var thiz=this;var editstack=[];var redostack=[];var nodestack=[];var callbacks={};var originalText="";var currentText="";var errorlog;var $savelog;function undo(){if(editstack.length==0)return false;var edit=editstack.pop();redostack.push(edit);edit.undo();var text=originalText;for(var i=0;i<editstack.length;i++){var ntext=!1;try{ntext=editstack[i].edit(text);}catch(e){thiz.error("ERROR:"+e);}if(ntext&&ntext!=text){text=ntext;}else{editstack[i].undo();editstack=editstack.splice(0,i);break;}}currentText=text;return true;}this.undo=performSequentially(undo);function redo(){if(redostack.length==0)return;var edit=redostack.pop();addEdit(edit,null,true);}this.redo=performSequentially(redo);function withPresenceShowing(broken,callback){if(arguments.callee.presence){arguments.callee.presence.style.display="block";return callback(arguments.callee.presence);}var presence=$('<div>').css("position","fixed").css("top","0px").css("left","0px").css("background-color","#00FF00").css("z-index","10"
).css("padding","30px")[0];window.setTimeout(function(){presence.style.backgroundColor="#CCCCFF";presence.style.padding="10px";},400);presence.appendChild($('<div>').css("position","relative").css("top","0px").css("left","0px").css("margin","-10px").css("color","#0000FF").css("cursor","pointer").on("click",performSequentially(close)).text("X")[0]);document.body.insertBefore(presence,document.body.firstChild);var contents=$('<p>').css('text-align','center').append($('<b>Page Editing</b></br>'));if(!broken){contents.append($('<button>').text("Save Changes").attr('title','Save your changes [s]').attr('accesskey','s').on("click",save));contents.append($('<br>'));contents.append($('<button>').text("Undo").attr('title','Undo last change [z]').attr('accesskey','z').on("click",thiz.undo));contents.append($('<button>').text("Redo").on('click',thiz.redo));mw.loader.using('mediawiki.util').then(function(){contents.children().updateTooltipAccessKeys();});}presence.appendChild(contents[0]);
arguments.callee.presence=presence;callback(presence);}function close(){while(undo());withPresenceShowing(true,function(presence){presence.style.display="none";if(errorlog){errorlog.parentNode.removeChild(errorlog);errorlog=!1;}});}function save(){thiz.withCurrentText(function(){if(editstack.length==0)return;var cleanup_callbacks=callbacks;callbacks=[];var sum={};for(var i=0;i<editstack.length;i++){sum[editstack[i].summary]=!0;if(editstack[i].after_save)cleanup_callbacks.push(editstack[i].after_save);}var summary="";for(var name in sum){summary+=name+" ";}editstack=[];redostack=[];var saveLi=$('<li>Saving:'+summary+'...</li>');withPresenceShowing(false,function(presence){if(!$savelog){$savelog=$('<ul>').css("background-color","#DDFFDD").css("margin","0px -10px -10px -10px").css("padding","10px");$(presence).append($savelog);}$savelog.append(saveLi);if(originalText==currentText)return thiz.error("No changes were made to the page.");else if(!currentText)return thiz.error(
"ERROR: page has become blank.");});originalText=currentText;var nst=[]
var node;while(node=nodestack.pop()){nst.push(node);}thiz.page.Save(currentText,{summary:summary+"([[WT:EDIT|Assisted]])",notminor:!0}).then(function(res){if(res==null)return thiz.error("An error occurred while saving.");try{saveLi.append($('<span>').append($("<b>Saved</b>")).append($('<a>').attr("href",mw.config.get('wgScript')+'?title='+encodeURIComponent(mw.config.get('wgPageName'))+'&diff='+encodeURIComponent(res.edit.newrevid)+'&oldid='+encodeURIComponent(res.edit.oldrevid)).text("(Show changes)")));}catch(e){if(res.error){thiz.error("Not saved: "+String(res.error.info));}else{thiz.error($('<p>').text(String(e))[0]);}}for(var i=0;i<nst.length;i++)nst[i].style.cssText="background-color: #0F0;border: 2px #0F0 solid;";window.setTimeout(function(){var node;while(node=nst.pop())node.style.cssText="";},400);for(var i=0;i<cleanup_callbacks.length;i++)thiz.withCurrentText(cleanup_callbacks[i]);});});}}
window.AdderWrapper=function(editor,adder,insertNode,insertSibling){var form=adder.createForm()
var status=$('<span>')[0];form.appendChild(status);if(insertSibling)insertNode.insertBefore(form,insertSibling);else insertNode.appendChild(form);adder.elements={};for(var i=0;i<form.elements.length;i++){adder.elements[form.elements[i].name]=form.elements[i];}form.onsubmit=function(){try{var submit=!0;var values={}
status.innerHTML="";for(var name in adder.fields){if(adder.fields[name]=='checkbox'){values[name]=adder.elements[name].checked?name:!1;}else{adder.elements[name].style.border='';values[name]=adder.fields[name](adder.elements[name].value||'',function(msg){status.appendChild($('<span>').css("color","red").append($('<img>').attr('src','http://upload.wikimedia.org/wikipedia/commons/4/4e/MW-Icon-AlertMark.png')).append(msg).append($('<br>'))[0]);adder.elements[name].style.border="solid #CC0000 2px";return false});if(values[name]===false)submit=!1;}}if(!submit)return false;var loading=$('<span>Loading...</span>')[0];status.appendChild(loading);adder.onsubmit(values,function(text,callback){new mw.Api().parse(text,{title:mw.config.get('wgPageName'),pst:!0,disablelimitreport:!0}).then(function(r){var cleanedHtml=$.parseHTML(r)[0].children[0].innerHTML;callback(cleanedHtml);status.removeChild(loading);}).fail(function(r){if(r)console.log("ERROR IN Editor.js:"+r);loading.appendChild($(
'<p>Could not connect to the server</p>').css("color","red")[0]);});});}catch(e){status.innerHTML="ERROR:"+e.description;return false;}return false;}};});mw.loader.implement("ext.gadget.Edittools@1xc1l",function($,jQuery,require,module){(function charInsertIIFE(){function CharInsertCookie(key){this.key=key;}CharInsertCookie.prototype={get:function(){return parseInt(mw.cookie.get(this.key),10)||0;},set:function(value){if(typeof value==='number')value=value.toString(10);if(!(typeof value==='string'&&!isNaN(parseInt(value,10))))throw new TypeError("Expected string or number");return mw.cookie.set(this.key,value);},};var charInsertCookie=new CharInsertCookie('edittoolscharsubset');function applyCharinserts(){var textbox=$('#wpTextbox1');textbox.encapsulate=function(left,right){return this.textSelection('encapsulateSelection',{pre:left.replace(/^ */,'').replace(/\u0640(.)/g,'$1'),peri:'',post:right});};function clickFunction(){textbox.encapsulate.apply(textbox,this.insertArgs);return false;}function getInsertArg(string,start,end){string=string.substring(start,end);return string!==''?string.replace(/\x22/g,'&quot;').replace(/\x27/g,"\\'").
replace(/\x26nbsp;/g,' '):string;}function makeInsertArgs(string){var index=string.indexOf('+');if(index===-1)index=string.length;var left=getInsertArg(string,0,index);var right=getInsertArg(string,index+1);return[left,right];}function makeCharInserter(string){var charInserter=document.createElement('a');charInserter.onclick=clickFunction;charInserter.href='#';charInserter.classList.add("charinserter");var insertArgs=makeInsertArgs(string);charInserter.insertArgs=insertArgs;charInserter.appendChild(document.createTextNode(insertArgs.join('')));return charInserter;}function charInsertify(parent){if(parent.charInsertified)return;parent.charInsertified=!0;for(var childNode=parent.firstChild;childNode!==null;childNode=childNode.nextSibling){if(childNode.nodeType===1){charInsertify(childNode);}else if(childNode.nodeType===3){var strings=childNode.nodeValue.replace(/\xA0/g,'\x26nbsp;').split(/\s/g);var addedNew=!1;for(var i=0;i<strings.length;++i){if(strings[i]!==''){if(i>0)parent.
insertBefore(document.createTextNode(' '),childNode);parent.insertBefore(makeCharInserter(strings[i]),childNode);addedNew=!0;}}if(addedNew)parent.removeChild(childNode);}}}var charInsertSpans=document.querySelectorAll('#editpage-specialchars .charinsert');Array.prototype.forEach.call(charInsertSpans,charInsertify);}function addCharSubsetMenu(){var edittools=$('#editpage-specialchars');if(edittools.length===0)return;var menu=$('<select>').attr("id",'charSubsetControl').css("display","inline").on("change",function(){chooseCharSubset($(this).val());});var sections=edittools.find('p');if(sections.length===0)return;sections.each(function(index){$('<option>').text(decodeURIComponent(($(this).attr("id")||'').replace(/^edittools-/,'').replace(/\.([0-9A-F][0-9A-F])/g,'%$1').replace(/_/g,'%20'))).val(index).appendTo(menu);});var sectionIndex=charInsertCookie.get();menu.val(sectionIndex);chooseCharSubset(sectionIndex);edittools.prepend(menu);}function chooseCharSubset(sectionIndex){var sections
=$('#editpage-specialchars').find('p');for(var i=0;i<sections.length;i++){var style=sections[i].style;style.display=i==sectionIndex?'inline':'none';}charInsertCookie.set(sectionIndex);}$(function(){var action=mw.config.get('wgAction');if(window.testNewEditJs||!(action==='edit'||action==='submit'||$('#editpage-specialchars').length>0))return;if(!window.doNotUseDefaultEditTools)addCharSubsetMenu();applyCharinserts();});})();});mw.loader.implement("ext.gadget.JavascriptHeadings@v9m24",function($,jQuery,require,module){$(function(){if(['view','submit'].indexOf(mw.config.get('wgAction'))==-1)return;if(['css','javascript'].indexOf(mw.config.get('wgPageContentModel'))==-1)return;$("#bodyContent pre span").filter(".c1,.cm,.c").each(function(i,elem){var twoSlashes=$(elem).text().match(/^\s*\/\/\s*(==+)\s*(.+?)\s*(==+)\s*$/)
var slashAsterisk=$(elem).text().match(/^\s*\/\*\s*(==+)\s*(.+?)\s*(==+)\s*\*\/\s*$/);var txt=(twoSlashes&&twoSlashes[2])||(slashAsterisk&&slashAsterisk[2]);if(txt&&(!elem.previousSibling||/\s*\n+\s*/.test(elem.previousSibling.textContent))){var tagLevel=((twoSlashes&&twoSlashes[1])||(slashAsterisk&&slashAsterisk[1])).length;var tagName="<h"+tagLevel+">";$(tagName).addClass("mw-headline").css("margin-top","0").text(txt).replaceAll(elem);}});});});mw.loader.implement("ext.gadget.LanguageUtils@1gl2n",function($,jQuery,require,module){window.LanguageUtilsAsync=function(){this.langNameToLangCode=new mw.Api().get({"action":"expandtemplates","format":"json","text":"{{#invoke:languages/javascript-interface|AllCanonicalToCode}}","prop":"wikitext"}).then(function(response){return JSON.parse(response.expandtemplates.wikitext);});this.langCodeToLangName=this.langNameToLangCode.then(function(name2code){var code2name={};for(var name in name2code){code2name[name2code[name]]=name;}return code2name;});this.GetWiktionaryCodeByCanonicalName=function(canonicalName){return this.langNameToLangCode.then(function(r){return r[canonicalName];});};this.GetCanonicalNameByWiktionaryCode=function(langcode){return this.langCodeToLangName.then(function(r){return r[langcode];});};};window.LanguageUtils=function(){this.automaticTranslitLanguages=function(){return new mw.Api().get({"action":"expandtemplates","format":"json","text":
"{{#invoke:languages/javascript-interface|GetLanguagesWithAutomaticTransliteration}}","prop":"wikitext"}).then(function(response){return JSON.parse(response.expandtemplates.wikitext);});};this.wiktionaryCodeToWikimediaCode=function(){return new mw.Api().get({"action":"expandtemplates","format":"json","text":"{{#invoke:languages/javascript-interface|AllWiktionaryCodeToWikimediaCode}}","prop":"wikitext"}).then(function(response){return JSON.parse(response.expandtemplates.wikitext);});};this.automaticTranslitCacheableStorage=new CacheableStorage("LanguageUtils-AutomaticTransliteration",this.automaticTranslitLanguages,7,1);this.wikimediaCodesCacheableStorage=new CacheableStorage("LanguageUtils-WikimediaCodes",this.wiktionaryCodeToWikimediaCode,7,1);this.HasAutomaticTransliteration=function(langcode){var langs=this.automaticTranslitCacheableStorage.GetItem();if(langs){return langs[langcode]||!1;}return false;};this.GetWikimediaCodeByWiktionaryCode=function(langcode){var wikimediaCodes=
this.wikimediaCodesCacheableStorage.GetItem();if(wikimediaCodes&&wikimediaCodes[langcode]){return wikimediaCodes[langcode][0];}return null;};};window.ScriptUtils=function(){this.getAllDataPromise=function(){return new mw.Api().get({"action":"expandtemplates","format":"json","text":"{{#invoke:languages/javascript-interface|AllLangcodeToScripts}}","prop":"wikitext"}).then(function(r){return JSON.parse(r.expandtemplates.wikitext);});};this.cacheableStorage=new CacheableStorage("ScriptUtils",this.getAllDataPromise,7,1);this.GetScriptsByLangCode=function(langcode){var allData=this.cacheableStorage.GetItem();if(allData){return allData[langcode];}return[];};};});mw.loader.implement("ext.gadget.LegacyScripts@wk32f",function($,jQuery,require,module){var importScriptFromWikibits=window.importScript;window.importScript=function(page,wiki,oldid){if(!wiki&&!oldid)return importScriptFromWikibits(page);mw.log.warn("importScript called with more than one argument. This is deprecated and may be unreliable. Please use mw.loader.load directly");var url=(wiki?encodeURIComponent(wiki):mw.config.get('wgScript'))+'?title='+mw.util.wikiUrlencode(page)+(oldid?'&oldid='+encodeURIComponent(oldid):'')+'&action=raw&ctype=text/javascript';return importScriptURI(url);};window.setCookie=function setCookie(cookieName,cookieValue){mw.log.warn("deprecated function setCookie called; use jQuery.cookie instead");var today=new Date();var expire=new Date();var nDays=30;expire.setTime(today.getTime()+(3600000*24*nDays));document.cookie=cookieName+"="+escape(cookieValue)+";path=/"+";expires="+expire.toGMTString();};window.getCookie=function getCookie(cookieName){mw.log.warn(
"deprecated function getCookie called; use jQuery.cookie instead");cookieName=String(cookieName);var start=document.cookie.indexOf(cookieName+"=");if(start===-1)return"";var len=start+cookieName.length+1;if((!start)&&(cookieName!==document.cookie.substring(0,cookieName.length)))return"";var end=document.cookie.indexOf(";",len);if(end===-1)end=document.cookie.length;return unescape(document.cookie.substring(len,end));};if(mw.config.get('wgUserGroups')&&mw.config.get('wgUserGroups').indexOf("autoconfirmed")==-1){mw.util.addCSS(".visible-to-anons { display: inline; }");}if(new ObjectStorage("WT:PREFS").Get()!==null||mw.config.get('wgPageName')==="Wiktionary:Per-browser_preferences"){importScript('User:Hippietrail/custom.js');}jQuery(document).ready(function(){if(document.getElementById('necblah')){importScript('User:Yair rand/newentrywiz.js');}});if(mw.cookie.get("YRNewStuff")||location.search.indexOf("tabbedlanguages=on")!=-1){importScript("User:Yair rand/editor2.js");importScript(
"User:Yair rand/TabbedLanguages2.js");}$(function(){if(document.getElementById('YRNewStuff-enable-button')){document.getElementById('YRNewStuff-enable-button').innerHTML="";var toggle=$('<span>').on("click",function(){if(mw.cookie.get("YRNewStuff")){mw.cookie.set("YRNewStuff",null);toggle.html("Enable tabbed languages and definition editing options.");}else{mw.cookie.set("YRNewStuff",1);toggle.html("Disable tabbed languages and definition editing options.");}}).text((mw.cookie.get("YRNewStuff")?"Disable":"Enable")+" tabbed languages and definition editing options.");$('#YRNewStuff-enable-button').append(toggle);}});});mw.loader.implement("ext.gadget.LegacyScriptsNewNode@wdv1f",function($,jQuery,require,module){var newNode=window.newNode=function newNode(tagname){var node=document.createElement(tagname);for(var i=1;i<arguments.length;i++){var argument=arguments[i];if(typeof argument=='string'){node.appendChild(document.createTextNode(argument));}else if(typeof argument=='object'){if(argument instanceof Node){node.appendChild(argument);}else{for(var j in argument){if(j==='class'){node.className=argument[j];}else if(j=='style'){node.style.cssText=argument[j];}else if(typeof argument[j]=='function'){node.addEventListener(j,argument[j],false);}else{node.setAttribute(j,argument[j]);}}}}}return node;};});mw.loader.implement("ext.gadget.RevdelInfo@1c1p7",function($,jQuery,require,module){(function(){var api=new mw.Api();function el(tag,child,attr,events){var node=document.createElement(tag);if(child){if(typeof child!=='object')child=[child];for(var i=0;i<child.length;++i){var ch=child[i];if((ch===void(null))||(ch===null))continue;else if(typeof ch!=='object')ch=document.createTextNode(String(ch));node.appendChild(ch);}}if(attr)for(var key in attr){node.setAttribute(key,String(attr[key]));}if(events)for(var key in events){node.addEventListener(key,events[key],false);}return node;}function fmtDate(date){date=new Date(date);switch(mw.user.options.get('date')){case'dmy':return date.toLocaleTimeString()+', '+date.getDate()+' '+mw.language.months.genitive[date.getMonth()]+' '+date.getFullYear();case'mdy':return date.toLocaleTimeString()+', '+mw.language.months.genitive[date.getMonth()]+' '+date.getFullYear()+', '+date.getDate();case'ymd':return date.toLocaleTimeString()+', '+date.getFullYear(
)+' '+mw.language.months.genitive[date.getMonth()]+' '+date.getDate();case'default':return date.toLocaleString();case'ISO 8601':return date.toISOString();}}function makeBox(rev1,rev2){var query={'action':'query','list':'logevents','leaction':'delete/revision','letitle':mw.config.get('wgPageName'),'continue':''};var list,node=el('div',[el('p','Details from the deletion log:'),list=el('ul')],{'class':'mw-warning-with-logexcerpt','style':'display: none;'});function processResult(result){var events=result.query.logevents;for(var i=0;i<events.length;++i){if((events[i][1]===rev1)||(events[i][1]===rev2)){var item=events[i];list.appendChild(el('li',[fmtDate(item.timestamp),": ",el('a',item.user,{href:mw.util.getUrl('User:'+item.user)})," changed visibility of ",el('a',["revision ",item[1]],{href:mw.util.getUrl(mw.config.get('wgPageName'),{oldid:item[1],unhide:'1'})}),item.comment&&" (",item.comment,item.comment&&")"]));node.style.display='';}}if(result['continue']){for(var key in result[
'continue'])query[key]=result['continue'][key];api.get(query).then(processResult);}}api.get(query).then(processResult);return node;}if(mw.config.get('wgAction')!=='view')return;if(!(mw.util.getParamValue('diff')||mw.util.getParamValue('oldid')))return;if(document.getElementById('mw-rev-deleted-no-diff')||document.getElementById('mw-rev-deleted-unhide-diff')){var rev1,rev2;var ot=document.getElementById('mw-diff-otitle1');var nt=document.getElementById('mw-diff-ntitle1');if(ot){ot=new mw.Uri(ot.getElementsByTagName('a')[0].href);rev1=ot.query.oldid;}if(nt){nt=new mw.Uri(nt.getElementsByTagName('a')[0].href);rev2=nt.query.oldid;}document.getElementById('mw-content-text').appendChild(makeBox(rev1,rev2));}else if(document.getElementById('mw-content-text').firstChild.classList.contains('mw-warning')){var rev=mw.util.getParamValue('oldid');document.getElementById('mw-content-text').appendChild(makeBox(rev,null));}})();});mw.loader.implement("ext.gadget.RhymesAdder@1woto",function($,jQuery,require,module){var numberOfRhymesAdded=0;function parseTemplate(templateText){var parameters=new Object(null),parameterRegex=/\|(?:([^=|}]+)=([^|}]+)|([^|}]+))/g,template=new Object(null);template.parameters=parameters;var match,index=1,name=templateText.match(/^{{([^|}]+)/);if(name===null)throw new Error("Invalid template: no name.");template.name=name[1];while((match=parameterRegex.exec(templateText))!==null){if(match[1]){parameters[match[1]]=match[2];}else{parameters[index++]=match[3];}}return template;}function hasRhymeTemplate(wikitext,languageCode,rhyme){var match,rhymeTemplate=/{{[Rr]hymes?\|.+?}}/g;while((match=rhymeTemplate.exec(wikitext))!==null){var template=parseTemplate(match[0]);var templateLanguageCode=template.parameters.lang||template.parameters[1];if(templateLanguageCode==languageCode){for(var i=template.parameters.lang?1:2;template.parameters[i];++i){if(template.parameters[i].trim()===rhyme)return true
;}}}return false;}function setUpRhymeAdderFor(h3,ii){var findNumberOfHeaders=parseInt(new mw.Uri(h3.find("a").get(0).href).query.section);var addNewRhymeForm;editor=new Editor();new AdderWrapper(editor,{'createForm':function(){return addNewRhymeForm=$('<form>').append($('<label>+Add new rhyme: </label>').append($('<input>').attr("name",'rhyme'))).append($('<input>').attr('type','submit').val('Add'))[0];},'fields':{'rhyme':function(txt,error){return txt||error('Please specify a rhyme.');}},'onsubmit':function(values,render){var langname=mw.config.get("wgTitle").split('/')[0];var lutils=new LanguageUtilsAsync();lutils.GetWiktionaryCodeByCanonicalName(langname).then(function(langcode){$(addNewRhymeForm).find('input')[0].value="";var newItem='{{l|'+langcode+'|'+values.rhyme+'}}';render(newItem,function(newhtml){var addedRhymeNode=$("<li>").html(newhtml),collator=window.Intl&&new Intl.Collator(langcode,{"case":!1}),sortFunction=collator?collator.compare:function compare(a,b){return a.
toUpperCase()<b.toUpperCase()?-1:1;};editor.addEdit({'edit':function(wikitext){var wikixml=WikiXml.parseWikitext(wikitext);var hdr=$(wikixml.find("section").get(findNumberOfHeaders-1));var headerData=$.trim(hdr.find("data").get(0).textContent);var rhymes=headerData.split(/\r?\n/),lead="\n"+(/^<!--.+-->$/.test(rhymes[0])?rhymes.shift()+"\n":"");rhymes.push("* "+newItem);var canRearrange=!0;var terms=rhymes.map(function(line){var m;m=line.match(/^\* ?{{l\|[a-zA-Z]{2,3}\|(.+)}}$/);if(m&&m[1])return m[1];m=line.match(/^\* ?\[\[(.+)]\]$/);if(m&&m[1])return m[1];canRearrange=!1;return null;});if(canRearrange){terms.sort(sortFunction);terms=terms.map(function(el){return"* {{l|"+langcode+"|"+el+"}}";});$(hdr.find("data").get(0)).text(lead+terms.join("\n")+"\n\n");}else{$(hdr.find("data").get(0)).text(lead+rhymes.join("\n")+"\n\n");}return WikiXml.toWikitext(wikixml);;},'redo':function(){ii.append(addedRhymeNode);ii.find("li").sort(function(a,b){return sortFunction($(a).text(),$(b).text())
;}).appendTo(ii);},'undo':function(){addedRhymeNode.remove();},'summary':"+rhyme [["+values.rhyme+"]]",'after_save':function(){numberOfRhymesAdded++;document.body.style.cursor='wait';new mw.Api().edit(values.rhyme,function(text){text=text.content;var rhymehome=mw.config.get("wgTitle").split("/")[1];if(hasRhymeTemplate(text,langcode,rhymehome)){document.body.style.cursor=--numberOfRhymesAdded?'wait':'';return $.Deferred().reject('rhyme already on page');}if(text.match('=='+langname+'==')&&!text.match("\\{\\{rhymes(\\|lang="+langcode+"\\|"+mw.util.escapeRegExp(rhymehome)+"|\\|"+mw.util.escapeRegExp(rhymehome)+"\\|lang="+langcode+"|\\|"+mw.util.escapeRegExp(rhymehome)+")\\}\\}")){if(!String(text.match("=="+langname+"==[\\s\\S]*?(----|$)")).match("=Pronunciation=")){text=text.replace(RegExp("(=="+langname+"==[\\s\\S]*?(?=\n=+(?=[^=])(?!(Etymology=|Alternative))))"),"$1\n===Pronunciation===\n");}text=text.replace(RegExp('(=='+langname+'==[\\s\\S]*?=+Pronunciation=+[\\s\\S]*?\n(?![\:\*]))'),
'$1* {{rhymes|'+langcode+"|"+rhymehome+'}}\n');}if(text)return{text:text,summary:"+rhyme [["+mw.config.get("wgPageName")+"|"+"-"+rhymehome+"]]"};else{document.body.style.cursor=--numberOfRhymesAdded?'wait':'';return $.Deferred().reject('problem text is false');}}).then(function(){document.body.style.cursor=--numberOfRhymesAdded?'wait':'';});}},addedRhymeNode[0]);});});}},h3.parent()[0],ii.next()[0]);}function setUpRhymeAdder(){$('h3').each(function(){var h3=$(this);if(h3.text().indexOf("syllable")!=-1){var ii=h3.next()[0];while(ii&&(!ii.nodeName||!(ii.nodeName=="UL"||ii.nodeName=="DIV"||ii.nodeName=="H3"))){ii=ii.nextSibling;}if(!ii||!ii.nodeName){h3.parent().append(ii=$('<ul>').append($('<li>').css("display","none")));}if(ii.nodeName=="H3"){$(ii).before(ii=$('<ul>').append($('<li>').css("display","none")));}try{setUpRhymeAdderFor(h3,$(ii));}catch(e){console.log(e);}}});}if(mw.config.get('wgNamespaceNumber')===106&&mw.config.get("wgAction")=="view")$.getScript(
"//en.wiktionary.org/w/index.php?title=User:Dixtosa/XMLize.js&action=raw",function(){$(setUpRhymeAdder);});});mw.loader.implement("ext.gadget.SpecialSearch@1xd5s",function($,jQuery,require,module){if((mw.config.get("wgNamespaceNumber")==-1)&&(mw.config.get("wgCanonicalSpecialPageName")=="Search")){var searchEngines={mediawiki:{ShortName:"MediaWiki search",Template:mw.config.get("wgScript")+"?search={searchTerms}"},google:{ShortName:"Google",Template:"https://www.google.com/search?hl="+mw.config.get("wgUserLanguage")+"&q={searchTerms}&as_sitesearch="+mw.config.get("wgServer").replace(/^.*?\/\//,'')},wikiwix:{ShortName:"Wikiwix",Template:"http://www.wikiwix.com/index.php?action={searchTerms}&disp=dict"},live:{ShortName:"Bing",Template:"https://search.live.com/results.aspx?q={searchTerms}&q1=site:"+mw.config.get("wgServer").replace(/^.*?\/\//,'')},yahoo:{ShortName:"Yahoo",Template:"https://search.yahoo.com/search?p={searchTerms}&vs="+mw.config.get("wgServer").replace(/^.*?\/\//,'')}};$(externalSearchEngines);}function externalSearchEngines(){var mwSearchTopTable=$('#mw-search-top-table');if(
mwSearchTopTable.length===0)return;var firstEngine="mediawiki";var space=null;var choices=$('<div>').attr("id","searchengineChoices").css("clear","left").css("padding-top","0.3em");for(var id in searchEngines){var engine=searchEngines[id];if(engine.ShortName){if(space)choices.append(space);space=$("<span>&nbsp;</span>");$('<span>').append($('<input />').attr("type","radio").attr("name","searchengineselect").val(id).data("engine-name",id).on("focus",changeSearchEngine).attr("id","searchengineRadio-"+id)).append($('<label>').attr("for","searchengineRadio-"+id).text(engine.ShortName)).appendTo(choices);}}$('<input type="hidden" />').attr("id","searchengineextraparam").appendTo(choices);$(choices).insertAfter(mwSearchTopTable);$("#searchengineRadio-"+firstEngine).trigger("focus");}function changeSearchEngine(){var radio=$(this).prop("checked",true);var selectedEngineName=radio.data("engine-name");if(selectedEngineName==$("#searchengineChoices").data("currentChoice"))return;$(
"#searchengineChoices").data("currentChoice",selectedEngineName);var engine=searchEngines[selectedEngineName];var p=engine.Template.indexOf('?');var params=engine.Template.substr(p+1);var form;if(document.forms["search"]){form=document.forms["search"];}else{form=document.getElementById("powersearch");}form.setAttribute("action",engine.Template.substr(0,p));var l=(""+params).split("&");for(var i in l){var pName=l[i].split("=")[0];var pValue=l[i].split("=")[1];if(pValue=="{language}"){}else if(pValue=="{searchTerms}"){var input;if(document.forms["search"]){input=document.getElementById("searchText");}else{input=document.getElementById("powerSearchText");}if(input.tagName.toUpperCase()!="INPUT"){input=input.getElementsByTagName("input")[0];}input.name=pName;}else{$("#searchengineextraparam").attr("name",pName).val(pValue);}}}function addNogoPreloadMenu(){var preloadGuide=document.getElementById('preloadGuide');if(preloadGuide){preloadGuide.style.display='inline-block';var menu=
"<select style=\"float: left; display: inline-block; margin: 0 0 0.4em 0.5em;\" onChange=\"showPreloads(selectedIndex)\">";menu+="<option>English</option>";menu+="<option>American Sign Language</option>";menu+="<option>Spanish</option>";menu+="<option>Swedish</option>";menu+="</select>";var menuDiv=document.getElementById('entryTemplateMenu');menuDiv.innerHTML=menu;showPreloads(0);}}$(addNogoPreloadMenu);function showPreloads(selectedIndex){var languageOptions=document.getElementById('preloadGuide').getElementsByTagName('table');for(var i=0;i<languageOptions.length;i++){if(languageOptions[i].className=="language"){languageOptions[i].style.display=i==selectedIndex?'block':'none';}}}});mw.loader.implement("ext.gadget.StorageUtils@1gr4g",function($,jQuery,require,module){var StorageWrapper=window.StorageWrapper=function(){this.localStorageAvailable=mw.storage.get("localStorageTest")!==!1;this.storageAvailable=this.localStorageAvailable||navigator.cookieEnabled;this.cookiePreferences={expires:30,path:'/'};this.set=function(name,value){if(this.localStorageAvailable){localStorage[name]=value;}else{$.cookie(name,value,{});}};this.get=function(name){if(this.localStorageAvailable){return localStorage[name];}else{return $.cookie(name);}};};window.CacheableStorage=function(productName,getProductCallback,expireInDays,version){this.storageWrapper=new StorageWrapper();this.StorageAvailable=this.storageWrapper.storageAvailable;this.expireInDays=expireInDays;this.version=version||1;this.productName=productName;this.getProductCallback=getProductCallback;this._cachedData=null;this.itemAddressPrefix="enwikt/CacheableStorage/"+this.productName+"?v="+this.version;this.
itemDataAddress=this.itemAddressPrefix+"&Type=Data";this.itemTypeAddress=this.itemAddressPrefix+"&Type=Type";this.itemExpirationAddress=this.itemAddressPrefix+"&Type=Expiration";this.refreshData=function(){var this1=this;this.getProductCallback().then(function(d){this1.storageWrapper.set(this1.itemTypeAddress,typeof(d));this1.storageWrapper.set(this1.itemExpirationAddress,new Date().toISOString());if(typeof(d)!="string")d=JSON.stringify(d);this1.storageWrapper.set(this1.itemDataAddress,d);});};this.GetItem=function(){if(this._cachedData)return this._cachedData;var data=this.storageWrapper.get(this.itemDataAddress);var type=this.storageWrapper.get(this.itemTypeAddress);var expiration=this.storageWrapper.get(this.itemExpirationAddress);if(data){if(type!="string")data=JSON.parse(data);if((new Date()-new Date(expiration))/1000>this.expireInDays*24*3600){this.refreshData();return data;}else{this._cachedData=data;return this._cachedData;}}else{this.refreshData();}return null;};};window.
ObjectStorage=function(contextName,version){this.storageWrapper=new StorageWrapper();this.StorageAvailable=this.storageWrapper.storageAvailable;this.version=version||1;this.contextName=contextName;this._cachedData=null;this.itemAddressPrefix="enwikt/ObjectStorage/"+this.contextName+"?v="+this.version;this.itemDataAddress=this.itemAddressPrefix+"&Type=Data";this.itemTypeAddress=this.itemAddressPrefix+"&Type=Type";this.Set=function(obj){var s=typeof(obj)=="string"?obj:JSON.stringify(obj);this.storageWrapper.set(this.itemDataAddress,s);this.storageWrapper.set(this.itemTypeAddress,typeof(obj));this._cachedData=obj;};this.Get=function(){if(this._cachedData)return this._cachedData;var data=this.storageWrapper.get(this.itemDataAddress);var type=this.storageWrapper.get(this.itemTypeAddress);if(data){if(type!="string")data=JSON.parse(data);this._cachedData=data;return this._cachedData;}return null;};};});mw.loader.implement("ext.gadget.TargetedTranslations@1of5r",function($,jQuery,require,module){'use strict';function clarifyTransTable(){var storageWrapper=new StorageWrapper();function setStartVars(){targetedTranslationsSavedData=storageWrapper.get('TargetedTranslations')||'|';targetLanguages=targetedTranslationsSavedData.split('|')[0].split(';');targetSubLanguages=targetedTranslationsSavedData.split('|')[1].split(';');targetLanguagesParents={};while(targetSubLanguages[0]){(targetLanguagesParents[c=targetSubLanguages[0].split('/')[1]]=targetLanguagesParents[c]||[]).push(targetSubLanguages.shift().split('/')[0]);}}setStartVars();var targetLanguages,targetSubLanguages,targetLanguagesParents,c,targetedTranslationsSavedData,targetTrans,targetTransEmpty,tables=$('.translations').toArray(),lis,li,dls,dds,NavHead,temp;function isRight(node){for(var l=0,ll=targetLanguages.length,t=node.innerText||node.textContent;l<ll;l++){if(t.indexOf(targetLanguages[l]+':')===0){return true;}}}function
isRight2(node){temp=targetLanguagesParents[(node.innerText||node.textContent).split(':')[0]];if(temp){node=node.parentNode.parentNode;node=(node.innerText||node.textContent).split(':')[0];for(var l=0;l<temp.length;l++){if(temp[l]==node){return true;}}}}for(var i=0,tableslength=tables.length;i<tableslength;i++){if(tables[i].className=='translations'){addTargetedTranslationsButton(tables[i]);if(targetedTranslationsSavedData!='|'){if(!targetTransEmpty){targetTrans=document.createElement('span');targetTransEmpty=!0;}lis=tables[i].getElementsByTagName('li');for(var j=0,lislength=lis.length;j<lislength;j++){dls=(li=lis[j]).getElementsByTagName('dl');if(dls.length==1){if(isRight(li)&&li.childNodes[1].nodeName!='DL'){temp=document.createElement('span');for(var k=0;k<li.childNodes.length;k++){if(li.childNodes[k].nodeName!='DL'){temp.appendChild(li.childNodes[k].cloneNode(true));}}if(!targetTransEmpty){targetTrans.appendChild(document.createTextNode('; '));}targetTransEmpty=!1;targetTrans.
appendChild(temp);}dds=dls[0].getElementsByTagName('dd');for(var k=0;k<dds.length;k++){if(isRight2(dds[k])){temp=document.createElement('span');temp.innerHTML=(dds[k].parentNode.parentNode.innerText||dds[k].parentNode.parentNode.textContent).split(':')[0]+': '+dds[k].innerHTML;if(!targetTransEmpty){targetTrans.appendChild(document.createTextNode('; '));}targetTransEmpty=!1;targetTrans.appendChild(temp);}}}else if(isRight(li)){temp=document.createElement('span');temp.innerHTML=li.innerHTML;if(!targetTransEmpty){targetTrans.appendChild(document.createTextNode('; '));}targetTransEmpty=!1;targetTrans.appendChild(temp);}}if(!targetTransEmpty){NavHead=$(tables[i].parentNode.parentNode).find('.NavHead')[0];NavHead.appendChild(document.createTextNode(' - '));NavHead.appendChild(targetTrans);}}}}function addTargetedTranslationsButton(node){var $button=$("<a>Select targeted languages</a>").css("font-size","85%").on("click",function(){addtargetlangfavoriteicons($button.parent().next().find(
'tr')[0].getElementsByTagName('li'));for(var i=0;i++<4;){$button.parent().next().find('ul')[i%2].style[i<3?'listStyleImage':'listStyleType']='none';}$button.replaceWith($("<a>Save preferences</a>").css("font-size","85%").attr("href","javascript:location.reload(true)"));});$(node).before($('<div>').append($button));}function addtargetlangfavoriteicons(q){function w(x,xx){x.insertBefore($('<a>').addClass('translationtargetstar').on("click",function(){selecttargetlangfavorite(x.firstChild,xx);})[0],x.firstChild);if((xx&&isRight2(x))||((!xx)&&isRight(x))){x.firstChild.className+='checked';}}for(var i=0;i<q.length;i++){w(q[i]);for(var ii=0,xx=q[i].getElementsByTagName('dd');ii<xx.length;ii++){w(xx[ii],true);}}}function selecttargetlangfavorite(qq,xx){if((xx&&isRight2(qq.parentNode))||((!xx)&&isRight(qq.parentNode))){temp=targetedTranslationsSavedData;qq.className='translationtargetstar';if(!xx){temp=(';'+temp.split('|')[0].replace(/;/g,';;')+';').replace(';'+(qq.parentNode.innerText||qq.
parentNode.textContent).split(':')[0]+';','').replace(/;(?=;)|;$|^;/g,'')+'|'+temp.split('|')[1];}else{temp=temp.split('|')[0]+'|'+temp.split('|')[1].replace((qq.parentNode.parentNode.parentNode.innerText||qq.parentNode.parentNode.parentNode.textContent).split(':')[0]+'/'+(qq.parentNode.innerText||qq.parentNode.textContent).split(':')[0],'').replace(/;(?=;)|;$|^;/,'');}}else{temp=targetedTranslationsSavedData;if(!xx){temp=temp.replace(/\|/,(temp.charAt(0)=='|'?'':';')+(qq.parentNode.innerText||qq.parentNode.textContent).split(':')[0]+'|');}else{temp+=(temp.split('|')[1]===''?'':';')+(qq.parentNode.parentNode.parentNode.innerText||qq.parentNode.parentNode.parentNode.textContent).split(':')[0]+'/'+(qq.parentNode.innerText||qq.parentNode.textContent).split(':')[0];}qq.className='translationtargetstarchecked';}storageWrapper.set("TargetedTranslations",temp);setStartVars();}}if(new StorageWrapper().storageAvailable&&mw.config.get('wgNamespaceNumber')===0)$(clarifyTransTable);},{"css":[
".translationtargetstar{background-image:url(//en.wiktionary.org/static/current/skins/Vector/images/watch-icon.png);position:absolute;margin-top:3px;margin-left:-17px;cursor:pointer;width:16px;height:15px}.translationtargetstar:hover{background-image:url(//en.wiktionary.org/static/current/skins/Vector/images/watch-icon-hl.png)}.translationtargetstarchecked{background-image:url(//en.wiktionary.org/static/current/skins/Vector/images/unwatch-icon.png);position:absolute;margin-top:3px;margin-left:-17px;cursor:pointer;width:16px;height:15px}.translationtargetstarchecked:hover{background-image:url(//en.wiktionary.org/static/current/skins/Vector/images/unwatch-icon-hl.png)}"]});mw.loader.implement("ext.gadget.TranslationAdder@1wytv",function($,jQuery,require,module){function CookiePreferences(context){if(arguments.callee[context])return arguments.callee[context];else arguments.callee[context]=this;var storage={};var defaults={};this.set=function(name,value){if(value===null||storage[name]===value)return;storage[name]=value;updateCookie();};this.get=function(name,def){return storage[name]||defaults[name]||def;};this.setDefault=function(name,value){defaults[name]=value;};function updateCookie(){var value="";for(var name in storage){value+='&'+encodeURIComponent(name)+"="+encodeURIComponent(storage[name]);}$.cookie('preferences'+context,value,{expires:30});}function updateStorage(){var value=$.cookie('preferences'+context,value,{expires:30})||'';var pairs=value.split('&');for(var i=1;i<pairs.length;i++){var val=pairs[i].split('=');if(storage[val[0]]===val[1])continue;storage[val[0]]=val[1];}}updateStorage();}var util={getVanillaIndexOf:function(str,text,pos){if(!
pos)pos=0;var cpos=0,tpos=0,wpos=0,spos=0;do{cpos=text.indexOf('<!--',pos);tpos=text.indexOf('{{',pos);wpos=text.indexOf('<nowiki>',pos);spos=text.indexOf(str,pos);pos=Math.min(cpos==-1?Infinity:cpos,tpos==-1?Infinity:tpos,wpos==-1?Infinity:wpos,spos==-1?Infinity:spos);if(pos==spos)return pos==Infinity?-1:pos;else if(pos==cpos)pos=text.indexOf('-->',pos)+3;else if(pos==wpos)pos=text.indexOf('<\/nowiki>',pos)+9;else if(pos==tpos)pos=text.indexOf('}}',pos)+2;}while(pos<Infinity);return-1;},validateNoWikisyntax:function(field,nonempty){return function(txt,error){if(/[\{\}#]/.test(txt))return error("Please don't use wiki markup ({}#) in the "+field+".");if(nonempty&&!txt)return error("Please specify a "+field+".");return txt;};},getWikitextGloss:function(txt,pos){var g_start=txt.lastIndexOf('\n{{trans-top',pos)+1;var g_end=txt.indexOf('\n',pos);var g_line=txt.substr(g_start,g_end-g_start);g_line=g_line.replace("{{trans-top}}","{{trans-top|Translations}}");return g_line.replace(
/\{\{trans-top\|(.*)\}\}/,"$1");},getTransTable:function(text,node,recursive){var gloss=util.getTransGloss(node);var pos=0;var transect=[];while(pos>-1){pos=util.getVanillaIndexOf('{{trans-top',text,pos+1);if(pos>-1&&util.matchGloss(util.getWikitextGloss(text,pos),gloss)){transect.push(pos);}}if(transect.length>1){var poss=transect;transect=[];for(var i=0;i<poss.length;i++){pos=poss[i];if(util.matchGloss(gloss,util.getWikitextGloss(text,pos))){transect.push(pos);}}if(transect.length>1&&!recursive)transect=util.tieBreakTransTable(text,transect,node);}if(transect.length==1){pos=transect[0];pos=util.getVanillaIndexOf("\n",text,pos)+1;var endpos=text.indexOf('{{trans-bottom}}',pos);if(endpos>-1&&pos>0)return[pos,endpos];}return false;},tieBreakTransTable:function(text,poss,node){if(node.nodeName=='DIV'){while(node&&!(node.classList&&node.classList.contains('NavFrame')))node=node.parentNode;var nodes=node.getElementsByTagName('table');if(!nodes.length)return poss;node=nodes[0];}else{while(
node&&node.nodeName!='TABLE')node=node.parentNode;}var before_count=0;var after_count=0;var is_found=!1;$("table.translations").each(function(){var gloss=util.getTransGloss(this);if(gloss=="Translations to be checked")return;if(this==node){is_found=!0;return;}var pos=util.getTransTable(text,this,true);if(pos){for(var j=0;j<poss.length;j++){if(poss[j]==pos)return util.tieBreakTransTable(poss.splice(j,1),node);}}else{var matched=0;for(var j=0;j<poss.length;j++){if(util.matchGloss(util.getWikitextGloss(text,poss[j]),gloss)&&util.matchGloss(gloss,util.getWikitextGloss(text,poss[j]))){matched++;}}if(matched==poss.length){if(is_found)after_count++;else before_count++;}}});if(before_count+1+after_count==poss.length)return[poss[before_count]];else return poss;},matchGloss:function(line,gloss){if(gloss.match(/^ *$/))return!!(line.match(/\{\{trans-top\| *\}\}/)||line.match(/^ *$/));var words=gloss.split(/\W+/);var pos=0;for(var i=0;i<words.length;i++){pos=line.indexOf(words[i],pos);if(pos==
-1)return false;}return pos>-1;},getTransGlossText:function(node){var ret='';for(var child=node.firstChild;child!==null;child=child.nextSibling){if(child.nodeType==3)ret+=child.nodeValue;else if(/^[IB]$/.test(child.nodeName)||(child.classList&&child.classList.contains('wt-edit-recurse')))ret+=util.getTransGlossText(child);else if(ret.match(/\w$/))ret+=" ";}return ret.replace(/\W/g,' ');},getTransGloss:function(ul){var node=ul;while(node&&!(node.classList&&node.classList.contains('NavFrame')))node=node.parentNode;if(!node)return'';for(var child=node.firstChild;child!==null;child=child.nextSibling){if(child.classList&&child.classList.contains('NavHead'))return util.getTransGlossText(child);}return'';},isTrreq:function(li){var span=li.getElementsByTagName('span')[0];return(span&&span.classList.contains("trreq"));},genderList:{"s":"singular","d":"dual","p":"plural","m":"masc.","m-d":"masc. dual","m-p":"masc. pl.","f":"fem.","f-d":"fem. dual","f-p":"fem. pl.","c":"common","c-d":
"common dual","c-p":"common pl.","n":"neuter","n-d":"neuter dual","n-p":"neuter pl.","impf":"imperfective","pf":"perfective"}};function TranslationAdders(editor){function TranslationLabeller(insertDiv){var original_span;var adder_form;var initial_value;var edit_button;var editing=!1;var adderInterface={'fields':{'gloss':function(txt,error){return util.validateNoWikisyntax('gloss',true)(txt,error);}},'createForm':function(){var thisId="a"+String(Math.random()).replace(".","");return adder_form=newNode('form',{style:'display: inline',width:'auto',click:kill_event},newNode('label',{'for':thisId},"Gloss: "),newNode('input',{type:'text',name:'gloss',value:initial_value,style:'width: 50%',title:'Insert a summary of the relevant definition',id:thisId}),newNode('input',{type:'submit',name:'preview',value:'Preview'}),newNode('a',{href:'/wiki/Help:Glosses'},'Help?!'));},'onsubmit':function(values,render){render(values.gloss,function(new_html){if(editing)toggle_editing(false);var old_html=
original_span.innerHTML;editor.addEdit({'undo':function(){original_span.innerHTML=old_html;if(!editing)toggle_editing();},'redo':function(){original_span.innerHTML=new_html;if(editing)toggle_editing();},'edit':function(text){return perform_edit(text,values.gloss);},'summary':'tgloss:"'+(values.gloss.length>50?values.gloss.substr(0,50)+'...':values.gloss+'"')},original_span);});}};function perform_edit(wikitext,gloss){var pos=util.getTransTable(wikitext,insertDiv)[0]-4;var g_start=wikitext.lastIndexOf('\n{{trans-top',pos)+1;var g_end=wikitext.indexOf('}}\n',pos)+2;if(g_start===0||wikitext.substr(g_start,g_end-g_start).indexOf("\n")>-1){editor.error("Could not find translation table.");return wikitext;}else{return wikitext.substr(0,g_start)+'{{trans-top|'+gloss+'}}'+wikitext.substr(g_end);}}function kill_event(e){e.stopPropagation();}function toggle_editing(){if(editing){adder_form.style.display="none";original_span.style.display="inline";editing=!1;return;}editing=!0;edit_button.
text("Loading...");editor.withCurrentText(function(currentText){var pos=util.getTransTable(currentText,insertDiv);edit_button.text('±');if(!pos)return editor.error("Could not find translation table");var gloss_line=currentText.substr(currentText.lastIndexOf('\n',pos[0]-2)+1);gloss_line=gloss_line.substr(0,gloss_line.indexOf('\n'));initial_value=gloss_line.replace(/^\{\{trans-top(\|(.*)|)\}\}\s*$/,"$2");if(initial_value.indexOf("\n")>0)return editor.error("Internal error: guess spanning multiple lines");if(!original_span){original_span=newNode('span',{'class':'wt-edit-recurse'});for(var i=0;i<insertDiv.childNodes.length;i++){var child=insertDiv.childNodes[i];if(child!=edit_button[0]&&child.className!=='NavToggle'){original_span.appendChild(insertDiv.removeChild(child));i--;}}insertDiv.appendChild(original_span);new AdderWrapper(editor,adderInterface,insertDiv,original_span);}original_span.style.display="none";adder_form.style.display="inline";adder_form.getElementsByTagName('input')[0]
.focus();});}edit_button=$('<a href="#">±</a>').attr("title","Edit table heading").css("padding","2px").css("margin-left","-5px").on("click",function(e){if(e&&e.preventDefault)e.preventDefault();kill_event(e);toggle_editing();return false;});$(insertDiv).prepend(edit_button);}function TranslationAdder(insertUl){var langmetadata=new LangMetadata();this.fields={lang:function(txt,error){if(txt=='en')return error("Please choose a foreign language. (fr, es, aaa)");if(txt=='nds')return error("Please use the code nds-de for German Low German or nds-nl for Dutch Low  Saxon");if(/^[a-z]{2,3}(-[a-z\-]{1,7})?$/.test(txt))return txt;return error("Please use a language code. (fr, es, aaa)");},word:function(txt,error){if(txt=='{{trreq}}')return'{{t-needed}}';if(txt=='{{t-needed}}')return txt;if(txt.indexOf(',')==-1||forceComma){forceComma=!1;if(langmetadata.expectedCase(thiz.elements.lang.value,mw.config.get('wgTitle'),txt)||forceCase){forceCase=!1;return util.validateNoWikisyntax(
'translation',true)(txt,error);}if(prefs.get('case-knowledge','none')=='none'){return error(newNode('span',"Translations normally don't have capital letters. If you're certain it does, you can ",newNode('span',{style:"color: blue; text-decoration: underline; cursor: pointer;",click:function(){forceCase=!0;inputForm.onsubmit();prefs.set('case-knowledge','guru');}},"continue by clicking here.")));}else{var msg=newNode('span',newNode('span',{style:"color: blue; text-decoration: underline; cursor: pointer;",click:function(){prefs.set('case-knowledge','none');try{msg.parentNode.removeChild(msg);}catch(e){}editor.undo();}},"Please click undo")," unless you are certain that this translation has a capital letter.");error(msg);return txt;}}if(prefs.get('comma-knowledge','none')=='none'){return error(newNode('span',"You can only add one translation at a time. If this is one translation that contains a comma, you can ",newNode('span',{style:
"color: blue; text-decoration: underline; cursor: pointer;",click:function(){forceComma=!0;inputForm.onsubmit();prefs.set('comma-knowledge','guru');}},"add it by clicking here.")));}else{var msg=newNode('span',newNode('span',{style:"color: blue; text-decoration: underline; cursor: pointer;",click:function(){prefs.set('comma-knowledge','none');try{msg.parentNode.removeChild(msg);}catch(e){}editor.undo();}},"Please click undo")," if you were trying to create a list of translations in one go, this is currently not supported.");error(msg);return txt;}},qual:util.validateNoWikisyntax('qualifier'),tr:util.validateNoWikisyntax('transcription'),rawPageName:util.validateNoWikisyntax('raw page name'),sc:function(txt,error){if(txt&&!/^((?:[a-z][a-z][a-z]?-)?[A-Z][a-z][a-z][a-z]|polytonic|Latinx)$/.test(txt))return error(newNode('span',"Please use a ",newNode('a',{href:'/wiki/Wiktionary:List_of_scripts'},"valid script code"),"(e.g. fa-Arab, Deva, polytonic)"));var scripts=(new ScriptUtils()).
GetScriptsByLangCode(thiz.elements.lang.value);if(txt&&scripts.length>0&&scripts.indexOf(txt)==-1){var plural=scripts.length>1;return error(newNode('span',"Please use a valid script code. "+(plural?"Available script codes":"The script code used")+" for this language "+(plural?"are":"is")+" "+scripts.join(", ")));}if(!txt)txt=prefs.get('script-'+thiz.elements.lang.value,langmetadata.guessScript(thiz.elements.lang.value)||'');if(txt=='Latn')txt='';return txt;},nested:util.validateNoWikisyntax('nested'),"s":'checkbox',"d":'checkbox',"p":'checkbox',"m":'checkbox',"m-d":'checkbox',"m-p":'checkbox',"f":'checkbox',"f-d":'checkbox',"f-p":'checkbox',"c":'checkbox',"c-d":'checkbox',"c-p":'checkbox',"n":'checkbox',"n-d":'checkbox',"n-p":'checkbox',"impf":'checkbox',"pf":'checkbox',nclass1:util.validateNoWikisyntax('noun class'),nclass2:util.validateNoWikisyntax('plural class')};this.createForm=function(){function createGenderNode(name,text){var inp=document.createElement("input");inp.type=
"checkbox";inp.name=name;var lbl=document.createElement("label");lbl.appendChild(inp);lbl.appendChild(document.createTextNode(text));return lbl;}var genderControls={};for(var g in util.genderList)genderControls[g]=createGenderNode(g,util.genderList[g]);var controls={lang:newNode('input',{size:4,type:'text',name:'lang',value:prefs.get('curlang',''),title:'The two or three letter ISO 639 language code'}),transliteration:newNode('span',newNode('a',{href:'/wiki/Wiktionary:Transliteration'},"Transliteration"),": ",newNode('input',{name:"tr",title:"The word transliterated into the Latin alphabet."})," (e.g. zìmǔ for 字母)"),qualifier:newNode('p',"Qualifier: ",newNode('input',{name:'qual',title:"A qualifier for the word"})," (e.g. literally, formally, slang)"),display:newNode('p',"Raw page name: ",newNode('input',{name:'rawPageName',title:"A link to lemma, if a translation is not a lemma."})," (e.g. 疲れる for 疲れた)"),script:newNode('p',newNode('a',{href:
'/wiki/Wiktionary:List_of_scripts'},"Script code"),": ",newNode('input',{name:'sc',size:6,title:"The script code to apply to this word."}),"(e.g. Cyrl for Cyrillic, Latn for Latin)",newNode('br')),nested:newNode('p',"Nesting: ",newNode('input',{name:'nested',title:"The nesting of this language"})," (e.g. Serbo-Croatian/Cyrillic)"),genders:genderControls,nclass:newNode('p',"Noun class: ",newNode('input',{type:'text',size:4,name:'nclass1',title:"The noun class of the word in the singular or citation form."})," Plural class: ",newNode('input',{type:'text',size:4,name:'nclass2',title:"The noun class of the word in the plural form, if any."}))};function createGenderDiv(genderz){var $div=$("<div>");for(var i=1;i<arguments.length;i++)$div.append(genderz[arguments[i]]);return $div;}var $mdiv=createGenderDiv(controls.genders,"m","m-d","m-p");var $fdiv=createGenderDiv(controls.genders,"f","f-d","f-p");var $cdiv=createGenderDiv(controls.genders,"c","c-d","c-p");var $ndiv=createGenderDiv(controls.
genders,"n","n-d","n-p");var $sdpdiv=createGenderDiv(controls.genders,"s","d","p");var $pfdiv=createGenderDiv(controls.genders,"impf","pf");controls.gender=$("<p>").append($mdiv).append($fdiv).append($cdiv).append($ndiv).append($sdpdiv).append($pfdiv)[0];langInput=controls.lang;var showButton=newNode('span',{'click':function(){if(!advancedMode){advancedMode=!0;showButton.innerHTML=" Less";}else{advancedMode=!1;showButton.innerHTML=" More";}updateScriptGuess.call(langInput,true);},'style':"color: #0000FF;cursor: pointer;"},advancedMode?" Less":" More");function autoTransliterate(){var rawPageName=langmetadata.computeRawPageName(thiz.elements.lang.value,thiz.elements.word.value);if(rawPageName&&rawPageName!==thiz.elements.word.value)thiz.elements.rawPageName.value=rawPageName;}function updateScriptGuess(preserve){preserve=(preserve===true);function show(){for(var i=0;i<arguments.length;i++){if(arguments[i].nodeName=='P')arguments[i].style.display="block";else arguments[i].style.
display="inline";}}function hide(){for(var i=0;i<arguments.length;i++)arguments[i].style.display="none";}function toggle(condition){if(condition)show.apply(this,[].splice.call(arguments,1,arguments.length-1));else hide.apply(this,[].splice.call(arguments,1,arguments.length-1));}if(!preserve)langInput.value=langmetadata.cleanLangCode(langInput.value);var guess=prefs.get('script-'+langInput.value,langmetadata.guessScript(langInput.value||''));if(!preserve){if(guess)thiz.elements.sc.value=guess;else thiz.elements.sc.value='';thiz.elements.nested.value=langmetadata.getNested(langInput.value||'');autoTransliterate();}var lang=langInput.value;if(!advancedMode){var g=langmetadata.getGenders(lang);if(!lang){hide(controls.gender);}else if(g===undefined){hide(controls.gender);}else{for(var genderName in util.genderList){toggle(g.indexOf(genderName)!=-1,controls.genders[genderName]);}}toggle(g,controls.gender);toggle(langmetadata.hasNounClasses(lang),controls.nclass);var
hasAutomaticTransliteration=new window.LanguageUtils().HasAutomaticTransliteration(lang);toggle(guess&&guess!='Latn'&&!hasAutomaticTransliteration,controls.transliteration);toggle(langmetadata.needsRawPageName(lang),controls.display);hide(controls.qualifier,controls.nested);toggle(langmetadata.getScripts(lang).length!=1,controls.script);}else{show(controls.gender,controls.genders['s'],controls.genders['d'],controls.genders['p'],controls.genders['m'],controls.genders['m-d'],controls.genders['m-p'],controls.genders['f'],controls.genders['f-d'],controls.genders['f-p'],controls.genders['c'],controls.genders['c-d'],controls.genders['c-p'],controls.genders['n'],controls.genders['n-d'],controls.genders['n-p'],controls.genders['impf'],controls.genders['pf'],controls.nclass,controls.transliteration,controls.qualifier,controls.display,controls.script,controls.nested);}}function langAutoFill(e){e=(e||event).keyCode;if((e>=33&&e<=40)||e==8||e==46||e==27||e==16){return;}var t=this,langPrefix=t.
value;if(langPrefix.substr(0,1)!=langPrefix.substr(0,1).toUpperCase()){return;}new mw.Api().get({"action":"expandtemplates","format":"json","text":"{{#invoke:languages/javascript-interface|GetSingleLanguageByLanguagePrefix|"+langPrefix+"}}","prop":"wikitext"}).done(function(r){if(r.expandtemplates&&r.expandtemplates.wikitext!==""){var langcode=r.expandtemplates.wikitext.split(":")[0];var langname=r.expandtemplates.wikitext.split(":")[1];var oldLength=t.value.length;t.value=langname;$(t).data("langcode",langcode);if(t.setSelectionRange){t.setSelectionRange(oldLength,langname.length);}else if(t.createTextRange){var z=t.createTextRange();z.moveEnd('character',0-z.move('character',[t.value.length,t.value=langname][0])+t.value.length);z.select();}}else{$(t).removeData("langcode");}});}langInput.onkeyup=langAutoFill;langInput.onblur=function(){if($(this).data("langcode"))$(this).val($(this).data("langcode"));updateScriptGuess.call(langInput);};window.setTimeout(function(){updateScriptGuess.
call(langInput);},0);inputForm=newNode('form',newNode('p',newNode('a',{href:"/wiki/User_talk:Conrad.Irwin/editor.js#Usage"},"Add translation"),' ',langInput,newNode('b',': '),newNode('input',{'name':'word',size:20,keyup:autoTransliterate,change:autoTransliterate}),newNode('input',{'type':'submit','value':'Preview translation'}),showButton),controls.gender,controls.nclass,controls.transliteration,controls.display,controls.qualifier,controls.script,controls.nested);return inputForm;};this.onsubmit=function(values,render){var wikitext;function callRender(){render(wikitext,function(html){registerEdits(values,wikitext,html);});}if(values.word.indexOf('{{t-needed')===0){wikitext='{{subst:#invoke:languages/templates|getByCode|'+values.lang+'|getCanonicalName}}: {{t-needed|'+values.lang+'}}';callRender();}else{langmetadata.retrieveRawPageName(values.lang,values.word,values.rawPageName,function(rawPageName,needsRawPageName){if(needsRawPageName){values.rawPageName=rawPageName;values.wordMinus=''
;}else{values.rawPageName='';values.wordMinus=rawPageName;}wikitext='{{subst:#invoke:languages/templates|getByCode|'+values.lang+'|getCanonicalName}}: '+'{{t|'+values.lang+'|'+(values.rawPageName||values.word)+(values.nclass1?'|c'+values.nclass1:'')+(values.nclass2?'|c'+values.nclass2:'');wikitext+=(values['s']?'':'')+(values['d']?'|d':'')+(values['p']?'|p':'')+(values['m']?'|m':'')+(values['m-d']?'|m-d':'')+(values['m-p']?'|m-p':'')+(values['f']?'|f':'')+(values['f-d']?'|f-d':'')+(values['f-p']?'|f-p':'')+(values['c']?'|c':'')+(values['c-d']?'|c-d':'')+(values['c-p']?'|c-p':'')+(values['n']?'|n':'')+(values['n-d']?'|n-d':'')+(values['n-p']?'|n-p':'')+(values['impf']?'|impf':'')+(values['pf']?'|pf':'');wikitext+=(values.tr?'|tr='+values.tr:'')+(values.rawPageName?'|alt='+values.word:'')+'}}'+(values.qual?' {{qualifier|'+values.qual+'}}':'');langmetadata.hasWiktionaryWithEntry(values.lang,values.rawPageName||values.wordMinus,function(result){if(result)wikitext=wikitext.replace(/\{t\|/,
'{t+|');callRender();});});}if(!this.balancer)this.balancer=new TranslationBalancer(editor,insertUl.parentNode.parentNode.parentNode);};var thiz=this;var prefs=new CookiePreferences('EditorJs');var langInput;var inputForm;var advancedMode=prefs.get('more-display','none')!='none';var forceComma=!1;var forceCase=!1;function resetElements(){if(prefs.get('more-display','none')!=advancedMode?'block':'none')prefs.set('more-display',advancedMode?'block':'none');thiz.elements.word.value=thiz.elements.nclass1.value=thiz.elements.nclass2.value=thiz.elements.tr.value=thiz.elements.rawPageName.value=thiz.elements.qual.value='';thiz.elements['s'].checked=!1;thiz.elements['d'].checked=!1;thiz.elements['p'].checked=!1;thiz.elements['m'].checked=!1;thiz.elements['m-d'].checked=!1;thiz.elements['m-p'].checked=!1;thiz.elements['f'].checked=!1;thiz.elements['f-d'].checked=!1;thiz.elements['f-p'].checked=!1;thiz.elements['c'].checked=!1;thiz.elements['c-d'].checked=
!1;thiz.elements['c-p'].checked=!1;thiz.elements['n'].checked=!1;thiz.elements['n-d'].checked=!1;thiz.elements['n-p'].checked=!1;thiz.elements['impf'].checked=!1;thiz.elements['pf'].checked=!1;prefs.set('curlang',thiz.elements.lang.value);if((thiz.elements.sc.value||'Latn')!=(prefs.get('script-'+thiz.elements.lang.value,langmetadata.guessScript(thiz.elements.lang.value)||'Latn'))){prefs.set('script-'+thiz.elements.lang.value,thiz.elements.sc.value);thiz.elements.lang.update();}}function registerEdits(values,wikitext,content){var li=newNode('li',{'class':'trans-'+values.lang});li.innerHTML=content;var lang=getLangName(li);var summary='t+'+values.lang+':[['+(values.rawPageName||values.wordMinus||values.word)+']]';var insertBefore=null;var nextLanguage=null;var nestedHeading,nestedLang;var nestedLang;if(values.nested.indexOf('/')>-1){nestedLang=values.nested.replace(/.*\//,'');nestedHeading=values.nested.replace(/\/.*/,'');if(nestedHeading==='')nestedHeading=lang;
content=content.replace(/.*: /,nestedLang+": ");wikitext=wikitext.replace("subst:","").replace(/.*: /,nestedLang+": ");}else{nestedHeading=values.nested;nestedLang=lang;}var nestedWikitext="\n* "+nestedHeading+":\n*: "+wikitext;function addEdit(edit,span){editor.addEdit({'undo':function(){edit.undo();if(thiz.elements.word.value===""&&thiz.elements.nclass1.value===""&&thiz.elements.nclass2.value===""&&thiz.elements.tr.value===""&&thiz.elements.rawPageName.value===""&&thiz.elements.qual.value===""){var fields=["lang","word","nclass1","nclass2","rawPageName","qual","tr","sc"];for(var i=0;i<fields.length;i++){thiz.elements[fields[i]].value=values[fields[i]];}for(var genderName in util.genderList){thiz.elements[genderName].checked=values[genderName];}}},'redo':function(){edit.redo();var fields=["lang","word","nclass1","nclass2","rawPageName","qual","tr","sc"];for(var i=0;i<fields.length;i++){if(thiz.elements[fields[i]].value!=values[fields[i]])return;}resetElements();},'edit':edit.edit,
'summary':summary},span);}if(lang){var lss=$(insertUl).parent().parent().find('li').get();var dds=$(insertUl).parent().parent().find('dd').get();var lis=lss.concat(dds);for(var j=0;j<lis.length;j++){if(lis[j].getElementsByTagName('form').length>0)continue;var ln=getLangName(lis[j]);if(ln==lang){if(values.word=='{{t-needed}}'){addEdit({'redo':function(){},'undo':function(){},'edit':function(){return editor.error("Can not add a translation request for a language with translations");}});return resetElements();}var span=newNode('span');var parent=lis[j];if(util.isTrreq(parent)){span.innerHTML=content.substr(content.indexOf(':')+1);var trspan=parent.getElementsByTagName('span')[0];addEdit({'redo':function(){parent.removeChild(trspan);parent.appendChild(span);},'undo':function(){parent.removeChild(span);parent.appendChild(trspan);},'edit':getEditFunction(values,wikitext,ln,values.lang,true,function(text,ipos){var lineend=text.indexOf('\n',ipos);return text.substr(0,ipos)+wikitext+text.substr
(lineend);})},span);return resetElements();}else{if(parent.getElementsByTagName('ul').length+parent.getElementsByTagName('dl').length==0){span.innerHTML=", "+content.substr(content.indexOf(':')+1);addEdit({'redo':function(){parent.appendChild(span)},'undo':function(){parent.removeChild(span)},'edit':getEditFunction(values,wikitext,ln,values.lang,false,function(text,ipos){var lineend=text.indexOf('\n',ipos);var wt=wikitext.replace('subst:#invoke:','');wt=wt.substr(wt.indexOf(':')+1);return text.substr(0,lineend)+","+wt+text.substr(lineend);})},span);return resetElements();}else{var node=parent.firstChild;var hastrans=!1;while(node){if(node.nodeType==1){var nn=node.nodeName;if(nn=='UL'||nn=='DL'){if(!hastrans&&nestedHeading==ln){node=node.nextSibling;continue;}span.innerHTML=(hastrans?", ":" ")+content.substr(content.indexOf(':')+1);addEdit({'redo':function(){parent.insertBefore(span,node)},'undo':function(){parent.removeChild(span)},'edit':getEditFunction(values,wikitext,ln,values.
lang,false,function(text,ipos){var lineend=text.indexOf('\n',ipos);var wt=wikitext.replace('subst:#invoke:','');wt=wt.substr(wt.indexOf(':')+1);return text.substr(0,lineend)+(hastrans?",":"")+wt+text.substr(lineend);})},span);return resetElements();}else{hastrans=!0;}}node=node.nextSibling;}}}}else if(ln&&ln>lang&&(!nextLanguage||ln<nextLanguage)&&lis[j].parentNode.parentNode.nodeName!='LI'){nextLanguage=ln;var parent=lis[j];insertBefore=[{'redo':function(){parent.parentNode.insertBefore(li,parent);},'undo':function(){parent.parentNode.removeChild(li)},'edit':getEditFunction(values,wikitext,ln,getLangCode(parent),util.isTrreq(parent),function(text,ipos){var lineend=text.lastIndexOf('\n',ipos);return text.substr(0,lineend)+"\n* "+wikitext+text.substr(lineend);})},li];}}}if(values.nested){nextLanguage=null;insertBefore=null;li.innerHTML=nestedHeading+":"+"<dl><dd class=\"trans-"+values.lang+"\">"+content+"</dd></dl>";var lis=insertUl.parentNode.parentNode.getElementsByTagName('li');for
(var j=0;j<lis.length;j++){if(lis[j].getElementsByTagName('form').length>0)continue;if(lis[j].parentNode.parentNode.nodeName!='TD')continue;var ln=getLangName(lis[j]);if(ln==nestedHeading){var sublis=lis[j].getElementsByTagName('li');if(!sublis.length)sublis=lis[j].getElementsByTagName('dd');if(sublis.length==0){var parent=lis[j];var dd=newNode('dd',{'class':'trans-'+values.lang});var dl=newNode('dl',dd);dd.innerHTML=content;addEdit({'redo':function(){parent.appendChild(dl);},'undo':function(){parent.removeChild(dl);},'edit':getEditFunction(values,wikitext,nestedHeading,getLangCode(parent),util.isTrreq(parent),function(text,ipos){var lineend=text.indexOf('\n',ipos);return text.substr(0,lineend)+"\n*: "+wikitext+text.substr(lineend);})},dd);return resetElements();}else{var dd=newNode(sublis[0].nodeName,{'class':'trans-'+values.lang});var linestart=dd.nodeName=='DD'?'\n*: ':'\n** ';dd.innerHTML=content;for(var k=0;k<sublis.length;k++){var subln=getLangName(sublis[k]);var parent=sublis[k]
;if(subln==nestedLang){var span=newNode('span');span.innerHTML=", "+content.substr(content.indexOf(':')+1);addEdit({'redo':function(){parent.appendChild(span)},'undo':function(){parent.removeChild(span)},'edit':getEditFunction(values,wikitext,nestedLang,values.lang,false,function(text,ipos){var lineend=text.indexOf('\n',ipos);var wt=wikitext.replace('subst:#invoke:','');wt=wt.substr(wt.indexOf(':')+1);return text.substr(0,lineend)+","+wt+text.substr(lineend);})},span);return resetElements();}else if(langmetadata.nestsBefore(nestedLang,subln)){addEdit({'redo':function(){parent.parentNode.insertBefore(dd,parent);},'undo':function(){parent.parentNode.removeChild(dd);},'edit':getEditFunction(values,wikitext,subln,getLangCode(parent),util.isTrreq(parent),function(text,ipos){var lineend=text.lastIndexOf('\n',ipos);return text.substr(0,lineend)+linestart+wikitext+text.substr(lineend);})},dd);return resetElements();}}addEdit({'redo':function(){parent.parentNode.appendChild(dd);},'undo':
function(){parent.parentNode.removeChild(dd);},'edit':getEditFunction(values,wikitext,subln,getLangCode(parent),util.isTrreq(parent),function(text,ipos){var lineend=text.indexOf('\n',ipos);return text.substr(0,lineend)+linestart+wikitext+text.substr(lineend);})},dd);return resetElements();}}else if(ln&&ln>nestedHeading&&(!nextLanguage||ln<nextLanguage)){nextLanguage=ln;var parent=lis[j];insertBefore=[{'redo':function(){parent.parentNode.insertBefore(li,parent);},'undo':function(){parent.parentNode.removeChild(li)},'edit':getEditFunction(values,wikitext,ln,getLangCode(parent),util.isTrreq(parent),function(text,ipos){var lineend=text.lastIndexOf('\n',ipos);return text.substr(0,lineend)+nestedWikitext+text.substr(lineend);})},li];}}wikitext=nestedHeading+":\n*: "+wikitext;}li.className="trans-"+values.lang;if(insertBefore){addEdit(insertBefore[0],insertBefore[1]);}else{addEdit({'redo':function(){insertUl.appendChild(li);},'undo':function(){insertUl.removeChild(li)},'edit':getEditFunction(
values,wikitext)},li);}return resetElements();}function getEditFunction(values,wikitext,findLanguage,findLangCode,trreq,callback){return function(text){var p=util.getTransTable(text,insertUl);if(!p)return editor.error("Could not find translation table for '"+values.lang+":"+values.word+"'. Glosses should be unique");var stapos=p[0];var endpos=p[1];var trreqLegacy=!1;if(findLanguage){var ipos=0;if(trreq){ipos=text.substr(stapos).search(RegExp(mw.util.escapeRegExp(findLanguage)+":\\s*\\{\\{t-needed(?:\\|"+findLangCode+"}})?"))+stapos;if(ipos<stapos||ipos>endpos)ipos=text.indexOf('{{trreq|'+findLanguage+'}}',stapos);if(ipos<stapos||ipos>endpos)ipos=text.indexOf('{{trreq|'+findLangCode+'}}',stapos);}if(!trreq||ipos<stapos||ipos>endpos){var escapedLang=mw.util.escapeRegExp(findLanguage);var regexByShouldFindSubLanguage=values.nested!=""?"[:*]?":"";var possibleRegexes=[RegExp("\\*"+regexByShouldFindSubLanguage+" ?\\[\\["+escapedLang+"\\]\\]:"),RegExp("\\*"+regexByShouldFindSubLanguage+
" ?"+escapedLang+":"),RegExp("\\*"+regexByShouldFindSubLanguage+" ?\\{\\{ttbc\\|"+escapedLang+"}}:")];ipos=text.substr(stapos).search(possibleRegexes[0])+stapos;if(ipos<stapos||ipos>endpos)ipos=text.substr(stapos).search(possibleRegexes[1])+stapos;if(ipos<stapos||ipos>endpos)ipos=text.substr(stapos).search(possibleRegexes[2])+stapos;if(ipos<stapos||ipos>endpos)ipos=text.indexOf('{{subst:#invoke:languages/templates|getByCode|'+findLangCode+'|getCanonicalName}}:',stapos);}if(ipos>=stapos&&ipos<endpos){return callback(text,ipos,trreq);}else{return editor.error("Could not find translation entry for '"+values.lang+":"+values.word+"'. Please reformat");}}return text.substr(0,endpos)+"* "+wikitext+"\n"+text.substr(endpos);};}function getLangName(li){var guess=li.textContent||li.innerText;if(guess)guess=guess.substr(0,guess.indexOf(':'));if(guess=='Template'){return false;}return guess.replace(/^[\s\n]*/,'');}function getLangCode(li){if(li.className.indexOf('trans-')===0)return li.className.
substr(6);var spans=li.getElementsByTagName('span');for(var i=0;i<spans.length;i++){if(spans[i].lang){return spans[i].lang;}if(spans[i].dataset&&spans[i].dataset.lang){return spans[i].dataset.lang;}}return false;}}function createTranslationAdderRow(li){var $ul=$("<ul>").append(li);return $("<tr>").append($("<td>")).append($("<td>")).append($("<td>").css("text-align","left").append($ul));}$('table.translations').each(function(){if(util.getTransGloss(this)!='Translations to be checked'){var uls=$(this).find("td > ul").get();if(uls.length==0){this.getElementsByTagName('td')[0].appendChild(newNode('ul'));uls=this.getElementsByTagName('ul');}if(uls.length==1){var td=this.getElementsByTagName('td')[2];if(td){td.appendChild(newNode('ul'));uls=this.getElementsByTagName('ul');}}if(uls){var li=document.createElement('li');var ul=uls[uls.length-1];$(this).append(createTranslationAdderRow(li));new AdderWrapper(editor,new TranslationAdder(ul),li);if(true){var div=$(this).parent().parent().find(
'div.NavHead')[0];if(div){new TranslationLabeller(div)}}}}});}function TranslationBalancer(editor,insertTable){var status;function init(){var cns=insertTable.getElementsByTagName('tr')[0].childNodes;var tds=[];for(var i=0;i<cns.length;i++){if(cns[i].nodeName=='TD')tds.push(cns[i])}var left=tds[0].getElementsByTagName('ul');if(left.length>0)left=left[0];else{left=newNode('ul');tds[0].appendChild(left);}var right=tds[2].getElementsByTagName('ul');if(right.length>0)right=right[0];else{right=newNode('ul');tds[2].appendChild(right);}var moveLeft=newNode('input',{'type':'submit','name':'ml','value':'←','click':function(){return prepareEdits('←',left,right)}});var moveRight=newNode('input',{'type':'submit','name':'mr','value':'→','click':function(){return prepareEdits('→',left,right)}});status=newNode('span');var form=newNode('form',moveLeft,newNode('br'),moveRight,newNode('br'),status);tds[1].appendChild(form);form.onsubmit=function(){return false;}}function moveOneRight(left,right){
var li=left.lastChild;while(li&&li.nodeName!='LI')li=li.previousSibling;if(li)right.insertBefore(left.removeChild(li),right.firstChild);}function moveOneLeft(left,right){var li=right.firstChild;while(li&&li.nodeName!='LI')li=li.nextSibling;if(li)left.appendChild(right.removeChild(li));}function prepareEdits(direction,left,right){status.innerHTML="Loading...";editor.addEdit({'redo':function(){(direction=='→'?moveOneRight:moveOneLeft)(left,right)},'undo':function(){(direction=='→'?moveOneLeft:moveOneRight)(left,right)},'edit':function(text){return editWikitext(right,direction,text);},'summary':'t-balance'});}function editWikitext(insertUl,direction,text){status.innerHTML="";var p=util.getTransTable(text,insertUl);if(!p)return editor.error("Could not find translation table, please improve glosses.");var stapos=p[0];var endpos=p[1];var midpos=text.indexOf('{{trans-mid}}',stapos);var midstart=text.lastIndexOf("\n",midpos);var midend=text.indexOf("\n",midpos);if(midstart<stapos-1||midend
>endpos)return editor.error("Could not find {{trans-mid}}, please correct page.");if(direction=='→'){var linestart=text.lastIndexOf("\n",midstart-3);while(/^[:*#;]$/.test(text.substr(linestart+2,1)))linestart=text.lastIndexOf("\n",linestart-1);if(linestart<stapos-1||linestart>=endpos)return editor.error("No translations to move");return text.substr(0,linestart)+text.substr(midstart,midend-midstart)+text.substr(linestart,midstart-linestart)+text.substr(midend);}else if(direction=='←'){var lineend=text.indexOf("\n",midend+3);while(/^[:*#;]$/.test(text.substr(lineend+2,1)))lineend=text.indexOf("\n",lineend+1);if(lineend<stapos-1||lineend>=endpos)return editor.error("No translations to move");return text.substr(0,midstart)+text.substr(midend,lineend-midend)+text.substr(midstart,midend-midstart)+text.substr(lineend);}return text;}init();}$(function(){var actions=window.location.toString().replace(/.*\?/,'&');var isOnPrintable=mw.util.getParamValue("printable")!==null;var isDiff=mw.util.
getParamValue("diff")!==null||mw.util.getParamValue("oldid")!==null;if(mw.config.get('wgAction')!='view'||isOnPrintable||isDiff)return;var editor=new Editor();TranslationAdders(editor);});});mw.loader.implement("ext.gadget.TranslationAdder-Data@3zq9d",function($,jQuery,require,module){window.LangMetadata=function(){if(arguments.callee.instance)return arguments.callee.instance;else arguments.callee.instance=this;var metadata={aa:{haswikt:1,sc:["Latn","Ethi"]},ab:{haswikt:1,sc:["Cyrl","Latn","Geor"]},aer:{sc:"Latn"},af:{g:["s","p"],haswikt:1},ak:{haswikt:1},akk:{g:["m","f","m-p","f-p"],sc:"Xsux"},als:{haswikt:1},am:{g:["m","f","m-p","f-p"],haswikt:1,sc:"Ethi"},an:{g:["m","f","m-p","f-p"],haswikt:1},ang:{alt:1,g:["m","f","n","m-p","f-p","n-p"],haswikt:1},ar:{alt:1,g:["m","f","m-p","f-p"],haswikt:1,sc:"Arab"},arc:{g:["m","f","m-p","f-p"],sc:["Hebr","Syrc"]},are:{},arz:{alt:1,g:["m","f","m-p","f-p"],sc:"Arab"},as:{haswikt:1,sc:"Beng"},ast:{g:["m","f","m-p","f-p"],haswikt:1},av:{haswikt:1},ay:{haswikt:1},az:{g:["s","p"],haswikt:1,sc:["Latn","Cyrl","Arab"]},ba:{sc:"Cyrl"},bar:{},"bat-smg":{g:["m","f","m-p","f-p"]},bbl:{sc:"Geor"},be:{g:["m","f","n","m-p","f-p","n-p","impf","pf"],
haswikt:1,sc:"Cyrl"},"be-x-old":{sc:"Cyrl"},bg:{g:["m","f","n","m-p","f-p","n-p","impf","pf"],haswikt:1,sc:"Cyrl"},bh:{haswikt:1,sc:"Deva"},bhb:{sc:"Deva"},bi:{haswikt:1},blt:{sc:"Tavt"},bm:{haswikt:1,sc:["Latn","Nkoo","Arab"]},bn:{haswikt:1,sc:"Beng"},bo:{haswikt:1,sc:"Tibt"},br:{g:["m","f"],haswikt:1},ca:{g:["m","f","m-p","f-p"],haswikt:1},cdo:{sc:"Hani"},ce:{sc:"Cyrl"},ch:{haswikt:1},chr:{haswikt:1,sc:"Cher"},cjy:{sc:"Hani"},ckb:{wiktprefix:"ku",sc:"Arab",wsc:"ku-Arab"},cmn:{sc:"Hani",wiktprefix:"zh"},co:{haswikt:1},cpx:{sc:"Hani"},cr:{haswikt:1,sc:"Cans"},crh:{},cs:{g:["m","f","n","m-p","f-p","n-p","impf","pf"],haswikt:1},csb:{g:["m","f","n","m-p","f-p","n-p","impf","pf"],haswikt:1},cu:{g:["m","f","n","m-p","f-p","n-p","impf","pf"],sc:["Cyrs","Glag"]},cv:{sc:"Cyrl"},cy:{g:["m","f","m-p","f-p"],haswikt:1},czh:{sc:"Hani"},czo:{sc:"Hani"},da:{g:["c","n","c-p","n-p"],haswikt:1},dax:{},de:{g:["m","f","n","p"],haswikt:1},dhg:{},djb:{},dji:{},djr:{},dng:{sc:"Cyrl"},dsb:{g:["m","f","n",
"m-p","f-p","n-p","impf","pf"]},dsx:{},duj:{},dv:{g:["s","p"],haswikt:1,sc:"Thaa"},dz:{haswikt:1,sc:"Tibt"},el:{g:["m","f","n","m-p","f-p","n-p"],haswikt:1},en:{g:["s","p"],haswikt:1},eo:{g:["s","p"],haswikt:1},es:{g:["m","f","m-p","f-p"],haswikt:1},et:{g:["s","p"],haswikt:1},ett:{g:["s","p"],sc:"Ital"},eu:{g:["s","p"],haswikt:1},fa:{haswikt:1,sc:"Arab",wsc:"fa-Arab"},fi:{g:["s","p"],haswikt:1},fil:{},fj:{haswikt:1},fo:{g:["m","f","n"],haswikt:1},fr:{g:["m","f","m-p","f-p"],haswikt:1},frm:{g:["m","f","m-p","f-p"]},fro:{g:["m","f","m-p","f-p"]},fy:{g:["c","n","p"],haswikt:1},ga:{g:["m","f","m-p","f-p"],haswikt:1},gan:{sc:"Hani"},gd:{g:["m","f","m-p","f-p"],haswikt:1},gez:{sc:"Ethi"},gl:{g:["m","f","m-p","f-p"],haswikt:1},gmy:{sc:"Linb"},gn:{haswikt:1},gnn:{sc:"Latn"},got:{g:["m","f","n","m-p","f-p","n-p"],sc:"Goth"},grc:{g:["m","f","n","m-p","f-p","n-p"]},gu:{g:["m","f","n","m-p","f-p","n-p"],haswikt:1,sc:"Gujr"},guf:{sc:"Latn"},gv:{haswikt:1},ha:{haswikt:1},hak:{sc:"Hani"},har:{sc:
"Ethi"},he:{alt:1,g:["m","f","m-p","f-p"],haswikt:1,sc:"Hebr"},hi:{g:["m","f","m-p","f-p"],haswikt:1,sc:"Deva"},hif:{sc:["Latn","Deva"]},hit:{sc:"Xsux"},hsb:{g:["m","f","n","m-p","f-p","n-p","impf","pf"],haswikt:1},hsn:{sc:"Hani"},hu:{g:["s","p"],haswikt:1},hy:{haswikt:1,sc:"Armn"},ia:{haswikt:1},id:{haswikt:1},ie:{haswikt:1},ik:{haswikt:1},ike:{sc:"Cans"},ikt:{sc:"Cans"},io:{haswikt:1},is:{g:["m","f","n","m-p","f-p","n-p"],haswikt:1},it:{g:["m","f","m-p","f-p"],haswikt:1},iu:{haswikt:1,sc:"Cans"},ja:{haswikt:1,sc:"Jpan"},jay:{sc:"Latn"},jbo:{haswikt:1},jv:{haswikt:1},ka:{haswikt:1},khb:{sc:["Talu","Lana","Thai"]},kjh:{sc:"Cyrl"},kk:{haswikt:1,sc:"Cyrl"},kkh:{sc:["Lana","Thai"]},kl:{haswikt:1},km:{haswikt:1,sc:"Khmr"},kn:{haswikt:1,sc:"Knda"},kmr:{wiktprefix:"ku"},ko:{haswikt:1,sc:"Kore"},krc:{g:["s","p"],sc:"Cyrl"},ks:{haswikt:1,sc:["Arab","Deva"],wsc:"ks-Arab"},ku:{g:["m","f","n","m-p","f-p","n-p"],haswikt:1,sc:["Arab","Latn"],wsc:"ku-Arab"},kw:{haswikt:1},ky:{haswikt:1,sc:"Cyrl"},la
:{alt:1,g:["m","f","n","m-p","f-p","n-p"],haswikt:1},lb:{haswikt:1},lez:{sc:"Cyrl"},li:{haswikt:1},lki:{wiktprefix:"ku"},ln:{haswikt:1},lo:{haswikt:1,sc:"Laoo"},lt:{alt:1,g:["m","f","m-p","f-p"],haswikt:1},lv:{g:["m","f","m-p","f-p"],haswikt:1},lzz:{sc:"Geor"},mg:{haswikt:1},mh:{haswikt:1},mi:{g:0,haswikt:1},mk:{g:["m","f","n","m-p","f-p","n-p","impf","pf"],haswikt:1,sc:"Cyrl"},ml:{haswikt:1,sc:"Mlym"},mn:{haswikt:1,sc:["Cyrl","Mong"]},mnp:{sc:"Hani"},mo:{haswikt:1,sc:"Cyrl"},mol:{sc:"Cyrl"},mr:{g:["m","f","n"],haswikt:1,sc:"Deva"},ms:{haswikt:1,sc:["Latn","Arab"]},mt:{g:["m","f"],haswikt:1},mwp:{sc:"Latn"},my:{haswikt:1,sc:"Mymr"},na:{haswikt:1},nah:{haswikt:1},nan:{wiktprefix:"zh-min-nan",sc:"Hani"},nb:{g:["m","f","n","m-p","f-p","n-p"],wiktprefix:"no"},"nds-de":{g:["m","f","n","m-p","f-p","n-p"],wiktprefix:"nds"},"nds-nl":{g:["m","f","n","m-p","f-p","n-p"],wiktprefix:"nds"},ne:{haswikt:1,sc:"Deva"},nl:{g:["m","f","n","p"],haswikt:1},nn:{g:["m","f","n","m-p","f-p","n-p"],haswikt:1},
no:{g:["m","f","n","m-p","f-p","n-p"],haswikt:1},nod:{sc:"Lana"},non:{g:["m","f","n","m-p","f-p","n-p"]},oc:{g:["m","f","m-p","f-p"],haswikt:1},om:{haswikt:1},or:{haswikt:1,sc:"Orya"},orv:{g:["m","f","n","m-p","f-p","n-p","impf","pf"],sc:"Cyrs"},osc:{sc:"Ital"},ota:{sc:"Arab",wsc:"ota-Arab"},pa:{g:["m","f","m-p","f-p"],haswikt:1,sc:["Guru","Arab"]},pdt:{g:["m","f","n","m-p","f-p","n-p"],wiktprefix:"nds"},peo:{sc:"Xpeo"},phn:{sc:"Phnx"},pi:{g:["m","f","n","m-p","f-p","n-p"],haswikt:1},pjt:{sc:"Latn"},pl:{g:["m","f","n","m-p","f-p","n-p","impf","pf"],haswikt:1},pox:{g:["m","f","n","m-p","f-p","n-p","impf","pf"]},ps:{g:["m","f","m-p","f-p","p"],haswikt:1,sc:"Arab",wsc:"ps-Arab"},pt:{g:["m","f","m-p","f-p"],haswikt:1},qu:{haswikt:1},rit:{sc:"Latn"},rm:{g:["m","f"],haswikt:1},rn:{haswikt:1},ro:{g:["m","f","n","m-p","f-p","n-p"],haswikt:1,sc:["Latn","Cyrl"]},"roa-rup":{haswikt:1},ru:{alt:1,g:["m","f","n","m-p","f-p","n-p","impf","pf"],haswikt:1,sc:"Cyrl"},rue:{g:["m","f","n","m-p","f-p",
"n-p","impf","pf"],sc:"Cyrl"},ruo:{g:["m","f","n","m-p","f-p","n-p"]},rup:{g:["m","f","n","m-p","f-p","n-p"],wiktprefix:"roa-rup"},ruq:{g:["m","f","n","m-p","f-p","n-p"]},rw:{haswikt:1},sa:{g:["m","f","n","m-p","f-p","n-p"],haswikt:1,sc:"Deva"},sah:{sc:"Cyrl"},sc:{haswikt:1},scn:{g:["m","f","m-p","f-p"],haswikt:1},sco:{sc:"Latn"},sd:{haswikt:1,sc:"Arab",wsc:"sd-Arab"},sdh:{wiktprefix:"ku"},sg:{haswikt:1},sh:{alt:1,g:["m","f","n","m-p","f-p","n-p","impf","pf"],haswikt:1,sc:["Latn","Cyrl"]},si:{haswikt:1,sc:"Sinh"},simple:{haswikt:1},sk:{g:["m","f","n","m-p","f-p","n-p","impf","pf"],haswikt:1},sl:{alt:1,g:["m","f","n","m-p","f-p","n-p","impf","pf"],haswikt:1},sm:{haswikt:1},sn:{haswikt:1},so:{haswikt:1},spx:{sc:"Ital"},sq:{g:["m","f"],haswikt:1},ss:{haswikt:1},st:{haswikt:1},su:{haswikt:1},sux:{sc:"Xsux"},sv:{g:["c","n","c-p","n-p"],haswikt:1},sva:{sc:"Geor"},sw:{nclass:1,haswikt:1},syc:{sc:"Syrc"},syr:{sc:"Syrc"},szl:{g:["m","f","n","m-p","f-p","n-p","impf","pf"]},ta:{haswikt:1,sc:
"Taml"},tdd:{sc:"Tale"},te:{haswikt:1,sc:"Telu"},tg:{haswikt:1},th:{haswikt:1,sc:"Thai"},ti:{haswikt:1,sc:"Ethi"},tig:{sc:"Ethi"},tiw:{sc:"Latn"},tk:{haswikt:1},tl:{haswikt:1,sc:["Latn","Tglg"]},tmr:{sc:"Hebr"},tn:{haswikt:1},to:{haswikt:1},tpi:{haswikt:1},tr:{g:["s","p"],alt:1,haswikt:1},ts:{haswikt:1},tt:{haswikt:1},tts:{sc:"Thai"},tw:{haswikt:1},udi:{sc:["Cyrl","Latn","Armn","Geor"]},ug:{haswikt:1,sc:"Arab",wsc:"ug-Arab"},uga:{sc:"Ugar"},uk:{g:["m","f","n","m-p","f-p","n-p","impf","pf"],haswikt:1,sc:"Cyrl"},ulk:{sc:"Latn"},ur:{g:["m","f","m-p","f-p"],haswikt:1,sc:"Arab",wsc:"ur-Arab"},uz:{haswikt:1},vec:{g:["m","f","m-p","f-p"],haswikt:1},vi:{haswikt:1},vls:{g:["m","f","n","m-p","f-p","n-p"]},vo:{haswikt:1},wa:{haswikt:1},wbp:{sc:"Latn"},wo:{haswikt:1},wuu:{sc:"Hani"},xae:{sc:"Ital"},xcr:{sc:"Cari"},xfa:{sc:"Ital"},xh:{alt:1,nclass:1,haswikt:1},xlc:{sc:"Lyci"},xld:{sc:"Lydi"},xlu:{sc:"Xsux"},xmf:{sc:"Geor"},xno:{g:["m","f","m-p","f-p"]},xrr:{sc:"Ital"},xst:{sc:"Ethi"},xum:{sc:"Ital"
},xve:{sc:"Ital"},xvo:{sc:"Ital"},yi:{g:["m","f","n","m-p","f-p","n-p"],haswikt:1,sc:"Hebr"},yo:{haswikt:1},yua:{g:["s","p"],alt:1},yue:{sc:"Hani"},za:{haswikt:1,sc:"Latn"},"zh-classical":{sc:"Hani"},"zh-min-nan":{haswikt:1},"zh-yue":{sc:"Hani"},zu:{alt:1,nclass:1,haswikt:1}};var clean={aar:"aa",afar:"aa",abk:"ab",abkhazian:"ab",afr:"af",afrikaans:"af",aka:"ak",akan:"ak",amh:"am",amharic:"am",ara:"ar",arabic:"ar",arg:"an",aragonese:"an",asm:"as",assamese:"as",ava:"av",avaric:"av",ave:"ae",avestan:"ae",aym:"ay",aymara:"ay",aze:"az",azerbaijani:"az",bak:"ba",bashkir:"ba",bam:"bm",bambara:"bm",bel:"be",belarusian:"be",ben:"bn",bengali:"bn",bis:"bi",bislama:"bi",bod:"bo",tibetan:"bo",bs:"sh",bos:"sh",bosnian:"sh",bre:"br",breton:"br",bul:"bg",bulgarian:"bg",cat:"ca",catalan:"ca",ces:"cs",czech:"cs",cha:"ch",chamorro:"ch",che:"ce",chechen:"ce",chu:"cu",churchslavic:"cu",chv:"cv",chuvash:"cv",cor:"kw",cornish:"kw",cos:"co",corsican:"co",cre:"cr",cree:"cr",cym:"cy",welsh:"cy",dan:"da",danish:
"da",deu:"de",german:"de",div:"dv",dhivehi:"dv",dzo:"dz",dzongkha:"dz",ekk:"et",ell:"el",greek:"el",eng:"en",english:"en",epo:"eo",esperanto:"eo",est:"et",estonian:"et",eus:"eu",basque:"eu",ewe:"ee",fao:"fo",faroese:"fo",fas:"fa",persian:"fa",fij:"fj",fijian:"fj",fil:"tl",fin:"fi",finnish:"fi",fra:"fr",french:"fr",fry:"fy",westernfrisian:"fy",ful:"ff",fulah:"ff",gla:"gd",scottishgaelic:"gd",gle:"ga",irish:"ga",glg:"gl",galician:"gl",glv:"gv",manx:"gv",grn:"gn",guarani:"gn",guj:"gu",gujarati:"gu",hat:"ht",haitian:"ht",hau:"ha",hausa:"ha",heb:"he",hebrew:"he",her:"hz",herero:"hz",hin:"hi",hindi:"hi",hmo:"ho",hirimotu:"ho",hr:"sh",hrv:"sh",croatian:"sh",hun:"hu",hungarian:"hu",hye:"hy",armenian:"hy",ibo:"ig",igbo:"ig",ido:"io",iii:"ii",sichuanyi:"ii",iku:"iu",inuktitut:"iu",ile:"ie",interlingue:"ie",ina:"ia",interlingua:"ia",ind:"id",indonesian:"id",ipk:"ik",inupiaq:"ik",isl:"is",icelandic:"is",ita:"it",italian:"it",jav:"jv",javanese:"jv",jpn:"ja",japanese:"ja",kal:"kl",kalaallisut:"kl",
kan:"kn",kannada:"kn",kas:"ks",kashmiri:"ks",kat:"ka",georgian:"ka",kau:"kr",kanuri:"kr",kaz:"kk",kazakh:"kk",khm:"km",centralkhmer:"km",kik:"ki",kikuyu:"ki",kin:"rw",kinyarwanda:"rw",kir:"ky",kirghiz:"ky",kom:"kv",komi:"kv",kon:"kg",kongo:"kg",kor:"ko",korean:"ko",ksh:"gmw-cfr",kua:"kj",kuanyama:"kj",kur:"ku",kurdish:"ku",kv:"kpv",lao:"lo",lat:"la",latin:"la",lav:"lv",latvian:"lv",lim:"li",limburgan:"li",lin:"ln",lingala:"ln",lit:"lt",lithuanian:"lt",ltz:"lb",luxembourgish:"lb",lub:"lu",lubakatanga:"lu",lug:"lg",ganda:"lg",mah:"mh",marshallese:"mh",mal:"ml",malayalam:"ml",mar:"mr",marathi:"mr",mhr:"chm",mari:"chm",mkd:"mk",macedonian:"mk",mlg:"mg",malagasy:"mg",mlt:"mt",maltese:"mt",mon:"mn",mongolian:"mn",mri:"mi",maori:"mi",msa:"ms",malay:"ms",mya:"my",burmese:"my",nau:"na",nauru:"na",wep:"nds-de",westphalian:"nds-de",germanlowgerman:"nds-de",dutchlowsaxon:"nds-nl",act:"nds-nl",achterhoeks:"nds-nl",drt:"nds-nl",drents:"nds-nl",gos:"nds-nl",gronings:"nds-nl",sdz:"nds-nl",sallands:
"nds-nl",stl:"nds-nl",stellingwerfs:"nds-nl",twd:"nds-nl",twents:"nds-nl",vel:"nds-nl",veluws:"nds-nl",nav:"nv",navajo:"nv",nbl:"nr",southndebele:"nr",nde:"nd",northndebele:"nd",ndo:"ng",ndonga:"ng",nep:"ne",nepali:"ne",nld:"nl",dutch:"nl",flemish:"nl",nno:"nn",norwegiannynorsk:"nn",nob:"nb",norwegianbokmal:"nb",nor:"no",norwegian:"no",nya:"ny",nyanja:"ny",oci:"oc",occitan:"oc",oji:"oj",ojibwa:"oj",ori:"or",oriya:"or",orm:"om",oromo:"om",oss:"os",ossetian:"os",pan:"pa",panjabi:"pa",pfl:"gmw-rfr",pli:"pi",pali:"pi",pol:"pl",polish:"pl",por:"pt",portuguese:"pt",pus:"ps",pushto:"ps",que:"qu",quechua:"qu",roh:"rm",romansh:"rm",ron:"ro",romanian:"ro",rn:"rw",run:"rw",rundi:"rw",rus:"ru",russian:"ru",sag:"sg",sango:"sg",san:"sa",sanskrit:"sa",sin:"si",sinhala:"si",slk:"sk",slovak:"sk",slv:"sl",slovenian:"sl",sme:"se",northernsami:"se",smo:"sm",samoan:"sm",sna:"sn",shona:"sn",snd:"sd",sindhi:"sd",som:"so",somali:"so",sot:"st",southernsotho:"st",spa:"es",spanish:"es",sqi:"sq",albanian:"sq",srd
:"sc",sardinian:"sc",sr:"sh",srp:"sh",serbian:"sh",ssw:"ss",swati:"ss",sun:"su",sundanese:"su",swa:"sw",swahili:"sw",swe:"sv",swedish:"sv",tah:"ty",tahitian:"ty",tam:"ta",tamil:"ta",tat:"tt",tatar:"tt",tel:"te",telugu:"te",tgk:"tg",taishanese:"zhx-tai",tajik:"tg",tgl:"tl",tagalog:"tl",teochew:"zhx-teo",tha:"th",thai:"th",tir:"ti",tigrinya:"ti",ton:"to",tonga:"to",tsn:"tn",tswana:"tn",tso:"ts",tsonga:"ts",tuk:"tk",turkmen:"tk",tur:"tr",turkish:"tr",twi:"tw",uig:"ug",uighur:"ug",ukr:"uk",ukrainian:"uk",urd:"ur",urdu:"ur",uzb:"uz",uzbek:"uz",ven:"ve",venda:"ve",vie:"vi",vietnamese:"vi",westflemish:"vls",vol:"vo",volapuk:"vo",wln:"wa",walloon:"wa",wol:"wo",wolof:"wo",xho:"xh",xhosa:"xh",yid:"yi",yiddish:"yi",yor:"yo",yoruba:"yo",zbc:"lod",zbe:"lod",zbw:"lod",zha:"za",zhuang:"za",zh:"cmn",zho:"cmn",chinese:"cmn",zul:"zu",zulu:"zu"};var c='Chinese';var a='Arabic';var nesting={aae:'Albanian/Arbëresh',aat:'Albanian/Arvanitika',als:'Albanian/Tosk',aln:'Albanian/Gheg',apj:'Apache',apm:'Apache',
apw:'Apache',syr:'Aramaic',syc:'Aramaic',xcl:'Armenian',axm:'Armenian',fro:'French',frm:'French',oge:'Georgian',gsw:'German',ksh:'German',pfl:'German',grc:'Greek/Ancient',gmy:'Greek/Mycenaean',chm:'Mari/Eastern Mari',sga:'Irish',mga:'Irish',kmr:'Kurdish/Northern Kurdish',ckb:'Kurdish/Central Kurdish',sdh:'Kurdish/Southern Kurdish',lki:'Kurdish/Laki',"nds-de":'Low German',"nds-nl":'Low German',nb:'Norwegian/Bokmål',nn:'Norwegian/Nynorsk',mhr:'Mari',mrj:'Mari/Western Mari',cmg:'Mongolian',cst:'Ohlone/Northern Ohlone',css:'Ohlone/Southern Ohlone',rmn:'Romani',rml:'Romani',rmc:'Romani',rmf:'Romani',rmo:'Romani',rmy:'Romani',rmw:'Romani',dsb:'Sorbian',hsb:'Sorbian',osp:'Spanish',tji:'Tujia/Northern Tujia',tjs:'Tujia/Southern Tujia',owl:'Welsh',wlm:'Welsh',"nai-ply":'Yokuts',"nai-bvy":'Yokuts',"nai-tky":'Yokuts',"nai-kry":'Yokuts',"nai-svy":'Yokuts',"nai-nvy":'Yokuts',"nai-dly":'Yokuts',zh:c,yue:c,dng:c,gan:c,hak:c,czh:c,cjy:c,cmn:c,mnp:c,cdo:c,nan:c,czo:c,cpx:c,wuu:c,hsn:c,lzh:c,"zhx-teo":
c,"zhx-tai":c,arq:a,aao:a,bbz:a,abv:a,shu:a,acy:a,adf:a,avl:a,arz:a,afb:a,ayh:a,acw:a,ayl:a,acm:a,ary:a,ars:a,apc:a,ayp:a,acx:a,aec:a,ayn:a,ssh:a,ajp:a,arb:a,apd:a,pga:a,acq:a,abh:a,aeb:a,auz:a};var diacriticStrippers={ab:{from:"ҔҕҦҧ",to:"ӶӷԤԥ"},abq:{from:"Il1",to:"ӏӏӏ"},ady:{from:"Il1",to:"ӏӏӏ"},av:{from:"Il1",to:"ӏӏӏ"},ce:{from:"Il1",to:"ӏӏӏ"},dar:{from:"Il1",to:"ӏӏӏ"},inh:{from:"Il1",to:"ӏӏӏ"},kbd:{from:"Il1",to:"ӏӏӏ"},lbe:{from:"Il1",to:"ӏӏӏ"},lez:{from:"Il1",to:"ӏӏӏ"},tab:{from:"Il1",to:"ӏӏӏ"},cv:{from:"ĂăĔĕ",to:"ӐӑӖӗ"},ang:{from:"ĀāǢǣĊċĒēĠġĪīŌōŪūȲȳ",to:"AaÆæCcEeGgIiOoUuYy",strip:"\u0304\u0307"},ar:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},aao:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},acm:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},acx:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},adf:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},aeb:{strip:
"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},afb:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},ajp:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},apc:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},apd:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},arq:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},ary:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},arz:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},fa:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},ps:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},sd:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},ur:{strip:"\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652"},chl:{from:"ÁáÉéÍíÓóÚú",to:"AaEeIiOoUu",strip:"\u0304"},he:{strip:"\u05B0\u05B1\u05B2\u05B3\u05B4\u05B5\u05B6\u05B7\u05B8\u05B9\u05BA\u05BB\u05BC\u05BD\u05BF\u05C1\u05C2",from:"-'\"",to:"־׳״"},la:{from:"ĀāĒēĪīŌōŪūȲȳ",to:"AaEeIiOoUuYy",
strip:"\u0304"},lt:{from:"áãàéẽèìýỹñóõòúù",to:"aaaeeeiyynooouu",strip:"\u0340\u0301\u0303"},nci:{from:"ĀāĒēĪīŌōŪūȲȳ",to:"AaEeIiOoUu",strip:"\u0304"},ro:{from:"ŞŢşţ",to:"ȘȚșț"},ru:{strip:"\u0300\u0301"},uk:{strip:"\u0300\u0301"},be:{strip:"\u0300\u0301"},bg:{strip:"\u0300\u0301"},orv:{strip:"\u0300\u0301"},cu:{strip:"\u0300\u0301"},rue:{strip:"\u0300\u0301"},mk:{strip:"\u0300\u0301"},kv:{from:"ÖöIi",to:"ӦӧІі"},koi:{from:"ÖöIi",to:"ӦӧІі"},kpv:{from:"ÖöIi",to:"ӦӧІі"},sh:{from:"ȀȁÀàȂȃÁáĀāȄȅÈèȆȇÉéĒēȈȉÌìȊȋÍíĪīȌȍÒòȎȏÓóŌōȐȑȒȓŔŕȔȕÙùȖȗÚúŪūѝӣ",to:"AaAaAaAaAaEeEeEeEeEeIiIiIiIiIiOoOoOoOoOoRrRrRrUuUuUuUuUuии",strip:"\u030F\u0300\u0311\u0301\u0304"},sl:{from:"áÁàÀâÂȃȂȁȀéÉèÈêÊȇȆȅȄíÍìÌîÎȋȊȉȈóÓòÒôÔȏȎȍȌŕŔȓȒȑȐúÚùÙûÛȗȖȕȔệỆộỘẹẸọỌəł",to:"aAaAaAaAaAeEeEeEeEeEiIiIiIiIiIoOoOoOoOoOrRrRrRuUuUuUuUuUeEoOeEoOel",strip:
"\u0301\u0300\u0302\u0311\u030f\u0323"},kk:{strip:"\u0300\u0301"},ky:{strip:"\u0300\u0301"},mn:{from:"ЄєѲѳЇїVv",to:"ӨөӨөҮүҮү",strip:"\u0300\u0301"},tg:{strip:"\u0300\u0301"},sa:{strip:"ः"},bo:{strip:"།"},tr:{from:"ÂâÛû",to:"AaUu",strip:"\u0302"},ja:{from:"０１２３４５６７８９",to:"0123456789"},cmn:{from:"０１２３４５６７８９",to:"0123456789"},yue:{from:"０１２３４５６７８９",to:"0123456789"},nan:{from:"０１２３４５６７８９",to:"0123456789"},ko:{from:"０１２３４５６７８９",to:"0123456789"},os:{from:"Ææ",to:"Ӕӕ"},uz:{from:"'`",to:"ʻʻ"},zu:{strip_init_hyphen:1}};this.hasWiktionary=function(lang){if(metadata[lang]&&(metadata[lang].haswikt||metadata[lang].wiktprefix))return true;};this.getWiktionaryPrefix=function(lang){if(metadata[lang])return metadata[lang].wiktprefix||(metadata[lang].haswikt&&lang);};this.ignoreCaps={"ko":!0};this.hasWiktionaryWithEntry=function(lang,title,callback){if(this.hasWiktionary(lang
)){if(this.ignoreCaps[lang])title=title.replace(/^\^/,"");$.getJSON('//'+this.getWiktionaryPrefix(lang)+'.wiktionary.org/w/api.php'+'?format=json&action=query&titles='+encodeURIComponent(title)+'&converttitles=1&callback=?',function(data){data=data&&data.query&&data.query.pages;if(data){callback(!data[-1]);return;}callback(false);});}else callback(false);};this.guessScript=function(lang){var scripts=(new ScriptUtils()).GetScriptsByLangCode(lang);if(scripts&&scripts.length>0)return scripts[0];else return false;if(metadata[lang]){if(metadata[lang].wsc){return metadata[lang].wsc;}if(metadata[lang].sc){if(typeof metadata[lang].sc=='object')return metadata[lang].sc[0];else return metadata[lang].sc;}}return false;};this.expectedCase=function(lang,title,word){if(lang=='de'||lang=='lb')return true;if(title.substr(0,1).toLowerCase()!=title.substr(0,1))return true;return word.substr(0,1).toLowerCase()==word.substr(0,1);};this.getGenders=function(lang){if(metadata[lang])return metadata[lang].g;};
this.hasNounClasses=function(lang){if(metadata[lang])return metadata[lang].nclass;};this.needsRawPageName=function(lang){if(metadata[lang])return metadata[lang].alt&&!diacriticStrippers[lang];};this.computeRawPageName=function(lang,word){if(diacriticStrippers[lang]){var stripper=diacriticStrippers[lang];var map={};if(stripper.from&&stripper.to){for(var i=0;i<stripper.from.length;i++){map[stripper.from.charAt(i)]=stripper.to.charAt(i);}}if(stripper.strip){for(var ii=0;ii<stripper.strip.length;ii++){map[stripper.strip.charAt(ii)]="";}}var input=word.split("");var output="";for(var iii=0;iii<input.length;iii++){var repl=map[input[iii]];output+=repl?repl:input[iii];}if(stripper.strip_init_hyphen&&output.length>0&&output.charAt(0)=='-')output=output.substr(1);return output;}};this.retrieveRawPageName=function(lang,word,rawPageName,callback){var ents={'<':'lt','&':'amp','>':'gt'};var temps={'|':'!','=':'=','{':'(','}':')'};function encode(s){s=s||'';s=s.replace(/[|={}]/g,function(c){return'{{'
+temps[c]+'}}';});s=s.replace(/[<&>]/g,function(c){return'&'+ents[c]+';';});s=s.replace(/\t/g,' ');return s;}function removeDiacritics(s){return'{{#invoke:languages/templates|getByCode|'+lang+'|makeEntryName|'+encode(s)+'}}';}var text=removeDiacritics(word)+'\t'+removeDiacritics(rawPageName||word);$.ajax({dataType:"json",url:'/w/api.php',data:{format:'json',action:'expandtemplates',text:text},success:function(data){data=data&&data.expandtemplates&&data.expandtemplates['*'];if(/<!--/.test(data)){data=!1;}if(data){data=data&&data.split('\t');var wordMinus=data[0];var rawPageNameMinus=data[1];callback(rawPageNameMinus||wordMinus,rawPageNameMinus!=wordMinus);}else{callback(rawPageName||word,rawPageName&&rawPageName!=word);}}});};this.cleanLangCode=function(lang){var key=lang.toLowerCase().replace(' ','');if(clean[key])return clean[key];else return lang;};this.getNested=function(lang){if(nesting[lang])return nesting[lang];else return"";};function temporalSortKey(langname){return langname
.replace(/^(Ancient|Classical|Old|Middle|Early Modern|Modern) (.*)/,function(m,modifier,name){return({Ancient:0,Old:1,Middle:2,"Early Modern":3,Modern:4})[modifier]+name;});}this.nestsBefore=function(a,b){return temporalSortKey(a)<temporalSortKey(b);};this.getScripts=function(lang){var scripts=(new window.ScriptUtils()).GetScriptsByLangCode(lang)||[];return scripts;};};});mw.loader.implement("ext.gadget.VisibilityToggles@82jqn",function($,jQuery,require,module){(function VisibilityTogglesIIFE(){"use strict";function Toggle(showFunction,hideFunction){this.show=showFunction,this.hide=hideFunction;}Toggle.prototype={get status(){return this._status;},set status(newStatus){if(typeof newStatus!=="boolean")throw new TypeError("Value of 'status' must be a boolean.");if(newStatus===this._status)return;this._status=newStatus;if(this._status!==this.toggleCategory.status)this.toggleCategory.updateToggle(this._status);if(this._status)this.show();else this.hide();},};function BooleanStorage(key,name){if(typeof key!=="string")throw new TypeError("Expected string");if(!(typeof name==="string"&&name!=="")){throw new TypeError("Expected non-empty string");}this.key=key;this.name=name;function convertOldCookie(cookie){return cookie.split(';').filter(function(e){return e!=='';}).reduce(function(memo,currentValue){var match=/(.+?)=(\d)/.exec(currentValue);if(match){memo[
match[1]]=Boolean(Number(match[2]));}else{memo[currentValue]=!0;}return memo;},{});}var cookie=mw.cookie.get(key);if(cookie!==null){this.obj=$.extend(this.obj,convertOldCookie(cookie));mw.cookie.set(key,null);}}BooleanStorage.prototype={get:function(){return this.obj[this.name];},set:function(value){if(typeof value!=="boolean")throw new TypeError("Expected boolean");var obj=this.obj;if(obj[this.name]!==value){obj[this.name]=value;this.obj=obj;}},get obj(){if(typeof this.rawValue!=="string")return{};try{return JSON.parse(this.rawValue);}catch(e){if(e instanceof SyntaxError){return{};}else{throw e;}}},set obj(value){this.rawValue=JSON.stringify(value);},get rawValue(){return mw.storage.get(this.key);},set rawValue(value){return mw.storage.set(this.key,value);},};var asciiCssIdentifierRegex=/^[a-zA-Z][a-zA-Z0-9_-]+$/;function ToggleCategory(name,defaultStatus){this.name=name;this.sidebarToggle=this.newSidebarToggle();this.storage=new BooleanStorage("Visibility",name);this.status=this.
getInitialStatus(defaultStatus);}ToggleCategory.prototype=[];ToggleCategory.prototype.addToggle=function(showFunction,hideFunction){var toggle=new Toggle(showFunction,hideFunction);toggle.toggleCategory=this;this.push(toggle);toggle.status=this.status;return toggle;};function randomAsciiCssIdentifier(){var digits=9;var lowCodepoint="a".codePointAt(0),highCodepoint="z".codePointAt(0);return String.fromCodePoint(lowCodepoint+Math.floor(Math.random()*(highCodepoint-lowCodepoint))-1)+String(Math.floor(Math.random()*Math.pow(10,digits)));}function getCssIdentifier(name){name=name.replace(/\s+/g,"-");if(!asciiCssIdentifierRegex.test(name)){name=name.replace(/^[^a-zA-Z]+/,"").replace(/[^a-zA-Z_-]+/g,"");if(!asciiCssIdentifierRegex.test(name))name=randomAsciiCssIdentifier();}return name;}ToggleCategory.prototype.newSidebarToggle=function(){var name=getCssIdentifier(this.name);var id="p-visibility-"+name;var sidebarToggle=$("#"+id);if(sidebarToggle.length>0)return sidebarToggle;var listEntry=$(
"<li>");sidebarToggle=$("<a>",{id:id,href:"#visibility-"+this.name,}).click((function(){this.status=!this.status;this.storage.set(this.status);return false;}).bind(this));listEntry.append(sidebarToggle).appendTo(this.buttons);return sidebarToggle;};ToggleCategory.prototype.updateToggle=function(status){if(this.length>0&&this.every(function(toggle){return toggle.status===status;}))this.status=status;};ToggleCategory.prototype.getInitialStatus=function(defaultStatus){function isFragmentSet(name){return location.hash.toLowerCase().split("_")[0]==="#"+name.toLowerCase();}function isHideCatsSet(name){var match=/^.+?\?(?:.*?&)*?hidecats=(.+?)(?:&.*)?$/.exec(location.href);if(match!==null){var hidecats=match[1].split(",");for(var i=0;i<hidecats.length;++i){switch(hidecats[i]){case name:case"all":return false;case"!"+name:case"none":return true;}}}return false;}function isWiktionaryPreferencesCookieSet(){return mw.cookie.get("WiktionaryPreferencesShowNav")==="true";}return isFragmentSet(this.
name)||isHideCatsSet(this.name)||isWiktionaryPreferencesCookieSet()||(function(storedValue){return storedValue!==undefined?storedValue:Boolean(defaultStatus);}(this.storage.get()));};Object.defineProperties(ToggleCategory.prototype,{status:{get:function(){return this._status;},set:function(status){if(typeof status!=="boolean")throw new TypeError("Value of 'status' must be a boolean.");if(status===this._status)return;this._status=status;for(var i=0;i<this.length;i++)this[i].status=status;this.sidebarToggle.html((status?"Hide ":"Show ")+this.name);},},buttons:{get:function(){var buttons=$("#p-visibility ul");if(buttons.length>0)return buttons;buttons=$("<ul>");var collapsed=mw.cookie.get("vector-nav-p-visibility")==="false";var toolbox=$("<div>",{"class":"portal portlet "+(collapsed?"collapsed":"expanded"),"id":"p-visibility"}).append($("<h3>Visibility</h3>")).append($("<div>",{class:"pBody body"}).append(buttons));var insert=document.getElementById("p-lang")||document.getElementById(
"p-feedback");if(insert){$(insert).before(toolbox);}else{var sidebar=document.getElementById("mw-panel")||document.getElementById("column-one");$(sidebar).append(toolbox);}return buttons;}}});function VisibilityToggles(){this.togglesByCategory={};}VisibilityToggles.prototype.register=function(category,showFunction,hideFunction,defaultStatus){if(!(typeof category==="string"&&category!==""))return;var toggle=this.addToggleCategory(category,defaultStatus).addToggle(showFunction,hideFunction);return function(){toggle.status=!toggle.status;};};VisibilityToggles.prototype.addToggleCategory=function(name,defaultStatus){return(this.togglesByCategory[name]=this.togglesByCategory[name]||new ToggleCategory(name,defaultStatus));};window.alternativeVisibilityToggles=new VisibilityToggles();window.VisibilityToggles=window.alternativeVisibilityToggles;})();});mw.loader.implement("ext.gadget.catfix@1oxpn",function($,jQuery,require,module){jQuery(function(){'use strict';var wrapper;if(!(!window.disableCatfix&&mw.config.get('wgNamespaceNumber')===14&&(wrapper=document.getElementById("catfix"))))return;var langName=wrapper.className.split("CATFIX-")[1];wrapper=wrapper.getElementsByTagName("*")[0]||document.createElement("span");var anchor="";if(langName&&langName.length>0)anchor=langName;function isEntry(namespaceName,pageName){return["","Talk","Citations","Reconstruction"].indexOf(namespaceName)!=-1||(namespaceName=="Appendix"&&pageName.slice(0,langName.length+1)==langName+"/");}var formattedNamespaces=mw.config.get("wgFormattedNamespaces");function wrapNode(node,wrapper){var parent=node.parentNode;wrapper.appendChild(node);parent.appendChild(wrapper);}jQuery("#mw-pages > .mw-content-ltr li > a, #newest-and-oldest-pages tr li > a").each(function(){try{var titleobj=new mw.Title(this.textContent||this.innerText);var namespaceName=
formattedNamespaces[titleobj.getNamespaceId()];var pageName=titleobj.getNameText();if(!isEntry(namespaceName,pageName))return;if(namespaceName==="")this.hash=anchor;var textNodeToWrap;if(namespaceName===""){textNodeToWrap=this;}else{if(["Talk","Citations"].indexOf(namespaceName)!==-1){textNodeToWrap=document.createTextNode(pageName);$(this).empty().append(titleobj.getNamespacePrefix()).append(textNodeToWrap);}else if(["Reconstruction","Appendix"].indexOf(namespaceName)!==-1){var split=pageName.split("/",2);if(split.length!==2){throw new TypeError("Malformed title: "+pageName);}var langPrefix=split[0];var prefix=window.catfixReconstructedAsterisk?"":titleobj.getNamespacePrefix()+langPrefix+"/";textNodeToWrap=document.createTextNode((window.catfixReconstructedAsterisk?"*":"")+split[1]);$(this).empty().append(prefix).append(textNodeToWrap);}}wrapNode(textNodeToWrap,wrapper.cloneNode(false));}catch(e){console.error(e);}});});});mw.loader.implement("ext.gadget.defaultVisibilityToggles@yy32v",function($,jQuery,require,module){(function defaultVisibilityTogglesIIFE(){"use strict";var NavigationBarHide="hide ▲";var NavigationBarShow="show ▼";function getToggleCategory(element,defaultCategory){if($(element).find("table").first().is(".translations"))return"translations";var heading=element;while((heading=heading.previousElementSibling)){var num=heading.tagName.match(/H(\d)/);if(num)num=Number(num[1]);else continue;if(4<=num&&num<=6){if(heading.getElementsByTagName("span")[1])heading=heading.getElementsByTagName("span")[0];var text=jQuery(heading).text().toLowerCase().replace(/^\s+|\s+$/g,"").replace(/\s+/g," ").replace(/^[1-9][0-9.]+ ?/,"");if(/^[a-zA-Z0-9\s_-]+$/.test(text))return text;else break;}else if(num)break;}return defaultCategory;}function createNavToggle(navFrame){var navHead,navContent;for(var i=0,children=navFrame.childNodes;i<children.length;++i){var child=children[i];if(child.nodeName==="DIV"){
var classList=child.classList;if(classList.contains("NavHead"))navHead=child;if(classList.contains("NavContent"))navContent=child;}}if(!(navHead&&navContent))return;$(navHead).find("a").on("click",function(e){e.stopPropagation();});var $navToggle=$("<a>");$("<span>").addClass("NavToggle").append($navToggle).prependTo(navHead);navHead.style.cursor="pointer";var toggleCategory=$(navFrame).data("toggle-category")||getToggleCategory(navFrame,"other boxes");navHead.onclick=window.VisibilityToggles.register(toggleCategory,function show(){$navToggle.html(NavigationBarHide);if(navContent)navContent.style.display="block";},function hide(){$navToggle.html(NavigationBarShow);if(navContent)navContent.style.display="none";});}function setupHiddenQuotes(li){var HQToggle,liComp,dl;var HQShow="quotations ▼";var HQHide="quotations ▲";function show(){HQToggle.html(HQHide);$(li).children("ul").show();}function hide(){HQToggle.html(HQShow);$(li).children("ul").hide();}for(var k=0;k<li.childNodes.
length;k++){liComp=li.childNodes[k];if(liComp.nodeName.toLowerCase()==="dl"&&!dl){dl=liComp;}if(/^(ul|UL)$/.test(liComp.nodeName)){HQToggle=$("<a>");$(dl||liComp).before($("<span>").addClass("HQToggle").append(HQToggle));HQToggle.on("click",window.VisibilityToggles.register("quotations",show,hide));break;}}}function viewSwitching($rootElement){var showButtonText=$rootElement.data("vs-showtext")||"more ▼";var hideButtonText=$rootElement.data("vs-hidetext")||"less ▲";var toSkip=$rootElement.find(".vsSwitcher").find("*");var elemsToHide=$rootElement.find(".vsHide").not(toSkip);var elemsToShow=$rootElement.find(".vsShow").not(toSkip);var toggleElement=$rootElement.find(".vsToggleElement").not(toSkip).first();toggleElement.children("a").on("click",function(e){e.stopPropagation();});var toggleButton=$("<a>");$("<span>").addClass("NavToggle").append(toggleButton).prependTo(toggleElement);var toggleCategory=$rootElement.data("toggle-category");if(!toggleCategory){var classNames=
$rootElement.attr("class").split(/\s+/);for(var i=0;i<classNames.length;++i){var className=classNames[i].split("-");if(className[0]=="vsToggleCategory"){toggleCategory=className[1];}}}if(!toggleCategory)toggleCategory="others";toggleElement.css("cursor","pointer");toggleElement.on("click",window.VisibilityToggles.register(toggleCategory,function show(){toggleButton.html(hideButtonText);elemsToShow.hide();elemsToHide.show();},function hide(){toggleButton.html(showButtonText);elemsToShow.show();elemsToHide.hide();}));}window.listSwitcherRowCount=window.listSwitcherRowCount||3;function getListItemsToHide($listItems,columnCount,rowsInShowState){var count=$listItems.length;var itemsPerColumn=Math.ceil(count/columnCount);var $elemsToHide=$();if(itemsPerColumn>rowsInShowState){for(var i=0;i<columnCount;++i){var columnStart=i*itemsPerColumn;$elemsToHide=$elemsToHide.add($listItems.slice(columnStart+rowsInShowState,columnStart+itemsPerColumn));}}return $elemsToHide;}function enableListSwitch(
$rootElement,rowsInShowState){var $termList=$rootElement.find(".term-list");var $toggleElement=$rootElement.find(".list-switcher-element");var columnCount=parseInt($termList.data("column-count"),10);if(!(columnCount&&columnCount>0)){$toggleElement.hide();return;}var $listItems=$rootElement.find("ul").first().find("li");var $toHide=getListItemsToHide($listItems,columnCount,rowsInShowState);if($toHide.length===0){$toggleElement.hide();return;}$toggleElement.css("cursor","pointer");var $toggleButton=$("<a>");var rootBackgroundColor=$termList.css("background-color"),rootBackground=$termList.css("background");var $navToggle=$("<span>").addClass("NavToggle");if(rootBackgroundColor||rootBackground)$navToggle.css(rootBackgroundColor?"background-color":"background",rootBackgroundColor||rootBackground);$toggleElement.children("a").on("click",function(e){e.stopPropagation();});var toggleCategory=$rootElement.data("toggle-category")||getToggleCategory($rootElement[0],"other lists");var
showButtonText=$toggleElement.data("showtext")||"more ▼";var hideButtonText=$toggleElement.data("hidetext")||"less ▲";$toggleElement.on("click",window.VisibilityToggles.register(toggleCategory,function show(){$toggleButton.html(hideButtonText);$toHide.show();},function hide(){$toggleButton.html(showButtonText);$toHide.hide();}));$navToggle.append($toggleButton).prependTo($toggleElement);$toggleElement.show();}window.createNavToggle=createNavToggle;window.setupHiddenQuotes=setupHiddenQuotes;window.viewSwitching=viewSwitching;window.getToggleCategory=getToggleCategory;$(function(){var divs=jQuery(".NavFrame");for(var i=0;i<divs.length;i++){createNavToggle(divs[i]);}if(mw.config.get("wgNamespaceNumber")===0){$("ol > li").each(function(){setupHiddenQuotes(this);});}$(".vsSwitcher").each(function(){viewSwitching($(this));});$(".list-switcher").each(function(){enableListSwitch($(this),window.listSwitcherRowCount);});});jQuery(mw).on("LivePreviewDone",function(ev,sels){var ols=jQuery(sels
.join(",")).find("ol");for(var i=0;i<ols.length;i++){for(var j=0;j<ols[i].childNodes.length;j++){var li=ols[i].childNodes[j];if(li.nodeName.toUpperCase()=="LI"){setupHiddenQuotes(li);}}}});})();});mw.loader.implement("ext.gadget.zhDialMap@140qf",function($,jQuery,require,module){'use strict';mw.loader.load('oojs-ui-core');var classes={dotHover:'zh-dial-map__dot--hover',dotSuperHover:'zh-dial-map__dot--superHover',legendRowHover:'zh-dial-map__legend-row--hover',};var groupZH={'Mandarin':'官話','Cantonese':'粵語','Hakka':'客家話','Huizhou':'徽語','Gan':'贛語','Jin':'晉語','Min Bei':'閩北語','Min Dong':'閩東語','Min Nan':'閩南語','Puxian Min':'莆仙閩語','Zhongshan Min':'中山閩語','Min Zhong':'閩中語','Pinghua':'平話','Shehua':'畬話','Wu':'吳語','Xiang':'湘語',};function zh(data){var element;if(data.type=='lang'){element=$('<span>');}else if(data.type=='link'){element=$('<a>').attr('href','/wiki/'+data.word+'#Chinese');}element.addClass('Hani').attr('lang','zh').text(data.alt?data.alt:data.word);if(data.red)element.addClass('new');return element;}if($('.zh-dial-map__map').length){var dots;var redLinks={};var wordLocations={};var otherTerms=[]
;var activePopup;var popups=[];var mapImg=$('.zh-dial-map__map img');$('.zh-dial-map__map, .zh-dial-map__map img').css('width',mapImg.attr('width')+'em').css('height',mapImg.attr('height')+'em');mapImg.removeAttr('width').removeAttr('height').attr('src',function(index,attr){return attr.replace('1200px','2400px');}).removeAttr('srcset');var zoom=$('<input>');zoom.addClass('zh-dial-map__zoomController').attr('type','range').attr('min',0.1).attr('max',3).attr('step',0.1).val(1).on("change",function(){console.log($(this).val());$('.zh-dial-map__map').css("font-size",$(this).val()+"px");});var zoomContainer=$('<span>');zoomContainer.addClass('zh-dial-map__zoomContainer').append(zoom).prependTo('.zh-dial-map__container');$('.zh-dial-map__legend-row').on("touchstart mouseenter",function(){var word=$(this).data('word');var isOther=(word=='other');if(isOther){dots=$('.zh-dial-map__dot-other');}else{dots=$('.zh-dial-map__dot[data-word='+word+']');}$(this).addClass(classes.legendRowHover);dots.
addClass(classes.dotHover);if(!wordLocations[word]){wordLocations[word]=[];dots.each(function(index){var location=[$(this).data('location-en'),$(this).data('location-zh'),$(this).data('group')];wordLocations[word].push(location);if(isOther){var otherWord=$(this).data('word');otherTerms.push(otherWord);if(!redLinks[otherWord])redLinks[otherWord]=$(this).parent().hasClass('new');}});}if(!popups[word]){var locationsList=$('<ul></ul>').addClass('zh-dial-map__legend-row-locations');$.each(wordLocations[word],function(index,value){if(isOther)word=otherTerms[index];var locationEn=value[0],locationZh=value[1],group=value[2];var listItem=$('<li></li>');listItem.append(zh({type:'lang',word:locationZh+groupZH[group]})).append(' ('+locationEn+' '+group+')');if(isOther)listItem.append(': ').append(zh({type:'link',word:otherTerms[index],red:redLinks[word]}));var locationDot=$('[data-location-zh='+locationZh+'][data-word='+word+']');listItem.hover(function(){locationDot.addClass(classes.dotSuperHover
);},function(){locationDot.removeClass(classes.dotSuperHover);});listItem.appendTo(locationsList);});popups[word]=new OO.ui.PopupWidget({$content:locationsList,});$(this).append(popups[word].$element);}popups[word].toggle(true);activePopup=popups[word];});$('.zh-dial-map__legend-row').on("touchend mouseleave",function(){$(this).removeClass(classes.legendRowHover);dots.removeClass(classes.dotHover);activePopup.toggle(false);});}},{"css":[
".zh-dial-map__container{margin:auto;max-width:1100px;position:relative}.zh-dial-map__zoomContainer{position:absolute;top:0;left:0;background:rgba(255,255,255,0.5);z-index:1;margin:1em;padding:0.5em;font-size:1em;opacity:0.5;transition:opacity 1s; }.zh-dial-map__zoomContainer:hover{opacity:1;transition:opacity 0.2s; }.zh-dial-map__zoomController{vertical-align:middle;margin:0 0.5em;padding:0;width:120px}.zh-dial-map__zoomContainer:before{content:\"10%\"}.zh-dial-map__zoomContainer:after{content:\"300%\"}.zh-dial-map__frame{max-height:80vh;width:100%;box-sizing:border-box; }.zh-dial-map__map{position:relative; margin:auto; }.zh-dial-map__map img{pointer-events:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.zh-dial-map__dot,.zh-dial-map__legend-row-dot{height:10px;width:10px;border-radius:100%; text-indent:100%;overflow:hidden}.zh-dial-map__legend-row-dot{display:inline-block;margin-right:0.5em}.zh-dial-map__dot{position:absolute;transform:translate(-50%,-50%); cursor:help}.zh-dial-map__dot:hover,.zh-dial-map__dot--hover{opacity:0.75;height:20px;width:20px;z-index:1;border:5px solid white}.zh-dial-map__dot--superHover{opacity:1;height:30px;width:30px;z-index:2;animation:.4s infinite alternate dotPulse; pointer-events:none}@keyframes dotPulse{from{opacity:0.75;height:20px;width:20px}to{opacity:1;height:30px;width:30px}}.zh-dial-map__legend{-ms-column-count:5;-moz-column-count:5;-webkit-column-count:5;column-count:5;line-height:1.4;padding:0.5em}.zh-dial-map__legend-row--hover,.oo-ui-popupWidget-popup li:hover{background:rgba(128,255,0,0.25)}.zh-dial-map__legend-row .oo-ui-popupWidget-popup{background-color:rgba(255,255,255,0.9);text-shadow:1px 1px 0 rgba(255,255,255,0.5)}  .zh-dial-map__legend-row .oo-ui-popupWidget:before,.zh-dial-map__legend-row .oo-ui-popupWidget:after{content:\"\";position:absolute;top:0;bottom:0;left:30%; right:30%; }.zh-dial-map__legend-row .oo-ui-popupWidget:before{top:-1.2em;background:transparent}.zh-dial-map__legend-row .oo-ui-popupWidget:after{bottom:-1.2em;background:transparent}"
]});