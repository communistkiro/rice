(window.webpackJsonp=window.webpackJsonp||[]).push([[133,98,138],{"+U0Y":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i="core.user-preferences.LANGUAGE_PREFERENCES_UPDATED";function a(e){return{type:i,languagePreferences:e}}},"+aHn":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("DMoW"),a=n("2xye");function r(e){switch(e){case i.D.ARCHIVE:return a.SpadeVideoBroadcastType.Archive;case i.D.HIGHLIGHT:return a.SpadeVideoBroadcastType.Highlight;case i.D.UPLOAD:return a.SpadeVideoBroadcastType.Upload;case i.D.PAST_PREMIERE:return a.SpadeVideoBroadcastType.PastPremiere;case i.D.PREMIERE_UPLOAD:return a.SpadeVideoBroadcastType.PremiereUpload;default:return e}}},"+kC+":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatLine_SubsOnlyUpsell_UserSubscriptionProducts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134}};n.loc.source={body:"query ChatLine_SubsOnlyUpsell_UserSubscriptionProducts($login: String!) {\nuser(login: $login) {\nid\nsubscriptionProducts {\nid\nurl\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatLine_SubsOnlyUpsell_UserSubscriptionProducts=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatLine_SubsOnlyUpsell_UserSubscriptionProducts")},"+l4d":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("ANjH"),o=n("1rIY"),s=n("bjUr"),l=Object(o.a)("ChatMenusContext",{chatView:s.a.Chat,isShowingRoomMemberList:!1,isShowingChatRules:!1,isShowingEmotePicker:!1,showChatViewerList:function(){return null},closeChatViewerList:function(){return null},showRoomMemberList:function(){return null},closeRoomMemberList:function(){return null},showChatRules:function(){return null},closeChatRules:function(){return null},showEmotePicker:function(){return null},closeEmotePicker:function(){return null}}),c=l.context,d=l.withContext,u=function(e){function t(t){var n=e.call(this,t)||this;return n.showChatViewerList=function(){n.props.viewManager&&n.props.viewManager.updateView(s.a.ViewerList),n.setState({chatView:s.a.ViewerList})},n.closeChatViewerList=function(){n.props.viewManager&&n.props.viewManager.updateView(s.a.Chat),n.setState({chatView:s.a.Chat})},n.showRoomMemberList=function(){n.setState({isShowingRoomMemberList:!0})},n.closeRoomMemberList=function(){n.setState({isShowingRoomMemberList:!1})},n.showChatRules=function(){n.setState({isShowingChatRules:!0})},n.closeChatRules=function(){n.setState({isShowingChatRules:!1})},n.showEmotePicker=function(){n.setState({isShowingEmotePicker:!0})},n.closeEmotePicker=function(){n.setState({isShowingEmotePicker:!1})},n.state={chatView:s.a.Chat,isShowingRoomMemberList:!1,isShowingChatRules:!1,isShowingEmotePicker:!1,showChatViewerList:n.showChatViewerList,closeChatViewerList:n.closeChatViewerList,showRoomMemberList:n.showRoomMemberList,closeRoomMemberList:n.closeRoomMemberList,showChatRules:n.showChatRules,closeChatRules:n.closeChatRules,showEmotePicker:n.showEmotePicker,closeEmotePicker:n.closeEmotePicker},n}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(c.Provider,{value:Object(i.__assign)(Object(i.__assign)({},this.state),{chatView:this.currentChatView})},this.props.children)},Object.defineProperty(t.prototype,"currentChatView",{get:function(){return this.props.viewManager?this.props.viewManager.view:this.state.chatView},enumerable:!0,configurable:!0}),t}(a.Component),m=Object(r.d)()(u);n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}))},"+pBb":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"p",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"m",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"o",(function(){return b})),n.d(t,"r",(function(){return k})),n.d(t,"q",(function(){return y})),n.d(t,"u",(function(){return S})),n.d(t,"t",(function(){return C})),n.d(t,"v",(function(){return E})),n.d(t,"n",(function(){return w})),n.d(t,"s",(function(){return O})),n.d(t,"J",(function(){return D})),n.d(t,"E",(function(){return N})),n.d(t,"N",(function(){return _})),n.d(t,"L",(function(){return I})),n.d(t,"H",(function(){return M})),n.d(t,"C",(function(){return T})),n.d(t,"I",(function(){return j})),n.d(t,"D",(function(){return P})),n.d(t,"G",(function(){return L})),n.d(t,"B",(function(){return R})),n.d(t,"K",(function(){return F})),n.d(t,"F",(function(){return A})),n.d(t,"y",(function(){return x})),n.d(t,"w",(function(){return U})),n.d(t,"x",(function(){return B})),n.d(t,"A",(function(){return V})),n.d(t,"M",(function(){return H})),n.d(t,"z",(function(){return G})),n.d(t,"O",(function(){return q})),n.d(t,"Q",(function(){return W})),n.d(t,"P",(function(){return z}));var i=n("Tznh"),a="chat.CHAT_HIDDEN",r="chat.CHAT_SHOWN",o="chat.EMOTE_SETS_UPDATED",s="chat.FOLLOWER_MODE_DURATION_PREFERENCE_CHANGED",l="chat.SLOW_MODE_DURATION_PREFERENCE_CHANGED",c="chat.AUTOMOD_ACTIONS_ENABLED",d="chat.AUTOMOD_ACTIONS_DISABLED",u="chat.EMOTE_PICKER_CLOSED",m="chat.EMOTE_PICKER_OPENED",p="chat.CLOSE_CHAT_RULES",h="chat.MODERATION_ACTIONS_ENABLED",f="chat.MODERATION_ACTIONS_DISABLED",g="chat.MOD_ICONS_ENABLED",v="chat.MOD_ICONS_DISABLED",b="chat.SHOW_CHAT_RULES",k="chat.TIMESTAMPS_ENABLED",y="chat.TIMESTAMPS_DISABLED",S="chat.VIEWER_CHAT_FILTER_ENABLED",C="chat.VIEWER_CHAT_FILTER_DISABLED",E="chat.VIEWER_CHAT_FILTER_SETTINGS_CHANGED",w="chat.RENDER_SENT_CHAT_MESSAGE",O="chat.UNHIDE_IGNORED_COMMAND";function D(){return{type:k}}function N(){return{type:y}}function _(){return{type:r}}function I(){return{type:a}}function M(){return{type:c}}function T(){return{type:d}}function j(){return{type:h}}function P(){return{type:f}}function L(){return{type:g}}function R(){return{type:v}}function F(e){return{type:S,source:e||i.c.Other}}function A(e){return{type:C,source:e||i.c.Other}}function x(e,t){return{type:E,settings:e,source:t||i.c.Other}}function U(e,t){return{type:s,channelLogin:e,duration:t}}function B(e,t){return{type:l,channelLogin:e,duration:t}}function V(){return{type:u}}function H(){return{type:m}}function G(){return{type:p}}function q(){return{type:b}}function W(e){return{type:w,customEvent:e}}function z(e){return{type:O,userID:e}}},"/7Tk":function(e,t,n){"use strict";var i=n("q1tI"),a=n("/7QA"),r=n("sUnt"),o=n("yymn"),s=n("+80q"),l=n("XQbB"),c=function(){return i.createElement(r.a,{fullHeight:!0,fullWidth:!0,padding:{y:5}},i.createElement(r.a,{display:o.g.Flex,justifyContent:o.l.Center,textAlign:o.p.Center},i.createElement(s.a,{type:s.e.H4,fontSize:o.j.Size4,bold:!0},Object(a.d)("Hang in there...","ActivityFeed"))),i.createElement(r.a,{justifyContent:o.l.Center,display:o.g.Flex,margin:{top:1}},i.createElement(r.a,{flexGrow:0,display:o.g.Inline,margin:"auto",textAlign:o.p.Center},i.createElement(s.a,{type:s.e.P,fontSize:o.j.Size5},Object(a.d)("We are loading your activity","ActivityFeed")))),i.createElement(r.a,{display:o.g.Flex,justifyContent:o.l.Center,margin:{top:5},padding:{top:5}},i.createElement(l.a,null)))};n.d(t,"a",(function(){return c}))},"/gva":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CurrentUserBannedStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:145}};n.loc.source={body:"query CurrentUserBannedStatus($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nself {\nbanStatus {\nisPermanent\nexpiresAt\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CurrentUserBannedStatus=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"CurrentUserBannedStatus")},"/nm5":function(e,t,n){},"/x02":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollTokenBreakdown"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollTokenBreakdown"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}],loc:{start:0,end:77}};n.loc.source={body:"fragment pollTokenBreakdown on PollTokenBreakdown {\nbits\ncommunityPoints\nid\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"04j6":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_ChatEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:116}};n.loc.source={body:"query Core_Services_Spade_ChatEvent_User($id: ID!) {\nuser(id: $id) {\nid\nisPartner\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Core_Services_Spade_ChatEvent_User=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Core_Services_Spade_ChatEvent_User")},"0EKw":function(e,t,n){"use strict";var i=n("q1tI"),a=n("SHn+"),r=n("kduP"),o=n("imSJ"),s=function(e){return i.createElement(a.a,{linkTo:{pathname:Object(r.a)(e.name),state:{content:"current_game",medium:e.medium}},label:Object(o.a)(),title:e.displayName,"data-a-target":"stream-game-link"})};n.d(t,"a",(function(){return s}))},"0FG4":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c}));var i,a=n("RcPG"),r=n("a1OF");!function(e){e[e.Position=0]="Position",e[e.Token=1]="Token"}(i||(i={}));var o="0";function s(e,t,n){var o,s,l=n.type===i.Position?t:e,c=n.map[l];if(c){var d=(o=e,s=c.id,{images:{sources:{"1x":Object(r.d)(s,1),"2x":Object(r.d)(s,2),"4x":Object(r.d)(s,4)},themed:!1},alt:o,emoteID:s});return{type:a.a.Emote,content:d}}return null}var l={"\\:\\&gt\\;":[":>"],"\\&gt\\;\\(":[">("],"\\&lt\\;\\]":["<]"],"\\&lt\\;3":["<3"],":-?(?:7|L)":[":-7",":-L",":7",":L"],"[oO](_|\\.)[oO]":["o_o","O_O","o_O","O_o","o.o","O.O","o.O","O.o"],"\\;-?(p|P)":[";-p",";-P",";p",";P"],"\\;-?\\)":[";-)",";)"],"\\:-?(o|O)":[":-o",":-O",":o",":O"],"\\:-?(p|P)":[":-p",":-P",":p",":P"],"\\:-?(S|s)":[":-S",":-s",":s",":S"],"\\:-?[\\\\/]":[":-/",":-\\",":/",":\\"],"\\:-?[z|Z|\\|]":[":-|",":-Z",":-z",":|",":Z",":z"],"\\:-?\\(":[":-(",":("],"\\:-?\\)":[":-)",":)"],"\\:-?D":[":-D",":D"],"#-?[\\\\/]":["#-/","#-\\","#/","#\\"],"B-?\\)":["B-)","B)"],"R-?\\)":["R-)","R)"]};function c(e){for(var t={},n=0,i=e;n<i.length;n++){var a=i[n];if(a&&a.emotes)for(var r=0,s=a.emotes;r<s.length;r++){var c=s[r];if(c&&c.id&&c.token)for(var d=0,u=l[c.token]||[c.token];d<u.length;d++){var m=u[d];t[m]&&a.id===o||(t[m]={id:c.id,token:m})}}}return t}},"0Hf3":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return b}));var i,a,r,o,s=n("mrSG"),l=n("/7QA"),c=n("DMoW"),d=n("2xye"),u=n("VAIx"),m=n("oK83");function p(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(n){return t={target_user_id:e.targetUserID,target_login:e.targetLogin,channel_id:e.channelID,channel_login:e.channelLogin,click_text:h(e.clickText),action:e.action},l.o.track(d.SpadeEventType.ChatProfileCardClick,t),[2]}))}))}function h(e){switch(e){case u.a.Messages:return i.Messages;case u.a.Timeouts:return i.Timeouts;case u.a.Bans:return i.Bans;case u.a.ModComments:return i.ModComments;default:return e}}function f(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,i,a;return Object(s.__generator)(this,(function(r){return t=e.data,n=t.channelUser,i=t.targetUser,a={target_user_id:i&&i.id||"",target_login:i&&i.login||e.targetLogin,channel_id:n&&n.id||e.channelID,channel_login:n&&n.login||e.channelLogin,profile_card_type:g(e),ui_context:m.b[e.sourceType]},l.o.track(d.SpadeEventType.ChatProfileCardOpen,a),[2]}))}))}function g(e){return e.data.currentUser&&e.data.channelUser&&e.data.currentUser.id===e.data.channelUser.id?r.Broadcaster:e.data.channelUser&&e.data.channelUser.self&&e.data.channelUser.self.isModerator?e.data.channelUser.modLogsRoleAccess&&e.data.channelUser.modLogsRoleAccess.accessLevel!==c.fc.NONE?r.ModWithChatlogs:r.ModWithoutChatlogs:r.RegularViewer}function v(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,i,a,r,c;return Object(s.__generator)(this,(function(s){return n=e.data,i=n.channelUser,a=n.targetUser,r=e.isPopout,c={comment_uuid:t.id,ui_context:r?o.Popout:o.Card,target_user_id:a&&a.id,target_login:a&&a.login,channel_id:i&&i.id||e.channelID,channel_login:i&&i.login||e.channelLogin,from_user_id:t.author&&t.author.id,from_user_login:t.author&&t.author.login},l.o.track(d.SpadeEventType.ClientModCommentAdd,c),[2]}))}))}function b(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,i,a,r,c;return Object(s.__generator)(this,(function(s){return n=e.data,i=n.channelUser,a=n.targetUser,r=e.isPopout,c={comment_uuid:t.id,ui_context:r?o.Popout:o.Card,target_user_id:a&&a.id,target_login:a&&a.login,channel_id:i&&i.id||e.channelID,channel_login:i&&i.login||e.channelLogin,from_user_id:t.author&&t.author.id,from_user_login:t.author&&t.author.login},l.o.track(d.SpadeEventType.ClientModCommentDelete,c),[2]}))}))}!function(e){e.Messages="messages",e.Timeouts="timeouts",e.Bans="bans",e.ModComments="mod_comments",e.PopOut="popout",e.Whisper="whisper"}(i||(i={})),function(e){e.Expand="expand",e.Collapse="collapse"}(a||(a={})),function(e){e.RegularViewer="regular_viewer",e.Broadcaster="broadcaster",e.ModWithChatlogs="mod_with_chatlogs",e.ModWithoutChatlogs="mod_without_chatlogs"}(r||(r={})),function(e){e.Card="chat_profile_card",e.Popout="chat_profile_card_popout"}(o||(o={}))},"0Rl0":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("q1tI"),a=n("uXHW"),r=n("fPaz"),o=n("PL8s"),s=n("AFv4"),l=n("sUnt"),c=n("yymn"),d=n("+80q"),u=function(){return i.createElement(a.a,null,i.createElement(r.b,{ratio:r.c.Aspect16x9},i.createElement(o.a,null)),i.createElement(s.a,null,i.createElement(l.a,{display:c.g.Flex,margin:{bottom:1}},i.createElement(l.a,{display:c.g.InlineBlock,margin:{top:1,right:1}},i.createElement(o.a,{width:40,height:56})),i.createElement(l.a,{display:c.g.InlineBlock,margin:{top:1}},i.createElement(d.a,null,i.createElement(o.a,{width:150})),i.createElement(d.a,{fontSize:c.j.Size7},i.createElement(o.a,{width:100}))))))}},"0WFu":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var i=n("3Bft");function a(e){return[i.a.Prime,i.a.Custom].includes(e)?null:parseInt(e,10)/1e3}function r(e){var t=e instanceof Date?e:new Date(e);return Math.round((t.getTime()-Date.now())/864e5)}},"0bws":function(e,t,n){"use strict";var i=n("/MKj"),a=n("mrSG"),r=n("1hWM"),o=function(e){function t(t){var n=e.call(this,t)||this;return n.updateContext({},t),n}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.updateContext(e,this.props)},t.prototype.render=function(){return null},t.prototype.updateContext=function(e,t){var n={};t.theme!==e.theme&&(n.theme=t.theme),t.game!==e.game&&(n.game=t.game),t.hostingInfo!==e.hostingInfo&&(n.hostingInfo=t.hostingInfo),Object.keys(n).length>0&&r.extensionService.postContext(n)},t}(n("q1tI").Component);var s=Object(i.b)((function(e){return{theme:e.ui.theme}}))(o);n.d(t,"a",(function(){return s}))},"0nsv":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("VbXa"),a=n.n(i),r=n("q1tI"),o=n("+80q"),s=n("sUnt"),l=n("yymn"),c=n("X2PJ"),d=n("wp5a"),u=(n("1tX4"),function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props.pill&&r.createElement(s.a,{margin:{right:.5},display:l.g.InlineBlock},r.createElement(d.a,this.props.pill)),t=this.props.title&&"string"==typeof this.props.title?r.createElement(c.a,{display:l.g.Inline,flexGrow:1,margin:{right:this.props.inline?.5:0},className:"tw-callout-message__title"},r.createElement(o.a,{lineHeight:o.b.Heading,type:o.e.H4,bold:!0,fontSize:l.j.Size4},this.props.title)):this.props.title;return r.createElement(s.a,{className:"tw-callout-message"},(e||t)&&r.createElement(s.a,{display:l.g.Inline,className:"tw-callout-message__header"},e&&r.createElement(s.a,{display:l.g.InlineFlex,position:l.n.Relative,alignItems:l.b.Center,className:"tw-callout-message__pill"},e),t),this.props.description&&r.createElement(s.a,{display:this.props.inline?l.g.Inline:l.g.Block},this.props.description))},t}(r.Component));u.displayName="CalloutMessage"},"10eq":function(e,t,n){"use strict";var i=n("/MKj"),a=n("ANjH"),r=n("1/iK"),o=n("y5D0"),s=n("kRBY"),l=n("mrSG"),c=n("q1tI"),d=n("/7QA"),u=n("yR8l"),m=n("T7Bf");var p=n("GnwI"),h=n("+80q"),f=n("Jsra"),g=(n("uYye"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleLoginClick=function(){t.props.login()},t}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this.renderCampaignMessage();return e?c.createElement(h.a,{"data-test-selector":"drops-campaign-details"},e):null},t.prototype.renderCampaignMessage=function(){var e=this,t=function(e){if(e&&e.user&&e.user.id){var t=e.user.id,n=e.user,i=n.stream,a=n.lastBroadcast;if(!(i&&"live"===i.type&&a&&a.game&&a.game.activeDropCampaigns))return null;var r=!!i.isStreamDropsEnabled,o=!!a.game.self&&!!a.game.self.isDropsLinked,s="",l=a.game.activeDropCampaigns;return l.some((function(e){return s=e.connectionURL,e.isAvailableToAllChannels}))?{isGlobal:!0,campaignURL:s,isChannelLinked:r,isUserLinked:o}:l.some((function(e){return!!e.applicableChannels&&e.applicableChannels.some((function(e){return e.id===t}))}))?{isGlobal:!1,campaignURL:s,isChannelLinked:r,isUserLinked:o}:null}}(this.props.dropsData);return t?t.isChannelLinked?this.props.isLoggedIn?t.isUserLinked?Object(d.d)("<x:green>Drops enabled!</x:green> Watch for a chance to earn loot. You can only earn loot on one stream at a time. <x:link>Learn more</x:link>",{"x:green":function(e){return c.createElement(h.a,{type:h.e.Span,bold:!0,className:"drops-campaign-details__drops-success"},e)},"x:link":function(e){return c.createElement(f.a,{linkTo:"https://help.twitch.tv/s/article/how-to-earn-drops",targetBlank:!0},e)}},"DropsCampaignDetails"):Object(d.d)("Enable in-game Drops with <x:link>Account Link.</x:link>",{"x:link":function(e){return c.createElement(f.a,{linkTo:t.campaignURL,targetBlank:!0},e)}},"DropsCampaignDetails"):Object(d.d)("Enable in-game Drops with <x:link>Twitch Account.</x:link>",{"x:link":function(t){return c.createElement(f.a,{onClick:e.handleLoginClick},t)}},"DropsCampaignDetails"):Object(d.d)("Broadcaster has not enabled in-game Drops. <x:link>Learn More</x:link>",{"x:link":function(e){return c.createElement(f.a,{linkTo:"https://help.twitch.tv/customer/en/portal/articles/2754380-how-to-earn-drops",targetBlank:!0},e)}},"DropsCampaignDetails"):null},t}(c.Component)),v=Object(a.d)(Object(u.a)(m,{name:"dropsData",options:function(e){return{variables:{login:e.channelLogin,isLoggedIn:e.isLoggedIn}}}}),Object(p.withLatencyTracking)("DropsCampaignDetails",{autoReportInteractive:!0}))(g);var b=Object(i.b)((function(e){return{isLoggedIn:Object(s.f)(e)}}),(function(e){return Object(a.b)({login:function(){return Object(o.e)(r.a.DropsLoginButton)}},e)}))(v);n.d(t,"a",(function(){return b}))},"16Gl":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return d}));var i=n("tLDJ"),a=i.t,r=i.u;function o(e,t){return location.protocol+"//"+location.host+r(e,t)}var s=i.x,l=i.w,c=i.s;function d(e){return"/videos/"+e}},"1DIz":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollTopBitsContributor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollTopBitsContributor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:96}};n.loc.source={body:"fragment pollTopBitsContributor on PollTopBitsContributor {\nbitsAmount\nuser {\nid\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"1MDS":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return h}));var i=n("mrSG"),a=n("/7QA"),r=n("2xye"),o=n("oK83"),s=n("P5MF"),l=n("nR4f"),c=n("P6kH"),d={Unknown:"unknown",Chat:"chat",Room:"room",Whisper:"whisper",Vod:"vod"},u={Close:"close",ReportDropDown:"report_drop_down",Report:"report",Follow:"follow",Unfollow:"unfollow",Subscribe:"subscribe",ClickTryPrime:"click_try_prime",GoToChannel:"go_to_channel",Open:"open",ClickChannelName:"click_channel_name",CloseClickOtherEmote:"close_click_other_emote"},m={Available:"available",CreatorBanned:"creator_banned",LimitedTimeEmote:"limited_time_emote",GlobalEmote:"global_emote",Prime:"prime",Turbo:"turbo",OtherUnlockable:"other_unlockable"};function p(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,o,d,u,m,p,h,g,v,b,k,y,S,C,E;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:t={emoteID:e.emoticonID},n=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:l,variables:t})];case 2:return n=i.sent(),[3,4];case 3:return o=i.sent(),a.k.warn(o,"Failed to make query for emote info in EmoteCard reporting.",{emoteID:e.emoticonID}),[3,4];case 4:d=n&&n.data&&n.data.emote||null,n&&!d&&a.k.warn("Query for emote info in EmoteCard reporting returned no data.",{emoteID:e.emoticonID}),u=n&&n.data?Object(c.e)(n.data):c.a.Unknown,m=d&&d.subscriptionProduct&&d.subscriptionProduct.owner&&d.subscriptionProduct.owner.displayName||"",p=d&&d.subscriptionProduct&&d.subscriptionProduct.owner&&d.subscriptionProduct.owner.id||"",u===c.a.OWL2019&&(m=c.b,p=c.c),h={channelID:p},g=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,a.p.apollo.client.query({query:s,variables:h})];case 6:return g=i.sent(),[3,8];case 7:return v=i.sent(),a.k.warn(v,"Failed to make query for channel info in EmoteCard reporting.",{channelID:p}),[3,8];case 8:return b=g&&g.data&&g.data.user||null,g&&!b&&a.k.warn("Query for channel info in EmoteCard reporting returned no data.",{channelID:p}),k=!!b&&!!b.hasPrime,y=b&&b.self,S=!!y&&!!y.subscriptionBenefit,C=!!y&&!!y.canPrimeSubscribe,E={emote_location:e.emoteLocation,emoticon_id:e.emoticonID,chat_channel:e.chatChannel,chat_channel_id:e.chatChannelID,emote_channel:m,emote_channel_id:p,referrer_user_id:e.referrerUserID,action:e.action,is_subscribed:S,is_subscribed_tier:y&&y.subscriptionBenefit&&y.subscriptionBenefit.tier||"",emote_tier:d&&d.subscriptionProduct&&d.subscriptionProduct.tier||"",emote_status:f(u),has_prime:k,can_subscribe:C,msg_id:e.msgID},a.o.track(r.SpadeEventType.EmoteCardInteraction,E),[2]}}))}))}function h(e){switch(e){case o.a.chat:return d.Chat;case o.a.whisper:return d.Whisper;case o.a.vod:return d.Vod;case o.a.room:return d.Room;case o.a.unknown:default:return d.Unknown}}function f(e){switch(e){case c.a.Prime:return m.Prime;case c.a.Turbo:return m.Turbo;case c.a.OWL2019:case c.a.Subscription:return m.Available;case c.a.LimitedTime:return m.LimitedTimeEmote;case c.a.Unavailable:return m.CreatorBanned;case c.a.Global:return m.GlobalEmote;case c.a.TwoFactor:case c.a.Unknown:default:return m.OtherUnlockable}}},"1Rv/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_UnbanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnbanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:243}};n.loc.source={body:"mutation Chat_UnbanUserFromChatRoom($input: UnbanUserFromChatRoomInput!) {\nunbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_UnbanUserFromChatRoom=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_UnbanUserFromChatRoom")},"1VX3":function(e,t,n){"use strict";var i=n("W7Hf");n.d(t,"a",(function(){return i.a}))},"1bK4":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return p}));var i=n("/7QA"),a="subscriber",r=1e3,o=2e3,s="badge_modifier_channels",l="badge_modifier_launch_date",c="badge_modifier_help_link",d=new Date(Date.now()-31536e6).toString();function u(){return i.b.get(c,"")}function m(e){if(!e)return!1;var t=new Date(Date.now()),n=new Date(i.b.get(l,d)),a=i.b.get(s,[]);return t>=n&&a.includes(e)}function p(e,t){var n=new Map;if(0===e.length)return n;var i=0;if(t)i=parseInt(t.version,10),n=n.set(1,t);else{var a=e.find((function(e){return parseInt(e.version,10)===i}));a&&(n=n.set(1,a))}var s=e.find((function(e){return parseInt(e.version,10)===i+r}));s&&(n=n.set(2,s));var l=e.find((function(e){return parseInt(e.version,10)===i+o}));return l&&(n=n.set(3,l)),n}},"1k85":function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("q1tI"),o=n("/MKj"),s=n("Ty5D"),l=n("ANjH"),c=n("/7QA"),d=n("ZS2+"),u=n("eJ65"),m=n("1/iK"),p=n("XDCx"),h=n("y5D0"),f=n("DMoW"),g=n("2xye"),v=n("kRBY"),b=n("tiJ6"),k=n("Q34B"),y=n("dIU+"),S=n("GnwI"),C=n("/HY+"),E=n("4qQ0"),w=n("Ws8v"),O=n("sUnt"),D=n("yymn"),N=n("HSpZ"),_=n("Jsra"),I=n("HH5h"),M=n("+80q"),T=n("b7S+"),j=n("7d/q"),P=n("C7sF"),L=n("ygYM"),R=n("4wKg"),F=(n("axcf"),d.a.wrap((function(){return n.e(106).then(n.bind(null,"QjI3"))}),"SubscribeButton"));function A(e){return Object(c.d)("Report {hostChannelDisplayName}",{hostChannelDisplayName:e},"VideoPlayerHostingUI")}!function(e){e.ChannelName="hosting-ui__channel-name",e.UVHeader="hosting-ui__uv-header",e.MoreButton="hosting-ui__more-button",e.ReportHostChannelButton="hosting-ui__report-host-channel-button",e.ReportHostedChannelButton="hosting-ui__report-hosted-channel-button"}(i||(i={}));var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleReportHostClick=function(){var e=t.props.hostChannelID,n=t.props.hostChannelDisplayName||t.props.hostChannelID;e&&n&&t.openReportModal(e,n)},t.handleReportHostedClick=function(){var e=t.props.hostedChannelID,n=t.props.hostedChannelDisplayName||t.props.hostedChannelID;e&&n&&t.openReportModal(e,n)},t.openReportModal=function(e,n){t.props.isLoggedIn?t.props.showReportUserModal({onClose:t.handleReportModalClose,reportContext:{contentType:f.Mc.USER_REPORT,targetUserID:e},title:A(n)}):t.props.login()},t.handleReportModalClose=function(e){(e===E.b.MutationError||e===E.b.Success)&&t.props.history.push("/")},t}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.isVisible(this.props)!==this.isVisible(e)&&this.props.triggerPlayerReposition&&this.props.triggerPlayerReposition()},t.prototype.render=function(){var e=null;return this.isVisible(this.props)&&(e=this.renderUVHeader()),r.createElement(w.a,{className:"video-player-hosting-ui__container"},e,r.createElement("span",{key:"video-player"},this.props.children))},t.prototype.isVisible=function(e){var t=e.currentUser&&e.currentUser.roles&&e.currentUser.roles.isSiteAdmin;return this.props.contentType===k.a.LIVE&&!!e.hostedChannelDisplayName&&!t},t.prototype.renderUVHeader=function(){return r.createElement(O.a,{position:D.n.Relative,zIndex:D.s.Above},r.createElement(N.a,{type:N.f.SlideInBottom,delay:N.b.Medium,duration:N.c.Medium,enabled:!0},r.createElement(w.a,{className:"video-player-hosting-ui__header",display:D.g.Flex,background:D.d.Accent,alignItems:D.b.Center,padding:{x:1,y:.5},justifyContent:D.l.Between,"data-a-target":"hosting-ui-header"},r.createElement(_.a,{key:"hosting-ui-header",linkTo:{pathname:"/"+this.props.hostedChannelLogin,state:{medium:g.PageviewMedium.Channel,content:g.PageviewContent.Host}},"data-a-target":"hosting-ui-link","data-test-selector":i.UVHeader,type:_.b.Inherit},r.createElement(O.a,{display:D.g.Flex,alignItems:D.b.Center},r.createElement(I.a,{src:this.props.hostedChannelProfileImageURL||c.a.defaultAvatarURL,size:30,alt:this.renderAvatarAltText(),userLogin:this.props.hostedChannelLogin}),r.createElement(w.a,{margin:{left:1},fontSize:D.j.Size5},r.createElement(M.a,{type:M.e.Span,color:D.f.Overlay},Object(c.d)("Hosting {displayName}",{displayName:r.createElement(M.a,{type:M.e.Span,color:D.f.Overlay,"data-a-target":"hosting-ui-channel-name","data-test-selector":i.ChannelName,bold:!0},this.props.hostedChannelDisplayName)},"VideoPlayerHostingUI"))))),this.props.firstPageLoaded&&r.createElement(O.a,{padding:{y:.5},display:D.g.Flex,justifyContent:D.l.Between},!this.props.hideSocialButtons&&r.createElement(r.Fragment,null,r.createElement(O.a,{display:D.g.Flex,margin:{right:1}},r.createElement(y.FollowButton,{"data-a-target":"hosting-ui-follow-button",channelName:this.props.hostedChannelDisplayName||"",channelLogin:this.props.hostedChannelLogin,hostChannelLogin:this.props.hostChannelLogin||void 0,hostChannelID:this.props.hostChannelID||void 0,isHostedFollow:!0,followUIType:y.FollowButtonUIType.IconAndText,unfollowUIType:y.FollowButtonUIType.IconOnly,tooltipDirection:T.c.Top,hideDropdownWhenFollowing:!0,fullWidthButton:!0,hollowIcons:!0,animatedButton:!0,showTooltips:!0,alignRight:!0,overlayButton:!0})),r.createElement(O.a,{margin:{right:.5}},r.createElement(F,{channelLogin:this.props.hostedChannelLogin,hostChannelID:this.props.hostChannelID||void 0,hostChannelLogin:this.props.hostChannelLogin||void 0,subLocation:"channel_page","data-a-target":"hosting-ui-subscribe-button",overlayButton:!0}))),r.createElement(u.a,null,r.createElement(j.a,{ariaLabel:this.renderMoreOptionsText(),overlay:!0,icon:P.a.More,onClick:this.handleReportHostClick,"data-a-target":"hosting-ui-more-button","data-test-selector":i.MoreButton}),r.createElement(L.a,{direction:L.b.BottomRight,"data-a-target":"hosting-ui-more-balloon"},r.createElement(O.a,{padding:1},this.props.hostChannelID&&(this.props.hostChannelDisplayName||this.props.hostChannelLogin)&&r.createElement(R.a,{key:"Report Host",onClick:this.handleReportHostClick,"data-a-target":"hosting-ui-report-button","data-test-selector":i.ReportHostChannelButton,label:A(this.props.hostChannelDisplayName||this.props.hostChannelLogin)}),this.props.hostedChannelID&&(this.props.hostedChannelDisplayName||this.props.hostedChannelLogin)&&r.createElement(R.a,{key:"Report Hosted",onClick:this.handleReportHostedClick,"data-a-target":"hosting-ui-report-hosted-button","data-test-selector":i.ReportHostedChannelButton,label:A(this.props.hostedChannelDisplayName||this.props.hostedChannelLogin)}))))))))},t.prototype.renderMoreOptionsText=function(){return Object(c.d)("More options","HostingUI")},t.prototype.renderAvatarAltText=function(){return Object(c.d)("Hosted Channel {hostedChannelDisplayName}'s Avatar",{hostedChannelDisplayName:this.props.hostedChannelDisplayName||""},"VideoPlayerHostingUI")},t}(r.Component);var U=Object(l.d)(Object(b.c)((function(e){var t=e.hostedChannel;return{contentType:e.contentType,currentUser:e.currentUser,hostChannelLogin:e.channel&&e.channel.login,hostChannelID:e.channel&&e.channel.id,hostChannelDisplayName:e.channel&&e.channel.displayName,hostedChannelID:t?t.id:null,hostedChannelDisplayName:t?t.displayName:null,hostedChannelLogin:t?t.login:null,hostedChannelProfileImageURL:t?t.profileImageURL:null}})),Object(o.b)((function(e){return{isLoggedIn:Object(v.f)(e),firstPageLoaded:e.session.firstPageLoaded}}),(function(e){return Object(l.b)({login:function(){return Object(h.e)(m.a.ReportHoster)},showReportUserModal:function(e){var t=Object(a.__rest)(e,[]);return Object(p.e)(C.a,t)}},e)})),s.k,Object(S.withLatencyTracking)("HostingUI",{autoReportInteractive:!0}))(x);n.d(t,"a",(function(){return U}))},"1mB7":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsUserFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:99}};n.loc.source={body:"fragment communityPointsUserFragment on User {\nid\nself {\nsubscriptionBenefit {\nid\n}\nisModerator\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"1qVK":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WatchPartyUser_PrimeVideoBenefit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"accessToken"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"primeVideoBenefit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"accessToken"},value:{kind:"Variable",name:{kind:"Name",value:"accessToken"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartyError"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isValid"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:229}};i.loc.source={body:'#import "twilight/features/watch-party/models/watch-party-error-fragment.gql"\nquery WatchPartyUser_PrimeVideoBenefit($accessToken: String!) {\nprimeVideoBenefit(accessToken: $accessToken) {\nerror {\n...watchPartyError\n}\nisValid\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("JqNv").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.WatchPartyUser_PrimeVideoBenefit=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"WatchPartyUser_PrimeVideoBenefit")},"1tX4":function(e,t,n){},"26nv":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ChannelData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVIP"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:161}};n.loc.source={body:"query Chat_ChannelData($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nlogin\ndisplayName\nchatSettings {\nrules\n}\nself {\nisModerator\nisVIP\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_ChannelData=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_ChannelData")},"2D+f":function(e,t,n){},"2Ev9":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("DMoW"),r=function(){function e(e,t,n){this.count=0,this.globalsBySet=new Map,this.channelsBySet=new Map;var i=e.filter((function(e){return!!e})),a=t?t.filter((function(e){return!!e})):[];this.count=i.length+(t?a.length:0),this.indexBadges(i,this.globalsBySet,n),Array.isArray(t)&&this.indexBadges(a,this.channelsBySet,n)}return e.prototype.getBadge=function(e,t){var n=this.channelsBySet.get(e);return n&&n.has(t)?n.get(t)||null:void 0!==(n=this.globalsBySet.get(e))&&n.get(t)||null},e.prototype.indexBadges=function(e,t,n){e.forEach((function(e){n&&e.clickAction&&e.clickAction===a.m.SUBSCRIBE&&(e=Object(i.__assign)(Object(i.__assign)({},e),{channelName:n}));var r=t.get(e.setID);r||(r=new Map,t.set(e.setID,r)),r.set(e.version,e)}))},e}(),o=new r([],[],"")},"2EzP":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var i=n("XIZb"),a=Object(i.a)("MessageHandler"),r=a.withChatServiceManager,o=a.withContext,s=r,l=o((function(e){return{messageHandlerAPI:e.serviceAPI,setMessageHandlerAPI:e.setServiceAPI}}))},"2bi+":function(e,t,n){"use strict";n("DLhE");var i=n("ANjH"),a=n("/7QA"),r=n("mrSG"),o=n("V3Pk"),s=n("ZuiC"),l=function(e){return Object(r.__assign)({searchHits:[],videos:{}},e)};var c=n("sf7/"),d=n("DpwM"),u=n("g807"),m=n("RNNG"),p=n("Sfdh"),h=function(e){return Object(r.__assign)({comments:Object(u.c)(),currentVideoTime:0,cursor:{future:d.g,past:d.g},errorMessage:"",hasDismissedChatReplayError:!1,hasLoadedCurrentUserBlockedList:!1,hasLoadedData:!1,isPostCooldownActive:!1,isReplayFilterOn:!1,isScrollingSynced:!0,replyCursorMap:{},hideTimestamps:!1,isPlaybackBlocked:!1},e)},f=150;var g={apiToken:"",deviceId:""};var v={users:{}},b=function(e){return Object(r.__assign)({users:{}},e)};function k(e,t){var n=t.reduce((function(e,t){return e[t.id]=t,e}),{});return Object(r.__assign)(Object(r.__assign)({},e),n)}var y=Object(i.c)({comments:function(e,t){var n;switch(void 0===e&&(e=h()),t.type){case s.l:var i=Object(r.__assign)(Object(r.__assign)({},t.comments[0]),{highlight:!0,source:d.f});return Object(r.__assign)(Object(r.__assign)({},e),{comments:Object(u.d)(e.comments,[i]),isPostCooldownActive:!0});case s.m:return Object(r.__assign)(Object(r.__assign)({},e),{errorMessage:t.createError});case s.o:return Object(r.__assign)(Object(r.__assign)({},e),{errorMessage:t.errorMessage});case s.d:var a=t.comments[0].parentId,l=e.cursor,g=e.replyCursorMap,v=t.comments.slice();if(""===a)l=t.cursor;else if(g=Object(r.__assign)(Object(r.__assign)({},e.replyCursorMap),((n={})[a]=t.cursor.future,n)),t.cursor.future===d.g){var b=Object(u.b)(e.comments,a);if(b){var k=Object(r.__assign)(Object(r.__assign)({},b),{moreReplies:!1});v.push(k)}}var y=Object(u.d)(e.comments,v);return e.isScrollingSynced&&(y=Object(m.e)(y,f)),Object(r.__assign)(Object(r.__assign)({},e),{comments:y,cursor:l,hasLoadedData:!0,replyCursorMap:g});case s.e:return Object(r.__assign)(Object(r.__assign)({},e),{comments:Object(u.d)(Object(u.c)(),t.comments),hasLoadedData:!0,cursor:t.cursor,replyCursorMap:{}});case s.f:return Object(r.__assign)(Object(r.__assign)({},e),{hasLoadedData:!0});case o.c:return Object(r.__assign)(Object(r.__assign)({},e),{comments:Object(u.d)(Object(u.c)(),t.comments),cursor:t.cursor,hasLoadedData:!0,errorMessage:""});case o.b:return Object(r.__assign)(Object(r.__assign)({},h()),{hasLoadedData:!0,errorMessage:t.error});case c.c:return Object(r.__assign)(Object(r.__assign)({},e),{currentVideoTime:Math.floor(t.updatedTime),isPlaybackBlocked:!1});case c.a:return Object(r.__assign)({},h());case c.b:return Object(r.__assign)(Object(r.__assign)({},e),{isPlaybackBlocked:!0});case s.c:return Object(r.__assign)({},h());case s.n:return Object(r.__assign)(Object(r.__assign)({},e),{comments:Object(m.d)(e.comments,t.comment)});case s.k:var S=e.errorMessage;return S===Object(p.a)().messageCreatedTooQuickError&&(S=""),Object(r.__assign)(Object(r.__assign)({},e),{isPostCooldownActive:!1,errorMessage:S});case s.h:return Object(r.__assign)(Object(r.__assign)({},e),{isScrollingSynced:!1});case s.i:return Object(r.__assign)(Object(r.__assign)({},e),{comments:Object(m.e)(e.comments,f),isScrollingSynced:!0});case o.a:return Object(r.__assign)(Object(r.__assign)({},e),{comments:Object(m.a)(e.comments,(function(e){return e.commenter!==t.user}))});case s.p:return Object(r.__assign)(Object(r.__assign)({},e),{comments:Object(u.d)(e.comments,t.comments)});case s.g:return Object(r.__assign)(Object(r.__assign)({},e),{isReplayFilterOn:t.isReplayFilterOn});case s.a:return Object(r.__assign)(Object(r.__assign)({},e),{hasDismissedChatReplayError:!0});case s.j:return Object(r.__assign)(Object(r.__assign)({},e),{hideTimestamps:t.hideTimestamps});case s.b:return Object(r.__assign)(Object(r.__assign)({},e),{isReplayFilterOn:t.isReplayFilterOn,hideTimestamps:t.hideTimestamps});default:return e}},config:function(e){return void 0===e&&(e=g),e},users:function(e,t){switch(void 0===e&&(e=v),t.type){case s.d:case s.e:case o.c:case s.l:return{users:k(e.users,t.users)};case s.c:return Object(r.__assign)({},b());default:return e}},moderation:function(e,t){switch(void 0===e&&(e=l()),t.type){case o.c:return Object(r.__assign)(Object(r.__assign)({},e),{videos:(n=e.videos,i=t.videos,a=i.reduce((function(e,t){return e[t.id]=t,e}),{}),Object(r.__assign)(Object(r.__assign)({},n),a))});case o.d:return t.hits&&t.hits.results.length>0?Object(r.__assign)(Object(r.__assign)({},e),{searchHits:t.hits.results}):Object(r.__assign)(Object(r.__assign)({},e),{searchHits:[]});case s.c:return Object(r.__assign)({},l());default:return e}var n,i,a}});a.p.store.registerReducer("vodChat",y);n("WK0g"),n("ahza"),n("nxZp"),n("pU2t");var S=n("l41m"),C=n("HjbF"),E=n("kVrx"),w=n("ZUUl"),O=n("82xK"),D=n("zClW"),N=(n("3Ps+"),n("GCGb")),_=n("Zkco"),I=n("KD05"),M=n("fCiU"),T=n("XXm5"),j=n("znm4"),P=(n("pwkZ"),n("4OCo")),L=n("GEnX"),R=n("ngVu");n.d(t,"C",(function(){return S.d})),n.d(t,"p",(function(){return s.y})),n.d(t,"s",(function(){return c.f})),n.d(t,"r",(function(){return c.e})),n.d(t,"w",(function(){return C.c})),n.d(t,"x",(function(){return C.d})),n.d(t,"o",(function(){return C.a})),n.d(t,"n",(function(){return E.a})),n.d(t,"z",(function(){return E.b})),n.d(t,"B",(function(){return E.c})),n.d(t,"D",(function(){return w.a})),n.d(t,"E",(function(){return w.b})),n.d(t,"l",(function(){return O.a})),n.d(t,"q",(function(){return D.a})),n.d(t,"t",(function(){return D.b})),n.d(t,"A",(function(){return D.d})),n.d(t,"J",(function(){return D.j})),n.d(t,"F",(function(){return D.e})),n.d(t,"G",(function(){return D.f})),n.d(t,"H",(function(){return D.g})),n.d(t,"I",(function(){return D.h})),n.d(t,"b",(function(){return d.b})),n.d(t,"d",(function(){return d.d})),n.d(t,"a",(function(){return d.a})),n.d(t,"c",(function(){return d.c})),n.d(t,"y",(function(){return d.h})),n.d(t,"f",(function(){return N.b})),n.d(t,"i",(function(){return _.a})),n.d(t,"v",(function(){return I.b})),n.d(t,"u",(function(){return M.b})),n.d(t,"g",(function(){return T.a})),n.d(t,"h",(function(){return T.b})),n.d(t,"m",(function(){return j.a})),n.d(t,"k",(function(){return P.a})),n.d(t,"j",(function(){return L.a})),n.d(t,"e",(function(){return R.a}))},"2e6W":function(e,t,n){},"2zj6":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockModifiedEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockChosenModifiedSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockChosenModifiedSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:161}};n.loc.source={body:"mutation UnlockModifiedEmote($input: UnlockChosenModifiedSubscriberEmoteInput!) {\nunlockChosenModifiedSubscriberEmote(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UnlockModifiedEmote=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UnlockModifiedEmote")},"35qb":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductPriceInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PriceInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]}]}}],loc:{start:0,end:118}};n.loc.source={body:"fragment subscriptionProductPriceInfo on PriceInfo {\ncurrency\nexponent\ntotal\ndescription\nprice\nisTaxInclusive\nid\ntax\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"3Bft":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={Prime:"prime",Tier1:"1000",Tier2:"2000",Tier3:"3000",Custom:"Custom"}},"3GF+":function(e,t,n){"use strict";var i=n("q1tI"),a=n("X2PJ"),r=n("yymn");n("jPLR");function o(e){e.stopPropagation()}var s=function(e){return i.createElement(a.a,{fullWidth:e.fullWidth,className:e.className,display:r.g.InlineFlex},i.createElement("div",{className:"viewer-card-drag-cancel",onMouseDown:o},e.children))};n.d(t,"a",(function(){return s}))},"3Ps+":function(e,t){},"3kHA":function(e,t,n){"use strict";var i,a;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),function(e){e[e.Viewer=0]="Viewer",e[e.Vip=1]="Vip",e[e.Moderator=2]="Moderator",e[e.Broadcaster=3]="Broadcaster"}(i||(i={})),function(e){e.InvalidParameters="invalid_parameters",e.MissingParameters="missing_parameters",e.UnrecognizedCommand="unrecognized_command"}(a||(a={}))},"3sMn":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("1rIY"),o=Object(r.a)("ChatConfigContext",{hideOnboardingPrompts:!1,hideChatInputButtons:!1,hideRoomsDeprecationNotice:!1,showModViewIngress:!1,hideChatSettings:!1,isSettingsOpen:!1,updateChatConfigState:function(e){return null}}),s=o.context,l=o.withContext,c=function(e){function t(t){var n=e.call(this,t)||this;return n.updateChatConfigState=function(e){null===n.updateFrame&&(n.setState((function(t){return Object(i.__assign)(Object(i.__assign)({},t),e)})),n.updateFrame=setTimeout((function(){n.updateFrame=null}),0))},n.updateFrame=null,n.state={hideOnboardingPrompts:!1,hideChatInputButtons:!1,hideRoomsDeprecationNotice:!1,showModViewIngress:!1,hideChatSettings:!1,isSettingsOpen:!1,updateChatConfigState:n.updateChatConfigState},n}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(s.Provider,{value:this.state},this.props.children)},t}(a.Component);n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}))},"3tQW":function(e,t,n){"use strict";var i=n("mrSG"),a=n("w09P"),r=n("q1tI"),o=n("/MKj"),s=n("ANjH"),l=n("/7QA"),c=n("yR8l"),d=n("eDVu"),u=n("0Log"),m=n("geRD"),p=n("/aPz"),h=n("kRBY"),f=n("1rIY"),g=n("F6GT"),v=n("GSWs"),b=n("4+lN"),k="useHighContrastColors",y=Object(f.a)("HighContrastSettingContext",{setValue:function(){return null},value:!0}),S=y.context,C=y.withContext,E=function(e){function t(t){var n=e.call(this,t)||this;n.setValue=function(e){if(n.setState({localOverride:e}),l.m.set(k,e),n.props.isLoggedIn){var t=Object(i.__assign)(Object(i.__assign)({},Object(m.a)({isReadableChatColorsEnabled:e})),{optimisticResponse:{setReadableChatColorsEnabled:{__typename:"SetReadableChatColorsEnabledPayload",isReadableChatColorsEnabled:e}},update:function(t){var n;try{n=t.readQuery({query:b})}catch(e){return}if(n&&n.currentUser&&n.currentUser.chatUISettings){var i=a(n,(function(e){return e.currentUser.chatUISettings.isReadableChatColorsEnabled}),(function(){return e}));t.writeQuery({query:b,data:i})}}});n.props.setReadableChatColors(t)}},n.state={};var r=Object(g.b)().useHighContrastColors;return void 0!==r&&(Object(g.a)("useHighContrastColors"),l.m.set(k,r)),n}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(S.Provider,{value:{setValue:this.setValue,value:this.value}},this.props.children)},t.prototype.componentDidUpdate=function(e){this.hasData(this.props)&&!this.hasData(e)&&(this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled?l.m.set(k,this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled):this.setValue(this.value))},t.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},Object.defineProperty(t.prototype,"value",{get:function(){return void 0!==this.state.localOverride?this.state.localOverride:this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled?this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled:l.m.get(k,!0)},enumerable:!0,configurable:!0}),t}(r.Component);var w=Object(s.d)(Object(o.b)((function(e){return{isLoggedIn:Object(h.f)(e)}})),Object(c.a)(b,{skip:function(e){return!e.isLoggedIn}}),Object(d.a)((function(e){var t,n;return{query:b,topic:Object(p.T)((null===(n=null===(t=e.data)||void 0===t?void 0:t.currentUser)||void 0===n?void 0:n.id)||""),skip:!e.data||e.data.loading||!e.isLoggedIn,skipMessage:function(e){return e.type!==u.PubsubMessageType.UserPreferencesReadableChatColors},type:u.PubsubMessageType.UserPreferencesReadableChatColors,mutator:function(e,t){return t=a(t,(function(e){return e.currentUser.chatUISettings.isReadableChatColorsEnabled}),(function(){return e.new_value}))}}})),Object(c.a)(v,{name:"setReadableChatColors"}))(E);n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return w}))},"4+lN":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsReadableChatColors"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isReadableChatColorsEnabled"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:108}};n.loc.source={body:"query SyncedSettingsReadableChatColors {\ncurrentUser {\nid\nchatUISettings {\nisReadableChatColorsEnabled\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SyncedSettingsReadableChatColors=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SyncedSettingsReadableChatColors")},"41XU":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bannerImageURL"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:100}};n.loc.source={body:"query ChannelBanner($login: String!) {\nuser(login: $login) {\nid\ndisplayName\nlogin\nbannerImageURL\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelBanner=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelBanner")},"4G6/":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v}));var i=60,a=60*i,r=24*a,o=7*r,s=4*o+2*r,l=3,c=/([a-zA-Z])([0-9])/gi,d=/([0-9])([a-zA-Z])/gi,u=/^mo(nths?)?/,m=/^w(eeks?)?/,p=/^d(ays?)?/,h=/^h(ours?)?/,f=/^m(inutes?)?/;function g(e){if(!e)return"0s";var t=e,n="";if(t>s){var l=Math.floor(t/s);t-=l*s,n+=l+"mo"}if(t>o){var c=Math.floor(t/o);t-=c*o,n+=c+"w"}if(t>r){var d=Math.floor(t/r);t-=d*r,n+=d+"d"}if(t>a){var u=Math.floor(t/a);t-=u*a,n+=u+"h"}if(t>i){var m=Math.floor(t/i);t-=m*i,n+=m+"m"}return t>0&&(n+=t+"s"),n}function v(e){var t=0,n=e.replace(c,"$1 $2").replace(d,"$1 $2").split(/\W+/);if(n.length%2!=0)return null;for(var g=0;g<n.length;g+=2){var v=n[g],b=parseInt(v,10);if(Number.isNaN(b)||v.length>l)return null;var k=n[g+1];if(k.match(u))t+=b*s;else if(k.match(m))t+=b*o;else if(k.match(p))t+=b*r;else if(k.match(h))t+=b*a;else{if(!k.match(f))return null;t+=b*i}}return t}},"4HoE":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ModUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ModUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"modUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:125}};n.loc.source={body:"mutation ModUser($input: ModUserInput!){\nmodUser(input: $input) {\nchannel {\nid\nlogin\n}\ntarget {\nid\nlogin\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ModUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ModUser")},"4IKE":function(e,t,n){},"4L7N":function(e,t,n){"use strict";var i=n("/MKj"),a=n("kRBY"),r=n("mrSG"),o=n("q1tI"),s=n("VwyG"),l=n("X7Ac"),c=n("yR8l"),d=n("MLDe"),u=n("v8tf"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.data.clip,n="";if(t&&Array.isArray(t.videoQualities)&&t.videoQualities.length){var i=t.videoQualities[0];i&&i.sourceURL&&(n=i.sourceURL)}var a=this.props,r=a.broadcasterId,c=a.broadcasterLogin,u=a.forceShow;return o.createElement(s.a,{ownerLogin:this.props.broadcasterLogin,permittedRoles:{editor:!0,staff:!0}},(function(i){var a=i.permitted;return n&&(a||u)?o.createElement(l.a,{type:l.c.Download,text:e.props.slug,url:n,onShareClick:t?Object(d.c)(t.id,t.game&&t.game.name,r,c,e.props.pageType):void 0}):null}))},t}(o.Component),p=Object(c.a)(u)(m);var h=Object(i.b)((function(e){var t=Object(a.e)(e);return{userLogin:t?t.login:""}}))(p);n.d(t,"a",(function(){return h}))},"4NNl":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("q1tI"),a=n("sQmm"),r=n("sUnt"),o=n("yymn"),s=n("PL8s"),l=n("Ws8v"),c=function(){return i.createElement(i.Fragment,null,i.createElement(r.a,{display:o.g.Flex,flexDirection:o.h.Row,alignItems:o.b.End,justifyContent:o.l.End,padding:.5},i.createElement(r.a,{margin:{right:1}},i.createElement(s.a,{height:25,width:80})),i.createElement(r.a,null,i.createElement(s.a,{height:25,width:80}))),i.createElement(l.a,{border:!0,padding:2,display:o.g.Flex,alignItems:o.b.Center,justifyContent:o.l.Center,margin:{top:1,bottom:1}},i.createElement(r.a,null,i.createElement(s.a,{height:25,width:80}))),i.createElement(a.a,null))}},"4OCo":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("Sfdh"),s=n("Tqc9"),l=n("sUnt"),c=n("yymn"),d=n("Kae6");n("sbEw");function u(e){return e?"@"+e:""}var m=function(e){function t(t){var n=e.call(this,t)||this;return n.submitReply=function(){if(""!==n.state.newReplyText){if(n.props.isCreationCoolDownActive)return n.setState({showCoolDownState:!0}),void(n.props.onError&&n.props.onError(Object(o.a)().messageCreatedTooQuickError));n.props.onReplySubmit(n.state.newReplyText),n.setState({newReplyText:""})}},n.onChange=function(e){e.preventDefault(),n.setState({newReplyText:e.currentTarget.value})},n.onKeyDown=function(e){e.key===s.b&&(e.preventDefault(),n.submitReply()),n.props.onReplyFormClose&&e.key===s.c&&(e.preventDefault(),n.props.onReplyFormClose())},n.state={newReplyText:u(t.replyToUserDisplayName),showCoolDownState:!1},n}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=u(e.replyToUserDisplayName);return e.isCreationCoolDownActive||e.replyToUserDisplayName===t.prevReplyToUserDisplayName?e.isCreationCoolDownActive?e.replyToUserDisplayName!==t.prevReplyToUserDisplayName?{prevReplyToUserDisplayName:e.replyToUserDisplayName,newReplyText:n}:null:{showCoolDownState:!1}:{showCoolDownState:!1,prevReplyToUserDisplayName:e.replyToUserDisplayName,newReplyText:n}},t.prototype.render=function(){return a.createElement(l.a,{className:this.props.classNames,position:c.n.Relative},a.createElement(d.a,{error:this.state.showCoolDownState,maxLength:512,noResize:!0,onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:Object(r.d)("Reply","ReplyForm"),value:this.state.newReplyText}))},t}(a.Component)},"4S4c":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("/7QA"),a=n("D7An"),r=n("kRBY"),o=function(){i.p.experiments.getAndTrackAssignment(a.c.VXAA_All),!!Object(r.e)(i.p.store.getState())?i.p.experiments.getAndTrackAssignment(a.c.VXAA_LoggedIn):i.p.experiments.getAndTrackAssignment(a.c.VXAA_LoggedOut)}},"4TH8":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("GnwI"),o=n("i4Ys"),s=n("sUnt"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement("li",null,a.createElement(o.a,Object(i.__assign)({"data-test-selector":this.props.testSelector},this.props.interactableProps),a.createElement(s.a,{padding:{x:1,y:.5}},this.props.children)))},t=Object(i.__decorate)([Object(r.withLatencyTracking)("InteractableOption",{autoReportInteractive:!0})],t)}(a.Component);n.d(t,"a",(function(){return l}))},"4ilF":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("ANjH"),s=n("yR8l"),l=n("x7UT"),c=n("0Log"),d=n("geRD"),u=n("2Ygb"),m=n("/aPz"),p=n("kRBY"),h=n("4HoE"),f=n("FAYk"),g=n("6ovE"),v=n("X9Go"),b=n("a6LY"),k=n("H82h"),y=n("qMs1");function S(){return function(e){var t,n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.modUser=function(){var t=e.props,n=t.channelID,i=t.userID,a=t.modUserMutation;return n&&i&&a?a(Object(d.a)({channelID:n,targetID:i})).then((function(t){return e.updateUserModStatusQuery(!0),e.trackChatLoginModerationEvent(b.a.ModUser),t})):Promise.reject(new Error("channelID or userID not provided"))},e.unmodUser=function(){var t=e.props,n=t.channelID,i=t.userID,a=t.unmodUserMutation;return n&&i&&a?a(Object(d.a)({channelID:n,targetID:i})).then((function(t){return e.updateUserModStatusQuery(!1),e.trackChatLoginModerationEvent(b.a.UnmodUser),t})):Promise.reject(new Error("channelID or userID not provided"))},e.updateUserModStatusQuery=function(t){var n=e.props,i=n.channelID,a=n.currentUserID,r=n.userID;Object(d.i)(g,{channelID:i,userID:r},(function(e){var n=e&&e.user;return n?{user:{id:n.id,login:n.login,__typename:n.__typename,isModerator:t}}:e})),a===r&&e.updateSelfModStatusQuery(t)},e.updateSelfModStatusQuery=function(t){var n=e.props,a=n.channelID,r=n.currentUserID;n.userID===r&&Object(d.i)(y,{channelID:a},(function(e){var n=e&&e.user,a=n&&n.self;return n&&a?{user:{id:n.id,__typename:n.__typename,self:Object(i.__assign)(Object(i.__assign)({},a),{isModerator:t})}}:e}))},e.trackChatLoginModerationEvent=function(t){var n=e.props.userModStatusData&&e.props.userModStatusData.user&&e.props.userModStatusData.user.id,i=e.props.channelID,a=e.props.source;n&&i&&a&&Object(k.a)({actionType:t,channelID:i,targetUserID:n,source:a,page:e.props.page})},e}return Object(i.__extends)(n,t),n.prototype.componentDidUpdate=function(e){if((!e.pubsub.messages.moderatorActions||e.pubsub.messages.moderatorActions&&e.pubsub.messages.moderatorActions!==this.props.pubsub.messages.moderatorActions)&&this.props.pubsub.messages.moderatorActions)switch(this.props.pubsub.messages.moderatorActions.type){case c.PubsubMessageType.ModeratorAdded:this.updateUserModStatusQuery(!0);break;case c.PubsubMessageType.ModeratorRemoved:this.updateUserModStatusQuery(!1);break;default:return}},n.prototype.render=function(){var t={userModStatus:this.props.userModStatusData,modUser:this.props.channelID&&this.props.userID&&this.modUser||void 0,unmodUser:this.props.channelID&&this.props.userID&&this.unmodUser||void 0};return a.createElement(e,Object(i.__assign)({},this.props,t))},n.displayName=Object(u.a)(n.name,e),n}(a.Component);return Object(o.d)(Object(r.b)((function(e){var t=Object(p.e)(e);return{currentUserID:t&&t.id}})),Object(v.c)(v.b),Object(s.a)(h,{name:"modUserMutation",skip:function(e){return!(e.channelID&&e.userID)}}),Object(s.a)(f,{name:"unmodUserMutation",skip:function(e){return!(e.channelID&&e.userID)}}),Object(s.a)(g,{name:"userModStatusData",options:function(e){return{variables:{channelID:e.channelID,userID:e.userID}}},skip:function(e){return!(e.channelID&&e.userID)}}),Object(s.a)(y,{name:"selfModStatusData",options:function(e){return{variables:{channelID:e.channelID}}},skip:function(e){return!(e.channelID&&e.userID)||e.userID!==e.currentUserID}}),Object(l.a)([{topic:function(e){return Object(m.B)(e.userID||"",e.channelID||"")},mapMessageTypesToProps:(t={},t[c.PubsubMessageType.ModeratorAdded]="moderatorActions",t[c.PubsubMessageType.ModeratorRemoved]="moderatorActions",t),skipMessage:function(e,t){var n=e;return!t.userID||n.data.target_user_id!==t.userID}}]))(n)}}n.d(t,"a",(function(){return S}))},"4qQ0":function(e,t,n){"use strict";var i,a;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),function(e){e.BitsViolation="bits_violation",e.ChatBanEvasion="chat_ban_evasion",e.Cheating="cheating",e.Gore="gore",e.Harassment="harassment",e.Harm="harm",e.HatefulConduct="hateful_conduct",e.Impersonation="impersonation",e.Miscategorized="miscategorized",e.OffensiveUsername="offensive_username",e.Other="other",e.Porn="porn",e.Prohibited="prohibited",e.SelfHarm="selfharm",e.SexualContent="sexual_content",e.SexualViolence="sexual_violence",e.Spam="spam",e.TerrorismMassViolence="terrorism_mass_violence",e.TosBanEvasion="tos_ban_evasion",e.Underaged="underaged"}(i||(i={})),function(e){e[e.Unsubmitted=0]="Unsubmitted",e[e.Success=1]="Success",e[e.FormError=2]="FormError",e[e.MutationError=3]="MutationError",e[e.UserError=4]="UserError"}(a||(a={}))},"4w0E":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_BanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minTimeoutDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxTimeoutDurationSeconds"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:289}};n.loc.source={body:"mutation Chat_BanUserFromChatRoom($input: BanUserFromChatRoomInput!) {\nbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\nminTimeoutDurationSeconds\nmaxTimeoutDurationSeconds\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_BanUserFromChatRoom=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_BanUserFromChatRoom")},"4zGI":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DenyRejectedCheerMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DenyRejectedCheerInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"denyRejectedCheer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:115}};n.loc.source={body:"mutation Chat_DenyRejectedCheerMessage($input: DenyRejectedCheerInput!) {\ndenyRejectedCheer(input: $input) {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_DenyRejectedCheerMessage=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_DenyRejectedCheerMessage")},"52dQ":function(e,t,n){},"5Ijs":function(e,t,n){"use strict";var i,a=n("ANjH"),r=n("hbnN"),o=n("/7QA"),s=n("yR8l"),l=n("mrSG"),c=n("q1tI"),d=n("eJ65"),u=n("b7S+"),m=n("dEDE"),p=n("C7sF"),h=n("ygYM"),f=n("sUnt"),g=n("BQs+"),v=n("EuPq"),b=n("KYAw"),k=n("+80q"),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this,t=Object(b.a)(this.props.collection.id);return c.createElement("div",null,c.createElement(k.a,null,Object(o.d)("Collection Link","VideoShareBox")),c.createElement(v.a,{onClick:function(){e.props.onClick(t)},value:t}))},t}(c.Component),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickHandler=function(e){var n={location:t.props.tracking.location,platform:g.a.Link,shareURL:e};Object(g.b)(t.props.collection,n,o.p.apollo.client)},t}return Object(l.__extends)(t,e),t.prototype.render=function(){return c.createElement(y,Object(l.__assign)({},this.props,{onClick:this.onClickHandler}))},t}(c.Component);!function(e){e[e.Collection=0]="Collection",e[e.Video=1]="Video"}(i||(i={}));var C=n("EdhP"),E=n("2xye"),w=n("6zXJ");var O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.content,n=this.getEmbedPlayerContentURL(t);return c.createElement("div",null,c.createElement(k.a,null,Object(o.d)("Embed Video","VideoShareBox")),c.createElement(v.a,{onClick:function(){e.props.onClick(n)},value:this.getEmbedPlayerCode(t)}))},t.prototype.getEmbedPlayerCode=function(e){var t=function(e,t){var n={autoplay:!1};switch(e.type){case i.Collection:e.currentVideo?(n.video=e.currentVideo.id,n.t=t?Object(w.a)(t):void 0):n.collection=e.id;break;case i.Video:n.video=e.id,n.t=t?Object(w.a)(t):void 0}return n}(e,null!==this.props.selectedVideoStartTime?this.props.selectedVideoStartTime:void 0),n=e.owner.displayName,a=e.title,r=Object(o.d)("Watch {title} from {displayName} on www.twitch.tv",{displayName:n,title:a},"VideoShareBox");return Object(C.b)(t,{textLink:{url:this.getEmbedPlayerContentURL(e),text:r},allowScrolling:!1,allowFullscreen:!0})},t.prototype.getEmbedPlayerContentURL=function(e){switch(e.type){case i.Collection:return e.currentVideo?Object(b.b)(e.currentVideo.id,{tt_medium:E.PageviewMedium.VideoEmbed,tt_content:E.PageviewContent.TextLink,t:this.props.selectedVideoStartTime}):Object(b.a)(e.id,{tt_medium:E.PageviewMedium.VideoEmbed,tt_content:E.PageviewContent.TextLink});case i.Video:return Object(b.b)(e.id,{tt_medium:E.PageviewMedium.VideoEmbed,tt_content:E.PageviewContent.TextLink,t:this.props.selectedVideoStartTime});default:return e}},t}(c.Component),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickHandler=function(e){var n=t.props.content;switch(n.type){case i.Collection:n.currentVideo?t.trackVideoShare(e,n.currentVideo):t.trackCollectionShare(e,n);break;case i.Video:t.trackVideoShare(e,n);break;default:return n}},t}return Object(l.__extends)(t,e),t.prototype.render=function(){return c.createElement(O,Object(l.__assign)({},this.props,{onClick:this.onClickHandler}))},t.prototype.trackCollectionShare=function(e,t){var n={location:this.props.tracking.location,platform:g.a.Embed,shareURL:e};Object(g.b)(t,n,o.p.apollo.client)},t.prototype.trackVideoShare=function(e,t){var n={location:this.props.tracking.location,platform:g.a.Embed,shareURL:e};Object(g.c)(t,n,o.p.apollo.client)},t}(c.Component),N=n("X7Ac"),_=n("yymn"),I=[{type:N.c.Twitter,selector:"twitter-button"},{type:N.c.Facebook,selector:"fb-button"},{type:N.c.VKontakte,selector:"vk-button"},{type:N.c.Reddit,selector:"reddit-button"},{type:N.c.Copy,selector:"copy-link-button"}],M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.content,n=this.getContentURL(t),i=this.getSocialShareContextTitle(t),a=I.map((function(t){return c.createElement(N.a,{"data-test-selector":t.selector,key:t.type,onShareClick:function(t){e.props.onClick(n,t)},text:i,type:t.type,url:n})}));return c.createElement(f.a,{display:_.g.Flex,justifyContent:_.l.Between},a)},t.prototype.getSocialShareContextTitle=function(e){return Object(o.d)("Check out {title} from {displayName} on www.twitch.tv",{displayName:e.owner.displayName,title:e.title},"VideoShareBox")},t.prototype.getContentURL=function(e){switch(e.type){case i.Collection:return e.currentVideo?Object(b.b)(e.currentVideo.id,{collection:e.id,t:this.props.selectedVideoStartTime}):Object(b.a)(e.id);case i.Video:return Object(b.b)(e.id,{t:this.props.selectedVideoStartTime});default:return e}},t}(c.Component),T=function(e){switch(e){case N.c.Twitter:return g.a.Twitter;case N.c.Reddit:return g.a.Reddit;case N.c.VKontakte:return g.a.VKontakte;case N.c.Facebook:return g.a.Facebook;case N.c.Copy:return g.a.Copy;case N.c.CopyInput:return g.a.Link;case N.c.Download:return g.a.Download;case N.c.Embed:return g.a.Embed;default:return e}},j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickHandler=function(e,n){var a=t.props.content;switch(a.type){case i.Collection:a.currentVideo?t.trackVideoShare(e,a.currentVideo,n,a.id):t.trackCollectionShare(e,a,n);break;case i.Video:t.trackVideoShare(e,a,n);break;default:return a}},t}return Object(l.__extends)(t,e),t.prototype.render=function(){return c.createElement(M,Object(l.__assign)({},this.props,{onClick:this.onClickHandler}))},t.prototype.trackCollectionShare=function(e,t,n){var i={location:this.props.tracking.location,platform:T(n),shareURL:e};Object(g.b)(t,i,o.p.apollo.client)},t.prototype.trackVideoShare=function(e,t,n,i){var a={collectionID:i,location:this.props.tracking.location,platform:T(n),shareURL:e};Object(g.c)(t,a,o.p.apollo.client)},t}(c.Component),P=n("hyVY"),L=n("kqSx"),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onShareTimestampClick=function(e){void 0!==t.props.currentVideoTime&&t.props.onVideoStartTimeChange(e.currentTarget.checked?t.props.currentVideoTime:void 0)},t}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this,t={};this.props.collectionID&&(t.collection=this.props.collectionID),this.props.selectedVideoStartTime&&(t.t=this.props.selectedVideoStartTime);var n=Object(b.b)(this.props.video.id,t);return c.createElement("div",null,c.createElement(k.a,null,Object(o.d)("Video Link","VideoShareBox")),c.createElement(v.a,{onClick:function(){e.props.onInputClick(n)},value:n}),this.renderCurrentVideoOffsetLinkOption())},t.prototype.renderCurrentVideoOffsetLinkOption=function(){if(void 0===this.props.currentVideoTime)return null;var e=this.props.selectedVideoStartTime||this.props.currentVideoTime,t=Object(P.b)(e);return c.createElement(f.a,{padding:{top:.5}},c.createElement(L.a,{id:"video-share-timestamp-toggle",label:Object(o.d)("Skip to {deeplinkTimestamp}",{deeplinkTimestamp:t},"VideoShareBox"),"data-a-target":"video-share-timestamp-toggle","data-a-value":void 0!==this.props.selectedVideoStartTime,checked:!!this.props.selectedVideoStartTime,onChange:this.onShareTimestampClick}))},t}(c.Component),F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickHandler=function(e,n){var i={collectionID:n,location:t.props.tracking.location,platform:g.a.Link,shareURL:e};Object(g.c)(t.props.video,i,o.p.apollo.client)},t}return Object(l.__extends)(t,e),t.prototype.render=function(){return c.createElement(R,Object(l.__assign)({},this.props,{onInputClick:this.onClickHandler}))},t}(c.Component),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.toggleTimer=function(e){t.props.getCurrentVideoTime&&!e&&(t.updateCurrentTime(),t.getTimeTimer=setInterval(t.updateCurrentTime,1e3))},t.updateCurrentTime=function(){if(t.props.getCurrentVideoTime){var e=t.props.getCurrentVideoTime();t.setState({currentTime:e})}},t.onVideoStartTimeChangeHandler=function(e){t.setState({selectedVideoStartTime:e})},t}return Object(l.__extends)(t,e),t.prototype.componentDidUpdate=function(){this.props.currentVideoTime===this.state.currentTime||this.props.getCurrentVideoTime||this.setState({currentTime:this.props.currentVideoTime})},t.prototype.componentWillUnmount=function(){this.getTimeTimer&&clearTimeout(this.getTimeTimer)},t.prototype.render=function(){var e=null;this.props.content&&(e=this.shareBalloonContent(this.props.content));var t=Object(o.d)("Share","VideoShareBox"),n={label:t,direction:u.c.Bottom};return c.createElement(d.a,{onToggle:this.toggleTimer,tooltipProps:n},c.createElement(m.a,{disabled:!this.props.content,icon:p.a.Share,type:this.props.buttonType,ariaLabel:t},t),c.createElement(h.a,{direction:this.props.balloonDirection,size:h.c.Small},e))},t.prototype.shareBalloonContent=function(e){return c.createElement(f.a,{padding:1},c.createElement(j,{content:e,selectedVideoStartTime:this.state.selectedVideoStartTime,tracking:this.props.tracking}),this.renderCollectionShareInput(e),this.renderVideoShareInput(e),this.renderEmbedPlayerInput(e))},t.prototype.renderCollectionShareInput=function(e){return e.type!==i.Collection?null:c.createElement(f.a,{padding:{top:1}},c.createElement(S,{collection:e,tracking:this.props.tracking}))},t.prototype.renderVideoShareInput=function(e){var t,n;if(e.type===i.Collection){if(!e.currentVideo)return null;n=e.id,t=e.currentVideo}else t=e;return c.createElement(f.a,{padding:{top:1}},c.createElement(F,{collectionID:n,currentVideoTime:this.state.currentTime,onVideoStartTimeChange:this.onVideoStartTimeChangeHandler,selectedVideoStartTime:this.state.selectedVideoStartTime,tracking:this.props.tracking,video:t}))},t.prototype.renderEmbedPlayerInput=function(e){return c.createElement(f.a,{padding:{top:1}},c.createElement(D,{content:e,selectedVideoStartTime:this.state.selectedVideoStartTime,tracking:this.props.tracking}))},t}(c.Component),x=n("gFHd"),U=Object(r.a)((function(e){if(!e.owner||!e.title)return null;return{type:i.Video,id:e.id,owner:{id:e.owner.id,displayName:e.owner.displayName||""},title:e.title}}));var B=Object(r.a)((function(e,t){var n;if(t){var a=U(t);if(!a)return null;n=a}if(!e.owner||!e.title)return null;return{type:i.Collection,id:e.id,owner:{id:e.owner.id,displayName:e.owner.displayName||""},title:e.title,currentVideo:n}}));var V=Object(r.a)((function(e){var t=e.data,n={content:void 0};if(t.loading)return n;if(t.error)return o.k.errorAndReport(t.error,"VideoShareBoxContainer"),n;if(t.collection)return{content:B(t.collection,t.video)||void 0};if(t.video)return{content:U(t.video)||void 0};return n}));var H=Object(a.d)(Object(s.c)(x,{options:function(e){return{variables:{collectionID:e.content.collectionID||"",hasCollection:!!e.content.collectionID,hasVideo:!!e.content.videoID,videoID:e.content.videoID||""}}},props:V}))(A);n.d(t,"a",(function(){return H}))},"5RPi":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ZtEv");function a(e){return{type:i.b.ChannelPointsReward,id:e.id,displayName:e.userDisplayName,login:e.userLogin,reward:e.reward,message:e.message,userID:e.userID}}},"5aDA":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPollContext_VoteInPoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"VoteInPollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voteInPoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoter"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:201}};i.loc.source={body:'#import "twilight/features/polls/models/poll-voter-fragment.gql"\nmutation ChannelPollContext_VoteInPoll($input: VoteInPollInput!) {\nvoteInPoll(input: $input) {\nvoter {\n...pollVoter\n}\nerror {\ncode\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("INxu").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.ChannelPollContext_VoteInPoll=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelPollContext_VoteInPoll")},"5goO":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("SHn+"),s=n("2xye"),l=n("vCsY"),c=function(e){var t={pathname:"/team/"+e.name,state:{content:s.PageviewContent.TeamLink,medium:s.PageviewMedium.Channel}};return a.createElement(o.a,Object(i.__assign)({linkTo:t,title:e.displayName,label:Object(r.d)("Team:","TeamLinkLabel"),alignItems:e.alignItems},Object(l.a)(e)))};n.d(t,"a",(function(){return c}))},"5in9":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelRoot_ChannelInfoBar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryTeam"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"profileViewCount"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:133}};n.loc.source={body:"query ChannelRoot_ChannelInfoBar($login: String!) {\nuser(login: $login) {\nid\nprimaryTeam {\nid\ndisplayName\nname\n}\nprofileViewCount\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelRoot_ChannelInfoBar=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelRoot_ChannelInfoBar")},"5sY2":function(e,t,n){"use strict";var i=n("q1tI"),a=n("4rCz"),r=n("9qaG"),o=n("G3YM"),s=function(e){var t=i.useCallback((function(){e.openEmotePicker&&e.openEmotePicker(),e.closeCheckoutModal&&e.closeCheckoutModal()}),[e]);return i.createElement(r.a,{onClick:t,type:r.d.Primary},i.createElement(o.a,null,Object(a.d)("Share Your New Emotes","SubBenefitCallToAction")))},l=n("4ACg"),c=Object(l.c)();n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return"sub-benefit-cta-portal"})),n.d(t,"c",(function(){return c}))},"5xw2":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("mrSG"),a=n("/7QA"),r=n("HSqT"),o=n("+U0Y"),s="languageDirectoryFilters";function l(e,t){var n=this;return function(r){return Object(i.__awaiter)(n,void 0,void 0,(function(){var n,l;return Object(i.__generator)(this,(function(i){return n=new Set(d()),t?n.add(e):n.delete(e),l=Array.from(n),a.m.set(s,l),r(Object(o.b)(l)),[2]}))}))}}function c(){var e=this;return function(t){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return a.m.set(s,[]),t(Object(o.b)([])),[2]}))}))}}function d(){return a.m.get(s,[]).filter((function(e){return r.a.has(e)}))}},"6C1D":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("1rIY"),s=n("3kHA"),l=n("WytW"),c=r.p.logger.withCategory("chat-commands"),d=/^[/.]([a-z0-9]+)(.+)?$/i,u=Object(o.a)("ChatCommandContext",{getCommands:function(e){return[]},addCommand:function(e){return null},removeCommand:function(e){return null},handleCommand:function(e,t){return{handled:!1}},prevCommand:null,clearPrevCommand:function(){return null}}),m=u.context,p=u.withContext,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={commands:{},prevCommand:null,prevPropsChannelLogin:t.props.channelLogin},t.getCommands=function(e){for(var n=[],i=0,a=Object.values(t.state.commands);i<a.length;i++){var r=a[i];!r.hidden&&e>=r.permissionLevel&&n.push(r)}return n},t.addCommand=function(e){t.setState((function(t){var n;return{commands:Object(i.__assign)(Object(i.__assign)({},t.commands),(n={},n[e.name]=e,n))}}))},t.removeCommand=function(e){t.setState((function(t){var n=Object(i.__assign)({},t.commands);return delete n[e.name],{commands:n}}))},t.handleCommand=function(e,n){var i=e.match(d);if(!i)return{handled:!1};var a=i[1],r=t.state.commands[a.toLowerCase()],o=(i[2]||"").trim();if(t.setPrevCommand({message:e,command:a.toLowerCase(),args:o}),!r)return{command:a,handled:!1};if(Object(l.k)(r)===o)return{command:a,handled:!0,result:{deferred:Promise.resolve({notice:r.helpText,error:s.a.MissingParameters})}};var u={channelLogin:n},m=r.handler;if(!m)return{command:a,handled:!1};try{return{command:a,handled:!0,result:m(o,u)}}catch(e){return c.warn("Exception thrown from chat command handler",{command:r,err:e}),{command:a,handled:!1}}},t.setPrevCommand=function(e){t.setState({prevCommand:e})},t.clearPrevCommand=function(){t.setState({prevCommand:null})},t}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.channelLogin!==t.prevPropsChannelLogin?{commands:{},prevCommand:null,prevPropsChannelLogin:e.channelLogin}:null},t.prototype.render=function(){return a.createElement(m.Provider,{value:{getCommands:this.getCommands,addCommand:this.addCommand,removeCommand:this.removeCommand,handleCommand:this.handleCommand,prevCommand:this.prevCommand,clearPrevCommand:this.clearPrevCommand}},this.props.children)},Object.defineProperty(t.prototype,"prevCommand",{get:function(){return this.state.prevCommand},enumerable:!0,configurable:!0}),t}(a.Component);n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}))},"6bwK":function(e,t,n){},"6j5V":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("RcPG");function a(e){return{type:i.a.Text,content:e}}},"6ovE":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserModStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[]}]}}]}}],loc:{start:0,end:124}};n.loc.source={body:"query UserModStatus ($userID: ID! $channelID: String!) {\nuser(id: $userID) {\nid\nlogin\nisModerator(channelID: $channelID)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UserModStatus=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UserModStatus")},"6wGa":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("ANjH"),s=n("/7QA"),l=n("esZd"),c=n("xQnr"),d=n("geRD"),u=n("DMoW"),m=n("kRBY"),p=n("TApp"),h=n("a6LY"),f=n("yR8l"),g=n("X9Go"),v=n("H82h"),b=n("gO1k");function k(e){var t=this;return function(n){return a.createElement(e,Object(i.__assign)({},n,{deleteChatMessageMutation:function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,a,r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!n.deleteChatMessage)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.deleteChatMessage(e)];case 2:return t=i.sent(),(null===(o=null===(r=null===(a=t.data)||void 0===a?void 0:a.deleteChatMessage)||void 0===r?void 0:r.message)||void 0===o?void 0:o.sender)?(Object(v.a)({actionType:h.a.DeleteMessage,channelID:e.variables.input.channelID,targetUserID:t.data.deleteChatMessage.message.sender.id,source:h.c.QuickModButtons,page:n.page}),[2,{data:t.data}]):[3,4];case 3:throw i.sent(),new Error("Unable to delete message");case 4:return[3,6];case 5:throw new Error("Delete chat message mutation is not ready");case 6:return[2]}}))}))}}))}}var y=n("2EzP");var S=n("vLL+"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.banUser=function(){return t.props.banUser()},t.timeoutUser=function(){return t.props.timeoutUser()},t.unbanUser=function(){return t.props.unbanUser()},t.deleteMessage=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t,n,a,r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(this.props.confirmModerationAction&&!this.props.confirmModerationAction())return[3,4];if(e=Object(s.d)("Unable to delete message.","ModerationIcons"),!this.props.channelID)return this.surfaceError(e),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),t={channelID:this.props.channelID,messageID:this.props.messageID},[4,this.props.deleteChatMessageMutation(Object(d.a)(t))];case 2:return(n=i.sent().data)?((a=n.deleteChatMessage)&&a.responseCode!==u.sb.SUCCESS&&(r=a.message&&a.message.sender&&a.message.sender.displayName||this.props.senderLogin,o=function(e,t){switch(e){case u.sb.FORBIDDEN:return Object(s.d)("You don't have permission to delete messages.","DeleteChatMessageErrorCode");case u.sb.TARGET_IS_BROADCASTER:return Object(s.d)("You cannot delete the broadcaster's messages.","DeleteChatMessageErrorCode");case u.sb.TARGET_IS_MODERATOR:return Object(s.d)("You cannot delete messages from moderator {senderDisplayName}",{senderDisplayName:t},"DeleteChatMessageErrorCode");case u.sb.SUCCESS_STAFF:return Object(s.d)("You deleted a message from staff {senderDisplayName}. Please email support@twitch.tv if a staff member is being abusive.",{senderDisplayName:t},"DeleteChatMessageErrorCode");default:throw new Error("Unrecognized operation result")}}(a.responseCode,r),this.surfaceError(o)),[3,4]):(this.surfaceError(e),[2]);case 3:return i.sent(),this.surfaceError(e),[3,4];case 4:return[2]}}))}))},t.surfaceError=function(e){t.props.surfaceError&&t.props.surfaceError(e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.sessionUser&&this.props.sessionUser.id===this.props.targetUserID?null:a.createElement(S.a,{isMessageDeleted:this.props.isMessageDeleted,isMessageBanned:this.props.isMessageBanned,canDelete:this.props.canDelete,onBanUser:this.banUser,onTimeoutUser:this.timeoutUser,onUnbanUser:this.unbanUser,onDelete:this.deleteMessage,senderLogin:this.props.senderLogin,renderNewVersion:this.props.renderNewVersion})},t}(a.Component);var E=Object(o.d)(y.a,Object(l.a)((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{targetID:e.targetUserID,source:h.c.QuickModButtons,surfaceError:function(t){e.messageHandlerAPI&&e.messageHandlerAPI.handleMessage(Object(p.a)(t))}})})),c.a,(function(e){return Object(o.d)(Object(g.c)(g.b),Object(f.a)(b,{name:"deleteChatMessage"}),k)(e)}),Object(r.b)((function(e){return{sessionUser:Object(m.e)(e)}})))(C);n.d(t,"a",(function(){return E}))},"7NxT":function(e,t,n){"use strict";n("DLhE")},"82xK":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("q1tI"),a=n("/7QA"),r=n("dEDE"),o=function(e){return i.createElement(r.a,{type:r.d.Text,onClick:e.onClick},Object(a.d)("Show more replies...","chomments.moderation.showMoreRepliesAction"))}},"8D7W":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PollsEnabled"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:107}};n.loc.source={body:"query PollsEnabled($login: String!) {\nchannel: user(login: $login) {\nid\nroles {\nisAffiliate\nisPartner\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PollsEnabled=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"PollsEnabled")},"8QXX":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RecordReferralMissionExperiment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RecordMissionReferralExperimentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recordMissionReferralExperiment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:154}};n.loc.source={body:"mutation RecordReferralMissionExperiment($input: RecordMissionReferralExperimentInput!) {\nrecordMissionReferralExperiment(input: $input) {\nuser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.RecordReferralMissionExperiment=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"RecordReferralMissionExperiment")},"8SX2":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("8Ad5"),o=n("fezU"),s=n("+80q"),l=n("yymn"),c=(n("rVcM"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openViewerCard=function(e){t.isKeyboardEvent(e)&&e.keyCode!==r.a.Space&&e.keyCode!==r.a.Enter||t.props.onUsernameClick(t.props.login,t.props.sourceType,t.props.contentID,e.currentTarget.getBoundingClientRect().bottom)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement("span",{className:"chatter-name",onClick:this.openViewerCard,onKeyDown:this.openViewerCard,role:"button",tabIndex:0},a.createElement(s.a,{bold:!0,color:l.f.Base,type:s.e.Span},this.props.children))},t.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},t}(a.Component));var d=Object(o.b)((function(e){return{onUsernameClick:e.onShowViewerCard}}))(c);n.d(t,"a",(function(){return d}))},"8XBm":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockRandomSubscriberEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockRandomSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockRandomSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:173}};n.loc.source={body:"mutation UnlockRandomSubscriberEmote($input: UnlockRandomSubscriberEmoteInput!) {\nunlockRandomSubscriberEmote (input: $input) {\nbalance\nemote {\nid\ntoken\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UnlockRandomSubscriberEmote=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UnlockRandomSubscriberEmote")},"8XDC":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("q1tI");function a(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){t.current=e}),[e]),t.current}},"8gBY":function(e,t,n){},"8qOS":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n("mrSG"),a=n("q1tI"),r=n("ANjH"),o=n("/7QA"),s=n("yR8l"),l=n("geRD"),c=n("2Ygb"),d=n("X9Go"),u=n("a6LY"),m=n("4w0E"),p=n("1Rv/"),h=n("HzXE"),f=n("4G6/"),g=n("AREq"),v=n("Av0x"),b=n("H82h"),k=600;function y(e){var t;return(t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.banUser=function(t,n){var i=t?Object(o.d)("Unable to timeout user.","ViewerCardModActions"):Object(o.d)("Unable to ban user.","ViewerCardModActions");if(e.props.confirmModerationAction&&!e.props.confirmModerationAction())return e.surfaceError(i),Promise.reject(i);var a=e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login;if(!a)return e.surfaceError(i),Promise.reject(i);var r=null;"number"==typeof t?r=Object(f.a)(t):"string"==typeof t&&(r=t);var s=e.props.channelID;return e.props.banUserMutation(Object(l.a)({channelID:s,bannedUserLogin:a,expiresIn:r,reason:n})).then((function(n){var i=n&&n.data&&n.data.banUserFromChatRoom&&n.data.banUserFromChatRoom.error,a=t?u.a.TimeoutUser:u.a.BanUser;if(e.updateUserBanStatusQuery(n.data),e.trackChatLoginModerationEvent(a,t&&t.toString()||void 0),i&&e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login){var r=i.minTimeoutDurationSeconds,o=i.maxTimeoutDurationSeconds;e.surfaceError(Object(g.a)({login:e.props.userBanStatusData.targetUser.login,code:i.code,isTimeout:!!t,minTimeoutDuration:r||void 0,maxTimeoutDuration:o||void 0}))}return n.data})).catch((function(t){throw e.surfaceError(i),t}))},e.unbanUser=function(t){var n=t?Object(o.d)("Unable to untimeout user.","ViewerCardModActions"):Object(o.d)("Unable to unban user.","ViewerCardModActions");if(e.props.confirmModerationAction&&!e.props.confirmModerationAction())return e.surfaceError(n),Promise.reject(n);var i=e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login;if(!i)return e.surfaceError(n),Promise.reject(n);var a=e.props.channelID;return e.props.unbanUserMutation(Object(l.a)({channelID:a,bannedUserLogin:i})).then((function(n){var i=n&&n.data&&n.data.unbanUserFromChatRoom&&n.data.unbanUserFromChatRoom.error,a=t?u.a.UntimeoutUser:u.a.UnbanUser;return e.updateUserBanStatusQuery(null),e.trackChatLoginModerationEvent(a),i&&e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login&&e.surfaceError(Object(v.a)(e.props.userBanStatusData.targetUser.login,i.code)),n.data})).catch((function(t){throw e.surfaceError(n),t}))},e.updateUserBanStatusQuery=function(t){var n=e.props,i=n.channelID,a=n.targetID;Object(l.i)(h,{channelID:i,targetUserID:a},(function(e){var n=e&&e.targetUser||null;return t&&t.banUserFromChatRoom?{targetUser:n,chatRoomBanStatus:t.banUserFromChatRoom.ban}:{targetUser:n,chatRoomBanStatus:null}}))},e.surfaceError=function(t){e.props.surfaceError&&e.props.surfaceError(t)},e.trackChatLoginModerationEvent=function(t,n){var i=e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.id,a=e.props,r=a.channelID,o=a.source,s=a.page;i&&r&&Object(b.a)({actionType:t,channelID:r,targetUserID:i,source:o,duration:n&&"["+n+"]n",page:s})},e}return Object(i.__extends)(n,t),n.prototype.render=function(){var t=this,n={userBanStatus:this.props.userBanStatusData,banUser:function(e,n){return t.banUser(e,n)},timeoutUser:function(e,n){return t.banUser(e||k,n)},unbanUser:function(){return t.unbanUser()},untimeoutUser:function(){return t.unbanUser(!0)}};return a.createElement(e,Object(i.__assign)({},this.props,n))},n}(a.Component)).displayName=Object(c.a)(t.name,e),t}function S(e){return Object(r.d)(Object(d.c)(d.b),Object(s.a)(m,{name:"banUserMutation"}),Object(s.a)(p,{name:"unbanUserMutation"}),Object(s.a)(h,{name:"userBanStatusData",options:function(e){return{variables:{channelID:e.channelID,targetUserID:e.targetID}}}}),y)(e)}},"8s1E":function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("/MKj"),o=n("ANjH"),s=n("1/iK"),l=n("XDCx"),c=n("y5D0"),d=n("kRBY"),u=n("/HY+"),m=n("q1tI"),p=n("Ty5D"),h=n("/7QA"),f=n("u5aL"),g=n("xP6e"),v=n("4qQ0"),b=n("sUnt"),k=n("yymn"),y=n("7d/q"),S=n("C7sF"),C=n("k0nM"),E=n("ygYM");!function(e){e.MoreButton="report-button-more-button",e.ReportButton="report-button-report-button"}(i||(i={}));var w=function(e){function t(t){var n=e.call(this,t)||this;return n.handleReportModalClose=function(e){(e===v.b.MutationError||e===v.b.Success)&&n.props.history.push("/")},n.hideMenu=function(){n.setState({showMenu:!1})},n.toggleMenu=function(){n.setState((function(e){return{showMenu:!e.showMenu}}))},n.state={showMenu:!1},n}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.props.isShown!==e.isShown&&!1===this.props.isShown&&this.hideMenu()},t.prototype.render=function(){var e=Object(h.d)("More options","ReportUser");return m.createElement(f.a,{onClickOut:this.hideMenu},m.createElement(b.a,{className:"report-button",position:k.n.Relative},m.createElement(y.a,{ariaLabel:e,title:e,icon:S.a.More,"data-a-target":i.MoreButton,onClick:this.toggleMenu}),m.createElement(C.a,{direction:this.props.direction||E.b.TopRight,show:this.state.showMenu},m.createElement(g.a,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,onModalClose:this.handleReportModalClose,hideIcon:!0}))))},t}(m.Component),O=Object(p.k)(w);var D=Object(r.b)((function(e){return{isLoggedIn:Object(d.f)(e)}}),(function(e){return Object(o.b)({login:function(){return Object(c.e)(s.a.ReportChannel)},showReportUserModal:function(e){var t=Object(a.__rest)(e,[]);return Object(l.e)(u.a,t)}},e)}))(O);n.d(t,"a",(function(){return D}))},"8uuy":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:117}};n.loc.source={body:"query VideoChatVideoTrackingContext($videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoChatVideoTrackingContext=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoChatVideoTrackingContext")},"8wAl":function(e,t,n){"use strict";function i(e){return{__typename:"CommunityPointsAutomaticReward",backgroundColor:e.background_color,cost:e.cost||null,image:e.image?r(e.image):null,isEnabled:e.is_enabled,type:e.reward_type}}function a(e){return{__typename:"CommunityPointsCustomReward",id:e.id,backgroundColor:e.background_color||null,cost:e.cost,defaultImage:r(e.default_image),image:e.image?r(e.image):null,isEnabled:e.is_enabled,isInStock:e.is_in_stock,isPaused:e.is_paused,isSubOnly:e.is_sub_only,isUserInputRequired:e.is_user_input_required,shouldRedemptionsSkipRequestQueue:e.should_redemptions_skip_request_queue,prompt:e.prompt||null,title:e.title}}function r(e){return{__typename:"CommunityPointsImage",url:e.url_1x,url2x:e.url_2x,url4x:e.url_4x}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}))},"92xe":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEmoteOnlyModeEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followersOnlyDurationMinutes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slowModeDurationSeconds"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasSubOnlyChat"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:211}};n.loc.source={body:"query ChatRoomState($login: String) {\nchannel: user(login: $login) {\nid\nchatSettings {\nisEmoteOnlyModeEnabled\nfollowersOnlyDurationMinutes\nslowModeDurationSeconds\n}\nsubscriptionProducts {\nid\nhasSubOnlyChat\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatRoomState=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatRoomState")},"94Uw":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.ProfileImage="profile_image",e.ProfileBanner="profile_banner",e.ChannelOfflineImage="channel_offline_image"}(i||(i={}))},"98Kj":function(e,t,n){},"9KaG":function(e,t,n){},"9Nw7":function(e,t,n){"use strict";n.r(t);var i,a=n("mrSG"),r=n("q1tI"),o=n("Ty5D"),s=n("ANjH"),l=n("ZS2+"),c=n("H1ft"),d=n("vRsq"),u=n("DMoW"),m=n("2xye"),p=n("GnwI"),h=n("ttMT"),f=n("XKWF"),g=n("/7QA"),v=n("VwyG"),b=n("tLDJ"),k=n("dEDE"),y=function(e){return r.createElement(v.a,{ownerLogin:e.channelLogin,permittedRoles:{owner:!0,editor:!0,staff:!1}},(function(t){return t.permitted?r.createElement(k.a,{type:k.d.Primary,linkTo:Object(b.p)(e.channelLogin)},Object(g.d)("Manage collections","collection-page")):null}))},S=n("kyTI"),C=n("QdeI"),E=n("cERj"),w=n("cr+I"),O=n("eJ65"),D=n("+GjP"),N=n("i4Ys"),_=n("sUnt"),I=n("yymn"),M=n("+80q"),T=n("EmXd"),j=n("u03v"),P=n("ygYM");function L(e){return"sort-interactable-"+e.searchValue}function R(e){var t=w.parse(e)[d.d];if("string"!=typeof t)return null;switch(t.toUpperCase()){case d.f.Newest.toUpperCase():return d.f.Newest;case d.f.Popular.toUpperCase():return d.f.Popular;default:return null}}!function(e){e.ButtonText="button-text",e.SortText="sort-text",e.ManageYourVideosButton="manage-your-videos-button"}(i||(i={}));var F,A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderSort=function(e){return r.createElement(N.a,{"data-test-selector":L(e),onClick:function(){t.handleSortClick(e)},key:e.label,selected:!!e.selected},r.createElement(_.a,{padding:{x:1,y:.5},"data-test-selector":i.SortText},e.label))},t.handleSortClick=function(e){t.props.history.push(t.generateLocationWithSort(t.props.location,e.searchValue))},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.checkSortValue(this.props.location)},t.prototype.render=function(){var e=this,t=this.getSorts(),n=t.find((function(e){return!!e.selected}));return r.createElement(_.a,{alignItems:I.b.End,display:I.g.Flex,flexDirection:I.h.Row,justifyContent:I.l.Between},r.createElement(_.a,{display:I.g.Flex,flexDirection:I.h.Row,alignItems:I.b.Center},r.createElement(_.a,{padding:{right:.5}},r.createElement(M.a,{bold:!0},Object(g.d)("Sorted by","VideoSort"))),r.createElement(O.a,{hideBalloonOnInsideClick:!0},r.createElement(T.a,{dropdown:j.b.ArrowDown},r.createElement(M.a,{bold:!0,"data-test-selector":i.ButtonText},n?n.label:t[0].label)),r.createElement(P.a,{noTail:!0},t.map(this.renderSort)))),r.createElement(v.a,{ownerLogin:this.props.channelLogin,permittedRoles:{owner:!0,editor:!0,staff:!1}},(function(t){return t.permitted&&r.createElement(_.a,{alignItems:I.b.End,display:I.g.Flex,flexDirection:I.h.Row},r.createElement(k.a,{"data-test-selector":i.ManageYourVideosButton,linkTo:"/"+e.props.channelLogin+"/manager",targetBlank:!0,type:k.d.Primary},Object(g.d)("Manage videos","VideoSort")))})))},t.prototype.getSorts=function(){var e=[{label:Object(g.d)("Date","VideoSort"),searchValue:d.f.Newest},{label:Object(g.d)("Popular","VideoSort"),searchValue:d.f.Popular}],t=R(this.props.location.search),n=e.find((function(e){return null!==t&&e.searchValue===t}));return n&&(n.selected=!0),e},t.prototype.checkSortValue=function(e){R(e.search)||this.props.history.replace(this.generateLocationWithSort(e,d.f.Newest))},t.prototype.generateLocationWithSort=function(e,t){var n;return Object(D.f)(e,((n={})[d.d]=t,n))},t}(r.Component),x=Object(o.k)(A),U=l.a.wrap((function(){return Promise.all([n.e(0),n.e(137)]).then(n.bind(null,"gcyA"))}),"ChannelVideosOverviewContent",{placeholder:r.createElement(C.a,null)}),B=l.a.wrap((function(){return Promise.all([n.e(0),n.e(127)]).then(n.bind(null,"6mes"))}),"ChannelClipsContent",{placeholder:r.createElement(C.a,null)}),V=l.a.wrap((function(){return Promise.all([n.e(0),n.e(128)]).then(n.bind(null,"WfYB"))}),"ChannelCollectionsContent",{placeholder:r.createElement(C.a,null)}),H=l.a.wrap((function(){return Promise.all([n.e(0),n.e(131)]).then(n.bind(null,"TCEa"))}),"FilterableVideoTower",{placeholder:r.createElement(C.a,null)});!function(e){e.Content="content",e.Sort="sort"}(F||(F={}));var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=Object(d.w)(this.props.location.search),t=this.getComponentsForFilter(e);return r.createElement("div",null,e&&this.renderVideoOptions(t.sort),r.createElement("div",{"data-test-selector":F.Content},t.content))},t.prototype.componentDidMount=function(){var e=this.props.critical?1:0;this.props.latencyTracking.reportInteractive(e)},t.prototype.renderVideoOptions=function(e){return r.createElement(_.a,{"data-test-selector":F.Sort,display:I.g.Flex,flexDirection:I.h.Row,padding:{bottom:1}},r.createElement(_.a,{padding:{right:1}},r.createElement(E.a,{channelLogin:this.props.channelLogin})),e)},t.prototype.getComponentsForFilter=function(e){var t=this.props.channelLogin,n=Object(d.p)(this.props),i=Object(d.x)(this.props.location.search)||d.f.Newest,a=Object(d.v)(this.props.location.search),o=a||void 0;if(!e)return{content:r.createElement(U,{channelLogin:t,collectionID:n})};switch(e){case d.e.Highlights:case d.e.PastPremieres:case d.e.PastBroadcasts:case d.e.Uploads:return{content:this.getFilterableVideoTower(e,o),sort:r.createElement(x,{channelLogin:t})};case d.e.Clips:return{content:r.createElement(B,{channelName:t,videoBrowseOptions:{filter:e,sort:i,range:o}}),sort:r.createElement(h.a,{key:o,hideLanguageFilter:!0,channelLogin:t})};case d.e.Collections:return{content:r.createElement(V,{channelLogin:t,videoBrowseOptions:{filter:e,sort:i,range:o}}),sort:r.createElement(_.a,{alignItems:I.b.End,display:I.g.Flex,fullWidth:!0,justifyContent:I.l.End},r.createElement(_.a,{flexGrow:0},r.createElement(y,{channelLogin:t})))};case d.e.All:return{content:this.getFilterableVideoTower(e),sort:r.createElement(x,{channelLogin:t})};case d.e.Featured:return{content:this.getFilterableVideoTower(e),sort:r.createElement(_.a,{flexGrow:1,flexShrink:1,display:I.g.Flex,justifyContent:I.l.End,alignItems:I.b.End},r.createElement(S.a,{channelLogin:this.props.channelLogin,trackingContext:{medium:m.PageviewMedium.ChannelVods,content:m.PageviewContent.CustomizeButton}}))};default:return e}},t.prototype.getFilterableVideoTower=function(e,t){var n=void 0;switch(e){case d.e.Highlights:n=u.D.HIGHLIGHT;break;case d.e.PastBroadcasts:n=u.D.ARCHIVE;break;case d.e.PastPremieres:n=u.D.PAST_PREMIERE;break;case d.e.Uploads:n=u.D.UPLOAD;break;case d.e.Featured:case d.e.All:break;default:return e}var i=Object(d.x)(this.props.location.search)||d.f.Newest;return r.createElement(H,{channelLogin:this.props.channelLogin,filter:n,sort:Object(f.c)(i),videoBrowseOptions:{filter:e,sort:i,range:t},multipleVideoGameMarkersType:Object(c.b)()})},t}(r.Component),q=Object(s.d)(o.k,Object(p.withLatencyTracking)("ChannelVideosContent"))(G);n.d(t,"TestSelectors",(function(){return F})),n.d(t,"ChannelVideosContentPresentation",(function(){return G})),n.d(t,"ChannelVideosContent",(function(){return q}))},"9P+5":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_UserData"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGlobalMod"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:105}};n.loc.source={body:"query Chat_UserData {\nuser {\nid\ndisplayName\nlogin\nroles {\nisGlobalMod\nisPartner\nisSiteAdmin\nisStaff\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_UserData=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_UserData")},"9RDd":function(e,t,n){},"9Rmp":function(e,t,n){},"9kXc":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("/7QA"),a=n("yLwq"),r=n("kduP"),o=n("2xye"),s=n("sLmD");function l(e){var t,n,s,l,u=e.append,m=void 0!==u&&u,p=e.searchResults,h=e.currentGameResults,f=e.currentUserResults,g=e.currentVideoResults,v=e.currentLiveResults;if(p.games&&(t={totalHits:p.games.totalHits,results:m&&h?h.results:[]},m&&p.exhaustedHits&&h&&!p.games.totalHits&&(t.totalHits=h.totalHits),t.results=t.results.concat(p.games.hits.map((function(e,t){var n,a=i.p.intl.getLanguageCode();n=a&&void 0!==e.localizations&&a in e.localizations?e.localizations[a]:e.name;var s=d(e.tags);return{title:n,thumbnailAltText:e.name,linkTo:{pathname:Object(r.a)(e.name),state:{content:o.PageviewContent.Game,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,popularity:e.popularity,tags:s}})))),p.videos){var b=m&&g?g.results:[],k=p.videos.totalHits;m&&p.exhaustedHits&&g&&!p.videos.totalHits&&(k=g.totalHits),s=function(e,t,n){return{results:e.concat(t.hits.map(c)),totalHits:t.totalHits||n}}(b,p.videos,k)}return p.users&&(n={totalHits:m&&f?f.totalHits:p.users.totalHits,results:m&&f?f.results:[]},m&&p.exhaustedHits&&f&&!p.users.totalHits&&(n.totalHits=f.totalHits),n.results=n.results.concat(p.users.hits.map((function(e,t){return{login:e.login,name:e.name,thumbnail:e.profile_image||Object(a.c)(e.objectID,64),thumbnailAltText:e.name,linkTo:{pathname:"/"+e.login,state:{content:o.PageviewContent.User,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,followers:e.followers}})))),p.channels&&((l={totalHits:m&&v?v.totalHits:p.channels.totalHits,results:m&&v?v.results:[]}).results=l.results.concat(p.channels.hits.map((function(e,t){var n=d(e.graffiti);return{viewerCount:e.channel_count,login:e.login,name:e.name,thumbnailAltText:e.status,linkTo:{pathname:"/"+e.login,state:{content:o.PageviewContent.Live,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,status:e.status,tags:n}})))),{currentGameResults:t,currentUserResults:n,currentLiveResults:l,currentVideoResults:s,exhaustedHits:p.exhaustedHits}}function c(e,t){return{title:e.title,thumbnail:e.thumbnail,thumbnailAltText:e.title,linkTo:{pathname:"/videos/"+e.objectID,state:{content:o.PageviewContent.Video,content_index:t,medium:o.PageviewMedium.NavSearch}},login:e.broadcaster_login,name:e.broadcaster_name,createdAt:e.created_at,length:e.length,id:e.objectID}}function d(e){if(e)return e.map((function(e){var t,n=Object(s.a)();return t=n&&void 0!==e.localizations&&n in e.localizations?e.localizations[n]:e.name,{id:e.id,isLanguageTag:e.name.includes("auto___lang"),localizedName:t,tagName:e.name}}))}},"9sGC":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("ANjH"),o=n("/7QA"),s=n("uIkQ"),l=n("bBAb"),c=n("cys1"),d=n("oK83"),u=n("wFyP"),m=n("esZd"),p=n("8qOS"),h=n("vLL+"),f=n("a6LY"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.banUser=function(){return t.props.banUser()},t.timeoutUser=function(){return t.props.timeoutUser()},t.unbanUser=function(){return t.props.unbanUser()},t.deleteMessage=function(){},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.message.sender&&this.props.message.sender.login?a.createElement(h.a,{canDelete:!1,isMessageDeleted:!!this.props.message.deletedAt,onBanUser:this.banUser,onDelete:this.deleteMessage,onTimeoutUser:this.timeoutUser,onUnbanUser:this.unbanUser,renderNewVersion:!1,senderLogin:this.props.message.sender.login,isMessageBanned:this.props.userBanStatus&&!!this.props.userBanStatus.chatRoomBanStatus||!1}):null},t}(a.Component),v=Object(r.d)(Object(m.a)((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{source:f.c.QuickModButtons})})),p.a)(g),b=n("fxMP"),k=n("sUnt"),y=n("Jsra");n("QfRJ");n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return E}));var S="message-timestamp",C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={shouldShowDeletedBody:!1},t.showDeleted=function(e){e&&e.preventDefault(),t.setState({shouldShowDeletedBody:!0})},t}return Object(i.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e,t){return e.showModerationIcons!==this.props.showModerationIcons||e.showTimestamps!==this.props.showTimestamps||t.shouldShowDeletedBody!==this.state.shouldShowDeletedBody||e.hasModPermissions!==this.props.hasModPermissions||e.message.deletedAt!==this.props.message.deletedAt||e.theme!==this.props.theme||e.highContrastUsernameColor!==this.props.highContrastUsernameColor},t.prototype.render=function(){if(!this.props.message.sender||!this.props.message.id)return a.createElement(k.a,{padding:{x:2,y:.5}},Object(o.d)("unable to properly render message","Message"));var e=this.props.message.sender.displayBadges,t={},n=": ";return this.props.message.content.text.startsWith(b.a)&&(t={color:this.props.message.sender.chatColor||void 0},n=" "),a.createElement(k.a,{padding:this.props.padding||{x:2,y:.5}},a.createElement("div",{id:this.props.message.id,className:"message",style:t},this.renderTimestamp(),this.renderModerationIcons(),a.createElement(s.b,{badgeSets:this.props.badgeSets,badgesToRender:e}),a.createElement(u.a,{highContrastUsernameColor:this.props.highContrastUsernameColor,messageID:this.props.message.id,sender:this.props.message.sender,theme:this.props.theme,onUsernameClick:this.props.onUsernameClick}),a.createElement("span",{key:"separator"},n),this.renderMessageBody()))},t.prototype.renderMessageBody=function(){if(!this.props.message.deletedAt||this.state.shouldShowDeletedBody){var e={forceClipsNetworkRequest:!0,messageAuthorID:this.props.message.sender.id,messageSourceID:this.props.message.id,emoteSourceType:d.a.room};return Object(c.f)(Object(b.d)(this.props.message,this.props.bitsConfig,this.props.currentUserLogin),e)}var t=Object(o.d)("message deleted","Message"),n=this.props.hasModPermissions?a.createElement(y.a,{onClick:this.showDeleted,"data-test-selector":"show-deleted"},"<"+t+">"):"<"+t+">";return a.createElement("span",{key:"deleted",className:"message--deleted","data-test-selector":"deleted-message"},n)},t.prototype.renderTimestamp=function(){return this.props.showTimestamps?a.createElement("span",{key:"timestamp",className:"message__timestamp","data-test-selector":S},Object(c.a)(new Date(this.props.message.sentAt),!0)):null},t.prototype.renderModerationIcons=function(){return this.props.showModerationIcons&&this.props.hasModPermissions&&this.props.channelID&&this.props.message.sender&&this.props.message.sender.id?a.createElement(v,{message:this.props.message,channelID:this.props.channelID,targetID:this.props.message.sender.id,surfaceError:this.props.surfaceError}):null},t}(a.Component);var E=Object(r.d)(Object(l.b)((function(e){return{bitsConfig:e.bitsConfig}})))(C)},"9yes":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_AllowRejectedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AllowRejectedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowRejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:141}};n.loc.source={body:"mutation Chat_AllowRejectedChatMessage($input: AllowRejectedChatMessageInput!) {\nallowRejectedChatMessage(input: $input) {\nmessage {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_AllowRejectedChatMessage=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_AllowRejectedChatMessage")},A4KW:function(e,t,n){"use strict";var i=n("ALJo");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},A4cy:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("DMoW"),a=function(e,t){var n={subOnlyReward:!0,nonSubOnlyReward:!0,subsModeRequiredReward:!0};return"CommunityPointsCustomReward"===e.__typename&&e.isSubOnly&&(n.subOnlyReward=t.isUserSubscribed),"CommunityPointsAutomaticReward"===e.__typename&&e.isHiddenForSubs&&(n.nonSubOnlyReward=!t.isUserSubscribed),"CommunityPointsAutomaticReward"===e.__typename&&e.type===i.X.SINGLE_MESSAGE_BYPASS_SUB_MODE&&(n.subsModeRequiredReward=t.isChannelSubsOnlyMode),n}},ALJo:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return d}));var i,a=n("q1tI"),r=n("ANjH"),o=n("yR8l"),s=n("YV90"),l=n("SyZi"),c=n("SCHm");!function(e){e.Small="channel-points-icon--small",e.Medium="channel-points-icon--medium",e.Large="channel-points-icon--large"}(i||(i={}));var d=Object(r.d)(Object(s.a)((function(e){return{isLoaded:e.isLoaded,pointIcon:e.pointIcon,pointName:e.pointName}})),Object(o.a)(c,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin||e.isLoaded}}))((function(e){var t=null,n=null,i=e.data;return e.isLoaded?(t=e.pointIcon,n=e.pointName):i&&i.community&&i.community.channel&&i.community.channel.communityPointsSettings&&(t=i.community.channel.communityPointsSettings.image,n=i.community.channel.communityPointsSettings.name),a.createElement(l.a,{iconSize:e.iconSize,image:t,name:n})}))},AREq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("/7QA"),a=n("DMoW"),r=n("4G6/");function o(e){var t=e.login,n=e.code,o=e.enteredDuration,s=e.minTimeoutDuration,l=e.maxTimeoutDuration,c=e.isTimeout;if(void 0===c&&(c=!1),c)switch(n){case a.n.FORBIDDEN:return Object(i.d)("You don't have permissions to timeout {login}.",{login:t},"BanUserErrorCode");case a.n.TARGET_IS_ADMIN:return Object(i.d)("You cannot timeout admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:t},"BanUserErrorCode");case a.n.TARGET_ALREADY_BANNED:return Object(i.d)("{login} is already banned in this channel.",{login:t},"BanUserErrorCode");case a.n.TARGET_IS_ANONYMOUS:return Object(i.d)("You cannot timeout anonymous users.","BanUserErrorCode");case a.n.TARGET_IS_BROADCASTER:return Object(i.d)("You cannot timeout the broadcaster.","BanUserErrorCode");case a.n.TARGET_IS_GLOBAL_MOD:return Object(i.d)("You cannot timeout global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:t},"BanUserErrorCode");case a.n.TARGET_IS_MOD:return Object(i.d)("You cannot timeout moderator {login} unless you are the owner of this channel.",{login:t},"BanUserErrorCode");case a.n.TARGET_IS_SELF:return Object(i.d)("You cannot timeout yourself.","BanUserErrorCode");case a.n.TARGET_IS_STAFF:return Object(i.d)("You cannot timeout staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:t},"BanUserErrorCode");case a.n.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to timeout doesn't exist.","BanUserErrorCode");case a.n.DURATION_INVALID:var d=Object(i.d)("Invalid timeout duration: {userInput}. Usage: /timeout [user] [duration] [reason]",{userInput:o||""},"BanUserErrorCode"),u=Object(i.d)("Timeout duration must be between {minTimeoutDuration} and {maxTimeoutDuration} seconds.",{minTimeoutDuration:s||0,maxTimeoutDuration:l||0},"BanUserErrorCode"),m=Object(i.d)("Invalid timeout duration. Usage: /timeout [user] [duration] [reason]","BanUserErrorCode");if(o){if(void 0!==s&&void 0!==l){var p=Object(r.b)(o);if(!p||Number.isNaN(p))return d;if(p<s||p>l)return u}return d}return m;default:throw new Error("Unrecognized operation result.")}else switch(n){case a.n.FORBIDDEN:return Object(i.d)("You don't have permissions to ban {login}.",{login:t},"BanUserErrorCode");case a.n.TARGET_IS_ADMIN:return Object(i.d)("You cannot ban admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:t},"BanUserErrorCode");case a.n.TARGET_ALREADY_BANNED:return Object(i.d)("{login} is currently banned in this channel.",{login:t},"BanUserErrorCode");case a.n.TARGET_IS_ANONYMOUS:return Object(i.d)("You cannot ban anonymous users.","BanUserErrorCode");case a.n.TARGET_IS_BROADCASTER:return Object(i.d)("You cannot ban the broadcaster.","BanUserErrorCode");case a.n.TARGET_IS_GLOBAL_MOD:return Object(i.d)("You cannot ban global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:t},"BanUserErrorCode");case a.n.TARGET_IS_MOD:return Object(i.d)("You cannot ban moderator {login} unless you are the owner of this channel.",{login:t},"BanUserErrorCode");case a.n.TARGET_IS_SELF:return Object(i.d)("You cannot ban yourself.","BanUserErrorCode");case a.n.TARGET_IS_STAFF:return Object(i.d)("You cannot ban staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:t},"BanUserErrorCode");case a.n.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to ban doesn't exist.","BanUserErrorCode");default:throw new Error("Unrecognized operation result.")}}},ApRi:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendHighlightedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendHighlightedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendHighlightedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:150}};n.loc.source={body:"mutation SendHighlightedChatMessage($input: SendHighlightedChatMessageInput!) {\nsendHighlightedChatMessage(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SendHighlightedChatMessage=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SendHighlightedChatMessage")},Av0x:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("/7QA"),a=n("DMoW");function r(e,t,n){if(void 0===n&&(n=!1),n)switch(t){case a.wd.FORBIDDEN:return Object(i.d)("You don't have permissions to untimeout {login}.",{login:e},"UnbanUserErrorCode");case a.wd.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to untimeout doesn't exist.","UnbanUserErrorCode");case a.wd.TARGET_NOT_BANNED:return Object(i.d)("{login} is not currently timed out from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}else switch(t){case a.wd.FORBIDDEN:return Object(i.d)("You don't have permissions to unban {login}.",{login:e},"UnbanUserErrorCode");case a.wd.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to unban doesn't exist.","UnbanUserErrorCode");case a.wd.TARGET_NOT_BANNED:return Object(i.d)("{login} is not currently banned from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}}},B30r:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return f}));var i=n("q1tI"),a=n("DMoW"),r=n("4rCz"),o=n("JN5s"),s=n("zClW"),l=n("+80q"),c=n("Jsra"),d=n("nAiT");function u(){return Object(r.d)("You must provide a message for this reward.","ChannelPointsMessageError")}function m(){return Object(r.d)("Something went wrong. Please try again later.","CommunityPointsError")}function p(e){switch(e){case a.Zc.CHANNEL_SETTINGS:return Object(s.c)().MessageContainsBannedWordsError;case a.Zc.MSG_DUPLICATE:return Object(o.a)();case a.Zc.AUTOMOD_HELD:case a.Zc.BLIZZARD_CONNECT_MODE:case a.Zc.EMOTE_ONLY:case a.Zc.FOLLOWERS_ONLY:case a.Zc.FOLLOWERS_ONLY_ZERO:case a.Zc.INSUFFICIENT_POINTS:case a.Zc.MESSAGE_REJECTED:case a.Zc.R9K_MODE:case a.Zc.REWARD_COST_MISMATCH:case a.Zc.REWARD_DISABLED:case a.Zc.REWARD_FORBIDDEN:case a.Zc.SERVER_ERROR:case a.Zc.SLOW_MODE:case a.Zc.SUBS_ONLY:case a.Zc.TRANSACTION_ALREADY_COMMITTED:case a.Zc.TRANSACTION_IN_PROGRESS:case a.Zc.UNKNOWN:case a.Zc.USER_BANNED:case a.Zc.USER_SUSPENDED:case a.Zc.USER_TIMED_OUT:case a.Zc.VERIFIED_ACCOUNT:default:return m()}}function h(e,t){switch(e){case a.bb.EMOTE_ALREADY_ENTITLED:return Object(r.d)("<x:strong>Oops!</x:strong> You can already use this emote!",{"x:strong":function(e){return i.createElement(l.a,{bold:!0,type:l.e.Span},e)}},"ChannelPointsEmoteUnlockError");case a.bb.INSUFFICIENT_POINTS:return Object(r.d)("<x:strong>Oops!</x:strong> You don't have enough points for this reward. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(l.a,{bold:!0,type:l.e.Span},e)},"x:link":function(e){return i.createElement(c.a,{onClick:t},e)}},"ChannelPointsEmoteUnlockError");case a.bb.NO_EMOTES_AVAILABLE:return Object(r.d)("<x:strong>Oops!</x:strong> This broadcaster has no emotes to unlock. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(l.a,{bold:!0,type:l.e.Span},e)},"x:link":function(e){return i.createElement(c.a,{onClick:t},e)}},"ChannelPointsEmoteUnlockError");case a.bb.REWARD_COST_MISMATCH:return Object(d.e)(null,(function(){return null}));case a.bb.REWARD_DISABLED:return Object(r.d)("<x:strong>Oops!</x:strong> This reward is disabled. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(l.a,{bold:!0,type:l.e.Span},e)},"x:link":function(e){return i.createElement(c.a,{onClick:t},e)}},"ChannelPointsEmoteUnlockError");case a.bb.REWARD_FORBIDDEN:return Object(r.d)("<x:strong>Oops!</x:strong> You cannot redeem this reward on this channel. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(l.a,{bold:!0,type:l.e.Span},e)},"x:link":function(e){return i.createElement(c.a,{onClick:t},e)}},"ChannelPointsEmoteUnlockError");case a.bb.TRANSACTION_ALREADY_COMMITTED:case a.bb.INVALID_EMOTE:case a.bb.UNKNOWN:default:return m()}}function f(e){switch(e){case a.Ic.MAX_PER_STREAM:return Object(r.d)("This reward is temporarily out of stock.","ChannelPointsMessageError");case a.Ic.USER_BANNED:return Object(r.d)("You've been banned and can't redeem this reward.","ChannelPointsMessageError");case a.Ic.NOT_ENOUGH_POINTS:return Object(r.d)("You don't have enough points for this reward.","ChannelPointsMessageError");case a.Ic.PROPERTIES_MISMATCH:return Object(d.f)(null,(function(){return null}));case a.Ic.DUPLICATE_TRANSACTION:case a.Ic.FORBIDDEN:case a.Ic.NOT_FOUND:default:return m()}}},B9yr:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){var n="";return e&&e.length>0&&(n=e.endsWith(" ")?e:e+" "),""+n+t.trim()+" "}},BKFw:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var i="BROADCAST_TYPE_ALL",a="broadcaster_id",r="BROADCAST_LENGTH_ANY"},BOil:function(e,t,n){},"BR/5":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetDeletedMessageDisplaySetting"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetDeletedMessageDisplaySettingInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setDeletedMessageDisplaySetting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedMessageDisplaySetting"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:185}};n.loc.source={body:"mutation SyncedSettingsSetDeletedMessageDisplaySetting($input: SetDeletedMessageDisplaySettingInput!) {\nsetDeletedMessageDisplaySetting(input: $input) {\ndeletedMessageDisplaySetting\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SyncedSettingsSetDeletedMessageDisplaySetting=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SyncedSettingsSetDeletedMessageDisplaySetting")},BZOq:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("H/lO"),a=n("BKFw");function r(e){return e.map((function(e){return{title:e.title||"",thumbnail:e.thumbnail||"",thumbnailAltText:e.thumbnailAltText||"",linkTo:e.linkTo||"",login:e.login||"",name:e.name||"",createdAt:e.createdAt||0,length:e.length||0,id:e.id||""}}))}function o(e){var t={},n=[];return"broadcastType"in e&&e.broadcastType!==a.c&&void 0!==e.broadcastType&&n.push(e.broadcastType),"broadcasterId"in e&&n.push(a.a+":"+e.broadcasterId),t.facetFilters=n.join(","),"broadcastLength"in e&&e.broadcastLength!==a.b&&void 0!==e.broadcastLength&&(t.numericFilters=[e.broadcastLength]),{typeID:i.a.Videos,params:t}}},BbLt:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"channel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"language"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"85"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"113"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"medProfileImageUrl"},name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"85"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"113"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lastBroadcast"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"85"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"113"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthorized"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restrictionType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"chanlets"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeChanlets"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelChanlet"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"hostingChannel"},directives:[]}]}}],loc:{start:0,end:813}};i.loc.source={body:'#import "twilight/features/channel/queries/hosting-channel.gql"\n#import "twilight/features/channel/queries/channel-chanlet.gql"\nfragment channel on User {\nid\nprimaryColorHex\nbroadcastSettings {\nid\nlanguage\ngame {\nid\nname\ndisplayName\nboxArtURL(width: 85 height: 113)\n}\ntitle\n}\ndisplayName\nlogin\nprofileImageURL(width: 50)\nmedProfileImageUrl: profileImageURL(width: 70)\nroles {\nisPartner\nisAffiliate\nisStaff\n}\nstream {\nid\ngame {\nid\nname\ndisplayName\nboxArtURL(width: 85 height: 113)\n}\ntitle\ntype\nviewersCount\n}\nlastBroadcast {\nid\ngame {\nid\nname\ndisplayName\nboxArtURL(width: 85 height: 113)\n}\ntitle\n}\nself {\nfollower {\ndisableNotifications\nnode {\nid\n}\n}\nsubscriptionBenefit {\nid\n}\n}\nchannel {\nid\nself {\nisAuthorized\nrestrictionType\n}\nchanlets @include(if: $includeChanlets) {\n...channelChanlet\n}\n}\n...hostingChannel\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("GvwK").definitions)),i.definitions=i.definitions.concat(r(n("ZGqV").definitions)),e.exports=i},BqRr:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("/7QA"),a=n("ll/k"),r=i.b.get("watch_channel_update_after_pubsub_max_rps",1e4);function o(e){return Object(a.a)(function(e,t){return e?t/e*1e3:0}(r,e))}},"CFw/":function(e,t,n){e.exports=n.p+"assets/notification_upsell_arrow-c9d4ff7c87444b45d813.png"},CJLt:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChat_TrackingContext_VideoAndCurrentUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:197}};n.loc.source={body:"query VideoChat_TrackingContext_VideoAndCurrentUser($videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\nowner {\nid\nlogin\nroles {\nisPartner\n}\n}\n}\ncurrentUser {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoChat_TrackingContext_VideoAndCurrentUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoChat_TrackingContext_VideoAndCurrentUser")},CNnA:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("a0DK"),a=function(e){return{areSubsDisabled:e.isWatchPartyActive&&!Object(i.c)()}}},CYfc:function(e,t,n){"use strict";var i=n("vhpE");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},CbHG:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatFilterContextManager_User"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:68}};n.loc.source={body:"query ChatFilterContextManager_User {\ncurrentUser {\nid\ncreatedAt\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatFilterContextManager_User=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatFilterContextManager_User")},CdYI:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollTopCommunityPointsContributor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollTopCommunityPointsContributor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPointsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:129}};n.loc.source={body:"fragment pollTopCommunityPointsContributor on PollTopCommunityPointsContributor {\ncommunityPointsAmount\nuser {\nid\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},DLI4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="poliwag_rollout"},DLhE:function(e,t,n){"use strict";var i=n("mrSG"),a=n("/7QA"),r=n("f00E"),o=n("+pBb"),s=n("F6GT"),l=n("2xye"),c=n("VJH5");function d(e,t){a.o.track(l.SpadeEventType.ChatFilterSettingsChanged,{chat_filter_is_active:e.viewerChatFilterEnabled,from_menu:t,toggle_aggressive_language:e.viewerChatFilterSettings[c.a.Aggressive],toggle_explicit_language:e.viewerChatFilterSettings[c.a.Sexual],toggle_identity_language:e.viewerChatFilterSettings[c.a.Identity],toggle_profane_language:e.viewerChatFilterSettings[c.a.Profanity]})}function u(e){return e.chat.renderSent}function m(e){return-1===Object.values(e).indexOf(!0)}function p(e){Object(s.c)("viewerChatFilterEnabled",e.viewerChatFilterEnabled),Object(s.c)("viewerChatFilterSettings",e.viewerChatFilterSettings)}n.d(t,"a",(function(){return u})),a.p.store.registerReducer("chat",(function(e,t){var n,a,l,u;switch(void 0===e&&(u=Object(s.b)(),e=Object(i.__assign)(Object(i.__assign)({},u),{emoteSets:[],emotePickerSessionID:null,isChatRulesOpen:!1,isHidden:!1,renderSent:null,unhideIgnoredUsers:[]})),t.type){case o.c:return Object(i.__assign)(Object(i.__assign)({},e),{isHidden:!0});case o.d:return Object(i.__assign)(Object(i.__assign)({},e),{isHidden:!1});case o.e:return Object(i.__assign)(Object(i.__assign)({},e),{isChatRulesOpen:!1});case o.h:return Object(i.__assign)(Object(i.__assign)({},e),{emoteSets:t.emoteSets});case o.f:return Object(i.__assign)(Object(i.__assign)({},e),{emotePickerSessionID:null});case o.g:return Object(i.__assign)(Object(i.__assign)({},e),{emotePickerSessionID:Object(r.c)()});case o.i:return Object(i.__assign)(Object(i.__assign)({},e),{lastUsedFollowerDurations:Object(i.__assign)(Object(i.__assign)({},e.lastUsedFollowerDurations),(n={},n[t.channelLogin]=t.duration,n))});case o.p:return Object(i.__assign)(Object(i.__assign)({},e),{lastUsedSlowModeDurations:Object(i.__assign)(Object(i.__assign)({},e.lastUsedSlowModeDurations),(a={},a[t.channelLogin]=t.duration,a))});case o.o:return Object(i.__assign)(Object(i.__assign)({},e),{isChatRulesOpen:!0});case o.a:return Object(i.__assign)(Object(i.__assign)({},e),{showAutoModActions:!1});case o.b:return Object(i.__assign)(Object(i.__assign)({},e),{showAutoModActions:!0});case o.j:return Object(i.__assign)(Object(i.__assign)({},e),{showModerationActions:!1});case o.k:return Object(i.__assign)(Object(i.__assign)({},e),{showModerationActions:!0});case o.l:return Object(i.__assign)(Object(i.__assign)({},e),{showModIcons:!1});case o.m:return Object(i.__assign)(Object(i.__assign)({},e),{showModIcons:!0});case o.q:return Object(i.__assign)(Object(i.__assign)({},e),{showTimestamps:!1});case o.r:return Object(i.__assign)(Object(i.__assign)({},e),{showTimestamps:!0});case o.t:var h=Object(i.__assign)(Object(i.__assign)({},e),{viewerChatFilterEnabled:!1});return p(h),d(h,t.source),h;case o.u:return p(h=m(e.viewerChatFilterSettings)?Object(i.__assign)(Object(i.__assign)({},e),{viewerChatFilterEnabled:!0,viewerChatFilterSettings:(l={},l[c.a.Aggressive]=!0,l[c.a.Identity]=!0,l[c.a.Profanity]=!1,l[c.a.Sexual]=!0,l)}):Object(i.__assign)(Object(i.__assign)({},e),{viewerChatFilterEnabled:!0})),d(h,t.source),h;case o.v:return p(h=Object(i.__assign)(Object(i.__assign)({},e),{viewerChatFilterEnabled:!m(t.settings),viewerChatFilterSettings:Object(i.__assign)(Object(i.__assign)({},e.viewerChatFilterSettings),t.settings)})),d(h,t.source),h;case o.n:return Object(i.__assign)(Object(i.__assign)({},e),{renderSent:t.customEvent});case o.s:return Object(i.__assign)(Object(i.__assign)({},e),{unhideIgnoredUsers:Object(i.__spreadArrays)(e.unhideIgnoredUsers,[t.userID])});default:return e}}))},DOLr:function(e,t,n){"use strict";n.r(t);var i=n("/MKj"),a=n("ANjH"),r=n("1/iK"),o=n("y5D0"),s=n("kRBY"),l=n("EkBt"),c=n("mrSG"),d=n("cr+I"),u=n("q1tI"),m=n("/7QA"),p=n("cw0r"),h=n("4VQm"),f=n("yR8l"),g=n("geRD"),v=n("daa2"),b=n("DMoW"),k=n("2xye"),y=n("ZS2+"),S=n("MJbm"),C=n("XDCx"),E=n("TSYQ"),w=n("7CzK"),O=n("94Uw"),D=n("sUnt"),N=n("yymn"),_=n("7uM4"),I=n("C7sF"),M=n("+80q"),T=n("Ws8v"),j=n("hnjF"),P=(n("/nm5"),n("41XU")),L=y.a.wrap((function(){return n.e(87).then(n.bind(null,"7lJP"))}),"UserImageUploader"),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openModal=function(){var e=t.props.data&&t.props.data.user;e&&e.id&&e.login&&t.props.showModal(L,{userID:e.id,login:e.login,displayName:e.displayName||e.login,imageType:O.a.ProfileBanner,showCloser:!0,successCallback:t.imageUploaded})},t.imageUploaded=function(){t.props.data&&t.props.data.refetch()},t}return Object(c.__extends)(t,e),t.prototype.render=function(){var e,t,n="channel-banner__image-default",i="channel-banner__header-type",a={"channel-banner--open":!this.props.collapsed,"channel-banner--side-nav":this.props.isSideNavBanner},r={"channel-banner__image--side-nav":this.props.isSideNavBanner},o={"channel-banner__edit-overlay-button--side-nav":this.props.isSideNavBanner},s=this.props.data;s&&!s.loading&&this.props.firstPageLoaded&&s.user&&s.user.bannerImageURL?(n="channel-banner__image-loaded",t={backgroundImage:"url("+s.user.bannerImageURL+")"}):(r["channel-banner__image--default"]=!0,t={backgroundImage:"url("+w+")"}),this.props.isSideNavBanner&&(i="channel-banner__side-nav-type");var l=null;if(this.props.canEdit){var c=this.props.isSideNavBanner?u.createElement(D.a,{display:N.g.Flex,padding:{x:3},justifyContent:N.l.Between,fullWidth:!0},u.createElement(_.a,{asset:I.a.Edit}),u.createElement(M.a,null,Object(m.d)("Edit","ChannelBanner"))):u.createElement(D.a,{display:N.g.Flex,flexDirection:N.h.Row},u.createElement(D.a,{margin:{right:.5}},u.createElement(_.a,{asset:I.a.Edit})),Object(m.d)("Update Profile Banner","ChannelBanner"));l=u.createElement(T.a,{className:E("channel-banner__edit-overlay",o),background:N.d.Overlay,position:N.n.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0},u.createElement("button",{className:"channel-banner__edit-overlay-button","data-test-selector":"channel-banner__edit-overlay-interactable",onClick:this.openModal},u.createElement(D.a,{display:N.g.Flex,alignItems:N.b.Center,flexDirection:N.h.Column,justifyContent:N.l.Center},c)))}return e=u.createElement("div",{className:E("channel-banner__image",r),"data-test-selector":n,style:t},l),u.createElement("div",{className:E("channel-banner",a),"data-test-selector":i,onTransitionEnd:this.props.onTransitionEnd},u.createElement(j.a,{fullWidth:!0,fullHeight:!0},e))},t.prototype.componentWillUnmount=function(){this.props.closeModal()},t}(u.Component),F=Object(f.a)(P,{options:function(e){return{variables:{login:e.channelLogin}}},skip:function(e){return!e.channelLogin||!e.firstPageLoaded}})(R);var A,x=Object(i.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}),(function(e){return Object(a.b)({closeModal:C.d,showModal:C.e},e)}))(F),U=n("ihtq"),B=n("4rCz"),V=n("Hz5m");!function(e){e[e.Channel=1]="Channel",e[e.Clips=2]="Clips",e[e.Success=3]="Success",e[e.Followers=4]="Followers",e[e.Following=5]="Following",e[e.Videos=6]="Videos"}(A||(A={}));var H=function(e,t){return[{label:Object(B.d)("Home","ChannelHeader"),pathname:G(t,""),isSelected:q(e,A.Channel)},{label:Object(B.d)("Videos","ChannelHeader"),pathname:G(t,"videos"),isSelected:q(e,A.Videos)},{label:Object(B.d)("Clips","ChannelHeader"),pathname:G(t,"clips"),isSelected:q(e,A.Clips)},{label:Object(B.d)("Followers","ChannelHeader"),pathname:G(t,"followers"),isSelected:q(e,A.Followers)}]},G=function(e,t){return void 0===t&&(t=""),e?"/"+e+"/"+t:void 0},q=function(e,t){return A[function(e){switch(e){case V.c.About:return A.Channel;case V.c.Collections:case V.c.Videos:return A.Videos;case V.c.Clips:return A.Clips;case V.c.Followers:return A.Followers;case V.c.Following:return A.Following;default:return A.Channel}}(e)]===A[t]},W=n("uBOI"),z=function(e){var t=e.channelLogin,n=e.page,i=e.setupResizeHandler,a=e.removeResizeHandler,r=function(e,t){var n=-1,i=H(e,t).map((function(e,t){var i=e.isSelected,a=e.label,r=e.pathname,o=a.toLowerCase()+"-channel-header-item",s={pathname:r,state:Object(c.__assign)({},B.q.history.location.state)};return i&&(n=t),{label:a,linkTo:s,"data-a-target":o}}));return{activeTab:n,tabs:i}}(n,t),o=r.activeTab,s=r.tabs;return u.createElement(D.a,{fullHeight:!0,display:N.g.Flex,padding:{x:1},alignItems:N.b.Center,justifyContent:N.l.Center,flexWrap:N.i.NoWrap,flexGrow:4},u.createElement(W.b,{justifyContent:N.l.Center,activeTabIndex:o,borderBottom:!1,tabs:s,setupResizeHandler:i,removeResizeHandler:a,"data-test-selector":"channel-header-tabs"}))},Q=n("gdtZ"),Y=n("HH5h"),K=function(e){var t=e.editProfileOverlay,n=e.profileImageURL,i=e.displayName,a=e.login;return u.createElement(D.a,{className:"channel-header__user-avatar channel-header__user-avatar--active",margin:{right:.5},breakpointSmall:{margin:{right:1}},display:N.g.Flex,alignItems:N.b.Stretch},u.createElement(D.a,{position:N.n.Relative,className:"channel-header__avatar-dropdown"},u.createElement(Y.a,{size:36,src:n,alt:i||"",userLogin:void 0===n?null:a}),t))},$=n("PL8s"),X=function(e){var t=e.displayName;if(!t)return u.createElement($.a,{lineCount:1,width:120});var n=t.length>20?N.j.Size6:N.j.Size5;return u.createElement(M.a,{fontSize:n,color:N.f.Inherit,whiteSpace:M.f.NoWrap},t)},Z=n("b7S+");n("Os+Q");function J(){return u.createElement(Z.a,{label:Object(m.d)("Verified User","ChannelHeader"),direction:Z.c.Right},u.createElement(D.a,{className:"channel-header-verified-badge",display:N.g.Flex,alignItems:N.b.Center,margin:{left:.5},breakpointSmall:{margin:{left:1}}},u.createElement(_.a,{asset:I.a.Verified})))}var ee=n("Jsra"),te=function(e){var t,n=e.isActive,i=e.isLive,a=e.onClick,r=e.channelLogin,o=e.displayName,s=e.isPartner,l=e.profileImageURL,c=e.editProfileOverlay,d=E("channel-header__user",{"channel-header__user--selected":n}),m=u.createElement(D.a,{display:N.g.Flex,alignItems:N.b.Center,fullHeight:!0,className:"channel-header-user-tab__user-content"},u.createElement(K,{editProfileOverlay:c,profileImageURL:l,displayName:o,login:r}),u.createElement(X,{displayName:o}),s&&u.createElement(J,null),i&&u.createElement(Q.a,{isActive:n}));return t=n?u.createElement("div",{className:"channel-header__banner-toggle",onClick:a,"data-a-target":"user-channel-header-item"},m):r?u.createElement(ee.a,{linkTo:"/"+r||!1,"data-a-target":"user-channel-header-item",hoverUnderlineNone:!0,type:ee.b.Inherit},m):m,u.createElement(j.a,{display:N.g.Flex,className:d},t)},ne=n("GnwI"),ie=n("xb4u"),ae=n("sSlw"),re=n("br9A"),oe=(n("BOil"),n("HXcb")),se=1024,le=0,ce=y.a.wrap((function(){return n.e(85).then(n.bind(null,"g9Rq"))}),"EditProfileOverlay",{placeholder:null}),de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bannerHidden:!0,bannerSlideIn:!1},t.innerWidth=se,t.processWidth=function(){t.channelHeader&&(t.innerWidth=window.innerWidth,t.updateWidth(t.getWidth(t.channelHeader)),t.updateTabsSize())},t.renderMiddleSection=function(){var e=t.props,n=e.channelLogin,i=e.page;return u.createElement(z,{page:i,setupResizeHandler:t.setupTabResizeHandler,removeResizeHandler:t.removeTabResizeHandler,channelLogin:n})},t.renderEditProfileOverlay=function(){var e=t.props,n=e.channel,i=e.data,a=e.currentUser;if(!(n&&n.id&&n.login&&t.isChannelEditor()))return null;var r=n.id,o=n.login,s=n.displayName,l=(n.medProfileImageUrl||m.a.defaultAvatarURL).includes("user-default-pictures"),c=i&&i.user&&i.user.profileImageURL;return u.createElement(ce,{userID:r,login:o,displayName:s||o,isDefaultAvatar:l,profileImageURL:c,currentUser:a})},t.toggleChannelBanner=function(){t.setState((function(e){var t=!e.bannerSlideIn;return t?{bannerHidden:!e.bannerHidden,bannerSlideIn:t}:{bannerSlideIn:t}}))},t.completedBannerAnimation=function(){t.setState((function(e){return e.bannerSlideIn?e:{bannerHidden:!0}}))},t.onUpdateDebounce=function(){t.resizeTimeout&&(clearTimeout(t.resizeTimeout),t.resizeTimeout=null),t.channelHeader&&(t.processWidth(),t.resizeTimeout=setTimeout(t.handleWindowResize,le))},t.setupTabResizeHandler=function(e){t.updateTabsSizeHandler=e},t.removeTabResizeHandler=function(){t.updateTabsSizeHandler=void 0},t.handleWindowResize=function(){t.resizeTimeout=null,t.forceUpdate(),t.updateTabsSize()},t.saveChannelHeaderRef=function(e){return t.channelHeader=e},t}return Object(c.__extends)(t,e),t.prototype.componentDidMount=function(){!this.props.data||this.props.data.loading||this.props.data.error||this.updateTabsSize(),this.reportInteractive()},t.prototype.componentDidUpdate=function(e){this.processWidth(),this.reportInteractive()},t.prototype.componentWillUnmount=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout)},t.prototype.render=function(){var e=this.props,t=e.page,n=e.firstPageLoaded,i=e.rightColumnExpanded,a=q(t,A.Channel),r=n&&a?this.renderBanner():null,o=i||this.innerWidth<ie.a?1:4,s=this.renderLeftSection(),l=this.renderMiddleSection(),c=n?this.renderRightSection():null;return u.createElement(ae.a,null,u.createElement(D.a,{className:"channel-header",padding:{y:.5},display:N.g.Flex,fullHeight:!0,fullWidth:!0,alignItems:N.b.Stretch,justifyContent:N.l.Between,flexDirection:N.h.Column},r,u.createElement(D.a,{display:N.g.Flex,justifyContent:N.l.Center,flexWrap:N.i.NoWrap,fullHeight:!0,fullWidth:!0},u.createElement(D.a,{fullHeight:!0,fullWidth:!0,refDelegate:this.saveChannelHeaderRef,padding:{left:.5,right:.5},breakpointSmall:{padding:{left:1,right:o}}},u.createElement(D.a,{display:N.g.Flex,fullWidth:!0,fullHeight:!0,justifyContent:N.l.Between,alignItems:N.b.Center},s,l,c),u.createElement(S.a,{onResize:this.onUpdateDebounce})))))},t.prototype.renderRightSection=function(){var e=this.props,t=e.channel,n=e.channelLogin,i=this.getFollowingState(this.props),a=t&&t.displayName||"";return u.createElement(U.a,{onWidthChange:this.onUpdateDebounce,isFollowing:i,channelLogin:n,channelDisplayName:a,subLocation:re.b.ChannelPage})},t.prototype.renderBanner=function(){var e=this.props.channelLogin,t=this.state.bannerHidden?N.g.HideAccessible:N.g.Block;return u.createElement(D.a,{display:t,fullWidth:!0},u.createElement(x,{channelLogin:e,canEdit:this.isChannelEditor(),collapsed:!this.state.bannerSlideIn,onTransitionEnd:this.completedBannerAnimation}))},t.prototype.renderLeftSection=function(){var e,t,n,i=this.props,a=i.channel,r=i.live,o=i.page,s=i.channelLogin,l=i.hostedChannel,c=q(o,A.Channel);a&&(a.medProfileImageUrl&&(e=a.medProfileImageUrl),t=a.displayName||"",n=a.roles&&a.roles.isPartner);var d=this.renderEditProfileOverlay();return u.createElement(D.a,{display:N.g.Flex,alignItems:N.b.Center,flexWrap:N.i.NoWrap,fullHeight:!0,className:"channel-header__left","data-target":"channel-header-left"},u.createElement(te,{onClick:this.toggleChannelBanner,channelLogin:s,displayName:t,isPartner:!!n,isLive:r&&!l,profileImageURL:e,isActive:c,editProfileOverlay:d}))},t.prototype.updateWidth=function(e){var t=e!==this.width||this.width!==this.prevWidth;void 0!==this.width&&(this.prevWidth=this.width),this.width!==e&&(this.width=e),t&&(this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.onUpdateDebounce())},t.prototype.isChannelEditor=function(){var e=this.props,t=e.currentUser,n=e.channel;return!(!t||!n||!t.roles||t.id!==n.id&&!t.roles.isStaff&&!t.roles.isSiteAdmin)},t.prototype.updateTabsSize=function(){this.updateTabsSizeHandler&&this.updateTabsSizeHandler()},t.prototype.getWidth=function(e){return e?e.clientWidth:0},t.prototype.reportInteractive=function(){this.props.contextLoading||this.props.latencyTracking.reportInteractive()},t.prototype.getFollowingState=function(e){return!!(e.channel&&e.channel.self&&e.channel.self.follower)&&null!==e.channel.self.follower.disableNotifications},t}(u.Component),ue=Object(a.d)(Object(f.a)(oe,{options:function(e){return{variables:{login:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(ne.withLatencyTracking)("ChannelHeader"))(de),me=n("CFw/"),pe=n.n(me),he=n("atdg"),fe=n("HSpZ"),ge=(n("9RDd"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.render=function(){return u.createElement("div",{onClick:this.props.closeModal},u.createElement(fe.a,{type:fe.f.FadeIn,duration:fe.c.Long,timing:fe.e.EaseInOut,enabled:!0},u.createElement(T.a,{className:"browser-push-notifications-upsell",alignItems:N.b.Center,justifyContent:N.l.Center,position:N.n.Fixed,display:N.g.Flex,background:N.d.Overlay,fullHeight:!0,fullWidth:!0,attachTop:!0,attachLeft:!0},u.createElement(D.a,{className:"browser-push-notifications-upsell__container",display:N.g.Flex,textAlign:N.p.Center,padding:{x:1},position:N.n.Relative},u.createElement(fe.a,{type:fe.f.SlideInBottom,duration:fe.c.Long,timing:fe.e.EaseInOut,enabled:!0},u.createElement(M.a,{id:he.a,type:M.e.H3,fontSize:N.j.Size3,lineHeight:M.b.Body},Object(m.d)("Don't miss out when your favorite streamers go live!","BrowserNotificationsUpsellModal")),u.createElement(D.a,{margin:{top:1}},u.createElement(M.a,{type:M.e.H4,fontSize:N.j.Size4,color:N.f.OverlayAlt,lineHeight:M.b.Body},Object(m.d)("Turn on Browser Notifications to get updates even when your browser window is minimized","BrowserNotificationsUpsellModal")))),u.createElement(D.a,{className:"browser-push-notifications-upsell__arrow",position:N.n.Absolute,attachTop:!0,attachLeft:!0},u.createElement(fe.a,{type:fe.f.SlideInBottom,delay:fe.b.Short,duration:fe.c.Long,timing:fe.e.EaseInOut,enabled:!0},u.createElement("img",{src:pe.a})))))))},t}(u.Component));var ve=Object(i.b)(null,(function(e){return Object(a.b)({closeModal:C.d},e)}))(ge);var be=Object(i.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,rightColumnExpanded:e.ui.rightColumnExpanded}}),(function(e){return Object(a.b)({showBrowserNotificationsUpsellModal:function(){return Object(C.e)(ve,{})},closeBrowserNotificationsUpsellModal:C.d},e)}))(ue),ke=n("tiJ6"),ye=n("Q34B"),Se=n("tkie"),Ce=n("a6LY"),Ee=n("0bws"),we=0,Oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackLongtask=function(e){if(t.shouldTrackLongtask()){var n=e.attribution.find((function(e){return"script"===e.name}));m.o.track(k.SpadeEventType.UserLongtask,{container_id:n&&n.containerId,container_name:n&&n.containerName,container_src:n&&n.containerSrc,container_type:n&&n.containerType,longtask_duration:e.duration,longtask_name:e.name})}},t}return Object(c.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;if(++we>1){var t="Multiple LongtaskTrackers mounted (one maximum allowed).";m.k.errorAndReport(new Error(t),t)}else window.PerformanceObserver&&window.PerformanceLongTaskTiming&&(this.performanceObserver=new window.PerformanceObserver((function(t){t.getEntries().forEach(e.trackLongtask)})),this.performanceObserver.observe({entryTypes:["longtask"]}))},t.prototype.componentWillUnmount=function(){we--,this.performanceObserver&&this.performanceObserver.disconnect()},t.prototype.render=function(){return null},t.prototype.shouldTrackLongtask=function(){return m.b.get("longtask_tracking_sample_rate",1)>Math.random()},t}(u.Component),De=n("uFiD"),Ne=n("Uyxv"),_e=n("cnlr"),Ie=n("2bi+"),Me=n("ngVu"),Te=n("zQgx"),je=n("Q94S"),Pe=n("4S4c"),Le=n("CA7O"),Re=n("Ty5D"),Fe=n("oB8h"),Ae=n("Dw5F"),xe=n("VKOn"),Ue=n("8ssJ"),Be=n("4l7P"),Ve=n("1k85"),He=n("S8nt"),Ge=n("+XUr"),qe=n("i/Zp");var We,ze=n("ZLqn"),Qe=n("ybym"),Ye=n("eAAt"),Ke=n("0EKw"),$e=n("5goO"),Xe=n("10eq"),Ze=n("8s1E"),Je=n("vlTn"),et=n("L/cU"),tt=n("A5Hy"),nt=n("U1zV"),it=n("efL4"),at=(n("rhXE"),n("5in9")),rt=y.a.wrap((function(){return n.e(109).then(n.bind(null,"Cjzi"))}),"RealtimeStreamTagList",{placeholder:u.createElement(Je.a,null)});!function(e){e.TeamName="channel-info-bar-team-name",e.TitleText="channel-info-bar-title-text",e.ChannelInfoBarWrapper="channel-info-bar-wrapper"}(We||(We={}));var ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getGame=function(){var e,n,i,a=t.props.channel,r=null===(e=null==a?void 0:a.broadcastSettings)||void 0===e?void 0:e.game,o=null===(n=null==a?void 0:a.lastBroadcast)||void 0===n?void 0:n.game;return null!==(i=null!=r?r:o)&&void 0!==i?i:void 0},t.getTitle=function(){var e,n,i,a=t.props.channel,r=null===(e=null==a?void 0:a.broadcastSettings)||void 0===e?void 0:e.title,o=null===(n=null==a?void 0:a.lastBroadcast)||void 0===n?void 0:n.title;return null!==(i=null!=r?r:o)&&void 0!==i?i:""},t.renderGame=function(){var e=t.getGame();return e&&e.name?u.createElement(D.a,{margin:{right:1}},u.createElement(Ke.a,{displayName:e.displayName||e.name,medium:k.PageviewMedium.Channel,name:e.name})):null},t.renderGameBoxArt=function(){var e=t.getGame(),n=e&&e.name?e.name:"",i=e&&e.boxArtURL?e.boxArtURL:"";return e&&n&&i?u.createElement(D.a,{margin:{right:1}},u.createElement(Ye.a,{name:n,boxArtURL:i,size:et.b.Size4})):null},t.renderTeam=function(){var e=t.props.userData&&t.props.userData.user;return e&&e.primaryTeam?u.createElement(D.a,{margin:{right:1}},u.createElement($e.a,{"data-test-selector":We.TeamName,name:e.primaryTeam.name,displayName:e.primaryTeam.displayName})):null},t}return Object(c.__extends)(t,e),t.prototype.componentDidUpdate=function(){this.maybeReportInteractive()},t.prototype.componentDidMount=function(){this.maybeReportInteractive()},t.prototype.render=function(){var e;if(this.props.channelIsHosting)return null;var t=this.getTitle(),n=this.props.userData&&this.props.userData.user,i=n&&n.profileViewCount?n.profileViewCount:0,a=this.renderGame(),r=this.renderTeam();return u.createElement(T.a,{className:"channel-info-bar","data-test-selector":We.ChannelInfoBarWrapper,display:N.g.Flex,flexWrap:N.i.Wrap,justifyContent:N.l.Between,padding:1,fullWidth:!0},u.createElement(D.a,{className:"channel-info-bar__content-container",display:N.g.Flex,flexShrink:1,flexGrow:1,flexDirection:N.h.Column,justifyContent:N.l.Between,margin:{bottom:1}},u.createElement(D.a,{display:N.g.Flex,flexWrap:N.i.NoWrap,justifyContent:N.l.Between,fullWidth:!0},u.createElement(D.a,{className:"channel-info-bar__info-container",display:N.g.Flex,flexGrow:1,flexShrink:1,justifyContent:N.l.Between,padding:{right:1,left:.5},fullWidth:!0},u.createElement(D.a,{display:N.g.Flex,flexDirection:N.h.Column,fullWidth:!0},u.createElement(D.a,{display:N.g.Flex,margin:{bottom:.5},className:"channel-info-bar__content-top",justifyContent:N.l.Between,flexWrap:N.i.Wrap,breakpointSmall:{flexWrap:N.i.NoWrap}},u.createElement(D.a,{flexGrow:1,flexShrink:1,overflow:N.m.Hidden,padding:{right:2}},u.createElement(M.a,{type:M.e.H2,fontSize:N.j.Size4,lineHeight:M.b.Body,"data-a-target":"stream-title","data-test-selector":We.TitleText,title:t,role:tt.c.Heading},t)),u.createElement(D.a,{alignItems:N.b.Start,className:"channel-info-bar__content-right",display:N.g.Flex},u.createElement(D.a,{display:N.g.Flex,className:"channel-info-bar__viewers-count-wrapper"},u.createElement(T.a,{display:N.g.Flex,color:N.f.Alt2,fontSize:N.j.Size5},u.createElement(T.a,{className:"channel-info-bar__viewers-wrapper",color:N.f.Live,display:N.g.InlineFlex},u.createElement(Qe.a,{login:this.props.channelLogin})),u.createElement(T.a,{display:N.g.InlineFlex,alignItems:N.b.Center},u.createElement(nt.a,{value:Object(m.d)("{count, number}",{count:i},"ChannelInfoBar"),label:Object(m.d)("Total Views","ChannelInfoBar"),icon:I.a.GlyphViews,"data-a-target":"total-views-count"})))))),u.createElement(D.a,{display:N.g.Flex,margin:{top:.5}},this.renderGameBoxArt(),u.createElement(D.a,{display:N.g.Flex,flexDirection:N.h.Column},u.createElement(D.a,{display:N.g.Flex,flexShrink:0},a,a&&r&&u.createElement(D.a,{margin:{right:1},flexShrink:0},u.createElement(M.a,{bold:!0,color:N.f.Alt2,fontSize:N.j.Size5,ariaHidden:!0},"•")),r),u.createElement(D.a,{margin:{top:.5},display:N.g.Flex,alignItems:N.b.Start,justifyContent:N.l.Between,flexWrap:N.i.Wrap},u.createElement(D.a,{display:N.g.Flex,flexWrap:N.i.Wrap,padding:{top:.5}},this.props.firstPageLoaded?u.createElement(rt,{channelLogin:this.props.channelLogin}):u.createElement(Je.a,null))))))),u.createElement(D.a,{display:N.g.Flex,flexGrow:0,className:"channel-info-bar__button-container"},this.props.firstPageLoaded&&(null===(e=this.props.channel)||void 0===e?void 0:e.id)&&u.createElement(D.a,{margin:{left:.5}},u.createElement(it.a,{channelID:this.props.channel.id,channelLogin:this.props.channelLogin})),u.createElement(D.a,{margin:{left:.5}},this.renderChannelShareButton()),this.props.channel&&this.props.channel.id&&u.createElement(D.a,{margin:{left:.5}},u.createElement(Ze.a,{channelID:this.props.channel.id,channelLogin:this.props.channelLogin})))),this.props.firstPageLoaded&&u.createElement(Xe.a,{channelLogin:this.props.channelLogin})))},t.prototype.renderChannelShareButton=function(){return this.props.channel&&this.props.channel.login?u.createElement(ze.a,{login:this.props.channel.login,displayName:this.props.channel.displayName||this.props.channel.login,title:this.getTitle()}):null},t.prototype.maybeReportInteractive=function(){this.props.contextLoading||this.props.latencyTracking.reportInteractive()},t}(u.Component);var st=Object(a.d)(Re.k,Object(ke.c)((function(e){return{channel:e.channel,contextError:e.error,contextLoading:e.loading}})),Object(f.a)(at,{name:"userData",skip:function(e){return!e.firstPageLoaded},options:function(e){return{variables:{login:e.channelLogin}}}}),Object(ne.withLatencyTracking)("ChannelInfoBar"))(ot);var lt,ct=Object(i.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}),(function(e){return Object(a.b)({login:function(){return Object(o.e)(r.a.ReportChannel)},showBrowserNotificationsUpsellModal:function(){return Object(C.e)(ve,{})},closeBrowserNotificationsUpsellModal:C.d},e)}))(st),dt=n("WOQ1"),ut=n("D7An"),mt=n("KOTp"),pt=n("ygYM"),ht=n("7d/q"),ft=n("kduP");!function(e){e.Title="title",e.Date="date"}(lt||(lt={}));var gt,vt=/\S/,bt=function(e){var t=e.clip,n="",i=Object(m.c)(new Date(t.createdAt),"medium");return t.title&&""!==t.title&&vt.test(t.title)&&t.title&&(n=t.title,i=" · "+i),u.createElement(M.a,{bold:!0,fontSize:N.j.Size4},u.createElement(M.a,{title:n,"data-test-selector":lt.Title,type:M.e.Span},n),u.createElement(M.a,{color:N.f.Alt2,"data-test-selector":lt.Date,type:M.e.Span},i))},kt=n("uXHW"),yt=n("AFv4");!function(e){e.InfoPlaceholder="info-placeholder",e.SubText="sub-text",e.SubTextGame="sub-text-game",e.SubTextCurator="sub-text-curator",e.SubTextViews="sub-text-views"}(gt||(gt={}));var St,Ct=Object(ne.withLatencyTracking)("ClipInfo",{autoReportInteractive:!0})((function(e){var t,n=e.clip,i=n&&n.broadcaster&&u.createElement(ee.a,{linkTo:"/"+n.broadcaster.login},n.broadcaster.displayName);t=n&&n.game&&i?Object(m.d)("{broadcaster} playing {game}",{broadcaster:i,game:u.createElement(ee.a,{linkTo:""+Object(ft.a)(n.game.name)},n.game.displayName)},"ClipInfo"):i;var a,r=n&&n.game?u.createElement("span",{"data-test-selector":gt.SubTextGame},t):null,o=n&&n.curator?u.createElement("span",{"data-test-selector":gt.SubTextCurator},n&&n.game&&!!n.curator&&u.createElement("span",null," • "),n&&n.curator&&Object(m.d)("Clipped by {curator}",{curator:u.createElement(ee.a,{linkTo:"/"+n.curator.login},n.curator.displayName)},"ClipInfo")):null,s=u.createElement("span",{"data-test-selector":gt.SubTextViews},n&&n.curator&&u.createElement("span",null," • "),n&&Object(m.d)("{viewCount, plural, one {# view} other {# views}}",{viewCount:n.viewCount||0},"ClipInfo"));return a=null===n?u.createElement(D.a,{"data-test-selector":gt.InfoPlaceholder,display:N.g.Flex,flexDirection:N.h.Column},u.createElement($.a,{lineCount:1,width:320}),u.createElement($.a,{lineCount:1,width:240})):u.createElement("div",null,u.createElement(bt,{clip:n}),u.createElement(T.a,{"data-test-selector":gt.SubText,color:N.f.Alt2},r,o,s)),u.createElement(kt.a,{row:!0},u.createElement(yt.a,{overflow:N.m.Hidden},a))})),Et=n("ZZOg"),wt=n("HOFL"),Ot=n("u5aL"),Dt=n("+GjP"),Nt=n("IZXT"),_t=n("16Gl"),It=n("K29g"),Mt=n("dEDE"),Tt=n("hCFK"),jt=n("XQbB"),Pt=n("4wKg"),Lt=n("k0nM"),Rt=n("QZCf"),Ft=(n("K+oU"),n("QA0N"));!function(e){e.control="control",e.variant1="variant1",e.variant2="variant2"}(St||(St={}));var At=function(e,t){var n={content:Ft.a.ClipLight,location:Ft.d.VideoWatchPage,section_content_id:e,source_vod_id:t};m.o.track(k.SpadeEventType.ItemSectionLoad,n)},xt=function(e,t,n){var i={content:Ft.a.ClipLightSaveAsHighlight,item_index:n===St.variant2?0:1,location:Ft.d.VideoWatchPage,section_content_id:e,source_vod_id:t};m.o.track(k.SpadeEventType.ItemSectionClick,i)},Ut=function(e,t,n){var i={content:Ft.a.ClipLightViewInHighlighter,item_index:n===St.variant1?0:1,location:Ft.d.VideoWatchPage,section_content_id:e,source_vod_id:t};m.o.track(k.SpadeEventType.ItemSectionClick,i)},Bt=function(){return Object(B.d)("Save as Highlight","ChannelClipLightButton")},Vt=function(){return Object(B.d)("View in Highlighter","ChannelClipLightButton")},Ht=function(){return Object(B.d)("Processing","ChannelClipLightButton")},Gt=function(){return Object(B.d)("Error","ChannelClipLightButton")},qt=function(){return Object(B.d)("Saved","ChannelClipLightButton")},Wt={PrimaryButton:"split-light-primary-button",DropdownButton:"split-light-dropdown-button",DropdownContainer:"split-light-dropdown-container",LoadingSpinnerTransition:"split-light-loading-spinner-transition"},zt=2e3,Qt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isDropDownOpen:!1,isErrored:!1,isLoading:!1,isSuccessful:!1},n.componentDidMount=function(){var e=n.props.clip;e&&e.video&&At(e.id,e.video.id)},n.renderPrimaryAction=function(e){var t="variant1"===n.vodDamianAssignment?n.openHighlighterTab:n.openVideoManager,i=Mt.d.Primary;return n.state.isErrored?i=Mt.d.Alert:n.state.isSuccessful&&(i=Mt.d.Success),u.createElement(T.a,{flexGrow:1},u.createElement(Mt.a,{"data-test-selector":Wt.PrimaryButton,type:i,fullWidth:!0,disabled:e,onClick:t},u.createElement(D.a,{display:N.g.Flex,alignItems:N.b.Center,justifyContent:N.l.Start},u.createElement(D.a,{display:n.state.isLoading?N.g.Block:N.g.HideAccessible,margin:{right:.5}},u.createElement(Tt.a,{"data-test-selector":Wt.LoadingSpinnerTransition,show:n.state.isLoading,type:[Tt.c.Fade,Tt.c.SlideOverLeft],duration:Tt.b.Medium},u.createElement(jt.a,{size:jt.b.Small}))),n.getButtonText())))},n.getButtonText=function(){return n.state.isLoading?Ht():n.state.isErrored?Gt():n.state.isSuccessful?qt():"variant1"===n.vodDamianAssignment?Vt():Bt()},n.renderDropDown=function(e){var t=n.state.isDropDownOpen,i=!n.state.isLoading&&!n.state.isErrored&&!n.state.isSuccessful,a="variant1"===n.vodDamianAssignment?u.createElement(Pt.a,{label:Bt(),onClick:n.openVideoManager}):u.createElement(Pt.a,{label:Vt(),onClick:n.openHighlighterTab});return u.createElement(T.a,{borderLeft:!0,display:i?N.g.Block:N.g.Hide,position:N.n.Relative,"data-test-selector":Wt.DropdownContainer},u.createElement(Ot.a,{onClickOut:n.closeDropdown},u.createElement(Mt.a,{"data-test-selector":Wt.DropdownButton,type:Mt.d.Primary,disabled:e,icon:I.a.GlyphArrDown,onClick:n.toggleDropDown}),u.createElement(Lt.a,{show:t,direction:pt.b.TopRight,elevation:1},a)))},n.openHighlighterTab=function(){var e,t=n.props.clip;if(t&&t.broadcaster&&t.broadcaster.login&&t.video&&null!==t.videoOffsetSeconds){var i=Object(Dt.g)(Object(_t.a)(t.broadcaster.login,t.video.id),((e={})[It.a.TrackingID]=t.id,e[It.a.Start]=t.videoOffsetSeconds.toString(),e[It.a.End]=(t.videoOffsetSeconds+t.durationSeconds).toString(),e[It.a.Title]=t.title||"Clip: "+t.video.title,e[It.a.GameName]=t.game&&t.game.displayName||"",e[It.a.GameID]=t.game&&t.game.id||"",e));Ut(t.id,t.video.id,n.vodDamianAssignment||""),window.open(i,"_blank"),n.closeDropdown()}else n.setState({isLoading:!1,isErrored:!0},n.closeDropdown)},n.openVideoManager=function(){return Object(c.__awaiter)(n,void 0,void 0,(function(){var e,t,n,i,a,r,o=this;return Object(c.__generator)(this,(function(s){switch(s.label){case 0:if(!((e=this.props.clip)&&e.broadcaster&&e.broadcaster.id&&e.video))return[2,null];t={metadata:{creatorID:e.broadcaster.id,description:"",language:e.language||"",tags:[],title:e.title||"",game:e.game&&e.game.id?e.game.id:null,highlightRanges:[{endMs:1e3*((e.videoOffsetSeconds||0)+e.durationSeconds),startMs:1e3*(e.videoOffsetSeconds||0),vodID:e.video.id}]}},xt(e.id,e.video.id,this.vodDamianAssignment||""),this.setState({isLoading:!0,isSuccessful:!1,isErrored:!1},this.closeDropdown),s.label=1;case 1:s.trys.push([1,6,7,8]),n=void 0,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.props.createHighlight(Object(g.a)(t))];case 3:return i=s.sent().data,n=i,[3,5];case 4:return a=s.sent(),Object(Nt.d)()?m.k.warn("create highlight mutation failed"):m.k.errorAndReport(a,"create highlight mutation failed"),this.setState({isLoading:!1,isErrored:!0}),setTimeout((function(){o.setState({isSuccessful:!1,isErrored:!1})}),zt),[2];case 5:if(this.setState({isLoading:!1,isSuccessful:!0}),!(n&&n.createMultiVideoHighlight&&n.createMultiVideoHighlight.highlight&&n.createMultiVideoHighlight.highlight.id))throw new Error("No ID provided after highlight mutation");return[3,8];case 6:return r=s.sent(),m.k.errorAndReport(r,"Failed to publish a highlight from SplitLightDropdown.",{mutationInput:t}),this.setState({isLoading:!1,isErrored:!0}),[3,8];case 7:return setTimeout((function(){o.setState({isSuccessful:!1,isErrored:!1})}),zt),[7];case 8:return[2]}}))}))},n.toggleDropDown=function(){n.setState((function(e){return{isDropDownOpen:!e.isDropDownOpen}}))},n.closeDropdown=function(){n.setState({isDropDownOpen:!1})},n.vodDamianAssignment=m.p.experiments.getAndTrackAssignment(ut.c.VODDamian,{channel:t.channelLogin}),n}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=!(!this.props.clip.video||!this.props.clip.video.id),t=this.props.clip.video&&this.props.clip.video.broadcastType===b.D.ARCHIVE,n=this.state.isLoading||!t||!e,i=null;e?t||(i=Object(B.d)("You can only highlight past broadcasts","ChannelClipLightButton")):i=Object(B.d)("Full video not available","ChannelClipLightButton");var a=u.createElement(T.a,{display:N.g.Flex},u.createElement(T.a,{background:n?N.d.Alt2:N.d.Accent,borderRadius:N.e.Medium,color:N.f.Base,display:N.g.InlineFlex,alignItems:N.b.Center,position:N.n.Relative,flexGrow:0,flexShrink:0},this.renderPrimaryAction(n),this.renderDropDown(n)));return null!==i?u.createElement(Z.a,{label:i},a):a},t}(u.Component),Yt=Object(a.d)(Object(f.a)(Rt,{name:"createHighlight"}))(Qt),Kt=n("j426"),$t=function(e){function t(t){var n=e.call(this,t)||this;return n.renderPrimaryAction=function(){var e=n.props,t=e.clip,i=e.channelLogin,a=e.data,r=t&&t.video,o=!a||a.loading;if(!t||!r||null===n.vodDamianAssignment||o)return null;var s=n.getUserRoles(),l=null!==s&&(s.isBroadcaster||s.isEditor);return"control"!==n.vodDamianAssignment&&l?u.createElement(Yt,{clip:t,channelLogin:i}):u.createElement(mt.a,{tt_medium:k.PageviewMedium.ClipsWatchPage,tt_content:k.PageviewContent.FullVODButton,video:{id:r.id,offsetSeconds:t.videoOffsetSeconds}})},n.getUserRoles=function(){var e=n.props.data;return!e||e.loading||e.error||!e.currentUser?null:{isEditor:e.currentUser.self&&e.currentUser.self.isEditor||!1,isStaffOrSiteAdmin:e.currentUser.roles&&(e.currentUser.roles.isStaff||e.currentUser.roles.isSiteAdmin)||!1,isCurator:e.currentUser.id===n.getCuratorID(),isBroadcaster:e.currentUser.id===n.getBroadcasterID()}},n.getBroadcasterID=function(){var e=n.props.clip;return e&&e.broadcaster&&e.broadcaster.id?e.broadcaster.id:""},n.getCuratorID=function(){var e=n.props.clip;return e&&e.curator&&e.curator.id?e.curator.id:""},n.vodDamianAssignment=m.p.experiments.getAndTrackAssignment(ut.c.VODDamian,{channel:t.channelLogin}),n}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.channelLogin,n=e.clip,i=this.props.data&&null!==this.props.data.currentUser?this.getUserRoles():null;return u.createElement(T.a,{alignItems:N.b.Center,breakpointMedium:{flexDirection:N.h.Row},display:N.g.Flex,flexWrap:N.i.NoWrap,justifyContent:N.l.Start},u.createElement(T.a,{flexGrow:1,fullWidth:!0,fullHeight:!0,overflow:N.m.Hidden,padding:{x:2,y:1}},u.createElement(Ct,{clip:n})),u.createElement(T.a,{alignItems:N.b.Center,className:"video-info-bar__action-container",display:N.g.Flex,flexDirection:N.h.Row,flexShrink:0,fullHeight:!0,padding:1},u.createElement(D.a,{display:N.g.Flex,flexGrow:0},this.renderPrimaryAction(),n&&u.createElement(D.a,{display:N.g.Flex,padding:{left:1}},u.createElement(wt.a,{clip:n,balloonDirection:pt.b.TopRight,buttonType:ht.c.Secondary})),u.createElement(Et.a,{channelLogin:t,clip:n,currentUser:i}))))},t}(u.Component),Xt=Object(a.d)(Object(f.a)(Kt,{skip:function(e){return null===e.clip}}),Object(ne.withLatencyTracking)("ClipDescription",{autoReportInteractive:!0}))($t),Zt=(n("a2Ot"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.render=function(){return u.createElement(D.a,{"data-test-selector":"private-video-banner-layout"},this.renderHeader())},t.prototype.renderHeader=function(){var e=this;return u.createElement(fe.a,{type:fe.f.SlideInBottom,delay:fe.b.Medium,duration:fe.c.Medium,enabled:!0},u.createElement(T.a,{className:"private-video-banner__header",display:N.g.Flex,background:N.d.AccentAlt2,color:N.f.Overlay,alignItems:N.b.Center,padding:{x:1,y:.5},fontSize:N.j.Size6,"data-test-selector":"private-video-banner-header"},u.createElement(D.a,{display:N.g.Flex,alignItems:N.b.Center,justifyContent:N.l.Center},u.createElement(_.a,{asset:I.a.Lock,width:20,height:20})),u.createElement(M.a,null,Object(m.d)("This video is private. To edit your video, visit your <x:link>video manager</x:link>",{"x:link":function(t){return u.createElement(ee.a,{"data-test-selector":"private-video-banner-header-link",linkTo:{pathname:"/"+e.props.ownerLogin+"/manager",state:{medium:k.PageviewMedium.VideoWatchPage,content:k.PageviewContent.Video}}},u.createElement(M.a,{type:M.e.Span,color:N.f.OverlayAlt},t))}},"PrivateVideoBanner"))))},t}(u.Component)),Jt=n("VwyG"),en=n("yVY3"),tn=n("5Ijs"),nn=n("MXoD"),an=n("F2Tz"),rn=n("OTul"),on=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props.trackingContext;m.o.trackItemSectionLoad({carousel_content:e.carouselContent,location:e.location,section_type:e.sectionType,item_type:e.itemType})},t.prototype.render=function(){var e=this.props,t=e.trackingContext,n=e.channelLogin,i=e.videoID;return u.createElement(Mt.a,{type:Mt.d.Secondary,icon:I.a.Highlighter,linkTo:Object(nn.a)(t,Object(rn.g)(n,i)),targetBlank:!0},Object(an.a)())},t}(u.Component),sn=n("Zy80"),ln=n("SHn+"),cn=n("imSJ"),dn=n("6x+I"),un={skipHtml:!0,softBreak:"br",allowedTypes:["Emph","Strong","Paragraph","Heading","Item","List","Text","Link","Softbreak","Hardbreak"]};var mn,pn=n("CGUg");!function(e){e.MoreInfoBox="more-info-box",e.ToggleExpandButton="toggle-expand-button",e.DescriptionContainer="description-container"}(mn||(mn={}));var hn,fn=function(e){try{return!Object(Dt.b)(new URL(e))}catch(e){return!0}},gn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isExpanded:!1},t.renderDescription=function(){if(t.props.description&&t.state.isExpanded){var e,n=((e=t.props.description)?e.split(/ {2}\n|\n(?!\d+\.)(?!\*|- )|^\n/gm):[]).map((function(e,n){if(0===e.length)return u.createElement("br",{key:"desc-line"+n});var i={Link:t.renderMarkdownProtectedLink};return u.createElement(D.a,{key:"desc-line"+n},u.createElement(dn,Object(c.__assign)({source:e,renderers:i},un)))}));return u.createElement(pn.a,{"data-test-selector":mn.DescriptionContainer},n)}},t.toggleExpand=function(){t.setState((function(e){return{isExpanded:!e.isExpanded}}))},t}return Object(c.__extends)(t,e),t.prototype.render=function(){return this.props.description?u.createElement(T.a,{"data-test-selector":mn.MoreInfoBox,margin:{top:1}},this.renderDescription(),u.createElement(T.a,{display:N.g.Flex,margin:{top:.5}},u.createElement(ee.a,{"data-test-selector":mn.ToggleExpandButton,type:ee.b.Default,onClick:this.toggleExpand},this.state.isExpanded?Object(B.d)("Show Less","ChannelRootMoreInfoBox"):Object(B.d)("Show More","ChannelRootMoreInfoBox")))):null},t.prototype.renderMarkdownProtectedLink=function(e){return u.createElement(ee.a,{linkTo:e.href,rel:fn(e.href)?"nofollow noreferrer noopener":void 0},e.children)},t}(u.Component),vn=Object(a.d)(Object(ne.withLatencyTracking)("MoreInfoBox",{autoReportInteractive:!0}))(gn);!function(e){e[e.ClipCurator=0]="ClipCurator",e[e.ClipCuratorDot=1]="ClipCuratorDot",e[e.ClipCuratorName=2]="ClipCuratorName"}(hn||(hn={}));var bn,kn=function(e){var t=e.login,n=e.includesSeparator,i=Object(m.d)("Clipped by {curator}",{curator:u.createElement(ee.a,{linkTo:{pathname:"/"+t,state:{medium:k.PageviewMedium.ClipsWatchPage,content:k.PageviewContent.ClipCuratorName}}},t)},"ChannelVideoClipCurator"),a=null;if(n){a=u.createElement(D.a,{"data-test-selector":hn.ClipCuratorDot,margin:{right:1}},u.createElement(M.a,{fontSize:N.j.Size5,type:M.e.Span},"·"))}return u.createElement(D.a,{display:N.g.Flex},a,u.createElement(M.a,{fontSize:N.j.Size5,type:M.e.Span,"data-test-selector":hn.ClipCurator},i))},yn=n("fPaz");!function(e){e[e.GameImagePlaceholder=0]="GameImagePlaceholder"}(bn||(bn={}));var Sn,Cn=function(e){var t=e.boxArtURL,n=e.name;return n?u.createElement(ee.a,{linkTo:Object(ft.a)(n),"data-a-target":"video-info-game-boxart-link"},u.createElement(et.a,{src:t||m.a.defaultBoxArtURL,alt:n,aspect:yn.c.BoxArt,size:et.b.Size4})):u.createElement($.a,{"data-test-selector":bn.GameImagePlaceholder,height:55,width:40})};!function(e){e.Title="title",e.Date="date"}(Sn||(Sn={}));var En,wn=/\S/,On=function(e){var t=e.title,n=e.dateString,i=t&&""!==t&&wn.test(t),a=i&&t?t:"",r="";return n&&m.i.length&&(r=Object(m.i)(new Date(n)),i&&(r=" · "+r)),u.createElement(T.a,{margin:{bottom:.5}},u.createElement(M.a,{bold:!0,fontSize:N.j.Size4},i&&u.createElement(M.a,{title:a,"data-test-selector":Sn.Title,type:M.e.Span},a),u.createElement(M.a,{color:N.f.Alt2,"data-test-selector":Sn.Date,type:M.e.Span},r)))},Dn=n("wp5a");n("GEha");!function(e){e[e.VideoDescription=0]="VideoDescription",e[e.InfoPlaceholder=1]="InfoPlaceholder"}(En||(En={}));var Nn,_n=Object(ne.withLatencyTracking)("VideoInfo",{autoReportInteractive:!0})((function(e){var t=e.video;if(null===t)return u.createElement(kt.a,{row:!0},u.createElement(D.a,{className:"video-info__container"},u.createElement(D.a,{"data-test-selector":En.InfoPlaceholder,display:N.g.Flex,flexDirection:N.h.Column},u.createElement($.a,{lineCount:1,width:320}),u.createElement($.a,{lineCount:1,width:240}))));var n=null,i=null;if(t.game&&(n=u.createElement(D.a,{flexShrink:0,margin:{right:1}},u.createElement(Cn,{boxArtURL:t.game.boxArtURL,name:t.game.name})),i=u.createElement(D.a,{margin:{right:1}},u.createElement(ln.a,{linkTo:{pathname:Object(ft.a)(t.game.name),state:{content:k.PageviewContent.Game,medium:k.PageviewMedium.VideoWatchPage}},label:Object(cn.a)(),title:t.game.name,alignItems:N.b.Start,"data-a-target":"video-info-game-link"}))),!Object(an.b)(t)){var a=null;t.scope===b.Jd.PRIVATE&&(a=u.createElement(T.a,{fontSize:N.j.Size4},u.createElement(Dn.a,{label:Object(m.d)("Private","ChannelVideoInfo")})));var r=null,o=t.description;return o&&(r=u.createElement(T.a,{"data-test-selector":En.VideoDescription},u.createElement(vn,{description:o}))),u.createElement(kt.a,{row:!0},u.createElement(D.a,{display:N.g.Flex,flexDirection:N.h.Column},u.createElement(On,{dateString:t.publishedAt,title:t.title}),u.createElement(D.a,{className:"video-info__container",overflow:N.m.Hidden,display:N.g.Flex},n,u.createElement(D.a,{display:N.g.Flex,flexDirection:N.h.Column},a,u.createElement(D.a,{display:N.g.InlineFlex},i),r))))}if(Object(an.b)(t)){var s=t.curator?t.curator.login:"",l=null;if(s){var c=!(!t||!t.game);l=u.createElement(kn,{login:s,includesSeparator:c})}return u.createElement(kt.a,{row:!0},n,u.createElement(D.a,{className:"video-info__container",overflow:N.m.Hidden},u.createElement(On,{dateString:t.createdAt,title:t.title}),u.createElement(D.a,{display:N.g.InlineFlex},i,l)))}return null})),In=n("Dq8x");n("GXBl");!function(e){e[e.TotalViews=0]="TotalViews"}(Nn||(Nn={}));var Mn,Tn,jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=null;if(this.props.video){var t=this.props.video.viewCount;e=u.createElement(T.a,{alignItems:N.b.Center,"data-test-selector":Nn.TotalViews,display:N.g.Flex,color:N.f.Alt2,flexGrow:1,flexShrink:1,fontSize:N.j.Size5,margin:{right:1}},u.createElement(nt.a,{value:Object(m.f)(t||0),label:Object(m.d)("Total Views","VideoDescription"),icon:I.a.GlyphViews}))}return u.createElement(u.Fragment,null,u.createElement(T.a,{alignItems:N.b.Center,display:N.g.Flex,flexWrap:N.i.NoWrap,justifyContent:N.l.Between,padding:{top:1,x:1},fullWidth:!0},u.createElement(T.a,{alignItems:N.b.Start,display:N.g.Flex,flexWrap:N.i.NoWrap,justifyContent:N.l.Between,flexDirection:N.h.Row,flexShrink:1,fullHeight:!0,fullWidth:!0},u.createElement(T.a,{className:"video-description__info-container",overflow:N.m.Hidden,flexShrink:1,padding:{x:1},fullHeight:!0},u.createElement(_n,{video:this.props.video})),u.createElement(D.a,{display:N.g.Flex,flexGrow:0},e,u.createElement(D.a,{display:N.g.Flex},this.renderTrackedHighlightButton(),u.createElement(tn.a,{balloonDirection:pt.b.TopRight,buttonType:Mt.d.Secondary,content:{collectionID:this.props.collectionID||void 0,videoID:this.props.video?this.props.video.id:void 0},getCurrentVideoTime:this.props.getLastVideoOffset,tracking:{location:k.PageviewLocation.VideoWatchPage}})),u.createElement(In.a,{currentUser:this.props.currentUser,video:this.props.video,getCurrentVideoTime:this.props.getLastVideoOffset})))))},t.prototype.renderTrackedHighlightButton=function(){var e=this;return this.props.video&&this.props.video.owner&&this.props.video.owner.login&&this.props.video.broadcastType===b.D.ARCHIVE&&Object(sn.a)()&&u.createElement(D.a,{margin:{right:1}},u.createElement(Jt.a,{ownerLogin:this.props.video.owner.login,permittedRoles:{owner:!0,editor:!0,staff:!1}},(function(t){return t.permitted&&e.props.video&&e.props.video.owner&&e.props.video.owner.login&&u.createElement(on,{channelLogin:e.props.video.owner.login,videoID:e.props.video.id,trackingContext:{carouselContent:k.PageviewContent.Video,location:k.PageviewLocation.VideoWatchPage,medium:k.PageviewMedium.ChannelVideos,content:k.PageviewContent.ChannelInfoBar,sectionType:en.b.ChannelInfoBar,itemType:en.a.HighlightButton}})})))},t}(u.Component),Pn=Object(ne.withLatencyTracking)("VideoDescription",{autoReportInteractive:!0})(jn),Ln=n("x7UT"),Rn=n("0Log"),Fn=n("/aPz"),An=n("J6gT"),xn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkIfVodcast=function(e){switch(e){case Fe.a.WatchParty:case Fe.a.Premiere:case Fe.a.Rerun:return!0;default:return!1}},t.getVODPath=function(e){return"videos/"+encodeURIComponent(e)},t}return Object(c.__extends)(t,e),t.prototype.componentDidUpdate=function(){this.props.data.user&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidMount=function(){this.props.data.user&&this.props.latencyTracking.reportInteractive()},t.prototype.componentWillUnmount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){if(void 0===this.props.data||void 0===this.props.data.user)return null;var e=this.props.data.user;if(!e||!e.stream||null===e.stream.type)return null;if(!this.checkIfVodcast(e.stream.type))return null;var t=null,n=null,i="",a="";this.props.pubsub&&this.props.pubsub.messages&&this.props.pubsub.messages.vodcast&&(i=this.props.pubsub.messages.vodcast.vod.vod_id,a=this.props.pubsub.messages.vodcast.vod.title);var r=u.createElement(M.a,{type:M.e.Span,bold:!0},e.displayName||"");return e.stream.type===Fe.a.Rerun?(t=u.createElement(_.a,{asset:I.a.VideoRerun,height:16,width:16}),n=i&&a?Object(m.d)("Rerun of video from {channelName}: {videoLink}",{channelName:r,videoLink:u.createElement(ee.a,{linkTo:{pathname:this.getVODPath(i),state:{location:k.PageviewLocation.Channel,medium:k.PageviewMedium.Channel}}},u.createElement(M.a,{type:M.e.Span,color:N.f.OverlayAlt},a))},"ChannelVodcastTopbar"):Object(m.d)("Rerun of video from {channelName}",{channelName:r},"ChannelVodcastTopbar")):e.stream.type===Fe.a.Premiere&&(t=u.createElement(_.a,{asset:I.a.VideoPremiere,type:_.b.Live,height:16,width:16}),n=Object(m.d)("Premiere of video from {channelName}",{channelName:r},"ChannelVodcastTopbar")),u.createElement(T.a,{background:N.d.Accent,color:N.f.Overlay,padding:1,alignItems:N.b.Center,display:N.g.Flex,flexWrap:N.i.NoWrap,overflow:N.m.Hidden},t,u.createElement(D.a,{display:N.g.Inline,padding:{left:.5},ellipsis:!0},u.createElement(M.a,{fontSize:N.j.Size5,ellipsis:!0,"data-test-selector":"channel-vodcast-topbar",title:a},n)))},t}(u.Component),Un=Object(a.d)(Object(f.a)(An,{options:function(e){return{pollInterval:12e4,fetchPolicy:"network-only",variables:{channelLogin:e.channelLogin}}}}),Object(Ln.a)([{skip:function(e){return e.data.loading||!e.data.user||!e.data.user.id},topic:function(e){return e.data.user&&e.data.user.id?Object(Fn.W)(e.data.user.id):""},mapMessageTypesToProps:(Mn={},Mn[Rn.PubsubMessageType.Vodcast]="vodcast",Mn)}]),Object(ne.withLatencyTracking)("ChannelVodcastTopbar"))(xn),Bn=n("bRMw"),Vn=y.a.wrap((function(){return n.e(134).then(n.bind(null,"nKq/"))}),"ChannelCollaborationBanner",{placeholder:null}),Hn=y.a.wrap((function(){return n.e(91).then(n.bind(null,"5k+0"))}),"MultiviewBanner",{placeholder:null}),Gn=y.a.wrap((function(){return n.e(92).then(n.bind(null,"/G4D"))}),"MultiviewInfoBalloon",{placeholder:null}),qn=y.a.wrap((function(){return n.e(275).then(n.bind(null,"Wgfy"))}),"WatchPartyChannelBanner",{placeholder:null}),Wn=y.a.wrap((function(){return n.e(135).then(n.bind(null,"R0al"))}),"ChannelPreviewBanner",{placeholder:null});!function(e){e.CollaborationBanner="channel_root_collaboration_banner",e.MultiviewBanner="channel_page_multiview_banner",e.MultiviewInfoBalloon="channel_root_multiview_info_balloon",e.NonLiveVideoBanner="channel_root_non_live_video_banner",e.ChannelPreview="channel_preview_banner"}(Tn||(Tn={}));var zn=1,Qn="twilight.multiview_owl_ftue_done",Yn=function(e){function t(t){var n=e.call(this,t)||this;return n.lastVideoOffset=Te.a,n.getLiveChannelSources=function(){var e=n.props.contentType!==ye.a.LIVE&&n.props.currentUser&&n.props.currentUser.roles&&n.props.currentUser.roles.isSiteAdmin,t=n.props,i=t.hostedChannel,a=t.channel,r=t.channelLogin,o=void 0;return a&&a.login===r&&i&&!e&&(o=i.login),{contentLogin:o||r,isHosting:!!o}},n.onVideoPauseToggled=function(e){e&&n.props.onMainPlayerPause?n.props.onMainPlayerPause():!e&&n.props.onMainPlayerPlay&&n.props.onMainPlayerPlay()},n.onPlaybackBlocked=function(){n.props.onPlaybackBlocked()},n.onStreamOnline=function(){n.props.handleStreamStatusChange("online")},n.onStreamOffline=function(){n.props.handleStreamStatusChange("offline")},n.onPlayerNavigationEvent=function(e){var t=n.props.video,i=t?t.id:"",a=n.props.collection&&n.props.collection.id||void 0;!function(e,t,n){if(e.collectionID||!e.videoID)if(e.collectionID&&e.videoID){if(n&&n.currentVideoID&&n.currentCollectionID&&n.currentVideoID===e.videoID&&n.currentCollectionID===e.collectionID)return;t.push("/videos/"+e.videoID+"?collection="+e.collectionID)}else!e.collectionID||e.videoID?m.k.withCategory("video-player").errorAndReport(new Error("No collection or video specified from the emitted player transition event."),"No collection or video specified from the emitted player transition event."):t.push("/collections/"+e.collectionID);else t.push("/videos/"+e.videoID)}(e,n.props.history,{currentCollectionID:a,currentVideoID:i})},n.triggerPlayerReposition=function(){n.repositionPlayer&&n.repositionPlayer()},n.onVideoTimeChange=function(e){var t=Math.floor(e);if(t!==n.lastVideoOffset)if(n.lastVideoOffset=t,n.props.clip){var i=t+n.getSourceVideoClipStartOffset()-zn;n.props.onVideoTimeChange(i)}else n.props.onVideoTimeChange(t);else n.props.requestedVideoOffset===t&&n.props.requestVideoOffset(Te.a)},n.getMiniPlayerTitle=function(){if(n.props.contentType===ye.a.VIDEO||n.props.contentType===ye.a.COLLECTION)return n.props.video&&n.props.video.title||Object(m.d)("Watching video","ChannelRoot");if(n.props.contentType===ye.a.CLIP)return n.props.clip&&n.props.clip.title||Object(m.d)("Watching clip","ChannelRoot");var e;if(n.props.hostedChannel)return e=n.props.hostedChannel.displayName||n.props.hostedChannel.login,Object(m.d)("Hosting {channel}",{channel:e},"ChannelRoot");var t=n.props.channel;return e=t&&t.displayName||n.props.channelLogin,Object(m.d)("Watching {channelName}",{channelName:e},"ChannelRoot")},n.setRepositionPlayer=function(e){n.repositionPlayer=e},n.getLastVideoOffset=function(){return n.lastVideoOffset},n.onEnterMultiview=function(){n.props.history.push("/"+n.props.match.params.channelLogin+"/commandcenter"),n.endMultiviewFTUE()},n.endMultiviewFTUE=function(){n.state.multiviewFTUEDone||(m.p.storage.set(Qn,!0),n.setState({multiviewFTUEDone:!0}))},n.state={multiviewFTUEDone:m.p.storage.get(Qn,!1)},n}return Object(c.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e,t,n,i,a,r,o=this.props.channelLogin,s=this.props.channel,l=this.props.collectionID,c=this.props.clipSlug,d=this.props.videoID,p=!d&&!l&&!c,h=this.props.video,f=Object(xe.b)(s),g=Object(Bn.d)(o)&&p&&this.props.firstPageLoaded&&!this.channelIsHosting()&&f.length>0,v=Object(Te.d)(s)===Fe.a.Live,k=!!(s&&s.self&&s.self.subscriptionBenefit),y=k&&!this.state.multiviewFTUEDone,S={type:Ge.a.Invalid},C={disableStreamInfoTags:!0,enableExtensions:!0,trackingProperties:{is_pbyp:this.props.isShowing}},E=qe.a.Site,w=this.props.requestedVideoOffset!==Te.a?this.props.requestedVideoOffset:void 0,O=this.props,N=O.onMainPlayerAdPodStart,_=O.onMainPlayerAdPodEnd,I=O.onMainPlayerContentRestricted,M=O.onMainPlayerInit;if(p){var T=g?{buttonText:Object(m.d)("Enter Command Center","ChannelRootPlayerUI"),parentChannelLogin:o,parentChannelID:s&&s.id||"",isFTUE:y}:void 0,j=this.getLiveChannelSources();S={type:Ge.a.Live,channelLogin:j.contentLogin,hostChannel:j.isHosting?o:void 0,multiview:T}}else l?S={type:Ge.a.Collection,collectionID:l,videoOffset:w,vodID:d}:d?S={type:Ge.a.VOD,vodID:d,videoOffset:w}:c&&(S={type:Ge.a.Clip,clipSlug:c,videoOffset:w},C={disableStatusOverlay:!0,onClick:He.c.TOGGLE_PLAYBACK},E=qe.a.ClipsWatchPage);var P=!this.props.live&&!this.channelIsHosting()&&!h||!!c,L=null;p&&this.props.firstPageLoaded&&!this.channelIsHosting()&&s&&s.id&&(L=u.createElement(Vn,{channelID:s.id,channelLogin:o,channelDisplayName:s.displayName,triggerPlayerReposition:this.triggerPlayerReposition,"data-test-selector":Tn.CollaborationBanner}));var R=null;g&&s&&s.id&&v&&(R=u.createElement(Hn,{channelID:s.id,channelLogin:o,chanlets:f,triggerPlayerReposition:this.triggerPlayerReposition,viewerIsAuthorized:k,"data-test-selector":Tn.MultiviewBanner}));var F=null;g&&y&&(F=u.createElement(Gn,{channelLogin:o,"data-test-selector":Tn.MultiviewInfoBalloon}));var A=null;this.props.firstPageLoaded&&!this.props.live&&Object(Ae.c)({channelID:null!==(e=null==s?void 0:s.id)&&void 0!==e?e:null,currentUserID:null!==(n=null===(t=this.props.currentUser)||void 0===t?void 0:t.id)&&void 0!==n?n:null,isPartner:!!(null===(i=null==s?void 0:s.roles)||void 0===i?void 0:i.isPartner),isAffiliate:!!(null===(a=null==s?void 0:s.roles)||void 0===a?void 0:a.isAffiliate),isStaff:!!(null===(r=null==s?void 0:s.roles)||void 0===r?void 0:r.isStaff)})&&(A=u.createElement(Wn,{channelLogin:o,triggerPlayerReposition:this.triggerPlayerReposition}));var x=null;h&&h.scope===b.Jd.PRIVATE&&h.owner&&h.owner.login&&(x=u.createElement(Zt,{ownerLogin:o}));var U=p&&!this.channelIsHosting()&&Object(Te.c)(s)&&u.createElement(Un,{channelLogin:o}),B=null;return this.props.firstPageLoaded&&s&&s.id&&s.displayName&&p&&(B=u.createElement(qn,{channel:{login:o,id:s.id,displayName:s.displayName},live:this.props.live,hosting:this.channelIsHosting(),vodcast:Object(Te.c)(s),triggerPlayerReposition:this.triggerPlayerReposition})),u.createElement(u.Fragment,null,u.createElement(D.a,{className:"channel-root__player-container",padding:{bottom:2}},B,L,R,x,U,A,u.createElement(Ve.a,{triggerPlayerReposition:this.triggerPlayerReposition},u.createElement(dt.a,null,u.createElement(Ue.a,{repositionPlayerRef:this.setRepositionPlayer,playerProps:{content:S,behaviors:C,type:E,callbacks:{onEnterMultiview:g?this.onEnterMultiview:void 0,onNavigationRequest:this.onPlayerNavigationEvent,onSeek:this.onVideoTimeChange,onStreamOnline:this.onStreamOnline,onStreamOffline:this.onStreamOffline,onVideoTimeChange:this.onVideoTimeChange,onPlaybackBlocked:this.onPlaybackBlocked,onContentRestricted:I,onPauseToggled:this.onVideoPauseToggled,onAdStart:function(e){N(e)},onAdEnd:function(e){_(e)},onInit:function(e){M(e)}}},miniPlayerTitle:this.getMiniPlayerTitle(),miniPlayerContentRoute:this.props.contentCanonicalUrl,disablePersistenceOnUnmount:P,disablePersistenceOnScroll:P}))),F,this.renderDescription()))},t.prototype.renderDescription=function(){var e=this.props,t=e.contentType;switch(t){case ye.a.LIVE:return u.createElement(ct,{channelLogin:e.channelLogin,channelIsHosting:!!e.hostedChannel});case ye.a.COLLECTION:case ye.a.VIDEO:return u.createElement(Pn,{collectionID:e.collection&&e.collection.id,currentUser:e.currentUser,video:e.video,getLastVideoOffset:this.getLastVideoOffset});case ye.a.CLIP:return u.createElement(Xt,{clip:e.clip,channelLogin:e.channelLogin});case ye.a.NONE:return null;default:return t}},t.prototype.channelIsHosting=function(){return!!this.props.hostedChannel},t.prototype.getSourceVideoClipStartOffset=function(){return this.props.clip&&this.props.clip.videoOffsetSeconds?this.props.clip.videoOffsetSeconds:0},t}(u.Component);var Kn=Object(a.d)(Re.k,Object(i.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,theatreModeEnabled:e.ui.theatreModeEnabled}}),(function(e){return Object(a.b)({onVideoTimeChange:Ie.s,onPlaybackBlocked:Ie.r},e)})),Object(ke.c)((function(e){return{contentType:e.contentType,channelLogin:e.channelLogin,videoID:e.videoID,collectionID:e.collectionID,clipSlug:e.clipSlug,loading:e.loading,channel:e.channel,video:e.video,collection:e.collection,clip:e.clip,contentCanonicalUrl:e.contentCanonicalUrl,live:e.live,videoPlayerSource:e.videoPlayerSource,currentUser:e.currentUser,hostedChannel:e.hostedChannel,requestedVideoOffset:e.requestedVideoOffset,requestVideoOffset:e.requestVideoOffset,handleStreamStatusChange:e.handleStreamStatusChange}})),Object(Be.c)((function(e){return{isShowing:e.isShowing,onMainPlayerAdPodEnd:e.onMainPlayerAdPodEnd,onMainPlayerAdPodStart:e.onMainPlayerAdPodStart,onMainPlayerContentRestricted:e.onMainPlayerContentRestricted,onMainPlayerPlay:e.onMainPlayerPlay,onMainPlayerPause:e.onMainPlayerPause,onMainPlayerInit:e.onMainPlayerInit}})),u.memo,Object(ne.withLatencyTracking)("ChannelPlayer"))(Yn),$n=n("+Jjl"),Xn=n("Bh3T"),Zn=n("JoTo"),Jn=(n("nc/C"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.renderRightColumn,n=e.children,i=e.persistentPlayerIsPersisting,a=e.theatreModeEnabled,r=e.renderVideoPlayer,o=e.renderSideNav,s=e.renderHeader,l=E({"channel-root__scroll-area--theatre-mode":a}),c=E({"channel-root":!0,"channel-root--persistent-player":i});return u.createElement(T.a,{className:c,fullHeight:!0},u.createElement(Xn.b,{className:l,suppressScrollToTop:!0,suppressScrollX:!0}),s,u.createElement(Zn.a,null,o),u.createElement($n.b,null,u.createElement(T.a,{className:"channel-root__right-column",display:N.g.Flex,flexDirection:N.h.Column,flexGrow:0,flexShrink:0,flexWrap:N.i.NoWrap,fullHeight:!0,borderLeft:!0},t)),r&&u.createElement(D.a,{className:"channel-root__player-container",padding:{bottom:2}},r),n)},t}(u.Component)),ei=n("vRsq"),ti=n("NvVO"),ni=n("bdHe"),ii=n("9MrB"),ai=n("YXxK"),ri=n("K+jS");function oi(e){var t=e.title,n=e.count,i=n?Object(m.f)(n):null;return u.createElement(D.a,{alignItems:N.b.Baseline,display:N.g.Flex,margin:{top:2}},u.createElement(ri.a,{size:ri.b.Large,type:M.e.H1},t),i&&u.createElement(D.a,{margin:{left:1}},u.createElement(M.a,{fontSize:N.j.Size2,type:M.e.H2,color:N.f.Alt2,fontWeight:N.k.SemiBold},i)))}var si=n("gHOn"),li=y.a.wrap((function(){return Promise.resolve().then(n.bind(null,"EJeP"))}),"ChannelFollowersContent",{placeholder:u.createElement(ni.a,null)}),ci=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this.props.data&&this.props.data.user&&this.props.data.user.followers?this.props.data.user.followers.totalCount:null;return u.createElement(u.Fragment,null,u.createElement(oi,{title:Object(m.d)("Followers","ChannelPageHeaders"),count:e}),u.createElement(li,{channelLogin:this.props.channelLogin}))},t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive(1),this.setPageTitle(),this.props.updateChatTrackingContext({viewerContext:ai.c.ChannelFollowersPage})},t.prototype.componentDidUpdate=function(e){(this.props.channel&&e.channel&&this.props.channel.displayName!==e.channel.displayName||this.props.channelLogin!==e.channelLogin)&&this.setPageTitle()},t.prototype.setPageTitle=function(){var e=this.props.channel&&this.props.channel.displayName||this.props.channelLogin;B.q.setPageTitle(Object(m.d)("{channelName}'s Followers",{channelName:e},"ChannelRootFollowersPage"))},t}(u.Component);var di=Object(a.d)(Object(ke.c)((function(e){return{channel:e.channel,channelLogin:e.channelLogin,error:e.error,loading:e.loading,pageviewProps:Object(je.d)(e.channel,e.video,e.collection,e.clip)}})),Object(f.a)(si,{options:function(e){return{variables:{login:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(ii.b)((function(e){return Object(c.__assign)({},e)})),Object(ne.withPageTracking)("ChannelFollowersPage",{destination:ti.a.ChannelFollowers,location:k.PageviewLocation.Followers,pageviewProperties:function(e){return e.pageviewProps},skipPageviewTracking:function(e){return e.loading||!!e.error}}))(ci);var ui=Object(a.d)(Object(i.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}})))(di),mi=n("7JxC"),pi=(n("4IKE"),y.a.wrap((function(){return Promise.all([n.e(6),n.e(0),n.e(132)]).then(n.bind(null,"EuHz"))}),"ChannelPanels",{placeholder:u.createElement(mi.a,null)})),hi=y.a.wrap((function(){return n.e(55).then(n.bind(null,"1mK2"))}),"CelebrationAnimationQueue",{placeholder:null}),fi="panel-container",gi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.render=function(){return u.createElement(D.a,{display:N.g.Flex,flexDirection:N.h.Column,margin:{x:"auto"},padding:{bottom:3}},this.props.firstPageLoaded&&this.props.channel&&this.props.channel.id&&u.createElement(hi,{channelID:this.props.channel.id}),u.createElement(D.a,{className:"channel-page__panel-container","data-test-selector":fi,flexGrow:1,flexShrink:1},this.props.firstPageLoaded&&this.props.channel&&this.props.channel.id&&u.createElement(pi,{channelID:this.props.channel.id,channelLogin:this.props.channelLogin})))},t.prototype.componentDidMount=function(){this.setPageTitle(),this.props.updateChatTrackingContext({viewerContext:ai.c.ChannelPage})},t.prototype.componentDidUpdate=function(e){(!e.channel&&this.props.channel||this.props.channel&&e.channel&&this.props.channel.displayName!==e.channel.displayName||this.props.channelLogin!==e.channelLogin)&&this.setPageTitle()},t.prototype.setPageTitle=function(){var e=this.props.channel&&this.props.channel.displayName?this.props.channel.displayName:this.props.channelLogin;m.p.setPageTitle(e)},t}(u.Component);var vi=Object(a.d)(Object(ke.c)((function(e){return{channel:e.channel,channelLogin:e.channelLogin,error:e.error,loading:e.loading,pageviewProps:Object(je.d)(e.channel,e.video,e.collection,e.clip)}})),Object(ii.b)((function(e){return Object(c.__assign)({},e)})),Object(ne.withPageTracking)("ChannelPage",{autoReportInteractive:!0,destination:ti.a.ChannelIndex,location:k.PageviewLocation.Channel,pageviewProperties:function(e){return e.pageviewProps},skipPageviewTracking:function(e){return e.loading||!!e.error}}))(gi);var bi=Object(a.d)(Re.k,Object(i.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}})))(vi),ki=n("LA8z"),yi=n("9Nw7"),Si=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.componentDidMount=function(){this.setPageTitle(),this.setClipsFilter()},t.prototype.componentDidUpdate=function(){this.setPageTitle(),this.setClipsFilter()},t.prototype.render=function(){return Object(ei.w)(m.p.history.location.search)?u.createElement(u.Fragment,null,u.createElement(oi,{title:Object(m.d)("Clips","ChannelPageHeaders")}),this.renderChannelVideosContent()):null},t.prototype.renderChannelVideosContent=function(){var e=this.props.channel;if(e&&e.channel){var t=e.channel.self;if(t&&t.restrictionType===b.Pc.ORGANIZATION_ACCESS_ONLY&&!t.isAuthorized)return u.createElement(D.a,{display:N.g.Flex,alignItems:N.b.Center,margin:{top:5}},u.createElement(ki.PageNotFound,null))}return u.createElement(D.a,{margin:{top:2}},u.createElement(yi.ChannelVideosContent,{critical:!0,channelLogin:this.props.channelLogin}))},t.prototype.setPageTitle=function(){var e=this.props.channel&&this.props.channel.displayName||this.props.channelLogin;m.p.setPageTitle(Object(m.d)("{channelName}'s Clips",{channelName:e},"ChannelVideosClipsPage"))},t.prototype.setClipsFilter=function(){Object(ei.w)(m.p.history.location.search)||m.p.history.replace({search:"?filter="+ei.e.Clips,state:Object(c.__assign)({},m.p.history.location.state)})},t}(u.Component);var Ci=Object(a.d)(Object(ke.c)((function(e){return{channel:e.channel,channelLogin:e.channelLogin,error:e.error,loading:e.loading,pageviewProps:Object(je.d)(e.channel,e.video,e.collection,e.clip)}})),Object(ne.withPageTracking)("ClipsChannelPage",{destination:ti.a.ChannelClips,autoReportInteractive:!0,location:k.PageviewLocation.ChannelClips,pageviewProperties:function(e){return e.pageviewProps},skipPageviewTracking:function(e){return e.loading||!!e.error}}))(Si),Ei=n("4NNl"),wi=y.a.wrap((function(){return Promise.all([n.e(0),n.e(136)]).then(n.bind(null,"k7UE"))}),"ChannelVideosEditPageComponent",{placeholder:u.createElement(Ei.a,null)}),Oi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this;return u.createElement(Jt.a,{ownerLogin:this.props.channelLogin,permittedRoles:{owner:!0,editor:!0,staff:!1}},(function(t){var n=t.loading,i=t.permitted,a=t.error;return n?u.createElement(Ei.a,null):!i||a?e.redirectToVideosBrowse():u.createElement(wi,{channelLogin:e.props.channelLogin})}))},t.prototype.redirectToVideosBrowse=function(){return u.createElement(Re.b,{to:Object(ei.l)(this.props.channelLogin)})},t}(u.Component);var Di=Object(a.d)(Object(ke.c)((function(e){return{channelLogin:e.channelLogin,error:e.error,loading:e.loading,pageviewProps:Object(je.d)(e.channel,e.video,e.collection,e.clip)}})),Object(ne.withPageTracking)("ChannelVideosEditPage",{destination:ti.a.VideosEditPage,autoReportInteractive:!0,location:k.PageviewLocation.ChannelVideosEdit,pageviewProperties:function(e){return e.pageviewProps},skipPageviewTracking:function(e){return e.loading||!!e.error}}))(Oi),Ni=n("RtvB"),_i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.componentDidMount=function(){this.setPageTitle()},t.prototype.componentDidUpdate=function(){this.setPageTitle()},t.prototype.render=function(){var e=this.props.data&&this.props.data.user&&this.props.data.user.videos?this.props.data.user.videos.totalCount:null;return u.createElement(u.Fragment,null,u.createElement(oi,{title:Object(m.d)("Videos","ChannelPageHeaders"),count:e}),this.renderVideosContent())},t.prototype.renderVideosContent=function(){var e=this.props.data;if(e&&e.user&&e.user.channel){var t=e.user.channel;if(t.self&&t.self.restrictionType===b.Pc.ORGANIZATION_ACCESS_ONLY&&!t.self.isAuthorized)return u.createElement(D.a,{display:N.g.Flex,alignItems:N.b.Center,margin:{top:5}},u.createElement(ki.PageNotFound,null))}return u.createElement(D.a,{margin:{top:2}},u.createElement(yi.ChannelVideosContent,{critical:!0,channelLogin:this.props.channelLogin}))},t.prototype.setPageTitle=function(){var e=this.props.channel&&this.props.channel.displayName||this.props.channelLogin;m.p.setPageTitle(Object(m.d)("{channelName}'s Videos",{channelName:e},"ChannelRootVideosPage"))},t}(u.Component);var Ii=Object(a.d)(Object(ke.c)((function(e){return{channel:e.channel,channelLogin:e.channelLogin,error:e.error,loading:e.loading,pageviewProps:Object(je.d)(e.channel,e.video,e.collection,e.clip)}})),Object(f.a)(Ni,{options:function(e){return{variables:{login:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(ne.withPageTracking)("ChannelVideosPage",{destination:ti.a.VideosPage,autoReportInteractive:!0,location:k.PageviewLocation.ChannelVideos,pageviewProperties:function(e){return e.pageviewProps},skipPageviewTracking:function(e){return e.loading||!!e.error}}))(_i),Mi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.render=function(){return u.createElement(u.Fragment,null,this.props.firstPageLoaded&&this.props.channel&&this.props.channel.id&&u.createElement(D.a,{margin:{top:2}},u.createElement(yi.ChannelVideosContent,{channelLogin:this.props.channelLogin})))},t}(u.Component);var Ti=Object(a.d)(Object(ke.c)((function(e){return{channel:e.channel,channelLogin:e.channelLogin,error:e.error,loading:e.loading,pageviewProps:Object(je.d)(e.channel,e.video,e.collection,e.clip)}})),Object(ne.withPageTracking)("VideoWatchPage",{autoReportInteractive:!0,destination:ti.a.VideoWatchPage,location:k.PageviewLocation.VideoWatchPage,pageviewProperties:function(e){return e.pageviewProps},skipPageviewTracking:function(e){return e.loading||!!e.error}}),Object(i.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}})))(Mi),ji=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.redirectFollowingPage=function(){if(t.props.channel&&t.props.currentUser){var e="/"+t.props.channel.login;return t.props.channel.id===t.props.currentUser.id&&(e="/directory/following"),u.createElement(Re.b,{from:"/:channelLogin/:contentType(video|clip|collection)?/:contentID?/following",to:e})}},t.renderPanelArea=function(){return u.createElement(bi,null)},t.renderVideosArea=function(){return u.createElement(Ti,null)},t.renderFollowersPage=function(){return t.props.channel&&t.props.channel.id?u.createElement(ui,null):null},t.renderVideosPage=function(){return t.props.channel&&t.props.channel.id?u.createElement(Ii,null):null},t.renderVideosEditPage=function(){return t.props.channel&&t.props.channel.id?u.createElement(Di,null):null},t.renderClipsPage=function(){return t.props.channel&&t.props.channel.id?u.createElement(Ci,null):null},t.redirectLegacyChannelCollections=function(){var e=Object(ei.l)(t.props.match.params.channelLogin,{filter:ei.e.Collections});return u.createElement(Re.b,{to:e})},t.redirectLegacyVideoFilters=function(e){var n,i=t.props.match.params.channelLogin,a=Object(ei.t)(e),r=Object(ei.x)(e.location.search)||void 0,o=Object(c.__assign)({},e.location.state);return n=a?Object(ei.l)(i,{filter:Object(ei.y)(a)||void 0,sort:r}):Object(ei.l)(i),u.createElement(Re.b,{to:{pathname:n,state:o}})},t}return Object(c.__extends)(t,e),t.prototype.render=function(){return u.createElement(Re.e,null,u.createElement(Re.c,{path:"/collections/:collectionID",render:this.renderVideosArea}),u.createElement(Re.c,{path:"/videos/:videoID",render:this.renderVideosArea}),u.createElement(Re.c,{path:"/:channelLogin",exact:!0,render:this.renderPanelArea}),u.createElement(Re.c,{path:"/:channelLogin/:contentType(video|clip|collection)?/:contentID?/about",render:this.renderPanelArea}),u.createElement(Re.c,{path:"/:channelLogin/:contentType(video|clip|collection)?/:contentID?/followers",render:this.renderFollowersPage}),u.createElement(Re.c,{path:"/:channelLogin/p/:entityID",render:this.renderPanelArea}),u.createElement(Re.c,{path:"/:channelLogin/rooms/:roomName",render:this.renderPanelArea}),u.createElement(Re.c,{path:"/:channelLogin/videos/edit",exact:!0,render:this.renderVideosEditPage}),u.createElement(Re.c,{path:"/:channelLogin/:contentType(video|clip|collection)?/:contentID?/videos",exact:!0,render:this.renderVideosPage}),u.createElement(Re.c,{path:"/:channelLogin/:contentType(video|clip|collection)?/:contentID?/videos/:filter(all|archive|upload|highlight|past_premiere)",render:this.redirectLegacyVideoFilters}),u.createElement(Re.c,{path:"/:channelLogin/clips",render:this.renderClipsPage}),u.createElement(Re.c,{path:"/:channelLogin/collections",render:this.redirectLegacyChannelCollections}),this.redirectFollowingPage(),u.createElement(Re.c,{path:"/:channelLogin/:contentType(video|clip|collection)?/:contentID?",render:this.renderVideosArea}))},t}(u.Component);var Pi=Object(a.d)(Re.k,Object(ke.c)((function(e){return{channel:e.channel,currentUser:e.currentUser}})))(ji),Li=n("8QXX"),Ri=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentWatchingActivity={userID:null,isWatching:!1},t.hasRecordedReferralMission=!1,t.renderHeader=function(){return u.createElement(be,{contextLoading:t.props.loading,currentUser:t.props.currentUser,channel:t.props.channel,channelLogin:t.props.channelLogin,page:t.props.page,live:t.props.live,hostedChannel:t.props.hostedChannel})},t.renderSideNav=function(){return u.createElement(_e.UpsellCenter,{channelLogin:t.props.channelLogin})},t.renderRightColumn=function(){var e=t.props.contentType===ye.a.LIVE;return t.renderChat(e,t.props.video)},t.renderVideoPlayer=function(){return t.props.contentType===ye.a.LIVE&&t.props.page!==V.c.About||t.props.contentType===ye.a.VIDEO&&t.props.page!==V.c.Videos||t.props.contentType===ye.a.CLIP&&t.props.page!==V.c.Clips||t.props.contentType===ye.a.COLLECTION&&t.props.page!==V.c.Videos?null:u.createElement(Kn,null)},t.onChatHostingChange=function(e){m.o.track(k.SpadeEventType.HostModeDebug,{log_type:"chat_msg",channel:t.props.channelLogin,data_target_channel_login:e})},t.onPlayerSeekRequest=function(e){t.props.requestVideoOffset(e)},t}return Object(c.__extends)(t,e),t.prototype.componentDidMount=function(){Object(Pe.a)(),this.onRender(),this.updateWatchingActivity(this.props)},t.prototype.componentDidUpdate=function(e){this.onRender(),e.channelLogin===(this.props.channel&&this.props.channel.login)&&e.videoID===this.props.videoID&&e.collectionID===this.props.collectionID&&e.clipSlug===this.props.clipSlug&&e.page===this.props.page&&Object(je.f)(e)===Object(je.f)(this.props)||e.scrollToTop(),this.updateWatchingActivity(this.props)},t.prototype.componentWillUnmount=function(){Object(v.a)()},t.prototype.render=function(){var e,t,n,i,a=this.props.channelLogin,r=this.props.channel,o=r&&r.stream&&r.stream.game?r.stream.game.name:void 0,s=(null===(t=null===(e=null==r?void 0:r.channel)||void 0===e?void 0:e.self)||void 0===t?void 0:t.restrictionType)===b.Pc.ORGANIZATION_ACCESS_ONLY&&!(null===(i=null===(n=null==r?void 0:r.channel)||void 0===n?void 0:n.self)||void 0===i?void 0:i.isAuthorized);return(this.props.loading||this.props.error||!(!this.props.match.params.contentType&&this.props.match.params.contentID||this.props.contentType===ye.a.LIVE&&(!r||r&&!r.id)||this.props.contentType===ye.a.CLIP&&Object(Te.e)(a,this.props.clip)||this.props.contentType===ye.a.VIDEO&&Object(Te.j)(a,this.props.video)||s))&&(this.props.loading||!this.props.error||this.props.contentType!==ye.a.VIDEO&&this.props.contentType!==ye.a.COLLECTION&&this.props.contentType!==ye.a.CLIP)?u.createElement(Jn,{renderHeader:this.renderHeader(),renderSideNav:this.renderSideNav(),renderRightColumn:this.renderRightColumn(),theatreModeEnabled:this.props.theatreModeEnabled,persistentPlayerIsPersisting:this.props.persistentPlayerIsPersisting,renderVideoPlayer:this.renderVideoPlayer()},u.createElement(Ee.a,{game:o,hostingInfo:this.getHostingContext()}),u.createElement(Oe,null),u.createElement(D.a,{padding:{x:2}},u.createElement(Pi,null))):u.createElement(Le.a,null)},t.prototype.renderChat=function(e,t){var n,i,a=null,r=this.props.channelLogin,o=this.props.collectionID,s=this.props.hostedChannel,l=this.props.channel&&this.props.channel.id,d=this.props.contentType,m=!this.props.loading&&o&&this.props.collection&&0===this.props.collection.items.totalCount;return e?a=u.createElement(u.Fragment,null,l&&u.createElement(p.a,{name:Ne.b},u.createElement(De.a,{channelLogin:r,channelId:l,contentType:d})),u.createElement(Se.a,{channelLogin:r,hostedChannelDisplayName:s&&s.displayName?s.displayName:void 0,onHostingChange:this.onChatHostingChange,page:Ce.b.ChannelPage,showModViewIngress:!0})):this.props.clip?a=u.createElement(D.a,{flexGrow:1,fullHeight:!0},u.createElement(Me.a,{clipVideoID:null!==(i=null===(n=this.props.clip.video)||void 0===n?void 0:n.id)&&void 0!==i?i:null,videoOffsetSeconds:this.props.clip.videoOffsetSeconds,durationSeconds:this.props.clip.durationSeconds,onPlayerSeekRequestHandler:this.onPlayerSeekRequest,onShowLogin:this.props.videoChatLogin})):m||(a=u.createElement(D.a,{flexGrow:1,fullHeight:!0},u.createElement(Ie.m,Object(c.__assign)({onPlayerSeekRequest:this.onPlayerSeekRequest,onShowLogin:this.props.videoChatLogin,videoID:Object(je.e)(this.props)||t&&t.id||""},Object(Te.h)(this.props))))),a},t.prototype.updateWatchingActivity=function(e){if(e.match.params.channelLogin&&!e.loading&&!e.error&&e.channel&&e.firstPageLoaded&&e.initialUserAvailabilityIsSet){var t=e.channel.id,n=!!Object(Te.d)(e.channel)||Object(Te.b)(e.channel);this.currentWatchingActivity.userID===t&&this.currentWatchingActivity.isWatching===n||(this.currentWatchingActivity={userID:t,isWatching:n},n?Object(v.f)({type:b.b.WATCHING,userID:t,gameID:null}):Object(v.a)())}},t.prototype.getHostingContext=function(){if(this.props.hostedChannel&&this.props.channel&&this.props.channel.id)return{hostingChannelId:this.props.channel.id,hostedChannelId:this.props.hostedChannel.id}},t.prototype.onRender=function(){this.props.loading||(this.props.latencyTracking.reportInteractive(),this.recordReferralMissionExperiment(this.props),this.props.clipSlug?Object(Te.i)(null,this.props.clip):this.props.videoID&&Object(Te.i)(this.props.video,null))},t.prototype.recordReferralMissionExperiment=function(e){var t=/rmexp_(.*)/;if(!(this.hasRecordedReferralMission||e.loading||e.error)&&e.channel&&d.parse(e.location.search).referrer&&d.parse(e.location.search).referrer.match(t)){var n=d.parse(e.location.search).referrer.match(t)[1],i={channelID:e.channel.id,referralCode:n};e.recordMissionReferralExperiment(Object(g.a)(i)).catch((function(){return null})),this.hasRecordedReferralMission=!0}},t}(u.PureComponent);var Fi=Object(a.d)(Object(f.a)(Li,{name:"recordMissionReferralExperiment"}),Object(ke.c)((function(e){return{handleStreamStatusChange:e.handleStreamStatusChange,contentType:e.contentType,channelLogin:e.channelLogin,videoID:e.videoID,collectionID:e.collectionID,clipSlug:e.clipSlug,loading:e.loading,error:e.error,channel:e.channel,video:e.video,collection:e.collection,clip:e.clip,contentCanonicalUrl:e.contentCanonicalUrl,live:e.live,videoPlayerSource:e.videoPlayerSource,currentUser:e.currentUser,page:e.page,hostedChannel:e.hostedChannel,streamStatus:e.streamStatus,requestVideoOffset:e.requestVideoOffset}})),Object(h.d)((function(e){return{scrollToTop:e.scrollToTop}})),Object(ne.withLatencyTracking)("ChannelRoot"))(Ri);var Ai=Object(a.d)(l.a,Object(i.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isLoggedIn:Object(s.f)(e),initialUserAvailabilityIsSet:!!e.session.initialUserAvailabilityIsSet,theatreModeEnabled:e.ui.theatreModeEnabled,persistentPlayerIsPersisting:e.ui.persistentPlayerIsPersisting,sessionUser:Object(s.e)(e)}}),(function(e){return Object(a.b)({videoChatLogin:function(){return Object(o.e)(r.a.VODComment)}},e)})))(Fi);n.d(t,"ChannelRoot",(function(){return Ai}))},DOvc:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPage__ChannelViewersCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:113}};n.loc.source={body:"query ChannelPage__ChannelViewersCount($login: String!) {\nuser(login: $login) {\nid\nstream {\nid\nviewersCount\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPage__ChannelViewersCount=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPage__ChannelViewersCount")},DZqs:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StreamChat"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hosting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isChannelMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"query StreamChat ($login: String!) {\nchannel: user(login: $login) {\nid\ndisplayName\nhosting {\nid\n}\nself {\nbanStatus {\nisPermanent\n}\nisChannelMember\nisModerator\nsubscriptionBenefit {\nid\n}\n}\nstream {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.StreamChat=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"StreamChat")},DfWg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoOptions_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentOwnerID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentOwnerID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:100}};n.loc.source={body:"query VideoOptions_User($contentOwnerID: ID!) {\nuser(id: $contentOwnerID) {\nid\nself {\nisEditor\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoOptions_User=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoOptions_User")},DpwM:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return d}));var i="video",a="published",r="unpublished",o="pending_review",s="pending_review_spam",l="current",c="",d=function(e){return""!==e.parentId}},Dq8x:function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("/MKj"),o=n("Ty5D"),s=n("ANjH"),l=n("ZS2+"),c=n("1/iK"),d=n("XDCx"),u=n("y5D0"),m=n("/HY+"),p=n("q1tI"),h=n("DfWg"),f=n("MXoD"),g=n("DMoW"),v=n("2xye"),b=n("GnwI"),k=n("16Gl"),y=n("OTul"),S=n("4TH8"),C=n("7d/q"),E=n("C7sF"),w=n("ygYM"),O=n("Ws8v"),D=n("yymn"),N=n("i4Ys"),_=n("eJ65"),I=n("yR8l"),M=n("hyVY"),T=n("vRsq"),j=n("4rCz"),P=n("4qQ0"),L=n("F2Tz"),R=n("Zy80");!function(e){e.VideoOptionsButtonSelector="video-options-button",e.VideoOptionsContainerSelector="video-options-container",e.ReportButtonSelector="video-report-button",e.HighlightButtonSelector="video-highlight-button",e.EditButtonSelector="video-edit-button",e.DeleteButtonSelector="video-delete-button"}(i||(i={}));var F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleReportModalClose=function(e){(e===P.b.MutationError||e===P.b.Success)&&t.props.history.push("/")},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=Object(j.d)("Video Options","VideoOptions");return p.createElement(_.a,null,p.createElement(C.a,{"data-test-selector":i.VideoOptionsButtonSelector,type:C.c.Primary,icon:E.a.More,title:e,ariaLabel:e,disabled:!this.props.video}),this.props.video?p.createElement(w.a,{direction:w.b.TopRight},p.createElement(O.a,{padding:{y:1},color:D.f.Link},p.createElement("ul",{"data-test-selector":i.VideoOptionsContainerSelector},this.renderReportOption(this.props.video,this.props.currentUser),this.renderHighlightOption(this.props.video,this.props.currentUser),this.renderEditOption(this.props.video,this.props.currentUser),this.renderDeleteOption(this.props.video,this.props.currentUser)))):p.createElement(w.a,null))},t.prototype.renderDeleteOption=function(e,t){var n=this;if(this.isVODOwner(e,t)||this.isEditor()){var a={type:N.b.Alert,onClick:function(){n.props.onShowDeleteVideoModal({video:e})}};return p.createElement(S.a,{key:"delete-option",interactableProps:a,testSelector:i.DeleteButtonSelector},Object(j.d)("Delete","VideoOptions"))}},t.prototype.renderReportOption=function(e,t){var n=this;if(!this.isVODOwner(e,t)){var a={onClick:function(){if(t){var i=void 0;i=e.owner&&e.owner.displayName?Object(j.d)("Report {ownerDisplayName}",{ownerDisplayName:e.owner.displayName},"ReportVideoModal"):Object(j.d)("Report this video","ReportVideoModal"),n.props.onShowReportUserModal({onClose:n.handleReportModalClose,reportContext:{contentType:g.Mc.VOD_REPORT,contentID:e.id,targetUserID:e.owner&&e.owner.id?e.owner.id:"",extra:n.getVideoReportExtraField()},title:i})}else n.props.onShowLogin()}};return p.createElement(S.a,{key:"report-option",interactableProps:a,testSelector:i.ReportButtonSelector},Object(j.d)("Report","VideoOptions"))}},t.prototype.renderHighlightOption=function(e,t){if(e.owner&&e.owner.login&&(this.isVODOwner(e,t)||this.isEditor())){var n={medium:v.PageviewMedium.ChannelVideos,content:v.PageviewContent.ChannelInfoBarOverflowBalloon};return e.broadcastType===g.D.ARCHIVE&&!Object(R.a)()&&p.createElement(S.a,{key:"highlight-option",interactableProps:{linkTo:Object(f.a)(n,Object(y.g)(e.owner.login,e.id))},testSelector:i.HighlightButtonSelector},Object(L.a)())}},t.prototype.renderEditOption=function(e,t){if(e.owner&&e.owner.login&&(this.isVODOwner(e,t)||this.isEditor()))return Object(R.a)()&&p.createElement(S.a,{key:"edit-option",interactableProps:{linkTo:Object(k.c)(e.owner.login,e.id)},testSelector:i.EditButtonSelector},Object(j.d)("Edit","VideoOptions"))},t.prototype.isVODOwner=function(e,t){return t&&e.owner&&t.id===e.owner.id},t.prototype.isEditor=function(){return!(!this.props.data||this.props.data.loading||this.props.data.error||!this.props.data.user||!this.props.data.user.self)&&this.props.data.user.self.isEditor},t.prototype.getVideoReportExtraField=function(){var e=Object(T.o)(this.props),t=0;this.props.getCurrentVideoTime?t=this.props.getCurrentVideoTime():this.props.lastVideoOffset&&(t=this.props.lastVideoOffset);var n={timestamp:Object(M.b)(t,{zeroPadAll:!0})};return e&&(n.collection=e),JSON.stringify(n)},t}(p.Component),A=Object(s.d)(Object(I.a)(h,{options:function(e){return{variables:{contentOwnerID:e.video.owner.id}}},skip:function(e){return null===e.currentUser||null===e.video||null===e.video.owner}}),Object(b.withLatencyTracking)("VideoOptions",{autoReportInteractive:!0}))(F),x=l.a.wrap((function(){return n.e(140).then(n.bind(null,"vrDa"))}),"VideoDeleteModal");var U=Object(r.b)(null,(function(e){return Object(s.b)({onShowLogin:function(){return Object(u.e)(c.a.VODOptions)},onShowDeleteVideoModal:function(e){var t=Object(a.__rest)(e,[]);return Object(d.e)(x,t)},onShowReportUserModal:function(e){var t=Object(a.__rest)(e,[]);return Object(d.e)(m.a,t)}},e)}))(Object(o.k)(A));n.d(t,"a",(function(){return U}))},DwV5:function(e,t,n){"use strict";var i=n("mrSG"),a=n("p46w"),r=n("/7QA"),o=n("mDos"),s=n("geRD"),l=n("ZxDf"),c=n("DMoW"),d=n("3yfl"),u=n("enD+"),m=183;function p(e,t){return Object(i.__awaiter)(this,void 0,Promise,(function(){var n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),(n=a.get(o.g))?[4,f(v(n),t,o.a)]:(t.warn("User is not logged into Amazon."),[2]);case 1:return(r=i.sent())?(e(r.accessToken),[2]):(t.warn("User's Amazon login is no longer valid."),[2]);case 2:return i.sent(),t.warn("AuthorizeToken failed."),[2];case 3:return[2]}}))}))}function h(){a.remove(o.e,{domain:Object(d.a)()}),a.remove(o.g,{domain:Object(d.a)()})}function f(e,t,n){return Object(i.__awaiter)(this,void 0,Promise,(function(){var r;return Object(i.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,7]),[4,b(e)];case 1:return(r=s.sent().data)&&r.updateLWAToken?r.updateLWAToken.error&&r.updateLWAToken.error.code===c.Sd.FORBIDDEN?(h(),t.warn("Tokens revoked."),[2,null]):r.updateLWAToken.token?(d=r.updateLWAToken.token,u=Date.now()+1e3*d.expiresIn,p=new Date(u),a.set(o.e,d.accessToken,Object(i.__assign)(Object(i.__assign)({},l.a),{expires:p,sameSite:"strict",secure:!0})),a.set(o.g,d.refreshToken,Object(i.__assign)(Object(i.__assign)({},l.a),{expires:m,sameSite:"strict",secure:!0})),[2,{accessToken:r.updateLWAToken.token.accessToken,refreshToken:r.updateLWAToken.token.refreshToken}]):[2,null]:[2,null];case 2:if(s.sent(),!(n&&n>0))return[3,6];s.label=3;case 3:return s.trys.push([3,5,,6]),[4,g()];case 4:return s.sent(),[2,f(e,t,n-1)];case 5:return s.sent(),[2,null];case 6:return[2,null];case 7:return[2]}var d,u,p}))}))}function g(e){return void 0===e&&(e=o.c),new Promise((function(t){setTimeout((function(){t()}),e)}))}function v(e){return{grant:e,grantType:c.Nb.REFRESH_TOKEN}}function b(e){var t=Object(i.__assign)(Object(i.__assign)({mutation:u},Object(s.a)(e)),{fetchPolicy:"no-cache"});return r.p.apollo.client.mutate(t)}var k=null;function y(){return!!a.get(o.g)}function S(e){return r.p.logger.withCategory(e).withCategory("amazon-auth")}function C(e,t){return Object(i.__awaiter)(this,void 0,Promise,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),[4,(r=t,s={scope:["aiv:playback"],scope_data:{"aiv:playback":{essential:!0}},response_type:"code"},new Promise((function(e){r.Login.authorize(s,(function(t){e(t)}))})))];case 1:return(n=i.sent()).code?[4,f((a=n.code,{grant:a,grantType:c.Nb.AUTHORIZATION_CODE}),e,o.a)]:[3,3];case 2:return[2,!!i.sent()];case 3:n.error&&e.warn("Failed to login with Amazon.",{loginResponse:n}),i.label=4;case 4:return[2,!1];case 5:return i.sent(),e.warn("Failed to login with Amazon."),[2,!1];case 6:return[2]}var a,r,s}))}))}function E(){return new Promise((function(e,t){if(window.amazon)e(window.amazon);else if(window.onAmazonLoginReady=function(){var n=window.amazon;n?(n.Login.setClientId(o.f),e(n)):t(new Error("could not init lwa sdk library"))},!document.getElementById(o.h)){var n=document.createElement("script");n.async=!0,n.id=o.h,n.src=o.d,document.body.prepend(n)}}))}function w(e,t){null===k&&(p(e,t),k=setInterval((function(){return p(e,t)}),o.b))}function O(){null!==k&&(clearInterval(k),k=null)}function D(e,t){return Object(i.__awaiter)(this,void 0,Promise,(function(){var n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!(n={accessToken:a.get(o.e),refreshToken:a.get(o.g)}).refreshToken)return h(),[2,null];if(!t||n.accessToken)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,f(v(n.refreshToken),e,o.a)];case 2:return(r=i.sent())?[2,r.accessToken]:[2,null];case 3:return i.sent(),[2,null];case 4:return n.accessToken?[2,n.accessToken]:[2,null]}}))}))}n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"e",(function(){return C})),n.d(t,"d",(function(){return E})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return D}))},E78O:function(e,t,n){},EE1E:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("EN5X"),a=n("G7cy"),r=n("m7BI"),o=n("E8D/"),s=n("DtRd"),l=n("R4sh"),c=n("/0dD"),d=n("76Lv"),u=4.5,m=[250,249,250],p=[15,14,17],h=.1,f=50,g="7A7A7A",v=36,b={};function k(e,t){var n=s(e),k=y(a(n));if(void 0===t&&(t=Object(d.d)()),k in b[t])return b[t][k];if(t===c.a.Dark&&n.every((function(e){return e<v})))return g;var S=t===c.a.Light?m:p,C=Object(l.a)(n,S);if(C>u)return k;for(var E=[n[0],n[1],n[2]],w=f;w>=0&&C<u;w--){var O=r(E);t===c.a.Light?O[0]-=O[0]*h:O[0]+=O[0]*h,E=o(i(O)),C=Object(l.a)(E,S)}var D=y(a(E));return b[t][k]=D,D}function y(e){return"#"===e[0]?e.substr(1):e}b[c.a.Dark]={},b[c.a.Light]={}},EJeP:function(e,t,n){"use strict";n.r(t);var i=n("mrSG"),a=n("q1tI"),r=n("ANjH"),o=n("yR8l"),s=n("geRD"),l=n("DMoW"),c=n("/7QA"),d=n("ZDlU"),u=n("8/mp"),m=n("jytb"),p=n("sUnt"),h=n("ygYM"),f=n("yymn"),g=n("+80q"),v=n("uOxs"),b=n("bdHe"),k=(n("Eqxc"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderUserCards=function(e){return e.map((function(e){return e&&e.node&&e.node.id?a.createElement(p.a,{className:"channel-follow-listing--card",key:e.node.id,margin:{bottom:2}},a.createElement(m.b,{requestContext:t.props.requestContext,id:e.node.id,balloonDirection:h.b.Right,showButtonsOnHover:!0,userData:{user:e.node}})):null}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.loading&&!this.props.followEdge?a.createElement(b.a,null):this.props.error?a.createElement(d.PageError,{message:Object(c.d)("Error loading Follow List","ChannelFollowListing")}):this.props.loading||this.props.userExist?a.createElement(p.a,{fullWidth:!0,padding:{x:3,y:2}},this.renderListOfCards(),a.createElement(u.a,{loadMore:this.props.loadMore,enabled:this.props.hasNextPage&&!this.props.loading,pixelThreshold:300})):a.createElement(d.PageError,{message:Object(c.d)("User does not exist","ChannelFollowListing")})},t.prototype.renderListOfCards=function(){var e=(this.props.followEdge||[]).filter((function(e){return e&&e.node&&e.node.id}));return e&&e.length?a.createElement(v.a,{placeholderItems:e.length,center:!0,gutterSize:v.c.Small,childWidth:v.b.Large},this.renderUserCards(e)):a.createElement(p.a,{"data-test-selector":"no-follow-users",margin:{top:5},display:f.g.Flex,flexDirection:f.h.Row,justifyContent:f.l.Center},a.createElement(g.a,{type:g.e.H4,color:f.f.Alt2,italic:!0},Object(c.d)("No Users Found","ChannelFollowListing")))},t}(a.Component)),y=n("J71B"),S=n("GnwI"),C=n("w09P"),E=n("ghdf"),w=7,O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadMore=function(){var e=t.props,n=e.data.user&&e.data.user.followers&&e.data.user.followers.edges,i=null;if(n){var a=n.filter((function(e){return!!e}));a.length>0&&(i=a[a.length-1].cursor)}return e.data.fetchMore({query:E,variables:{cursor:i,limit:w,login:e.channelLogin,order:l.bd.DESC},updateQuery:function(e,t){var n=t.fetchMoreResult;if(!n||!n.user||!n.user.followers)return e;var i=e.user&&e.user.followers&&e.user.followers.edges||[],a=n.user&&n.user.followers&&n.user.followers.edges||[];return C(n,(function(e){return e.user.followers}),(function(e){return e.edges=Object(s.d)(i,a),e}))}})},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.data;if(!e.loading){var t=0;!e.error&&e.user&&e.user.followers&&e.user.followers.edges&&(t=e.user.followers.edges.length),this.props.latencyTracking.reportInteractive(t)}},t.prototype.render=function(){var e=this.props.data;return a.createElement(k,{loading:e.loading,channelLogin:this.props.channelLogin,hasNextPage:!!(e.user&&e.user.followers&&e.user.followers.edges&&e.user.followers.pageInfo&&e.user.followers.pageInfo.hasNextPage),error:e.error,loadMore:this.loadMore,followEdge:e.user&&e.user.followers&&e.user.followers.edges,requestContext:y.a.ChannelFollowers,userExist:!(!e.user||!e.user.id)})},t}(a.Component),D=Object(r.d)(Object(S.withLatencyTracking)("ChannelFollowersContent"),Object(o.a)(E,{options:function(e){return{variables:{limit:15,login:e.channelLogin,order:l.bd.DESC}}}}))(O);n.d(t,"REQUEST_LIMIT",(function(){return 15})),n.d(t,"ChannelFollowersContentComponent",(function(){return O})),n.d(t,"ChannelFollowersContent",(function(){return D}))},EOIh:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatInput"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isEmbedded"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isEmbedded"}}}]}]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hashtags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:390}};n.loc.source={body:"query ChatInput($channelLogin: String! $isEmbedded: Boolean!) {\ncurrentUser {\nid\nbitsBalance\nisPartner @include(if: $isEmbedded)\n}\nchannel: user(login: $channelLogin) {\nid\nself {\nbanStatus {\nisPermanent\nexpiresAt\n}\n}\ndisplayName\nprofileImageURL(width:50)\ncheer {\nid\nhashtags {\nedges {\ncursor\nnode {\nid\ndescription\nimageURL\n}\n}\n}\nsettings {\nid\nemoteMinimumBits\ncheerMinimumBits\nevent\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatInput=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatInput")},EgE3:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"l",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"f",(function(){return b}));var i,a,r,o,s,l,c=n("/7QA"),d=n("2xye"),u=n("W1jp");function m(e,t,n){var i={channel_login:e,channel_id:t,view_uuid:n};c.o.track(d.SpadeEventType.ChannelPointsViewRewards,i)}function p(e){var t="CommunityPointsCustomReward"===e.reward.__typename&&(!e.reward.isInStock||e.reward.isPaused),n=e.userBalance===1/0?null:e.userBalance,i={channel_id:e.channelID,channel_login:e.channelLogin,is_available:!t,is_eligible:e.isUserEligible,reward_cost:Object(u.c)(e.reward),reward_id:e.reward.id,transaction_uuid:e.transactionID,user_points_balance:n,view_uuid:e.viewTrackingID};c.o.track(d.SpadeEventType.ChannelPointsSelectReward,i)}function h(e,t,n){var i={ui_context:e,channel_login:t,channel_id:n};c.o.track(d.SpadeEventType.ChannelPointsViewRequestQueue,i)}function f(e,t,n,i){var a={ui_context:e,viewer_type:t,channel_id:n,channel_login:i};c.o.track(d.SpadeEventType.ChannelPointsViewEarnScorecard,a)}function g(e){var t={channel_id:e.channelID,channel_login:e.channelLogin,points_spent:Object(u.c)(e.reward),reward_id:e.reward.id,reward_type:"CommunityPointsAutomaticReward"===e.reward.__typename?i.Automatic:i.Custom,transaction_uuid:e.transactionID,view_uuid:e.viewTrackingID};c.o.track(d.SpadeEventType.ChannelPointsSpend,t)}function v(e){var t={channel_id:e.channelID,channel_login:e.channelLogin,points_spent:e.poll.settings.communityPointsVotes.cost,reward_id:e.poll.id,reward_type:i.Poll,transaction_uuid:null,view_uuid:null};c.o.track(d.SpadeEventType.ChannelPointsSpend,t)}function b(e,t,n,i){var a={channel_id:e,channel_login:t,onboarding_collateral:n,ui_context:i};c.o.track(d.SpadeEventType.ChannelPointsOnboardingInteraction,a)}!function(e){e.Automatic="automatic",e.Custom="custom",e.Poll="poll"}(i||(i={})),function(e){e.ActivityFeed="activity_feed",e.ChatCommand="chat_command",e.CreatorsSettings="creators_settings",e.CustomRewardModal="custom_reward_modal",e.DeleteModal="delete_modal",e.ModTools="chat_settings",e.ModView="mod_view",e.QuickAction="quick_action",e.RewardSelectionPane="reward_selection_pane"}(a||(a={})),function(e){e.RewardSelectionPane="reward_selection_pane",e.CreatorsSettings="creators_settings",e.CustomRewardModal="custom_reward_modal",e.AutomaticRewardModal="automatic_reward_modal"}(r||(r={})),function(e){e.CustomRewardCreationModal="custom_reward_creation_modal",e.RewardsPageOnboarding="rewards_page_onboarding",e.ChannelPointsSettings="channel_points_settings"}(o||(o={})),function(e){e.IconSetDownload="icon_set_download",e.GetStartedGuide="get_started_guide"}(s||(s={})),function(e){e.Viewer="viewer",e.Moderator="moderator",e.Broadcaster="broadcaster"}(l||(l={}))},EkBt:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("q1tI"),r=n("tiJ6");function o(e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(n,t),n.prototype.render=function(){return a.createElement(r.a,Object(i.__assign)({},this.props),a.createElement(e,Object(i.__assign)({},this.props)))},n}(a.Component)}},EmXd:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("fNzW"),s=n("2Ob2"),l=n("9qaG"),c=n("u03v"),d=n("G3YM"),u=(n("wu0I"),function(e){var t={"tw-select-button":!0,"tw-select-button--overlay":e.overlay,"tw-select-button--error":e.error,"tw-select-button--disabled":e.disabled};return r.createElement(l.a,a()({},e,{className:Object(o.a)(t)}),r.createElement(d.a,{icon:e.icon,size:e.size,dropdown:e.dropdown?e.dropdown:c.b.Select},e.children))});u.displayName="SelectButtonComponent",u.displayName="SelectButtonComponent";var m=Object(s.c)(u)},Epr8:function(e,t,n){},Eqxc:function(e,t,n){},EuPq:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("3aAs"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickHandler=function(e){t.props.onClick&&t.props.onClick(),e.currentTarget.select()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(r.a,{readOnly:!0,type:r.c.Text,value:this.props.value,onClick:this.handleClickHandler})},t}(a.Component);n.d(t,"a",(function(){return o}))},F2Tz:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var i=n("4rCz");function a(e){return"curator"in e}function r(){return Object(i.d)("Highlight","VideoOptions")}},F6GT:function(e,t,n){"use strict";var i=n("mrSG"),a=n("/7QA"),r="control",o=n("VJH5");n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d}));var s="chatSettings";function l(){var e,t=a.m.get(s,{});return Object(i.__assign)({lastUsedFollowerDurations:{},lastUsedSlowModeDurations:{},showAutoModActions:!0,showMessageFlags:!0,showModerationActions:!0,showModIcons:!1,showTimestamps:!1,viewerChatFilterSettings:(e={},e[o.a.Aggressive]=!0,e[o.a.Identity]=!0,e[o.a.Profanity]=!1,e[o.a.Sexual]=!0,e),zachModeStatus:r},t)}function c(e,t){var n=l();n[e]=t,a.m.set(s,n)}function d(e){var t=l();delete t[e],a.m.set(s,t)}},F9p4:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"earningSettingsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsChannelEarningSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"averagePointsPerHour"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"claimPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passiveWatchPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"raidPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionGiftPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"watchStreakPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:220}};n.loc.source={body:"fragment earningSettingsFragment on CommunityPointsChannelEarningSettings {\nid\naveragePointsPerHour\ncheerPoints\nclaimPoints\nfollowPoints\npassiveWatchPoints\nraidPoints\nsubscriptionGiftPoints\nwatchStreakPoints {\npoints\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},FAYk:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmodUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmodUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmodUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:131}};n.loc.source={body:"mutation UnmodUser($input: UnmodUserInput!){\nunmodUser(input: $input) {\nchannel {\nid\nlogin\n}\ntarget {\nid\nlogin\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UnmodUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UnmodUser")},FQLb:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsDeletedMessageDisplaySetting"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedMessageDisplaySetting"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:119}};n.loc.source={body:"query SyncedSettingsDeletedMessageDisplaySetting {\ncurrentUser {\nid\nchatUISettings {\ndeletedMessageDisplaySetting\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SyncedSettingsDeletedMessageDisplaySetting=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SyncedSettingsDeletedMessageDisplaySetting")},FS60:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChatInput_SendCheer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendCheerInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendCheer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validationError"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:377}};n.loc.source={body:"mutation ChatInput_SendCheer($input: SendCheerInput!) {\nsendCheer(input: $input) {\nid\ncurrentUser {\nid\nbitsBalance\n}\nvalidationError {\ncode\nmessage\nmessageContent {\ntext\nfragments {\ntext\ncontent {\n... on AutoMod {\ntopics {\ntype\nweight\n}\n}\n... on CheermoteToken {\nbitsAmount\nprefix\ntier\n}\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n... on User {\nid\nlogin\ndisplayName\n}\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatInput_SendCheer=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatInput_SendCheer")},Ff8q:function(e,t,n){"use strict";function i(e){return e.startsWith("@")?e.slice(1):e}n.d(t,"a",(function(){return i}))},GCGb:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return f}));var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("cZKs"),s=n("atdg"),l=n("Ws8v"),c=n("yymn"),d=n("+80q"),u=n("sUnt"),m=n("dEDE"),p=(n("gPTj"),"confirm-button"),h="deny-button",f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(l.a,{className:"twp-modal",background:c.d.Base,color:c.f.Alt,padding:3},a.createElement(d.a,{type:d.e.H3,id:s.a},this.props.title),a.createElement(u.a,{className:"twp-modal__message",margin:{bottom:2}},this.props.children),a.createElement(u.a,{display:c.g.Flex,justifyContent:c.l.End},a.createElement(u.a,{margin:{right:1}},a.createElement(m.a,{onClick:this.props.onDenyClick,type:m.d.Secondary,"data-test-selector":h},Object(r.d)("Cancel","ConfirmationModal"))),a.createElement(m.a,{onClick:this.props.onConfirmClick,type:m.d.Alert,disabled:this.props.isConfirmDisabled,"data-test-selector":p},Object(r.d)("Ok","ConfirmationModal"))),a.createElement(o.a,{closeOnBackdropClick:!0}))},t}(a.Component)},GEha:function(e,t,n){},GEnX:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("XXm5"),s=n("sUnt"),l=n("yymn"),c=n("7uM4"),d=n("C7sF"),u=n("+80q"),m=n("7d/q"),p=n("Ws8v"),h=n("fCiU"),f=(n("sPFP"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onReplyClickHandler=function(){t.props.replyCommentContext?t.props.onReplyClick(Object(h.b)(t.props.replyCommentContext.author)):t.props.onReplyClick()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=Object(r.d)("Reply","DashboardModerationReplyButton");return this.props.context===o.c?a.createElement("button",{className:"video-chat-reply-button",onClick:this.onReplyClickHandler,"data-test-selector":"parent-reply-button"},a.createElement(s.a,{display:l.g.Flex},a.createElement(s.a,{className:"video-chat-reply-button__icon",display:l.g.Flex,padding:{right:.5}},a.createElement(c.a,{width:13,height:13,asset:d.a.Conversations,type:c.b.Inherit})),a.createElement(u.a,{align:l.q.Middle,type:u.e.Span},e))):this.props.context===o.a?a.createElement(m.a,{ariaLabel:e,type:m.c.Primary,icon:d.a.Conversations,onClick:this.onReplyClickHandler,"data-test-selector":"moderation-reply-button","data-a-selector":"qa-vod-chat-reply-button"}):a.createElement(p.a,{color:l.f.Link,display:l.g.Inline,margin:{left:1}},a.createElement("button",{onClick:this.onReplyClickHandler,"data-test-selector":"reply-reply-button"},a.createElement(u.a,{type:u.e.Span},e)))},t}(a.Component))},GOFu:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("q1tI"),a=n("C7sF"),r=n("hnjF"),o=(n("hhl4"),a.b[a.a.Star].path),s=function(e){return i.createElement("svg",{className:"sparkling-icon",width:"100%",height:"100%",viewBox:"0 0 20 20"},e.icon.type?e.icon:i.createElement(r.a,{className:"sparkling-icon__base-icon"},a.b[e.icon].path),i.createElement("svg",{className:"sparkling-icon__star-container",viewBox:"0 0 20 20",x:"65%",y:"65%",height:"7",width:"7"},i.createElement(r.a,{className:"sparkling-icon__star sparkling-icon__star--first"},o)),i.createElement("svg",{className:"sparkling-icon__star-container",viewBox:"0 0 20 20",x:"-4%",y:"32%",height:"8",width:"8"},i.createElement(r.a,{className:"sparkling-icon__star sparkling-icon__star--second"},o)),i.createElement("svg",{className:"sparkling-icon__star-container",viewBox:"0 0 20 20",x:"60%",y:"5%",height:"9",width:"9"},i.createElement(r.a,{className:"sparkling-icon__star sparkling-icon__star--third"},o)))}},GSWs:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetReadableChatColors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetReadableChatColorsEnabledInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setReadableChatColorsEnabled"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isReadableChatColorsEnabled"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:167}};n.loc.source={body:"mutation SyncedSettingsSetReadableChatColors($input: SetReadableChatColorsEnabledInput!) {\nsetReadableChatColorsEnabled(input:$input) {\nisReadableChatColorsEnabled\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SyncedSettingsSetReadableChatColors=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SyncedSettingsSetReadableChatColors")},GXBl:function(e,t,n){},GuJR:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsGemNotifications"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsGemNotifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isChecked"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:169}};n.loc.source={body:"query BitsGemNotifications($channelID: ID!) {\nuser(id: $channelID) {\nid\nself {\nbitsGemNotifications {\nid\ntitle\ndescription\ncreatedAt\nisChecked\n}\n}\n}\ncurrentUser {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.BitsGemNotifications=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"BitsGemNotifications")},GvwK:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hostingChannel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hosting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"language"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:160}};n.loc.source={body:"fragment hostingChannel on User {\nhosting {\nid\nlogin\ndisplayName\nprofileImageURL(width: 70)\nbroadcastSettings {\nid\nlanguage\n}\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},GzyO:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return h}));var i=n("mrSG"),a=n("/7QA"),r=n("OpME"),o="twilight.emote_picker_history",s=24,l=[{id:"64138",token:"SeemsGood"},{id:"41",token:"Kreygasm"},{id:"245",token:"ResidentSleeper"},{id:"28087",token:"WutFace"},{id:"86",token:"BibleThump"},{id:"9",token:"<3"},{id:"58765",token:"NotLikeThis"},{id:"81274",token:"VoHiYo"},{id:"88",token:"PogChamp"},{id:"425618",token:"LUL"},{id:"25",token:"Kappa"},{id:"30259",token:"HeyGuys"}];function c(e){var t=h(),n=t[e.id];n?(n.uses++,n.lastUpdatedAt=Date.now()):t[e.id]={emote:e,lastUpdatedAt:Date.now(),uses:1},a.m.set(o,t)}function d(){var e=h();if(!(Object.keys(e).length>=s)){for(var t={},n=0;n<l.length;n++){var r=l[n];e[r.id]||(t[r.id]={emote:r,lastUpdatedAt:n,uses:0})}var c=Object(i.__assign)(Object(i.__assign)({},t),e);a.m.set(o,c)}}function u(){return Object(r.c)(l)}function m(e){var t=h(),n=[],i=!1;return Object.keys(t).forEach((function(a){var r=t[a];if(void 0!==r&&void 0!==e[r.emote.token]){var o=e[r.emote.token].id;o!==a&&(r.emote.id=o,t[o]=r,delete t[o],i=!0),n.push(r)}})),i&&a.m.set(o,t),n.sort((function(e,t){return e.uses>t.uses?-1:t.uses>e.uses?1:e.lastUpdatedAt>t.lastUpdatedAt?-1:t.lastUpdatedAt>e.lastUpdatedAt?1:0})),Object(r.c)(n.slice(0,24).map((function(e){return e.emote})))}function p(){var e=h(),t={};return Object.keys(e).forEach((function(n){void 0!==e[n]&&(t[e[n].emote.token]={count:e[n].uses})})),t}function h(){var e=a.m.get(o,{})||{};return e.undefined&&(delete e.undefined,a.m.set(o,e)),e}},H1ft:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var i,a=n("/7QA"),r=n("D7An");!function(e){e.None="None",e.Inline="Inline",e.Balloon="moments_with_images"}(i||(i={}));var o=function(){switch(a.p.experiments.getAndTrackAssignment(r.c.Archer)){case"moments_with_images":return i.Balloon;case"inline":return i.Inline;case"control":default:return i.None}}},H82h:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("mrSG"),a=n("/7QA"),r=n("2xye"),o=n("IZXT"),s=n("a6LY"),l=n("xf5M"),c=function(e){switch(e){case s.a.DeleteMessage:case s.a.BanUser:case s.a.UnbanUser:case s.a.TimeoutUser:case s.a.UntimeoutUser:case s.a.ModUser:case s.a.UnmodUser:default:return s.d.Login}},d=function(e){var t=e.actionType,n=e.channelID,d=e.targetUserID,u=e.source,m=e.duration,p=e.page;return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e,h,f,g,v,b,k,y,S,C;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:e=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:l,variables:{channelID:n,targetUserID:d}})];case 2:return e=i.sent(),[3,4];case 3:return h=i.sent(),Object(o.d)()?a.k.warn("Moderation action tracking failed query failed."):a.k.errorAndReport(h,"Moderation action tracking failed query failed."),[3,4];case 4:return e&&e.data?(f=e.data,g=f.currentUser,v=f.channel,b=f.target,n===d?k=s.e.Broadcaster:(null===(y=null==g?void 0:g.roles)||void 0===y?void 0:y.isStaff)&&(k=s.e.Staff),(null===(S=null==v?void 0:v.self)||void 0===S?void 0:S.isEditor)?k=s.e.Editor:(null===(C=null==v?void 0:v.self)||void 0===C?void 0:C.isModerator)&&(k=s.e.Mod),a.o.track(r.SpadeEventType.ChatLoginModeration,{action:t,channel:null==v?void 0:v.login,channel_id:null==v?void 0:v.id,target_login:null==b?void 0:b.login,target_user_id:null==b?void 0:b.id,mod_status:k,args:m,page:p,type:c(t),source:u}),[2]):[2]}}))}))}},HECQ:function(e,t,n){},HOFL:function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("q1tI"),o=n("/7QA"),s=n("EuPq"),l=n("eJ65"),c=n("vVeY"),d=n("2xye"),u=n("CYfc"),m=n("MLDe"),p=n("b7S+"),h=n("7d/q"),f=n("C7sF"),g=n("ygYM"),v=n("sUnt"),b=n("+80q");!function(e){e.ClipLink="clip-link"}(i||(i={}));var k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e,t,n,a,k,y,S=this.props.clip,C=Object(o.d)("Share","ClipShareBox"),E=null!==(t=null===(e=null==S?void 0:S.broadcaster)||void 0===e?void 0:e.login)&&void 0!==t?t:"",w={label:C,direction:p.c.Bottom};return r.createElement(l.a,{tooltipProps:w},r.createElement(h.a,{disabled:!S,icon:f.a.Share,type:this.props.buttonType,ariaLabel:C}),r.createElement(g.a,{direction:this.props.balloonDirection,size:g.c.Small},S&&r.createElement(v.a,{padding:1},r.createElement(u.a,{clip:S,pageType:d.PageviewLocation.ClipsWatchPage,asBalloon:!0}),r.createElement(v.a,{"data-test-selector":i.ClipLink,padding:{top:1}},r.createElement(b.a,null,Object(o.d)("Clip Link","ClipShareBox")),r.createElement(s.a,{onClick:Object(m.d)(S.id,null!==(a=null===(n=S.game)||void 0===n?void 0:n.name)&&void 0!==a?a:null,null!==(y=null===(k=S.broadcaster)||void 0===k?void 0:k.id)&&void 0!==y?y:"",E,d.PageviewLocation.ClipsWatchPage,Object(c.a)(S.slug,E)),value:Object(c.a)(S.slug,E)})))))},t}(r.Component);n.d(t,"a",(function(){return k}))},HSqT:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d}));var i=n("/7QA"),a=[{code:"ar",label:"العربية",tagID:"73cc486a-e56b-41ed-a1df-7afedbc84f6f"},{code:"bg",label:"Български",tagID:"21d85c73-701f-4259-8c4e-4321265847b5"},{code:"ca",label:"Català",tagID:"b1650f8e-cf56-4e62-99e3-0142cfc7e081"},{code:"cs",label:"Čeština",tagID:"a6cddaba-f0ce-4526-9087-6de2f603a24d"},{code:"da",label:"Dansk",tagID:"43e598cc-918b-4247-b02c-b13543a1eac9"},{code:"de",label:"Deutsch",tagID:"9166ad14-41f1-4b04-a3b8-c8eb838c6be6"},{code:"el",label:"Ελληνικά",tagID:"902f6815-a655-4918-99e7-48c74a71feac"},{code:"en",label:"English",tagID:"6ea6bca4-4712-4ab9-a906-e3336a9d8039"},{code:"es",label:"Español",tagID:"d4bb9c58-2141-4881-bcdc-3fe0505457d1"},{code:"fi",label:"Suomi",tagID:"220eb274-ab25-425b-8a9b-826103404997"},{code:"fr",label:"Français",tagID:"6f655045-9989-4ef7-8f85-1edcec42d648"},{code:"hi",label:"मानक हिन्दी",tagID:"56d53a63-f048-40a9-ab61-d363aa3b9c57"},{code:"hu",label:"Magyar",tagID:"a298cca5-d408-47c7-a1e7-0c76ca878bc6"},{code:"id",label:"Bahasa Indonesia",tagID:"8b1246f2-2cec-4b90-9d86-01ebdf13b848"},{code:"it",label:"Italiano",tagID:"5b9935eb-1e9a-4217-98ad-62bda5cff0d1"},{code:"ja",label:"日本語",tagID:"6ba1d230-e52f-4d81-b1e0-41f25a8a9f5d"},{code:"ko",label:"한국어",tagID:"ab2975e3-b9ca-4b1a-a93e-fb61a5d5c3a4"},{code:"ms",label:"بهاس ملايو",tagID:"34a56dbd-6add-49e6-83b6-cffacbf18bcd"},{code:"nl",label:"Nederlands",tagID:"e13e6734-37ae-4d85-897b-3015f0168355"},{code:"no",label:"Norsk",tagID:"5647bf35-f99e-49aa-8578-0e07d936188c"},{code:"pl",label:"Polski",tagID:"f9d04efa-6e25-49bf-bf0a-da3e2addaf1b"},{code:"pt",label:"Português",tagID:"39ee8140-901a-4762-bfca-8260dea1310f"},{code:"ro",label:"Română",tagID:"75a99c80-0f15-4159-b1fd-3812c25b4aca"},{code:"ru",label:"Русский",tagID:"0569b171-2a2b-476e-a596-5bdfb45a1327"},{code:"sk",label:"Slovenčina",tagID:"9b773670-05f8-4c06-ac99-e6649f906171"},{code:"sv",label:"Svenska",tagID:"145b073b-cb70-4e91-b170-f5fab2ebba05"},{code:"th",label:"ภาษาไทย",tagID:"f19c7524-c18d-41af-9f39-034c8d0b0fee"},{code:"tl",label:"Tagalog",tagID:"91d21edf-9d63-4ac8-9508-5448c3daf3f0"},{code:"tr",label:"Türkçe",tagID:"f08d5873-f0c7-4912-94ba-a41933b4c141"},{code:"uk",label:"Українська",tagID:"b547f13b-4b4b-460f-97e6-3af350356a69"},{code:"vi",label:"Tiếng Việt",tagID:"ba3b69fe-899c-4518-ac46-707275e3eba1"},{code:"zh",label:"中文",tagID:"74c92063-a389-4fd2-8460-b1bb82b04ec7"},{code:"zh-hk",label:"粵語",tagID:"0c8c6543-4019-47d0-9b8a-57a81ee6ace5"}];function r(e){return void 0===e&&(e=!1),[{code:"asl",label:"American Sign Language",tagID:"5ad4b978-495f-4093-9461-c194f58201ab"},{code:"other",label:e?Object(i.d)("Other","broadcaster-languages"):"Other",tagID:"fd76c790-0505-4c4c-865a-d6bd139c0901"}]}var o=a.concat(r()).map((function(e){return e.code})),s=new Set(o);function l(e){return a.concat(r(!0)).find((function(t){return t.code===e}))}function c(e){var t=l(e);return t&&t.tagID||""}function d(){var e=i.p.intl.getLanguageCode(),t=function(t){return"en"===t.code?1:e&&e.startsWith(t.code.split("-")[0])?0:2};return a.slice().sort((function(e,n){var i=t(e),a=t(n);return i!==a?i-a:i+":"+e.label<a+":"+n.label?-1:1})).concat(r(!0))}},HWU2:function(e,t,n){},HXcb:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPage_ChannelHeader"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"smallProfileImage"},name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"300"}}],directives:[]}]}}]}}],loc:{start:0,end:198}};n.loc.source={body:"query ChannelPage_ChannelHeader($login: String!) {\nuser(login: $login) {\nid\ndisplayName\nsmallProfileImage: profileImageURL(width: 70)\nroles {\nisPartner\n}\nstream {\nid\n}\nprofileImageURL(width:300)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPage_ChannelHeader=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPage_ChannelHeader")},Heyb:function(e,t,n){},HfAM:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductPriceInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOffers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"benefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:603}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-price-info.gql"\nfragment subProduct on SubscriptionProduct {\nid\nurl\nprice\npriceInfo {\n...subscriptionProductPriceInfo\n}\nname\ntier\ninterval {\nunit\n}\nstate\nemotes {\nid\nsetID\ntoken\n}\noffers @include(if: $withOffers) {\n...subProductOfferFragment\n}\nself {\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\nmonths\n}\nbenefit {\nid\ntier\n}\n}\nowner {\nid\ndisplayName\nlogin\nsubscriptionProducts {\nid\ntier\nurl\nprice\nemotes {\nid\ntoken\n}\n}\nstream {\nid\ntype\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("Wd+u").definitions)),i.definitions=i.definitions.concat(r(n("35qb").definitions)),e.exports=i},HjUq:function(e,t,n){},HjbF:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("DpwM");function a(e,t,n,i){return e in t?{bitsConfig:i,commentID:e,cursor:t[e]}:{bitsConfig:i,commentID:e,videoID:n}}function r(e){var t=e.currentVideoTime<e.offsetRange.beginSec,n=e.currentVideoTime>e.offsetRange.endSec;return t&&l(e.cursor)||n&&s(e.cursor)}function o(e){return s(e.cursor)&&function(e){var t=e.offsetEndTime-e.offsetThreshold;return e.currentVideoTime>=t&&e.currentVideoTime<=e.offsetEndTime}({currentVideoTime:e.currentVideoTime,offsetEndTime:e.offsetEndTime,offsetThreshold:e.offsetThreshold})}function s(e){return e.future!==i.g}function l(e){return e.past!==i.g}function c(e,t){if(!e)return!1;var n=!!t&&null!==t.id&&e.id===t.id,i=e.roles&&(e.roles.isGlobalMod||e.roles.isSiteAdmin||e.roles.isStaff)||!1;return!(!t||!t.self)&&!!t.self.isModerator||i||n}},HwKw:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PbyPGame"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:107}};n.loc.source={body:"query PbyPGame($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PbyPGame=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"PbyPGame")},HzXE:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomBanStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRoomBanStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}},{kind:"Argument",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"targetUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}},{kind:"Argument",name:{kind:"Name",value:"lookupType"},value:{kind:"EnumValue",value:"ALL"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:299}};n.loc.source={body:"query ChatRoomBanStatus($targetUserID: ID! $channelID: ID!) {\nchatRoomBanStatus(channelID: $channelID userID: $targetUserID) {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\ntargetUser: user (id: $targetUserID lookupType: ALL) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatRoomBanStatus=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatRoomBanStatus")},IArS:function(e,t,n){"use strict";n.d(t,"b",(function(){return F})),n.d(t,"a",(function(){return A})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return V}));var i=n("mrSG"),a=n("TSYQ"),r=n("q1tI"),o=n("ANjH"),s=n("/7QA"),l=n("yR8l"),c=n("8Ad5"),d=n("geRD"),u=n("b5C3"),m=n("XmgI"),p=n("4h+t"),h=n("0Lz3"),f=n("X31c"),g=n("ZVTe"),v=n("cys1"),b=n("fezU"),k=n("p52R"),y=n("TApp"),S=n("ZtEv"),C=n("oK83"),E=n("2EzP"),w=n("a1OF"),O=n("1VX3"),D=n("sUnt"),N=n("PL8s"),_=n("dEDE"),I=n("+80q"),M=n("9yes"),T=n("R2Ti"),j=n("g17B"),P=n("frkH"),L=n("4zGI"),R=n("tX9j"),F="#9147FF",A={twitchbot:"1"},x={badges:A,badgeDynamicData:{},bits:0,color:F,displayName:"AutoMod",id:"automod",userID:"automod",username:"automod",userType:k.a.GlobalMod,emotes:{}};function U(e){var t;switch(e){case"aggressive":t=Object(s.d)("hostility","AutoModLine");break;case"sexual":t=Object(s.d)("sexual","AutoModLine");break;case"profanity":t=Object(s.d)("profanity","AutoModLine");break;case"identity":t=Object(s.d)("identity","AutoModLine");break;default:return Object(s.d)("Message is being held for review. Allow will post it to chat.","AutoModLine")}return Object(s.d)("Held a message for reason: {category}. Allow will post it to chat.",{category:t},"AutoModLine")}var B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isResolved:!1},t.getAllowMessageCallback=function(e){return e!==S.a.CheerMessageRejectedPrompt?t.allowAutoModRejectedMessage:t.allowAutoModRejectedCheerMessage},t.getDenyMessageCallback=function(e){return e!==S.a.CheerMessageRejectedPrompt?t.denyAutoModRejectedMessage:t.denyAutoModRejectedCheerMessage},t.allowAutoModRejectedMessage=function(){t.setState({isResolved:!0});var e=t.props.message;e.autoModType===S.a.MessageRejectedPrompt&&t.props.allowRejectedChatMessage&&t.props.allowRejectedChatMessage(Object(d.a)({id:e.rejectedMessage.id}))},t.denyAutoModRejectedMessage=function(){t.setState({isResolved:!0});var e=t.props.message;e.autoModType===S.a.MessageRejectedPrompt&&t.props.denyRejectedChatMessage&&t.props.denyRejectedChatMessage(Object(d.a)({id:e.rejectedMessage.id}))},t.allowAutoModRejectedCheerMessage=function(){t.setState({isResolved:!0});var e=t.props,n=e.message,i=e.allowRejectedCheer;if(n.autoModType===S.a.CheerMessageRejectedPrompt&&i){var a={id:n.rejectedMessage.id,targetUserID:n.targetUserID};i(Object(d.a)(a))}},t.denyAutoModRejectedCheerMessage=function(){t.setState({isResolved:!0});var e=t.props,n=e.message,i=e.denyRejectedCheer;if(n.autoModType===S.a.CheerMessageRejectedPrompt&&i){var a={id:n.rejectedMessage.id,targetUserID:n.targetUserID};i(Object(d.a)(a))}},t.surfaceError=function(e){t.props.messageHandlerAPI&&t.props.messageHandlerAPI.handleMessage(Object(y.a)(e))},t.openViewerCard=function(e){t.isKeyboardEvent(e)&&e.keyCode!==c.a.Space&&e.keyCode!==c.a.Enter||t.props.message.autoModType===S.a.MessageRejectedPrompt&&t.props.onUsernameClick(t.props.message.rejectedMessage.user.userLogin,C.b.chat_message,t.props.message.id,e.currentTarget.getBoundingClientRect().bottom)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t,n,o=this.props.message,l=Object(i.__assign)({},x);switch(o.autoModType){case S.a.MessageRejectedPrompt:n=U(o.category);break;case S.a.CheerMessageRejectedPrompt:n=U(o.category);var c=void 0;c=this.props.data&&this.props.data.cheerConfig?Object(h.b)(this.props.data.cheerConfig.displayConfig,Object(i.__spreadArrays)(this.props.data.cheerConfig.groups,(null===(t=null===(e=this.props.data.user)||void 0===e?void 0:e.cheer)||void 0===t?void 0:t.cheerGroups)||[])):Object(p.c)();var d=Object(m.g)(o.originalMessage,c);o.rejectedMessage=Object(i.__assign)(Object(i.__assign)({},o.rejectedMessage),{messageParts:d});break;case S.a.MessageRejected:n=Object(s.d)("Hey! Your message is being checked by mods and has not been sent.","AutoModLine");break;case S.a.MessageAllowed:n=Object(s.d)("Mods have allowed your message. Happy chatting!","AutoModLine");var b=(n+=" VoHiYo").match("VoHiYo");b&&void 0!==b.index&&(l.emotes[""+b.index]={startIndex:b.index,id:"81274"});break;case S.a.MessageDenied:n=Object(s.d)("Mods have removed your message.","AutoModLine");break;case S.a.CheerMessageDenied:n=Object(s.d)("Mods have removed your text message. Your Cheermote was sent.","AutoModLine");break;case S.a.CheerMessageTimeout:n=Object(s.d)("Mods did not approve your message in time.  Your Cheermote was sent without the text.","AutoModLine");break;case S.a.MessageModApproved:case S.a.MessageModDenied:return null;default:throw new Error("Invalid message type")}var k=Object(w.a)(n,l,m.a);switch(o.autoModType){case S.a.MessageRejectedPrompt:case S.a.CheerMessageRejectedPrompt:if(!(o.autoModType!==S.a.CheerMessageRejectedPrompt||this.props.data&&this.props.data.user&&this.props.data.user.cheer))return null;if(o.rejectedMessage.deleted)return null;if(this.state.isResolved)return r.createElement(D.a,{className:"chat-line__status"},Object(s.d)("Thank you for your feedback!","ChatLine"));var y=["chat-line__message--alert","chat-line__message--special","chat-line__message--clearfix"],C=void 0;return C=this.props.extractedMessage&&this.props.extractedMessage.message&&!this.props.extractedMessage.error?r.createElement(D.a,{className:a(y)},r.createElement(O.a,{badgeSets:this.props.badgeSets,channelID:this.props.channelID,message:this.props.extractedMessage.message,hasModPermissions:!0,showModerationIcons:this.props.showModerationIcons,showTimestamps:!1,currentUserLogin:this.props.channelLogin,onUsernameClick:this.openViewerCard,surfaceError:this.surfaceError,highContrastUsernameColor:this.props.useHighContrastColors,theme:this.props.theme})):this.props.extractedMessage&&this.props.extractedMessage.loading?r.createElement(N.a,{lineCount:2}):r.createElement(f.a,Object(i.__assign)({},this.props,{canDelete:!1,isCurrentUserStaff:!1,isDeleted:!1,isHidden:!1,showTimestamps:!1,className:a(y),message:o.rejectedMessage})),r.createElement(D.a,{className:"chat-line__message"},r.createElement(u.a,{badgeSets:this.props.badgeSets,badgesToRender:k.badges}),r.createElement(g.a,{userData:k.user,highContrastUsernameColor:this.props.useHighContrastColors,theme:this.props.theme}),r.createElement("span",{key:"separator"},": "),Object(v.f)(k.messageParts),r.createElement(D.a,{key:"automod-prompt",className:"chat-line__nested-component--float-right"},r.createElement(_.a,{size:_.b.Small,onClick:this.getAllowMessageCallback(o.autoModType),type:_.d.Text},Object(s.d)("Allow","AutoModLine")),r.createElement(I.a,{type:I.e.Span},"•"),r.createElement(_.a,{size:_.b.Small,onClick:this.getDenyMessageCallback(o.autoModType),type:_.d.Text},Object(s.d)("Deny","AutoModLine"))),C);case S.a.MessageRejected:case S.a.MessageAllowed:case S.a.MessageDenied:case S.a.CheerMessageDenied:case S.a.CheerMessageTimeout:return r.createElement(D.a,{className:a(["chat-line__message","chat-line__message--special","chat-line__message--alert"])},r.createElement(u.a,{badgeSets:this.props.badgeSets,badgesToRender:k.badges}),r.createElement(g.a,{userData:k.user,highContrastUsernameColor:this.props.useHighContrastColors,theme:this.props.theme}),r.createElement("span",{key:"separator"},": "),Object(v.f)(k.messageParts));default:throw new Error("Invalid message type")}},t.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},t}(r.Component);var V=Object(o.d)(E.a,Object(b.b)((function(e){return{onUsernameClick:e.onShowViewerCard}})),Object(l.a)(M,{name:"allowRejectedChatMessage"}),Object(l.a)(P,{name:"denyRejectedChatMessage"}),Object(l.a)(T,{name:"allowRejectedCheer"}),Object(l.a)(L,{name:"denyRejectedCheer"}),Object(l.a)(j,{name:"data",options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(l.a)(R,{options:function(e){return{variables:{msgID:e.message.rejectedMessage.id,channelID:e.channelID}}},props:function(e){return{extractedMessage:{message:e.data&&e.data.rejectedChatMessage&&e.data.rejectedChatMessage.message||null,loading:!(!e.data||!e.data.loading),error:!(!e.data||!e.data.error)}}},skip:function(e){return!e.channelID||e.message.autoModType!==S.a.MessageRejectedPrompt}}))(B)},IKE4:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"badge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Badge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image1x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"NORMAL"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image2x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"DOUBLE"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image4x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickURL"},arguments:[],directives:[]}]}}],loc:{start:0,end:170}};n.loc.source={body:"fragment badge on Badge {\nid\nsetID\nversion\ntitle\nimage1x: imageURL(size: NORMAL)\nimage2x: imageURL(size: DOUBLE)\nimage4x: imageURL(size: QUADRUPLE)\nclickAction\nclickURL\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},INxu:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoter"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"choices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoterChoice"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:396}};i.loc.source={body:'#import "twilight/features/polls/models/poll-voter-choice-fragment.gql"\n#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollVoter on PollVoter {\nid\nchoices {\n...pollVoterChoice\n}\npoll {\nid\n}\ntokens {\n...pollTokenBreakdown\n}\nuser {\nid\nlogin\ndisplayName\n}\nvotes {\n...pollVoteBreakdown\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("WWj3").definitions)),i.definitions=i.definitions.concat(r(n("/x02").definitions)),i.definitions=i.definitions.concat(r(n("wMQt").definitions)),e.exports=i},IQZc:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("ANjH"),o=n("YV90"),s=n("OUdD");function l(e,t){return e.cost!==t.cost||!t.isEnabled||"CommunityPointsCustomReward"===e.__typename&&"CommunityPointsCustomReward"===t.__typename&&(e.title!==t.title||e.prompt!==t.prompt||e.isUserInputRequired!==t.isUserInputRequired)}var c=function(e){function t(t){var n=e.call(this,t)||this,i="CommunityPointsCustomReward"===t.reward.__typename&&(!t.reward.isInStock||t.reward.isPaused);return n.state={changed:!1,stockChanged:!1,outOfStock:i},n}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.reward,i=e.rewardMap[e.reward.id];if(!i)return{changed:!1,outOfStock:!1};var a="CommunityPointsCustomReward"===i.__typename&&(!i.isInStock||i.isPaused);return{changed:l(n,i),stockChanged:t.stockChanged||t.outOfStock!==a,outOfStock:a}},t.prototype.render=function(){if(this.state.changed&&this.props.renderOnRequirementsChange)return this.props.renderOnRequirementsChange;if(this.state.outOfStock){if(!this.state.stockChanged&&this.props.renderOnInitiallyOutOfStock)return this.props.renderOnInitiallyOutOfStock;if(this.props.renderOnStockChange)return this.props.renderOnStockChange}return this.props.children||null},t.prototype.componentDidMount=function(){this.props.onRequirementsChange&&this.state.changed&&this.props.onRequirementsChange(this.state.changed),this.props.onStockChange&&this.state.outOfStock&&this.props.onStockChange(this.state.outOfStock)},t.prototype.componentDidUpdate=function(e,t){this.props.onRequirementsChange&&this.state.changed!==t.changed&&this.props.onRequirementsChange(this.state.changed),this.props.onStockChange&&this.state.outOfStock!==t.outOfStock&&this.props.onStockChange(this.state.outOfStock)},t}(a.Component);var d=Object(r.d)(Object(o.a)((function(e){return{channelLogin:e.channelLogin,displayName:e.displayName,rewardMap:e.rewardMap}})),Object(s.b)((function(e){return{openReward:e.openReward}})))(c);n.d(t,"a",(function(){return d}))},J6gT:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPage_StreamType_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:126}};n.loc.source={body:"query ChannelPage_StreamType_User($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\ndisplayName\nstream {\nid\ntype\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPage_StreamType_User=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPage_StreamType_User")},JN5s:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("/7QA");function a(){return Object(i.d)("Your message is identical to the one you sent within the last 30 seconds.","DuplicatedMessageErrorTray")}},JPUa:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActiveWatchParty"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"watchParty"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"session"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartySession"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:212}};i.loc.source={body:'#import "twilight/features/watch-party/models/watch-party-session-fragment.gql"\nquery ActiveWatchParty($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nwatchParty {\nsession {\n...watchPartySession\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("6JW5").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.ActiveWatchParty=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"ActiveWatchParty")},JXcx:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestPoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"poll"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:202}};i.loc.source={body:'#import "twilight/features/polls/models/poll-fragment.gql"\nmutation CreatePoll($input: CreatePollInput!) {\ncreatePoll(input: $input) {\npoll {\nid\nownedBy {\nid\nlatestPoll{\n...poll\n}\n}\n}\nerror {\ncode\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("wAVh").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.CreatePoll=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"CreatePoll")},JkAt:function(e,t,n){"use strict";var i=n("dF3q");n.d(t,"a",(function(){return i.a}))},JqNv:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"watchPartyError"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WatchPartyError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}],loc:{start:0,end:52}};n.loc.source={body:"fragment watchPartyError on WatchPartyError {\ncode\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"K+oU":function(e,t,n){},K29g:function(e,t,n){"use strict";var i,a;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),function(e){e.TrackingID="trackingID",e.GameName="game",e.GameID="gameID",e.Title="title",e.Start="start",e.End="end",e.Segments="segments"}(i||(i={})),function(e){e.SequenceID="sid",e.SequenceNum="sn",e.TrackingContent="tt_content",e.TrackingMedium="tt_medium",e.VideoStartTime="t"}(a||(a={}))},KD05:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(e){return"v"+e},a=function(e){return e+"s"}},KGti:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"j",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return k})),n.d(t,"k",(function(){return y})),n.d(t,"m",(function(){return S})),n.d(t,"l",(function(){return C}));var i,a=n("mrSG"),r=n("XmgI"),o=n("ZtEv"),s=n("a1OF"),l=n("aF6k"),c=n("p52R");function d(e){return e+"-automod-rejected"}function u(e,t,n,i){var l={badges:null,badgeDynamicData:null,bits:0,color:"",displayName:"",id:"",userID:n,username:n,userType:c.a.User,emotes:{}},u=Object(s.a)(t,l,r.a);return{type:o.b.AutoMod,autoModType:o.a.MessageRejectedPrompt,id:d(e),category:i,rejectedMessage:Object(a.__assign)(Object(a.__assign)({},u),{type:o.b.Message,messageType:o.c.Post,id:e})}}function m(e,t,n,i,l){var u={badges:null,badgeDynamicData:null,bits:0,color:"",displayName:"",id:"",userID:n,username:n,userType:c.a.User,emotes:{}},m=Object(s.a)(t,u,r.a);return{type:o.b.AutoMod,autoModType:o.a.CheerMessageRejectedPrompt,id:d(e),messageID:e,category:i,targetUserID:l,originalMessage:t,rejectedMessage:Object(a.__assign)(Object(a.__assign)({},m),{type:o.b.Message,messageType:o.c.Post,id:e})}}function p(){return{id:Object(l.a)("automod-message-rejected"),type:o.b.AutoMod,autoModType:o.a.MessageRejected}}function h(){return{id:Object(l.a)("automod-message-allowed"),type:o.b.AutoMod,autoModType:o.a.MessageAllowed}}function f(e){return{id:Object(l.a)("automod-message-denied"),msg_id:e.data.msg_id,type:o.b.AutoMod,autoModType:o.a.MessageModApproved}}function g(e){return{id:Object(l.a)("automod-message-denied"),msg_id:e.data.msg_id,type:o.b.AutoMod,autoModType:o.a.MessageModDenied}}function v(){return{id:Object(l.a)("automod-message-denied"),type:o.b.AutoMod,autoModType:o.a.MessageDenied}}function b(){return{id:Object(l.a)("automod-cheer-message-denied"),type:o.b.AutoMod,autoModType:o.a.CheerMessageDenied}}function k(){return{id:Object(l.a)("automod-cheer-message-timeout"),type:o.b.AutoMod,autoModType:o.a.CheerMessageTimeout}}function y(e,t,n,a,r){return{id:Object(l.a)("channel-moderation-action"),type:o.b.ModerationAction,moderationActionType:e,level:i.Channel,createdByLogin:t,createdByUserID:n,args:a,fromAutoMod:r}}function S(e,t,n,a,r,s,c,d){return{id:Object(l.a)("channel-moderation-action"),type:o.b.ModerationAction,moderationActionType:e,level:i.User,createdByLogin:t,createdByUserID:n,targetUserLogin:a,duration:r,reason:s,messageBody:c,messageID:d}}function C(e,t,n,i){return{id:Object(l.a)("channel-moderation-action"),type:o.b.TargetedModerationAction,targetedModerationActionType:e,targetUserID:t,messageBody:n,targetMessageID:i}}!function(e){e[e.Channel=0]="Channel",e[e.User=1]="User"}(i||(i={}))},KOTp:function(e,t,n){"use strict";var i,a=n("q1tI"),r=n("/7QA"),o=n("yWUM"),s=n("dEDE");!function(e){e.ClipWatchFullButton="clips-watch-full-button"}(i||(i={}));var l=function(e){var t=e.buttonType||s.d.Primary;if(!e.video)return a.createElement(s.a,{type:t,disabled:!0},Object(r.d)("Full Video Unavailable","ClipsFullVideoButton"));var n=(e.useAbsoluteURL?"https://twitch.tv/videos/"+e.video.id:"/videos/"+e.video.id)+"?tt_content="+e.tt_content+"&tt_medium="+e.tt_medium+"&t="+Object(o.a)(e.video.offsetSeconds);return a.createElement(s.a,{linkTo:n,type:t,targetBlank:e.targetBlank,"data-test-selector":i.ClipWatchFullButton},Object(r.d)("Watch Full Video","ClipsFullVideoButton"))};n.d(t,"a",(function(){return l}))},KYAw:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n("mrSG"),a=n("cr+I"),r=n("6zXJ");function o(e,t){var n=new URL("https://www.twitch.tv/collections/"+e);return t&&(n.search=a.stringify(t)),n.toString()}function s(e,t){var n=new URL("https://www.twitch.tv/videos/"+e);return t&&(n.search=a.stringify(Object(i.__assign)(Object(i.__assign)({},t),{t:"number"==typeof t.t?Object(r.a)(t.t):void 0}))),n.toString()}},KrPZ:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsEmoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:74}};n.loc.source={body:"fragment communityPointsEmoteFragment on CommunityPointsEmote {\nid\ntoken\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},L5dg:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("q1tI"),a=n("0Rl0"),r=function(e){for(var t=[],n=void 0===e.placeholderCount?20:e.placeholderCount,r=0;r<n;r++)t.push(i.createElement(a.a,{key:r}));return i.createElement(i.Fragment,null,t)}},L6L7:function(e,t,n){},MAph:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelContext_HostedChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hostedChannelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"hostedChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hostedChannel"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"hostedChannel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]}]}}],loc:{start:0,end:205}};n.loc.source={body:"query ChannelContext_HostedChannel($hostedChannelLogin: String!) {\nuser(login: $hostedChannelLogin) {\n...hostedChannel\n}\n}\nfragment hostedChannel on User {\nid\nlogin\ndisplayName\nprofileImageURL(width: 70)\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelContext_HostedChannel=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelContext_HostedChannel")},MQZ3:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NewPollModalQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestPoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettings"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:301}};i.loc.source={body:'#import "twilight/features/polls/models/poll-settings-fragment.gql"\nquery NewPollModalQuery($id: ID!) {\nchannel: user(id: $id) {\nid\nlatestPoll {\nid\ndurationSeconds\nsettings {\n...pollSettings\n}\n}\ncheer {\nid\n}\n}\ncommunity: user(id: $id) {\nid\nchannel {\nid\ncommunityPointsSettings {\nname\nisEnabled\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("OGC9").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.NewPollModalQuery=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"NewPollModalQuery")},MVDO:function(e,t,n){},MXoD:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("mrSG"),a=n("cr+I"),r=function(e,t){if(!(e.content||e.content_index||e.medium)||!t)return t;if("string"==typeof t&&(/^\w+:\/\//.test(t)||t.startsWith("//"))){var n=new URL(t),r=""!==n.search?a.parse(n.search):{};return e.content&&(r.tt_content=e.content),e.content_index&&(r.tt_content_index=e.content_index),e.medium&&(r.tt_medium=e.medium),n.search=a.stringify(r),n.toString()}var o="string"==typeof t?{pathname:t}:t;return Object(i.__assign)(Object(i.__assign)({},o),{state:Object(i.__assign)(Object(i.__assign)({},o.state),{content:e.content||o.state&&o.state.content,content_index:e.content_index||o.state&&o.state.content_index,medium:e.medium||o.state&&o.state.medium})})}},MglV:function(e,t,n){},Mj6i:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("mrSG"),a=n("yR8l"),r=n("wUQP"),o=n("0FG4"),s=n("VYPy"),l=n("S4w9");function c(){return Object(a.a)(l,{options:function(e){return{variables:{withOwner:!0,includeEmoteModifiers:Object(r.c)(s.a)}}},props:function(e){if(e.data){var t=e.data.currentUser&&e.data.currentUser.emoteSets||[],n=t&&Object(o.b)(t);return{emoteSetsData:Object(i.__assign)(Object(i.__assign)({},e.data),{currentUser:e.data.currentUser||null,emoteMap:n,emoteSets:t})}}return{}},skip:function(e){return!e.isLoggedIn}})}},MkkA:function(e,t,n){"use strict";var i=n("fBrF");n.d(t,"withWatchPartyContext",(function(){return i.b}));var a=n("yJn7");n.o(a,"mapWatchPartyContextToSubsProps")&&n.d(t,"mapWatchPartyContextToSubsProps",(function(){return a.mapWatchPartyContextToSubsProps})),n.o(a,"withWatchPartyContextManager")&&n.d(t,"withWatchPartyContextManager",(function(){return a.withWatchPartyContextManager}));var r=n("CNnA");n.d(t,"mapWatchPartyContextToSubsProps",(function(){return r.a}));var o=n("t4UF");n.d(t,"withWatchPartyContextManager",(function(){return o.a}))},MvLD:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPollContext_GetViewablePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewablePoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"poll"},directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoter"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:366}};i.loc.source={body:'#import "twilight/features/polls/models/poll-fragment.gql"\n#import "twilight/features/polls/models/poll-voter-fragment.gql"\nquery ChannelPollContext_GetViewablePoll($login: String!) {\nchannel: user(login: $login) {\nid\nviewablePoll {\n...poll\nself {\nvoter {\n...pollVoter\n}\n}\n}\nself {\nsubscriptionBenefit {\nid\n}\nisEditor\nisModerator\n}\n}\ncurrentUser {\nid\nbitsBalance\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("wAVh").definitions)),i.definitions=i.definitions.concat(r(n("INxu").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChannelPollContext_GetViewablePoll=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelPollContext_GetViewablePoll")},NJiF:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"channelCurrentUser"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:90}};n.loc.source={body:"fragment channelCurrentUser on User {\nid\ndisplayName\nlogin\nroles {\nisStaff\nisSiteAdmin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},NWfm:function(e,t,n){},NeSQ:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"activeMultipliersFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsMultiplier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reasonCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"factor"},arguments:[],directives:[]}]}}],loc:{start:0,end:85}};n.loc.source={body:"fragment activeMultipliersFragment on CommunityPointsMultiplier {\nreasonCode\nfactor\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},NgDb:function(e,t,n){},Nimz:function(e,t,n){},NxUI:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("Ws8v"),s=n("yymn"),l=n("sUnt"),c=n("IbuL"),d=n("C7sF"),u=n("+80q"),m=n("7d/q"),p=(n("6bwK"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(o.a,{padding:1,display:s.g.Flex,flexDirection:s.h.Row,className:"poll-service-error__service-error",justifyContent:s.l.Between,alignItems:s.b.Center,position:s.n.Relative},a.createElement(l.a,{display:s.g.Flex,flexDirection:s.h.Row},a.createElement(l.a,{className:"poll-service-error__service-error__icon"},a.createElement(c.a,{asset:d.a.Halt})),a.createElement(l.a,{margin:{left:1},display:s.g.Flex,flexDirection:s.h.Column},a.createElement(u.a,null,this.props.message),this.props.showTryAgain&&a.createElement(u.a,{color:s.f.Alt2,fontSize:s.j.Size6},Object(r.d)("Try again in a moment.","Polls--PollServiceError")))),a.createElement(o.a,{position:s.n.Absolute,attachTop:!0,attachRight:!0,className:"poll-service-error__service-error__close"},a.createElement(m.a,{size:m.b.Small,type:m.c.Secondary,onClick:this.props.onClose,ariaLabel:Object(r.d)("Close","Polls--PollServiceError"),icon:d.a.Close})))},t}(a.Component));n.d(t,"a",(function(){return p}))},O0eq:function(e,t,n){"use strict";var i=n("mrSG"),a=n("dMq0"),r=n("q1tI"),o=n("ANjH"),s=n("yR8l"),l=n("geRD"),c=n("2Ygb"),d=n("DMoW"),u=n("DwV5"),m=function(e){return!!e.accessToken},p=function(e,t){return function(n){return Object(o.d)(function(e,t){return function(n){return function(o){function s(n){var r=o.call(this,n)||this;return r.parentHasSkipped=!1,r.shouldRetryAuth=!0,r.loadingDataProp={loading:!0},r.erroredDataProp={loading:!1,error:new a.b({networkError:new Error("Error retrieving Access Token")})},r.retryQueryOnce=function(e){r.shouldRetryAuth&&e.code===d.Sd.FORBIDDEN&&(r.shouldRetryAuth=!1,r.setAccessToken())},r.setAccessToken=function(){r.setState({isLoadingToken:!0},(function(){return Object(i.__awaiter)(r,void 0,void 0,(function(){var e,t=this;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Object(u.b)(Object(u.a)("with-lwa-access-token"),this.shouldRetryAuth)];case 1:return e=n.sent(),this.setState({accessToken:e,isLoadingToken:!1},(function(){t.state.accessToken||(t.parentHasSkipped=!0)})),[3,3];case 2:return n.sent(),this.setState({accessToken:null,isLoadingToken:!1}),[3,3];case 3:return[2]}}))}))}))},r.didParentSkip=function(){var e=!1;return t&&t.skip&&(e="function"==typeof t.skip?t.skip(r.props):t.skip),e},r.getName=function(){return t&&t.name||"data"},r.optionsWithToken=function(){var t=r.getExistingOptions();return Object(l.g)(e)?t:r.getQueryOptions(t)},r.getExistingOptions=function(){return t&&t.options?"function"==typeof t.options?t.options(r.props):t.options:{}},r.getQueryOptions=function(e){var t=Object(i.__assign)(Object(i.__assign)({},e.variables),{accessToken:r.state.accessToken});return Object(i.__assign)(Object(i.__assign)({},e),{variables:t})},r.parentHasSkipped=r.didParentSkip(),r.state={accessToken:null,isLoadingToken:!0},r}return Object(i.__extends)(s,o),s.prototype.componentDidMount=function(){this.parentHasSkipped||this.setAccessToken()},s.prototype.shouldComponentUpdate=function(e,t){var n=!this.parentHasSkipped&&!this.didParentSkip(),i=this.state.isLoadingToken&&t.isLoadingToken;return!(n&&i)},s.prototype.componentDidUpdate=function(){this.parentHasSkipped&&!this.didParentSkip()&&(this.parentHasSkipped=!1,this.setAccessToken())},s.prototype.render=function(){var t,a,o=this.optionsWithToken(),s=o.variables&&m(o.variables)&&o.variables.accessToken;if(this.didParentSkip()||this.parentHasSkipped)return r.createElement(n,Object(i.__assign)({},this.props,{evaluatedOperationOptionsWithToken:o,skip:!0}));if(this.state.isLoadingToken){var c=((t={})[this.getName()]=this.loadingDataProp,t);return r.createElement(n,Object(i.__assign)({},this.props,c,{evaluatedOperationOptionsWithToken:o,skip:!0}))}if(null===this.state.accessToken){c=((a={})[this.getName()]=this.erroredDataProp,a);return r.createElement(n,Object(i.__assign)({},this.props,c,{evaluatedOperationOptionsWithToken:o,refreshTokenRevoked:!0,skip:!0}))}return r.createElement(n,Object(i.__assign)({},this.props,{retryIfPossible:this.retryQueryOnce,buildAccessTokenInput:Object(l.g)(e)?this.buildMutationInput.bind(this):void 0,evaluatedOperationOptionsWithToken:o,skip:this.parentHasSkipped||!s}))},s.prototype.buildMutationInput=function(e){return Object(l.a)(Object(i.__assign)(Object(i.__assign)({},e),{accessToken:this.state.accessToken}))},s.displayName=Object(c.a)(s.name,n),s}(r.Component)}}(e,t),Object(s.a)(e,Object(i.__assign)(Object(i.__assign)({},t),{options:function(e){return e.evaluatedOperationOptionsWithToken},skip:function(e){return e.skip}})))(n)}};n.d(t,"a",(function(){return p}))},OBzG:function(e,t,n){},OCTF:function(e,t,n){},OGC9:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettings"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsVotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsBitsVotes"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"communityPointsVotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsCommunityPointsVotes"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriberMultiplier"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsSubscriberMultiplier"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriberOnly"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsSubscriberOnly"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"multichoice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsMultichoice"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsBitsVotes"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsBitsVotes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsCommunityPointsVotes"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsCommunityPointsVotes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsSubscriberMultiplier"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsSubscriberMultiplier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsSubscriberOnly"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsSubscriberOnly"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsMultichoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsMultichoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}],loc:{start:0,end:715}};n.loc.source={body:"fragment pollSettings on PollSettings {\nbitsVotes {\n...pollSettingsBitsVotes\n}\ncommunityPointsVotes {\n...pollSettingsCommunityPointsVotes\n}\nid\nsubscriberMultiplier {\n...pollSettingsSubscriberMultiplier\n}\nsubscriberOnly {\n...pollSettingsSubscriberOnly\n}\nmultichoice {\n...pollSettingsMultichoice\n}\n}\nfragment pollSettingsBitsVotes on PollSettingsBitsVotes {\ncost\nisEnabled\n}\nfragment pollSettingsCommunityPointsVotes on PollSettingsCommunityPointsVotes {\ncost\nisEnabled\n}\nfragment pollSettingsSubscriberMultiplier on PollSettingsSubscriberMultiplier {\nisEnabled\n}\nfragment pollSettingsSubscriberOnly on PollSettingsSubscriberOnly {\nisEnabled\n}\nfragment pollSettingsMultichoice on PollSettingsMultichoice {\nisEnabled\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},OOag:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return k}));var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("geRD"),s=n("DMoW"),l=n("zwF8"),c=n("IQZc"),d=n("g+79"),u=n("+80q"),m=n("B30r"),p=n("UNTo"),h=n("W1jp"),f=n("nAiT"),g=n("EgE3");function v(e){var t=this;return{icon:a.createElement(d.a,{data:e.reward,size:d.b.ExtraSmall}),title:e.reward.title,body:a.createElement(c.a,{onRequirementsChange:function(t){return t?e.setTrayError(Object(f.f)(e.channelDisplayName||e.channelLogin,(function(){e.clearTray(),e.openReward()}))):e.clearTrayError()},onStockChange:function(t){return t?e.setTrayError(Object(f.d)()):e.clearTrayError()},reward:e.reward},a.createElement(u.a,{wordBreak:u.g.BreakWord},e.reward.prompt||void 0)),disableCommands:!0,disableBits:!0,ignoredRestrictions:new Set([s.N.FOLLOWERS_ONLY,s.N.SLOW_MODE,s.N.SUBSCRIBERS_ONLY,s.N.VERIFIED_ONLY]),pointsCost:Object(h.c)(e.reward),sendButtonOverride:l.b.CommunityPointsSpend,sendMessageHandler:{type:l.c.Custom,handleMessage:function(n){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return n.trim()?[4,k(e.channelID,e.reward,e.transactionID,n)]:(b(e),[2,!1]);case 1:return(t=a.sent()).data&&t.data.redeemCommunityPointsCustomReward&&!t.data.redeemCommunityPointsCustomReward.error?(e.clearTray(),Object(g.h)({channelID:e.channelID,channelLogin:e.channelLogin,reward:e.reward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}),[2,!0]):(b(Object(i.__assign)(Object(i.__assign)({},e),{errorCode:t.data&&t.data.redeemCommunityPointsCustomReward&&t.data.redeemCommunityPointsCustomReward.error&&t.data.redeemCommunityPointsCustomReward.error.code||void 0,message:n})),[2,!1])}}))}))}}}}function b(e){var t=e.message?Object(m.a)(e.errorCode):Object(m.b)();e.setTrayError(t)}function k(e,t,n,a){return r.p.apollo.client.mutate(Object(i.__assign)({mutation:p},Object(o.a)({channelID:e,cost:Object(h.c)(t),prompt:t.prompt,rewardID:t.id,textInput:a,title:t.title,transactionID:n})))}},OTul:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"h",(function(){return g}));var i=n("+GjP"),a=n("bRfm"),r=n("tLDJ"),o=n("rwoo"),s="https://static-cdn.jtvnw.net/emoticons/v1/",l="video-producer";function c(e){return void 0===e&&(e=""),"https://www.twitch.tv/"+e}function d(e){return void 0===e&&(e=""),"https://clips.twitch.tv/"+e}function u(e,t){return void 0===e&&(e=null),void 0===t&&(t={}),e?Object(i.g)(Object(r.ib)()+"/u/"+e+"/content/clips",t):Object(i.g)(Object(r.ib)()+"/content/clips",t)}function m(e,t){return void 0===t&&(t={}),Object(i.g)(c(""+e),t)}function p(e,t,n){return void 0===n&&(n={}),Object(i.g)(function(e,t){return void 0===e&&(e=null),void 0===t&&(t={}),e?Object(i.g)(Object(r.ib)()+"/u/"+e+"/content/"+l,t):Object(i.g)(Object(r.ib)()+"/content/"+l,t)}(e)+"/highlighter/"+t,n)}function h(e,t){return void 0===t&&(t={}),Object(i.g)(function(e){return c("directory/game/"+e)}(e)+"/clips",t)}function f(e,t){void 0===t&&(t={});var n=Object(i.g)(m(e)+"/clips",t);return a.a.os.isAndroid()?"intent://stream/"+e+"#Intent;scheme=twitch;package=tv.twitch.android.app;S.browser_fallback_url="+n+";end":n}function g(e){return void 0===e&&(e=o.a.Default),"/clips/"+e}},OUdD:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var i=n("1rIY"),a=n("VaVM"),r=n("V8f+"),o=Object(i.a)("RewardRedemptionContext",{closeRewardCenter:function(){return null},isRewardCenterOpen:!1,openReward:function(){return null},openEarnRatesList:function(){return null},rewardCenterState:{type:a.a.ListRewards},transactionID:"",direction:r.a.OpenRewardCenter,setDirection:function(){return null}}),s=o.context,l=o.withContext},OXoN:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="cf_video_chat_sunset"},OhOW:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),a=n("/7QA"),r=n("+U0Y"),o=n("5xw2");function s(e){return e.userPreferences.languagePreferences}a.p.store.registerReducer("userPreferences",(function(e,t){switch(void 0===e&&(e={languagePreferences:Object(o.b)()}),t.type){case r.a:return Object(i.__assign)(Object(i.__assign)({},e),{languagePreferences:t.languagePreferences});default:return e}}))},Ohqu:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetChatPauseSetting"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetChatPauseSettingInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setChatPauseSetting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatPauseSetting"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:137}};n.loc.source={body:"mutation SyncedSettingsSetChatPauseSetting($input: SetChatPauseSettingInput!) {\nsetChatPauseSetting(input: $input) {\nchatPauseSetting\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SyncedSettingsSetChatPauseSetting=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SyncedSettingsSetChatPauseSetting")},OpME:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return f}));var i=n("mrSG"),a=n("lZdE"),r=n("cpJf"),o={"B-?\\)":"B)","\\:-?[z|Z|\\|]":":|","\\:-?\\)":":)","\\:-?\\(":":(","\\:-?(p|P)":":P","\\;-?(p|P)":";P","\\:-?[\\\\/]":":/","\\;-?\\)":";)","R-?\\)":"R)",":>":":>","\\:\\&gt\\;":":>","[oO](_|\\.)[oO]":"O_o","\\:-?D":":D","\\:-?(o|O)":":O",">\\\\(":">(",":-?(?:7|L)":":7","\\:-?(S|s)":":S","#-?[\\\\/]":"#/","<\\]":"<]","<3":"<3","\\&lt\\;3":"<3","\\&lt\\;\\]":"<]","\\&gt\\;\\(":">("},s=["1.0","2.0","3.0"],l=new Set([457,33,42,0]);function c(e){for(var t=[],n=0,i=e;n<i.length;n++){var a=i[n];a&&null!==a.id&&null!==a.token&&t.push(d(a))}return t}function d(e){var t=o[e.token]||e.token,n=s.reduce((function(t,n){var i=t;return i&&(i=i.concat(", ")),i.concat("https://static-cdn.jtvnw.net/emoticons/v1/"+e.id+"/"+n+" "+n+"x")}),"");return Object(i.__assign)(Object(i.__assign)({},e),{displayName:t,srcSet:n})}function u(e){return e.filter((function(e){return!!e&&!!e.id&&!!e.token})).sort((function(e,t){return parseInt(e.id,10)-parseInt(t.id,10)}))}function m(e){for(var t=[],n=0,i=e;n<i.length;n++){var a=i[n];if(a&&a.id&&a.emotes){for(var r={id:a.id,emotes:[]},o=0,s=a.emotes;o<s.length;o++){var l=s[o];l&&l.id&&l.token&&r.emotes.push(l)}t.push(r)}}return t}function p(e){for(var t=[],n=[],i=0,a=e;i<a.length;i++){var r=a[i];if(r&&r.id&&r.emotes){var o={id:r.id,emotes:c(u(r.emotes))};r.owner&&(o.owner=r.owner),l.has(parseInt(r.id,10))?t.push(o):n.push(o)}}return n.concat(t)}var h=function(e,t,n){var i=n||r.c,o=[],s=[],l=[],c=new RegExp("^"+Object(a.a)(t),"i");return e.forEach((function(e){i[e.token]?l.push(e):e.token.match(c)?o.push(e):s.push(e)})),o.sort((function(e,t){return e.token.localeCompare(t.token)})),s.sort((function(e,t){return e.token.localeCompare(t.token)})),l.sort((function(e,t){return i[t.token].count-i[e.token].count})),l.concat(o).concat(s)},f=function(e){var t={};return e.filter((function(e){return!t.hasOwnProperty(e.token)&&(t[e.token]=!0)}))}},"Os+Q":function(e,t,n){},OvAg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IncomingRaidLine_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:146}};n.loc.source={body:"query IncomingRaidLine_Channel($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\ndisplayName\nprofileImageURL(width: 50)\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.IncomingRaidLine_Channel=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"IncomingRaidLine_Channel")},Owek:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("ANjH"),s=n("yR8l"),l=n("wUQP"),c=n("XDCx"),d=n("kRBY"),u=n("8D7W"),m=n("DLI4"),p=n("w09P"),h=n("eDVu"),f=n("0Log"),g=n("geRD"),v=n("/aPz"),b=n("1rIY"),k=n("H31v"),y=n("ati1"),S=n("smCe"),C=n("i5+p"),E=n("SUI5"),w=n("MvLD"),O=n("5aDA"),D=Object(b.a)("ChannelPollContext",{viewablePoll:null,selfVoter:null,isUserPollAdmin:!1,bitsBalance:0,topBitsContributor:null,topCommunityPointsContributor:null}),N=D.context,_=D.withContext,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.voteInPoll=function(e){return Object(i.__awaiter)(t,void 0,Promise,(function(){var t,n,a,r,o,s;return Object(i.__generator)(this,(function(l){switch(l.label){case 0:if(!(this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&this.props.data.channel.viewablePoll.ownedBy))return[2,Promise.resolve({data:{voteInPoll:null}})];t=this.props.data.channel.viewablePoll,n=t.settings.subscriberMultiplier.isEnabled&&this.props.data.channel&&this.props.data.channel.self&&this.props.data.channel.self.subscriptionBenefit?2:1,a=e.variables.input.tokens?e.variables.input.tokens.bits:0,r=a>0,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.props.voteInPoll(e)];case 2:return(o=l.sent()).data.voteInPoll&&!o.data.voteInPoll.error&&Object(g.i)(w,{login:this.props.channelLogin},(function(s){var l=Object(i.__assign)({},s);if(s.channel&&s.channel.viewablePoll&&s.channel.viewablePoll.self){var c=s.channel.viewablePoll.self.voter;if(l=p(l,(function(e){return e.channel.viewablePoll}),(function(e){var o=e.totalVoters,s={},l={};return c||(o=Math.max(e.totalVoters,t.totalVoters+1)),s.total=Math.max(e.votes.total,t.votes.total+n),r?(s.bits=Math.max(e.votes.bits,t.votes.bits+n),l.bits=Math.max(e.tokens.bits,t.tokens.bits+a)):s.base=Math.max(e.votes.bits,t.votes.bits+n),Object(i.__assign)(Object(i.__assign)({},e),{totalVoters:o,votes:Object(i.__assign)(Object(i.__assign)({},e.votes),s),tokens:Object(i.__assign)(Object(i.__assign)({},e.tokens),l)})})),l=p(l,(function(e){return e.channel.viewablePoll.choices}),(function(o){return o.map((function(o){var s=o.totalVoters,l={},d={};if(o.id===e.variables.input.choiceID){var u=t.choices.find((function(e){return e.id===o.id}))||o;c||s++,l.total=Math.max(o.votes.total,u.votes.total+n),r?(l.bits=Math.max(o.votes.bits,u.votes.bits+n),d.bits=Math.max(o.tokens.bits,u.tokens.bits+a)):l.base=Math.max(o.votes.bits,u.votes.bits+n)}return Object(i.__assign)(Object(i.__assign)({},o),{totalVoters:s,votes:Object(i.__assign)(Object(i.__assign)({},o.votes),l),tokens:Object(i.__assign)(Object(i.__assign)({},o.tokens),d)})}))})),o.data.voteInPoll&&o.data.voteInPoll.voter&&(l=p(l,(function(e){return e.channel.viewablePoll.self.voter}),(function(){return o.data.voteInPoll.voter}))),l.currentUser&&l.currentUser.bitsBalance){var d=l.currentUser.bitsBalance-a;l=p(l,(function(e){return e.currentUser.bitsBalance}),(function(){return d}))}}return l})),[2,Promise.resolve(o)];case 3:return s=l.sent(),[2,Promise.reject(s)];case 4:return[2]}}))}))},t.createPoll=function(){t.props.showModal(E.a,{channelID:t.props.data.channel.id,channelLogin:t.props.channelLogin})},t.terminatePoll=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.props.terminatePoll(Object(g.a)({pollID:this.props.data.channel.viewablePoll.id}))];case 1:return e=n.sent(),[2,Promise.resolve(e)];case 2:return t=n.sent(),[2,Promise.reject(t)];case 3:return[2]}}))}))},t.archivePoll=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.props.archivePoll(Object(g.a)({pollID:this.props.data.channel.viewablePoll.id}))];case 1:return e=n.sent(),[2,Promise.resolve(e)];case 2:return t=n.sent(),[2,Promise.reject(t)];case 3:return[2]}}))}))},t.getBitsAmount=function(){var e=t.props.data;return e&&e.currentUser&&e.currentUser.bitsBalance?e.currentUser.bitsBalance:0},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=null,t=null;this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&(e=this.props.data.channel.viewablePoll,this.props.data.channel.viewablePoll.self&&(t=this.props.data.channel.viewablePoll.self.voter));var n=!(!this.props.user||this.props.user.login!==this.props.channelLogin),i=!!(this.props.user&&this.props.user.roles&&this.props.user.roles.isStaff),r=!1;this.props.data&&this.props.data.channel&&this.props.data.channel.self&&(r=this.props.data.channel.self.isEditor||this.props.data.channel.self.isModerator||i||n);var o={viewablePoll:e,selfVoter:t,isUserPollAdmin:r,bitsBalance:this.getBitsAmount(),topBitsContributor:e&&e.topBitsContributor,topCommunityPointsContributor:e&&e.topCommunityPointsContributor};return this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&!Object(C.e)(this.props.data.channel.viewablePoll.status)&&(o.terminatePoll=this.terminatePoll,o.voteInPoll=this.voteInPoll),this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&(o.archivePoll=this.archivePoll),(this.props.data&&this.props.data.channel&&!this.props.data.channel.viewablePoll||this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&Object(C.e)(this.props.data.channel.viewablePoll.status))&&(o.createPoll=this.createPoll),a.createElement(N.Provider,{value:o},this.props.children)},t}(a.Component),M=Object(o.d)(Object(s.a)(w,{skip:function(e){return!e.channelLogin||!e.isPollsEnabled},options:function(e){return{variables:{login:e.channelLogin}}}}),Object(s.a)(O,{name:"voteInPoll"}),Object(s.a)(y,{name:"archivePoll"}),Object(s.a)(S,{name:"terminatePoll"}),Object(h.a)((function(e){return{query:w,variables:{login:e.channelLogin},skip:!(e.data&&e.data.channel&&e.channelLogin&&e.isPollsEnabled),topic:e.data&&e.data.channel?Object(v.l)(e.data.channel.id):"",types:[f.PubsubMessageType.PollUpdateEvent,f.PubsubMessageType.PollArchivedEvent,f.PubsubMessageType.PollCompletedEvent,f.PubsubMessageType.PollCreatedEvent,f.PubsubMessageType.PollTerminatedEvent,f.PubsubMessageType.PollModeratedEvent],mutator:function(t,n){var a=Object(C.g)(t.data.poll),r=Object(C.f)(a.status),o=n.channel&&n.channel.viewablePoll&&n.channel.viewablePoll.id===t.data.poll.poll_id;if(!r)return o?p(n,(function(e){return e.channel}),(function(e){return e.viewablePoll=null,e})):n;var s=t.type===f.PubsubMessageType.PollCreatedEvent,l=n.channel&&n.channel.viewablePoll&&n.channel.viewablePoll.id===t.data.poll.poll_id&&n.channel.viewablePoll.votes.total<=a.votes.total;return(s||l)&&(n=p(n,(function(e){return e.channel}),(function(e){return e.viewablePoll=Object(i.__assign)(Object(i.__assign)({},e.viewablePoll),a),e}))),s&&(n=e.user?p(n,(function(e){return e.channel.viewablePoll.self}),(function(e){return Object(i.__assign)(Object(i.__assign)({__typename:"PollSelfEdge"},e),{voter:null})})):p(n,(function(e){return e.channel.viewablePoll.self}),(function(){return null}))),n}}})),Object(h.a)((function(e){return{query:w,variables:{login:e.channelLogin},type:f.PubsubMessageType.UserBitsBalanceUpdate,skip:!(e.data&&e.data.channel&&e.data.currentUser&&e.data.currentUser.id&&e.channelLogin&&e.isPollsEnabled),topic:e.data&&e.data.currentUser?Object(v.R)(e.data.currentUser.id):"",mutator:function(e,t){return t&&e.message_type===k.b.Balance?(t.currentUser&&e.data&&(t=p(t,(function(e){return e.currentUser.bitsBalance}),(function(){return e.data.balance}))),t):t}}})))(I);var T=Object(o.d)(Object(s.a)(u,{skip:function(e){return!e.channelLogin||!Object(l.c)(m.a)},options:function(e){return{variables:{login:e.channelLogin}}}}),Object(r.b)((function(e){return{user:Object(d.e)(e)}}),(function(e){return Object(o.b)({showModal:c.e},e)})))((function(e){var t=!!(e.data&&e.data.channel&&e.data.channel.roles&&(e.data.channel.roles.isAffiliate||e.data.channel.roles.isPartner)),n=Object(l.c)(m.a)&&t;return a.createElement(M,Object(i.__assign)({isPollsEnabled:n},e))}));n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return _}))},P5MF:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_EmoteCard_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:176}};n.loc.source={body:"query Core_Services_Spade_EmoteCard_User($channelID: ID!) {\nuser(id: $channelID) {\nid\nhasPrime\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\ntier\npurchasedWithPrime\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Core_Services_Spade_EmoteCard_User=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Core_Services_Spade_EmoteCard_User")},P6kH:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return b}));var i,a=n("/7QA"),r=n("DMoW"),o=n("dGMd"),s="owl2019_emote_ids",l="OverwatchLeague",c="137512364",d="12658",u="324",m="300374283",p="139075904",h=5e8,f="Twitch",g="301696583";function v(e){return e.emote.subscriptionProduct?e.emote.subscriptionProduct.id===m?i.TwoFactor:e.emote.subscriptionProduct.id===d?i.Prime:e.emote.subscriptionProduct.id===u?i.Turbo:(t=e.emote.id,a.b.get(s,[]).includes(t)?i.OWL2019:e.emote.subscriptionProduct.owner&&e.emote.subscriptionProduct.owner.id?e.emote.subscriptionProduct.owner.id===p||e.emote.subscriptionProduct.state===r.pd.INACTIVE?i.LimitedTime:i.Subscription:i.Unavailable):e.emote.setID===o.a?i.ChannelPoints:e.emote.setID&&b(e.emote.setID)?i.BitsTier:e.emote.id===g?i.StreamAid:i.Global;var t}function b(e){return parseInt(e,10)>=h}!function(e){e[e.Unknown=0]="Unknown",e[e.Prime=1]="Prime",e[e.Turbo=2]="Turbo",e[e.OWL2019=3]="OWL2019",e[e.LimitedTime=4]="LimitedTime",e[e.StreamAid=5]="StreamAid",e[e.ChannelPoints=6]="ChannelPoints",e[e.Unavailable=7]="Unavailable",e[e.Subscription=8]="Subscription",e[e.BitsTier=9]="BitsTier",e[e.Global=10]="Global",e[e.TwoFactor=11]="TwoFactor"}(i||(i={}))},"PCM+":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("pVnL"),a=n.n(i),r=n("VbXa"),o=n.n(r),s=n("q1tI"),l=n("dEDE"),c=n("Ws8v"),d=n("yymn"),u=n("sUnt"),m=n("zTPm"),p=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){var e=this.props.size===m.b.Small?{fullWidth:!0,flexGrow:1,flexShrink:1}:{};return s.createElement(c.a,{display:d.g.Flex,alignItems:d.b.Center,justifyContent:d.l.Start,flexDirection:d.h.RowReverse,padding:this.props.padding},s.createElement(u.a,e,s.createElement(l.a,a()({type:l.d.Primary,fullWidth:!0},this.props.primaryButtonProps))),s.createElement(u.a,e,this.props.secondaryButtonProps&&s.createElement(u.a,{padding:{right:1}},s.createElement(l.a,a()({type:l.d.Secondary,fullWidth:!0},this.props.secondaryButtonProps)))))},t}(s.Component);p.displayName="ModalFooter",p.defaultProps={padding:{x:3,y:2}}},Q34B:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.LIVE="LIVE",e.VIDEO="VIDEO",e.COLLECTION="COLLECTION",e.CLIP="CLIP",e.NONE="NONE"}(i||(i={}))},Q94S:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return b})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return C}));var i=n("mrSG"),a=(n("cr+I"),n("+GjP")),r=n("vRsq"),o=n("2xye"),s=n("+aHn"),l=n("efpB"),c=n("Hz5m");function d(e){return e&&e.hosting&&e.hosting.stream&&e.hosting.stream.game&&e.hosting.stream.game.name}function u(e){return e&&e.hosting&&e.hosting.broadcastSettings&&e.hosting.broadcastSettings.language}function m(e){return e&&e.stream&&e.stream.game&&e.stream.game.name}function p(e){return e&&e.lastBroadcast&&e.lastBroadcast.game&&e.lastBroadcast.game.name}function h(e){return e&&e.broadcastSettings&&e.broadcastSettings.language}function f(e,t,n,a){var r=e&&e.login;return Object(i.__assign)(Object(i.__assign)({channel:r,channel_id:e&&e.id||null,game:m(e)||S(t)||w(n)||p(e),hosted_game:d(e),is_following:!(!e||!e.self||null===e.self.follower||null===e.self.follower.node),is_live:!!(e&&e.stream&&e.stream.id&&e.stream.id.length>0),language:u(e)||h(e)||y(t)||E(n)},function(e,t){var n=e&&e.id,i=t&&t.id;if(!n&&!i)return null;var a=null,r=null;e?a=e.broadcastType:i&&(r=o.SpadeVideoBroadcastType.Clip);r||(r=a?Object(s.a)(a):null);return{vod_type:r,vod_id:n||i}}(t,a)),Object(l.b)())}function g(e){return e.match.params.contentType===r.g.Clip&&e.match.params.contentID||null}function v(e){return e.match.params.videoID||e.match.params.contentType===r.g.Video&&e.match.params.contentID||null}function b(e){return e.match.params.contentType!==c.a.Video&&e.match.params.contentType!==c.a.Clip&&e.match.params.contentType!==c.a.Collection&&e.match.params.page!==c.c.Videos?null:Object(a.a)(e.location.search,"filter")}function k(e){return e.match.params.collectionID?e.match.params.collectionID:e.match.params.contentType===r.g.Collection&&e.match.params.contentID?e.match.params.contentID:Object(a.a)(e.location.search,"collection")||void 0}function y(e){return e&&e.language}function S(e){return e&&e.game&&e.game.name}function C(e){return e&&e.items&&e.items.edges&&e.items.edges[0]&&e.items.edges[0].node&&e.items.edges[0].node.id?e.items.edges[0].node:null}function E(e){var t=C(e);return t&&t.language}function w(e){var t=C(e);return t&&t.game&&t.game.name}},QY5S:function(e,t,n){},QZCf:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SplitLight_CreateHighlight"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateMultiVideoHighlightInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createMultiVideoHighlight"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"highlight"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:142}};n.loc.source={body:"mutation SplitLight_CreateHighlight($input: CreateMultiVideoHighlightInput!) {\ncreateMultiVideoHighlight(input: $input) {\nhighlight {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SplitLight_CreateHighlight=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SplitLight_CreateHighlight")},QdeI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("q1tI"),a=n("L5dg"),r=n("uOxs"),o=function(){return i.createElement(i.Fragment,null,i.createElement(r.a,{gutterSize:r.c.ExtraSmall,childWidth:r.b.Large,placeholderItems:20},i.createElement(a.a,null)))}},QfRJ:function(e,t,n){},R2Ti:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_AllowRejectedCheerMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AllowRejectedCheerInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowRejectedCheer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:118}};n.loc.source={body:"mutation Chat_AllowRejectedCheerMessage($input: AllowRejectedCheerInput!) {\nallowRejectedCheer(input: $input) {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_AllowRejectedCheerMessage=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_AllowRejectedCheerMessage")},R4sh:function(e,t,n){"use strict";function i(e){var t=[e[0],e[1],e[2]].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*t[0]+.7152*t[1]+.0722*t[2]}function a(e,t){var n=i(e)+.05,a=i(t)+.05;return n>a?n/a:a/n}n.d(t,"a",(function(){return a}))},RNNG:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return m}));var i=n("mrSG"),a=n("DpwM"),r=Number.MAX_VALUE,o=Number.MIN_VALUE,s=function(e){return Object(i.__assign)({commentCount:0,maxOffset:o,minOffset:r,parentComments:{},offsets:{},replies:{}},e)},l=function(e,t){var n=h(e);return t.forEach((function(e){var t,a=e.id,r=e.contentOffset,o=e.parentId;if(""===o){n.minOffset=Math.min(n.minOffset,r),n.maxOffset=Math.max(n.maxOffset,r),n.parentComments=Object(i.__assign)(Object(i.__assign)({},n.parentComments),((t={})[a]=e,t));var s=n.offsets[r];Array.isArray(s)?s.includes(a)||(n.offsets[r]=s.concat(a),n.commentCount++):(n.offsets[r]=[a],n.commentCount++)}else{var l=n.replies[o];if(Array.isArray(l)){var c=l.findIndex((function(t){return t.id===e.id}));-1!==c?l[c]=e:(n.replies[o]=l.concat(e),n.commentCount++)}else n.replies[o]=[e],n.commentCount++}})),n},c=function(e,t){if(t in e.parentComments)return e.parentComments[t]},d=function(e,t){var n=h(e);return Object(a.h)(t)?v(n,t.parentId,t.id):g(n,t.id)},u=function(e,t){if(e.commentCount<t||p(e))return e;for(var n=e;n.commentCount>t&&!p(e);)n=b(n,n.minOffset);return n},m=function(e,t){var n=h(e);return Object.keys(e.parentComments).forEach((function(i){var a=e.parentComments[i];t(a)||(n=g(n,a.id))})),Object.keys(e.replies).forEach((function(i){e.replies[i].forEach((function(e){t(e)||(n=v(n,e.id,e.parentId))}))})),n},p=function(e){return e.minOffset===e.maxOffset},h=function(e){return{commentCount:e.commentCount,maxOffset:e.maxOffset,minOffset:e.minOffset,offsets:f(e.offsets),parentComments:Object(i.__assign)({},e.parentComments),replies:Object(i.__assign)({},e.replies)}},f=function(e){return Object.keys(e).reduce((function(t,n){return t[Number(n)]=e[Number(n)].slice(),t}),{})},g=function(e,t){if(!(t in e.parentComments))return e;var n=e.parentComments[t].contentOffset,i=e.offsets[n],a=[];if(i&&(a=i.filter((function(e){return e!==t}))),e.offsets[n]=a,delete e.parentComments[t],e.commentCount--,t in e.replies){var r=e.replies[t].length;delete e.replies[t],e.commentCount-=r}return e},v=function(e,t,n){if(!(t in e.replies))return e;var i=e.replies[t].length,a=e.replies[t].filter((function(e){if(e.id!==n)return e}));e.replies[t]=a,0===a.length&&delete e.replies[t];var r=i-a.length;return e.commentCount-=r,e},b=function(e,t){return t>=e.minOffset&&t<=e.maxOffset&&!p(e)?(t in e.offsets&&e.offsets[t].forEach((function(t){e=g(e,t)})),delete e.offsets[t],e.maxOffset===t?e.maxOffset--:e.minOffset===t&&e.minOffset++,e):e}},ROQR:function(e,t,n){},RS58:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("1rIY"),o=n("B9yr"),s=Object(r.a)("ChatInputTrayContext",{setTray:function(e){return null},clearTray:function(){return null},setModifierTray:function(e){return null},clearModifierTray:function(){return null},setTrayError:function(e){return null},clearTrayError:function(){return null},tray:void 0,setAutocompleteInputRef:function(e){return null},setChatInputRef:function(e){return null},appendToTrayInput:function(e){return null}}),l=s.context,c=s.withContext,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={tray:void 0,prevPropsChannelLogin:t.props.channelLogin,baseInputValue:""},t.setTray=function(e){var n=t.state.baseInputValue;t.autocompleteInputRef&&!t.state.tray&&(n=t.autocompleteInputRef.getValue()),t.setState((function(){return{tray:e,baseInputValue:n,modifierTray:void 0}}),(function(){return t.setAutocompleteInputValue(e.inputValue||"",!0)}))},t.clearTray=function(){var e=t.state.baseInputValue;t.setState((function(){return{tray:void 0,modifierTray:void 0,baseInputValue:""}}),(function(){t.setAutocompleteInputValue(e)}))},t.setModifierTray=function(e){t.setState({modifierTray:e}),e.inputValue&&t.setAutocompleteInputValue(e.inputValue)},t.setTrayError=function(e){var n=t.state.tray;n&&(n.error=e,t.setState({tray:n}))},t.clearTrayError=function(){var e=t.state.tray;e&&(delete e.error,t.setState({tray:e}))},t.clearModifierTray=function(){t.setState({modifierTray:void 0})},t.setAutocompleteInputRef=function(e){t.autocompleteInputRef=e},t.setChatInputRef=function(e){t.chatInputRef=e},t.appendToTrayInput=function(e){if(t.autocompleteInputRef){var n=t.autocompleteInputRef.getValue();t.autocompleteInputRef.setValue(Object(o.a)(n,e))}},t}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"tray",{get:function(){return this.state.modifierTray?this.state.modifierTray:this.state.tray},enumerable:!0,configurable:!0}),t.getDerivedStateFromProps=function(e,t){return e.channelLogin!==t.prevPropsChannelLogin?{prevPropsChannelLogin:e.channelLogin,tray:void 0,modifierTray:void 0,baseInputValue:""}:null},t.prototype.render=function(){return a.createElement(l.Provider,{value:{tray:this.tray,setTray:this.setTray,clearTray:this.clearTray,setModifierTray:this.setModifierTray,clearModifierTray:this.clearModifierTray,setAutocompleteInputRef:this.setAutocompleteInputRef,setChatInputRef:this.setChatInputRef,setTrayError:this.setTrayError,clearTrayError:this.clearTrayError,appendToTrayInput:this.appendToTrayInput}},this.props.children)},t.prototype.setAutocompleteInputValue=function(e,t){this.autocompleteInputRef&&(this.autocompleteInputRef.setValue(e),this.chatInputRef&&t&&this.chatInputRef.focus())},t}(a.Component);n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}))},RTtf:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"channelVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scope"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"126"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"71"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"138"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"190"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channel"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"language"},arguments:[],directives:[]}]}}],loc:{start:0,end:291}};i.loc.source={body:'#import "twilight/features/channel/queries/channel.gql"\nfragment channelVideo on Video {\nid\nbroadcastType\ntitle\ndescription\nlengthSeconds\npublishedAt\nviewCount\nscope\npreviewThumbnailURL(width: 126 height: 71)\ngame {\nid\nboxArtURL(width: 138 height: 190)\nname\n}\nowner {\n...channel\n}\nlanguage\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("BbLt").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},RWz3:function(e,t,n){},Ro6I:function(e,t,n){},RtvB:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPage_ChannelVideoCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthorized"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restrictionType"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:158}};n.loc.source={body:"query ChannelPage_ChannelVideoCount($login: String!) {\nuser(login: $login) {\nid\nchannel {\nid\nself {\nisAuthorized\nrestrictionType\n}\n}\nvideos {\ntotalCount\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPage_ChannelVideoCount=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPage_ChannelVideoCount")},"S+L1":function(e,t,n){},S4w9:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserEmotes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOwner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeEmoteModifiers"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modifiers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeEmoteModifiers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOwner"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:290}};n.loc.source={body:"query UserEmotes(\n$withOwner: Boolean!\n$includeEmoteModifiers: Boolean = false\n) {\ncurrentUser {\nid\nemoteSets {\nid\nemotes {\nid\nsetID\ntoken\nmodifiers @include(if: $includeEmoteModifiers) {\ncode\nname\n}\n}\nowner @include(if: $withOwner) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 28)\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UserEmotes=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UserEmotes")},S58p:function(e,t,n){},SCHm:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPoints_Icon"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"pointCustomizationFragment"},directives:[]}]}}]}}],loc:{start:0,end:213}};i.loc.source={body:'#import "twilight/features/community-points/models/point-customization-fragment.gql"\nquery CommunityPoints_Icon($channelLogin: String!) {\ncommunity: user(login:$channelLogin) {\nid\n...pointCustomizationFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("XBQy").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.CommunityPoints_Icon=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"CommunityPoints_Icon")},SHP0:function(e,t,n){},"SHn+":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("sUnt"),o=n("yymn"),s=n("Ws8v"),l=n("+80q"),c=n("Jsra"),d=n("vCsY"),u=function(e){return a.createElement(r.a,{display:o.g.Flex,alignItems:e.alignItems||o.b.Center},a.createElement(r.a,{margin:{right:.5}},a.createElement(s.a,{display:o.g.Flex,alignItems:o.b.Center},a.createElement(l.a,{fontSize:o.j.Size5,"data-test-selector":"labeled-text-label"},e.label))),a.createElement(l.a,{fontSize:o.j.Size5,ellipsis:!0},a.createElement(c.a,Object(i.__assign)({linkTo:e.linkTo},Object(d.a)(e),{targetBlank:e.targetBlank,"data-test-selector":"labeled-link-title"}),e.title)))};n.d(t,"a",(function(){return u}))},SSXq:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("3yfl");function a(e,t){var n;void 0===t&&(t="www"),n=t;var a="https://"+(t=Object(i.b)(n)?n:"www")+".twitch.tv",r=window.location,o=r.hostname,s=r.origin;if(o.endsWith(".twitch.tech")){var l=o.substr(0,o.length-".twitch.tech".length),c=l,d=l.indexOf("-");d>=0&&Object(i.b)(l.substr(0,d))&&(c=l.substr(d+1)),a="www"===t?"https://"+c+".twitch.tech":"https://"+t+"-"+c+".twitch.tech"}var u=new URL(e,a),m=u.origin,p=u.href;return m===s?p.substr(s.length):p}},SUI5:function(e,t,n){"use strict";var i,a=n("/MKj"),r=n("ANjH"),o=n("yR8l"),s=n("XDCx"),l=n("JXcx"),c=n("mrSG"),d=n("q1tI"),u=n("/7QA"),m=n("atdg"),p=n("wUQP"),h=n("geRD"),f=n("DMoW"),g=n("/7Tk"),v=n("nAiT"),b=n("NxUI"),k=n("sUnt"),y=n("akKH"),S=n("3aAs"),C=n("DY5q"),E=n("yymn"),w=n("zTPm"),O=n("76Xh"),D=n("jqPd"),N=n("PCM+"),_=n("dEDE"),I=n("jzo8"),M=n("0nsv"),T=n("wp5a"),j=n("Ws8v"),P="hasDismissedChannelPointsPollCallout",L=function(e){function t(t){var n=e.call(this,t)||this;return n.hideBanner=function(){n.setState({isHidden:!0}),n.props.onDismiss()},n.state={isHidden:u.m.get(P+"_"+n.props.channelID,!1)},n}return Object(c.__extends)(t,e),t.prototype.render=function(){return this.state.isHidden?null:d.createElement(k.a,{margin:{bottom:1}},d.createElement(I.a,null,{message:d.createElement(M.a,{pill:{label:Object(u.d)("New!","NewPollModal--CopoCallout"),type:T.b.Brand},title:Object(u.d)("Channel Points Now Available in Polls!","NewPollModal--CopoCallout"),description:d.createElement(j.a,{margin:{top:.5},color:E.f.Alt2},Object(u.d)("Give your viewers the ability to vote in Polls using their Channel Points by updating the settings below.","NewPollModal--CopoCallout"))}),closeButton:{ariaLabel:Object(u.d)("Close","NewPollModal--CopoCallout"),onClick:this.hideBanner}}))},t}(d.Component),R=n("A4KW"),F=n("kqSx"),A=n("IbuL"),x=n("C7sF"),U=n("+80q");!function(e){e.AdditionalVoting="poll-settings_additional-voting",e.BitsVoting="poll-settings_bits-voting",e.ChannelPointsVoting="poll-settings_channel-points-voting",e.SubscriberOptions="poll-settings_subscriber-options",e.ServiceError="poll-settings_service-error"}(i||(i={}));var B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getSettingsHeader=function(){return Object(u.d)("Settings","Polls--NewPollModal")},t}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.bitsEnabled,n=e.channelPointsEnabled;return Object(p.c)("copo_polls")?d.createElement(k.a,{margin:{bottom:1}},d.createElement(y.a,{label:this.getSettingsHeader()},(t||n)&&d.createElement(k.a,{margin:{bottom:1}},d.createElement(F.a,{label:Object(u.d)("Allow Additional Votes","Polls--PollSettings"),checked:this.props.allowAdditionalVoting,onChange:this.props.onAllowAdditionalVotingChange,"data-test-selector":i.AdditionalVoting})),t&&d.createElement(k.a,{margin:{bottom:1,left:2}},d.createElement(y.a,{label:"",error:this.props.allowVotingWithBits&&!!this.props.bitsPerVoteError,errorMessage:this.props.bitsPerVoteError,"data-test-selector":i.BitsVoting},d.createElement(k.a,{display:E.g.Flex,flexDirection:E.h.Row,alignItems:E.b.Center},d.createElement(k.a,{margin:{left:.5,right:1}},d.createElement(F.a,{label:"",checked:this.props.allowVotingWithBits,onChange:this.props.onAllowVotingWithBitsChange})),d.createElement(S.a,{type:S.c.Number,disabled:!this.props.allowVotingWithBits,onChange:this.props.onBitsPerVoteChange,value:void 0!==this.props.bitsPerVote?String(this.props.bitsPerVote):"",maxLength:60,max:1e4,min:1,error:this.props.allowVotingWithBits&&!!this.props.bitsPerVoteError}),d.createElement(k.a,{display:E.g.Flex,margin:{left:1,right:.5}},d.createElement(A.a,{asset:x.a.Bits})),d.createElement(U.a,null,Object(u.d)("Bits per Vote","Polls--PollSettings"))))),n&&d.createElement(k.a,{margin:{bottom:1,left:2}},d.createElement(y.a,{label:"",error:this.props.allowVotingWithChannelPoints&&!!this.props.channelPointsPerVoteError,errorMessage:this.props.channelPointsPerVoteError,"data-test-selector":i.ChannelPointsVoting},d.createElement(k.a,{display:E.g.Flex,flexDirection:E.h.Row,alignItems:E.b.Center},d.createElement(k.a,{margin:{left:.5,right:1}},d.createElement(F.a,{label:"",checked:this.props.allowVotingWithChannelPoints,onChange:this.props.onAllowVotingWithChannelPointsChange})),d.createElement(S.a,{type:S.c.Number,disabled:!this.props.allowVotingWithChannelPoints,onChange:this.props.onChannelPointsPerVoteChange,value:void 0!==this.props.channelPointsPerVote?String(this.props.channelPointsPerVote):"",max:1e4,maxLength:60,min:1,error:this.props.allowVotingWithChannelPoints&&!!this.props.channelPointsPerVoteError}),d.createElement(k.a,{margin:{left:1,right:.5}},d.createElement(R.b,{channelLogin:this.props.channelLogin})),d.createElement(U.a,null,Object(u.d)("{pointName} per Vote",{pointName:this.props.pointsName},"Polls--PollSettings"))))))):d.createElement(k.a,{margin:{bottom:1}},d.createElement(y.a,{label:this.getSettingsHeader(),error:!!this.props.bitsPerVoteError,errorMessage:this.props.bitsPerVoteError},t&&d.createElement(k.a,{margin:{bottom:1}},d.createElement(F.a,{label:Object(u.d)("Allow Voting with Bits","Polls--NewPollModal"),checked:this.props.allowVotingWithBits,onChange:this.props.onAllowVotingWithBitsChange})),t&&d.createElement(k.a,{margin:{bottom:1,left:1},display:E.g.Flex,flexDirection:E.h.Row,alignItems:E.b.Center},d.createElement(S.a,{type:S.c.Number,disabled:!this.props.allowVotingWithBits,onChange:this.props.onBitsPerVoteChange,value:void 0!==this.props.bitsPerVote?String(this.props.bitsPerVote):"",maxLength:60,max:1e4,min:1}),d.createElement(k.a,{margin:{left:.5,right:.5}},d.createElement(A.a,{asset:x.a.Bits})),d.createElement(U.a,null,Object(u.d)("per Vote","Polls--NewPollModal"))),d.createElement(k.a,{"data-test-selector":i.SubscriberOptions},d.createElement(k.a,{margin:{bottom:1}},d.createElement(F.a,{label:Object(u.d)("Subscriber Votes Count 2x","Polls--NewPollModal"),checked:this.props.subscriberMultiplier,onChange:this.props.onSubscriberMultiplierChange})),d.createElement(k.a,{margin:{bottom:1}},d.createElement(F.a,{label:Object(u.d)("Subscriber Only","NewPollModal"),checked:this.props.subscriberOnly,onChange:this.props.onSubscriberOnlyChange})))))},t}(d.Component),V=(n("mziE"),1e4),H=1e6,G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={pendingCreation:!1,showCreationErrorBox:!1,errorCode:"",titleError:!1,title:"",choices:["","","","",""],choicesError:!1,allowAdditionalVoting:!1,allowVotingWithBits:!1,bitsPerVote:10,bitsPerVoteError:"",allowVotingWithChannelPoints:!1,channelPointsPerVote:200,channelPointsPerVoteError:"",subscriberOnly:!1,subscriberMultiplier:!1,durationMinutes:1},t.renderCallout=function(){var e,n,i,a,r,o=!!(null===(i=null===(n=null===(e=t.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.communityPointsSettings)||void 0===i?void 0:i.isEnabled),s=!!(null===(r=null===(a=t.props.data.channel)||void 0===a?void 0:a.latestPoll)||void 0===r?void 0:r.settings.communityPointsVotes.isEnabled);return!o||s?null:d.createElement(L,{onDismiss:t.dismissCallout,channelID:t.props.channelID})},t.dismissCallout=function(){u.m.set(P+"_"+t.props.channelID,!0)},t.renderTitle=function(){return d.createElement(k.a,{margin:{bottom:1}},d.createElement(y.a,{label:Object(u.d)("Question","Polls--NewPollModal"),error:t.state.titleError,errorMessage:Object(u.d)("* You must provide a question","Polls--NewPollModal")},d.createElement(S.a,{type:S.c.Text,value:t.state.title,onChange:t.onQuestionChange,maxLength:60,error:t.state.titleError})))},t.renderChoices=function(){return d.createElement(k.a,{margin:{bottom:1}},d.createElement(y.a,{label:Object(u.d)("Responses (Minimum 2)","Polls--NewPollModal"),error:t.state.choicesError,errorMessage:Object(u.d)("* You must provide at least two choices","Polls--NewPollModal")},d.createElement(k.a,{margin:{bottom:1}},d.createElement(S.a,{type:S.c.Text,onChange:t.onResponseChanged.bind(t,0),maxLength:25})),d.createElement(k.a,{margin:{bottom:1}},d.createElement(S.a,{type:S.c.Text,onChange:t.onResponseChanged.bind(t,1),maxLength:25})),d.createElement(k.a,{margin:{bottom:1}},d.createElement(S.a,{type:S.c.Text,onChange:t.onResponseChanged.bind(t,2),maxLength:25})),d.createElement(k.a,{margin:{bottom:1}},d.createElement(S.a,{type:S.c.Text,onChange:t.onResponseChanged.bind(t,3),maxLength:25})),d.createElement(k.a,{margin:{bottom:1}},d.createElement(S.a,{type:S.c.Text,onChange:t.onResponseChanged.bind(t,4),maxLength:25}))))},t.renderSettings=function(){var e,n,i=t.props.data,a=i.community,r=i.channel,o=!(!r||!r.cheer),s=!!(null===(n=null===(e=null==a?void 0:a.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===n?void 0:n.isEnabled);return d.createElement(B,{channelLogin:t.props.channelLogin,pointsName:t.getPointsName(),bitsEnabled:o,channelPointsEnabled:s,allowAdditionalVoting:t.state.allowAdditionalVoting,onAllowAdditionalVotingChange:t.onAllowAdditionalVotingChange,allowVotingWithBits:t.state.allowVotingWithBits,onAllowVotingWithBitsChange:t.onAllowVotingWithBitsChange,onBitsPerVoteChange:t.onBitsPerVoteChange,bitsPerVote:t.state.bitsPerVote,bitsPerVoteError:t.state.bitsPerVoteError,allowVotingWithChannelPoints:t.state.allowVotingWithChannelPoints,onAllowVotingWithChannelPointsChange:t.onAllowVotingWithChannelPointsChange,onChannelPointsPerVoteChange:t.onChannelPointsPerVoteChange,channelPointsPerVote:t.state.channelPointsPerVote,channelPointsPerVoteError:t.state.channelPointsPerVoteError,subscriberOnly:t.state.subscriberOnly,onSubscriberOnlyChange:t.onSubscriberOnlyChange,subscriberMultiplier:t.state.subscriberMultiplier,onSubscriberMultiplierChange:t.onSubscriberMultiplierChange})},t.renderDurationPicker=function(){return d.createElement(k.a,{margin:{bottom:1}},d.createElement(y.a,{label:Object(u.d)("Duration","Polls--NewPollModal")},d.createElement(C.a,{value:String(t.state.durationMinutes),onChange:t.onDurationSelectionChange},d.createElement("option",{value:"1"},Object(u.d)("1m","Polls--NewPollModal")),d.createElement("option",{value:"2"},Object(u.d)("2m","Polls--NewPollModal")),d.createElement("option",{value:"3"},Object(u.d)("3m","Polls--NewPollModal")),d.createElement("option",{value:"5"},Object(u.d)("5m","Polls--NewPollModal")),d.createElement("option",{value:"10"},Object(u.d)("10m","Polls--NewPollModal")))))},t.getPointsName=function(){var e,n,i;return(null===(i=null===(n=null===(e=t.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.communityPointsSettings)||void 0===i?void 0:i.name)||Object(v.a)()},t.closeErrorMessage=function(){t.setState({showCreationErrorBox:!1})},t.onStartPoll=function(){return Object(c.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i;return Object(c.__generator)(this,(function(a){switch(a.label){case 0:if(!this.checkInputs())return[2];this.setState({pendingCreation:!0}),e=[],this.state.choices.forEach((function(t){if(""!==t){var n={title:t};e.push(n)}})),t=this.state.subscriberOnly,n=this.state.subscriberMultiplier,Object(p.c)("copo_polls")&&(t=!1,n=!1),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.props.createPoll(Object(h.a)({bitsCost:this.state.bitsPerVote,bitsVoting:this.state.allowVotingWithBits,communityPointsCost:this.state.channelPointsPerVote,isCommunityPointsVotingEnabled:this.state.allowVotingWithChannelPoints,durationSeconds:60*this.state.durationMinutes,ownedBy:this.props.channelID,subscriberOnly:t,subscriberMultiplier:n,multichoiceEnabled:!0,title:this.state.title,choices:e}))];case 2:return!(i=a.sent()).data.createPoll||i.data.createPoll.error?(this.setState({showCreationErrorBox:!0,pendingCreation:!1,errorCode:i.data.createPoll&&i.data.createPoll.error?i.data.createPoll.error.code:""}),[2]):(this.props.closeModal(),this.dismissCallout(),this.props.onPollCreated&&this.props.onPollCreated(),[3,4]);case 3:return a.sent(),this.setState({showCreationErrorBox:!0,pendingCreation:!1}),[3,4];case 4:return[2]}}))}))},t.checkInputs=function(){var e=!0;""===t.state.title&&(t.setState({titleError:!0}),e=!1);var n=0;if(t.state.choices.forEach((function(e){""!==e&&n++})),n<2&&(t.setState({choicesError:!0}),e=!1),t.state.allowVotingWithChannelPoints){var i=t.state.channelPointsPerVote||0,a=t.checkChannelPointsInput(i);a&&(t.setState({channelPointsPerVoteError:a}),e=!1)}if(t.state.allowVotingWithBits){var r=t.state.bitsPerVote||0,o=t.checkBitsInput(r);o&&(t.setState({bitsPerVoteError:o}),e=!1)}return e},t.onClose=function(){t.props.closeModal()},t.onQuestionChange=function(e){t.setState({title:e.target.value,titleError:""===e.target.value})},t.onBitsPerVoteChange=function(e){var n=parseInt(e.target.value||"0",10),i=t.checkBitsInput(n);t.setState({bitsPerVote:n,bitsPerVoteError:i})},t.checkBitsInput=function(e){var t="";return e>V?t=Object(u.d)("The maximum Bits per vote is {bits}",{bits:Object(u.f)(V)},"Polls--NewPollModal"):e<=0&&(t=Object(u.d)("The cost per vote must be at least 1 Bits.","Polls--NewPollModal")),t},t.onChannelPointsPerVoteChange=function(e){var n=parseInt(e.target.value||"0",10),i=t.checkChannelPointsInput(n);t.setState({channelPointsPerVote:n,channelPointsPerVoteError:i})},t.checkChannelPointsInput=function(e){var n,i,a,r="";return e>H?r=Object(u.d)("The maximum {pointName} per vote is {points}.",{pointName:t.getPointsName(),points:Object(u.f)(H)},"Polls--NewPollModal"):e<=0&&(r=Object(u.d)("The cost per vote must be at least 1 {pointName}.",{pointName:(null===(a=null===(i=null===(n=t.props.data.community)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.communityPointsSettings)||void 0===a?void 0:a.name)||Object(u.d)("Channel Point","Polls--NewPollModa")},"Polls--NewPollModal")),r},t.onResponseChanged=function(e,n){var i=n.target.value;t.setState((function(t){var n=t.choices.slice(0);return n[e]=i,{choices:n}}))},t.onAllowVotingWithBitsChange=function(e){var n=e.currentTarget.checked,i=n||t.state.allowVotingWithChannelPoints;t.setState({allowVotingWithBits:n,allowAdditionalVoting:i})},t.onAllowVotingWithChannelPointsChange=function(e){var n=e.currentTarget.checked,i=n||t.state.allowVotingWithBits;t.setState({allowVotingWithChannelPoints:n,allowAdditionalVoting:i})},t.onAllowAdditionalVotingChange=function(e){t.setState({allowAdditionalVoting:e.currentTarget.checked,allowVotingWithBits:e.currentTarget.checked,allowVotingWithChannelPoints:e.currentTarget.checked})},t.onSubscriberMultiplierChange=function(e){t.setState({subscriberMultiplier:e.currentTarget.checked})},t.onSubscriberOnlyChange=function(e){t.setState({subscriberOnly:e.currentTarget.checked})},t.onDurationSelectionChange=function(e){var n=parseInt(e.currentTarget.value,10);t.setState({durationMinutes:n})},t.setPreferences=function(){if(t.props.data.channel&&t.props.data.channel.latestPoll){var e=t.props.data.channel.latestPoll,n=Math.round(e.durationSeconds/60);t.setState({allowAdditionalVoting:e.settings.bitsVotes.isEnabled||e.settings.communityPointsVotes.isEnabled,allowVotingWithBits:e.settings.bitsVotes.isEnabled,bitsPerVote:e.settings.bitsVotes.cost||void 0,allowVotingWithChannelPoints:e.settings.communityPointsVotes.isEnabled,channelPointsPerVote:e.settings.communityPointsVotes.cost||void 0,subscriberOnly:e.settings.subscriberOnly.isEnabled,subscriberMultiplier:e.settings.subscriberMultiplier.isEnabled,durationMinutes:n})}},t.getErrorMessage=function(){var e=Object(u.d)("Service Error","Polls--NewPollModal");switch(t.state.errorCode){case f.jb.AUTOMOD_FAILED:e=Object(u.d)("Content does not meet guidelines","Polls--NewPollModal");break;case f.jb.POLL_ALREADY_ACTIVE:e=Object(u.d)("A poll is already active","Polls--NewPollModal")}return e},t}return Object(c.__extends)(t,e),t.prototype.componentDidUpdate=function(e){e.data.loading&&!this.props.data.loading&&this.setPreferences()},t.prototype.componentDidMount=function(){this.props.data.loading||this.setPreferences()},t.prototype.render=function(){if(this.props.data.loading)return d.createElement(g.a,null);var e=Object(u.d)("Start Poll","Polls--NewPollModal"),t=Object(u.d)("Cancel","Polls--NewPollModal");return d.createElement(k.a,{display:E.g.Flex,justifyContent:E.l.Center,className:"new-poll-modal"},d.createElement(w.a,{size:w.b.Medium},d.createElement(O.a,{id:m.a,title:Object(u.d)("Create a New Poll","Polls--NewPollModal"),closeButton:{ariaLabel:Object(u.d)("Close","Polls--NewPollModal"),onClick:this.onClose}}),d.createElement(D.a,{padding:{x:4,bottom:1,top:1}},d.createElement(k.a,{display:E.g.Flex,flexDirection:E.h.Column},this.renderCallout(),this.renderTitle(),this.renderChoices(),this.renderSettings(),this.renderDurationPicker(),this.state.showCreationErrorBox&&d.createElement(b.a,{message:this.getErrorMessage(),onClose:this.closeErrorMessage,showTryAgain:""===this.state.errorCode||this.state.errorCode===f.jb.UNKNOWN}))),d.createElement(N.a,{primaryButtonProps:{ariaLabel:e,children:e,onClick:this.onStartPoll,state:this.state.pendingCreation?_.c.Loading:_.c.Default},secondaryButtonProps:{ariaLabel:t,children:t,onClick:this.props.closeModal},padding:{x:3,bottom:2}})))},t}(d.Component),q=n("MQZ3");n.d(t,"a",(function(){return W}));var W=Object(r.d)(Object(a.b)(null,(function(e){return Object(r.b)({closeModal:s.d},e)})),Object(o.a)(l,{name:"createPoll"}),Object(o.a)(q,{options:function(e){return{variables:{id:e.channelID}}}}))(G)},SaoI:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkGemNotificationAsChecked"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CheckGemNotificationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkGemNotification"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedNotification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isChecked"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:182}};n.loc.source={body:"mutation MarkGemNotificationAsChecked($input: CheckGemNotificationInput!) {\ncheckGemNotification(input: $input) {\nupdatedNotification {\nid\ntitle\ndescription\ncreatedAt\nisChecked\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.MarkGemNotificationAsChecked=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"MarkGemNotificationAsChecked")},SceP:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsChatCard_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:151}};n.loc.source={body:"query ClipsChatCard_Clip($slug: ID!) {\nclip(slug: $slug) {\nid\nthumbnailURL\ntitle\nslug\nurl\ncurator {\nid\ndisplayName\n}\nbroadcaster {\nid\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsChatCard_Clip=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsChatCard_Clip")},Sfdh:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("4rCz");function a(){return{messageCreatedTooQuickError:Object(i.d)("Your message was not sent because you are sending messages too quickly.","format-error-messages"),chatReplayFilterError:Object(i.d)("Your message has been posted. However, other messages posted after the live stream are hidden.","format-error-messages")}}},SyZi:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("q1tI"),a=n("ZGDZ"),r=n("XIEs"),o=n("nAiT"),s=n("7uM4"),l=n("C7sF"),c=n("uG/k"),d=n("sUnt"),u=n("ALJo"),m=(n("e9QR"),{"channel-points-icon--small":12,"channel-points-icon--medium":20,"channel-points-icon--large":50}),p=function(e){var t=e.iconSize||u.a.Medium,n=m[t],a=i.createElement(s.a,{asset:l.a.ChannelPoints,width:n,height:n});if(e.image){var p=h(n,e.image);a=i.createElement(c.a,{className:"channel-points-icon__image",alt:e.name||Object(o.a)(),src:p,srcSet:p===e.image.url?Object(r.a)(e.image):void 0})}return i.createElement(d.a,{className:"channel-points-icon "+t},a)},h=function(e,t){return e<=a.a.SMALL?t.url:e<=a.a.MEDIUM?t.url2x:e<=a.a.LARGE?t.url4x:t.url}},T7Bf:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Drops_ChannelDrops_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLoggedIn"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastBroadcast"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLoggedIn"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDropsLinked"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"activeDropCampaigns"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"connectionURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"applicableChannels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isAvailableToAllChannels"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isStreamDropsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:330}};n.loc.source={body:"query Drops_ChannelDrops_User($login: String! $isLoggedIn: Boolean!) {\nuser(login: $login) {\nid\nlogin\ndisplayName\nlastBroadcast {\nid\ngame {\nid\nself @include(if: $isLoggedIn) {\nisDropsLinked\n}\nactiveDropCampaigns{\nid\nconnectionURL\napplicableChannels {\nid\n}\nisAvailableToAllChannels\n}\n}\n}\nstream {\nid\nisStreamDropsEnabled\ntype\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Drops_ChannelDrops_User=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Drops_ChannelDrops_User")},T84l:function(e,t,n){},TApp:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ZtEv"),a=n("aF6k");function r(e){return{type:i.b.Info,id:Object(a.a)("info"),message:e}}},Tqc9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o}));var i="@",a="Enter",r="Escape",o=" "},TqpA:function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("TSYQ"),o=n("q1tI"),s=n("4rCz"),l=n("sUnt"),c=n("yymn"),d=n("7d/q"),u=n("C7sF"),m=n("Ws8v");n("OCTF");!function(e){e.CloseButton="bits-card-wrapper-close-button-selector",e.OuterWrapper="bits-card-wrapper-outer-selector",e.InnerWrapper="bits-card-wrapper-inner-selector"}(i||(i={}));var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.onUserClose,n=e.children,a=e.className,p=e.dataATarget,h=e.closeDataATarget,f=t?o.createElement(l.a,{position:c.n.Absolute,padding:{top:.5,right:.5},attachRight:!0,attachTop:!0,zIndex:c.s.Above},o.createElement(d.a,{ariaLabel:Object(s.d)("close bits card","BitsCard"),"data-a-target":h,"data-test-selector":i.CloseButton,onClick:t,icon:u.a.Close,type:d.c.Secondary,size:d.b.Small})):null;return o.createElement(m.a,{"data-test-selector":i.OuterWrapper,className:r("bits-card-wrapper",a),"data-a-target":p,display:c.g.Flex,flexDirection:c.h.Column,position:c.n.Absolute,background:c.d.Base,borderRadius:c.e.Large,elevation:3,zIndex:c.s.Above,fullWidth:!0},f,o.createElement(l.a,{"data-test-selector":i.InnerWrapper,display:c.g.Flex,flexDirection:c.h.Column,alignItems:c.b.Center,justifyContent:c.l.Center,flexGrow:1,fullWidth:!0},n))},t.defaultProps={dataATarget:"bits-card",closeDataATarget:"bits-card-close-button"},t}(o.PureComponent);n.d(t,"a",(function(){return p}))},Tznh:function(e,t,n){"use strict";var i,a,r=n("mrSG"),o=n("q1tI"),s=n("/MKj"),l=n("ANjH"),c=n("/7QA"),d=n("yR8l"),u=n("D7An"),m=n("kRBY"),p=n("1rIY"),h=n("+pBb"),f=n("CbHG");!function(e){e.Excluded="control",e.OptIn="opt-in",e.OptOut="opt-out"}(i||(i={})),function(e){e.FilteredMessage="chat_filter_message",e.Onboarding="onboarding",e.Other="other"}(a||(a={}));var g=Object(p.a)("ChatFilterContext",{chatFilterExperimentMembership:i.Excluded,chatFilterSettingsSource:a.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:function(){return null},showChatFilterSettings:function(){return null}}),v=g.context,b=g.withContext,k=function(e){function t(n){var r=e.call(this,n)||this;return r.hideChatFilterSettings=function(){r.setState({isShowingChatFilterSettings:!1})},r.showChatFilterSettings=function(e){r.setState({chatFilterSettingsSource:e||a.Other,isShowingChatFilterSettings:!0})},r.triggerPropCallbacks=function(){switch(t.getExperimentMembership(r.props)){case i.OptIn:void 0===r.props.viewerChatFilterEnabled&&r.props.disableViewerChatFilter(a.Other);break;case i.OptOut:void 0===r.props.viewerChatFilterEnabled&&r.props.enableViewerChatFilter(a.Other);break;case i.Excluded:}},r.state={chatFilterExperimentMembership:i.Excluded,chatFilterSettingsSource:a.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:r.hideChatFilterSettings,showChatFilterSettings:r.showChatFilterSettings},t.assignmentForNewUsers=c.p.experiments.getAndTrackAssignment(u.c.ChatFiltersNewUsers),t.assignmentForOldUsers=c.p.experiments.getAndTrackAssignment(u.c.ChatFiltersExistingUsers),r}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e){switch(t.getExperimentMembership(e)){case i.OptIn:return{chatFilterExperimentMembership:i.OptIn};case i.OptOut:return{chatFilterExperimentMembership:i.OptOut};case i.Excluded:default:return{chatFilterExperimentMembership:i.Excluded}}},t.getExperimentMembership=function(e){if("off"===c.b.get("chat_filter_enabled","off"))return i.Excluded;if(!e.isLoggedIn||"en"!==e.languageCode)return i.Excluded;if(e.data&&e.data.currentUser&&e.data.currentUser.createdAt){var n=c.b.get("chat_filter_start","3000-01-01"),a=new Date(e.data.currentUser.createdAt)>=new Date(n)?t.assignmentForNewUsers:t.assignmentForOldUsers;switch(a){case i.Excluded:case i.OptIn:case i.OptOut:return a;default:return i.Excluded}}return i.Excluded},t.prototype.componentDidMount=function(){this.triggerPropCallbacks()},t.prototype.componentDidUpdate=function(){this.triggerPropCallbacks()},t.prototype.render=function(){return o.createElement(v.Provider,{value:this.state},this.props.children)},t}(o.Component);var y=Object(l.d)(Object(s.b)((function(e){return{isLoggedIn:Object(m.f)(e),languageCode:Object(m.b)(e),viewerChatFilterEnabled:e.chat.viewerChatFilterEnabled}}),(function(e){return Object(l.b)({disableViewerChatFilter:h.F,enableViewerChatFilter:h.K},e)})),Object(d.a)(f,{skip:function(e){return!e.isLoggedIn||"en"!==e.languageCode}}))(k);n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return y}))},U1zV:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("fNzW"),s=n("vCsY"),l=n("IbuL"),c=n("sUnt"),d=n("yymn"),u=n("b7S+"),m=(n("8gBY"),function(e){var t;e.icon&&(t=r.createElement(l.a,{fill:!0,asset:e.icon}));var n=r.createElement(c.a,a()({display:d.g.InlineFlex,alignItems:d.b.Center,className:Object(o.a)({"tw-stat":!0})},Object(s.a)(e)),r.createElement(c.a,{display:d.g.InlineFlex,alignItems:d.b.Center,className:"tw-stat__icon"},t),r.createElement(c.a,{margin:{left:.5},className:"tw-stat__value","data-a-target":"tw-stat-value"},e.value));return e.label?r.createElement(u.a,{direction:e.tooltipDirection?e.tooltipDirection:u.c.Bottom,align:e.tooltipAlign?e.tooltipAlign:u.b.Center,label:e.label},n):n});m.displayName="Stat"},UBeo:function(e,t,n){"use strict";var i=n("mrSG"),a=n("w09P"),r=n("q1tI"),o=n("/MKj"),s=n("ANjH"),l=n("/7QA"),c=n("yR8l"),d=n("4ilF"),u=n("geRD"),m=n("DMoW"),p=n("kRBY"),h=n("1rIY"),f=n("Ohqu"),g=n("pMvt"),v="chatPauseSetting",b=Object(h.a)("ChatPauseSettingContext",{setValue:function(){return null},value:void 0}),k=b.context,y=b.withContext,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={value:t.constructor.localValue()},t.setValue=function(e){if(t.props.isLoggedIn){var n=Object(i.__assign)(Object(i.__assign)({},Object(u.a)({chatPauseSetting:e})),{optimisticResponse:{setChatPauseSetting:{__typename:"SetChatPauseSettingPayload",chatPauseSetting:e}},update:function(t){var n;try{n=t.readQuery({query:g})}catch(e){return}if(n&&n.currentUser&&n.currentUser.chatUISettings){var i=a(n,(function(e){return e.currentUser.chatUISettings.chatPauseSetting}),(function(){return e}));t.writeQuery({query:g,data:i})}}}),r=t.state.value;t.setState({value:e}),l.m.set(v,e),t.props.setChatPauseSetting(n).catch((function(){r&&(l.m.set(v,r),t.setState({value:r}))}))}},t}return Object(i.__extends)(t,e),t.localValue=function(){return l.m.get(v,void 0)},t.remoteValue=function(e){return e.data&&e.data.currentUser&&e.data.currentUser.chatUISettings&&e.data.currentUser.chatUISettings.chatPauseSetting},t.getDeferredStateFromProps=function(e){return{value:this.remoteValue(e)||this.localValue()}},t.prototype.render=function(){return r.createElement(k.Provider,{value:{setValue:this.setValue,value:this.value}},this.props.children)},t.prototype.componentDidUpdate=function(e){var t=this.props.data,n=e&&e.data&&e.data.currentUser,i=t&&!t.loading&&!t.error&&t.currentUser,a=this.constructor.localValue(),r=this.constructor.remoteValue(this.props);i&&!n&&a!==r&&(r?this.setValue(r):a&&this.setValue(a))},Object.defineProperty(t.prototype,"value",{get:function(){if(l.b.get("chat_pause",!1)){var e=this.props,t=e.channelID,n=e.userID,i=e.userModStatus;if(t&&t===n||i&&i.user&&i.user.isModerator)return l.m.get(v,void 0)||this.state.value||m.M.SCROLL_ONLY}},enumerable:!0,configurable:!0}),t}(r.Component);var C=Object(s.d)(Object(o.b)((function(e){var t=Object(p.e)(e);return{isLoggedIn:Object(p.f)(e),userID:t&&t.id}})),Object(d.a)(),Object(c.a)(g,{skip:function(e){return!e.isLoggedIn}}),Object(c.a)(f,{name:"setChatPauseSetting"}))(S);function E(e){return{setChatPauseSetting:e.setValue,chatPauseSetting:e.value}}n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return E}))},UNTo:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RedeemCustomReward"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RedeemCommunityPointsCustomRewardInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"redeemCommunityPointsCustomReward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:148}};n.loc.source={body:"mutation RedeemCustomReward($input: RedeemCommunityPointsCustomRewardInput!) {\nredeemCommunityPointsCustomReward(input: $input) {\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.RedeemCustomReward=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"RedeemCustomReward")},UUau:function(e,t,n){},UZgS:function(e,t,n){},Uh2Q:function(e,t,n){"use strict";var i,a=n("NAv5"),r=n("/7QA"),o=n("3Bft"),s=n("HGFl"),l=n("mrSG"),c=n("q1tI"),d=n("/MKj"),u=n("/0dD"),m=n("XDQu"),p=n("5zXJ"),h=n("RiD7"),f=n("uG/k"),g=n("sUnt"),v=n("+80q"),b=n("yymn"),k=n("Jsra");n("hgBU");!function(e){e.Container="lazy-carousel-container",e.Prev="lazy-carousel-prev-button",e.Next="lazy-carousel-next-button",e.NavDot="lazy-carousel-nav-dot",e.NavDotContainer="lazy-carousel-nav-dot-container",e.Animation="lazy-carousel-animation-container"}(i||(i={}));var y=[{src:p.g+"/creator-luv/bits-card/1.png",emoteString:"emote1"},{src:p.g+"/creator-luv/bits-card/2.png",emoteString:"emote2"},{src:p.g+"/creator-luv/bits-card/3.png",emoteString:"emote3"},{src:p.g+"/creator-luv/bits-card/4.png",emoteString:"emote4"},{src:p.g+"/creator-luv/bits-card/5.png",emoteString:"emote5"},{src:p.g+"/creator-luv/bits-card/6.png",emoteString:"emote6"},{src:p.g+"/creator-luv/bits-card/7.png",emoteString:"emote7"}],S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currIndex:0},t.renderEmotes=y.map((function(e){return c.createElement(f.a,{key:e.emoteString,className:"seasonal-creator-luv-introduction__emote",src:e.src,srcSet:{"112w":e.src},sizes:[{size:"28px"}],alt:e.emoteString})})),t.learnMoreClick=function(){Object(h.o)({user_id:t.props.currentUserID||"",source:h.e.BitsCard})},t}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this,t="";return t=this.props.theme===u.a.Dark?"seasonal-creator-luv-introduction__dark":"seasonal-creator-luv-introduction__light",c.createElement(g.a,{className:t},c.createElement(g.a,{padding:{top:3}},c.createElement(v.a,{fontSize:b.j.Size5,bold:!0},Object(r.d)("Streamer Love","CreatorLuvMegaCheerBitsIntroduction")),c.createElement(g.a,{padding:{x:1,top:.5}},c.createElement(v.a,null,Object(r.d)("Show your streamer some love to receive permanent RPG-inspired emotes! Through {date}, Cheer at least 300 Bits, Subscribe, or Gift a sub to earn emotes and gift them to your community.",{date:Object(r.c)(D(w),{day:"numeric",month:"numeric",year:"numeric"})},"CreatorLuvMegaCheerBitsIntroduction"))),c.createElement(g.a,{padding:{top:.5,bottom:1}},c.createElement(v.a,null,Object(r.d)("<x:link>Learn more</x:link>",{"x:link":function(t){return c.createElement(k.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/s/article/streamer-love",onClick:e.learnMoreClick},t)}},"CreatorLuvMegaCheerBitsIntroduction")))),c.createElement(g.a,{display:b.g.Flex,justifyContent:b.l.Center,flexDirection:b.h.Row,padding:{bottom:1}},this.renderEmotes))},t}(c.Component);var C,E=Object(d.b)((function(e){return{theme:Object(m.a)(e),currentUserID:e.session.user&&e.session.user.id||null}}))(S);n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return w})),n.d(t,"f",(function(){return O})),n.d(t,"h",(function(){return D})),n.d(t,"g",(function(){return N})),n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return M})),function(e){e.Cheer="CHEER",e.Subscription="SUBSCRIPTION",e.SubGift="SUBGIFT"}(C||(C={}));var w={startDateDynamicSetting:"creater_luv_start_date",endDateDynamicSetting:"creater_luv_end_date",eventDomain:"creator_luv",eventTestDomain:"creator_luv-test",intro:E,tier1ImageUrl:p.g+"/creator_luv/MegaCheer-01.png",tier2ImageUrl:p.g+"/creator_luv/MegaCheer-02.png",tier3ImageUrl:p.g+"/creator_luv/MegaCheer-03.png",tier4ImageUrl:p.g+"/creator_luv/MegaCheer-04.png"};function O(e){if(!e)return!1;var t=r.b.get(e.startDateDynamicSetting,"2020-01-30T022:00:00Z");if(Object(a.isAfter)(Object(s.e)(t),Date.now()))return!1;var n=r.b.get(e.endDateDynamicSetting,"2020-02-17T08:00:00Z");return Object(a.isAfter)(Object(s.e)(n),Date.now())}function D(e){var t=r.b.get(e.endDateDynamicSetting,"2020-02-17T08:00:00Z");return Object(s.e)(t)}function N(e,t){return!!t&&(e===t.eventDomain||e===t.eventTestDomain)}function _(){return"https://help.twitch.tv/s/article/streamer-love"}function I(e,t){var n=0;t===o.a.Tier3?n=2:t===o.a.Tier2&&(n=1);var i=1;return e>=20?i=14:e>=10?i=7:e>=5&&(i=5),i+n}function M(e,t){var n=0;t===o.a.Tier3?n=10:t===o.a.Tier2&&(n=5);var i=5;return e>=100?i=500:e>=50?i=250:e>=20?i=100:e>=10?i=50:e>=5&&(i=25),i+n}},Ukwn:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"automaticRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsAutomaticReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultBackgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultCost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isHiddenForSubs"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimumCost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:323}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment automaticRewardFragment on CommunityPointsAutomaticReward {\nid\nbackgroundColor\ncost\ndefaultBackgroundColor\ndefaultCost\ndefaultImage {\n...pointsImageFragment\n}\nimage {\n...pointsImageFragment\n}\nisEnabled\nisHiddenForSubs\nminimumCost\ntype\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("r+cx").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},V3Pk:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"i",(function(){return m}));var i=n("mrSG"),a="vodChat.channel-moderation-comments.RESULTS_RECEIVED",r=function(e,t){return Object(i.__assign)(Object(i.__assign)({type:a},e),{bitsConfig:t})},o="vodChat.channel-moderation-comments.RESULTS_FAILED",s=function(e){return{type:o,error:e}},l=function(e){return{type:"vodChat.channel-moderation-comments.BAN_FAILED",error:e}},c="vodChat.channel-moderation-comments.BAN_SUCCESS",d=function(e){return{type:c,user:e}},u="vodChat.channel-moderation-comments.SEARCH_SUCCESS",m=function(e){return{type:u,hits:e}}},"V8f+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i,a=n("hCFK");function r(e){switch(e){case i.Forward:return[a.c.SlideOverRight,a.c.SlideOverLeft];case i.Back:return[a.c.SlideOverLeft,a.c.SlideOverRight];case i.CloseRewardCenter:return[a.c.SlideOverTop,a.c.SlideOverBottom];case i.OpenRewardCenter:return[a.c.SlideOverBottom,a.c.SlideOverTop];case i.None:default:return a.c.Fade}}!function(e){e.Forward="move-forward",e.Back="move-backward",e.OpenRewardCenter="open-reward-center",e.CloseRewardCenter="close-reward-center",e.None="none"}(i||(i={}))},VAIx:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Messages=0]="Messages",e[e.Timeouts=1]="Timeouts",e[e.Bans=2]="Bans",e[e.ModComments=3]="ModComments"}(i||(i={}))},VIQE:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsBalanceFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activeMultipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reasonCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"factor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"canRedeemRewardsForFree"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:167}};n.loc.source={body:"fragment communityPointsBalanceFragment on User {\nchannel {\nid\nself {\ncommunityPoints {\nbalance\nactiveMultipliers {\nreasonCode\nfactor\n}\ncanRedeemRewardsForFree\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},VKOn:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c}));var i=n("/7QA"),a=n("DMoW"),r="disable_multiview_load";function o(e){if(e&&e.channel&&e.channel.id&&e.channel.chanlets){var t=e.channel,n=t.chanlets,i=t.id;return n.filter((function(e){return i!==e.id}))}return[]}function s(e){return e.every((function(e){var t=e.restriction;if(!t)return!0;var n=new Date(Date.now());return!!t.exemptions&&t.exemptions.filter((function(e){return e.type===a.Nc.ALL&&(!e.startsAt||new Date(e.startsAt)<=n)&&(!e.endsAt||new Date(e.endsAt)>=n)})).length>=1}))}function l(e){return e.every((function(e){return!!e.restriction}))}function c(){return i.b.get(r,!1)}},VN3V:function(e,t,n){},VYPy:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l}));var i=n("DMoW"),a=function(e){switch(e){case i.xc.BLACK_WHITE:return"Greyscale";case i.xc.HORIZONTAL_FLIP:return"Horizontal Flip";case i.xc.SUNGLASSES:return"Sunglasses";case i.xc.THINKING:return"Thinking";case i.xc.SQUISHED:return"Squished";default:return""}},r=function(e){switch(e){case i.xc.BLACK_WHITE:return"BW";case i.xc.HORIZONTAL_FLIP:return"HF";case i.xc.SUNGLASSES:return"SG";case i.xc.THINKING:return"TK";case i.xc.SQUISHED:return"SQ";default:return""}},o="subs_emote_modifiers";function s(e,t){return{id:e.id+"_"+t,token:e.token+"_"+t,setID:e.setID+"_"+t}}function l(e,t){var n,i=new RegExp(e.id,"g");return{id:e.id+"_"+t,token:e.token+"_"+t,setID:e.setID+"_"+t,displayName:e.displayName&&e.displayName+"_"+t,srcSet:null===(n=e.srcSet)||void 0===n?void 0:n.replace(i,e.id+"_"+t),isLocked:e.isLocked}}},VaVM:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.ListRewards=0]="ListRewards",e[e.CustomReward=1]="CustomReward",e[e.UnlockRandomEmote=2]="UnlockRandomEmote",e[e.UnlockChosenSubscriberEmote=3]="UnlockChosenSubscriberEmote",e[e.AlreadySubbed=4]="AlreadySubbed",e[e.ModifyEmote=5]="ModifyEmote",e[e.NotEnoughPoints=6]="NotEnoughPoints",e[e.NotLoggedIn=7]="NotLoggedIn",e[e.NotSubbed=8]="NotSubbed",e[e.NotSubOnlyMode=9]="NotSubOnlyMode",e[e.OutOfStock=10]="OutOfStock",e[e.EarnRates=11]="EarnRates"}(i||(i={}))},VwyG:function(e,t,n){"use strict";var i=n("/MKj"),a=n("kRBY"),r=n("mrSG"),o=n("q1tI"),s=n("ANjH"),l=n("/7QA"),c=n("yR8l"),d=n("GnwI"),u=n("nt5g"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={error:null},t.logger=l.k.withCategory("role-restricted"),t}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=e.data&&e.data.loading,n=this.props.data&&this.props.data.loading;if((!this.props.isLoggedIn||t&&!n)&&this.props.latencyTracking.reportInteractive(),this.props.isLoggedIn&&this.props.data&&(!e.data||e.data.error!==this.props.data.error)){var i=null;this.props.data.error?(i=new Error(this.props.data.error.toString()),this.logger.warn("Unable to retrieve data from GraphQL.",{err:i})):n||this.props.data.user&&this.props.data.currentUser||(i=new Error("Failed to fetch user information"),this.logger.warn("Failed to fetch user information.",{err:i})),this.setState({error:i})}},t.prototype.componentDidMount=function(){(!this.props.isLoggedIn||this.props.data&&!this.props.data.loading)&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e={loading:this.props.isLoggedIn,permitted:!1,roles:{staff:!1,editor:!1,owner:!1},error:this.state.error};if(this.props.isLoggedIn&&this.props.data){var t=function(e){var t=e.data,n={staff:!1,editor:!1,owner:!1};t&&!t.error&&!t.loading&&t.user&&t.currentUser&&(n.staff=!(!t.currentUser.roles||!t.currentUser.roles.isStaff),n.editor=!(!t.user.self||!t.user.self.isEditor),n.owner=t.user.id===t.currentUser.id);return n}(this.props);e=Object(r.__assign)(Object(r.__assign)({},e),{loading:this.props.data.loading,permitted:p(t,this.props.permittedRoles),roles:t})}return o.createElement(o.Fragment,null,this.props.children(e))},t}(o.Component);function p(e,t){return!!e.owner||(!(!e.staff||!t.staff)||!(!e.editor||!t.editor))}var h=Object(s.d)(Object(c.a)(u,{options:function(e){return{variables:{contentOwnerLogin:e.ownerLogin}}},skip:function(e){return!e.isLoggedIn}}),Object(d.withLatencyTracking)("RoleRestricted"))(m);var f=Object(i.b)((function(e){return{isLoggedIn:Object(a.f)(e)}}))(h);n.d(t,"a",(function(){return f}))},"W/3w":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var i=n("/7QA"),a=30,r=[0,-1,10,30,60,1440,10080,43200,129600];function o(e){switch(e){case 0:return Object(i.d)("0 minutes (Any followers)","FollowersOnlyLabel");case-1:return Object(i.d)("Off","FollowersOnlyLabel");case 10:return Object(i.d)("10 minutes (Most used)","FollowersOnlyLabel");case 30:return Object(i.d)("30 minutes","FollowersOnlyLabel");case 60:return Object(i.d)("1 hour","FollowersOnlyLabel");case 1440:return Object(i.d)("1 day","FollowersOnlyLabel");case 10080:return Object(i.d)("1 week","FollowersOnlyLabel");case 43200:return Object(i.d)("1 month","FollowersOnlyLabel");case 129600:return Object(i.d)("3 months","FollowersOnlyLabel");default:return i.k.warn("[FollowersOnlyLabel] Tried to generate a label for a non-preset.",e),""}}function s(e){switch(e){case 0:return Object(i.d)("0 min","FollowersOnlyShorthand");case-1:return Object(i.d)("Off","FollowersOnlyShorthand");case 10:return Object(i.d)("10 min","FollowersOnlyShorthand");case 30:return Object(i.d)("30 min","FollowersOnlyShorthand");case 60:return Object(i.d)("1 hr","FollowersOnlyShorthand");case 1440:return Object(i.d)("1 day","FollowersOnlyShorthand");case 10080:return Object(i.d)("1 wk","FollowersOnlyShorthand");case 43200:return Object(i.d)("1 mo","FollowersOnlyShorthand");case 129600:return Object(i.d)("3 mo","FollowersOnlyShorthand");default:return Object(i.d)("custom","FollowersOnlyShorthand")}}},W1jp:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return m}));var i=n("/7QA"),a=n("DMoW"),r=n("XIEs");function o(e){return"CommunityPointsAutomaticReward"===e.__typename?e.backgroundColor||e.defaultBackgroundColor:e.backgroundColor}function s(e){return"CommunityPointsAutomaticReward"===e.__typename?e.cost||e.defaultCost:e.cost}function l(e){return e.image?{src:e.image.url,srcSet:Object(r.a)(e.image)}:{src:e.defaultImage.url,srcSet:Object(r.a)(e.defaultImage)}}function c(e){return e.image?{src:e.image.url2x,srcSet:{"1x":e.image.url2x,"2x":e.image.url4x}}:{src:e.defaultImage.url2x,srcSet:{"1x":e.defaultImage.url2x,"2x":e.defaultImage.url4x}}}function d(e){if("CommunityPointsCustomReward"===e.__typename)return e.title;switch(e.type){case a.X.SEND_HIGHLIGHTED_MESSAGE:return Object(i.d)("Highlight My Message","CommunityPointsRewards");case a.X.SINGLE_MESSAGE_BYPASS_SUB_MODE:return Object(i.d)("Send a Message in Sub-Only Mode","CommunityPointsRewards");case a.X.CHOSEN_SUB_EMOTE_UNLOCK:return Object(i.d)("Choose an Emote to Unlock","CommunityPointsRewards");case a.X.RANDOM_SUB_EMOTE_UNLOCK:return Object(i.d)("Unlock a Random Sub Emote","CommunityPointsRewards");case a.X.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return Object(i.d)("Modify a Single Emote","CommunityPointsRewards");default:return Object(i.d)("Reward","CommunityPointsRewards")}}function u(e){if("CommunityPointsCustomReward"===e.__typename)return!1;switch(e.type){case a.X.RANDOM_SUB_EMOTE_UNLOCK:case a.X.CHOSEN_SUB_EMOTE_UNLOCK:case a.X.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return!0;default:return!1}}function m(e){if("CommunityPointsCustomReward"===e.__typename)return e.prompt;switch(e.type){case a.X.SEND_HIGHLIGHTED_MESSAGE:return Object(i.d)("Write something special below and give it some glitz in chat!","CommunityPointsRewards");case a.X.SINGLE_MESSAGE_BYPASS_SUB_MODE:return Object(i.d)("Type your message below and sneakily bypass chat restrictions.","CommunityPointsRewards");case a.X.CHOSEN_SUB_EMOTE_UNLOCK:return Object(i.d)("Select an emote to unlock for 24 hours:","CommunityPointsRewards");case a.X.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return Object(i.d)("Select an emote to modify & unlock for 24 hours:","CommunityPointsRewards");case a.X.RANDOM_SUB_EMOTE_UNLOCK:return Object(i.d)("Click below to unlock one random emote to chat with for 24 hours!","CommunityPointsRewards");default:return Object(i.d)("Unlock this reward.","CommunityPointsRewards")}}},W7Hf:function(e,t,n){"use strict";var i=n("9sGC");n.d(t,"a",(function(){return i.a}))},WK0g:function(e,t,n){"use strict";var i=n("cr+I"),a=n("b6Yk"),r=n("mrSG"),o=n("pU2t"),s=n("XeJ1"),l=function(e,t){var n=Object(o.d)(e,t),i=e.comments.reduce((function(e,t){return void 0===t.video?e:e.concat([c(t.video)])}),[]);return Array.isArray(e.parents)&&e.parents.forEach((function(e){n.comments.push(o.a.normalizeRecord(e,t)),n.users.push(s.a.normalizeRecord(e.commenter))})),Object(r.__assign)(Object(r.__assign)({},n),{videos:i})},c=function(e){return{id:e._id,title:e.title,preview:e.preview}},d=n("ahza");n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g}));var u="channel_id",m="limit",p="video_id",h=50;function f(e){var t;return t=function(e){return"userId"in e}(e)?function(e){var t={};return t[m]=h.toString(),t[u]=e.userId,void 0!==e.cursor&&(t[d.a]=e.cursor),"/v5/videos/comments?"+i.stringify(t)}(e):function(e){var t={};return t[m]=h.toString(),t[p]=e.videoId,void 0!==e.cursor&&(t[d.a]=e.cursor),"/v5/videos/comments?"+i.stringify(t)}(e),a.a.getOrThrow(t).then((function(t){return l(t.body,e.bitsConfig)}))}function g(e){var t=function(e){return"/v5/videos/channels/"+e.targetChannel+"/bans"}(e),n={body:{commenter_id:e.bannedUser}};return a.a.postOrThrow(t,n)}},WWj3:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoterChoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoterChoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pollChoice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:277}};i.loc.source={body:'#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollVoterChoice on PollVoterChoice {\nid\npollChoice {\nid\n}\ntokens {...pollTokenBreakdown}\nvotes {...pollVoteBreakdown}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("/x02").definitions)),i.definitions=i.definitions.concat(r(n("wMQt").definitions)),e.exports=i},"Wd+u":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProductOfferFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Offer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"previewPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDisplay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:259}};n.loc.source={body:"fragment subProductOfferFragment on Offer {\nid\neligibility {\nisEligible\n}\nlisting {\nchargeModel {\ninternal {\npreviewPrice {\nid\ncurrency\nexponent\nprice\ntotal\ndiscount {\nprice\ntotal\n}\n}\n}\n}\n}\npromotion {\nid\nname\npromoDisplay {\ndiscountPercent\ndiscountType\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},WytW:function(e,t,n){"use strict";n.d(t,"l",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"s",(function(){return b})),n.d(t,"p",(function(){return y})),n.d(t,"m",(function(){return C})),n.d(t,"r",(function(){return w})),n.d(t,"q",(function(){return D})),n.d(t,"n",(function(){return I})),n.d(t,"o",(function(){return T})),n.d(t,"k",(function(){return j}));var i=n("mr+n"),a=n("4G6/"),r=n("Ff8q");function o(e){return/^[\/]/.test(e)}function s(){return"/clear"}function l(){return"/subscribers"}function c(){return"/subscribersoff"}function d(){return"/followersoff"}function u(){return"/slowoff"}function m(e){return"/followers "+e}function p(e){return void 0===e&&(e=i.a),"/slow "+e}function h(e){return"/color "+e}function f(){return"/emoteonly"}function g(){return"/emoteonlyoff"}var v=/^\/w(?:$|\s+)(\S+)?\s*(.+)?/i;function b(e){var t=e.trim().match(v);return t?{recipientLogin:t[1]&&Object(r.a)(t[1])||null,body:t[2]||null}:null}var k=/^\/host\s+(\S+)$/i;function y(e){var t=e.trim().match(k);return t?{recipientLogin:Object(r.a)(t[1])}:null}var S=/^\/ban\s+(\S+)(?:\s+(.+))?$/;function C(e){var t=e.trim().match(S);return t&&t[1]?{banTarget:Object(r.a)(t[1]),reason:t[2]||null}:null}var E=/^\/timeout\s+(\S+)(?:\s+(\S+))?(?:\s+(.+))?$/;function w(e){var t=!0,n=e.trim().match(E);if(!n||!n[1])return null;var i=Object(r.a)(n[1]),o=n[2]||null,s=n[3]||null,l=null;if(null!==o){var c=Number(o);if(Number.isNaN(c)){var d=Object(a.b)(o||"");!d||Number.isNaN(d)?t=!1:l=d}else l=c}return{validArguments:t,banTarget:i,rawDuration:o,durationSeconds:l,reason:s}}var O=/^\/slow(?:\s+(\d+)?)?$/;function D(e){var t=e.trim().match(O);return t?{duration:t[1]&&Number(t[1])||null}:null}var N=["blue","blueviolet","cadetblue","chocolate","coral","dodgerblue","firebrick","goldenrod","green","hotpink","orangered","red","seagreen","springgreen","yellowgreen"],_=/^\/color\s+(#[A-Fa-f0-9]{6}|[A-Za-z]+)$/;function I(e){var t=e.trim().match(_);if(!t)return null;var n=t[1];return n.startsWith("#")||-1!==N.indexOf(n.toLowerCase())?{color:n}:null}var M=/^\/help(?:\s+(\S+)?)?$/i;function T(e){var t=e.trim().match(M);return t?{command:t[1]}:null}function j(e){var t=e.commandArgs;if(t&&t.length>0){var n=t[0];if(n.isRequired)return"["+n.name+"]"}}},X31c:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var i,a=n("mrSG"),r=n("TSYQ"),o=n("q1tI"),s=n("/MKj"),l=n("ANjH"),c=n("/7QA"),d=n("8Ad5"),u=n("0Log"),m=n("DMoW"),p=n("uIkQ"),h=n("+pBb"),f=n("ZVTe"),g=n("6wGa"),v=n("cys1"),b=n("EE1E"),k=n("fezU"),y=n("ZtEv"),S=n("oK83"),C=n("Jsra"),E=n("hnjF"),w=n("+80q"),O=n("sUnt"),D=(n("uYvD"),"chat-deleted-message-placeholder"),N="chat-hidden-message-placeholder",_="chat-hidden-username-placeholder";!function(e){e.ChatLineMessage="chat-line-message",e.ChatDeletedMessagePlaceholder="chat-deleted-message-placeholder",e.ChatHiddenMessagePlaceholder="chat-hidden-message-placeholder",e.ChatHiddenUserNameLink="chat-hidden-username-link",e.ChatHiddenUsernamePlaceholder="chat-hidden-username-placeholder",e.ChatDeletedMessageAttribution="chat-deleted-message-attribution"}(i||(i={}));var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={alwaysShowMessage:!1},t.renderModerationIcons=function(){if(!(t.props.isCurrentUserModerator&&t.props.showModerationIcons&&t.props.message.user.userID&&t.props.channelID))return null;var e=!0;return void 0!==t.props.canDelete&&(e=t.props.canDelete),o.createElement(g.a,{targetUserID:t.props.message.user.userID,canDelete:e,confirmModerationAction:t.props.confirmModerationAction,channelID:t.props.channelID,isMessageDeleted:t.props.message.deleted,isMessageBanned:t.props.message.banned,senderLogin:t.props.message.user.userLogin,messageID:t.props.message.id})},t.renderMessageBody=function(){if(t.props.isHidden&&!t.state.alwaysShowMessage&&t.props.isCurrentUserModerator){var e=Object(c.d)("message hidden from blocked user","ChatLine");return o.createElement("span",{key:"hidden_message",className:"chat-line__message--hidden","data-a-target":N},o.createElement(C.a,{linkTo:"",onClick:t.hiddenMessageClickHandler,"data-test-selector":i.ChatHiddenMessagePlaceholder},"<"+e+">"))}if(t.props.isDeleted)return t.renderDeletedMessage();var n={chatChannelID:t.props.channelID,chatChannelLogin:t.props.channelLogin,messageAuthorID:t.props.message.user.userID,messageSourceID:t.props.message.id,emoteSourceType:S.a.chat,isHighlighted:t.props.isHighlighted},a=Object(v.f)(t.props.message.messageParts,n);return t.props.isHighlighted?o.createElement("span",{className:"chat-line__message-body--highlighted"},a):a},t.renderDeletedMessage=function(){var e=t.props,n=e.isCurrentUserModerator,a=e.isCurrentUserStaff,r=e.deletedMessageDisplay;if(n||a){var s={chatChannelID:t.props.channelID,chatChannelLogin:t.props.channelLogin,messageAuthorID:t.props.message.user.userID,messageSourceID:t.props.message.id,emoteSourceType:S.a.chat,disableChatCard:!0};if(r===m.wb.DETAILED&&n){var l=t.props.message,d=l.modLogin,p=l.modActionType,h=l.duration,f=Object(c.d)("(Deleted)","ChatLine");return p&&p===u.ModerationActions.Ban&&d&&(f=Object(c.d)("(Banned by {modLogin})",{modLogin:d},"ChatLine")),p&&p===u.ModerationActions.Timeout&&(d&&h?f=Object(c.d)("({duration}s Timeout by {modLogin})",{duration:h,modLogin:d},"ChatLine"):d&&(f=Object(c.d)("(Timeout by {modLogin})",{modLogin:d},"ChatLine"))),p&&p===u.ModerationActions.Delete&&d&&(f=Object(c.d)("(Deleted by {modLogin})",{modLogin:d},"ChatLine")),o.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":D,"data-test-selector":i.ChatDeletedMessagePlaceholder},o.createElement("span",{className:"chat-line__message--deleted-detailed"},Object(v.f)(t.props.message.messageParts,s)),o.createElement(E.a,{padding:{left:.5}},o.createElement(w.a,{type:w.e.Span,"data-test-selector":i.ChatDeletedMessageAttribution},f)))}return t.state.alwaysShowMessage?Object(v.f)(t.props.message.messageParts,s):o.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":D},o.createElement(C.a,{linkTo:"",onClick:t.alwaysShowMessage,"data-test-selector":i.ChatDeletedMessagePlaceholder},"<"+Object(c.d)("message deleted","ChatLine")+">"))}return o.createElement("span",{key:"deleted",className:"chat-line__message--deleted-notice","data-a-target":D,"data-test-selector":i.ChatDeletedMessagePlaceholder},""+Object(c.d)("message deleted by a moderator.","ChatLine"))},t.renderMessageAuthor=function(){var e=t.props,n=e.badgeSets,a=e.message,r=e.theme,s=e.useHighContrastColors;return t.props.isHidden&&!t.state.alwaysShowMessage&&t.props.isCurrentUserModerator?o.createElement("span",{key:"hidden_username",className:"chat-line__username--hidden","data-a-target":_,"data-test-selectors":i.ChatHiddenUsernamePlaceholder},o.createElement(C.a,{linkTo:"",onClick:t.hiddenMessageClickHandler,"data-test-selector":i.ChatHiddenUserNameLink},Object(c.d)("User Hidden","ChatLine"))):o.createElement(o.Fragment,null,t.renderModerationIcons(),o.createElement(p.b,{badgeSets:n,badgesToRender:a.badges,dynamicData:a.badgeDynamicData,hideBroadcasterTooltip:t.props.hideBroadcasterTooltip}),o.createElement("span",{className:"chat-line__username",onClick:t.openViewerCard,onKeyDown:t.openViewerCard,role:"button",tabIndex:0},o.createElement(f.a,{userData:a.user,highContrastUsernameColor:s,theme:r})))},t.alwaysShowMessage=function(e){e&&e.preventDefault(),t.setState({alwaysShowMessage:!0})},t.hiddenMessageClickHandler=function(e){t.alwaysShowMessage(e),t.props.message.user.userID&&t.props.onHiddenMessageClick(t.props.message.user.userID)},t.openViewerCard=function(e){t.isKeyboardEvent(e)&&e.keyCode!==d.a.Space&&e.keyCode!==d.a.Enter||t.props.onUsernameClick(t.props.message.user.userLogin,S.b.chat_message,t.props.message.id,e.currentTarget.getBoundingClientRect().bottom)},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.message,a=e.showTimestamps,s=e.theme,l=e.useHighContrastColors,d=e.isDeleted,u=e.isCurrentUserModerator,p=e.deletedMessageDisplay,h=e.deletedCount;if(d&&u&&p===m.wb.BRIEF)return h&&h>0?o.createElement(O.a,{className:"chat-line__status"},o.createElement(w.a,{type:w.e.Span,"data-a-target":D,"data-test-selector":i.ChatDeletedMessagePlaceholder},Object(c.d)("{numDeleted, plural, one {# message was deleted by a moderator.} other {# messages were deleted by a moderator.}}",{numDeleted:h},"ChatLine"))):null;var f={},g=": ";if(n.messageType===y.c.Action){var k=n.user.color;l&&k&&(k="#"+Object(b.a)(k,s)),f={color:k},g=" "}var S=null;return a&&(S=Object(v.l)(n.timestamp)),o.createElement("div",{className:r(t,"chat-line__message"),style:f,"data-a-target":"chat-line-message","data-test-selector":i.ChatLineMessage},S,this.renderMessageAuthor(),o.createElement("span",{key:"separator","aria-hidden":"true"},g),this.renderMessageBody())},t.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},t}(o.Component);var M=Object(l.d)(Object(s.b)(void 0,(function(e){return Object(l.b)({onHiddenMessageClick:h.P},e)})),Object(k.b)((function(e){return{onUsernameClick:e.onShowViewerCard,onEmoteClick:e.onShowEmoteCard}})))(I)},X9Go:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var i=n("mrSG"),a=n("q1tI"),r=n("1rIY"),o=Object(r.a)("ModerationTrackingContext",{}),s=o.context,l=o.withContext;function c(e){return Object(i.__assign)({},e)}var d=function(e){return a.useContext(s).page?a.createElement(a.Fragment,null,e.children):a.createElement(s.Provider,{value:{page:e.page}},e.children)}},XBQy:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pointCustomizationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:206}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment pointCustomizationFragment on User {\nchannel {\nid\ncommunityPointsSettings {\nname\nimage {\n...pointsImageFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("r+cx").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},XIEs:function(e,t,n){"use strict";function i(e){return{"1x":e.url,"2x":e.url2x,"4x":e.url4x}}n.d(t,"a",(function(){return i}))},XIZb:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),a=n("q1tI"),r=n("4rCz"),o=n("1rIY");function s(e){var t={setServiceAPI:function(){r.l.warn("The "+e+" chat service attempted to register its API without a provider.")}},n=Object(o.a)(e,t),s=n.context,l=n.withContext;return{context:s,withChatServiceManager:function(e){return function(n){var r=a.useContext(s),o=a.useState(),l=o[0],c=o[1];return r!==t?a.createElement(e,Object(i.__assign)({},n)):a.createElement(s.Provider,{value:{serviceAPI:l,setServiceAPI:c}},a.createElement(e,Object(i.__assign)({},n)))}},withContext:l}}},XRPh:function(e,t,n){"use strict";var i=n("/MKj"),a=n("ANjH"),r=n("kRBY"),o=n("fezU"),s=n("mrSG"),l=n("q1tI"),c=n("/7QA"),d=n("D7An"),u=n("j0ar"),m="emote_card",p="emote_card_whitelist";var h=n("oK83"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.emoteClickHandler=function(e){t.props.emote.emoteID&&t.props.onEmoteClick({channelID:t.props.channelID||"",channelLogin:t.props.channelLogin||"",emoteID:t.props.emote.emoteID,emoteCode:t.props.emote.alt||"",sourceID:t.props.sourceID||"",emoteSourceType:t.props.sourceType?t.props.sourceType:h.a.unknown,referrerID:t.props.referrerID||"",initialTopOffset:e.currentTarget.getBoundingClientRect().bottom})},t}return Object(s.__extends)(t,e),t.prototype.render=function(){var e,t,n=this.props.emote.alt||"";return this.props.emote.cheerAmount&&(n+=" "+this.props.emote.cheerAmount.toString(),e=l.createElement("strong",{className:"chat-line__message--cheer-amount",style:{color:this.props.emote.cheerColor}},this.props.emote.cheerAmount)),t=l.createElement(u.a,{alt:n,cheerText:e,className:"chat-line__message--emote",srcKey:"1x",srcSet:this.props.emote.images}),this.props.emote.cheerAmount||this.props.disableCard||!function(e){var t=c.b.get(m,"off");if("on"===t)return!0;if("staff"===t&&e&&e.roles&&e.roles.isStaff)return!0;var n=c.b.get(p,[]);return!!("whitelist"===t&&e&&e.id&&n.includes(e.id))}(this.props.user)||"treatment"!==c.p.experiments.getAndTrackAssignment(d.c.EmoteCard)?t:l.createElement("div",{onClick:this.emoteClickHandler,className:"chat-line__message--emote-button","data-test-selector":"emote-button"},t)},t}(l.Component);var g=Object(a.d)(Object(i.b)((function(e){return{user:Object(r.e)(e)}})),Object(o.b)((function(e){return{onEmoteClick:e.onShowEmoteCard}})))(f);g.displayName="Emote",n.d(t,"a",(function(){return g}))},XXm5:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var i="vod-message",a="mod-dashboard",r="mod-comment"},XeJ1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("nxZp"),a=n("ehEd"),r={normalizeRecord:function(e){return new i.a({id:e._id,name:e.name,logo:new URL(e.logo||a.a),bio:e.bio,createdAt:new Date(e.created_at),displayName:e.display_name,type:e.type,updatedAt:new Date(e.updated_at)})},serializeRecord:function(e){return{_id:e.id,name:e.name,logo:e.logo.toString(),bio:e.bio,created_at:e.createdAt.toISOString(),display_name:e.displayName,type:e.type,updated_at:e.updatedAt.toISOString()}}}},"Y/1R":function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("q1tI"),o=n("/7QA"),s=n("DMoW"),l=n("IArS"),c=n("/MKj"),d=n("ANjH"),u=n("fezU"),m=n("5zC2"),p=n("k8pZ"),h=n("uIkQ"),f=n("cys1"),g=n("fxMP"),v=n("sUnt"),b=n("+80q");!function(e){e.Timestamp="extension-message-timestamp",e.ExtensionName="extension-message-name"}(i||(i={}));var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onExtensionNameClick=function(e){var n=t.props.message;t.props.onExtensionNameClick(n.extension.clientID,n.extension.version,n.id,e.currentTarget.getBoundingClientRect().bottom)},t}return Object(a.__extends)(t,e),t.prototype.render=function(){if(!this.props.installedExtensions)return null;var e=this.props.message;if(!this.props.installedExtensions.some((function(t){var n=t.extension;return n.clientId===e.extension.clientID&&n.version===e.extension.version})))return null;var t=this.props.message.extension.displayBadges;return r.createElement(v.a,{padding:{x:2,y:.5}},r.createElement("div",{id:this.props.message.id,className:"room-message"},this.renderTimestamp(),r.createElement(h.b,{badgeSets:this.props.badgeSets,badgesToRender:t}),this.renderMessageAuthor(this.props.message.extension),r.createElement("span",null,": "),this.renderMessageBody()))},t.prototype.renderTimestamp=function(){return this.props.showTimestamps?r.createElement("span",{key:"timestamp",className:"room-message__timestamp","data-test-selector":i.Timestamp},Object(f.a)(new Date(this.props.message.sentAt))):null},t.prototype.renderMessageBody=function(){var e=Object(g.e)(this.props.message);return Object(f.f)(e,{forceClipsNetworkRequest:!0})},t.prototype.renderMessageAuthor=function(e){return r.createElement("button",{onClick:this.onExtensionNameClick,"data-test-selector":i.ExtensionName},r.createElement("span",{key:e.clientID+"-"+e.version+"-messageauthor"},r.createElement("span",{key:"username-display",style:{color:e.chatColor}},r.createElement(b.a,{bold:!0},e.displayName))))},t}(r.Component);var y=Object(d.d)(Object(c.b)((function(e,t){return{installedExtensions:t.channelID?Object(p.a)(e,t.channelID):null}})),Object(u.b)((function(e){return{onExtensionNameClick:e.onShowExtensionMessageCard}})),Object(m.c)({name:"extensionsForChannel",skip:function(e){return!e.channelID||!!e.installedExtensions},options:function(e){return{variables:{channelID:e.channelID||""}}}}))(k),S=n("KGti"),C=n("ZtEv"),E=n("yymn"),w=n("QVaV"),O=n("8SX2"),D=n("oK83"),N=n("Ws8v"),_=n("7uM4"),I=n("C7sF"),M=function(e){var t=e.event,n=t.promoGiftTotal,i=t.promoName,a=t.user,s=r.createElement(O.a,{contentID:a.id,login:a.username,sourceType:D.b.chat_message},Object(w.a)(a.username,a.displayName)),l=i&&n?Object(o.d)("{recipientButton} is continuing the Gift Sub they got from an anonymous gifter!        They're one of {promoGiftTotal} gift subs to continue this {promoName}.",{promoGiftTotal:n,promoName:i,recipientButton:s},"AnonGiftPaidUpgradeNoticeLine"):Object(o.d)("{recipientButton} is continuing the Gift Sub they got from an anonymous gifter!",{recipientButton:s},"AnonGiftPaidUpgradeNoticeLine");return r.createElement(v.a,{alignItems:E.b.Start,display:E.g.Flex},r.createElement(N.a,{color:E.f.Alt2,display:E.g.Flex,flexDirection:E.h.Column,flexShrink:0,margin:{right:.5}},r.createElement(_.a,{asset:I.a.Ghost})),r.createElement(b.a,{color:E.f.Alt2,type:b.e.Span},l))};M.displayName="AnonGiftPaidUpgradeNoticeLine";var T=n("0WFu"),j=function(e){var t=e.event,n=r.createElement(O.a,{contentID:t.recipientID,login:t.recipientLogin,sourceType:D.b.chat_message},Object(w.a)(t.recipientLogin,t.recipientDisplayName));return r.createElement(v.a,{alignItems:E.b.Start,display:E.g.Flex},r.createElement(N.a,{color:E.f.Alt2,display:E.g.Flex,flexDirection:E.h.Column,flexShrink:0,margin:{right:.5}},r.createElement(_.a,{asset:I.a.Ghost})),r.createElement(b.a,{color:E.f.Alt2,type:b.e.Span},function(e,t){return"custom"===e.plan?Object(o.d)("An anonymous gifter gave {recipientButton} a Sub!",{recipientButton:t},"AnonSubGiftNoticeLine"):Object(o.d)("An anonymous gifter gave {recipientButton} a Tier {tierNumber} Sub!",{recipientButton:t,tierNumber:Object(T.b)(e.plan)||1},"AnonSubGiftNoticeLine")}(t.methods,n)))};j.displayName="AnonSubGiftNoticeLine";var P=function(e){var t=e.event,n=t.channel,i=t.massGiftCount,a=t.plan,s="custom"===a?Object(o.d)("{massGiftCount, plural,        one {An anonymous gifter is gifting {massGiftCount} Sub to {channel}'s community!}        other {An anonymous gifter is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:n,massGiftCount:i},"AnonSubMysteryGiftNoticeLine"):Object(o.d)("{massGiftCount, plural,        one {An anonymous gifter is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!}        other {An anonymous gifter is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:n,massGiftCount:i,tierNumber:Object(T.b)(a)||1},"AnonSubMysteryGiftNoticeLine");return r.createElement(v.a,{alignItems:E.b.Start,display:E.g.Flex},r.createElement(N.a,{color:E.f.Alt2,display:E.g.Flex,flexDirection:E.h.Column,flexShrink:0,margin:{right:.5}},r.createElement(_.a,{asset:I.a.Ghost})),r.createElement(b.a,{color:E.f.Alt2,type:b.e.Span},s))};P.displayName="AnonSubMysteryGiftNoticeLine";var L=n("xZ3y"),R=function(e){var t=e.event.threshold,n=e.badgeSets.getBadge(L.a,t.toString()),i=Object(o.d)("{text} Bits badge!",{text:Object(L.b)(n,t)},"BitsBadgeTierNotification");return r.createElement(v.a,{display:E.g.Flex},r.createElement(_.a,{height:20,width:20,asset:I.a.Bits,type:_.b.Alt2}),r.createElement(N.a,{color:E.f.Alt2,padding:{left:.5},display:E.g.Inline},Object(o.d)("{userLogin} just earned a new <x:bold>{boldedBadgeText}</x:bold>",{userLogin:r.createElement(O.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.b.chat_message},Object(w.a)(e.event.user.userID,e.event.user.displayName)),boldedBadgeText:i,"x:bold":function(e){return r.createElement(b.a,{color:E.f.Base,bold:!0,type:b.e.Span},e)}},"BitsBadgeTierNotification")))};R.displayName="BitsBadgeTierNoticeLine";var F,A=n("Jsra"),x="https://www.twitch.tv/settings/connections";!function(e){e.Kickback="msg_blizzard",e.Enabled="blizzard_connect_on",e.Disabled="blizzard_connect_off",e.AlreadyEnabled="already_blizzard_mode_on",e.AlreadyDisabled="already_blizzard_mode_off"}(F||(F={}));var U=function(e){var t=null;switch(e.type){case F.Kickback:var n=r.createElement(A.a,{targetBlank:!0,linkTo:x},x);t=Object(o.d)("You must connect your Blizzard account to send messages in this room. You can connect your Blizzard account in your Twitch settings at {settingsLink}",{settingsLink:n},"BlizzardConnectModeNoticeLine");break;case F.Enabled:t=Object(o.d)("This room now requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case F.Disabled:t=Object(o.d)("This room no longer requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case F.AlreadyEnabled:t=Object(o.d)("This room already requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case F.AlreadyDisabled:t=Object(o.d)("This room does not require a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;default:return null}return r.createElement(v.a,null,t)};U.displayName="BlizzardConnectNoticeLine";var B=n("4rCz"),V=n("tiJ6"),H=n("A4KW"),G=n("YV90"),q=n("m7Uh"),W=n("PkcC"),z=(n("ZhMv"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){if(!this.props.event.reward||!this.props.isChannelPointsFeatureFlagOn)return this.props.children?r.createElement(r.Fragment,null,this.props.children):null;var e=Object(B.d)("{user} redeemed {reward}",{user:this.props.event.displayName,reward:this.props.event.reward.name},"ChannelPointsRewardLine");this.props.children&&(e=Object(B.d)("Redeemed {reward}",{reward:this.props.event.reward.name},"ChannelPointsRewardLine"));var t=this.props.children;if(this.props.children){var n=r.Children.only(this.props.children);t=r.cloneElement(n,{className:"chat-line--inline",isHighlighted:this.props.event.reward.isHighlighted})}return r.createElement(W.a,{inputColorHex:this.props.primaryColorHex&&Object(q.b)("#"+this.props.primaryColorHex)?"#"+this.props.primaryColorHex:null},r.createElement(v.a,{className:"channel-points-reward-line",margin:{y:.5},padding:{right:2,y:.5}},r.createElement(N.a,{color:E.f.Alt2,display:E.g.InlineFlex,flexWrap:E.i.Wrap},e,r.createElement(v.a,{display:E.g.InlineBlock,margin:{x:.5}},r.createElement(H.b,null)),Object(B.f)(this.props.event.reward.cost)),t&&r.createElement(v.a,{margin:{top:.5}},t)))},t}(r.Component));var Q=Object(d.d)(Object(V.c)((function(e){return{primaryColorHex:e.primaryColorHex}})),Object(G.a)((function(e){return{isChannelPointsFeatureFlagOn:e.isChannelPointsFeatureFlagOn,pointIcon:e.pointIcon,rewardMap:e.rewardMap}})))(z),Y=function(e){var t=r.createElement(N.a,{display:E.g.Block},r.createElement(O.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.b.chat_message},r.createElement(b.a,{color:E.f.Link},Object(w.a)(e.event.user.username,e.event.user.displayName)))),n=new Date;n.setDate(1),n.setMonth(parseInt(e.event.benefitEndMonth,10)-1);var i=Object(o.d)("{userLogin} <x:strong> Extended </x:strong> their Tier 1 subscription through {benefitEndMonth}!",{userLogin:t,benefitEndMonth:Object(o.c)(n,{month:"long"}),"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)}},"ExtendSubscriptionNoticeLine");return r.createElement(v.a,{display:E.g.Flex},r.createElement(N.a,{color:E.f.Alt2},r.createElement(_.a,{asset:I.a.Star})),r.createElement(v.a,{margin:{left:.5}},r.createElement(b.a,null,i)))};Y.displayName="ExtendSubscriptionNoticeLine";var K=function(e){return r.createElement(N.a,{color:E.f.Alt2,display:E.g.Inline},Object(o.d)("{userLogin} just made their first cheer!",{userLogin:r.createElement(O.a,{contentID:e.event.message.id,login:e.event.message.user.userLogin,sourceType:D.b.chat_message},Object(w.a)(e.event.message.user.userLogin,e.event.message.user.userDisplayName))},"FirstCheerNoticeLine"))};K.displayName="FirstCheerNoticeLine";var $=function(e){var t=e.event,n=r.createElement(O.a,{contentID:t.user.id,login:t.user.username,sourceType:D.b.chat_message},Object(w.a)(t.user.username,t.user.displayName)),i=r.createElement(O.a,{contentID:t.user.id,login:t.senderLogin,sourceType:D.b.chat_message},Object(w.a)(t.senderLogin,t.senderName));return r.createElement(b.a,{color:E.f.Alt2,type:b.e.Span},t.promoName&&t.promoGiftTotal?Object(o.d)("{recipientButton} is continuing the Gift Sub they got from {gifterButton}!            They're one of {promoGiftTotal} gift subs to continue this {promoName}.",{gifterButton:i,promoGiftTotal:t.promoGiftTotal,promoName:t.promoName,recipientButton:n},"GiftPaidUpgradeNoticeLine"):Object(o.d)("{recipientButton} is continuing the Gift Sub they got from {gifterButton}!",{gifterButton:i,recipientButton:n},"GiftPaidUpgradeNoticeLine"))};$.displayName="GiftPaidUpgradeNoticeLine";var X;n("OBzG");!function(e){e[e.MOD_ICONS=0]="MOD_ICONS",e[e.MESSAGE=1]="MESSAGE"}(X||(X={}));var Z=function(e){var t=e.event,n=e.moderationIcons;return r.createElement(N.a,{className:"gift-pay-forward-line",color:E.f.Alt2,margin:{y:.5},padding:{right:2,y:.5}},n&&r.createElement(v.a,{"data-test-selector":X.MOD_ICONS},n),r.createElement(v.a,{"data-test-selector":X.MESSAGE},function(e){var t=e.user.displayName,n=e.priorGifter.displayName;if(e.type===C.b.CommunityPayForward)return e.priorGifter.anonymous?Object(B.d)("{sender} is paying forward the Gift they got from an anonymous gifter to the community!",{sender:t},"GiftPayForwardLine"):Object(B.d)("{sender} is paying forward the Gift they got from {priorGifter} to the community!",{sender:t,priorGifter:n},"GiftPayForwardLine");var i=e.recipient.displayName;return e.priorGifter.anonymous?Object(B.d)("{sender} is paying forward the Gift they got from an anonymous gifter to {recipient}!",{sender:t,recipient:i},"GiftPayForwardLine"):Object(B.d)("{sender} is paying forward the Gift they got from {priorGifter} to {recipient}!",{sender:t,priorGifter:n,recipient:i},"GiftPayForwardLine")}(t)))};Z.displayName="GiftPayForwardLine";var J=n("yR8l"),ee=n("HH5h"),te=n("OvAg"),ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.message.params,t=this.props.data,n=t.channel,i=t.loading,a=t.error;if(i||a||!n||!n.displayName)return null;var s=Object(o.d)("{displayName} is raiding with a party of {viewerCount}.",{displayName:r.createElement("strong",null,n.displayName),viewerCount:r.createElement("strong",null,e.viewerCount)},"RaidIncomingMessage");return r.createElement(v.a,{display:E.g.Flex,alignItems:E.b.Center},r.createElement(ee.a,{alt:n.displayName,src:n.profileImageURL,userLogin:n.login,size:30}),r.createElement(N.a,{color:E.f.Base,margin:{left:1}},s))},t}(r.Component),ie=Object(J.a)(te,{options:function(e){return{variables:{channelLogin:e.message.params.login}}}})(ne),ae=n("u5aL"),re=n("dsMP"),oe=n("amaQ"),se=n("RS58"),le=n("7d/q"),ce=n("k0nM"),de=n("ygYM"),ue=n("dEDE"),me=(n("T84l"),function(e){function t(t){var n=e.call(this,t)||this;return n.state={contextMenuOpen:!1,hideCTA:!1,isHidden:!1},n.toggleContextMenu=function(){var e=n.state.contextMenuOpen;n.setState({contextMenuOpen:!e})},n.onContextMenuClickout=function(){n.setState({contextMenuOpen:!1})},n.hideOnContextMenuAction=function(e){if(void 0!==e)return function(){e(),n.setState({isHidden:!0})}},n.actionClick=n.actionClick.bind(n),n.showCTA=n.showCTA.bind(n),n}return Object(a.__extends)(t,e),t.prototype.render=function(){if(this.state.isHidden)return null;var e=this.props.event.callout,t=void 0===this.props.messageIndex||this.props.messageIndex<6;return r.createElement(N.a,{border:!0,background:E.d.Alt,borderRadius:E.e.Medium,margin:{x:2,y:.5}},r.createElement(v.a,{display:E.g.Flex,flexDirection:E.h.Row,alignItems:E.b.Center,className:"inline-private-callout-line__header"},r.createElement(_.a,{asset:I.a.Lock,width:14,height:14}),r.createElement(v.a,{padding:{left:.5}},r.createElement(b.a,{color:E.f.Alt2}," ",Object(o.d)("Only visible to you","InlineChatPrivateCallout")," "))),r.createElement(N.a,{display:E.g.Flex,alignItems:E.b.Center,padding:1,borderTop:!0},e.icon&&r.createElement(N.a,{className:"inline-private-callout-line__icon",margin:{right:1},padding:e.hideIconBackground?void 0:.5,display:E.g.Flex,flexGrow:0,flexShrink:0,alignItems:E.b.Center,justifyContent:E.l.Center,background:e.hideIconBackground?void 0:E.d.Base,borderRadius:E.e.Rounded,border:!e.hideIconBackground},e.icon),r.createElement(v.a,{flexGrow:1,padding:{right:1}},r.createElement(b.a,{color:E.f.Base,bold:!0,type:b.e.Span},e.title)),e.cta&&this.renderButton(e),e.contextMenuProps&&r.createElement(N.a,{color:E.f.Base,position:E.n.Relative,padding:{top:.5,bottom:1,x:.5}},r.createElement(ae.a,{onClickOut:this.onContextMenuClickout},r.createElement(le.a,{icon:I.a.More,onClick:this.toggleContextMenu,ariaLabel:"more options"}),r.createElement(ce.a,{show:this.state.contextMenuOpen,direction:t?de.b.BottomRight:de.b.TopRight,offsetX:"12px"},r.createElement(re.a,{event:e.contextMenuProps.event,onPin:this.hideOnContextMenuAction(e.contextMenuProps.onPin),onHide:this.hideOnContextMenuAction(e.contextMenuProps.onHide),onSkip:this.hideOnContextMenuAction(e.contextMenuProps.onSkip)}))))),e.withReminderText&&r.createElement(N.a,{borderTop:!0,background:E.d.Base,padding:{left:1}},r.createElement(b.a,{color:E.f.Alt2,type:b.e.Span},Object(o.d)("You will be reminded later","InlinePrivateCallout"))))},t.prototype.renderButton=function(e){var t;return e.action?t=e.action:this.props.event.tray&&(t=this.actionClick),t?r.createElement(N.a,{visibility:this.state.hideCTA?E.r.Hidden:E.r.Visible},r.createElement(ue.a,{onClick:t,size:ue.b.Small,children:e.cta})):null},t.prototype.actionClick=function(){if(this.props.event.tray){var e=this.props.event.tray;e.callOnClose=this.showCTA,e.sendMessageHandler&&e.sendMessageHandler.params&&(e.sendMessageHandler.params.privateCalloutTrackingContext=oe.c.Chat),this.props.setTray(e),this.setState({hideCTA:!0}),Object(oe.f)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.props.event.callout.trackingType,privateCalloutSID:this.props.event.callout.privateSID,clickType:this.props.event.callout.trackingClickType,uiContext:oe.c.Chat})}},t.prototype.showCTA=function(){this.setState({hideCTA:!1})},t}(r.Component));var pe=Object(d.d)(Object(se.b)((function(e){return{setTray:function(t){return e.setTray(t)}}})))(me),he=n("5zf8"),fe=n("x0+1"),ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.moderationActionEvent,t=e.createdByLogin,n=null;if(e.moderationActionType===C.d.AutoModEnabled)n=Object(o.d)("AutoMod has been enabled for this channel.","ModerationActionLine");else if(e.level===S.a.Channel)switch(e.moderationActionType){case C.d.Clear:n=Object(o.d)("{user} cleared chat for this room.",{user:t},"ModerationActionLine");break;case C.d.EmoteOnly:n=Object(o.d)("{user} enabled emote-only mode for this room.",{user:t},"ModerationActionLine");break;case C.d.EmoteOnlyOff:n=Object(o.d)("{user} disabled emote-only for this room.",{user:t},"ModerationActionLine");break;case C.d.FollowersOnly:var i=(e.args||[""]).join(" ").trim(),a=parseInt(i,10);n=a?Object(o.d)("{user} enabled {length} followers-only mode for this room.",{user:t,length:Object(he.b)(60*a)},"ModerationActionLine"):Object(o.d)("{user} enabled followers-only mode for this room.",{user:t},"ModerationActionLine");break;case C.d.FollowersOnlyOff:n=Object(o.d)("{user} disabled followers-only mode for this room.",{user:t},"ModerationActionLine");break;case C.d.R9kBeta:n=Object(o.d)("{user} enabled unique-chat mode for this room.",{user:t},"ModerationActionLine");break;case C.d.R9kBetaOff:n=Object(o.d)("{user} disabled unique-chat mode for this room.",{user:t},"ModerationActionLine");break;case C.d.Slow:var s=(e.args||["30"]).join(" ").trim(),l=parseInt(s,10);n=Object(o.d)("{user} enabled {slowTime}-second slow mode for this room.",{user:t,slowTime:l},"ModerationActionLine");break;case C.d.SlowOff:n=Object(o.d)("{user} disabled slow mode for this room.",{user:t},"ModerationActionLine");break;case C.d.SubscribersOnly:n=Object(o.d)("{user} enabled subscribers-only mode for this room.",{user:t},"ModerationActionLine");break;case C.d.SubscribersOnlyOff:n=Object(o.d)("{user} disabled subscribers-only mode for this room.",{user:t},"ModerationActionLine");break;default:var c=e.args&&e.args.join(" ").trim(),d=c&&c.length>0?"/"+e.moderationActionType+" "+c:""+e.moderationActionType;n=Object(o.d)("{user} used: {command}.",{user:e.createdByLogin,command:d},"ModerationActionLine")}else{var u=e.targetUserLogin,m=e.duration,p=e.reason,h=e.messageBody;switch(e.moderationActionType){case C.d.Timeout:n=e.level===S.a.User&&this.props.currentUserLogin&&u===this.props.currentUserLogin?m&&p?Object(o.d)("You were timed out for {duration} seconds. Reason: {reason}.",{duration:m,reason:p},"ModerationActionLine"):m?Object(o.d)("You were timed out for {duration} seconds.",{duration:m},"ModerationActionLine"):p?Object(o.d)("You were timed out. Reason: {reason}.",{reason:p},"ModerationActionLine"):Object(o.d)("You were timed out.","ModerationActionLine"):m&&p?Object(o.d)("{user} timed out {target} for {duration} seconds. Reason: {reason}.",{user:t,target:u,duration:m,reason:p},"ModerationActionLine"):m?Object(o.d)("{user} timed out {target} for {duration} seconds.",{user:t,target:u,duration:m},"ModerationActionLine"):Object(o.d)("{user} timed out {target}.",{user:t,target:u},"ModerationActionLine");break;case C.d.Ban:n=!t&&p?Object(o.d)("You were banned. Reason: {reason}.",{reason:p},"ModerationActionLine"):t?p?Object(o.d)("{user} banned {target}. Reason: {reason}.",{user:t,target:u,reason:p},"ModerationActionLine"):Object(o.d)("{user} banned {target}.",{user:t,target:u},"ModerationActionLine"):Object(o.d)("You were banned.","ModerationActionLine");break;case C.d.Untimeout:n=Object(o.d)("{user} removed time out on {target}.",{user:t,target:u},"ModerationActionLine");break;case C.d.Unban:n=Object(o.d)("{user} removed ban on {target}.",{user:t,target:u},"ModerationActionLine");break;case C.d.Mod:n=Object(o.d)("{user} granted moderator privileges to {target}.",{user:t,target:u},"ModerationActionLine");break;case C.d.Unmod:n=Object(o.d)("{user} removed moderator privileges for {target}.",{user:t,target:u},"ModerationActionLine");break;case C.d.Delete:var f=h||"";n=r.createElement(fe.a,{targetLogin:u,moderatorLogin:t,messageBody:f});break;default:return null}}return n?r.createElement(v.a,{className:"chat-line__status","data-a-target":"moderation-action"},r.createElement(b.a,{type:b.e.Span},n)):null},t}(r.Component),ve=function(e){var t=Object(o.d)("{receiver} received a {giftName} from the Community Gift Chest, courtesy of {sender}!",{receiver:r.createElement(b.a,{bold:!0,type:b.e.Span},e.event.receiver),giftName:e.event.giftName,sender:r.createElement(b.a,{bold:!0,type:b.e.Span},e.event.sender)},"PrimeCommunityGiftReceivedNoticeLine");return r.createElement(v.a,{display:E.g.Flex},r.createElement(v.a,{margin:{left:.5}},r.createElement(b.a,null,t)))};ve.displayName="PrimePaidUpgradeNoticeLine";var be=n("3Bft"),ke=n("+GjP"),ye=n("2xye"),Se=n("Rjl4"),Ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.referralID=Object(Se.e)(),t.onTryPrimeClick=function(){Object(Se.w)({tp_refcode:t.referralID,medium:ye.PageviewMedium.Chat,content:ye.PageviewContent.TwitchPrimeSubNotification,tp_campaign:Se.b.TrackingAlpha})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.channel,n=e.reference,i=e.text,a=Object(ke.g)("https://twitch.amazon.com/prime",{reference:n,channel:t,twitchReferral:this.referralID});return r.createElement(A.a,{onClick:this.onTryPrimeClick,className:"chat-line__message--link",linkTo:a,targetBlank:!0,rel:"noopener"},i)},t}(r.PureComponent),Ee=function(e){var t=r.createElement(N.a,{display:E.g.Block},r.createElement(O.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.b.chat_message},r.createElement(b.a,{color:E.f.Link},Object(w.a)(e.event.user.username,e.event.user.displayName)))),n=null;return n=e.event.plan===be.a.Custom?Object(o.d)("{userLogin} <x:strong>Converted</x:strong> from a <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link> sub to a Paid sub!",{userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)},"x:twitch-prime-link":function(t){return we(e.event.channel,"primetopaid",t)}},"PrimePaidUpgradeNoticeLine"):Object(o.d)("{userLogin} <x:strong>Converted</x:strong> from a <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link> sub to a Tier {tierNumber} sub!",{tierNumber:Object(T.b)(e.event.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span},e)},"x:twitch-prime-link":function(t){return we(e.event.channel,"primetopaid",t)}},"PrimePaidUpgradeNoticeLine"),r.createElement(v.a,{display:E.g.Flex},r.createElement(N.a,{color:E.f.Alt2},r.createElement(_.a,{asset:I.a.Star})),r.createElement(v.a,{margin:{left:.5}},r.createElement(b.a,null,n)))},we=function(e,t,n){return r.createElement(Ce,{channel:e,reference:t,text:n})};function Oe(){return{raid_error_self:Object(o.d)("You cannot raid your own channel.","RaidErrorSelfMessage"),raid_error_forbidden:Object(o.d)("You cannot raid this channel.","RaidErrorAlreadyRaidingMessage"),raid_error_already_raiding:Object(o.d)("You already have a raid in progress.","RaidErrorForbiddenMessage"),raid_error_too_many_viewers_to_raid:Object(o.d)("Sorry, raids can only support up to 20,000 viewers right now.","RaidErrorTooManyViewersMessage"),raid_error_unexpected:Object(o.d)("There was a problem starting the raid. Please try again in a minute.","RaidErrorUnexpectedMessage"),unraid_error_unexpected:Object(o.d)("There was a problem stopping the raid. Please try again in a minute.","UnraidErrorUnexpectedMessage"),unraid_error_no_active_raid:Object(o.d)("You do not have an active raid.","UnraidErrorNoActiveRaidMessage"),raid_notice_restricted_chat:Object(o.d)("This channel has follower or subscriber only chat.","RaidNoticeRestrictedChatMessage"),raid_notice_mature:Object(o.d)("This channel is intended for mature audiences.","RaidNoticeMatureMessage"),raid_notice_owner:Object(o.d)("This channel has started a raid, type {unraidCommand} if you want to cancel.",{unraidCommand:"/unraid"},"RaidNoticeOwnerMessage")}}Ee.displayName="PrimePaidUpgradeNoticeLine";var De=function(e){return r.createElement("span",null,Oe()[e.message.msgid])};De.displayName="RaidNoticeLine";var Ne=n("X2PJ"),_e=function(e){var t=r.createElement(Ne.a,{display:E.g.Block,key:"chatter-name"},r.createElement("span",null,r.createElement(O.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.b.chat_message},r.createElement(b.a,{color:E.f.Link,type:b.e.Span},Object(w.a)(e.event.user.username,e.event.user.displayName))))),n=null;return n=e.event.methods.prime?e.event.cumulativeMonths<2?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> with <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link>",{userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span,key:"text"},e)},"x:twitch-prime-link":function(t){return Ie(e.event.channel,"resubscription",t)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> with <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link>. They've subscribed for <x:strong>{cumulative} months</x:strong>, currently on a {streak} month streak!",{cumulative:e.event.cumulativeMonths,streak:e.event.streakMonths||0,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span,key:e},e)},"x:twitch-prime-link":function(t){return Ie(e.event.channel,"resubscription",t)}},"ResubNoticeV2Line"):Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> with <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link>. They've subscribed for <x:strong>{cumulative} months</x:strong>!",{cumulative:e.event.cumulativeMonths,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span,key:e},e)},"x:twitch-prime-link":function(t){return Ie(e.event.channel,"resubscription",t)}},"ResubNoticeV2Line"):e.event.methods.plan!==be.a.Custom?e.event.cumulativeMonths<2?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}.",{tierNumber:Object(T.b)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span,key:"text"},e)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} months</x:strong>, currently on a {streak} month streak!",{cumulative:e.event.cumulativeMonths,streak:e.event.streakMonths||0,tierNumber:Object(T.b)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span,key:e},e)}},"ResubNoticeV2Line"):Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} months</x:strong>!",{cumulative:e.event.cumulativeMonths,tierNumber:Object(T.b)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span,key:e},e)}},"ResubNoticeV2Line"):e.event.cumulativeMonths<2?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong>.",{userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span,key:"text"},e)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} months</x:strong>, currently on a {streak} month streak!",{cumulative:e.event.cumulativeMonths,streak:e.event.streakMonths||0,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span,key:e},e)}},"ResubNoticeV2Line"):Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} months</x:strong>!",{cumulative:e.event.cumulativeMonths,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span,key:e},e)}},"ResubNoticeV2Line"),r.createElement(v.a,{display:E.g.Flex},r.createElement(N.a,{color:E.f.Alt2},r.createElement(_.a,{asset:e.event.methods.prime?I.a.Crown:I.a.Star})),r.createElement(v.a,{margin:{left:.5}},r.createElement(b.a,null,n)))},Ie=function(e,t,n){return r.createElement(Ce,{channel:e,reference:t,text:n})};_e.displayName="ResubNoticeV2Line";var Me=n("Uh2Q");var Te=Object(V.c)((function(e){return{primaryColorHex:e.primaryColorHex}}))((function(e){if(!(e.event.messageID&&e.event.userLogin&&e.event.displayName))return null;var t=r.createElement(O.a,{contentID:e.event.messageID,login:e.event.userLogin,sourceType:e.event.sourceType},e.event.displayName),n=Object(o.d)("{count} emotes shared!",{count:e.event.totalRewardCount},"RewardGiftNoticeLine"),i=function(e,t,n){switch(e){case Me.b.Subscription:return Object(o.d)("{selectedCount, plural, one {{gifterButton}'s Sub shared rewards to {selectedCount} other in chat.} other {{gifterButton}'s Sub shared rewards to {selectedCount} others in chat.}}",{gifterButton:t,selectedCount:n},"RewardGiftNoticeLineUpdate");case Me.b.SubGift:return Object(o.d)("{gifterButton}'s Gift shared rewards to {selectedCount} others in chat.",{gifterButton:t,selectedCount:n},"RewardGiftNoticeLine");case Me.b.Cheer:default:return Object(o.d)("{gifterButton}'s Cheer shared rewards to {selectedCount} others in chat.",{gifterButton:t,selectedCount:n},"RewardGiftNoticeLine")}}(e.event.triggerType,t,e.event.selectedCount),a=function(e){switch(e){case Me.b.Subscription:return I.a.Star;case Me.b.SubGift:return I.a.Gift;case Me.b.Cheer:default:return I.a.Bits}}(e.event.triggerType);return r.createElement(v.a,{className:"reward-gift-user-notice",margin:{y:.5}},r.createElement(v.a,{display:E.g.Flex,alignItems:E.b.Start},r.createElement(N.a,{color:E.f.Alt2,margin:{right:.5}},r.createElement(_.a,{asset:a})),r.createElement(v.a,null,r.createElement(b.a,{bold:!0,color:E.f.Link},n),r.createElement(b.a,{color:E.f.Alt2},i))))})),je=function(e){var t=e.event.message,n=t.user.isIntl?t.user.userDisplayName+" ("+t.user.userLogin+")":t.user.userDisplayName,i=Object(o.d)("{user} is new here. Say hello!",{user:r.createElement(O.a,{contentID:t.id,login:t.user.userLogin,sourceType:D.b.chat_message},"@",n)},"NewChatterRitual");return r.createElement(N.a,{color:E.f.Alt2},i)};je.displayName="RitualNoticeLine";var Pe=function(e){var t=e.event,n=r.createElement(O.a,{contentID:t.user.id,login:t.user.username,sourceType:D.b.chat_message},Object(w.a)(t.user.username,t.user.displayName)),i=r.createElement(O.a,{contentID:t.user.id,login:t.recipientLogin,sourceType:D.b.chat_message},Object(w.a)(t.recipientLogin,t.recipientDisplayName)),a=null;return a="custom"===t.methods.plan?function(e,t,n){return 1===n?Object(o.d)("{gifterButton} gifted a Sub to {recipientButton}! It's their first time gifting a Sub in the channel!",{gifterButton:e,recipientButton:t},"SubGiftNoticeLine"):n>1?Object(o.d)("{gifterButton} gifted a Sub to {recipientButton}! They've gifted {senderCount} Subs in the channel!",{gifterButton:e,recipientButton:t,senderCount:n},"SubGiftNoticeLine"):Object(o.d)("{gifterButton} gifted a subscription to {recipientButton}!",{gifterButton:e,recipientButton:t},"SubGiftNoticeLine")}(n,i,t.senderCount):function(e,t,n,i){return 1===n?Object(o.d)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:e,recipientButton:t,tierNumber:i},"SubGiftNoticeLine"):n>1?Object(o.d)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:e,recipientButton:t,senderCount:n,tierNumber:i},"SubGiftNoticeLine"):Object(o.d)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}!",{gifterButton:e,recipientButton:t,tierNumber:i},"SubGiftNoticeLine")}(n,i,t.senderCount,Object(T.b)(t.methods.plan)||1),r.createElement(b.a,{color:E.f.Alt2,type:b.e.Span},a)};Pe.displayName="SubGiftNoticeLine";var Le=function(e){var t=e.event,n=r.createElement(O.a,{contentID:t.user.id,login:t.user.username,sourceType:D.b.chat_message},Object(w.a)(t.user.username,t.user.displayName)),i=null;return i="custom"===t.plan?function(e,t,n,i){return 1===i?Object(o.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:t,gifterButton:e,massGiftCount:n},"SubMysteryGiftNoticeLine"):i>1?Object(o.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:t,gifterButton:e,massGiftCount:n,senderCount:i},"SubMysteryGiftNoticeLine"):Object(o.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:t,gifterButton:e,massGiftCount:n},"SubMysteryGiftNoticeLine")}(n,t.channel,t.massGiftCount,t.senderCount):function(e,t,n,i,a){return 1===i?Object(o.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:t,gifterButton:e,massGiftCount:n,tierNumber:a},"SubMysteryGiftNoticeLine"):i>1?Object(o.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:t,gifterButton:e,massGiftCount:n,senderCount:i,tierNumber:a},"SubMysteryGiftNoticeLine"):Object(o.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:t,gifterButton:e,massGiftCount:n,tierNumber:a},"SubMysteryGiftNoticeLine")}(n,t.channel,t.massGiftCount,t.senderCount,Object(T.b)(t.plan)||1),r.createElement(b.a,{color:E.f.Alt2,type:b.e.Span},i)};Le.displayName="SubMysteryGiftNoticeLine";var Re=function(e){var t=r.createElement(Ne.a,{display:E.g.Block,key:"chatter-name"},r.createElement("span",null,r.createElement(O.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:D.b.chat_message},r.createElement(b.a,{color:E.f.Link,type:b.e.Span},Object(w.a)(e.event.user.username,e.event.user.displayName))))),n=null;return n=e.event.methods.prime?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> with <x:twitch-prime-link>Twitch Prime</x:twitch-prime-link>",{userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span,key:"text"},e)},"x:twitch-prime-link":function(t){return Fe(e.event.channel,"subscription",t)}},"SubNoticeV2Line"):e.event.methods.plan===be.a.Custom?Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong>",{userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span,key:"text"},e)}},"SubNoticeV2Line"):Object(o.d)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}",{tierNumber:Object(T.b)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(b.a,{bold:!0,type:b.e.Span,key:"text"},e)}},"SubNoticeV2Line"),r.createElement(v.a,{display:E.g.Flex},r.createElement(N.a,{color:E.f.Alt2},r.createElement(_.a,{asset:e.event.methods.prime?I.a.Crown:I.a.Star})),r.createElement(v.a,{margin:{left:.5}},r.createElement(b.a,null,n)))},Fe=function(e,t,n){return r.createElement(Ce,{channel:e,reference:t,text:n})};Re.displayName="SubNoticeV2Line";var Ae=n("+kC+"),xe=n("cr+I"),Ue=Object(d.d)(Object(J.a)(Ae,{options:function(e){return{variables:{login:e.channelLogin}}}}))((function(e){var t=e.data;if(t.loading)return null;var n=null;if(!t.error&&t.user&&t.user.subscriptionProducts&&t.user.subscriptionProducts.length>0){var i=t.user.subscriptionProducts.find((function(e){return!!e&&!!e.url}));i&&(n=i.url)}if(!n)return r.createElement(v.a,null,Object(o.d)("This room is in subscribers only mode.","SubsOnlyUpsellLine"));var a=r.createElement(A.a,{targetBlank:!0,linkTo:n+"?"+xe.stringify({ref:"subscriber_only_mode_chat"})},n);return r.createElement(v.a,null,Object(o.d)("This room is in subscribers only mode. To talk, purchase a channel subscription at {productLink}",{productLink:a},"SubsOnlyUpsellLine"))})),Be=n("0Log"),Ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.targetedModerationActionEvent,t=null;switch(e.targetedModerationActionType){case Be.TargetedModerationActions.DeleteNotification:var n=e.messageBody||"";t=r.createElement(fe.a,{messageBody:n,targetIsCurrentUser:!0})}return t?r.createElement(v.a,{className:"chat-line__status"},r.createElement(b.a,{type:b.e.Span},t)):null},t}(r.Component),He=n("r7KY"),Ge=n("X31c"),qe=n("6wGa"),We=(n("NWfm"),"timeout_success"),ze="untimeout_success",Qe="ban_success",Ye="unban_success",Ke="delete_message_success",$e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){if(e.forceUpdateMessage)return!0;if(e.isCurrentUserModerator!==this.props.isCurrentUserModerator)return!0;if(e.showModerationIcons!==this.props.showModerationIcons)return!0;if(e.showTimestamps!==this.props.showTimestamps)return!0;if(e.useHighContrastColors!==this.props.useHighContrastColors)return!0;if(e.theme!==this.props.theme)return!0;switch(e.message.type){case C.b.Message:if(e.message.deleted)return!0;break;case C.b.ChannelPointsReward:case C.b.Resubscription:case C.b.Ritual:if(e.message.message&&e.message.message.deleted)return!0;break;case C.b.AutoMod:if(e.message.autoModType===C.a.MessageRejectedPrompt&&(e.showAutoModActions!==this.props.showAutoModActions||e.message.rejectedMessage.deleted))return!0;break;case C.b.Hosting:case C.b.Unhost:case C.b.SlowMode:case C.b.SubscriberOnlyMode:case C.b.FollowerOnlyMode:case C.b.EmoteOnlyMode:case C.b.R9KMode:case C.b.Clear:case C.b.Unraid:case C.b.Notice:case C.b.ModerationAction:if(e.showModerationActions!==this.props.showModerationActions)return!0;break;case C.b.Moderation:if(e.showModerationActions!==this.props.showModerationActions||e.deletedMessageDisplay!==this.props.deletedMessageDisplay)return!0}return!1},t.prototype.render=function(){var e=this.props.message,t=null;if(this.props.isCurrentUserModerator){if(this.props.showModerationActions)switch(e.type){case C.b.Hosting:case C.b.Unhost:case C.b.SlowMode:case C.b.SubscriberOnlyMode:case C.b.FollowerOnlyMode:case C.b.EmoteOnlyMode:case C.b.R9KMode:case C.b.Clear:case C.b.Unraid:return null}if(this.props.showModerationIcons&&this.props.channelID)switch(e.type){case C.b.Subscription:case C.b.SubGift:case C.b.SubMysteryGift:case C.b.Resubscription:case C.b.GiftPaidUpgrade:case C.b.AnonGiftPaidUpgrade:case C.b.PrimePaidUpgrade:case C.b.CommunityPayForward:case C.b.StandardPayForward:t=r.createElement(qe.a,{canDelete:!0,channelID:this.props.channelID,renderNewVersion:!0,senderLogin:e.user.username,targetUserID:e.user.userID})}}switch(e.type){case C.b.AutoMod:return e.autoModType!==C.a.MessageRejectedPrompt||this.props.isCurrentUserModerator&&this.props.showAutoModActions?r.createElement(l.d,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,message:e,badgeSets:this.props.badgeSets,currentUserDisplayName:this.props.currentUserDisplayName,isCurrentUserModerator:this.props.isCurrentUserModerator,showModerationIcons:this.props.showModerationIcons,theme:this.props.theme,useHighContrastColors:!!this.props.useHighContrastColors,currentUserLogin:this.props.currentUserLogin,confirmModerationAction:this.props.confirmModerationAction}):null;case C.b.ModerationAction:return this.props.isCurrentUserModerator&&this.props.showModerationActions?r.createElement(ge,{moderationActionEvent:e,currentUserLogin:this.props.currentUserLogin}):e.level===S.a.User&&e.targetUserLogin&&e.targetUserLogin===this.props.currentUserLogin?r.createElement(ge,{moderationActionEvent:e,currentUserLogin:this.props.currentUserLogin}):null;case C.b.TargetedModerationAction:return this.props.isCurrentUserModerator?null:r.createElement(Ve,{targetedModerationActionEvent:e});case C.b.Connected:return r.createElement(v.a,{className:"chat-line__status","data-a-target":"chat-welcome-message"},r.createElement(b.a,{type:b.e.Span},Object(o.d)("Welcome to the chat room!","ChatLine")));case C.b.Disconnected:return e.reason?r.createElement(v.a,{className:"chat-line__status"},r.createElement(b.a,{type:b.e.Span},Object(o.d)("You have been disconnected from chat for the following reason: {reason}",{reason:e.reason},"ChatLine"))):r.createElement(v.a,{className:"chat-line__status"},r.createElement(b.a,{type:b.e.Span},Object(o.d)("Sorry, we were unable to connect to chat. Attempting to reconnect...","ChatLine")));case C.b.Hosted:return r.createElement(v.a,{className:"chat-line__status"},r.createElement(b.a,{type:b.e.Span},Object(f.e)(e)));case C.b.Hosting:return r.createElement(v.a,{className:"chat-line__status"},r.createElement(b.a,{type:b.e.Span},Object(o.d)("Now hosting {channel}",{channel:e.hostedChannel},"ChatLine")));case C.b.Unhost:return r.createElement(v.a,{className:"chat-line__status"},r.createElement(b.a,{type:b.e.Span},Object(o.d)("No longer hosting.","ChatLine")));case C.b.Message:return this.props.onRenderReportChatSent&&e.user.userLogin===this.props.currentUserLogin&&this.props.onRenderReportChatSent(),r.createElement(Ge.a,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,badgeSets:this.props.badgeSets,message:e,isDeleted:e.deleted,isHidden:e.hidden,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,confirmModerationAction:this.props.confirmModerationAction,theme:this.props.theme,deletedCount:e.deletedCount,hideBroadcasterTooltip:this.props.hideBroadcasterTooltip});case C.b.FirstCheerMessage:return r.createElement(He.a,null,r.createElement(K,{event:e}),r.createElement(v.a,null,r.createElement(Ge.a,{badgeSets:this.props.badgeSets,confirmModerationAction:this.props.confirmModerationAction,channelID:this.props.channelID,channelLogin:this.props.channelLogin,className:"chat-line--inline",currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isDeleted:e.message.deleted,isHidden:e.message.hidden,message:e.message,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay})));case C.b.BitsBadgeTierMessage:var n=void 0;return e.message.messageParts&&e.message.messageParts.length>0&&(n=r.createElement(v.a,{padding:{top:.5}},r.createElement(Ge.a,{badgeSets:this.props.badgeSets,confirmModerationAction:this.props.confirmModerationAction,channelID:this.props.channelID,channelLogin:this.props.channelLogin,className:"chat-line--inline",currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isDeleted:e.message.deleted,isHidden:e.message.hidden,message:e.message,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay}))),r.createElement(He.a,null,r.createElement(R,{event:e,badgeSets:this.props.badgeSets}),n);case C.b.Moderation:return this.props.isCurrentUserModerator&&!this.props.showModerationActions?this.props.deletedMessageDisplay===s.wb.BRIEF?null:r.createElement(v.a,{className:"chat-line__moderation"},Object(f.g)(e)):null;case C.b.Subscription:return r.createElement(He.a,null,r.createElement(v.a,{display:E.g.Flex,justifyContent:E.l.Between},r.createElement(v.a,{alignItems:E.b.Start},r.createElement(Re,{event:e})),r.createElement(v.a,{alignItems:E.b.End},t)));case C.b.SubGift:if("274598607"===e.user.userID){var i={type:C.b.AnonSubGift,id:e.id,channel:e.channel,methods:e.methods,recipientDisplayName:e.recipientDisplayName,recipientID:e.recipientID,recipientLogin:e.recipientLogin};return r.createElement(He.a,null,r.createElement(j,{event:i}))}return r.createElement(He.a,null,t,r.createElement(Pe,{event:e}));case C.b.AnonSubGift:return r.createElement(He.a,null,r.createElement(j,{event:e}));case C.b.SubMysteryGift:if("274598607"===e.user.userID){i={type:C.b.AnonSubMysteryGift,id:e.id,channel:e.channel,plan:e.plan,massGiftCount:e.massGiftCount};return r.createElement(He.a,null,r.createElement(P,{event:i}))}return r.createElement(He.a,null,t,r.createElement(Le,{event:e}));case C.b.AnonSubMysteryGift:return r.createElement(He.a,null,r.createElement(P,{event:e}));case C.b.CommunityPayForward:case C.b.StandardPayForward:return r.createElement(Z,{event:e,moderationIcons:t});case C.b.RewardGift:return r.createElement(He.a,null,r.createElement(Te,{event:e}));case C.b.BitsCharity:return r.createElement(v.a,{className:"chat-line__bits-charity",padding:{right:2,y:.5}},Object(f.b)(e));case C.b.Resubscription:var a=null;return e.message&&(a=r.createElement(Ge.a,{badgeSets:this.props.badgeSets,confirmModerationAction:this.props.confirmModerationAction,channelID:this.props.channelID,channelLogin:this.props.channelLogin,className:"chat-line--inline",currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isDeleted:e.message.deleted,isHidden:e.message.hidden,message:e.message,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay})),r.createElement(He.a,null,r.createElement(v.a,{display:E.g.Flex,justifyContent:E.l.Between},r.createElement(_e,{event:e}),!a&&r.createElement(v.a,{alignItems:E.b.End},t)),a&&r.createElement(v.a,{margin:{top:.5}},a));case C.b.GiftPaidUpgrade:return r.createElement(He.a,null,t,r.createElement($,{event:e}));case C.b.AnonGiftPaidUpgrade:return r.createElement(He.a,null,t,r.createElement(M,{event:e}));case C.b.PrimeCommunityGiftReceivedEvent:return r.createElement(He.a,null,r.createElement(ve,{event:e}));case C.b.PrimePaidUpgrade:return r.createElement(He.a,null,r.createElement(v.a,{display:E.g.Flex,justifyContent:E.l.Between},r.createElement(v.a,{alignItems:E.b.Start},r.createElement(Ee,{event:e})),r.createElement(v.a,{alignItems:E.b.End},t)));case C.b.ExtendSubscription:return r.createElement(He.a,null,r.createElement(v.a,{display:E.g.Flex,justifyContent:E.l.Between},r.createElement(v.a,null,r.createElement(Y,{event:e})),r.createElement(v.a,{alignItems:E.b.End},t)));case C.b.RoomMods:return r.createElement(v.a,{className:"chat-line__status"},Object(f.i)(e.moderatorLogins));case C.b.SlowMode:return r.createElement(v.a,{className:"chat-line__status"},Object(f.j)(e));case C.b.SubscriberOnlyMode:return r.createElement(v.a,{className:"chat-line__status"},Object(f.k)(e));case C.b.FollowerOnlyMode:return r.createElement(v.a,{className:"chat-line__status"},Object(f.d)(e));case C.b.EmoteOnlyMode:return r.createElement(v.a,{className:"chat-line__status"},Object(f.c)(e));case C.b.R9KMode:return r.createElement(v.a,{className:"chat-line__status"},Object(f.h)(e));case C.b.Clear:return r.createElement(v.a,{className:"chat-line__status"},Object(o.d)("Chat was cleared by a moderator","ChatLine"));case C.b.Notice:if(function(e){return e.msgid in Oe()}(e))return r.createElement(v.a,{className:"chat-line__status"},r.createElement(De,{message:e}));switch(e.msgid){case"msg_subsonly":return r.createElement(v.a,{className:"chat-line__status"},r.createElement(Ue,{channelLogin:this.props.channelLogin}));case F.Kickback:case F.Enabled:case F.Disabled:case F.AlreadyEnabled:case F.AlreadyDisabled:return r.createElement(v.a,{className:"chat-line__status"},r.createElement(U,{type:e.msgid}))}if(this.props.isCurrentUserModerator)switch(e.msgid){case Ke:case We:case Qe:return null;case ze:case Ye:if(this.props.showModerationActions)return null}return r.createElement(v.a,{className:"chat-line__status"},e.message);case C.b.Info:return r.createElement(v.a,{className:"chat-line__status"},e.message);case C.b.InlinePrivateCallout:return this.props.channelLogin&&this.props.currentUserLogin?r.createElement(pe,{event:e,channelID:this.props.channelID,channelLogin:this.props.channelLogin,currentUserLogin:this.props.currentUserLogin,currentUserID:this.props.currentUserID,messageIndex:this.props.messageIndex}):null;case C.b.Raid:return r.createElement(He.a,null,r.createElement(ie,{message:e}));case C.b.Unraid:return r.createElement(He.a,null,r.createElement(b.a,{color:E.f.Alt2},Object(o.d)("The raid has been cancelled.","RaidCancelMessage")));case C.b.Ritual:return r.createElement(He.a,null,r.createElement(je,{event:e}),r.createElement(Ge.a,{badgeSets:this.props.badgeSets,confirmModerationAction:this.props.confirmModerationAction,channelID:this.props.channelID,channelLogin:this.props.channelLogin,className:"chat-line--inline",currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isDeleted:e.message.deleted,isHidden:e.message.hidden,message:e.message,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay}));case C.b.ExtensionMessage:return r.createElement(y,{badgeSets:this.props.badgeSets,channelID:this.props.channelID,currentUserLogin:this.props.currentUserLogin,message:e,showTimestamps:this.props.showTimestamps});case C.b.ChannelPointsReward:var c=void 0;return e.message&&(c=r.createElement(Ge.a,{badgeSets:this.props.badgeSets,confirmModerationAction:this.props.confirmModerationAction,channelID:this.props.channelID,channelLogin:this.props.channelLogin,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isDeleted:e.message.deleted,isHidden:e.message.hidden,message:e.message,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay})),r.createElement(Q,{event:e},c);default:return null}},t}(r.Component);n.d(t,"a",(function(){return $e}))},YV90:function(e,t,n){"use strict";var i=n("ZaoE");n.d(t,"a",(function(){return i.b}))},YXxK:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return r}));var i=n("B/KH");n.d(t,"c",(function(){return i.a}));var a,r,o={Embed:"embed",Web:"web"};!function(e){e.Click="click",e.Enter="enter"}(a||(a={})),function(e){e.ZeroBits="zero_bits",e.CheeringDisabled="cheering_disabled",e.BitsUnavailable="bits_unavailable",e.BitsCardDisabled="bits_card_disabled",e.AboveMaxEmote="above_max_emote",e.AboveMaxCheer="above_max_cheer",e.BelowMin="below_min",e.BelowMinEmote="below_min_emote",e.InputAboveMaxLength="input_above_max_length",e.InputCommandStart="input_command_start",e.InvalidBitsMessage="invalid_bits_message",e.Canceled="canceled",e.UserBanned="user_banned",e.AutoModMessage="auto_mod_message",e.AutoModPending="auto_mod_pending",e.ChannelBlockedTerms="channel_blocked_terms",e.ChannelIneligible="channel_ineligible",e.InvalidAnonymousMessage="invalid_anonymous_message",e.InvalidEventId="invalid_event_id",e.RequestThrottled="request_throttled",e.Unknown="unknown",e.UserIneligible="user_ineligible",e.UserSuspended="user_suspended",e.ZalgoMessage="zalgo_message",e.DuplicateEventId="duplicate_event_id",e.MissingBitsConfig="missing_bits_config"}(r||(r={}))},Z2sP:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return f}));var i,a,r,o=n("pVnL"),s=n.n(o),l=n("q1tI"),c=n("fNzW"),d=n("vCsY"),u=n("X2PJ"),m=n("yymn"),p=n("2Ob2");n("ulxC");!function(e){e.Default="",e.Small="tw-progress-bar--sm",e.ExtraSmall="tw-progress-bar--xs"}(i||(i={})),function(e){e.Default="tw-progress-bar--default",e.Caution="tw-progress-bar--caution",e.Error="tw-progress-bar--error",e.Success="tw-progress-bar--success"}(a||(a={})),function(e){e.Up="up",e.Down="down"}(r||(r={}));var h=function(e){var t={"tw-progress-bar":!0,"tw-progress-bar--countdown":e.animationDirection===r.Down,"tw-progress-bar--countup":e.animationDirection===r.Up,"tw-progress-bar--inherit":e.inherit,"tw-progress-bar--mask":e.mask,"tw-progress-bar--overlay":e.overlay},n={"tw-progress-bar__fill":!0,"tw-progress-bar__fill--paused":e.paused};return e.size&&(t[e.size]=!0),e.status&&(t[e.status]=!0),l.createElement(u.a,{borderRadius:e.borderRadius},l.createElement("div",s()({className:Object(c.a)(t)},Object(d.a)(e),{role:"progressbar","aria-valuenow":e.value,"aria-valuemin":0,"aria-valuemax":100}),l.createElement(u.a,{borderRadius:{topLeft:e.borderRadius,bottomLeft:e.borderRadius},display:m.g.Block},l.createElement("div",{onAnimationEnd:e.onAnimationEnd,className:Object(c.a)(n),style:{width:e.value+"%",animationDuration:e.animationDuration?e.animationDuration+"s":""},"data-a-target":"tw-progress-bar-animation"}))))};h.displayName="ProgressBarComponent",h.defaultProps={borderRadius:m.e.Large,status:a.Default},h.displayName="ProgressBarComponent";var f=Object(p.c)(h)},ZEQw:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o}));var i="subscribe_to_channel",a="turbo",r="visit_url",o="broadcaster"},ZGDZ:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.SMALL=28]="SMALL",e[e.MEDIUM=56]="MEDIUM",e[e.LARGE=112]="LARGE"}(i||(i={}))},ZGqV:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"channelChanlet"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Channel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthorized"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"restriction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exemptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:123}};n.loc.source={body:"fragment channelChanlet on Channel {\nid\nself {\nisAuthorized\n}\nrestriction {\nid\ntype\nexemptions {\nstartsAt\nendsAt\ntype\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},ZLqn:function(e,t,n){"use strict";var i=n("q1tI"),a=n("/7QA"),r=n("EuPq"),o=n("X7Ac"),s=n("eJ65"),l=n("EdhP"),c=n("+GjP"),d=n("b7S+"),u=n("7d/q"),m=n("C7sF"),p=n("ygYM"),h=n("sUnt"),f=n("yymn"),g=n("+80q"),v=function(e){var t=Object(c.g)("https://www.twitch.tv/"+e.login,{tt_medium:"live_embed",tt_content:"text_link"}),n=Object(a.d)("Watch live video from {displayName} on www.twitch.tv",{displayName:e.displayName||e.login},"ChannelShareButton"),v=Object(l.b)({channel:e.login},{textLink:{url:t,text:n},allowScrolling:!1,allowFullscreen:!0}),b="https://www.twitch.tv/embed/"+e.login+"/chat",k=Object(l.a)(b,{height:500,width:350,allowFullscreen:!1,allowScrolling:!1}),y=Object(a.d)("Share","ChannelShareButton"),S={label:y,direction:d.c.Bottom};return i.createElement(s.a,{tooltipProps:S},i.createElement(u.a,{type:u.c.Primary,"data-a-target":"share-button",icon:m.a.Share,title:y,ariaLabel:y}),i.createElement(p.a,{direction:p.b.TopRight,size:p.c.Small,"data-a-target":"share-balloon"},i.createElement(h.a,{padding:1},i.createElement(h.a,{padding:{top:1,bottom:1},display:f.g.Flex,justifyContent:f.l.Between},i.createElement(o.a,{type:o.c.Twitter,text:e.title,"data-a-target":"twitter-share-button"}),i.createElement(o.a,{type:o.c.Facebook,"data-a-target":"facebook-share-button"}),i.createElement(o.a,{type:o.c.VKontakte,"data-a-target":"vkontakte-share-button"}),i.createElement(o.a,{type:o.c.Reddit,text:e.title,"data-a-target":"reddit-share-button"}),i.createElement(o.a,{type:o.c.Copy,"data-a-target":"copy-link-share-button"})),i.createElement(h.a,null,i.createElement(h.a,{padding:{top:1}},i.createElement(g.a,null,Object(a.d)("Embed Channel","ChannelShareButton")),i.createElement(r.a,{value:v})),i.createElement(h.a,{padding:{top:1}},i.createElement(g.a,null,Object(a.d)("Embed Chat","ChannelShareButton")),i.createElement(r.a,{value:k}))))))};n.d(t,"a",(function(){return v}))},ZUUl:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var i=n("4rCz");function a(e,t){return function(n,a){e({dispatch:n,getState:a},t,i.q.apollo.client)}}function r(e,t){return function(n,a){e({dispatch:n,getState:a},t,i.q.apollo.client,i.p)}}},ZVTe:function(e,t,n){"use strict";var i=n("TSYQ"),a=n("q1tI"),r=n("EE1E"),o=(n("2e6W"),function(e){var t,n=e.userData.color;e.highContrastUsernameColor&&n&&(n="#"+Object(r.a)(n,e.theme));var o=[a.createElement("span",{key:"username-display",className:"chat-author__display-name","data-a-target":"chat-message-username","data-a-user":e.userData.userLogin,"data-test-selector":"message-username",style:{color:n}},e.userData.userDisplayName)];if(e.userData.isIntl){var s=i(((t={})["chat-author__intl-login"]=!e.highlighted,t["chat-author__intl-login--highlighted"]=e.highlighted,t));o.push(a.createElement("span",{key:"username-login",style:{color:n},className:s,"data-test-selector":"message-username-canonical"}," ("+e.userData.userLogin+")"))}return a.createElement("span",{key:e.userData.userID+"-authorlabel"},o)});n.d(t,"a",(function(){return o}))},ZZOg:function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("/MKj"),o=n("Ty5D"),s=n("ANjH"),l=n("ZS2+"),c=n("1/iK"),d=n("XDCx"),u=n("y5D0"),m=n("/HY+"),p=n("q1tI"),h=n("eJ65"),f=n("yWUM"),g=n("+GjP"),v=n("D7An"),b=n("DMoW"),k=n("4rCz"),y=n("GnwI"),S=n("4qQ0"),C=n("4TH8"),E=n("16Gl"),w=n("7d/q"),O=n("C7sF"),D=n("ygYM"),N=n("Ws8v"),_=n("yymn"),I=n("i4Ys");!function(e){e.BanUserButton="ban-user",e.ClipOptionsButton="clip-options-button",e.ClipOptionsContainer="clip-options-container",e.DeleteAllButton="delete-all",e.DeleteButton="delete",e.ReportButton="report",e.TimeOutButton="timeout-user",e.WatchFullVideoButton="watch-full-video-button"}(i||(i={}));var M=function(e){function t(t){var n=e.call(this,t)||this;return n.renderWatchFullVideoOption=function(){var e=n.props.clip;if(n.props.currentUser){var t=n.props.currentUser,a=t.isEditor,r=t.isBroadcaster;if(e&&"control"!==n.vodDamianAssignment&&(a||r)){var o=Object(k.d)("Watch Full Video","ClipOptions"),s={linkTo:"",disabled:!1};if(e.video){var l=location.protocol+"//"+location.host+Object(E.g)(e.video.id);s.linkTo=Object(g.g)(l,{t:Object(f.a)(e.videoOffsetSeconds)})}else s.disabled=!0,o=Object(k.d)("Full video Unavailable","ClipOptions");return p.createElement(C.a,{key:"watch-full-option",interactableProps:s,testSelector:i.WatchFullVideoButton},o)}}},n.handleReportModalClose=function(e){(e===S.b.MutationError||e===S.b.Success)&&n.props.history.push("/")},n.getBroadcasterID=function(){var e=n.props.clip;return e&&e.broadcaster&&e.broadcaster.id?e.broadcaster.id:""},n.getCuratorID=function(){var e=n.props.clip;return e&&e.curator&&e.curator.id?e.curator.id:""},n.vodDamianAssignment=k.q.experiments.getAndTrackAssignment(v.c.VODDamian,{channel:t.channelLogin}),n}return Object(a.__extends)(t,e),t.prototype.render=function(){return p.createElement(h.a,null,p.createElement(w.a,{"data-test-selector":i.ClipOptionsButton,type:w.c.Primary,icon:O.a.More,ariaLabel:Object(k.d)("Clip Options","ClipOptions"),disabled:!this.props.clip}),this.props.clip?p.createElement(D.a,{direction:D.b.TopRight},p.createElement(N.a,{padding:{y:1},color:_.f.Link},p.createElement("ul",{"data-test-selector":i.ClipOptionsContainer},this.renderWatchFullVideoOption(),this.renderReportOption(this.props.clip),this.renderDeleteOption(this.props.clip),this.renderDeleteAllOption(this.props.clip),this.renderBanUserOption(this.props.clip),this.renderTimeOutUserOption(this.props.clip)))):p.createElement(D.a,null))},t.prototype.renderDeleteOption=function(e){var t=this;if(this.props.currentUser&&(this.props.currentUser.isCurator||this.props.currentUser.isBroadcaster||this.props.currentUser.isStaffOrSiteAdmin)){var n={onClick:function(){t.props.onDeleteClipClick({slug:e.slug,onClose:t.props.onCloseModal})},type:I.b.Alert};return p.createElement(C.a,{key:"delete-option",interactableProps:n,testSelector:i.DeleteButton},Object(k.d)("Delete","ClipOptions"))}},t.prototype.renderDeleteAllOption=function(e){var t=this;if(this.props.currentUser&&(this.props.currentUser.isBroadcaster||this.props.currentUser.isStaffOrSiteAdmin)){var n={type:I.b.Alert,onClick:function(){t.props.onDeleteAllClipsClick({slug:e.slug,onClose:t.props.onCloseModal})}};return p.createElement(C.a,{key:"delete-all-option",interactableProps:n,testSelector:i.DeleteAllButton},Object(k.d)("Delete All Clips from Video","ClipOptions"))}},t.prototype.renderReportOption=function(e){var t=this,n=this.getBroadcasterID(),a=this.getCuratorID(),r={onClick:function(){t.props.currentUser?t.props.onReportClick({onClose:t.handleReportModalClose,reportContext:{contentType:b.Mc.CLIP_REPORT,contentID:e.slug,targetUserID:n,additionalTrackingID:a},title:Object(k.d)("Report this Clip","ClipsOptions")}):t.props.onShowLogin()}};return p.createElement(C.a,{key:"report-option",interactableProps:r,testSelector:i.ReportButton},Object(k.d)("Report","ClipOptions"))},t.prototype.renderBanUserOption=function(e){var t=this;if(this.props.currentUser&&(this.props.currentUser.isBroadcaster||this.props.currentUser.isStaffOrSiteAdmin)){var n={login:"",displayName:""};e.curator&&e.curator.login&&e.curator.displayName&&(n={login:e.curator.login,displayName:e.curator.displayName});var a=this.getBroadcasterID(),r={onClick:function(){t.props.onBanClick({broadcasterID:a,targetUser:n,onClose:t.props.onCloseModal})},type:I.b.Alert};return p.createElement(C.a,{key:"ban-option",interactableProps:r,testSelector:i.BanUserButton},Object(k.d)("Ban User","ClipOptions"))}},t.prototype.renderTimeOutUserOption=function(e){var t=this;if(this.props.currentUser&&(this.props.currentUser.isBroadcaster||this.props.currentUser.isStaffOrSiteAdmin)){var n={login:"",displayName:""};e.curator&&e.curator.login&&e.curator.displayName&&(n={login:e.curator.login,displayName:e.curator.displayName});var a=this.getBroadcasterID(),r={onClick:function(){t.props.onTimeOutClick({broadcasterID:a,targetUser:n,onClose:t.props.onCloseModal})},type:I.b.Alert};return p.createElement(C.a,{key:"timeout-option",interactableProps:r,testSelector:i.TimeOutButton},Object(k.d)("Timeout User (24 hr)","ClipOptions"))}},t}(p.Component),T=Object(y.withLatencyTracking)("ClipsOptions",{autoReportInteractive:!0})(M),j=l.a.wrap((function(){return n.e(73).then(n.bind(null,"jsEL"))}),"ClipsModalBanUser"),P=l.a.wrap((function(){return n.e(73).then(n.bind(null,"jsEL"))}),"ClipsModalDelete"),L=l.a.wrap((function(){return n.e(73).then(n.bind(null,"jsEL"))}),"ClipsModalDeleteAll");var R=Object(r.b)(null,(function(e){return Object(s.b)({onShowLogin:function(){return Object(u.e)(c.a.ClipsOptions)},onDeleteClipClick:function(e){return Object(d.e)(P,{slug:e.slug,onClose:e.onClose})},onDeleteAllClipsClick:function(e){return Object(d.e)(L,{slug:e.slug,onClose:e.onClose})},onReportClick:function(e){var t=Object(a.__rest)(e,[]);return Object(d.e)(m.a,t)},onBanClick:function(e){return Object(d.e)(j,{targetUser:e.targetUser,broadcasterID:e.broadcasterID,isTemporary:!1,onClose:e.onClose})},onTimeOutClick:function(e){return Object(d.e)(j,{targetUser:e.targetUser,broadcasterID:e.broadcasterID,isTemporary:!0,onClose:e.onClose})},onCloseModal:d.d},e)}))(Object(o.k)(T));n.d(t,"a",(function(){return R}))},ZaoE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("1rIY"),a=Object(i.a)("ChannelPointsContext",{activeMultipliers:[],automaticRewards:[],balance:0,channelID:null,channelLogin:null,customRewards:[],displayName:null,emoteVariants:[],isChannelPointsEnabled:!1,isChannelPointsFeatureFlagOn:!1,isCurrentUserModerator:!1,isLoaded:!1,pointIcon:null,pointName:null,raidPointAmount:0,rewardMap:{},earning:null}),r=a.context,o=a.withContext},ZhMv:function(e,t,n){},Zkco:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("TSYQ"),a=n("q1tI"),r=n("cys1"),o=n("oK83"),s=(n("RWz3"),function(e){var t=e.message,n={disableLinks:!0,forceClipsNetworkRequest:!0,messageAuthorID:e.author.id,messageSourceID:t.id,emoteSourceType:o.a.vod},s=i({"message--highlighted":e.isHighlighted});return a.createElement("span",{key:t.id,style:{color:e.allowActionTextColors&&t.isAction?t.userColor:""},className:s},Object(r.f)(t.tokens,n,!0))})},ZtEv:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return l}));var i,a,r,o,s=n("0Log");n.d(t,"d",(function(){return s.ModerationActions})),function(e){e[e.Message=0]="Message",e[e.ExtensionMessage=1]="ExtensionMessage",e[e.Moderation=2]="Moderation",e[e.ModerationAction=3]="ModerationAction",e[e.TargetedModerationAction=4]="TargetedModerationAction",e[e.AutoMod=5]="AutoMod",e[e.SubscriberOnlyMode=6]="SubscriberOnlyMode",e[e.FollowerOnlyMode=7]="FollowerOnlyMode",e[e.SlowMode=8]="SlowMode",e[e.EmoteOnlyMode=9]="EmoteOnlyMode",e[e.R9KMode=10]="R9KMode",e[e.Connected=11]="Connected",e[e.Disconnected=12]="Disconnected",e[e.Reconnect=13]="Reconnect",e[e.Hosting=14]="Hosting",e[e.Unhost=15]="Unhost",e[e.Hosted=16]="Hosted",e[e.Subscription=17]="Subscription",e[e.Resubscription=18]="Resubscription",e[e.GiftPaidUpgrade=19]="GiftPaidUpgrade",e[e.AnonGiftPaidUpgrade=20]="AnonGiftPaidUpgrade",e[e.PrimePaidUpgrade=21]="PrimePaidUpgrade",e[e.PrimeCommunityGiftReceivedEvent=22]="PrimeCommunityGiftReceivedEvent",e[e.ExtendSubscription=23]="ExtendSubscription",e[e.SubGift=24]="SubGift",e[e.AnonSubGift=25]="AnonSubGift",e[e.Clear=26]="Clear",e[e.RoomMods=27]="RoomMods",e[e.RoomState=28]="RoomState",e[e.Raid=29]="Raid",e[e.Unraid=30]="Unraid",e[e.Ritual=31]="Ritual",e[e.Notice=32]="Notice",e[e.Info=33]="Info",e[e.BadgesUpdated=34]="BadgesUpdated",e[e.Purchase=35]="Purchase",e[e.BitsCharity=36]="BitsCharity",e[e.CrateGift=37]="CrateGift",e[e.RewardGift=38]="RewardGift",e[e.SubMysteryGift=39]="SubMysteryGift",e[e.AnonSubMysteryGift=40]="AnonSubMysteryGift",e[e.StandardPayForward=41]="StandardPayForward",e[e.CommunityPayForward=42]="CommunityPayForward",e[e.FirstCheerMessage=43]="FirstCheerMessage",e[e.BitsBadgeTierMessage=44]="BitsBadgeTierMessage",e[e.InlinePrivateCallout=45]="InlinePrivateCallout",e[e.ChannelPointsReward=46]="ChannelPointsReward"}(i||(i={})),function(e){e[e.Post=0]="Post",e[e.Action=1]="Action",e[e.PostWithMention=2]="PostWithMention"}(a||(a={})),function(e){e[e.Ban=0]="Ban",e[e.Timeout=1]="Timeout",e[e.Delete=2]="Delete"}(r||(r={})),function(e){e[e.MessageRejectedPrompt=0]="MessageRejectedPrompt",e[e.CheerMessageRejectedPrompt=1]="CheerMessageRejectedPrompt",e[e.MessageRejected=2]="MessageRejected",e[e.MessageAllowed=3]="MessageAllowed",e[e.MessageDenied=4]="MessageDenied",e[e.CheerMessageDenied=5]="CheerMessageDenied",e[e.CheerMessageTimeout=6]="CheerMessageTimeout",e[e.MessageModApproved=7]="MessageModApproved",e[e.MessageModDenied=8]="MessageModDenied"}(o||(o={}));var l=new Set(["usage_clear","usage_commercial","usage_host","usage_unhost","usage_raid","usage_unraid","usage_slow_on","usage_slow_off","usage_followers_on","usage_followers_off","usage_emote_only_on","usage_emote_only_off","usage_subs_on","usage_subs_off","usage_r9k_on","usage_r9k_off","unrecognized_cmd"])},ZuCe:function(e,t,n){},ZuiC:function(e,t,n){"use strict";n.d(t,"n",(function(){return r})),n.d(t,"t",(function(){return o})),n.d(t,"l",(function(){return s})),n.d(t,"s",(function(){return l})),n.d(t,"m",(function(){return c})),n.d(t,"r",(function(){return d})),n.d(t,"o",(function(){return u})),n.d(t,"u",(function(){return m})),n.d(t,"p",(function(){return p})),n.d(t,"v",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"z",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"A",(function(){return b})),n.d(t,"f",(function(){return k})),n.d(t,"B",(function(){return y})),n.d(t,"c",(function(){return S})),n.d(t,"y",(function(){return C})),n.d(t,"k",(function(){return E})),n.d(t,"q",(function(){return w})),n.d(t,"i",(function(){return O})),n.d(t,"E",(function(){return D})),n.d(t,"h",(function(){return N})),n.d(t,"D",(function(){return _})),n.d(t,"g",(function(){return I})),n.d(t,"C",(function(){return M})),n.d(t,"a",(function(){return T})),n.d(t,"w",(function(){return j})),n.d(t,"j",(function(){return P})),n.d(t,"F",(function(){return L})),n.d(t,"b",(function(){return R})),n.d(t,"x",(function(){return F}));var i=n("mrSG"),a=n("/7QA"),r="vodChat.comments.DELETED_SUCCESS",o=function(e){return Object(i.__assign)({type:r},e)},s="vodChat.comments.CREATED_SUCCESS",l=function(e){return Object(i.__assign)({type:s},e)},c="vodChat.comments.CREATE_FAILED",d=function(e){return{type:c,createError:e}},u="vodChat.comments.DISPLAY_ERROR",m=function(e){return{type:u,errorMessage:e}},p="vodChat.comments.UPDATED_SUCCESS",h=function(e){return Object(i.__assign)({type:p},e)},f="vodChat.comments.CURSOR_RECEIVED",g=function(e){return Object(i.__assign)({type:f},e)},v="vodChat.comments.OFFSET_RECEIVED",b=function(e){return Object(i.__assign)({type:v},e)},k="vodChat.comments.QUERY_FAILED",y=function(){return{type:k}},S="vodChat.comments.CLEARED",C=function(){return{type:S}},E="vodChat.comments.COOLDOWN_ENDED",w=function(){return{type:E}},O="vodChat.comments.SYNC_ENABLED",D=function(){return{type:O}},N="vodChat.comments.SYNC_DISABLED",_=function(){return{type:N}},I="vodChat.comments.REPLAY_FILTER_CHANGED",M=function(e){return a.m.set("videoChat.is_replay_mode",e),{type:I,isReplayFilterOn:e}},T="vodChat.comments.CHAT_REPLAY_ERROR_HIDE",j=function(){return{type:T}},P="vodChat.comments.TIMESTAMP_MODE_CHANGED",L=function(e){return a.m.set("videoChat.hide_timestamps",e),{type:P,hideTimestamps:e}},R="vodChat.comments.REQUEST_CHAT_SETTINGS",F=function(){return{type:R,isReplayFilterOn:a.m.get("videoChat.is_replay_mode",!1),hideTimestamps:a.m.get("videoChat.hide_timestamps",!1)}}},Zy80:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("/7QA"),a=n("D7An"),r="variant1";function o(){return i.p.experiments.getAndTrackAssignment(a.c.VODHighGround)===r}},a1OF:function(e,t,n){"use strict";var i=n("mrSG"),a=n("/7QA"),r=n("oe5X"),o=n("0FG4"),s=n("kRBY");n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h}));var l=["#FF0000","#0000FF","#008000","#B22222","#FF7F50","#9ACD32","#FF4500","#2E8B57","#DAA520","#D2691E","#5F9EA0","#1E90FF","#FF69B4","#8A2BE2","#00FF7F"],c={};function d(e,t,n,a,r,o,s){void 0===a&&(a=null),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=!1);var l,c,d,p,h=(l=t.displayName,c=t.username,p=!1,(d=l)?d.split("").map((function(e){return e.charCodeAt(0)>127})).reduce((function(e,t){return e||t}))&&(p=!0):d=c,{userDisplayName:d,isIntl:p});return{badges:t.badges||{},badgeDynamicData:t.badgeDynamicData||{},bits:t.bits,user:Object(i.__assign)(Object(i.__assign)({},h),{userLogin:t.username,userID:t.userID,userType:t.userType,color:t.color||u(t.userID)}),messageParts:m(e,t.emotes||{},t.bits,n,t.username,a||void 0),deleted:r,banned:s,hidden:o,timestamp:Date.now()}}function u(e,t){return void 0===t&&(t=15),"number"!=typeof c[e]&&(c[e]=Math.floor(Math.random()*t)),l[c[e]]}function m(e,t,n,i,l,c){var d=Object(s.e)(a.p.store.getState()),u={cheers:n?i:void 0,emotes:{type:o.a.Position,map:t},links:{parseClips:!0,parseVods:!0},mentions:{senderLogin:l,sessionUser:d},flags:c};return Object(r.a)(e,u)}function p(e){return e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)}function h(e,t){return"https://static-cdn.jtvnw.net/emoticons/v1/"+e+"/"+Math.min(Math.ceil(t),3)+".0"}},a2Ot:function(e,t,n){},a6LY:function(e,t,n){"use strict";var i,a,r,o,s;n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),function(e){e.DeleteMessage="delete",e.BanUser="ban",e.UnbanUser="unban",e.TimeoutUser="timeout",e.UntimeoutUser="untimeout",e.ModUser="mod",e.UnmodUser="unmod"}(i||(i={})),function(e){e.QuickModButtons="quick_mod_buttons",e.ChatCommand="chat_command",e.ModerationCard="moderation_card",e.DashboardBannedChatters="dashboard_banned_chatters",e.AutoModWidget="automod_widget_buttons",e.ModViewContextBar="mod_view_context_bar"}(a||(a={})),function(e){e.Broadcaster="broadcaster",e.Staff="staff",e.Editor="editor",e.Mod="mod"}(r||(r={})),function(e){e.ChannelPage="channel_page",e.Dashboard="dashboard",e.DesktopPopout="desktop",e.Embed="embed",e.ModView="mod_view",e.LiveDashboard="live_dashboard",e.MultiStream="multi_stream",e.Popout="popout",e.Spotlight="spotlight",e.StreamManager="stream_manager",e.WatchParty="watch_party"}(o||(o={})),function(e){e.Channel="channel",e.Login="login"}(s||(s={}))},aF6k:function(e,t,n){"use strict";function i(e){var t=Math.random().toString(36).substring(2,6);return e+"-"+Date.now()+"-"+t}n.d(t,"a",(function(){return i}))},ahza:function(e,t,n){"use strict";var i=n("cr+I"),a=n("b6Yk"),r=n("pU2t");n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return b}));var o="content_offset_seconds",s="cursor",l="comment_id";function c(e){return"/v5/videos/"+e+"/comments"}function d(e){return u(e).toString()+"/replies"}function u(e){return"/v5/videos/comments/"+e}function m(e){var t;t=g(e)?d(e.parentId):c(e.contentId);var n={body:Object(r.g)(e)};return a.a.post(t,n)}function p(e){try{if(function(e){return"commentID"in e}(e))return function(e){var t={};void 0!==e.cursor&&(t[s]=e.cursor);var n=d(e.commentID)+"?"+i.stringify(t);return a.a.getOrThrow(n).then((function(e){return Object(r.e)(e.body)}))}(e);var t={};v(e)?t[s]=e.cursor:b(e)&&(t[o]=""+e.offset,void 0!==e.highlightedMessageID&&(t[l]=e.highlightedMessageID));var n=c(e.videoID)+"?"+i.stringify(t);return a.a.getOrThrow(n).then((function(t){return Object(r.d)(t.body,e.bitsConfig)}))}catch(e){return Promise.reject(e)}}function h(e){var t=u(e.comment.id),n={body:{state:e.state}};return a.a.putOrThrow(t,n).then((function(t){return Object(r.f)(t.body,e.comment)}))}function f(e){var t=u(e.id);return a.a.delete(t)}function g(e){return"parentId"in e}function v(e){return"cursor"in e}function b(e){return"offset"in e}},amaQ:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return m}));var i,a,r,o,s=n("mrSG"),l=n("/7QA"),c=n("2xye");!function(e){e.AppointedModerator="appointed_moderator",e.MegacheerEmoteRecipient="megacheer_emote_recipient",e.Resub="re_sub",e.PinnedResub="pinned_re_sub",e.CheerBadgeGrant="cheer_badge_grant",e.CommunitySubGift="community_sub_gift",e.CommunityPointsReward="community_points_reward",e.HypeTrainRewards="hype_train_rewards"}(i||(i={})),function(e){e.Dismiss="dismiss",e.Remind="remind_later",e.Pin="pin_callout",e.SkipMonthlyAlert="skip_monthly_alert",e.Message="chat_message_send"}(a||(a={})),function(e){e.Share="click_share",e.Options="options_menu",e.Thank="click_thank",e.NoAction="no_action",e.ShowReward="click_show_reward",e.Gift="click_gift",e.OpenModView="open_mod_view"}(r||(r={})),function(e){e.PrivateCallout="private_callout",e.Chat="private_callout_chat"}(o||(o={}));var d=function(e){l.o.track(c.SpadeEventType.PrivateCalloutAction,Object(s.__assign)(Object(s.__assign)({},p(e)),{action:e.action,ui_context:e.uiContext,msg_body:e.msgBody,used_prompt:e.usedPrompt}))},u=function(e){l.o.track(c.SpadeEventType.PrivateCalloutClick,Object(s.__assign)(Object(s.__assign)({},p(e)),{click_type:e.clickType,ui_context:e.uiContext}))},m=function(e){l.o.track(c.SpadeEventType.PrivateCalloutImpression,Object(s.__assign)(Object(s.__assign)({},p(e)),{has_cta:e.hasCTA}))};function p(e){return{channel_id:e.channelID,channel_login:e.channelLogin,callout_type:e.calloutType,private_callout_sid:e.privateCalloutSID}}},ati1:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ArchivePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ArchivePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"archivePoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:94}};n.loc.source={body:"mutation ArchivePoll($input: ArchivePollInput!) {\narchivePoll(input: $input) {\npoll {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ArchivePoll=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ArchivePoll")},axcf:function(e,t,n){},b5C3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("q1tI"),a=n("vHGB"),r=function(e){var t=e.badgesToRender,n=e.badgeSets,r=e.hideBroadcasterTooltip;if(!t)return null;var o,s=[];o=t,Array.isArray(o)?s=t.map((function(t){var o=n.getBadge(t.setID,t.version);return null===o?null:e.usesSchemaBadges?i.createElement(a.a,{key:o.setID+"/"+o.version,schemaBadge:o,hideTooltip:"broadcaster"===o.setID&&r}):i.createElement(a.a,{key:o.setID+"/"+o.version,badge:o,hideTooltip:"broadcaster"===o.setID&&r})})):function(e){return!Array.isArray(e)}(t)&&(s=Object.keys(t).map((function(o){var s=t[o],l=n.getBadge(o,s);if(null===l)return null;var c=e.dynamicData&&e.dynamicData[l.setID];return e.usesSchemaBadges?i.createElement(a.a,{key:l.setID+"/"+l.version,schemaBadge:l,dynamicData:c,hideTooltip:"broadcaster"===l.setID&&r}):i.createElement(a.a,{key:l.setID+"/"+l.version,badge:l,dynamicData:c,hideTooltip:"broadcaster"===l.setID&&r})})));var l=s.filter((function(e){return null!==e}));return i.createElement("span",null,l)};r.displayName="BadgeList"},bRMw:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c}));var i=n("/7QA"),a=n("kRBY"),r="cc_v2_whitelist",o="cc_v2_single_stream",s="cc_v2_pov_selector";function l(e,t){var n=t.toLocaleLowerCase(),r=i.b.get(e,[]).map((function(e){return e.toLocaleLowerCase()})),o=i.p.store.getState();return r.includes(n)||r.includes(n+"-staff")&&Object(a.g)(o)||!!(r.includes(n+"-staff")&&o.session&&o.session.user&&o.session.user.login.toLocaleLowerCase()===n)}function c(e){return l(r,e)}},bdHe:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("q1tI"),a=n("zjIR"),r=n("EJeP"),o=n("sUnt"),s=n("uOxs"),l=function(){for(var e=[],t=0;t<r.REQUEST_LIMIT;t++)e.push(i.createElement(o.a,{className:"channel-follow-listing--card",margin:{bottom:2},key:t},i.createElement(a.a,null)));return i.createElement(o.a,{fullWidth:!0,padding:{x:3,y:2}},i.createElement(s.a,{placeholderItems:r.REQUEST_LIMIT,center:!0,gutterSize:s.c.Small,childWidth:s.b.Large},e))}},bjUr:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Chat=0]="Chat",e[e.ViewerList=1]="ViewerList"}(i||(i={}))},buTd:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.AppointedModerator="appointed-moderator",e.BitsBadgeTier="bits-badge-tier",e.ShareResub="share-resub",e.ThankSubGifter="thank-sub-gifter",e.MegaBenefactorRewards="mega-benefactor-rewards",e.MegaRecipientRewards="mega-recipient-rewards",e.CommunityPointsRewards="community-points-rewards",e.HypeTrainRewards="hype-train-rewards"}(i||(i={}))},cERj:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i,a=n("mrSG"),r=n("q1tI"),o=n("Ty5D"),s=n("/7QA"),l=n("eJ65"),c=n("+GjP"),d=n("vRsq"),u=n("sUnt"),m=n("yymn"),p=n("+80q"),h=n("EmXd"),f=n("u03v"),g=n("ygYM"),v=n("i4Ys");!function(e){e.ButtonText="button-text",e.FilterText="filter-text"}(i||(i={}));var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.getFilters(),t=e.find((function(e){return!!e.selected}));return r.createElement(u.a,{display:m.g.Flex,flexDirection:m.h.Row,alignItems:m.b.Center},r.createElement(u.a,{padding:{right:.5}},r.createElement(p.a,{bold:!0},Object(s.d)("Filter by","VideoFilter"))),r.createElement(l.a,{hideBalloonOnInsideClick:!0},r.createElement(h.a,{dropdown:f.b.ArrowDown,"data-a-target":"video-type-filter-dropdown"},r.createElement(p.a,{bold:!0,"data-test-selector":i.ButtonText},t?t.label:e[0].label)),r.createElement(g.a,{noTail:!0,direction:g.b.Bottom},this.renderFilterList())))},t.prototype.renderFilterList=function(){return this.getFilters().map(this.renderFilter.bind(this))},t.prototype.renderFilter=function(e){var t=!!e.selected;return r.createElement(v.a,{key:e.label,linkTo:t?this.props.location:this.filterLink(e.filter),selected:t,"data-a-target":"video-type-filter-"+e.filter},r.createElement(u.a,{padding:{x:1,y:.5},"data-test-selector":i.FilterText},e.label))},t.prototype.getFilters=function(){var e,t=[{label:Object(s.d)("Featured","CustomShelves"),filter:d.e.Featured},{label:Object(s.d)("Past Broadcasts","VideoFilter2"),filter:d.e.PastBroadcasts},{label:Object(s.d)("Highlights","VideoFilter2"),filter:d.e.Highlights},{label:Object(s.d)("Clips","VideoFilter2"),filter:d.e.Clips},{label:Object(s.d)("Uploads","VideoFilter2"),filter:d.e.Uploads},{label:Object(s.d)("Past Premieres","VideoFilter2"),filter:d.e.PastPremieres},{label:Object(s.d)("Collections","VideoFilter2"),filter:d.e.Collections},{label:Object(s.d)("All Videos","VideoFilter2"),filter:d.e.All}];return e=Object(d.w)(this.props.location.search),t.forEach((function(t){e||t.filter!==d.e.Featured?e&&e===t.filter&&(t.selected=!0):t.selected=!0})),t},t.prototype.filterLink=function(e){var t;return e?Object(d.k)(this.props.channelLogin,this.props,((t={})[d.c]=e,t)):Object(c.c)(this.props.location,d.c)},t}(r.Component),k=Object(o.k)(b)},cMjZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("K/JX");function a(e){return e&&Object(i.c)(e)||""}},cnlr:function(e,t,n){"use strict";n.r(t);var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("ZS2+"),s=n("kRBY"),l=n("TWrO"),c=o.a.wrap((function(){return n.e(99).then(n.bind(null,"8upG"))}),"UpsellCenterComponent",{placeholder:null,failSilently:!0}),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.isLoggedIn||this.props.collapsed&&!Object(l.a)()||!this.props.firstPageLoaded?null:a.createElement(c,Object(i.__assign)({},this.props))},t}(a.PureComponent);var u=Object(r.b)((function(e){return{collapsed:!e.ui.sideNavExpanded,isLoggedIn:Object(s.f)(e),firstPageLoaded:e.session.firstPageLoaded}}))(d);n.d(t,"UpsellCenterContainer",(function(){return d})),n.d(t,"UpsellCenter",(function(){return u}))},cpJf:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e.Chat="stream_chat",e.Feeds="feeds",e.Room="chatroom",e.Whisper="whisper",e.VodChat="vod-chat"}(i||(i={}));var a={TriHard:{count:196568036},Kappa:{count:192158118},"4Head":{count:155758710},PogChamp:{count:151485090},cmonBruh:{count:146352878},BibleThump:{count:56472964},WutFace:{count:45069031},Kreygasm:{count:41387580},DansGame:{count:38097659},hi5F:{count:34986404},SMOrc:{count:34734484},KappaPride:{count:34262839},VoHiYo:{count:27886434},SwiftRage:{count:24561900},ResidentSleeper:{count:24438298},EleGiggle:{count:19891526},FailFish:{count:19118343},NotLikeThis:{count:18802905},Keepo:{count:18351415},BabyRage:{count:18220906},MingLee:{count:18026207},pbfSSH:{count:16911241},forsenE:{count:14960299},HeyGuys:{count:14851569},ANELE:{count:14648986},PJSalt:{count:14438861}},r=["354","49106","4339","48","25","55338","70433","1902","68856","81103","76171","27509"]},csJo:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelRoot_Collection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeChanlets"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelCurrentUser"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelCollection"},directives:[]}]}}]}}],loc:{start:0,end:310}};i.loc.source={body:'#import "twilight/features/channel/queries/channel-current-user.gql"\n#import "twilight/features/channel/queries/channel-collection.gql"\nquery ChannelRoot_Collection(\n$collectionID: ID!\n$includeChanlets: Boolean!\n) {\ncurrentUser {\n...channelCurrentUser\n}\ncollection(id: $collectionID) {\n...channelCollection\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("NJiF").definitions)),i.definitions=i.definitions.concat(r(n("vtET").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChannelRoot_Collection=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelRoot_Collection")},cw0r:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("wUQP"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return Object(r.c)(this.props.name)?a.createElement(a.Fragment,null,this.props.children):null},t}(a.Component);n.d(t,"a",(function(){return o}))},cys1:function(e,t,n){"use strict";var i,a=n("q1tI"),r=n("/7QA"),o=n("gvGA"),s=n("5zf8"),l=n("4rCz"),c=n("mrSG"),d=n("yR8l"),u=n("+GjP"),m=n("2xye"),p=n("PL8s"),h=n("+80q"),f=n("yymn"),g=n("Ws8v"),v=n("sUnt"),b=n("i4Ys"),k=n("L/cU"),y=n("fPaz"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasImageLoadingError:!1},t.handleImageError=function(){t.setState({hasImageLoadingError:!0})},t}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=r.a.defaultStreamPreviewURL;return!this.state.hasImageLoadingError&&this.props.imageURL&&(e=this.props.imageURL),a.createElement(k.a,{aspect:y.c.Aspect16x9,alt:this.props.altText,src:e,onError:this.handleImageError})},t}(a.Component),C=(n("Epr8"),"https://static-cdn.jtvnw.net/emoticons/v1/58765/2.0"),E={ERROR:"chat-card-error",TITLE:"chat-card-title",DESCRIPTION:"chat-card-description"},w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderErrorCard=function(){var e=a.createElement("img",{"data-test-selector":E.ERROR,src:C,className:"chat-card__error-img",alt:""});return t.renderCardContent(e,t.props.error)},t.renderCardContent=function(e,t){var n,i;return t?(n=a.createElement(h.a,{bold:!0,"data-test-selector":E.TITLE,title:t.title},t.title),i=a.createElement(h.a,{color:f.f.Alt2,"data-test-selector":E.DESCRIPTION},t.description)):(e=a.createElement(p.a,{overlay:!0}),n=a.createElement(p.a,{width:180}),i=a.createElement(p.a,{width:120})),a.createElement(g.a,{display:f.g.Flex,flexWrap:f.i.NoWrap,padding:.5},a.createElement(g.a,{className:"chat-card__preview-img",background:f.d.Alt2,display:f.g.Flex,alignItems:f.b.Center,justifyContent:f.l.Center,flexShrink:0},e),a.createElement(v.a,{display:f.g.Flex,alignItems:f.b.Center,overflow:f.m.Hidden},a.createElement(v.a,{padding:{left:1},fullWidth:!0},a.createElement(v.a,{className:"chat-card__title",ellipsis:!0},n),a.createElement(v.a,{ellipsis:!0},i))))},t}return Object(c.__extends)(t,e),t.prototype.render=function(){var e;if(this.props.error)e=this.renderErrorCard();else if(this.props.data){var t=Object(u.g)(this.props.data.contentURL,{tt_medium:m.PageviewMedium.Chat,tt_content:m.PageviewContent.ChatCard}),n=a.createElement(S,{altText:this.props.data.title,key:this.props.data.previewImageURL,imageURL:this.props.data.previewImageURL});e=a.createElement(g.a,{background:f.d.Base,borderRadius:f.e.Medium,display:f.g.Flex,fullWidth:!0},a.createElement(b.a,{linkTo:t,targetBlank:!0,type:b.b.Alpha,borderRadius:f.e.Medium},this.renderCardContent(n,{title:this.props.data.title,description:this.props.data.description})))}else e=this.renderCardContent();return a.createElement(g.a,{borderRadius:f.e.Medium,elevation:1},e)},t}(a.Component),O=n("SceP"),D={isTimedOut:!1},N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=D,t.timeoutID=null,t}return Object(c.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.data.clip&&t.isTimedOut?{isTimedOut:!1}:null},t.prototype.componentDidMount=function(){var e=this;this.props.data.clip||(this.timeoutID=setTimeout((function(){e.setState({isTimedOut:!0})}),5e3))},t.prototype.componentDidUpdate=function(e){!e.data.clip&&this.props.data.clip&&this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},t.prototype.render=function(){var e=this.props.data,t=e.clip,n=e.error,i=e.loading;return n||this.state.isTimedOut?a.createElement(w,{error:{title:Object(r.d)("Something went wrong","ClipsChatCard"),description:Object(r.d)("We couldn't find that Clip","ClipsChatCard")}}):i||!t?a.createElement(w,null):a.createElement(w,{data:{title:t.title||(t.broadcaster&&t.broadcaster.displayName?Object(r.d)("Clip of {broadcaster}",{broadcaster:t.broadcaster.displayName},"ClipsChatCard"):""),description:t.curator&&t.curator.displayName?Object(r.d)("Clipped by {curator}",{curator:t.curator.displayName},"ClipsChatCard"):"",previewImageURL:t.thumbnailURL,contentURL:t.url}})},t}(a.Component),_=Object(d.a)(O,{options:function(e){return{variables:{slug:e.slug},notifyOnNetworkStatusChange:!0,fetchPolicy:e.forceNetworkRequest?"cache-first":"cache-only"}}})(N),I=n("TSYQ"),M=n("gTu3"),T=(n("lpj/"),(i={})[M.a.Default]="",i[M.a.Recipient]="mention-fragment--recipient",i[M.a.Sender]="mention-fragment--sender",i),j=function(e){var t=e.isAtMention?"@":"",n=I("mention-fragment",T[e.currentUserMentionRelation]);return a.createElement("span",{className:n,"data-a-target":"chat-message-mention"},""+t+e.recipient)};j.displayName="MentionFragment";var P,L=n("QVaV"),R=n("sU0Q"),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this.props.data,t=e.video,n=e.error;if(e.loading||!t)return a.createElement(w,null);if(n||!t.owner||!t.owner.login||!t.publishedAt||!t.title)return a.createElement(w,{error:{title:Object(r.d)("Something went wrong","VideoChatCard"),description:Object(r.d)("We couldn't find that video","VideoChatCard")}});var i=a.createElement(h.a,null,Object(r.c)(new Date(t.publishedAt),"medium"),a.createElement("span",null," · "),Object(L.a)(t.owner.login,t.owner.displayName));return a.createElement(w,{data:{title:t.title,description:i,previewImageURL:t.previewThumbnailURL,contentURL:this.props.url}})},t}(a.Component),A=Object(d.a)(R,{options:function(e){return{variables:{videoID:e.id},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-first"}}})(F),x=n("ZtEv"),U=n("RcPG"),B=n("Jsra"),V=n("x0+1"),H=n("XRPh"),G=n("u5aL"),q=n("ANjH"),W=n("3sMn"),z=n("Tznh"),Q=n("VJH5"),Y=n("dEDE"),K=n("akKH"),$=n("y0tB");!function(e){e.CancelButton="flagged-fragment-cancel",e.ConfirmButton="flagged-fragment-confirm",e.FeedbackButton="flagged-fragment-feedback",e.FeedbackNo="flagged-fragment-no",e.FeedbackYes="flagged-fragment-yes",e.SettingsLink="flagged-fragment-settings",e.Title="flagged-fragment-title"}(P||(P={}));var X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={feedbackSelection:null,textShown:!1},t.hasTrackedImpression=!1,t.showSettings=function(){t.props.showChatFilterSettings(z.c.FilteredMessage),t.props.updateChatConfigState({isSettingsOpen:!0}),t.props.onDismissBalloon()},t.showText=function(){t.props.onShowText(),t.setState({textShown:!0}),r.o.track(m.SpadeEventType.ChatFilterMessageInteraction,t.getCommonTrackingProps())},t.onAffirmativeFeedbackSelected=function(){t.setState({feedbackSelection:!0})},t.onNegativeFeedbackSelected=function(){t.setState({feedbackSelection:!1})},t.onSubmit=function(){t.props.onDismissBalloon(),r.o.track(m.SpadeEventType.ChatFilterFeedbackInteraction,Object(c.__assign)(Object(c.__assign)({},t.getCommonTrackingProps()),{value:t.state.feedbackSelection?t.getAffirmativeText():t.getNegativeText()}))},t}return Object(c.__extends)(t,e),t.prototype.render=function(){var e=this,t=Object(r.d)("Cancel","FlaggedFragmentBalloonContent");return this.state.textShown?a.createElement(v.a,{padding:1},a.createElement(K.a,{label:Object(r.d)("Help improve our filters. Was this message correctly hidden?","FlaggedFragmentBalloonContent")},a.createElement($.a,{label:this.getAffirmativeText(),name:"flagged-fragment-feedback",onChange:this.onAffirmativeFeedbackSelected,"data-test-selector":P.FeedbackYes}),a.createElement($.a,{label:this.getNegativeText(),name:"flagged-fragment-feedback",onChange:this.onNegativeFeedbackSelected,"data-test-selector":P.FeedbackNo})),a.createElement(v.a,{display:f.g.Flex,justifyContent:f.l.End},a.createElement(v.a,{margin:{right:1}},a.createElement(Y.a,{onClick:this.props.onDismissBalloon,type:Y.d.Secondary,"data-test-selector":P.CancelButton},t)),a.createElement(Y.a,{disabled:null===this.state.feedbackSelection,onClick:this.onSubmit,"data-test-selector":P.FeedbackButton},Object(r.d)("Submit","FlaggedFragmentBalloonContent")))):(this.hasTrackedImpression||(r.o.track(m.SpadeEventType.ChatFilterMessageImpression,this.getCommonTrackingProps()),this.hasTrackedImpression=!0),a.createElement(v.a,{padding:1},a.createElement(h.a,{bold:!0,type:h.e.H6,"data-test-selector":P.Title},this.getCategoryTitle()),Object(r.d)("Would you like to see this message? It has been hidden for you based on your <x:link>Chat Filter settings</x:link>.",{"x:link":function(t){return a.createElement(B.a,{onClick:e.showSettings,"data-test-selector":P.SettingsLink},t)}},"FlaggedFragmentBalloonContent"),a.createElement(v.a,{display:f.g.Flex,justifyContent:f.l.End},a.createElement(v.a,{margin:{right:1}},a.createElement(Y.a,{onClick:this.props.onDismissBalloon,type:Y.d.Secondary,"data-test-selector":P.CancelButton},t)),a.createElement(Y.a,{onClick:this.showText,"data-test-selector":P.ConfirmButton},Object(r.d)("Show Message","FlaggedFragmentBalloonContent")))))},t.prototype.getCategoryTitle=function(){var e=this.props.messagePart.categories;return 1!==Object.values(e).filter((function(e){return!!e})).length?Object(r.d)("Message Blocked","FlaggedFragmentBalloonContent"):e[Q.a.Aggressive]?Object(r.d)("Hostile Message Blocked","FlaggedFragmentBalloonContent"):e[Q.a.Identity]?Object(r.d)("Discriminatory Message Blocked","FlaggedFragmentBalloonContent"):e[Q.a.Sexual]?Object(r.d)("Sexually Explicit Message Blocked","FlaggedFragmentBalloonContent"):Object(r.d)("Profanity Blocked","FlaggedFragmentBalloonContent")},t.prototype.getAffirmativeText=function(){return Object(r.d)("Yes","FlaggedFragmentBalloonContent")},t.prototype.getNegativeText=function(){return Object(r.d)("No","FlaggedFragmentBalloonContent")},t.prototype.getCommonTrackingProps=function(){var e=this.props.messagePart;return{channel_id:this.props.channelID||"",channel:this.props.channelLogin||"",msg_uuid:this.props.messageID||"",word:e.originalText,aggressive_language_detected:!!e.categories[Q.a.Aggressive],explicit_language_detected:!!e.categories[Q.a.Sexual],identity_language_detected:!!e.categories[Q.a.Identity],profane_language_detected:!!e.categories[Q.a.Profanity]}},t}(a.Component);var Z,J=Object(q.d)(Object(z.d)((function(e){return e})),Object(W.b)((function(e){return{updateChatConfigState:function(t){return e.updateChatConfigState(t)},isSettingsOpen:e.isSettingsOpen}})))(X),ee=(n("VN3V"),function(e){var t,n=e.content,i=e.highlightType,r=I("text-fragment",((t={})["text-fragment--moderated-highlight"]=i===U.a.ModeratedText,t));return a.createElement("span",{className:r,"data-a-target":"chat-message-text"},n)}),te=n("ygYM"),ne=n("hnjF");n("UUau");!function(e){e.Balloon="flagged-fragment-balloon",e.Container="flagged-fragment-container",e.Target="flagged-fragment-span"}(Z||(Z={}));var ie=function(e){function t(t){var n=e.call(this,t)||this;return n.state={active:!1,balloonDirection:te.b.TopCenter,balloonTailOffset:0,balloonXOffset:0,displayed:!1},n.setTopRef=function(e){n.topRef=e},n.setBalloonContentRef=function(e){n.balloonContentRef=e,n.state.active&&n.setState(Object(c.__assign)({},n.getBalloonState()))},n.onClickOut=function(){n.setState({active:!1})},n.onClick=function(){n.setState({active:!0})},n.onShowText=function(){n.setState({displayed:!0},(function(){n.setState(Object(c.__assign)({},n.getBalloonState()))}))},n.onDismissBalloon=function(){n.setState({active:!1})},n.placeholder=new Array(t.messagePart.length+1).join("*"),n}return Object(c.__extends)(t,e),t.prototype.render=function(){return this.state.active?a.createElement("span",{ref:this.setTopRef,"data-test-selector":Z.Container},a.createElement(ne.a,{display:f.g.Inline,position:f.n.Relative},a.createElement(G.a,{onClickOut:this.onClickOut},this.renderContent(),a.createElement(te.a,{direction:this.state.balloonDirection,offsetX:this.state.balloonXOffset+"px",show:!0,size:te.c.Medium,tailOffset:this.state.balloonTailOffset},a.createElement("span",{ref:this.setBalloonContentRef,"data-test-selector":Z.Balloon}),a.createElement(J,Object(c.__assign)({},this.props,{onDismissBalloon:this.onDismissBalloon,onShowText:this.onShowText})))))):a.createElement("span",{ref:this.setTopRef,"data-test-selector":Z.Container},this.renderContent())},t.prototype.renderContent=function(){var e={"flagged-fragment":!(this.state.displayed&&!this.state.active),"flagged-fragment--active":this.state.active};return this.state.displayed?a.createElement("span",{className:I(e),"data-test-selector":Z.Target},oe(this.props.messagePart.content)):a.createElement("span",{className:I(e),onClick:this.onClick,"data-test-selector":Z.Target},a.createElement(ee,{content:this.placeholder}))},t.prototype.getBalloonState=function(){if(this.balloonContentRef&&this.topRef&&this.topRef.offsetParent){var e=this.topRef.offsetParent.getBoundingClientRect(),t=this.balloonContentRef.getBoundingClientRect(),n=this.state.balloonDirection;t.top<e.top&&(n=te.b.BottomCenter);var i=e.left+20,a=t.left,r=this.state.balloonXOffset-(a-i);return{balloonDirection:n,balloonTailOffset:e.width/2-r-20,balloonXOffset:r}}return{balloonDirection:te.b.TopCenter,balloonTailOffset:0,balloonXOffset:0}},t}(a.Component),ae=(n("Ro6I"),function(e){var t=e.displayText,n=e.url,i=e.highlighted;return a.createElement(B.a,{className:I("link-fragment",{"link-fragment--highlighted":i}),linkTo:n,targetBlank:!0,rel:"noreferrer noopener"},t)});function re(e,t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var r=t.content,o=r.displayText,s=r.url;return i?a.createElement(ee,{key:"message-span-"+e,content:o}):a.createElement(ae,{key:e+"-link",highlighted:n,displayText:o,url:s})}function oe(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!1);var i=null,r=e.reduce((function(r,s,l){var c=[];switch(l>0&&e[l-1].type!==U.a.Text&&s.type!==U.a.Text&&c.push(" "),s.type){case U.a.Text:case U.a.ModeratedText:var d=s.content,u=s.type;c.push(a.createElement(ee,{key:l,content:d,highlightType:u}));break;case U.a.FlaggedSegment:c.push(a.createElement(ie,{key:l,channelID:t.chatChannelID,channelLogin:t.chatChannelLogin,messageID:t.messageSourceID,messagePart:s}));break;case U.a.CurrentUserHighlight:c.push(a.createElement(j,{isAtMention:!1,currentUserMentionRelation:M.a.Recipient,recipient:s.content,key:l}));break;case U.a.Mention:c.push(a.createElement(j,{isAtMention:!0,currentUserMentionRelation:s.content.currentUserMentionRelation,recipient:s.content.recipient,key:l}));break;case U.a.Emote:c.push(a.createElement(H.a,{key:l,emote:s.content,channelID:t.chatChannelID,channelLogin:t.chatChannelLogin,sourceID:t.messageSourceID,sourceType:t.emoteSourceType,referrerID:t.messageAuthorID,disableCard:n}));break;case U.a.Link:c.push(re(l,s,t.isHighlighted,t.disableLinks));break;case U.a.ClipLink:i||t.disableChatCard||(i=a.createElement(o.a,{key:l+"-ErrorBoundary"},a.createElement(_,{slug:s.content.slug,forceNetworkRequest:t.forceClipsNetworkRequest}))),c.push(re(l,s,t.isHighlighted,t.disableLinks));break;case U.a.VideoLink:i||t.disableChatCard||(i=a.createElement(A,{key:l,id:s.content.id,url:s.content.url})),c.push(re(l,s,t.isHighlighted,t.disableLinks))}return r.concat(c)}),[]);return i&&(r=r.concat(i)),r}function se(e){if(e.moderationType===x.e.Delete){var t=e,n=t.userLogin,i=t.body;return a.createElement(V.a,{targetLogin:n,messageBody:i})}if((e=e).moderationType===x.e.Ban)return e.reason?a.createElement("span",{className:"chat-line__moderation--ban-with-reason"},Object(r.d)("{userLogin} has been banned. Reason: {reason}",{userLogin:e.userLogin,reason:e.reason},"ChatLine")):a.createElement("span",{className:"chat-line__moderation--ban"},Object(r.d)("{userLogin} is now banned from this channel.",{userLogin:e.userLogin},"ChatLine"));if(e.reason&&e.duration){var o=Object(r.d)("{userLogin} has been timed out for {duration} seconds. Reason: {reason}",{duration:e.duration,reason:e.reason,userLogin:e.userLogin},"ChatLine");return a.createElement("span",{className:"chat-line__moderation--timeout-with-reason"},o)}return e.duration?a.createElement("span",{className:"chat-line__moderation--timeout"},Object(r.d)("{userLogin} has been timed out for {duration} seconds.",{userLogin:e.userLogin,duration:e.duration},"ChatLine")):void 0}function le(e){var t=e.daysLeft;0===t&&(t=e.hoursLeft);var n,i={bitsTotal:a.createElement("strong",null,Object(l.f)(e.total,{style:"currency",currency:"USD"})),charityName:a.createElement("strong",null,e.charityName),learnMoreURL:a.createElement(B.a,{linkTo:e.learnMore,targetBlank:!0},e.learnMore),hashtag:a.createElement("strong",null,e.hashtag),timeRemaining:Object(l.f)(t)};return a.createElement("span",null,0===e.daysLeft?(n=i,Object(r.d)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more hours to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:n.bitsTotal,charityName:n.charityName,timeRemaining:n.timeRemaining,hashtag:n.hashtag,learnMoreURL:n.learnMoreURL},"ChatLine")):function(e){return Object(r.d)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more days to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:e.bitsTotal,charityName:e.charityName,timeRemaining:e.timeRemaining,hashtag:e.hashtag,learnMoreURL:e.learnMoreURL},"ChatLine")}(i))}function ce(e){var t=e.enabled?Object(r.d)("This room is now in slow mode. You may send messages every {length} seconds.",{length:e.length},"ChatLine"):Object(r.d)("This room is no longer in slow mode.","ChatLine");return a.createElement("span",null,t)}function de(e){var t;if(e.length>0){var n=e.join(", ");t=Object(r.d)("The moderators of this channel are: {moderatorList}",{moderatorList:n},"ChatLine")}else t=Object(r.d)("There are no moderators of this channel.","ChatLine");return a.createElement("span",null,t)}function ue(e){if(e.enabled){var t=0===e.length?Object(r.d)("This room is in followers-only mode.","ChatLine"):Object(r.d)("This room is now in {length} followers-only mode.",{length:Object(s.b)(60*e.length)},"ChatLine");return a.createElement("span",null,t)}return a.createElement("span",null,Object(r.d)("This room is no longer in followers-only mode.","ChatLine"))}function me(e){return e.enabled?a.createElement("span",null,Object(r.d)("This room is now in emote-only mode.","ChatLine")):a.createElement("span",null,Object(r.d)("This room is no longer in emote-only mode.","ChatLine"))}function pe(e){var t=e.enabled?Object(r.d)("This room is now in subscriber-only mode.","ChatLine"):Object(r.d)("This room is no longer in subscriber-only mode.","ChatLine");return a.createElement("span",null,t)}function he(e){return e.enabled?a.createElement("span",null,Object(r.d)("This room is now in unique-chat mode.","ChatLine")):a.createElement("span",null,Object(r.d)("This room is no longer in unique-chat mode.","ChatLine"))}function fe(e){return e.isAutohost?Object(r.d)("{host} is now auto hosting you for up to {viewerCount, number} viewers.",{host:e.hostingChannel,viewerCount:e.viewerCount},"ChatLine"):e.viewerCount<=2?Object(r.d)("{host} is now hosting you.",{host:e.hostingChannel},"ChatLine"):Object(r.d)("{host} is now hosting you for up to {viewerCount, number} viewers.",{host:e.hostingChannel,viewerCount:e.viewerCount},"ChatLine")}function ge(e,t){void 0===t&&(t=!1);var n=t?e.getHours():e.getHours()%12;t||0!==n||(n=12);var i=n.toString(),a=e.getMinutes(),r=a.toString();return a<10&&(r="0"+r),t&&n<10&&(i="0"+i),i+":"+r}function ve(e,t){return void 0===t&&(t=!1),a.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},ge(new Date(e),t))}function be(e){return a.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},function(e,t){void 0===t&&(t={});var n=r.p.intl.getLanguageCode()||"en";return Intl.DateTimeFormat(n,t).format(e)}(new Date(e),{hour:"numeric",minute:"numeric"}))}n.d(t,"f",(function(){return oe})),n.d(t,"g",(function(){return se})),n.d(t,"b",(function(){return le})),n.d(t,"j",(function(){return ce})),n.d(t,"i",(function(){return de})),n.d(t,"d",(function(){return ue})),n.d(t,"c",(function(){return me})),n.d(t,"k",(function(){return pe})),n.d(t,"h",(function(){return he})),n.d(t,"e",(function(){return fe})),n.d(t,"a",(function(){return ge})),n.d(t,"l",(function(){return ve})),n.d(t,"m",(function(){return be}))},dF3q:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("q1tI"),a=n("/7QA"),r=n("GOFu"),o=n("C7sF"),s=n("7d/q"),l=function(e){var t=o.a.Emoticons;return e.shouldSparkle&&(t=i.createElement(r.a,{icon:t})),i.createElement(s.a,{disabled:e.buttonDisabled,icon:t,ariaLabel:Object(a.d)("Emote picker","EmotePickerButton"),type:e.isActive?s.c.Primary:s.c.Secondary,onClick:e.onClick,"data-a-target":"emote-picker-button"})}},dGMd:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return y})),n.d(t,"f",(function(){return S}));var i=n("mrSG"),a=n("w09P"),r=n("q1tI"),o=n("/7QA"),s=n("S4w9"),l=n("geRD"),c=n("g+79"),d=n("W1jp"),u=n("zdrs"),m=n("2zj6"),p=n("8XBm"),h="300238151",f="436872863",g="channel_points";function v(e){return{icon:r.createElement(c.a,{data:e.reward,size:c.b.ExtraSmall}),title:Object(o.d)("Share Your New Emote","EmoteReward"),body:Object(o.d)("That's a fancy emote you've got there. Share it! You can also get some more.","EmoteReward"),inputValue:e.inputValue,disableCommands:!0}}function b(e,t,n){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:p},Object(l.a)({channelID:e,cost:Object(d.c)(t),transactionID:n})))}function k(e,t,n,a){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:u},Object(l.a)({channelID:e,emoteID:n,cost:Object(d.c)(t),transactionID:a})))}function y(e,t,n,a){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:m},Object(l.a)({channelID:e,emoteID:n,cost:Object(d.c)(t),transactionID:a})))}function S(e){Object(l.i)(s,{withOwner:!0},(function(t){return a(t,(function(e){return e.currentUser.emoteSets}),(function(t){var n=t.filter((function(e){return e.id===h})).length>0;return t=n?t.map((function(t){if(t.id===h){var n=Object(i.__assign)(Object(i.__assign)({},e),{modifiers:null,setID:h,__typename:"Emote"});return a(t,(function(e){return e.emotes}),(function(t){return t?-1!==t.findIndex((function(t){return t&&t.id===e.id}))?t:Object(i.__spreadArrays)(t,[n]):[n]}))}return t})):Object(i.__spreadArrays)(t,[{id:h,emotes:[Object(i.__assign)(Object(i.__assign)({},e),{modifiers:null,setID:h,__typename:"Emote"})],__typename:"EmoteSet",owner:{__typename:"User",id:f,login:g,displayName:null,profileImageURL:null}}])}))}))}},djOf:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelEditButton"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:74}};n.loc.source={body:"query ChannelEditButton {\ncurrentUser {\nid\nlogin\nroles {\nisSiteAdmin\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelEditButton=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelEditButton")},dsMP:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("sUnt"),s=n("+80q"),l=n("yymn"),c=n("dEDE"),d=n("Ws8v"),u=n("4wKg"),m=n("C7sF"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showSkipConfirmation:!1},t.showSkipConfirmation=function(){t.setState({showSkipConfirmation:!0})},t.hideSkipConfirmation=function(){t.setState({showSkipConfirmation:!1})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=Object(r.d)("We can show your {monthsSubbed} month sub anniversary reminder to you again later, or choose to:",{monthsSubbed:this.props.event.cumulativeTenureMonths},"ShareResubCallout"),t=Object(r.d)("You will not be able to share your {monthsSubbed} month sub anniversary reminder again. Future anniversary reminders will still show.",{monthsSubbed:this.props.event.cumulativeTenureMonths},"ShareResubContextMenu");return this.state.showSkipConfirmation?a.createElement(o.a,null,a.createElement(s.a,null,t),a.createElement(o.a,{padding:{y:2},display:l.g.Flex,justifyContent:l.l.End},a.createElement(o.a,{margin:{right:.5}},a.createElement(c.a,{onClick:this.hideSkipConfirmation,size:c.b.Small,children:Object(r.d)("Go back","ShareResubContextMenu"),type:c.d.Secondary})),a.createElement(c.a,{onClick:this.props.onSkip,size:c.b.Small,children:Object(r.d)("Okay","ShareResubContextMenu")}))):a.createElement(o.a,null,a.createElement(s.a,{bold:!0,color:l.f.Alt2},Object(r.d)("Change when you'll see this","ShareResubCallout")),a.createElement(o.a,{padding:{y:.5}},a.createElement(s.a,{color:l.f.Alt2},e)),a.createElement(d.a,{fullWidth:!0,border:!0,margin:{y:.5}}),this.props.onPin&&a.createElement(u.a,{label:Object(r.d)("Pin this here","ShareResubContextMenu"),onClick:this.props.onPin,figure:{icon:m.a.Pin}}),this.props.onHide&&a.createElement(u.a,{label:Object(r.d)("Show on next visit","ShareResubContextMenu"),onClick:this.props.onHide,figure:{icon:m.a.EventsReminderAdd}}),this.props.onSkip&&a.createElement(u.a,{label:Object(r.d)("Skip this month's alert","ShareResubContextMenu"),onClick:this.showSkipConfirmation,figure:{icon:m.a.VisibilityHidden}}))},t}(a.Component);n.d(t,"a",(function(){return p}))},e7rh:function(e,t,n){},e9QR:function(e,t,n){},eAAt:function(e,t,n){"use strict";var i=n("q1tI"),a=n("kduP"),r=n("hnjF"),o=n("yymn"),s=n("Jsra"),l=n("L/cU"),c=n("fPaz"),d=function(e){return i.createElement(r.a,{overflow:o.m.Hidden,flexShrink:0},i.createElement(s.a,{linkTo:{pathname:Object(a.a)(e.name),state:{content:"current_game",medium:"twitch_channel"}},"data-a-target":"stream-box-art-link"},i.createElement(l.a,{src:e.boxArtURL,alt:e.name,aspect:c.c.Aspect3x4,size:e.size})))};n.d(t,"a",(function(){return d}))},efL4:function(e,t,n){"use strict";var i=n("q1tI"),a=n("/MKj"),r=n("/7QA"),o=n("ZS2+"),s=n("eirU"),l=n("XDCx"),c=n("2xye"),d=n("b7S+"),u=n("7d/q"),m=n("C7sF"),p=n("djOf"),h=o.a.wrap((function(){return Promise.all([n.e(1),n.e(2),n.e(0),n.e(84)]).then(n.bind(null,"bDGO"))}),"EditBroadcastModal");function f(e){var t,n,o,f,g=Object(a.d)(),v=Object(s.d)(p).data,b=null!==(o=null===(n=null===(t=null==v?void 0:v.currentUser)||void 0===t?void 0:t.roles)||void 0===n?void 0:n.isSiteAdmin)&&void 0!==o&&o,k=(null===(f=null==v?void 0:v.currentUser)||void 0===f?void 0:f.login)===e.channelLogin;if(!b&&!k)return null;var y=Object(r.d)("Edit","ChannelInfoBar");return i.createElement(d.a,{label:y,direction:d.c.Bottom},i.createElement(u.a,{type:u.c.Primary,icon:m.a.Edit,onClick:function(){return g(Object(l.e)(h,{channelID:e.channelID,channelLogin:e.channelLogin,location:c.PageviewLocation.Channel}))},title:y,ariaLabel:y,blurAfterClick:!0,"data-a-target":"channel-info-bar-edit-button"}))}n.d(t,"a",(function(){return f}))},ehEd:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}));var i="https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_150x150.png",a=function(e){return"https://static-cdn.jtvnw.net/emoticons/v1/"+e+"/1.0"},r=function(e){return"https://static-cdn.jtvnw.net/emoticons/v1/"+e+"/2.0 2x"}},"enD+":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WatchParty_UpdateLWAToken"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateLWATokenInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateLWAToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartyError"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresIn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refreshToken"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:254}};i.loc.source={body:'#import "twilight/features/watch-party/models/watch-party-error-fragment.gql"\nmutation WatchParty_UpdateLWAToken($input: UpdateLWATokenInput!) {\nupdateLWAToken(input: $input) {\nerror {\n...watchPartyError\n}\ntoken {\naccessToken\nexpiresIn\nrefreshToken\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("JqNv").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.WatchParty_UpdateLWAToken=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"WatchParty_UpdateLWAToken")},esZd:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("2Ygb");function o(e){return function(t){return function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return Object(i.__extends)(o,n),o.prototype.render=function(){return a.createElement(t,Object(i.__assign)({},e(this.props)))},o.displayName=Object(r.a)(o.name,t),o}(a.Component)}}n.d(t,"a",(function(){return o}))},f805:function(e,t,n){},fBrF:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var i,a=n("mrSG"),r=n("q1tI"),o=n("1rIY"),s=(i=Object(o.a)("WatchPartyContext",{isWatchPartyActive:!1,canChatOnPageDuringWatchParty:!1,updateWatchPartyActive:function(){return null},allowChatOnPageDuringWatchParty:function(){return null}})).context,l=i.withContext,c=function(e){function t(t){var n=e.call(this,t)||this;return n.updateWatchPartyActive=function(e){n.setState({isWatchPartyActive:e})},n.allowChatOnPageDuringWatchParty=function(e){n.setState({canChatOnPageDuringWatchParty:e})},n.state={isWatchPartyActive:!1,canChatOnPageDuringWatchParty:!1,allowChatOnPageDuringWatchParty:n.allowChatOnPageDuringWatchParty,updateWatchPartyActive:n.updateWatchPartyActive},n}return Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement(s.Provider,{value:this.state},this.props.children)},t}(r.Component)},fCiU:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n("p52R"),a=/^[\x00-\x7F]*$/,r=function(e){return!a.test(e)},o=function(e){return r(e.displayName)?e.displayName+" ("+e.name+")":e.displayName},s=function(e,t){return{userID:e.id,userDisplayName:e.displayName,userType:i.a.User,isIntl:r(e.displayName),userLogin:e.name,color:t}}},fI4C:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"m",(function(){return b})),n.d(t,"l",(function(){return k})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return S})),n.d(t,"e",(function(){return C})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return w})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return D}));var i=n("mrSG"),a=n("/7QA"),r=n("vRsq"),o=n("2xye"),s=n("L9xt"),l=n("IZXT"),c=n("I6K6"),d=n("ahza"),u=n("DpwM"),m=n("BQs+"),p=n("CJLt"),h="replay_mode",f="timestamp_mode",g="on",v="off",b=function(e){a.o.track(s.SpadeEventType.VideoChatSettingChanged,e)},k=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,d,u,h;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a.p.apollo.client.query({query:p,variables:{videoCreatorID:e.channelId,videoID:e.contentId}})];case 1:return n=i.sent().data,d={channel:n.video.owner.login,channel_id:Number(e.channelId),game:n.video.game?n.video.game.name:null,location:o.PageviewLocation.VideoWatchPage,share_platform:m.a.Link,share_context:o.ShareItemContext.Chomment,shared_item_id:Object(r.q)(e.contentId),shared_item_type:Object(c.a)(n.video.broadcastType),shared_item_url:t.toString(),partner:n.video.owner.roles.isPartner,source_item_id:e.id,source_item_type:o.SourceItemType.Chomment},u=N(e,n,m.a.Link),a.o.track(s.SpadeEventType.ChommentUIAction,u),a.o.track(s.SpadeEventType.ShareItem,d),[3,3];case 2:return h=i.sent(),Object(l.d)()?a.k.warn(h.toString(),k.name):a.k.errorAndReport(h.toString(),k.name),[3,3];case 3:return[2]}}))}))},y=function(e,t){var n=e.users[0],i=e.comments[0];return{channel:t.user.login,channel_id:Number(i.channelId),comment_id:i.id,comment_state:i.state,event_source:"frontend",game:t.video.game?t.video.game.name:null,login:n.name,play_session_id:a.o.getVideoPlayerTrackingData().playSessionID,reply_to_comment_id:Object(u.h)(i)?i.parentId:null,user_id:Number(n.id),vod_id:Number(i.contentId),vod_title:t.video.title,vod_ts:i.contentOffset,vod_type:Object(c.a)(t.video.broadcastType)}},S=function(e,t,n){return{author_id:Number(e.comment.commenter),author_login:n.users[1].login,channel:n.users[0].login,channel_id:Number(e.comment.channelId),comment_id:e.comment.id,event_source:"frontend",game:n.video.game?n.video.game.name:null,login:t.session.user.login,user_id:Number(t.session.user.id),vod_id:Number(e.comment.contentId),vod_title:n.video.title,vod_type:Object(c.a)(n.video.broadcastType),vod_ts:e.comment.contentOffset}},C=function(e,t,n){return{action:"ban_user",author_id:Number(e.bannedUser),channel_id:Number(e.targetChannel),event_source:"frontend",game:n.video.game?n.video.game.name:null,login:t.session.user.login,target_user_id:Number(e.bannedUser),user_id:Number(t.session.user.id),vod_id:Number(n.video.id),vod_title:n.video.title,vod_type:Object(c.a)(n.video.broadcastType),vod_ts:e.comment.contentOffset}},E=function(e,t,n){return{action:"delete",author_id:Number(e.commenter),author_login:n.users[1].login,channel:n.users[0].login,channel_id:Number(e.channelId),comment_id:e.id,event_source:"frontend",game:n.video.game?n.video.game.name:null,login:t.session.user.login,reply_to_comment_id:e.parentId?e.parentId:null,user_id:Number(t.session.user.id),vod_id:Number(e.contentId),vod_title:n.video.title,vod_type:Object(c.a)(n.video.broadcastType),vod_ts:e.contentOffset}},w=function(e,t,n){var i=null,a=Object.keys(t.vodChat.comments.comments.parentComments);if(a.length>0){var r=a[0];i=t.vodChat.comments.comments.parentComments[r].channelId}return{action:"create",channel_id:i?Number(i):null,comment_body:e.message,event_source:"frontend",game:n.video.game?n.video.game.name:null,login:t.session.user?t.session.user.login:null,reply_to_comment_id:Object(d.e)(e)?e.parentId:null,user_id:t.session.user?Number(t.session.user.id):null,vod_id:Number(n.video.id),vod_title:n.video.title,vod_ts:Object(d.e)(e)?null:Number(e.contentOffsetSeconds),vod_type:Object(c.a)(n.video.broadcastType)}},O=function(e,t,n){var i=e.comment.id,a=e.comment.channelId;return{action:e.state===u.c?"publish":"unpublish",channel_id:Number(a),comment_id:i,event_source:"frontend",game:n.video.game?n.video.game.name:null,login:t.session.user.login,user_id:Number(t.session.user.id),vod_id:Number(n.video.id),vod_title:n.video.title,vod_ts:e.comment.contentOffset,vod_type:Object(c.a)(n.video.broadcastType)}},D=function(e,t,n){return{action:"sync_vod_to_time",author_id:Number(e.commenter),channel:n.user.login,channel_id:Number(e.channelId),comment_id:e.id,event_source:"frontend",game:n.video.game?n.video.game.name:null,login:t.session.user?t.session.user.login:null,user_id:t.session.user?Number(t.session.user.id):null,vod_id:Number(e.contentId),vod_title:n.video.title,vod_ts:e.contentOffset,vod_type:Object(c.a)(n.video.broadcastType)}},N=function(e,t,n){return{action:"share",author_id:Number(e.commenter),channel:t.video.owner.login,channel_id:Number(e.channelId),comment_id:e.id,event_source:"frontend",game:t.video.game?t.video.game.name:null,login:t.currentUser?t.currentUser.login:null,user_id:t.currentUser?Number(t.currentUser.id):null,vod_id:Number(e.contentId),vod_title:t.video.title,vod_ts:e.contentOffset,vod_type:Object(c.a)(t.video.broadcastType),share_platform:n}}},fIj0:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatChannelAndVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:186}};n.loc.source={body:"query VideoChatChannelAndVideoTrackingContext($videoCreatorID: ID $videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\nuser(id: $videoCreatorID) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoChatChannelAndVideoTrackingContext=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoChatChannelAndVideoTrackingContext")},fQWD:function(e,t,n){"use strict";var i=n("vHGB");n.d(t,"a",(function(){return i.a}))},fezU:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("1rIY"),o=n("3sMn"),s=n("1MDS"),l=n("oK83"),c=Object(r.a)("ViewerCardContext",{viewerCardOptions:null,onShowViewerCard:function(){return null},onShowExtensionMessageCard:function(){return null},onShowEmoteCard:function(){return null},hideViewerCard:function(){return null}}),d=c.context,u=c.withContext,m=function(e){function t(t){var n=e.call(this,t)||this;return n.onShowViewerCard=function(e,t,i,a){n.setState((function(n){var r=n.viewerCardOptions;return r&&r.targetID===e?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:l.c.Viewer,initialTopOffset:a,sourceID:i,sourceType:t,targetID:e}}}))},n.onShowExtensionMessageCard=function(e,t,i,a){n.setState((function(n){var r=n.viewerCardOptions;return r&&r.viewerCardType===l.c.Extension&&r.targetID===e?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:l.c.Extension,initialTopOffset:a,sourceID:i,targetID:e,extensionVersion:t}}}))},n.onShowEmoteCard=function(e){n.setState((function(t){var n=t.viewerCardOptions;return n&&n.viewerCardType===l.c.Emote&&n.emoteID===e.emoteID?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:l.c.Emote,initialTopOffset:e.initialTopOffset||0,sourceID:e.sourceID,emoteSourceType:e.emoteSourceType,targetID:e.referrerID,emoteID:e.emoteID,emoteCode:e.emoteCode}}})),Object(s.c)({emoteLocation:Object(s.b)(e.emoteSourceType),emoticonID:e.emoteID,chatChannel:e.channelLogin,chatChannelID:e.channelID?e.channelID:"",referrerUserID:e.referrerID,action:s.a.Open,msgID:e.sourceID})},n.hideViewerCard=function(){n.setState({viewerCardOptions:null})},n.state={viewerCardOptions:null,onShowViewerCard:n.props.onUsernameClick||n.onShowViewerCard,onShowExtensionMessageCard:n.onShowExtensionMessageCard,onShowEmoteCard:n.onShowEmoteCard,hideViewerCard:n.hideViewerCard},n}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){!e.onUsernameClick&&this.props.onUsernameClick&&this.setState({onShowViewerCard:this.props.onUsernameClick})},t.prototype.render=function(){return a.createElement(d.Provider,{value:this.state},this.props.children)},t}(a.Component);var p=Object(o.b)((function(e){return{onUsernameClick:e.onUsernameClick}}))(m);n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}))},fnDh:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"squadStreamData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SquadStream"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"squadStreamMember"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"squadStreamMember"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]}]}}],loc:{start:0,end:186}};n.loc.source={body:"fragment squadStreamData on SquadStream {\nid\nstatus\nmembers {\n...squadStreamMember\n}\nowner {\nid\n}\n}\nfragment squadStreamMember on User {\nid\nlogin\ndisplayName\nprofileImageURL(width:150)\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},fqAq:function(e,t,n){},frkH:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DenyRejectedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DenyRejectedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"denyRejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:138}};n.loc.source={body:"mutation Chat_DenyRejectedChatMessage($input: DenyRejectedChatMessageInput!) {\ndenyRejectedChatMessage(input: $input) {\nmessage {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_DenyRejectedChatMessage=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_DenyRejectedChatMessage")},fwSA:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPointsRewardRedemptionContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsUserFragment"},directives:[]}]}}]}}],loc:{start:0,end:215}};i.loc.source={body:'#import "twilight/features/community-points/models/user-fragment.gql"\nquery CommunityPointsRewardRedemptionContext($channelLogin: String!) {\ncommunity: user(login: $channelLogin) {\n...communityPointsUserFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("1mB7").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.CommunityPointsRewardRedemptionContext=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"CommunityPointsRewardRedemptionContext")},fxMP:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return f}));var i=n("i6WW"),a=n("6j5V"),r=n("XmgI"),o=n("4h+t"),s=n("gTu3"),l=n("RcPG"),c=n("a1OF"),d="/me ";function u(e,t,n){var i=e.content.text.startsWith(d);return p(e.content.fragments,i,n,t||Object(o.c)(),e.sender&&e.sender.login||void 0)}function m(e,t){return p(e.content.fragments,!1,t)}function p(e,t,n,o,u){var m=[];return e.forEach((function(e,p){if(null!==e){var h=e.content||{__typename:"Text"};switch(h.__typename){case"Emote":if(!h.emoteID)return;m.push({type:l.a.Emote,content:{alt:e.text,emoteID:h.emoteID,images:{themed:!1,sources:{"1x":Object(c.d)(h.emoteID,1),"2x":Object(c.d)(h.emoteID,2),"4x":Object(c.d)(h.emoteID,4)}}}});break;case"CheermoteToken":if(!o)return;var f=h.prefix,g=h.bitsAmount,v=h.tier,b=o.indexedActions[f],k=b&&b.tiers.find((function(e){return e.bits===v})),y=o.tiers.find((function(e){return e.bits===v}));k?m.push({type:l.a.Emote,content:{alt:f,images:Object(r.d)(b,v),cheerAmount:g,cheerColor:null==y?void 0:y.color}}):m.push(Object(a.a)(e.text));break;case"User":var S=s.a.Default;n&&h.login===n?S=s.a.Recipient:n&&u&&u===n&&(S=s.a.Sender),m.push({type:l.a.Mention,content:{recipient:e.text.slice(1),currentUserMentionRelation:S}});break;case"AutoMod":m.push({type:l.a.ModeratedText,content:e.text});break;default:var C=Object(i.a)(e.text,{parseClips:!0,parseVods:!0});if(C)m=m.concat(C);else{var E=e.text;t&&0===p&&E.startsWith(d)&&(E=E.substr(3)),m.push(Object(a.a)(E))}}}})),m}function h(e){return e.map((function(e){var t={text:e.text,content:null,__typename:"RoomMessageFragment"},n=e.cheermote,i=e.emoticon,a=e.mention,r=e.text;return n?t.content={bitsAmount:n.bits_amount,prefix:n.prefix,tier:n.tier,__typename:"CheermoteToken"}:i?t.content={emoteID:i.id,setID:i.set_id,token:r,__typename:"Emote"}:a&&(t.content={id:a.user_id,login:a.login,displayName:a.display_name,__typename:"User"}),t}))}function f(e){return e.map((function(e){return{setID:e.id,version:e.version,__typename:"Badge"}}))}},"g+79":function(e,t,n){"use strict";var i,a,r=n("mrSG"),o=n("TSYQ"),s=n("q1tI"),l=n("4rCz"),c=n("A4KW"),d=n("W1jp"),u=n("X2PJ"),m=n("yymn"),p=n("uG/k"),h=n("Ws8v"),f=n("sUnt"),g=n("+80q");n("rCSd");!function(e){e.Cost="cost"}(i||(i={})),function(e){e.ExtraSmall="reward-icon--extra-small",e.Small="reward-icon--small",e.Medium="reward-icon--medium",e.Large="reward-icon--large"}(a||(a={}));var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=o(((e={"reward-icon":!0})[this.props.size||a.Medium]=!0,e["reward-icon__animated"]=!!this.props.animateOnHover,e));return s.createElement(u.a,{alignItems:m.b.Center,className:t,borderRadius:m.e.Medium,display:m.g.Flex,flexDirection:m.h.Column,justifyContent:m.l.Center,position:m.n.Relative},s.createElement("div",{style:this.customStyles},this.icon,this.cost))},Object.defineProperty(t.prototype,"customStyles",{get:function(){var e=Object(d.b)(this.props.data);return e?{backgroundColor:e}:{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){var e=this.props.animateOnHover?Object(d.a)(this.props.data):Object(d.e)(this.props.data),t=o({"reward-icon__image":!0,"reward-icon__image--raised":!!this.props.showCost&&this.props.size===a.Large,"reward-icon__image--extra-small":this.props.size===a.ExtraSmall});return s.createElement(p.a,Object(r.__assign)({alt:Object(d.f)(this.props.data),className:t},e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cost",{get:function(){return this.props.showCost&&this.props.size===a.Large?s.createElement(h.a,{attachBottom:!0,alignItems:m.b.Center,borderRadius:m.e.Small,className:"reward-icon__cost",margin:{y:1},padding:{x:.5},position:m.n.Absolute,"data-test-selector":i.Cost,justifyContent:m.l.Center,display:m.g.Flex,color:m.f.Overlay},s.createElement(f.a,{margin:{right:.5}},s.createElement(c.b,{channelLogin:this.props.channelLogin,iconSize:c.a.Small})),s.createElement(g.a,{fontSize:m.j.Size7},Object(l.f)(Object(d.c)(this.props.data)))):null},enumerable:!0,configurable:!0}),t}(s.Component);n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return v}))},g17B:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ChannelCheermotes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"globalCheerInfo"},directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"userCheerInfo"},directives:[]}]}}]}}],loc:{start:0,end:265}};i.loc.source={body:'#import "twilight/features/bits/models/global-cheer-info-fragment.gql"\n#import "twilight/features/bits/models/user-cheer-info-fragment.gql"\nquery Chat_ChannelCheermotes($channelLogin: String) {\n...globalCheerInfo\nuser(login: $channelLogin) {\nid\n...userCheerInfo\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("wpjm").definitions)),i.definitions=i.definitions.concat(r(n("KuwR").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.Chat_ChannelCheermotes=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"Chat_ChannelCheermotes")},g807:function(e,t,n){"use strict";var i=n("RNNG"),a=function(){function e(e){this.videoComments=e,this.currentOffset=e.minOffset}return e.prototype[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.videoComments.offsets[e.currentOffset]||[],n={done:e.currentOffset>e.videoComments.maxOffset,value:{offset:e.currentOffset,comments:t}};return e.currentOffset++,n}}},e}();n.d(t,"b",(function(){return i.b})),n.d(t,"c",(function(){return i.c})),n.d(t,"d",(function(){return i.f})),n.d(t,"a",(function(){return a}))},gDzh:function(e,t,n){},gFHd:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ShareVideo_Content"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasVideo"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"includePrivate"},value:{kind:"BooleanValue",value:!0}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasVideo"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"shareVideoContent"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"shareCollectionContent"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"shareVideoContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"shareCollectionContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}],loc:{start:0,end:588}};n.loc.source={body:"query ShareVideo_Content($videoID: ID! $collectionID: ID! $hasVideo: Boolean! $hasCollection: Boolean!) {\n# If the page specifies a video ID query it directly.\nvideo(id: $videoID options: { includePrivate: true }) @include(if: $hasVideo) {\n...shareVideoContent\n}\n# If the page is a collection page grab the first video from the collection.\ncollection(id: $collectionID) @include(if: $hasCollection) {\n...shareCollectionContent\n}\n}\nfragment shareVideoContent on Video {\nid\nowner {\nid\ndisplayName\n}\ntitle\n}\nfragment shareCollectionContent on Collection {\nid\nowner {\nid\ndisplayName\n}\ntitle\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ShareVideo_Content=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ShareVideo_Content")},gHOn:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPage_ChannelFollowerCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:111}};n.loc.source={body:"query ChannelPage_ChannelFollowerCount($login: String!) {\nuser(login: $login) {\nid\nfollowers {\ntotalCount\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPage_ChannelFollowerCount=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPage_ChannelFollowerCount")},gO1k:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DeleteChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"responseCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:182}};n.loc.source={body:"mutation Chat_DeleteChatMessage($input: DeleteChatMessageInput!) {\ndeleteChatMessage(input: $input) {\nresponseCode\nmessage {\nid\nsender {\nid\nlogin\ndisplayName\n}\ncontent {\ntext\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_DeleteChatMessage=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_DeleteChatMessage")},gPTj:function(e,t,n){},gTu3:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Default=0]="Default",e[e.Recipient=1]="Recipient",e[e.Sender=2]="Sender"}(i||(i={}))},gb2O:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendSubsOnlyMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendChatMessageThroughSubscriberModeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendChatMessageThroughSubscriberMode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:163}};n.loc.source={body:"mutation SendSubsOnlyMessage($input: SendChatMessageThroughSubscriberModeInput!) {\nsendChatMessageThroughSubscriberMode(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SendSubsOnlyMessage=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SendSubsOnlyMessage")},gdtZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("q1tI"),a=n("4rCz"),r=n("sUnt"),o=n("yymn"),s=n("b7S+"),l=n("C8Nf"),c=(n("S+L1"),function(e){var t=e.isActive,n=e.disableTooltip;return i.createElement(r.a,{className:"live-indicator",margin:{left:.5},breakpointSmall:{margin:{left:1}},visibility:t?o.r.Visible:o.r.Hidden},i.createElement(s.a,{label:Object(a.d)("Live Now","ChannelHeader"),direction:s.c.Right,disabled:n},i.createElement(l.a,{label:Object(a.d)("Live","ChannelHeaderStatusIndicator")})))})},ghdf:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelFollowers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NamedType",name:{kind:"Name",value:"SortOrder"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"userCardFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:316}};i.loc.source={body:'#import "twilight/features/user-card/queries/user-card-fragment.gql"\nquery ChannelFollowers($login: String $limit: Int $cursor: Cursor $order: SortOrder) {\nuser(login: $login) {\nid\nfollowers(first: $limit after: $cursor order: $order) {\nedges {\ncursor\nnode {\nid\n...userCardFragment\n}\n}\npageInfo {\nhasNextPage\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("xXGc").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.ChannelFollowers=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelFollowers")},hO8c:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("1rIY"),o=Object(r.a)("PrivateCalloutQueueContext",{callouts:[],pinnedCallout:null,pinCallout:function(e){return null},pushCallout:function(e){return null},popCallout:function(){return null},unpinCallout:function(){return null}}),s=o.context,l=o.withContext,c=function(e){function t(t){var n=e.call(this,t)||this;return n.popCallout=function(){n.setState((function(e){return{callouts:Object(i.__spreadArrays)(e.callouts.slice(1))}}))},n.pushCallout=function(e,t){if(void 0===t&&(t=!1),t)for(var a=0,r=n.state.callouts;a<r.length;a++){if(r[a].event.type===e.event.type)return}n.setState((function(t){return{callouts:Object(i.__spreadArrays)(t.callouts,[e])}}))},n.pinCallout=function(e){n.setState({pinnedCallout:e})},n.unpinCallout=function(){n.setState({pinnedCallout:null})},n.state={callouts:[],pinnedCallout:null,pinCallout:n.pinCallout,pushCallout:n.pushCallout,popCallout:n.popCallout,unpinCallout:n.unpinCallout},n}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(s.Provider,{value:this.state},this.props.children)},t}(a.Component);n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}))},hgBU:function(e,t,n){},hgww:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"availableClaimFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableClaim"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:109}};n.loc.source={body:"fragment availableClaimFragment on User {\nchannel {\nid\nself {\ncommunityPoints {\navailableClaim {\nid\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},hhl4:function(e,t,n){},"i5+p":function(e,t,n){"use strict";n.d(t,"j",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return v}));var i=n("DMoW"),a=n("4rCz"),r=n("tLDJ");function o(e){return e.sort((function(e,t){return e.votes.total>t.votes.total?-1:e.votes.total<t.votes.total?1:0}))}function s(e){return Object(r.mb)("/popout/"+e+"/poll")}function l(e){return document.location.origin+"/popout/"+e+"/poll"}function c(e){return e===i.zc.ACTIVE||e===i.zc.COMPLETED||e===i.zc.TERMINATED}function d(e){return e===i.zc.COMPLETED||e===i.zc.TERMINATED||e===i.zc.ARCHIVED||e===i.zc.MODERATED}function u(e){var t=null;e.top_bits_contributor&&(t=function(e){return{__typename:"PollTopBitsContributor",bitsAmount:e.bits_contributed,user:{__typename:"User",id:e.user_id,displayName:e.display_name}}}(e.top_bits_contributor));var n,i,a=null;return e.top_channel_points_contributor&&(a={__typename:"PollTopCommunityPointsContributor",communityPointsAmount:(n=e.top_channel_points_contributor).channel_points_contributed,user:{__typename:"User",id:n.user_id,displayName:n.display_name}}),{__typename:"Poll",id:e.poll_id,choices:(i=e.choices,void 0===i?[]:i.map((function(e){return{__typename:"PollChoice",id:e.choice_id,title:e.title,tokens:{__typename:"PollTokenBreakdown",bits:void 0!==e.tokens.bits?e.tokens.bits:0,communityPoints:void 0!==e.tokens.channel_points?e.tokens.channel_points:0,id:e.choice_id},totalVoters:void 0!==e.total_voters?e.total_voters:0,votes:{__typename:"PollVoteBreakdown",total:void 0!==e.votes.total?e.votes.total:0,base:void 0!==e.votes.base?e.votes.base:0,communityPoints:void 0!==e.votes.channel_points?e.votes.channel_points:0,bits:void 0!==e.votes.bits?e.votes.bits:0,id:e.choice_id}}}))),durationSeconds:e.duration_seconds,remainingDurationMilliseconds:e.remaining_duration_milliseconds,ownedBy:{__typename:"User",id:e.owned_by},createdBy:{__typename:"User",id:e.created_by},startedAt:e.started_at,endedAt:e.ended_at,status:e.status,title:e.title,tokens:{__typename:"PollTokenBreakdown",id:e.poll_id,bits:e.tokens.bits,communityPoints:e.tokens.channel_points},votes:{__typename:"PollVoteBreakdown",id:e.poll_id,total:e.votes.total,base:e.votes.base,bits:e.votes.bits,communityPoints:e.votes.channel_points},totalVoters:e.total_voters,settings:{__typename:"PollSettings",id:e.poll_id,multichoice:{__typename:"PollSettingsMultichoice",isEnabled:e.settings.multi_choice.is_enabled},subscriberOnly:{__typename:"PollSettingsSubscriberOnly",isEnabled:e.settings.subscriber_only.is_enabled},subscriberMultiplier:{__typename:"PollSettingsSubscriberMultiplier",isEnabled:e.settings.subscriber_multiplier.is_enabled},bitsVotes:{__typename:"PollSettingsBitsVotes",isEnabled:e.settings.bits_votes.is_enabled,cost:e.settings.bits_votes.cost},communityPointsVotes:{__typename:"PollSettingsCommunityPointsVotes",isEnabled:e.settings.channel_points_votes.is_enabled,cost:e.settings.channel_points_votes.cost}},topBitsContributor:t,topCommunityPointsContributor:a}}function m(e,t,n){return"pollsVoteAgainDialog__"+n+"_"+e+"_"+(t||"anonymous")}function p(e,t,n){return a.n.get(m(e,t,n),!0)}function h(e,t,n,i){return a.n.set(m(e,t,n),i)}function f(e,t){return"isPollDismissed_"+e+"_"+(t||"anonymous")}function g(e,t){return a.n.get(f(e,t),!1)}function v(e,t,n){a.n.set(f(e,t),n)}},i6WW:function(e,t,n){"use strict";var i=n("RcPG"),a=new RegExp("(?:^|\\s)(?:https?://)?clips.twitch.tv/(\\w+)(?:/)?(\\w+)?(?:/edit)?(?:$|\\s)?"),r=new RegExp("(?:^|\\s)(?:https?:\\/\\/)?(?:www\\.)?twitch\\.tv\\/(\\w+)\\/clip\\/(\\w+)(?:$|\\s)?");var o=new RegExp("(?:^|\\s)(?:https?://)?(?:(?:www|go).)?twitch.tv/videos/(\\d+)(?:$|\\s)?");n.d(t,"a",(function(){return l}));var s=/(?:(https?:\/\/)?((?:[\w#%\-+=:~]+\.)+[a-z]{2,8}(?:\/[\w./#%&@()\-+=:?~]*)?))/;function l(e,t){void 0===t&&(t={});var n=[],l=e.match(s);if(!l)return null;var c=l[0],d=e.indexOf(c);if(d>0){if("@"===e[d-1])return null;n.push({type:i.a.Text,content:e.slice(0,d)})}var u=l[1],m=l[2];(function(e){var t,n=e[e.length-1];if(")"!==n)return!1;t="(";for(var i=0,a=0,r=e.length-1;a<r;a++){var o=e[a];o===t?i++:o===n&&(i=Math.max(i-1,0))}return 0===i})(c)&&(c=c.slice(0,-1),m=m.slice(0,-1));var p=""+(u||"https://")+m;if(t.parseClips&&function(e){void 0===e&&(e="");var t=a.test(e)&&!e.includes("clips.twitch.tv/2017/"),n=r.test(e);return t||n}(p)){var h=function(e){void 0===e&&(e="");var t=e.match(a);if(t&&t.length>0&&void 0!==t.index)return t[1];var n=e.match(r);return n&&n.length>0&&void 0!==n.index?n[2]:""}(p);if("create"!==h)return n.push({type:i.a.ClipLink,content:{slug:h,url:p,displayText:c}}),n}if(t.parseVods&&function(e){return void 0===e&&(e=""),o.test(e)}(p)){var f=function(e){void 0===e&&(e="");var t=e.match(o);return null===t?"":t&&t.length>0&&void 0!==t.index?t[1]:""}(p);return n.push({type:i.a.VideoLink,content:{id:f,url:p,displayText:c}}),n}return n.push({type:i.a.Link,content:{displayText:c,url:p}}),d+c.length<e.length&&n.push({type:i.a.Text,content:e.slice(d+c.length,e.length)}),n}},iJuK:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("/7QA"),a=n("wUQP"),r=function(e){return Object(a.c)("mv_enabled")||e&&i.b.get("mv_whitelist",[]).includes(e)}},ihtq:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("q1tI"),a=n("/MKj"),r=n("ZS2+"),o=n("dIU+"),s=n("sUnt"),l=n("yymn"),c=n("dEDE"),d=r.a.wrap((function(){return n.e(106).then(n.bind(null,"QjI3"))}),"SubscribeButton",{placeholder:null}),u=r.a.wrap((function(){return Promise.resolve().then(n.bind(null,"dIU+"))}),"FollowButton",{placeholder:null}),m=function(e){var t=e.channelDisplayName,n=e.channelLogin,r=e.isFollowing,m=e.onWidthChange,p=e.subLocation,h=e.shouldHideSubButton,f=e.tooltipDirection,g=Object(a.e)((function(e){return e.session.firstPageLoaded}));return i.createElement(s.a,{display:l.g.Flex,flexWrap:l.i.NoWrap,alignItems:l.b.Center,justifyContent:l.l.End,className:"channel-header__right","data-target":"channel-header-right"},g&&i.createElement(s.a,{display:l.g.Flex,margin:{right:1}},i.createElement(u,{updateContainerWidth:m,channelLogin:n,followUIType:o.FollowButtonUIType.IconAndText,unfollowUIType:o.FollowButtonUIType.IconOnly,channelName:t,tooltipDirection:f,hideDropdownWhenFollowing:!0,fullWidthButton:!0,hollowIcons:!0,animatedButton:!0,showTooltips:!0,alignRight:!0})),!h&&g&&i.createElement(s.a,null,i.createElement(d,{updateContainerWidth:m,channelLogin:n,subscribedButtonType:c.d.Primary,unsubscribedButtonType:r?c.d.Primary:c.d.Secondary,forceIcon:!0,subLocation:p,allowPromotionalCallout:!0})))}},ilCE:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RaidUpsell_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetChannelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sourceChannelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"targetChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"targetChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"sourceChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"sourceChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:240}};n.loc.source={body:"query RaidUpsell_Channel($targetChannelLogin: String $sourceChannelLogin: String) {\ntargetChannel: user(login: $targetChannelLogin) {\nid\nlogin\ndisplayName\n}\nsourceChannel: user(login: $sourceChannelLogin) {\nid\nstream {\nid\nviewersCount\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.RaidUpsell_Channel=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"RaidUpsell_Channel")},ilvU:function(e,t,n){"use strict";var i=n("q1tI"),a=n("f00E"),r=n("1rIY"),o=n("mrSG"),s=n("uGUt"),l=function(e,t){var n=e.highlights[e.currentIndex];switch(t.type){case s.a.PushHighlight:var i=e.highlights.findIndex((function(e){return e.id===t.id}));if(i>=0){var r={event:t.event,expanded:e.highlights[i].expanded,id:t.id};return Object(o.__assign)(Object(o.__assign)({},e),{highlights:c(e.highlights,r,i)})}var l={event:t.event,expanded:!1,id:t.id},u=e.currentIndex;n&&n.expanded&&(u+=1);var m=n&&n.expanded||e.listAllView;return Object(o.__assign)(Object(o.__assign)({},e),{highlights:d(e.highlights,l,u),notifications:m?Object(o.__spreadArrays)([t.id],e.notifications):e.notifications});case s.a.RemoveHighlight:var p=e.highlights.filter((function(e){return e.id!==t.id})),h=e.notifications.filter((function(e){return e!==t.id})),f=e.currentIndex;f>p.length-1&&(f=Math.max(p.length-1,0));var g=e.listAllView,v=e.uuid;return 0===p.length&&(g=!1,v=Object(a.c)()),{highlights:p,currentIndex:f,notifications:h,listAllView:g,uuid:v};case s.a.MoveToHighlight:var b=e.highlights.findIndex((function(e){return e.id===t.id}));if(b>=0){var k=e.highlights[b],y=t.shouldExpand?c(e.highlights,Object(o.__assign)(Object(o.__assign)({},k),{expanded:!0}),b):e.highlights;return Object(o.__assign)(Object(o.__assign)({},e),{highlights:y,currentIndex:b,notifications:[],listAllView:!1})}return e;case s.a.ToggleExpanded:var S=e.highlights.findIndex((function(e){return e.id===t.id}));if(S>=0){var C=e.highlights[S];return C.expanded=!C.expanded,Object(o.__assign)(Object(o.__assign)({},e),{highlights:c(e.highlights,C,S)})}return e;case s.a.OpenListAllView:return Object(o.__assign)(Object(o.__assign)({},e),{listAllView:!0});case s.a.CloseListAllView:return Object(o.__assign)(Object(o.__assign)({},e),{notifications:[],listAllView:!1});default:return e}},c=function(e,t,n){return e.map((function(e,i){return i===n?t:e}))},d=function(e,t,n){return Object(o.__spreadArrays)(e.slice(0,n),[t],e.slice(n))},u=Object(r.a)("HighlightStackDispatchContext",(function(){return null})),m=u.context,p=u.withContext,h={highlights:[],notifications:[],currentIndex:0,listAllView:!1,uuid:Object(a.c)()},f=Object(r.a)("HighlightStackContext",h),g=f.context,v=f.withContext,b=function(e){var t=i.useReducer(l,h),n=t[0],a=t[1];return i.createElement(m.Provider,{value:a},i.createElement(g.Provider,{value:n},e.children))};n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return b}))},"j+2s":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatList_Badges"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"squadStream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"squadStreamData"},directives:[]}]}}]}}]}}],loc:{start:0,end:365}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\n#import "twilight/features/squad-stream/models/squad-stream-fragment.gql"\nquery ChatList_Badges($channelLogin: String!) {\nbadges {\n...badge\n}\nuser(login: $channelLogin) {\nid\nbroadcastBadges {\n...badge\n}\nself {\nselectedBadge {\n...badge\n}\ndisplayBadges {\n...badge\n}\n}\nsquadStream {\n...squadStreamData\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("IKE4").definitions)),i.definitions=i.definitions.concat(r(n("fnDh").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChatList_Badges=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChatList_Badges")},j0ar:function(e,t,n){"use strict";var i=n("mrSG"),a=n("TSYQ"),r=n("q1tI"),o=n("x1M1"),s=n("hnjF"),l=n("yymn"),c=n("+80q"),d=n("PL8s"),u=n("b7S+"),m=(n("9KaG"),function(e){function t(t){var n=e.call(this,t)||this;return n.onImageLoad=function(){n.setState({imageLoaded:!0})},n.onMouseOver=function(){n.setState({isHovering:!0})},n.onMouseOut=function(){n.setState({isHovering:!1})},n.renderImage=function(){var e=null,t=a("chat-image",{"chat-image__animated":!!n.props.cheerText&&n.state.imageLoaded},n.props.className);if(n.props.srcSet.themed)e=r.createElement(s.a,{display:n.state.imageLoaded?l.g.InlineBlock:l.g.Hide},r.createElement(o.a,{alt:n.props.alt,className:t,defaultRes:n.props.srcKey,onLoad:n.onImageLoad,onMouseOver:n.onMouseOver,onMouseOut:n.onMouseOut,sources:n.props.srcSet}));else{for(var i=[],c=0,d=Object.keys(n.props.srcSet.sources);c<d.length;c++){var u=d[c];i.push(n.props.srcSet.sources[u]+" "+u)}e=r.createElement(s.a,{display:n.state.imageLoaded?l.g.InlineBlock:l.g.Hide},r.createElement("img",{className:t,onLoad:n.onImageLoad,onMouseOver:n.onMouseOver,onMouseOut:n.onMouseOut,src:n.props.srcSet.sources[n.props.srcKey],srcSet:i.join(","),alt:n.props.alt}))}return e},n.renderPlaceholder=function(){return n.state.imageLoaded?null:r.createElement(s.a,{display:l.g.InlineBlock},r.createElement(c.a,{type:c.e.Span,className:"chat-image__placeholder",align:l.q.Top},r.createElement(d.a,{height:28,width:28})))},n.state={imageLoaded:!1,isHovering:!1},n}return Object(i.__extends)(t,e),t.prototype.render=function(){var e;return e=this.state.isHovering&&this.state.imageLoaded?r.createElement(u.a,{direction:this.props.tooltipDirection||u.c.Top,label:this.props.alt,display:l.g.Inline,offsetY:"0.9rem","data-a-target":"emote-name"},this.renderPlaceholder(),this.renderImage(),this.props.cheerText):r.createElement("span",{"data-a-target":"emote-name"},this.renderPlaceholder(),this.renderImage(),this.props.cheerText),this.props.cheerText?r.createElement(c.a,{type:c.e.Span,whiteSpace:c.f.NoWrap},e):e},t}(r.Component));n.d(t,"a",(function(){return m}))},j426:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsDescription_User"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:98}};n.loc.source={body:"query ClipsDescription_User {\ncurrentUser {\nid\nroles {\nisStaff\nisSiteAdmin\n}\nself {\nisEditor\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsDescription_User=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsDescription_User")},jBwP:function(e,t,n){"use strict";var i=n("q1tI"),a=n("CGXs"),r=n("eirU"),o=n("8XDC"),s=n("0Log"),l=n("/aPz"),c=n("1rIY"),d=n("W/3w"),u=n("mr+n"),m=n("92xe"),p=n("w09P"),h=n("geRD"),f=function(e,t){return Object(h.i)(m,{login:t},(function(t){return p(t,(function(e){return e.channel.subscriptionProducts[0].hasSubOnlyChat}),(function(){return e}))}))},g=function(e,t){return Object(h.i)(m,{login:t},(function(t){return p(t,(function(e){return e.channel.chatSettings.isEmoteOnlyModeEnabled}),(function(){return e}))}))},v=function(e,t){return Object(h.i)(m,{login:t},(function(t){return p(t,(function(e){return e.channel.chatSettings.followersOnlyDurationMinutes}),(function(){return e}))}))},b=function(e,t){return Object(h.i)(m,{login:t},(function(t){return p(t,(function(e){return e.channel.chatSettings.slowModeDurationSeconds}),(function(){return e}))}))},k={emoteOnlyMode:!1,followerDuration:d.a,followerMode:!1,slowMode:!1,slowModeDuration:u.a,subsOnlyMode:!1,updateRoomState:function(){return null},initialStateLoaded:!1},y=Object(c.a)("ChatRoomStateContext",k),S=y.context,C=y.withContext,E=function(e){var t,n,c,d,u,p,h,y=i.useState(!1),C=y[0],E=y[1],w=Object(r.d)(m,{variables:{login:e.channelLogin}}),O=w.data,D=w.loading,N=null===(t=null==O?void 0:O.channel)||void 0===t?void 0:t.id,_=N&&Object(l.M)(N),I=Object(a.a)(_||"",!N,(function(e){return e.type!==s.PubsubMessageType.StreamChatRoomUpdate}))[0],M=Object(o.a)(I),T=function(e){var t,n,i,a,o=Object(r.d)(m,{variables:{login:e}}).data,s=(null===(t=null==o?void 0:o.channel)||void 0===t?void 0:t.chatSettings)||{},l=s.isEmoteOnlyModeEnabled,c=s.followersOnlyDurationMinutes,d=s.slowModeDurationSeconds,u=!!l,p=null!=c?c:null,h=null!=d?d:null,k=(null===(a=null===(i=null===(n=null==o?void 0:o.channel)||void 0===n?void 0:n.subscriptionProducts)||void 0===i?void 0:i[0])||void 0===a?void 0:a.hasSubOnlyChat)||!1;return function(t){var n,i,a,r=t.data.room.modes,s=r.emote_only_mode_enabled,l=r.slow_mode_duration_seconds,c=r.followers_only_duration_minutes,d=r.subscribers_only_mode_enabled;d!==k&&(null===(i=null===(n=null==o?void 0:o.channel)||void 0===n?void 0:n.subscriptionProducts)||void 0===i?void 0:i[0])?f(d,e):(null===(a=null==o?void 0:o.channel)||void 0===a?void 0:a.chatSettings)&&(s!==u&&g(s,e),p!==c&&v(c,e),h!==l&&b(l,e))}}(e.channelLogin),j=i.useState(!1),P=j[0],L=j[1],R=!!(null===(c=null===(n=null==O?void 0:O.channel)||void 0===n?void 0:n.subscriptionProducts)||void 0===c?void 0:c[0]);if(i.useEffect((function(){if(I&&M!==I){var e=I;T(e),R||L(e.data.room.modes.subscribers_only_mode_enabled)}}),[I,R,T,M]),D||!(null===(d=null==O?void 0:O.channel)||void 0===d?void 0:d.chatSettings))return i.createElement(S.Provider,{value:k},e.children);var F=O.channel.chatSettings,A=F.isEmoteOnlyModeEnabled,x=F.followersOnlyDurationMinutes,U=F.slowModeDurationSeconds,B=A,V=null!=x?x:-1,H=null!==x,G=null!==U,q=null!=U?U:-1,W=null!==(h=null===(p=null===(u=O.channel.subscriptionProducts)||void 0===u?void 0:u[0])||void 0===p?void 0:p.hasSubOnlyChat)&&void 0!==h?h:P;return i.createElement(S.Provider,{value:{emoteOnlyMode:B,followerDuration:V,followerMode:H,slowMode:G,slowModeDuration:q,subsOnlyMode:W,initialStateLoaded:C,updateRoomState:function(e){C||(void 0!==e.subsOnly&&L(e.subsOnly),E(!0))}}},e.children)};n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return E}))},jPLR:function(e,t,n){},jy35:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"message"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Message"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageContent"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageSender"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"messageContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MessageContent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageParticle"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"messageSender"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"messageParticle"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MessageFragment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"cheermoteFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"mentionFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"automodFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"cheermoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"mentionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"automodFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:910}};n.loc.source={body:"fragment message on Message {\nid\ndeletedAt\nsentAt\ncontent {\n...messageContent\n}\nsender {\n...messageSender\n}\n__typename\n}\nfragment messageContent on MessageContent {\ntext\nfragments {\n...messageParticle\n}\n__typename\n}\nfragment messageSender on User {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelID: $channelID) {\nid\nsetID\nversion\n__typename\n}\n__typename\n}\nfragment messageParticle on MessageFragment {\ntext\ncontent {\n... on CheermoteToken {\n...cheermoteFragment\n}\n... on Emote {\n...emoteFragment\n}\n... on User {\n...mentionFragment\n}\n... on AutoMod {\n...automodFragment\n}\n__typename\n}\n__typename\n}\nfragment cheermoteFragment on CheermoteToken {\nbitsAmount\nprefix\ntier\n__typename\n}\nfragment emoteFragment on Emote {\nemoteID: id\nsetID\ntoken\n__typename\n}\nfragment mentionFragment on User {\nid\nlogin\ndisplayName\n__typename\n}\nfragment automodFragment on AutoMod {\ntopics {\ntype\nweight\n__typename\n}\n__typename\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},jzo8:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return f}));var i,a=n("pVnL"),r=n.n(a),o=n("VbXa"),s=n.n(o),l=n("q1tI"),c=n("vCsY"),d=n("7d/q"),u=n("uKd/"),m=n("sUnt"),p=n("yymn"),h=n("Ws8v");n("fqAq");!function(e){e[e.Column=1]="Column",e[e.Row=2]="Row"}(i||(i={}));var f=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var n=t.prototype;return n.render=function(){var e=this.props.children;if(this.props.children&&this.isCalloutLayout(this.props.children)){var t=this.props.children,n=t.orientation===i.Row?i.Row:i.Column;e=l.createElement(m.a,{display:p.g.Flex,alignItems:p.b.Start,flexDirection:t.orientation===i.Row?p.h.Row:p.h.Column,padding:void 0!==t.padding?t.padding:2},l.createElement(m.a,{fullWidth:!0,display:p.g.Flex,alignItems:p.b.Start},t.figure&&l.createElement(h.a,{margin:{right:1},padding:.5,display:p.g.Flex,flexGrow:0,flexShrink:0,alignItems:p.b.Center,justifyContent:p.l.Center},t.figure),l.createElement(m.a,{flexGrow:1},n===i.Column&&this.renderClose(),t.message)),t.actions&&l.createElement(m.a,{display:p.g.Flex,justifyContent:p.l.End,margin:{top:n===i.Column?1:0,left:n===i.Column?0:1},fullWidth:n===i.Column},t.actions),n===i.Row&&this.renderClose())}return l.createElement(h.a,r()({},Object(c.a)(this.props),{background:p.d.Base,color:p.f.Base,borderRadius:p.e.Medium,elevation:this.props.elevation,position:p.n.Relative}),e)},n.isCalloutLayout=function(e){return!!e.message},n.renderClose=function(){if(this.isCalloutLayout(this.props.children)&&this.props.children.closeButton)return l.createElement(m.a,{className:"tw-callout__close",flexShrink:0,alignSelf:p.c.Start,display:p.g.InlineFlex,margin:{left:1}},l.createElement(u.a,{ariaLabel:this.props.children.closeButton.ariaLabel,onClick:this.props.children.closeButton.onClick,size:d.b.Small}))},t}(l.Component);f.displayName="Callout",f.defaultProps={elevation:1}},k4PX:function(e,t,n){"use strict";var i=n("mrSG"),a=n("w09P"),r=n("q1tI"),o=n("/MKj"),s=n("ANjH"),l=n("yR8l"),c=n("eDVu"),d=n("0Log"),u=n("wUQP"),m=n("/aPz"),p=n("kRBY"),h=n("/7QA"),f=n("5RPi"),g=n("2EzP"),v=n("pTg8"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.unsubscribe=function(){t.unsubscriber&&(t.unsubscriber(),t.unsubscriber=null)},t.handleMessage=function(e){if(e.type===d.PubsubMessageType.CommunityPointsRedeemed&&!e.data.redemption.user_input){var n=Object(f.a)({id:e.data.redemption.id,reward:Object(v.a)(t.props.rewardMap,e.data.redemption.reward.id),userDisplayName:e.data.redemption.user.display_name,userID:e.data.redemption.user.id,userLogin:e.data.redemption.user.login});t.addMessage(n)}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentDidUpdate=function(e){this.props.channelID!==e.channelID&&this.subscribe()},t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.render=function(){return null},t.prototype.subscribe=function(){this.unsubscribe(),this.props.channelID&&(this.unsubscriber=h.l.subscribe({topic:Object(m.q)(this.props.channelID),onMessage:this.handleMessage}))},t.prototype.addMessage=function(e){this.props.messageHandlerAPI?this.props.messageHandlerAPI.handleMessage(e):h.k.warn("RewardEventHandler received an event before the MessageHandlerAPI was available.")},t}(r.Component),k=Object(g.a)(b),y=n("ZaoE"),S=n("xahZ"),C=n("8wAl");var E=n("f00E"),w=n("DMoW"),O=n("RS58"),D=n("jBwP"),N=n("VaVM"),_=n("A4cy"),I=n("OOag"),M=n("V8f+"),T=n("W1jp"),j=n("geRD"),P=n("zwF8"),L=n("IQZc"),R=n("g+79"),F=n("+80q"),A=n("B30r"),x=n("ApRi"),U=n("nAiT"),B=n("EgE3");function V(e){var t=e.message?Object(A.c)(e.errorCode):Object(A.b)();e.setTrayError(t)}var H=n("gb2O");function G(e){var t=e.message?Object(A.c)(e.errorCode):Object(A.b)();e.setTrayError(t)}var q=n("OUdD"),W=n("fwSA"),z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isRewardCenterOpen:!1,rewardCenterState:{type:N.a.ListRewards},transactionID:Object(E.c)(),direction:M.a.OpenRewardCenter},t.setDirection=function(e){t.setState({direction:e})},t.closeRewardCenter=function(){t.setState({isRewardCenterOpen:!1,direction:M.a.CloseRewardCenter}),t.closeTimeout=setTimeout((function(){t.setState({rewardCenterState:{type:N.a.ListRewards}})}),0)},t.openEarnRatesList=function(){var e=t.getViewerType();Object(B.j)(B.a.RewardSelectionPane,e,t.props.channelID||"",t.props.channelLogin),t.setDirection(M.a.Forward),t.openRewardCenterToState({type:N.a.EarnRates})},t.openReward=function(e){var n=null==e?void 0:e.direction,i=null==e?void 0:e.reward;if(n&&t.setDirection(n),i){var a=t.checkRewardEligibility(i),r=null;if(a)if(r=Object(E.c)(),t.setState({transactionID:r}),"CommunityPointsAutomaticReward"===i.__typename)switch(i.type){case w.X.SEND_HIGHLIGHTED_MESSAGE:t.openHighlightedMesssageReward(i,r);break;case w.X.SINGLE_MESSAGE_BYPASS_SUB_MODE:t.openSubsOnlyMessageReward(i,r);break;case w.X.CHOSEN_SUB_EMOTE_UNLOCK:t.openRewardCenterToState({type:N.a.UnlockChosenSubscriberEmote,reward:i});break;case w.X.RANDOM_SUB_EMOTE_UNLOCK:t.openRewardCenterToState({type:N.a.UnlockRandomEmote,reward:i});break;case w.X.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:t.openRewardCenterToState({type:N.a.ModifyEmote,reward:i})}else t.openCustomReward(i,r);Object(B.g)({channelID:t.props.channelID||"",channelLogin:t.props.channelLogin,isUserEligible:a,reward:i,transactionID:r,userBalance:t.props.balance,viewTrackingID:t.state.viewTrackingID||""})}else t.openRewardCenterToState({type:N.a.ListRewards})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(q.a.Provider,{value:Object(i.__assign)(Object(i.__assign)({},this.state),{closeRewardCenter:this.closeRewardCenter,openReward:this.openReward,openEarnRatesList:this.openEarnRatesList,setDirection:this.setDirection})},this.props.children)},t.prototype.componentWillUnmount=function(){this.closeTimeout&&clearTimeout(this.closeTimeout)},t.prototype.openRewardCenterToState=function(e){if(!this.state.isRewardCenterOpen){var t=Object(E.c)();this.setState({viewTrackingID:t,direction:M.a.OpenRewardCenter}),e.type===N.a.ListRewards&&Object(B.l)(this.props.channelLogin,this.props.channelID||"",t)}this.setState({isRewardCenterOpen:!0,rewardCenterState:e})},t.prototype.checkRewardEligibility=function(e){var t=Object(_.a)(e,{isUserSubscribed:this.isCurrentUserSubscribed,isChannelSubsOnlyMode:this.props.subsOnlyMode});return this.props.currentUserID?"CommunityPointsAutomaticReward"!==e.__typename||t.nonSubOnlyReward?Object(T.c)(e)>this.props.balance&&!Object(T.g)(e)?(this.openRewardCenterToState({type:N.a.NotEnoughPoints,reward:e}),!1):"CommunityPointsCustomReward"!==e.__typename||t.subOnlyReward?!("CommunityPointsAutomaticReward"===e.__typename&&!t.subsModeRequiredReward)||(this.openRewardCenterToState({type:N.a.NotSubOnlyMode,reward:e}),!1):(this.openRewardCenterToState({type:N.a.NotSubbed,reward:e}),!1):(this.openRewardCenterToState({type:N.a.AlreadySubbed,reward:e}),!1):(this.openRewardCenterToState({type:N.a.NotLoggedIn,reward:e}),!1)},t.prototype.openHighlightedMesssageReward=function(e,t){this.props.channelID&&(this.props.setTray(function(e){var t=this;return{icon:r.createElement(R.a,{data:e.reward,size:R.b.ExtraSmall}),title:Object(T.f)(e.reward),body:r.createElement(L.a,{onRequirementsChange:function(t){return t?e.setTrayError(Object(U.f)(e.channelDisplayName||e.channelLogin,(function(){e.clearTray(),e.openReward()}))):e.clearTrayError()},reward:e.reward},r.createElement(F.a,null,Object(T.d)(e.reward))),pointsCost:Object(T.c)(e.reward),sendButtonOverride:P.b.CommunityPointsSpend,disableBits:!0,disableCommands:!0,sendMessageHandler:{type:P.c.Custom,handleMessage:function(n){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return n.trim()?[4,h.p.apollo.client.mutate(Object(i.__assign)({mutation:x},Object(j.a)({channelID:e.channelID,cost:Object(T.c)(e.reward),message:n,transactionID:e.transactionID})))]:(V(e),[2,!1]);case 1:return(t=a.sent()).data&&t.data.sendHighlightedChatMessage&&!t.data.sendHighlightedChatMessage.error?(e.clearTray(),Object(B.h)({channelID:e.channelID,channelLogin:e.channelLogin,reward:e.reward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}),[2,!0]):(V(Object(i.__assign)(Object(i.__assign)({},e),{errorCode:t.data&&t.data.sendHighlightedChatMessage&&t.data.sendHighlightedChatMessage.error&&t.data.sendHighlightedChatMessage.error.code||w.Zc.UNKNOWN,message:n})),[2,!1])}}))}))}}}}({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:t,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter())},t.prototype.openSubsOnlyMessageReward=function(e,t){this.props.channelID&&(this.props.setTray(function(e){var t=this;return{ignoredRestrictions:new Set([w.N.SUBSCRIBERS_ONLY]),icon:r.createElement(R.a,{data:e.reward,size:R.b.ExtraSmall}),title:Object(T.f)(e.reward),body:r.createElement(L.a,{onRequirementsChange:function(t){return t?e.setTrayError(Object(U.f)(e.channelDisplayName||e.channelLogin,(function(){e.clearTray(),e.openReward()}))):e.clearTrayError()},reward:e.reward},r.createElement(F.a,null,Object(T.d)(e.reward))),pointsCost:Object(T.c)(e.reward),sendButtonOverride:P.b.CommunityPointsSpend,disableBits:!0,disableCommands:!0,sendMessageHandler:{type:P.c.Custom,handleMessage:function(n){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return n.trim()?[4,h.p.apollo.client.mutate(Object(i.__assign)({mutation:H},Object(j.a)({channelID:e.channelID,cost:Object(T.c)(e.reward),message:n,transactionID:e.transactionID})))]:(G(e),[2,!1]);case 1:return(t=a.sent()).data&&t.data.sendChatMessageThroughSubscriberMode&&!t.data.sendChatMessageThroughSubscriberMode.error?(e.clearTray(),Object(B.h)({channelID:e.channelID,channelLogin:e.channelLogin,reward:e.reward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}),[2,!0]):(G(Object(i.__assign)(Object(i.__assign)({},e),{errorCode:t.data&&t.data.sendChatMessageThroughSubscriberMode&&t.data.sendChatMessageThroughSubscriberMode.error&&t.data.sendChatMessageThroughSubscriberMode.error.code||void 0,message:n})),[2,!1])}}))}))}}}}({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:t,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter())},t.prototype.openCustomReward=function(e,t){if(e.isUserInputRequired){if(!this.props.channelID)return;this.props.setTray(Object(I.a)({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:t,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter()}else this.openRewardCenterToState({type:N.a.CustomReward,reward:e})},t.prototype.getViewerType=function(){return this.props.channelID===this.props.currentUserID?B.e.Broadcaster:this.isModerator?B.e.Moderator:B.e.Viewer},Object.defineProperty(t.prototype,"isCurrentUserSubscribed",{get:function(){return this.props.data.community&&this.props.data.community.self&&!!this.props.data.community.self.subscriptionBenefit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isModerator",{get:function(){return this.props.data.community&&this.props.data.community.self&&this.props.data.community.self.isModerator},enumerable:!0,configurable:!0}),t}(r.Component);var Q=Object(s.d)(Object(l.a)(W,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(O.b)((function(e){return{clearTray:e.clearTray,clearTrayError:e.clearTrayError,setTray:e.setTray,setTrayError:e.setTrayError}})),Object(D.b)((function(e){return{subsOnlyMode:e.subsOnlyMode}})))(z);n.d(t,"a",(function(){return $}));var Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.rewardMap;return r.createElement(y.a.Provider,{value:{activeMultipliers:this.activeMultipliers,automaticRewards:this.automaticRewards,balance:this.balance,channelID:this.props.data.community&&this.props.data.community.id,customRewards:this.customRewards,channelLogin:this.props.channelLogin,displayName:this.props.data.community&&this.props.data.community.displayName,emoteVariants:this.emoteVariants,isChannelPointsEnabled:this.isChannelPointsEnabled,isChannelPointsFeatureFlagOn:!0,isCurrentUserModerator:!!(this.props.data.community&&this.props.data.community.self&&this.props.data.community.self.isModerator),isLoaded:!!this.props.data.community,pointIcon:this.pointIcon,pointName:this.pointName,raidPointAmount:this.raidPointAmount,earning:this.earning,rewardMap:e}},r.createElement(k,{channelID:this.props.data.community&&this.props.data.community.id,rewardMap:e}),r.createElement(Q,{balance:this.balance,channelDisplayName:this.props.data.community&&this.props.data.community.displayName,channelID:this.props.data.community&&this.props.data.community.id,channelLogin:this.props.channelLogin,currentUserID:this.props.currentUserID},this.props.children))},Object.defineProperty(t.prototype,"activeMultipliers",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.self&&e.community.channel.self.communityPoints&&e.community.channel.self.communityPoints.activeMultipliers?e.community.channel.self.communityPoints.activeMultipliers:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"automaticRewards",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.automaticRewards?e.community.channel.communityPointsSettings.automaticRewards:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"balance",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.self&&e.community.channel.self.communityPoints?e.community.channel.self.communityPoints.canRedeemRewardsForFree?1/0:e.community.channel.self.communityPoints.balance:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customRewards",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?e.community.channel.communityPointsSettings.customRewards:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isChannelPointsEnabled",{get:function(){var e=this.props.data;return!!(e.community&&e.community.channel&&e.community.channel.communityPointsSettings)&&e.community.channel.communityPointsSettings.isEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointIcon",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings?e.community.channel.communityPointsSettings.image:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointName",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings?e.community.channel.communityPointsSettings.name:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raidPointAmount",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings?e.community.channel.communityPointsSettings.raidPointAmount:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rewardMap",{get:function(){for(var e={},t=0,n=this.automaticRewards;t<n.length;t++){var i=n[t];e[i.id]=i}for(var a=0,r=this.customRewards;a<r.length;a++){var o=r[a];e[o.id]=o}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteVariants",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.emoteVariants?e.community.channel.communityPointsSettings.emoteVariants:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"earning",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.earning?e.community.channel.communityPointsSettings.earning:null},enumerable:!0,configurable:!0}),t}(r.Component);var K=Object(s.d)(Object(o.b)((function(e){var t=Object(p.e)(e);return{currentUserID:t&&t.id}})),Object(l.a)(S,{options:function(e){return{variables:{channelLogin:e.channelLogin},fetchPolicy:"cache-and-network"}}}),Object(c.a)((function(e){return{query:S,variables:{channelLogin:e.channelLogin},skip:!e.data.community,topic:Object(m.q)(""+(e.data.community&&e.data.community.id)),types:[d.PubsubMessageType.CommunityPointsAutomaticRewardUpdated,d.PubsubMessageType.CommunityPointsCustomRewardCreated,d.PubsubMessageType.CommunityPointsCustomRewardDeleted,d.PubsubMessageType.CommunityPointsCustomRewardUpdated,d.PubsubMessageType.CommunityPointsSettings],mutator:function(e,t){switch(e.type){case d.PubsubMessageType.CommunityPointsSettings:return function(e,t){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings?a(e,(function(e){return e.community.channel.communityPointsSettings}),(function(e){return Object(i.__assign)(Object(i.__assign)({},e),{image:t.data.settings.image?Object(C.c)(t.data.settings.image):null,isEnabled:t.data.settings.is_enabled,name:t.data.settings.name})})):e}(t,e);case d.PubsubMessageType.CommunityPointsAutomaticRewardUpdated:return function(e,t){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.automaticRewards?a(e,(function(e){return e.community.channel.communityPointsSettings.automaticRewards}),(function(e){return e.map((function(e){return e.type!==t.data.updated_reward.reward_type?e:Object(i.__assign)(Object(i.__assign)({},e),Object(C.a)(t.data.updated_reward))}))})):e}(t,e);case d.PubsubMessageType.CommunityPointsCustomRewardCreated:return function(e,t){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?a(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return Object(i.__spreadArrays)(e,[Object(C.b)(t.data.new_reward)])})):e}(t,e);case d.PubsubMessageType.CommunityPointsCustomRewardDeleted:return function(e,t){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?a(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return e.map((function(e){return e.id!==t.data.deleted_reward.id?e:Object(i.__assign)(Object(i.__assign)({},e),{isEnabled:!1})}))})):e}(t,e);case d.PubsubMessageType.CommunityPointsCustomRewardUpdated:return function(e,t){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?a(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return e.map((function(e){return e.id!==t.data.updated_reward.id?e:Object(i.__assign)(Object(i.__assign)({},e),Object(C.b)(t.data.updated_reward))}))})):e}(t,e);default:return t}}}})),Object(c.a)((function(e){return{query:S,variables:{channelLogin:e.channelLogin},topic:Object(m.r)(""+e.currentUserID),skip:!e.data.community||!e.currentUserID,types:[d.PubsubMessageType.CommunityPointsMultipliersUpdated],mutator:function(t,n){if(!e.data.community||t.data.active_multipliers&&e.data.community.id!==t.data.active_multipliers.channel_id||!n.community||!n.community.channel||!n.community.channel.self)return n;var i=[];return t.data.active_multipliers&&(i=t.data.active_multipliers.multipliers.map((function(e){return{__typename:"CommunityPointsMultiplier",reasonCode:e.reason_code,factor:e.factor}}))),n.community.channel.self.communityPoints?a(n,(function(e){return e.community.channel.self.communityPoints.activeMultipliers}),(function(){return i})):a(n,(function(e){return e.community.channel.self.communityPoints}),(function(){return{__typename:"CommunityPointsProperties",availableClaim:null,balance:0,activeMultipliers:i,canRedeemRewardsForFree:!1}}))}}})),Object(c.a)((function(e){return{query:S,variables:{channelLogin:e.channelLogin},topic:Object(m.r)(""+e.currentUserID),skip:!e.data.community||!e.currentUserID,types:[d.PubsubMessageType.CommunityPointsEarned,d.PubsubMessageType.CommunityPointsSpent],mutator:function(t,n){if(!e.data.community||t.data.balance&&e.data.community.id!==t.data.balance.channel_id||!n.community||!n.community.channel||!n.community.channel.self)return n;var i=t.data.balance.balance;return n.community.channel.self.communityPoints?a(n,(function(e){return e.community.channel.self.communityPoints.balance}),(function(){return i})):a(n,(function(e){return e.community.channel.self.communityPoints}),(function(){return{__typename:"CommunityPointsProperties",availableClaim:null,balance:i,activeMultipliers:null,canRedeemRewardsForFree:!1}}))}}})))(Y),$=function(e){return Object(u.c)("copo_enabled")?r.createElement(K,Object(i.__assign)({},e)):r.createElement(r.Fragment,null,e.children)}},kPBf:function(e,t){},kPCN:function(e,t,n){},kVrx:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return h}));var i=n("/7QA"),a=n("f00E"),r=n("4rCz"),o=n("BKFw"),s=n("NZDK"),l=n("9kXc"),c=n("BZOq"),d=n("V3Pk"),u=n("WK0g"),m=function(e,t){return Object(u.b)(t).then((function(n){e.dispatch(Object(d.h)(n,t.bitsConfig))}),(function(){e.dispatch(Object(d.g)(Object(r.d)("Unable to retrieve messages, please try again.","routines-moderation")))}))},p=function(e,t){return Object(u.a)(t).then((function(){e.dispatch(Object(d.f)(t.bannedUser))})).catch((function(t){return e.dispatch(Object(d.e)(t))}))},h=function(e,t){var n=new s.a({appId:i.a.algoliaApplicationID,apiKey:i.a.algoliaAPIKey,apolloClient:i.p.apollo.client,logger:i.k,config:i.a,stats:i.p.stats}),r=a.b(),u=Object(c.b)({broadcastType:o.c,broadcasterId:t.creatorId}),m=u.typeID,p=u.params;return n.queryForType(m,t.searchTerm,r,p).then((function(t){var n=Object(l.a)({searchResults:t});n.currentVideoResults&&e.dispatch(Object(d.i)(n.currentVideoResults))})).catch((function(){}))}},kmJV:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelRoot_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currentChannelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeChanlets"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelCurrentUser"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"currentChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channel"},directives:[]}]}}]}}],loc:{start:0,end:301}};i.loc.source={body:'#import "twilight/features/channel/queries/channel.gql"\n#import "twilight/features/channel/queries/channel-current-user.gql"\nquery ChannelRoot_Channel(\n$currentChannelLogin: String!\n$includeChanlets: Boolean!\n) {\ncurrentUser {\n...channelCurrentUser\n}\nuser(login: $currentChannelLogin) {\n...channel\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("BbLt").definitions)),i.definitions=i.definitions.concat(r(n("NJiF").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChannelRoot_Channel=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelRoot_Channel")},kxrW:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.PlayerInit="init",e.ContentShowing="contentShowing",e.PlaybackStatistics="playbackStatistics",e.ChansubRequired="chansubRequired",e.VideoFailure="videoFailure",e.Formats="videoFormats",e.ABSStreamFormatChange="abs_stream_format_change",e.FormatChanged="videoFormatChanged",e.TimeChange="timeChange",e.BufferChange="bufferChange",e.SegmentChange="segmentchange",e.UsherFailError="usherFail",e.CaptionUpdate="captions",e.SeekFailed="seekfailed",e.VariantSwitchRequest="variantSwitchRequested",e.ViewersChange="viewerschange",e.StreamLoaded="streamLoaded",e.VideoLoaded="videoLoaded",e.VideoPaused="videoPaused",e.QualityChange="qualitychange",e.Online="online",e.Offline="offline",e.Restricted="restricted",e.CastingChange="castingchange",e.TheatreChange="theatrechange",e.MidrollRequested="midrollrequested",e.ManifestExtraInfo="manifestExtraInfo",e.TransitionToCollectionVOD="transitionToCollectionVod",e.TransitionToRecommendedVOD="transitionToRecommendedVod",e.StitchedAdStart="stitchedadstart",e.StitchedAdEnd="stitchedadend",e.PersistenPlayerToggle="persistentPlayerEnableToggle",e.StatsUpdate="statsupdate",e.PromptLoginModal="prompt login modal",e.OpenStream="openStream",e.PlayerReady="ready",e.FullscreenChange="fullscreenchange",e.ExternalFullscreenChange="externalfullscreenchange",e.ClipsModerationOpen="clips-moderation-open",e.FocusPlayer="focusPlayer",e.FollowChannel="followChannel",e.UnfollowChannel="unfollowChannel",e.ContentRestricted="contentRestricted",e.SubscribeToChannel="subscribeChannel",e.OpenSubscriptionCheckout="subscriptionCheckout",e.PrimeSubscribeToChannel="primeSubscribeChannel",e.RemoveStream="removeStream",e.EnterMultiview="enterMultiview",e.PlaybackError="playbackerror"}(i||(i={}))},kyTI:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("VwyG"),s=n("vRsq"),l=n("GnwI"),c=n("sUnt"),d=n("yymn"),u=n("dEDE"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this;return a.createElement(o.a,{ownerLogin:this.props.channelLogin,permittedRoles:{owner:!0,editor:!0,staff:!1}},(function(t){return t.permitted?a.createElement(c.a,{display:d.g.InlineFlex},a.createElement(u.a,{blurAfterClick:!0,linkTo:{pathname:Object(s.m)(e.props.channelLogin),state:{content:e.props.trackingContext&&e.props.trackingContext.content,medium:e.props.trackingContext&&e.props.trackingContext.medium}}},Object(r.d)("Customize Layout","CustomShelvesButton"))):null}))},t}(a.Component),p=Object(l.withLatencyTracking)("RoleRestrictedCustomizeButton",{autoReportInteractive:!0})(m)},l41m:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return k}));var i=n("mrSG"),a=n("DMoW"),r=n("DpwM"),o=n("g807"),s=n("RNNG"),l=n("pU2t"),c=n("KD05"),d={beginSec:Number.MIN_VALUE,endSec:Number.MAX_VALUE},u=function(e,t){return t.commenter in e},m=function(e,t,n,i){var a=e.vodChat.comments,r=a.currentVideoTime,c=a.comments;return 0===c.commentCount?[]:Array.from(new o.a(c)).reduce((function(a,o){return o.offset>r?a:(o.comments.forEach((function(r){var o=Object(s.b)(c,r);if(void 0!==o&&(n||!u(i,o)))return o.source===l.b&&y(e.vodChat.comments.isReplayFilterOn,t)?a:a.push(g(o,e,n,i,t||void 0))})),a)}),[]).sort(h)},p=function(e){var t=function(e){return e.vodChat.comments.comments}(e);return Object.keys(t.parentComments).map((function(n){return b(t.parentComments[n],e)})).filter((function(e){return void 0!==e.video})).sort(f)},h=function(e,t){return e.comment.contentOffset===t.comment.contentOffset?e.comment.createdAt.getTime()-t.comment.createdAt.getTime():e.comment.contentOffset-t.comment.contentOffset},f=function(e,t){return e.comment.createdAt.getTime()===t.comment.createdAt.getTime()?t.comment.contentOffset-e.comment.contentOffset:t.lastUpdated.getTime()-e.lastUpdated.getTime()},g=function(e,t,n,i,a){var o=new Array,s=new Array,l=t.vodChat.comments.comments.replies[e.id],c=e.createdAt;return Array.isArray(l)&&l.forEach((function(e){!n&&u(i,e)||(e.source===r.f&&y(t.vodChat.comments.isReplayFilterOn,a)?(s.push(g(e,t,n,i)),c=S(c,e.createdAt)):(o.push(g(e,t,n,i)),c=S(c,e.createdAt)))})),y(t.vodChat.comments.isReplayFilterOn,a)?{author:t.vodChat.users.users[e.commenter],comment:e,lastUpdated:c,replies:s.sort(h)}:{author:t.vodChat.users.users[e.commenter],comment:e,lastUpdated:c,replies:o.sort(h)}},v=function(e,t){var n=new Array,i=t.vodChat.comments.comments.replies[e.id],a=e.createdAt;return Array.isArray(i)&&i.forEach((function(e){n.push(v(e,t)),a=S(a,e.createdAt)})),{author:t.vodChat.users.users[e.commenter],comment:e,lastUpdated:a,replies:n.sort(h)}},b=function(e,t){var n=v(e,t);return Object(i.__assign)(Object(i.__assign)({},n),{video:t.vodChat.moderation.videos[Object(c.a)(e.contentId)]})},k=function(e){return 0===e.commentCount?d:{beginSec:e.minOffset,endSec:e.maxOffset}},y=function(e,t){return!!t&&(e&&(t===a.D.ARCHIVE||t===a.D.HIGHLIGHT))},S=function(e,t){return e.getTime()>t.getTime()?e:t}},lNGo:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h}));var i=n("mrSG"),a=n("/7QA"),r=n("DMoW"),o=n("2xye"),s=n("IZXT"),l=n("YXxK"),c=n("04j6"),d=n("oi4T"),u=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r,l;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:t=null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:c,variables:{id:e.channelID}})];case 2:return t=u.sent(),[3,4];case 3:return n=u.sent(),Object(s.d)()?a.k.warn("ChatEvent query failed."):a.k.errorAndReport(n,"ChatEvent query failed."),[3,4];case 4:return t&&t.data||a.k.warn("ChatEvent query failed; Chat tracking data sent may be incomplete."),r=t&&t.data&&t.data.user||null,l=Object(i.__assign)(Object(i.__assign)({},Object(d.b)(e)),{viewer_context:e.viewerContext,broadcast_id:a.o.getVideoPlayerTrackingData().broadcastID,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,game:r&&r.stream&&r.stream.game&&r.stream.game.name,live:!!(r&&r.stream&&r.stream.id.length>0),partner:r&&r.isPartner||!1,play_session_id:a.o.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode,send_action:e.sendAction}),a.o.track(o.SpadeEventType.Chat,l),[2]}}))}))},m=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r,l;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:t=null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:c,variables:{id:e.channelID}})];case 2:return t=u.sent(),[3,4];case 3:return n=u.sent(),Object(s.d)()?a.k.warn("ChatEvent query failed for CheerEvent."):a.k.errorAndReport(n,"ChatEvent query failed for CheerEvent."),[3,4];case 4:return t&&t.data||a.k.warn("ChatEvent query failed; Cheer tracking data sent may be incomplete."),r=t&&t.data&&t.data.user||null,l=Object(i.__assign)(Object(i.__assign)({},Object(d.a)(e)),{broadcast_id:a.o.getVideoPlayerTrackingData().broadcastID,bits_value:e.bitsValue,cheermote:e.cheermote,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,game:r&&r.stream&&r.stream.game&&r.stream.game.name,is_anonymous_cheer:e.isAnonymousCheer,live:!!(r&&r.stream&&r.stream.id.length>0),partner:r&&r.isPartner||!1,play_session_id:a.o.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode,transaction_id:e.transactionID,viewer_context:e.viewerContext}),a.o.track(o.SpadeEventType.ChatClientCheer,l),[2]}}))}))},p=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r,l;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:t=null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:c,variables:{id:e.channelID}})];case 2:return t=u.sent(),[3,4];case 3:return n=u.sent(),Object(s.d)()?a.k.warn("ChatEvent query failed for CheerEvent."):a.k.errorAndReport(n,"ChatEvent query failed for CheerEvent."),[3,4];case 4:return t&&t.data||a.k.warn("ChatEvent query failed; Cheer tracking data sent may be incomplete."),r=t&&t.data&&t.data.user||null,l=Object(i.__assign)(Object(i.__assign)({},Object(d.a)(e)),{broadcast_id:a.o.getVideoPlayerTrackingData().broadcastID,bits_value:e.bitsValue,cheermote:e.cheermote,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,error_type:e.errorType,game:r&&r.stream&&r.stream.game&&r.stream.game.name,is_anonymous_cheer:e.isAnonymousCheer,live:!!(r&&r.stream&&r.stream.id.length>0),partner:r&&r.isPartner||!1,play_session_id:a.o.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode,viewer_context:e.viewerContext}),a.o.track(o.SpadeEventType.ChatClientCheerError,l),[2]}}))}))},h=function(e){switch(e){case r.Yc.AMOUNT_BELOW_MIN_BITS:return l.d.BelowMin;case r.Yc.AUTO_MOD_MESSAGE:return l.d.AutoModMessage;case r.Yc.AUTO_MOD_PENDING:return l.d.AutoModPending;case r.Yc.CHANNEL_BLOCKED_TERMS:return l.d.ChannelBlockedTerms;case r.Yc.CHANNEL_INELIGIBLE:return l.d.ChannelIneligible;case r.Yc.EMOTE_AMOUNT_BELOW_MIN_BITS:return l.d.BelowMinEmote;case r.Yc.INSUFFICIENT_BALANCE:return l.d.BitsUnavailable;case r.Yc.INVALID_ANONYMOUS_MESSAGE:return l.d.InvalidAnonymousMessage;case r.Yc.INVALID_BITS_AMOUNT:case r.Yc.INVALID_BITS_MESSAGE:return l.d.InvalidBitsMessage;case r.Yc.INVALID_EVENT_ID:return l.d.InvalidEventId;case r.Yc.MESSAGE_LENGTH_EXCEEDED:return l.d.InputAboveMaxLength;case r.Yc.REQUEST_THROTTLED:return l.d.RequestThrottled;case r.Yc.TOO_LARGE_BITS_EMOTE:return l.d.AboveMaxEmote;case r.Yc.TOO_LARGE_CHEER:return l.d.AboveMaxCheer;case r.Yc.USER_BANNED:return l.d.UserBanned;case r.Yc.USER_INELIGIBLE:return l.d.UserIneligible;case r.Yc.USER_SUSPENDED:return l.d.UserSuspended;case r.Yc.ZALGO_MESSAGE:return l.d.ZalgoMessage;default:return l.d.Unknown}}},lRNp:function(e,t,n){},lZdE:function(e,t,n){"use strict";function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n.d(t,"a",(function(){return i}))},"ll/k":function(e,t,n){"use strict";function i(e,t){if(void 0===t&&(t=0),t>e){var n=t;t=e,e=n}return t+Math.floor(Math.random()*(e-t+1))}function a(e){return e[i(e.length-1)]}function r(e,t){for(var n=0,i=[];n<e;)i.push(t(n)),n+=1;return i}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}))},"lpj/":function(e,t,n){},m2W3:function(e,t,n){"use strict";var i,a=n("/7QA"),r=n("D7An");function o(){return a.p.experiments.getAndTrackAssignment(r.c.SubsBenefitReminder)||i.Control}function s(){return o()!==i.Control}!function(e){e.Control="control",e.VariantA="variant_a",e.VariantB="variant_b"}(i||(i={})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}))},m7Uh:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var i=n("G7cy"),a=n("DtRd"),r=n("R4sh"),o=[250,249,250],s=[15,14,17],l=3,c=/^#[A-Fa-f0-9]{3,6}$/;function d(e){var t=a(e);return 4===t.length&&(t=[t[0],t[1],t[2]]),i(t)}function u(e){var t=a(e);return Object(r.a)(o,t)>=l&&Object(r.a)(t,s)>=l}function m(e){return c.test(e.trim())}},mGiD:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelRoot_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeChanlets"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelCurrentUser"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"includePrivate"},value:{kind:"BooleanValue",value:!0}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelVideo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelCollection"},directives:[]}]}}]}}],loc:{start:0,end:517}};i.loc.source={body:'#import "twilight/features/channel/queries/channel-current-user.gql"\n#import "twilight/features/channel/queries/channel-video.gql"\n#import "twilight/features/channel/queries/channel-collection.gql"\nquery ChannelRoot_Video(\n$videoID: ID!\n$collectionID: ID!\n$includeCollection: Boolean!\n$includeChanlets: Boolean!\n) {\ncurrentUser {\n...channelCurrentUser\n}\nvideo(id: $videoID options: { includePrivate: true }) {\n...channelVideo\n}\ncollection(id: $collectionID) @include(if: $includeCollection) {\n...channelCollection\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("NJiF").definitions)),i.definitions=i.definitions.concat(r(n("RTtf").definitions)),i.definitions=i.definitions.concat(r(n("vtET").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChannelRoot_Video=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelRoot_Video")},"mr+n":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var i=n("/7QA"),a=30,r=[1,3,5,10,20,30,60,120];function o(e){switch(e){case 1:return Object(i.d)("1 second","SlowModeLabel");case 3:return Object(i.d)("3 seconds","SlowModeLabel");case 5:return Object(i.d)("5 seconds","SlowModeLabel");case 10:return Object(i.d)("10 seconds","SlowModeLabel");case 20:return Object(i.d)("20 seconds","SlowModeLabel");case 30:return Object(i.d)("30 seconds (default)","SlowModeLabel");case 60:return Object(i.d)("60 seconds","SlowModeLabel");case 120:return Object(i.d)("120 seconds","SlowModeLabel");default:return i.k.warn("[SlowModeLabel] Tried to generate a label for a non-preset.",e),""}}function s(e){switch(e){case 1:return Object(i.d)("1s","SlowModeShorthand");case 3:return Object(i.d)("3s","SlowModeShorthand");case 5:return Object(i.d)("5s","SlowModeShorthand");case 10:return Object(i.d)("10s","SlowModeShorthand");case 20:return Object(i.d)("20s","SlowModeShorthand");case 30:return Object(i.d)("30s","SlowModeShorthand");case 60:return Object(i.d)("60s","SlowModeShorthand");case 120:return Object(i.d)("120s","SlowModeShorthand");default:return Object(i.d)("custom","SlowModeShorthand")}}},mziE:function(e,t,n){},"n+IG":function(e,t,n){},nAiT:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return f}));var i=n("q1tI"),a=n("4rCz"),r=n("+80q"),o=n("Jsra");function s(){return Object(a.d)("Channel Points","ChannelPoints")}function l(e){return Object(a.d)("{count, plural, one {# of your Default Reward costs was recently updated.} other {# of your Default Reward costs were recently updated.}}",{count:e},"CommunityPointsRewards")}function c(){return Object(a.d)("This reward is temporarily out of stock.","ChannelPoints")}function d(e){return Object(a.d)("<x:strong>Oops!</x:strong> This reward went out of stock. <x:link>Please try again later.</x:link>",{"x:strong":function(e){return i.createElement(r.a,{bold:!0,type:r.e.Span},e)},"x:link":function(t){return i.createElement(o.a,{onClick:e},t)}},"ChannelPoints")}function u(e,t){return e?Object(a.d)("{streamerName} has changed the reward requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:link":function(e){return i.createElement(o.a,{onClick:t},e)}},"ChannelPoints"):Object(a.d)("The broadcaster has changed the reward requirements. <x:link>Please try again.</x:link>",{"x:link":function(e){return i.createElement(o.a,{onClick:t},e)}},"ChannelPoints")}function m(e,t){return e?Object(a.d)("<x:strong>Oops!</x:strong> {streamerName} has changed this reward's requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:strong":function(e){return i.createElement(r.a,{bold:!0,type:r.e.Span},e)},"x:link":function(e){return i.createElement(o.a,{onClick:t},e)}},"ChannelPoints"):Object(a.d)("<x:strong>Oops!</x:strong> The broadcaster has changed this reward's requirements. <x:link>Please try again.</x:link>",{"x:strong":function(e){return i.createElement(r.a,{bold:!0,type:r.e.Span},e)},"x:link":function(e){return i.createElement(o.a,{onClick:t},e)}},"ChannelPoints")}function p(){return Object(a.d)("Channel Points early access","ChannelPointsSignupPage")}function h(){return Object(a.d)("Review Requests Queue","CustomRewardsList")}function f(e){switch(e){case"Greyscale":return Object(a.d)("Greyscale","ModifyEmotePreviewTooltip");case"Horizontal Flip":return Object(a.d)("Horizontal Flip","ModifyEmotePreviewTooltip");case"Sunglasses":return Object(a.d)("Sunglasses","ModifyEmotePreviewTooltip");case"Squished":return Object(a.d)("Squished","ModifyEmotePreviewTooltip");case"Thinking":return Object(a.d)("Thinking","ModifyEmotePreviewTooltip");case"Lunar Rat":return Object(a.d)("Lunar Rat","ModifyEmotePreviewTooltip");case"Red Envelope":return Object(a.d)("Red Envelope","ModifyEmotePreviewTooltip");default:return e}}},nIRf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){var t=this;this.timerId=null,this.start=function(){t.timerId&&t.stop(),t.timerId=setInterval(t.onInterval,t.intervalMillis)},this.stop=function(){t.timerId&&(clearInterval(t.timerId),t.timerId=null)},this.restart=function(e){void 0===e&&(e=0),t.stop(),t.timerId=setTimeout((function(){t.onInterval(),t.start()}),e)},this.onInterval=e.onInterval,this.intervalMillis=e.intervalMillis}},nInp:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("XIZb"),a=Object(i.a)("MessageBuffer"),r=a.context,o=a.withChatServiceManager,s=a.withContext,l=r,c=o,d=s((function(e){return{messageBufferAPI:e.serviceAPI,setMessageBufferAPI:e.setServiceAPI}}))},nJ3O:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"customRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsCustomReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isInStock"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPaused"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSubOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserInputRequired"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldRedemptionsSkipRequestQueue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prompt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}],loc:{start:0,end:345}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment customRewardFragment on CommunityPointsCustomReward {\nid\nbackgroundColor\ncost\ndefaultImage {\n...pointsImageFragment\n}\nimage {\n...pointsImageFragment\n}\nisEnabled\nisInStock\nisPaused\nisSubOnly\nisUserInputRequired\nshouldRedemptionsSkipRequestQueue\nprompt\ntitle\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("r+cx").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},nR4f:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmoteCard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emoteID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOffers"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"emoteID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bitsBadgeTierSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"threshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUnlocked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numberOfBitsUntilUnlock"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:356}};i.loc.source={body:'#import "twilight/features/chat/components/emote-card/emote-subscription-product.gql"\nquery EmoteCard ($emoteID: ID! $withOffers: Boolean = false) {\nemote(id: $emoteID) {\nid\ntoken\nsetID\nowner {\nid\nlogin\ndisplayName\nstream {\nid\ntype\n}\n}\nsubscriptionProduct {\n...subProduct\n}\nbitsBadgeTierSummary {\nthreshold\nself {\nisUnlocked\nnumberOfBitsUntilUnlock\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("HfAM").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.EmoteCard=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"EmoteCard")},ngVu:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("znm4"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPlayerSeekRequest=function(e){t.props.onPlayerSeekRequestHandler(e-t.getSourceVideoClipStartOffset())},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.clipVideoID,n=e.durationSeconds,i=e.videoOffsetSeconds,o=null!==i&&null!==n?{offset:i,duration:n}:void 0,s=this.getSourceVideoClipStartOffset();return a.createElement(r.a,{onPlayerSeekRequest:this.onPlayerSeekRequest,onShowLogin:this.props.onShowLogin,videoID:t,startInReplayMode:!0,isClipChatDisabled:!t,messageWindow:o,highlightTimestamp:s})},t.prototype.getSourceVideoClipStartOffset=function(){return this.props.videoOffsetSeconds?this.props.videoOffsetSeconds:0},t}(a.Component);n.d(t,"a",(function(){return o}))},nkgB:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MessageBuffer_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatDelayMs"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:118}};n.loc.source={body:"query MessageBuffer_Channel($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nchatSettings {\nchatDelayMs\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.MessageBuffer_Channel=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"MessageBuffer_Channel")},nt5g:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RoleRestricted"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentOwnerLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"contentOwnerLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:147}};n.loc.source={body:"query RoleRestricted($contentOwnerLogin: String!) {\ncurrentUser {\nid\nroles {\nisStaff\n}\n}\nuser(login: $contentOwnerLogin) {\nid\nself {\nisEditor\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.RoleRestricted=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"RoleRestricted")},nxZp:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){this.bio=e.bio,this.createdAt=e.createdAt,this.displayName=e.displayName,this.id=e.id,this.logo=e.logo,this.name=e.name,this.type=e.type,this.updatedAt=e.updatedAt}},oK83:function(e,t,n){"use strict";var i,a,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),function(e){e[e.unknown=0]="unknown",e[e.chat=1]="chat",e[e.room=2]="room",e[e.whisper=3]="whisper",e[e.vod=4]="vod"}(i||(i={})),function(e){e[e.chat_message=0]="chat_message",e[e.extension_message=1]="extension_message",e[e.member_list=2]="member_list",e[e.recent_raids=3]="recent_raids",e[e.room_message=4]="room_message",e[e.test=5]="test",e[e.user_command=6]="user_command",e[e.viewer_list=7]="viewer_list",e[e.viewer_list_mod_section=8]="viewer_list_mod_section",e[e.mega_cheer_notification=9]="mega_cheer_notification",e[e.bits_leaderboard=10]="bits_leaderboard",e[e.popout_button=11]="popout_button",e[e.hype_train=12]="hype_train"}(a||(a={})),function(e){e[e.Viewer=0]="Viewer",e[e.Extension=1]="Extension",e[e.Emote=2]="Emote"}(r||(r={}))},"oc+d":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"channelClip"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Clip"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channel"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"138"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"190"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"language"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channel"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"creationState"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videoOffsetSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]}]}}],loc:{start:0,end:330}};i.loc.source={body:'#import "twilight/features/channel/queries/channel.gql"\nfragment channelClip on Clip {\nid\nbroadcaster {\n...channel\n}\ngame {\nid\nboxArtURL(width: 138 height: 190)\nname\ndisplayName\n}\nlanguage\ntitle\nslug\nviewCount\ncurator {\n...channel\n}\ncreatedAt\ncreationState\nurl\nvideoOffsetSeconds\nvideo {\nid\nbroadcastType\ntitle\n}\ndurationSeconds\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("BbLt").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},oe5X:function(e,t,n){"use strict";var i=n("XmgI"),a=n("RcPG"),r=n("0FG4"),o=n("mrSG"),s=n("VJH5");var l=n("i6WW"),c=n("gTu3"),d=n("6j5V"),u=/^(['"*([{</]*)(@?)((?:[^\u0000-\u007F]|[\w-])+)/;function m(e,t){if(!t)return!1;var n=t.displayName,i=t.login;return e===n||e.toLowerCase()===i}function p(e,t){void 0===t&&(t={});for(var n=e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)||[],i=function(e){if(!e)return[];var t=e.list.filter((function(t){return t.categories[s.a.Aggressive]&&e.preferences[s.a.Aggressive]||t.categories[s.a.Identity]&&e.preferences[s.a.Identity]||t.categories[s.a.Profanity]&&e.preferences[s.a.Profanity]||t.categories[s.a.Sexual]&&e.preferences[s.a.Sexual]}));return 0===t.length?t:(t.sort((function(e,t){return e.startIndex-t.startIndex})),t.reduce((function(e,t,n){if(0===n)return e.push(t),e;var i=e[e.length-1];return t.startIndex<=i.endIndex+1?(i.endIndex=Math.max(t.endIndex,i.endIndex),i.categories=Object(o.__assign)(Object(o.__assign)({},i.categories),t.categories)):e.push(t),e}),[]))}(t.flags),r=0,l=[];r<n.length;){var c=i&&i.shift();c?(l.push.apply(l,h(n.slice(r,c.startIndex),r,t)),l.push({type:a.a.FlaggedSegment,categories:c.categories,content:f(h(n.slice(c.startIndex,c.endIndex+1),c.startIndex,t)),length:c.endIndex-c.startIndex+1,originalText:n.slice(c.startIndex,c.endIndex+1).join("")}),r=c.endIndex+1):(l.push.apply(l,h(n.slice(r),r,t)),r=n.length)}return f(l)}function h(e,t,n){void 0===n&&(n={});var o=n.cheers,s=n.emotes,p=n.links,h=n.mentions,f="",v=0;return e.reduce((function(n,b,k){if(g(b))return f="",n;if(0===f.length&&(v=t+k),f+=b,k<e.length-1&&function(e){return/[.,!]/.test(e)}(e[k+1]))return(y=s&&Object(r.c)(f,v,s))?(f="",n.concat(y)):n;if(k===e.length-1||g(e[k+1])){var y;if(y=s&&Object(r.c)(f,v,s))return n.concat(y);var S=o&&Object(i.f)(f,o);if(S)return n.concat(S);var C=p&&Object(l.a)(f,p);if(C)return n.concat([C]);var E=h&&function(e,t){var n=e.match(u);if(!n)return null;var i=[],r=n[1],o=Boolean(n[2].length),s=n[3],l=e.slice(n[0].length);if(r.length&&i.push(Object(d.a)(r)),o){var p=c.a.Default;m(s,t.sessionUser)?p=c.a.Recipient:t.sessionUser&&t.sessionUser.login===t.senderLogin&&(p=c.a.Sender),i.push({type:a.a.Mention,content:{recipient:s,currentUserMentionRelation:p}})}else{if(!m(s,t.sessionUser))return null;i.push({type:a.a.CurrentUserHighlight,content:s})}return l.length&&i.push(Object(d.a)(l)),i}(f,h);return E?n.concat([E]):n.concat(Object(d.a)(f))}return n}),[])}function f(e){return e.reduce((function(e,t,n){return 0===n?[].concat.call(e,t):[].concat.call(e,Object(d.a)(" "),t)}),[]).reduce((function(e,t,n){if(0===n)return e.concat(t);var i=e[e.length-1];return t.type===a.a.Text&&i.type===a.a.Text?(i.content=""+i.content+t.content,e):e.concat(t)}),[])}function g(e){return/\s/.test(e)}n.d(t,"a",(function(){return p}))},oi4T:function(e,t,n){"use strict";n("mrSG");var i,a,r=n("/7QA"),o=n("2xye");!function(e){e.Everyone="everyone",e.ModsOnly="mod",e.StreamChat="twitch_chat",e.SubsOnly="sub"}(i||(i={})),function(e){e.BROADCASTER="BROADCASTER",e.EVERYONE="EVERYONE",e.MODERATOR="MODERATOR",e.SUBSCRIBER="SUBSCRIBER"}(a||(a={})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c}));var s=function(e){var t;switch(e.roomMinimumRole){case a.EVERYONE:t=i.Everyone;break;case a.MODERATOR:t=i.ModsOnly;break;case a.SUBSCRIBER:t=i.SubsOnly;break;default:t=i.StreamChat}var n={channel:e.channelLogin,chatroom_type:t,is_host_mode:e.isHostMode,is_using_web_sockets:!0};return e.channelID&&(n.channel_id=e.channelID),e.roomID&&(n.chatroom_id=e.roomID),n},l=function(e){var t;switch(e.roomMinimumRole){case a.EVERYONE:t=i.Everyone;break;case a.MODERATOR:t=i.ModsOnly;break;case a.SUBSCRIBER:t=i.SubsOnly;break;default:t=i.StreamChat}var n={channel:e.channelLogin,room_type:t,is_host_mode:e.isHostMode,is_using_web_sockets:!0};return e.roomID&&(n.room_id=e.roomID),e.room&&(n.room=e.room),n},c=function(e){r.o.track(o.SpadeEventType.ChatRoomJoined,s(e))}},okS7:function(e,t,n){"use strict";n("kPBf");var i,a=n("mrSG"),r=n("q1tI"),o=n("8Ad5"),s=n("1rIY"),l=n("uu1w"),c=n("/7QA"),d=n("2xye"),u={Chat:"chat",Feed:"feed",Whisper:"whisper"},m="/",p=":",h="#",f="@",g=function(e){switch(e){case l.a.Command:return m;case l.a.Emote:return p;case l.a.Hashtag:return h;case l.a.Mention:return f;default:return void c.k.warn("Chat Suggestions tracking was passed an unknown autocomplete type.")}},v=function(e){var t=g(e.autocompleteType);if(t){var n={channel:e.channelLogin,completed_text:e.completedText,source:e.source,start_character:t};c.o.track(d.SpadeEventType.ChatSuggestionComplete,n)}},b=n("3aAs"),k=n("Kae6");!function(e){e.Input="input",e.TextArea="textarea"}(i||(i={}));var y=Object(s.a)("Autocomplete",{registerAutocompleteProvider:function(){return function(){return null}}}),S=y.withContext,C=y.context,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={autocompleteType:l.a.None,matchedCursorPosition:0,matches:null,value:""},t.providers=[],t.contextForChildren={registerAutocompleteProvider:t.registerAutocompleteProvider.bind(t)},t.onChange=function(e){t.setState({value:e.target.value},(function(){t.getMatches()})),t.props.onChange&&t.props.onChange(e)},t.onKeyDown=function(e){var n=function(){t.props.onKeyDown&&t.props.onKeyDown(e)},i=function(){e.preventDefault(),e.stopPropagation()},a=e.charCode||e.keyCode;if(a!==o.a.Enter){switch(a){case o.a.Tab:if(!t.state.matches)t.getMatches(!0)&&i();break;case o.a.Esc:t.state.matches&&(i(),t.resetDisplayState())}n()}else n()},t.setComponentRefDelegate=function(e){t.componentRef=e,t.props.componentRefDelegate&&t.props.componentRefDelegate(e)},t.getMatches=function(e){var n=t.state.value;if(0===t.providers.length||0===n.length)return t.resetDisplayState(),!1;var i=t.getCurrentCursorPosition();if(i>n.length);else for(;i<n.length&&!/\s/.test(n.charAt(i));)i++;var a=n.substring(0,i);if(0===a.length||/\s/.test(a.substring(a.length-1)))return t.resetDisplayState(),!1;for(var r=a.split(/\s/),o=r.length-1,s=r[o],l=0,c=t.providers;l<c.length;l++){var d=c[l];if(!e||d.canBeTriggeredByTab){var u=d.getMatches(s,e,o);if(u)return t.props.onMatch&&t.props.onMatch(u,t.insertReplacement,t.resetDisplayState),t.setState({autocompleteType:d.autocompleteType,matchedCursorPosition:i,matches:u}),!0}}return t.resetDisplayState(),!1},t.resetDisplayState=function(e,n){t.props.onReset&&t.props.onReset();var i=Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},t.state),{autocompleteType:l.a.None,matches:null}),e||{});t.setState(i,n)},t.insertReplacement=function(e){var n,i=t.state.value,r=t.state.matchedCursorPosition,o=i.substring(0,r),s=o.lastIndexOf(e.current);if(-1===s)o=o.concat(e.replacement+" "),r=o.length;else{var l=o.substring(0,s),c=i.length>s+e.current.length?i.substring(s+e.current.length):"",d=c.startsWith(" ")?e.replacement:e.replacement+" ";o=""+l+d+c;var u=t.getNextCursorSelection(l,d,c,e);r=u.start,n=u.end}v(Object(a.__assign)(Object(a.__assign)({},t.props.trackingParams||{}),{autocompleteType:t.state.autocompleteType,completedText:e.replacement,source:t.props.suggestionSource})),t.resetDisplayState({value:o},(function(){t.setCursorSelection(r,n)}))},t.getCurrentCursorPosition=function(){return t.componentRef.selectionStart||0},t.getNextCursorSelection=function(e,t,n,i){var a=e.length+t.length;if(i.selection){var r=t.indexOf(i.selection);return{start:e.length+r,end:n.startsWith(" ")?a:a-1}}return{start:a,end:a}},t.setCursorSelection=function(e,n){t.componentRef&&(t.componentRef.setSelectionRange(e,n||e),t.componentRef.focus())},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.refDelegate&&this.props.refDelegate(this)},t.prototype.componentDidUpdate=function(e,t){t.value!==this.state.value&&this.props.onValueUpdate&&this.props.onValueUpdate(this.state.value),!t.matches&&this.state.matches&&function(e){var t=g(e.autocompleteType);if(t){var n={source:e.source,start_character:t};c.o.track(d.SpadeEventType.ChatSuggestion,n)}}({autocompleteType:this.state.autocompleteType,source:this.props.suggestionSource})},t.prototype.render=function(){var e=Object(a.__assign)(Object(a.__assign)({},this.props),{onChange:this.onChange,onKeyDown:this.onKeyDown,refDelegate:this.setComponentRefDelegate,value:this.state.value});return r.createElement(C.Provider,{value:this.contextForChildren},this.props.componentType===i.Input?r.createElement(b.a,Object(a.__assign)({},e,{type:e.type||b.c.Text})):r.createElement(k.a,Object(a.__assign)({},e,{autoComplete:e.htmlAutocomplete})),this.props.children)},t.prototype.getValue=function(){return this.state.value},t.prototype.setValue=function(e){this.resetDisplayState({value:e})},t.prototype.registerAutocompleteProvider=function(e){var t=this;return this.providers.push(e),function(){var n=t.providers.indexOf(e);t.providers.splice(n,1)}},t}(r.Component),w=n("u5aL"),O=n("sUnt"),D=n("yymn"),N=n("ygYM"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={matches:null},t.onMatchSelect=function(e){t.insertReplacement&&t.insertReplacement(e)},t.onDismiss=function(){t.resetDisplayState&&t.resetDisplayState()},t.setMatches=function(e,n,i){t.insertReplacement||(t.insertReplacement=n),t.resetDisplayState||(t.resetDisplayState=i),t.setState({matches:e})},t.reset=function(){t.setState({matches:null})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement(r.Fragment,null,this.state.matches&&r.createElement(O.a,{position:D.n.Relative},r.createElement(w.a,{onClickOut:this.onDismiss},r.createElement(N.a,{direction:N.b.TopLeft,"data-test-selector":"autocomplete-balloon",show:!0},r.createElement(O.a,{padding:{bottom:.5}},r.createElement(F,{matches:this.state.matches,onMatchSelect:this.onMatchSelect,onDismiss:this.onDismiss,containerElement:this.props.containerElement}))))),r.createElement(E,Object(a.__assign)({},this.props,{onMatch:this.setMatches,onReset:this.reset})))},t}(r.Component),I=n("8/mp"),M=n("G9mL"),T=n("3Czn"),j=n("i4Ys"),P=n("+80q"),L=n("hnjF"),R="autocomplete-match-list-matches",F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.resizeAnimationFrame=0,t.messages={noMatches:Object(c.d)("No matches.","AutocompleteBalloon")},t.logger=c.k.withCategory("AutocompleteMatchList"),t.renderMatches=function(){var e=new Set,n=[];return t.groupMatches().forEach((function(i,a){var o=i.group;o&&!e.has(o)&&(0!==a&&n.push(r.createElement(M.a,{key:"autocomplete-separator-"+a})),n.push(r.createElement(O.a,{key:"autocomplete-heading-"+a,padding:{x:.5}},r.createElement(T.a,null,o))),e.add(o)),n.push(t.renderMatchListItem(i,a))})),n},t.renderMatchListItem=function(e,n){var i=t.state.selectedMatch,a=i&&i.replacement===e.replacement;return r.createElement(O.a,{"data-test-selector":R,key:"autocomplete-match-"+n,refDelegate:a?t.focusOnOption:void 0},r.createElement(j.a,{borderRadius:D.e.Small,"data-a-target":e.replacement,"data-click-index":n,hover:a,onClick:t.onMatchClick,onMouseEnter:t.handleMatchMouseEnter,selected:a,type:j.b.Alpha},r.createElement(O.a,{alignItems:D.b.Center,display:D.g.Flex,padding:{x:.5}},e.element)))},t.handleMatchMouseEnter=function(e){var n=t.getMatchFromEvent(e);n&&t.setState({selectedMatch:n})},t.onMatchClick=function(e){var n=t.getMatchFromEvent(e);n&&t.props.onMatchSelect(n)},t.getMatchFromEvent=function(e){var n=t.groupMatches(),i=e.currentTarget.getAttribute("data-click-index");return!i||+i>=n.length?(t.logger.errorAndReport(new Error,"The index received from the UI element was not found in props.matches."),null):n[+i]},t.handleKeydown=function(e){var n=e.charCode||e.keyCode,i=function(){e.preventDefault(),e.stopPropagation()};switch(n){case o.a.Tab:case o.a.Enter:i(),t.props.matches.length&&t.state.selectedMatch?t.props.onMatchSelect(t.state.selectedMatch):t.props.onDismiss();break;case o.a.Up:case o.a.Down:if(!t.state.selectedMatch||!t.props.matches.length)return;var a=t.groupMatches(),r=a.indexOf(t.state.selectedMatch);if(-1===r)return void t.logger.errorAndReport(new Error,"The selected match was not found in props.matches.");i();var s=n===o.a.Up?-1:1,l=a[t.getIndexWithinLength(r+s,t.props.matches.length)];t.setState({selectedMatch:l})}},t.groupMatches=function(){for(var e={},n=0,i=t.props.matches;n<i.length;n++){var a=i[n];(c=e[l=a.group||"undefined"]||[]).push(a),e[l]=c}for(var r=[],o=0,s=Object.keys(e).sort(t.sortGroups);o<s.length;o++){var l,c;(c=e[l=s[o]])&&r.push.apply(r,c)}return r},t.sortGroups=function(e,t){return"undefined"===e?1:"undefined"===t?-1:e>t?1:e<t?-1:0},t.getIndexWithinLength=function(e,t){var n=e%t;return n<0?n+t:n},t.onResize=function(){t.resizeAnimationFrame||(t.resizeAnimationFrame=requestAnimationFrame(t.setContainerHeight))},t.setContainerHeight=function(){var e=t.props.containerElement&&t.props.containerElement.clientHeight||1080;t.scrollableArea&&t.scrollableArea.root&&(t.scrollableArea.root.style.maxHeight=e+"px"),t.resizeAnimationFrame=0},t.focusOnOption=function(e){if(e&&t.AutocompleteMatchListElement){var n=e.getBoundingClientRect(),i=t.AutocompleteMatchListElement.getBoundingClientRect();(n.bottom>i.bottom||n.top<i.top)&&e.scrollIntoView()}},t.setAutocompleteMatchListElement=function(e){t.AutocompleteMatchListElement=e},t.setScrollableAreaRef=function(e){return t.scrollableArea=e},t}return Object(a.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.matches.reduce((function(e,n,i){return t.selectedMatch?n.replacement===t.selectedMatch.replacement?i:e:0}),0);return{selectedMatch:e.matches[n]}},t.prototype.componentDidMount=function(){window.addEventListener("keydown",this.handleKeydown,!0),window.addEventListener("resize",this.onResize,!0),this.setContainerHeight(),this.props.matches.length>0&&this.setState({selectedMatch:this.props.matches[0]})},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!0),window.removeEventListener("keydown",this.handleKeydown,!0),this.resizeAnimationFrame&&cancelAnimationFrame(this.resizeAnimationFrame)},t.prototype.render=function(){var e;return e=0===this.props.matches.length?r.createElement(O.a,{padding:{x:.5},"data-test-selector":"autocomplete-match-list-no-matches"},r.createElement(P.a,{type:P.e.Span,color:D.f.Alt2},this.messages.noMatches)):this.renderMatches(),r.createElement(O.a,{position:D.n.Relative,padding:{top:.5,x:.5}},r.createElement(L.a,{"data-test-selector":"autocomplete-matches-container",className:"autocomplete-match-list",overflow:D.m.Hidden,display:D.g.Flex,flexDirection:D.h.Column},r.createElement("div",{ref:this.setAutocompleteMatchListElement},r.createElement(I.b,{suppressScrollX:!0,scrollRef:this.setScrollableAreaRef},r.createElement(O.a,null,e)))))},t}(r.Component),A=n("hbnN"),x=n("lZdE"),U=n("OpME"),B=(n("gDzh"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autocompleteType=l.a.Emote,t.canBeTriggeredByTab=!1,t.hydrateEmotes=Object(A.a)((function(e){for(var t=[],n=0,i=e;n<i.length;n++){var a=i[n];a&&a.id&&a.emotes&&t.push({id:a.id,emotes:Object(U.c)(a.emotes)})}return t})),t.getMatches=function(e){return e.startsWith(":")?e.length<3?null:t.getMatchedEmotes(e):null},t.getMatchedEmotes=function(e){var n=t.hydrateEmotes(t.props.emotes);if(!n||0===n.length)return null;var i=e.substring(1),a=n.reduce((function(e,n){var a=n.emotes.filter((function(e){return t.doesEmoteMatchTerm(e,i)}));return e.concat(a)}),[]);return a=Object(U.e)(a),(a=Object(U.f)(a,i)).map((function(e){return{current:":"+i,replacement:e.token,element:t.renderEmoteSuggestion(e)}}))},t.doesEmoteMatchTerm=function(e,t){var n=new RegExp("^"+Object(x.a)(t),"i");if(e.token.match(n))return!0;var i=new RegExp(""+Object(x.a)(t.charAt(0)).toUpperCase()),a=new RegExp("^"+Object(x.a)(t.slice(1)),"i"),r=e.token.match(i);return!!(r&&r.index&&e.token.slice(r.index+1).match(a))},t.renderEmoteSuggestion=function(e){return[r.createElement(O.a,{padding:.5,flexShrink:0,key:"emote-img-"+e.id},r.createElement("img",{alt:e.token+"-emote",className:"emote-autocomplete-provider__image",srcSet:e.srcSet})),r.createElement(P.a,{type:P.e.Span,key:"emote-text-"+e.id,ellipsis:!0},e.token)]},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.render=function(){return null},t}(r.Component)),V=S((function(e){return e}))(B);n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return S})),n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return F})),n.d(t,"f",(function(){return V})),n.d(t,"e",(function(){return u}))},olXY:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRestrictions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRestrictedReasons"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastRecentChatMessageAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requireVerifiedAccount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:247}};n.loc.source={body:"query ChatRestrictions($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nself {\nchatRestrictedReasons\nlastRecentChatMessageAt\nfollower {\nfollowedAt\n}\n}\nchatSettings {\nrequireVerifiedAccount\n}\n}\ncurrentUser {\nid\nisEmailVerified\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatRestrictions=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatRestrictions")},p52R:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Admin="admin",e.GlobalMod="global_mod",e.Moderator="mod",e.Owner="owner",e.Staff="staff",e.Subscriber="subscriber",e.User=""}(i||(i={}))},pMvt:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsChatPauseSetting"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatPauseSetting"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:95}};n.loc.source={body:"query SyncedSettingsChatPauseSetting {\ncurrentUser {\nid\nchatUISettings {\nchatPauseSetting\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SyncedSettingsChatPauseSetting=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SyncedSettingsChatPauseSetting")},pTg8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("DMoW"),a=n("W1jp");function r(e,t){var n=e[t];if(n)return{cost:Object(a.c)(n),isHighlighted:"CommunityPointsAutomaticReward"===n.__typename&&n.type===i.X.SEND_HIGHLIGHTED_MESSAGE,name:Object(a.f)(n)}}},pU2t:function(e,t,n){"use strict";var i=n("mrSG"),a=n("XmgI"),r=n("ahza"),o=n("DpwM"),s=n("a1OF"),l=function(e,t,n){var i=e.bits_spent,a=e.body,r=e.emoticons,o=e.is_action,l=e.user_color,c=e.user_notice_params,d=function(e){void 0===e&&(e=[]);return e.reduce((function(e,t){return e[t.begin]={id:t._id,startIndex:t.begin},e}),{})}(r);return{id:"1",isAction:o,tokens:Object(s.e)(a,d,i||0,n,t),userColor:l||Object(s.b)(t),userNoticeParams:c||void 0}};var c=n("XeJ1");n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return v}));var d="comment";function u(e){return Object(r.e)(e)?{message:e.message,parent_id:e.parentId}:{content_id:e.contentId,content_offset_seconds:e.contentOffsetSeconds,content_type:e.contentType,message:e.message}}var m=function(e){return{comments:[v.normalizeRecord(e,a.a)],users:[c.a.normalizeRecord(e.commenter)]}},p=function(e,t){var n=Object(i.__assign)(Object(i.__assign)({},e),{more_replies:t.moreReplies});return{comments:[v.normalizeRecord(n,a.a)],users:[c.a.normalizeRecord(e.commenter)]}},h=function(e,t){var n=e.comments.map((function(e){return c.a.normalizeRecord(e.commenter)})),i={past:o.g,future:o.g};return void 0!==e._next&&(i.future=e._next),void 0!==e._prev&&(i.past=e._prev),{comments:e.comments.reduce((function(e,i){return i.replies&&i.replies.map((function(e){n.push(c.a.normalizeRecord(e.commenter))})),e.concat(v.normalizeRecords(i,t))}),[]),cursor:i,users:n}},f=function(e){var t=e.comments.map((function(e){return c.a.normalizeRecord(e.commenter)}));return{comments:e.comments.map((function(e){return v.normalizeRecord(e,a.a)})),cursor:{future:e._next||o.g},users:t}};function g(e){return e.reduce((function(e,t){return e[t._id]=t.version,e}),{})}var v={normalizeRecords:function(e,t){var n=[v.normalizeRecord(e,t)];return Array.isArray(e.replies)&&e.replies.forEach((function(e){n.push(b.normalizeRecord(e,t))})),n},normalizeRecord:function(e,t){return{channelId:e.channel_id,commenter:e.commenter._id,contentId:e.content_id,contentOffset:Math.floor(e.content_offset_seconds),contentType:e.content_type,createdAt:new Date(e.created_at),id:e._id,message:l(e.message,e.commenter._id,t),moreReplies:e.more_replies||!1,parentId:void 0!==e.parent_id?e.parent_id:"",state:e.state,source:e.source,userBadges:g(e.message.user_badges||[])}}},b={normalizeRecord:function(e,t){return{channelId:e.channel_id,commenter:e.commenter._id,contentId:e.content_id,contentOffset:Math.floor(e.content_offset_seconds),contentType:e.content_type,createdAt:new Date(e.created_at),id:e._id,message:l(e.message,e.commenter._id,t),moreReplies:!1,parentId:void 0!==e.parent_id?e.parent_id:"",state:e.state,source:e.source,userBadges:g(e.message.user_badges||[])}}}},pb7T:function(e,t,n){"use strict";var i=n("q1tI"),a=n("Ws8v"),r=n("IbuL"),o=n("C7sF"),s=(n("wpfL"),function(){return i.createElement(a.a,{className:"warning-modifier-tray-icon"},i.createElement(r.a,{asset:o.a.NotificationWarning}))});n.d(t,"a",(function(){return s}))},"pq/L":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasVideoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"globalCheerInfo"},directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGlobalMod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"blockedUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"includePrivate"},value:{kind:"BooleanValue",value:!0}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasVideoID"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"userCheerInfo"},directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:605}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\n#import "twilight/features/bits/models/global-cheer-info-fragment.gql"\n#import "twilight/features/bits/models/user-cheer-info-fragment.gql"\nquery VideoComments($videoID: ID! $hasVideoID: Boolean!) {\nbadges {\n...badge\n}\n...globalCheerInfo\ncurrentUser {\nid\nroles {\nisStaff\nisSiteAdmin\nisGlobalMod\n}\nblockedUsers {\nid\n}\nemoteSets {\nid\nemotes {\nid\ntoken\n}\n}\n}\nvideo(id: $videoID options: { includePrivate: true })\n@include(if: $hasVideoID) {\nid\nbroadcastType\nowner {\nid\nlogin\nbroadcastBadges {\n...badge\n}\n...userCheerInfo\nself {\nisModerator\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("IKE4").definitions)),i.definitions=i.definitions.concat(r(n("wpjm").definitions)),i.definitions=i.definitions.concat(r(n("KuwR").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.VideoComments=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"VideoComments")},ptRJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),a=n("ZtEv"),r=n("a1OF"),o=n("aF6k");function s(e,t,n,s,l,c,d){return void 0===c&&(c=!1),void 0===d&&(d=!1),Object(i.__assign)(Object(i.__assign)({},Object(r.a)(t,n,s,l,c,d)),{type:a.b.Message,messageType:e,id:n.id||Object(o.a)(n.username)})}},pwkZ:function(e,t,n){"use strict";var i=n("mrSG"),a=n("TSYQ"),r=n("q1tI"),o=n("DMoW"),s=n("4rCz"),l=n("uIkQ"),c=n("0Lz3"),d=n("GnwI"),u=n("Sfdh"),m=n("+80q"),p=n("Jsra"),h=n("Ws8v"),f=n("yymn"),g=n("sUnt"),v=n("7d/q"),b=n("C7sF"),k=15e3,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autoDismissErrorTimeoutId=0,t.clearDismissTimeout=function(){window.clearTimeout(t.autoDismissErrorTimeoutId)},t.onManualErrorDismissClickHandler=function(){t.props.onErrorDismissed(!0)},t.setAutoDismissTimeout=function(){t.autoDismissErrorTimeoutId=window.setTimeout((function(){t.props.onErrorDismissed()}),k)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.setAutoDismissTimeout()},t.prototype.componentDidUpdate=function(e){e.message!==this.props.message&&(this.clearDismissTimeout(),this.setAutoDismissTimeout())},t.prototype.componentWillUnmount=function(){this.clearDismissTimeout()},t.prototype.render=function(){var e=null;return this.props.message===Object(u.a)().chatReplayFilterError&&(e=r.createElement(m.a,{type:m.e.Span}," ",r.createElement(m.a,{type:m.e.Span,decoration:m.c.Underline},r.createElement(p.a,{onClick:this.props.onMessageClick},Object(s.d)("Click here to show all messages.","CommentError"))))),r.createElement(h.a,{alignItems:f.b.Center,background:f.d.Base,className:"anim-swoop",color:f.f.Error,"data-test-selector":"vod-chat-error",display:f.g.Flex,flexWrap:f.i.NoWrap,fullWidth:!0,padding:{y:1,x:2},position:f.n.Absolute,zIndex:f.s.Above},r.createElement(m.a,{type:m.e.Span},this.props.message,e),r.createElement(g.a,{alignSelf:f.c.Start},r.createElement(v.a,{ariaLabel:Object(s.d)("Close","CommentErrorComponent"),icon:b.a.Close,onClick:this.onManualErrorDismissClickHandler})))},t}(r.Component),S=n("/7QA"),C=n("hyVY"),E=n("0FG4"),w=n("okS7"),O=n("tFCv"),D=n("OpME"),N=n("/MKj"),_=n("ZuiC"),I=n("fI4C"),M=n("K/KT"),T=n("hnjF"),j=(n("UZgS"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildModerationDashboardURL=function(){return"/"+t.props.videoOwnerLogin+"/dashboard/moderation"},t.buildModerationPrefsURL=function(){return"/"+t.props.videoOwnerLogin+"/dashboard/settings/moderation"},t.onReplayModeChange=function(e){t.props.onReplayModeChange(e.currentTarget.checked)},t.onTimestampModeChange=function(e){t.props.onTimestampModeChange(e.currentTarget.checked)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=null;this.props.isUpload||(e=r.createElement(g.a,{display:f.g.Flex,flexWrap:f.i.NoWrap,justifyContent:f.l.Between,key:"viewerReplayOption",padding:{bottom:1}},r.createElement(g.a,null,Object(S.d)("Show me only messages posted during the live broadcast","VideoChatSettings")),r.createElement(g.a,{flexShrink:0},r.createElement(M.a,{checked:this.props.isReplayFilterOn,"data-test-selector":"reply-mode",onChange:this.onReplayModeChange}))));var t=[r.createElement(m.a,{key:"moderationHeader",bold:!0},Object(S.d)("Mod Tools","VideoChatSettings"))];return this.props.canSessionEditModerationSettings&&t.push(r.createElement(T.a,{key:"moderationPrefs",display:f.g.InlineBlock},r.createElement(p.a,{linkTo:this.buildModerationPrefsURL(),"data-test-selector":"video_chat_settings_mod_prefs"},Object(S.d)("Change moderation preferences","VideoChatSettings")))),this.props.canSessionModerateMessages&&t.push(r.createElement(T.a,{key:"moderationDashboard",display:f.g.InlineBlock},r.createElement(p.a,{linkTo:this.buildModerationDashboardURL(),"data-test-selector":"video_chat_settings_mod_dashboard"},Object(S.d)("Moderate messages","VideoChatSettings")))),r.createElement(g.a,{className:"video-chat__settings",padding:{x:2,y:2}},r.createElement(m.a,{bold:!0},Object(S.d)("Viewer Settings","VideoChatSettings")),e,r.createElement(g.a,{display:f.g.Flex,justifyContent:f.l.Between,padding:{bottom:1}},r.createElement(g.a,null,Object(S.d)("Hide timestamps","VideoChatSettings")),r.createElement(g.a,{flexShrink:0},r.createElement(M.a,{"data-test-selector":"timestamp-mode",checked:this.props.hideTimestamps,onChange:this.onTimestampModeChange}))),t.length>1?t:null)},t}(r.Component)),P=Object(d.withLatencyTracking)("ChatSettings")(j);var L,R=Object(N.b)((function(e){return{isReplayFilterOn:e.vodChat.comments.isReplayFilterOn,hideTimestamps:e.vodChat.comments.hideTimestamps}}),(function(e){return{onReplayModeChange:function(t){Object(I.m)({setting:I.c,value:t?I.b:I.a}),e(Object(_.C)(t))},onTimestampModeChange:function(t){Object(I.m)({setting:I.d,value:t?I.b:I.a}),e(Object(_.F)(t))}}}))(P),F=n("wp5a"),A=n("dEDE"),x=(n("tMaJ"),"videoChat.notice_dismissed"),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onDismissChatNotice=function(){S.m.set(x,!0),t.props.onCloseChatNotice()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return S.m.get(x,!1)||!this.props.show?null:r.createElement(h.a,{fullWidth:!0,position:f.n.Absolute,zIndex:f.s.Above,attachBottom:!0,attachLeft:!0},r.createElement(h.a,{background:f.d.Base,attachBottom:!0,border:!0,borderRadius:f.e.Large,display:f.g.Block,elevation:3,className:"video-chat-sunset-notice"},r.createElement(g.a,{position:f.n.Relative,display:f.g.Flex,flexDirection:f.h.Column,alignItems:f.b.Start,margin:1},r.createElement(g.a,{padding:{right:1},margin:{top:.5}},r.createElement(F.a,{label:Object(S.d)("UPDATE","VideoChatSunsetNotice"),type:F.b.Alert})),r.createElement(g.a,{display:f.g.Flex,flexDirection:f.h.Column,margin:{y:.5}},r.createElement(m.a,{bold:!0,type:m.e.H4},Object(S.d)("Commenting on VODs is going away","VideoChatSunsetNotice"))),r.createElement(g.a,{margin:{top:.5,bottom:1}},Object(S.d)("You will no longer be able to comment on VODs as of November 12, 2019. Don’t worry, this won’t impact Chat Replay.","VideoChatSunsetNotice")),r.createElement(A.a,{fullWidth:!0,size:A.b.Large,onClick:this.onDismissChatNotice},r.createElement(m.a,{fontSize:f.j.Size5},Object(S.d)("Okay, Got It!","VideoChatSunsetNotice"))),r.createElement(g.a,{position:f.n.Absolute,attachTop:!0,attachRight:!0},r.createElement(v.a,{type:v.c.Secondary,icon:b.a.Close,onClick:this.onDismissChatNotice})))))},t}(r.Component),B=n("Tqc9"),V=n("7uM4");!function(e){e.CurrentTime="current-time"}(L||(L={}));var H=function(e){function t(t){var n=e.call(this,t)||this;n.onKeyDown=function(e){switch(e.key){case B.b:e.preventDefault(),n.createComment();break;case B.d:n.maybeUnpauseScrolling();break;case B.a:n.setState({isMentionPaused:!n.state.isMentionPaused&&n.props.isScrollingSynced||n.state.isMentionPaused}),n.props.onScrollPause()}},n.createComment=function(){if(""!==n.state.newMessageText){if(n.props.isPostCooldownActive)return n.setState({showCoolDownState:!0}),void n.props.onError(Object(u.a)().messageCreatedTooQuickError);n.props.onCreateComment(n.state.newMessageText),n.setState({newMessageText:""}),n.autocompleteInputRef.setValue(""),n.maybeUnpauseScrolling()}},n.setAutocompleteInputRef=function(e){n.autocompleteInputRef=e},n.maybeUnpauseScrolling=function(){n.state.isMentionPaused&&(n.setState({isMentionPaused:!1}),n.props.onScrollResume())},n.onChange=function(e){n.setState({newMessageText:e})},n.getSessionSpecificEmotes=function(){if(!n.props.currentUser||!n.props.currentUser.emoteSets)return[];var e=Object(E.b)(n.props.currentUser.emoteSets);return Object.keys(e).map((function(t){return{id:t,emotes:Object(D.c)([e[t]])}}))},n.onShowSunsetNotice=function(){n.setState({showSunsetNotice:!0})},n.onHideSunsetNotice=function(){n.setState({showSunsetNotice:!1})};var i=null!==n.props.currentUser&&(n.props.currentUser.id===n.props.videoOwnerID||!!n.props.currentUser.roles&&!!n.props.currentUser.roles.isStaff),a=null!==n.props.currentUser&&(n.props.isModerator||n.props.currentUser.roles&&n.props.currentUser.roles.isSiteAdmin||i);return n.state={isMentionPaused:!1,canSessionModerateMessages:a,canSessionEditModerationSettings:i,newMessageText:"",showCoolDownState:!1,showSunsetNotice:!1},n}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e){return e.isPostCooldownActive?null:{showCoolDownState:!1}},t.prototype.render=function(){var e=null;(!this.props.isUpload||this.state.canSessionModerateMessages||this.state.canSessionEditModerationSettings)&&(e=r.createElement(O.b,null,r.createElement(R,{canSessionEditModerationSettings:this.state.canSessionEditModerationSettings,canSessionModerateMessages:this.state.canSessionModerateMessages,videoOwnerLogin:this.props.videoOwnerLogin,isUpload:this.props.isUpload})));var t=null;return this.props.currentUser&&(t=r.createElement(w.f,{emotes:this.getSessionSpecificEmotes()})),r.createElement("div",null,r.createElement(U,{onCloseChatNotice:this.onHideSunsetNotice,show:this.state.showSunsetNotice}),r.createElement(g.a,{position:f.n.Relative},r.createElement(w.d,{componentType:w.a.TextArea,"data-a-target":"video-chat-input",disabled:this.state.showCoolDownState,htmlAutocomplete:"twitch-chat",noResize:!0,onKeyDown:this.onKeyDown,onValueUpdate:this.onChange,paddingRight:30,placeholder:Object(S.d)("Post a message","VideoChatInput"),refDelegate:this.setAutocompleteInputRef,suggestionSource:w.e.Chat,onFocus:this.onShowSunsetNotice},t)),r.createElement(g.a,{margin:{top:1},justifyContent:f.l.Between,display:f.g.Flex},e,r.createElement("span",null)," ",r.createElement(A.a,{onClick:this.createComment,disabled:this.state.showCoolDownState,"data-a-target":"video-chat-submit-button"},r.createElement(g.a,{display:f.g.Flex},r.createElement("span",null,Object(S.d)("Post at ","CommentInput")),r.createElement(g.a,{margin:{x:.5},display:f.g.Flex},r.createElement(V.a,{asset:b.a.GlyphLength})),r.createElement("span",{"data-test-selector":L.CurrentTime},Object(C.b)(this.props.currentVideoTime))))))},t}(r.Component);var G=Object(d.withLatencyTracking)("MessageInput",{autoReportInteractive:!0})(H),q=n("b7S+"),W=n("i4Ys"),z=function(e){var t=e.offset,n=e.onClick;return r.createElement(g.a,{margin:{right:.5}},r.createElement(q.a,{align:q.b.Left,direction:q.c.Top,label:Object(S.d)("Jump to video","TimeStamp")},r.createElement(W.a,{onClick:n,blurAfterClick:!0},r.createElement(g.a,{padding:{x:.5}},r.createElement(m.a,{fontSize:f.j.Size7},Object(C.b)(t))))))},Q=n("ZEQw"),Y=n("r7KY"),K=n("ZVTe"),$=n("Zkco"),X=n("u5aL"),Z=n("Jxh/"),J=n("GCGb"),ee=n("fCiU"),te=n("OXoN"),ne=n("cr+I"),ie=function(e,t){var n=new URL("https://www.twitch.tv/videos/"+e);if(t){var i=ne.stringify(t);n.search=i}return n},ae=n("6zXJ"),re=n("ygYM"),oe="ban-user",se="delete-comment-button",le="reply-button",ce="relative-time-title",de="share-button",ue="share-button-clicked",me=3e3,pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={confirmationAction:null,isMenuOpen:!1,isLinkCopied:!1},t.dismissTimeoutID=0,t.videoChatSunset=S.b.get(te.a,!1),t.onToggleMenu=function(){t.state.isMenuOpen?t.closeMenu():(t.setState({isMenuOpen:!0}),t.props.onOpen())},t.getContent=function(){if("function"==typeof t.state.confirmationAction)return r.createElement(g.a,{padding:{y:1}},r.createElement(h.a,{display:f.g.Flex,margin:{x:1},padding:{bottom:.5}},r.createElement(m.a,{type:m.e.Span},Object(S.d)("Are you sure you want to perform this action?","chomments.moderation.confirmAction"))),r.createElement(g.a,{display:f.g.Flex,justifyContent:f.l.Center,alignItems:f.b.Center},r.createElement(g.a,{display:f.g.Inline,padding:{right:1}},r.createElement(A.a,{type:A.d.Alert,onClick:t.onContinueClickHandler,"data-test-selector":J.a},Object(S.d)("Yes","MessageOptionsMenu"))),r.createElement(A.a,{type:A.d.Secondary,onClick:t.onCancelClickHandler,"data-test-selector":J.c},Object(S.d)("No","MessageOptionsMenu"))));var e=[];t.videoChatSunset||t.props.isExpandedLayout||e.push(r.createElement(h.a,{key:t.props.context.comment.id,color:f.f.Alt2,display:f.g.Flex,"data-test-selector":ce},r.createElement(h.a,{margin:{x:1},padding:{bottom:.5},fullWidth:!0,borderBottom:!0},r.createElement(m.a,{type:m.e.Span},Object(S.d)("Posted ","MessageOptionsMenu"),Object(S.i)(t.props.context.comment.createdAt)))),r.createElement(h.a,{key:t.props.context.comment.id+"2",display:f.g.Flex,color:f.f.Link},r.createElement(W.a,{onClick:t.onReplyClickHandler,"data-test-selector":le},r.createElement(g.a,{padding:{y:.5,x:1}},Object(S.d)("Reply to {userName}",{userName:Object(ee.b)(t.props.context.author)},"MessageOptionsMenu")))));var n=[];t.props.isCurrentUserModerator&&n.push(r.createElement(g.a,{key:t.props.context.comment.id,display:f.g.Flex},r.createElement(W.a,{type:W.b.Alert,onClick:t.onDeleteButtonClickHandler,"data-test-selector":se},r.createElement(h.a,{margin:{x:1},padding:{y:.5},borderBottom:!0},Object(S.d)("Delete","MessageOptionsMenu")))),r.createElement(g.a,{key:t.props.context.comment.id+"2",display:f.g.Flex},r.createElement(W.a,{type:W.b.Alert,onClick:t.onBanUserClickHandler,"data-test-selector":oe},r.createElement(g.a,{padding:{y:.5,x:1}},Object(S.d)("Ban User","MessageOptionsMenu")))));var i=r.createElement(W.a,{onClick:t.onShareClick,"data-test-selector":de},r.createElement(g.a,{padding:{y:.5,x:1}},Object(S.d)("Copy Link","MessageOptionsMenu")));t.state.isLinkCopied&&(i=r.createElement(A.a,{fullWidth:!0,icon:b.a.Check,type:A.d.Success,"data-test-selector":ue},r.createElement(g.a,{display:f.g.Flex,alignItems:f.b.Center,justifyContent:f.l.Start},Object(S.d)("Copied to clipboard","MessageOptionsMenu"))));var a=r.createElement(h.a,{display:f.g.Flex,fullWidth:!0,key:t.props.context.comment.id+"-share",color:f.f.Link},!t.videoChatSunset&&i);return r.createElement(g.a,{padding:{y:1}},e,a,n)},t.closeMenu=function(){t.setState({isMenuOpen:!1,confirmationAction:null,isLinkCopied:!1}),t.props.onClose()},t.onShareClick=function(){var e=t.props.context.comment,n=e.contentId,i=ie(n,{tt_medium:"video_chat",tt_content:"message_share_link",t:Object(ae.a)(e.contentOffset),comment:e.id});return Object(Z.a)(i.toString()),t.setState({isLinkCopied:!0},(function(){return t.dismissTimeoutID=setTimeout((function(){t.setState({isLinkCopied:!1})}),me)})),Object(I.l)(e,i)},t.onReplyClickHandler=function(){t.props.onReplyClick(Object(ee.b)(t.props.context.author)),t.closeMenu()},t.onBanUserClickHandler=function(){t.setState((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{confirmationAction:t.props.onBanUserClick})}))},t.onDeleteButtonClickHandler=function(){t.setState((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{confirmationAction:t.props.onDeleteCommentClick})}))},t.onContinueClickHandler=function(){t.state.confirmationAction&&t.state.confirmationAction(),t.closeMenu()},t.onCancelClickHandler=function(){t.setState((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{confirmationAction:null})}))},t}return Object(i.__extends)(t,e),t.prototype.componentWillUnmount=function(){clearTimeout(this.dismissTimeoutID)},t.prototype.render=function(){return this.videoChatSunset&&!this.props.isCurrentUserModerator?r.createElement(g.a,{margin:.5}):r.createElement(g.a,{position:f.n.Relative},r.createElement(v.a,{ariaLabel:Object(S.d)("Message Actions Menu","VideoCommentsMenu"),size:v.b.Small,type:v.c.Secondary,"data-test-selector":"menu-button",icon:b.a.More,onClick:this.onToggleMenu}),this.state.isMenuOpen&&r.createElement(X.a,{onClickOut:this.closeMenu},r.createElement(re.a,{direction:re.b.BottomRight,show:!0,size:re.c.Small,offsetX:"0.5rem"},this.getContent())))},t}(r.Component),he="highlighted-message",fe="skip-subs-mode-message";function ge(e){var t=e.message.userNoticeParams;return!!t&&!!t["msg-id"]}n("Nimz");var ve,be=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={forceMenuVisibility:!1},t.onBanUserClickHandler=function(){t.props.onBanUserClick({bannedUser:t.props.context.comment.commenter,targetChannel:t.props.context.comment.channelId,comment:t.props.context.comment})},t.onDeleteCommentClickHandler=function(){t.props.onDeleteCommentClick(t.props.context.comment)},t.onMenuOpenHandler=function(){t.props.onDisableSync(),t.setState({forceMenuVisibility:!0})},t.onMenuCloseHandler=function(){t.setState({forceMenuVisibility:!1})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t,n,i=this.props,o=i.context,s=i.badgeSets,c=i.currentUser,d=!!c&&o.comment.commenter===c.id,u=void 0!==o.comment.userBadges[Q.a],m=ge(o.comment),h=(t=o.comment,!(!(n=t.message.userNoticeParams)||n["msg-id"]!==he)),v=function(e){var t=e.message.userNoticeParams;return!(!t||t["msg-id"]!==fe)}(o.comment),b=h||v,k=a("video-chat__message-menu",{"video-chat__message-menu--force-visible":this.state.forceMenuVisibility}),y=r.createElement(g.a,{className:k,"data-test-selector":"menu-options-wrapper",flexShrink:0},r.createElement(pe,{context:o,isCurrentUserModerator:this.props.isCurrentUserModerator,isExpandedLayout:this.props.isExpandedLayout,onBanUserClick:this.onBanUserClickHandler,onClose:this.onMenuCloseHandler,onDeleteCommentClick:this.onDeleteCommentClickHandler,onOpen:this.onMenuOpenHandler,onReplyClick:this.props.onReplyClick})),S=a("video-chat__message-author",((e={})["video-chat__message-author--me"]=d,e["video-chat__message-author--creator"]=u,e)),C=d||u?"":o.comment.message.userColor,E=r.createElement(T.a,{padding:{right:.5}},r.createElement("span",null,":"));o.comment.message.isAction&&(E=r.createElement(T.a,{padding:{right:.5}},r.createElement("span",null)));var w=r.createElement(g.a,{alignItems:f.b.Start,display:f.g.Flex,flexWrap:f.i.NoWrap},r.createElement(g.a,{flexGrow:1},(!m||b)&&r.createElement(r.Fragment,null,r.createElement(l.b,{badgesToRender:o.comment.userBadges,badgeSets:s,usesSchemaBadges:!0}),r.createElement(p.a,{className:S,"data-test-selector":"comment-author-selector","data-tt_content":"tab_videos","data-tt_medium":"video-message-author",linkTo:"/"+o.author.name,targetBlank:!0},r.createElement(K.a,{userData:Object(ee.a)(o.author,C),highlighted:d||u}))),r.createElement(g.a,{display:f.g.Inline,className:"video-chat__message","data-test-selector":"comment-message-selector"},(!m||b)&&E,r.createElement($.a,{message:o.comment.message,allowActionTextColors:!0,author:o.author,isHighlighted:h}))),y);return m?r.createElement(Y.a,null,w):w},t}(r.Component),ke=n("GEnX"),ye=n("4OCo"),Se=function(e){return r.createElement(g.a,{padding:{y:.5,left:1}},r.createElement(g.a,{className:"vod-message__content"},r.createElement(be,{badgeSets:e.badgeSets,context:e.context,currentUser:e.currentUser,isCurrentUserModerator:e.isCurrentUserModerator,isExpandedLayout:e.isExpandedLayout,onBanUserClick:e.onBanUserClick,onDeleteCommentClick:e.onDeleteCommentClick,onDisableSync:e.onDisableSync,onReplyClick:e.onReplyClick})))},Ce="vod-message-reply",Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.makeReplyButtonAndRelativeTime=function(e){return r.createElement(g.a,{display:f.g.Flex,alignItems:f.b.Center},r.createElement(ke.a,{context:Ce,onReplyClick:t.props.onReplyClick,replyCommentContext:e}),r.createElement(T.a,{margin:{left:.5}},r.createElement(m.a,{color:f.f.Alt2,fontSize:f.j.Size7,type:m.e.Span}," • "+Object(S.i)(e.comment.createdAt))))},t.makeReply=function(e){var n=null;return t.props.isExpandedLayout&&(n=t.makeReplyButtonAndRelativeTime(e)),r.createElement("li",{key:e.comment.id},r.createElement(Se,{badgeSets:t.props.badgeSets,context:e,currentUser:t.props.currentUser,isCurrentUserModerator:t.props.isCurrentUserModerator,isExpandedLayout:t.props.isExpandedLayout,onBanUserClick:t.props.onBanUserClick,onDeleteCommentClick:t.props.onDeleteCommentClick,onDisableSync:t.props.onDisableSync,onReplyClick:t.props.onReplyClick}),n)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.replies.map(this.makeReply.bind(this));return r.createElement("ul",null,e)},t}(r.Component),we=n("82xK"),Oe=(n("lRNp"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=null;!this.props.parentMessage.comment.moreReplies||this.props.isReplayFilterOn&&!this.props.isExpandedLayout||(e=r.createElement(g.a,{display:f.g.InlineBlock,className:"vod-message__show-more-replies"},r.createElement(we.a,{onClick:this.props.onLoadMoreRepliesClick})));var t=null;this.props.showReplyForm&&(t=r.createElement(g.a,{margin:{top:.5,bottom:1,x:1}},r.createElement(ye.a,{isCreationCoolDownActive:this.props.isCreationCoolDownActive||!1,onError:this.props.onError,onReplyFormClose:this.props.onReplyFormClose,onReplySubmit:this.props.onReplySubmit,replyToUserDisplayName:this.props.replyToUserDisplayName,videoOwnerID:this.props.parentMessage.comment.channelId})));var n=null;return this.props.isExpandedLayout&&(n=r.createElement(g.a,{alignItems:f.b.Center,display:f.g.Flex},r.createElement(ke.a,{context:"vod-message",onReplyClick:this.props.onReplyClick,replyCommentContext:this.props.parentMessage}),r.createElement(T.a,{margin:{left:.5}},r.createElement(m.a,{color:f.f.Alt2,fontSize:f.j.Size7,type:m.e.Span}," • "+Object(S.i)(this.props.parentMessage.comment.createdAt))))),r.createElement(g.a,null,n,r.createElement(g.a,{margin:{y:.5,left:.5},className:a("vod-message__reply","qa-vod-chat-reply")},e,r.createElement(Ee,{badgeSets:this.props.badgeSets,currentUser:this.props.currentUser,isCurrentUserModerator:this.props.isCurrentUserModerator,isExpandedLayout:this.props.isExpandedLayout,onBanUserClick:this.props.onBanUserClick,onDeleteCommentClick:this.props.onDeleteCommentClick,onDisableSync:this.props.onDisableSync,onReplyClick:this.props.onReplyClick,replies:this.props.parentMessage.replies}),t))},t}(r.Component)),De=(n("ya7N"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showReplyForm:!1,replyToUserDisplayName:""},t.onReplyClickHandler=function(e){t.setState({showReplyForm:!0,replyToUserDisplayName:e},t.props.onDisableSync)},t.onReplyFormCloseHandler=function(){t.setState({showReplyForm:!1,replyToUserDisplayName:""})},t.onReplySubmitHandler=function(e){t.props.onCreateReply(e,t.props.messageContext.comment.id),t.setState({showReplyForm:!1,replyToUserDisplayName:""})},t.onTimestampClickHandler=function(){t.props.onTimeStampClick(t.props.messageContext.comment.contentOffset,t.props.messageContext.comment)},t.onLoadMoreRepliesClickHandler=function(){t.props.onLoadMoreRepliesClick(t.props.messageContext.comment.id,t.props.messageContext.comment.contentId)},t.refHandler=function(e){t.shouldFocusMessage()&&t.props.onFocus(e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t=null;(this.props.isExpandedLayout||this.props.messageContext.replies.length>0||this.state.showReplyForm)&&(t=r.createElement(Oe,{badgeSets:this.props.badgeSets,currentUser:this.props.currentUser,isCreationCoolDownActive:this.props.isCreationCoolDownActive,isCurrentUserModerator:this.props.isCurrentUserModerator,isExpandedLayout:this.props.isExpandedLayout,isReplayFilterOn:this.props.isReplayFilterOn,onBanUserClick:this.props.onBanUserClick,onDeleteCommentClick:this.props.onDeleteCommentClick,onDisableSync:this.props.onDisableSync,onError:this.props.onError,onLoadMoreRepliesClick:this.onLoadMoreRepliesClickHandler,onReplyClick:this.onReplyClickHandler,onReplyFormClose:this.onReplyFormCloseHandler,onReplySubmit:this.onReplySubmitHandler,parentMessage:this.props.messageContext,replyToUserDisplayName:this.state.replyToUserDisplayName,showReplyForm:this.state.showReplyForm}));var n=null;this.props.hideTimestamp||(n=r.createElement(g.a,{className:"vod-message__header","data-test-selector":"message-timestamp",display:f.g.Flex,flexShrink:0,textAlign:f.p.Right},r.createElement(z,{offset:this.props.timeStampOffset,onClick:this.onTimestampClickHandler})));var i=a("vod-message",((e={})["vod-message--focused"]=this.shouldFocusMessage(),e["vod-message--user-notice"]=ge(this.props.messageContext.comment),e["vod-message--timestamp"]=!this.props.hideTimestamp,e));return r.createElement(g.a,{alignItems:f.b.Start,className:i,"data-test-selector":"message-layout",display:f.g.Flex,flexWrap:f.i.NoWrap,fullWidth:!0,refDelegate:this.refHandler},n,r.createElement(g.a,{fullWidth:!0},r.createElement(be,{badgeSets:this.props.badgeSets,context:this.props.messageContext,currentUser:this.props.currentUser,isCurrentUserModerator:this.props.isCurrentUserModerator,isExpandedLayout:this.props.isExpandedLayout,onBanUserClick:this.props.onBanUserClick,onDeleteCommentClick:this.props.onDeleteCommentClick,onDisableSync:this.props.onDisableSync,onReplyClick:this.onReplyClickHandler}),t))},t.prototype.shouldComponentUpdate=function(e,t){return e.focus!==this.props.focus||e.isReplayFilterOn!==this.props.isReplayFilterOn||e.hideTimestamp!==this.props.hideTimestamp||t.showReplyForm!==this.state.showReplyForm||e.messageContext.replies.length!==this.props.messageContext.replies.length||t.replyToUserDisplayName!==this.state.replyToUserDisplayName},t.prototype.shouldFocusMessage=function(){return this.props.focus},t}(r.Component)),Ne=(n("52dQ"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={firstScroll:!0},t.componentInitiatedScroll=!1,t.mouseDragging=!1,t.preventScrolling=!1,t.allowScrolling=function(){t.preventScrolling=!1},t.atBottom=function(){var e=t.commentListRef.scrollTop,n=t.commentListRef.scrollHeight;return e+t.commentListRef.clientHeight===n},t.bindCommentListRef=function(e){t.commentListRef=e},t.onMouseDown=function(){t.preventScrolling=!1,t.mouseDragging=!0},t.onMouseUp=function(){t.mouseDragging=!1},t.onScroll=function(){t.shouldFireOnScroll()&&(t.componentInitiatedScroll||(t.atBottom()?t.props.onScrollBottom():t.props.onScrollOffBottom()),t.componentInitiatedScroll=!1,t.preventScrolling=!0)},t.syncButtonClick=function(){t.preventScrolling=!1,t.props.onSyncScrollClick()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.onMount()},t.prototype.componentDidUpdate=function(){this.preventScrolling=!0,this.props.isScrollingSynced&&(this.preventScrolling=!1,this.componentInitiatedScroll=!0,this.commentListRef.scrollTop=this.commentListRef.scrollHeight)},t.prototype.render=function(){var e,t=a("video-chat__message-list-wrapper",((e={})["video-chat__message-list-wrapper--unsynced"]=!this.props.isScrollingSynced,e)),n=null;return!1===this.props.isScrollingSynced&&(n=r.createElement(T.a,{className:"video-chat__sync-button",padding:{x:1},position:f.n.Absolute,attachBottom:!0},r.createElement("button",{onClick:this.syncButtonClick},Object(s.d)("Resume auto scroll","MessageScrollArea")))),r.createElement(h.a,{fullHeight:!0,overflow:f.m.Hidden,position:f.n.Relative},r.createElement("div",{className:t,onKeyDown:this.allowScrolling,onMouseMove:this.allowScrolling,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onScroll:this.onScroll,onWheel:this.allowScrolling,ref:this.bindCommentListRef,tabIndex:-1,"data-test-selector":"video-chat-message-list-wrapper"},this.props.children),n)},t.prototype.shouldFireOnScroll=function(){return!this.mouseDragging&&this.preventScrolling?(this.componentInitiatedScroll=!1,!1):!(this.state.firstScroll&&!this.props.startSynced)||(this.setState({firstScroll:!1}),!1)},t}(r.Component)),_e=n("DpwM"),Ie=n("l41m"),Me=n("ehEd"),Te=function(e,t){return!!e&&(t>=e.offset&&e.offset+e.duration>=t)},je=n("XQbB"),Pe=n("PL8s");n("n+IG");n.d(t,"a",(function(){return Fe})),function(e){e.MessageInputPlaceholder="video-chat-message-input-placeholder",e.VideoChatError="video-chat-error",e.NoCommentCTA="video-chat-no-comments-cta",e.UnavailableReason="video-chat-unavailable"}(ve||(ve={}));var Le=5e3,Re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={commentAlreadyFocused:!1},t.videoData=null,t.badgesData=null,t.badgeSets=new l.c([],[],""),t.videoChatSunset=s.b.get(te.a,!1),t.createComment=function(e){if(t.props.videoID){var n={contentId:t.props.videoID,contentOffsetSeconds:t.props.currentVideoTime,contentType:_e.e,message:e};t.onCreate(n)}},t.createReply=function(e,n){var i={message:e,parentId:n};t.onCreate(i)},t.onErrorDismissedHandler=function(e){t.props.onError("");var n=t.props.errorMessage===Object(u.a)().chatReplayFilterError;e&&t.props.shouldSendReplayFilterError&&n&&t.props.onErrorDismissClick()},t.onErrorMessageClickHandler=function(){t.props.onError(""),t.props.onTurnOffReplayFilter()},t.onMessageScrollAreaMount=function(){t.props.highlightedMessageID&&""!==t.props.highlightedMessageID&&t.props.onDisableSync()},t.onError=function(e){t.props.onError(e)},t.onLoadMoreRepliesHandler=function(e,n){var a,r,o=t.props.data.video,s=Object(i.__spreadArrays)(t.props.data.cheerConfig.groups,(null===(r=null===(a=null==o?void 0:o.owner)||void 0===a?void 0:a.cheer)||void 0===r?void 0:r.cheerGroups)||[]);t.props.onLoadMoreReplies(e,t.props.replyCursorMap,n,Object(c.b)(t.props.data.cheerConfig.displayConfig,s))},t.focusedCommentCallback=function(e){t.setState({commentToFocus:e})},t.startUnfocusTimeout=function(){t.focusTimer=setTimeout((function(){t.setState({commentAlreadyFocused:!0})}),Le)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.onWillMount(),this.props.startInReplayMode&&this.props.onDidMount(this.props.startInReplayMode)},t.prototype.componentDidUpdate=function(e){(void 0!==this.props.highlightedMessageID&&this.props.highlightedMessageID!==e.highlightedMessageID&&(this.props.onPlayerSeekRequest(this.props.highlightTimestamp),this.props.onDisableSync(),this.setState({commentAlreadyFocused:!1})),this.props.onUpdateBegan(this.props,e),this.props.data.loading||this.props.data.error||!this.props.isPlaybackBlocked||this.props.latencyTracking.reportInteractive(),this.props.data.loading||this.props.data.error||!this.props.hasFetchedComments||this.props.latencyTracking.reportInteractive(),this.props.data.loading||this.props.data.error||!this.props.isClipChatDisabled||this.props.latencyTracking.reportInteractive(),this.state.commentToFocus)&&((this.state.commentToFocus.nextElementSibling||this.state.commentToFocus).scrollIntoView(!0),this.setState({commentToFocus:void 0}),this.startUnfocusTimeout())},t.prototype.componentWillUnmount=function(){clearTimeout(this.focusTimer),this.props.latencyTracking.reportInteractive(),this.props.onUnmount()},t.prototype.render=function(){var e=this;this.maybeUpdateBadgeSets();var t,n=this.props,i=n.comments,l=n.highlightedMessageID,c=n.data,d=c.video,u=d&&d.broadcastType===o.D.UPLOAD;if(this.props.isClipChatDisabled||this.videoChatSunset&&u){var p=null;p=u?r.createElement(m.a,{"data-test-selector":ve.UnavailableReason},Object(s.d)("Chat replay is not available for uploads.","VideoChat")):r.createElement(r.Fragment,null,r.createElement(g.a,{margin:{bottom:.5},"data-test-selector":ve.UnavailableReason},r.createElement(V.a,{asset:b.a.Clip})),r.createElement(m.a,null,Object(s.d)("This clip's past broadcast has expired and chat replay is no longer available.","VideoChat"))),t=r.createElement(h.a,{fullHeight:!0,background:f.d.Alt2,alignItems:f.b.Center,justifyContent:f.l.Center},r.createElement(g.a,{padding:1,display:f.g.Flex,flexDirection:f.h.Column,alignItems:f.b.Center,justifyContent:f.l.Center,textAlign:f.p.Center},p))}else if(!d||c.loading)t=r.createElement(je.a,{fillContent:!0});else if(c.error)t=r.createElement(g.a,{alignItems:f.b.Center,"data-test-selector":ve.VideoChatError,fullHeight:!0,justifyContent:f.l.Center},r.createElement(m.a,{italic:!0},Object(s.d)("Video Chat is currently unavailable.","VideoChat")));else{var v=void 0;if(!this.videoChatSunset&&this.props.hasFetchedComments&&this.props.offsetRange===Ie.a)v=r.createElement(T.a,{display:f.g.Flex,margin:{x:1,top:2,bottom:1},alignItems:f.b.Center},r.createElement("li",{"data-test-selector":ve.NoCommentCTA},r.createElement(T.a,{margin:{right:1}},r.createElement("img",{src:Object(Me.b)(65),srcSet:Object(Me.c)(65)})),Object(s.d)("Join the chat while watching the video!","VideoChatComponent")));else{v=(this.props.messageWindow?i.filter((function(t){return Te(e.props.messageWindow,t.comment.contentOffset)})):i).map((function(t,n){var i=!e.state.commentAlreadyFocused&&t.comment.id===l,a=n+1===e.props.comments.length,s=!e.props.isScrollingSynced&&a,u=t.comment.contentOffset;return e.props.messageWindow&&Te(e.props.messageWindow,t.comment.contentOffset)&&(u=t.comment.contentOffset-e.props.messageWindow.offset),r.createElement(T.a,{padding:s?{bottom:4}:{},key:t.comment.id,fullWidth:!0},r.createElement("li",null,r.createElement(De,{badgeSets:e.badgeSets,currentUser:c.currentUser,focus:i,isCreationCoolDownActive:e.props.isCreationCoolDownActive,isCurrentUserModerator:e.props.isCurrentUserModerator,isExpandedLayout:d.broadcastType===o.D.UPLOAD,isReplayFilterOn:e.props.isReplayFilterOn,messageContext:t,onBanUserClick:e.props.onBanUser,onCreateReply:e.createReply,onDeleteCommentClick:e.props.onDeleteComment,onDisableSync:e.props.onDisableSync,onError:e.onError,onFocus:e.focusedCommentCallback,onLoadMoreRepliesClick:e.onLoadMoreRepliesHandler,onTimeStampClick:e.props.onPlayerSeekRequest,hideTimestamp:e.props.hideTimestamps,timeStampOffset:u})))}))}t=r.createElement("ul",{style:{minHeight:0}},v)}var k,S=void 0===this.props.highlightedMessageID,C=null;if(""!==this.props.errorMessage&&(C=r.createElement(y,{message:this.props.errorMessage,onErrorDismissed:this.onErrorDismissedHandler,onMessageClick:this.onErrorMessageClickHandler})),!d||!d.owner||c.loading||c.error)k=r.createElement(Pe.a,{"data-test-selector":ve.MessageInputPlaceholder,height:90,width:340});else{var E=this.props.currentVideoTime;this.props.messageWindow&&Te(this.props.messageWindow,this.props.currentVideoTime)&&(E=this.props.currentVideoTime-this.props.messageWindow.offset),k=r.createElement(G,{currentUser:c.currentUser,currentVideoTime:E,onError:this.onError,isModerator:!(!d.owner.self||null===d.owner.self.isModerator)&&d.owner.self.isModerator,isReplayMode:this.props.isReplayFilterOn,isScrollingSynced:this.props.isScrollingSynced,isPostCooldownActive:this.props.isCreationCoolDownActive,isUpload:d.broadcastType===o.D.UPLOAD,onCreateComment:this.createComment,onScrollPause:this.props.onDisableSync,onScrollResume:this.props.onEnableSync,videoOwnerID:d.owner.id||"",videoOwnerLogin:d.owner.login||""})}return r.createElement(h.a,{className:a("video-chat","qa-vod-chat"),display:f.g.Flex,color:f.f.Alt,flexDirection:f.h.Column,flexShrink:0,flexWrap:f.i.NoWrap,fullHeight:!0,fullWidth:!0,position:f.n.Relative},r.createElement(h.a,{alignItems:f.b.Center,background:f.d.Alt,className:"video-chat__header",display:f.g.Flex,flexShrink:0,justifyContent:f.l.Center},r.createElement(m.a,{type:m.e.Span},Object(s.d)("Chat on Videos","VideoChatPresentation"))),C,r.createElement(Ne,{startSynced:S,isScrollingSynced:this.props.isScrollingSynced,onScrollOffBottom:this.props.onDisableSync,onScrollBottom:this.props.onEnableSync,onMount:this.onMessageScrollAreaMount,onSyncScrollClick:this.props.onEnableSync},r.createElement(g.a,{display:f.g.Flex,flexDirection:f.h.Column,fullHeight:!0,justifyContent:f.l.End},r.createElement(T.a,{display:f.g.Flex,flexWrap:f.i.Wrap,alignItems:f.b.End,fullWidth:!0},t))),!this.props.isClipChatDisabled&&!this.videoChatSunset&&r.createElement(g.a,{className:"video-chat__input",padding:{top:1,bottom:2,x:2},flexShrink:0,fullWidth:!0},k))},t.prototype.onCreate=function(e){this.props.isLoggedIn?this.props.onCreate(e):this.props.onShowLogin()},t.prototype.maybeUpdateBadgeSets=function(){this.props.data.loading||this.props.data.error||this.props.data.video===this.videoData&&this.props.data.badges===this.badgesData||(this.videoData=this.props.data.video,this.badgesData=this.props.data.badges,this.videoData&&this.videoData.owner&&this.badgesData?this.badgeSets=new l.c(this.badgesData,this.videoData.owner.broadcastBadges||void 0,this.videoData.owner.login||void 0):this.badgeSets=new l.c([],[],""))},t}(r.Component),Fe=Object(d.withLatencyTracking)("VideoChat")(Re)},qG5l:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SubBenefitReminder_SubscriptionDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:201}};n.loc.source={body:"query SubBenefitReminder_SubscriptionDetails($channelID: ID!) {\nuser(id: $channelID) {\nid\nself {\nsubscriptionBenefit {\nid\ngift {\nisGift\n}\n}\nsubscriptionTenure(tenureMethod: CUMULATIVE) {\nmonths\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SubBenefitReminder_SubscriptionDetails=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SubBenefitReminder_SubscriptionDetails")},qMs1:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelfModStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:89}};n.loc.source={body:"query SelfModStatus($channelID: ID!) {\nuser(id: $channelID) {\nid\nself {\nisModerator\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SelfModStatus=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"SelfModStatus")},quxh:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollChoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollChoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalVoters"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:271}};i.loc.source={body:'#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollChoice on PollChoice {\nid\ntitle\ntokens { ...pollTokenBreakdown }\ntotalVoters\nvotes { ...pollVoteBreakdown }\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("/x02").definitions)),i.definitions=i.definitions.concat(r(n("wMQt").definitions)),e.exports=i},"r+cx":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pointsImageFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsImage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url2x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url4x"},arguments:[],directives:[]}]}}],loc:{start:0,end:72}};n.loc.source={body:"fragment pointsImageFragment on CommunityPointsImage {\nurl\nurl2x\nurl4x\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},r2Xj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={DarkMode:"darkMode",FollowerDuration:"followerDuration",FollowerMode:"followerMode",HideChat:"hideChat",ShowMessageFlags:"showMessageFlags",ShowAutoModActions:"showAutoModActions",ShowModActions:"showModerationActions",ShowModIcons:"showModIcons",ShowTimestamps:"showTimestamps",SlowModeDuration:"slowModeDuration",UseHighContrastColors:"useHighContrastColors",SlowMode:"slowMode",DeletedMessageDisplaySetting:"deletedMessageDisplaySetting",ChatPauseSetting:"chatPauseSetting"}},r7KY:function(e,t,n){"use strict";var i=n("q1tI"),a=n("tiJ6"),r=n("m7Uh"),o=n("PkcC"),s=n("sUnt"),l=(n("xDdc"),function(e){return i.createElement(o.a,{inputColorHex:e.primaryColorHex&&Object(r.b)("#"+e.primaryColorHex)?"#"+e.primaryColorHex:null},i.createElement(s.a,{className:"user-notice-line",margin:{y:.5},padding:{right:2,y:.5}},e.children))});l.displayName="UserNoticeLine";var c=Object(a.c)((function(e){return{primaryColorHex:e.primaryColorHex}}))(l);n.d(t,"a",(function(){return c}))},rCSd:function(e,t,n){},rVcM:function(e,t,n){},rYEI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i,a=n("/7QA");function r(e){var t=1;return e>=2e3&&(e-=2e3,t=3),e>=1e3&&(e-=1e3,t=2),function(e,t){if(e>1)return 0===t?Object(a.d)("Tier {tierNum}, Base",{tierNum:Object(a.f)(e)},"LoyaltyBadgesPageComponent"):t<12?Object(a.d)("{monthNum, plural, one {Tier {tierNum}, {monthNum}-Month} other {Tier {tierNum}, {monthNum}-Month}}",{tierNum:Object(a.f)(e),monthNum:Object(a.f)(t)},"LoyaltyBadgesPageComponent"):Object(a.d)("{yearNum, plural, one {Tier {tierNum}, {yearNum}-Year} other {Tier {tierNum}, {yearNum}-Year}}",{tierNum:Object(a.f)(e),yearNum:t/12},"LoyaltyBadgesPageComponent");return 0===t?Object(a.d)("Base","LoyaltyBadgesPageComponent"):t<12?Object(a.d)("{monthNum, plural, one {{monthNum}-Month} other {{monthNum}-Month}}",{monthNum:Object(a.f)(t)},"LoyaltyBadgesPageComponent"):Object(a.d)("{yearNum, plural, one {{yearNum}-Year} other {{yearNum}-Year}}",{yearNum:t/12},"LoyaltyBadgesPageComponent")}(t,e)}!function(e){e.Base="Base",e.Month2="2-Month",e.Month3="3-Month",e.Month6="6-Month",e.Month9="9-Month",e.Year1="1-Year",e.Year1Half="1.5-Year",e.Year2="2-Year",e.Year2Half="2.5-Year",e.Year3="3-Year",e.Year3Half="3.5-Year",e.Year4="4-Year",e.Year4Half="4.5-Year",e.Year5="5-Year",e.Year5Half="5.5-Year",e.Year6="6-Year",e.Year6Half="6.5-Year",e.Year7="7-Year",e.Year7Half="7.5-Year",e.Year8="8-Year"}(i||(i={}));var o=[{availableToAffiliate:!0,name:i.Base,requiredTenureMonths:0},{availableToAffiliate:!0,name:i.Month2,requiredTenureMonths:2},{availableToAffiliate:!0,name:i.Month3,requiredTenureMonths:3},{availableToAffiliate:!0,name:i.Month6,requiredTenureMonths:6},{availableToAffiliate:!0,name:i.Month9,requiredTenureMonths:9},{availableToAffiliate:!0,name:i.Year1,requiredTenureMonths:12},{availableToAffiliate:!1,name:i.Year1Half,requiredTenureMonths:18},{availableToAffiliate:!1,name:i.Year2,requiredTenureMonths:24},{availableToAffiliate:!1,name:i.Year2Half,requiredTenureMonths:30},{availableToAffiliate:!1,name:i.Year3,requiredTenureMonths:36},{availableToAffiliate:!1,name:i.Year3Half,requiredTenureMonths:42},{availableToAffiliate:!1,name:i.Year4,requiredTenureMonths:48},{availableToAffiliate:!1,name:i.Year4Half,requiredTenureMonths:54},{availableToAffiliate:!1,name:i.Year5,requiredTenureMonths:60},{availableToAffiliate:!1,name:i.Year5Half,requiredTenureMonths:66},{availableToAffiliate:!1,name:i.Year6,requiredTenureMonths:72},{availableToAffiliate:!1,name:i.Year6Half,requiredTenureMonths:78},{availableToAffiliate:!1,name:i.Year7,requiredTenureMonths:84},{availableToAffiliate:!1,name:i.Year7Half,requiredTenureMonths:90},{availableToAffiliate:!1,name:i.Year8,requiredTenureMonths:96}]},rhXE:function(e,t,n){},ru7j:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BlockedUsers"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blockedUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:61}};n.loc.source={body:"query BlockedUsers {\ncurrentUser {\nid\nblockedUsers {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.BlockedUsers=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"BlockedUsers")},rwoo:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.ChannelNotLive="channel_not_live",e.UserBanned="user_banned",e.UserTimedOut="user_timed_out",e.ChannelBanned="channel_banned",e.ChannelNotClippable="channel_not_clippable",e.NotLoggedIn="not_logged_in",e.VideoNotAvailable="video_not_available",e.SubOnlyVod="video_subonly",e.ClipMissing="clip_missing",e.ClipMaintenance="maintenance",e.Default="500"}(i||(i={}))},sLlB:function(e,t,n){"use strict";var i,a=n("/MKj"),r=n("ANjH"),o=n("5xw2"),s=n("OhOW"),l=n("mrSG"),c=n("q1tI"),d=n("Ty5D"),u=n("/7QA"),m=n("vSJR"),p=n("8/mp"),h=n("eJ65"),f=n("HSqT"),g=n("2xye"),v=n("GnwI"),b=n("sUnt"),k=n("Ws8v"),y=n("yymn"),S=n("dEDE"),C=n("kqSx"),E=n("wp5a"),w=n("ygYM");n("S58p");!function(e){e.ClearAllButton="language-select-menu__clear-all-button",e.ToggleButton="language-select-menu__toggle-button"}(i||(i={}));var O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleLanguageChange=function(e){var n=e.currentTarget,i=n.parentElement&&n.parentElement.getAttribute("data-language-code");i&&(t.props.updateLanguagePreferences(i,n.checked),t.trackLanguageChange(i,n.checked))},t.renderDropdownContent=function(){return c.createElement(c.Fragment,null,c.createElement("div",{className:"language-select-menu__balloon"},c.createElement(p.b,null,c.createElement(b.a,{padding:.5},Object(f.e)().map(t.renderLanguageOption)))),c.createElement(k.a,{background:y.d.Alt,borderTop:!0,className:"language-select-menu__footer"},c.createElement(S.a,{type:S.d.Text,onClick:t.props.clearLanguagePreferences,"data-a-target":"language-clear-all","data-test-selector":i.ClearAllButton},Object(u.d)("Clear all","LanguageSelectMenu"))))},t.renderLanguageOption=function(e){return c.createElement(b.a,{padding:{x:1,y:.5},key:e.code},c.createElement(C.a,{label:e.label,checked:t.props.languagePreferences.includes(e.code),"data-language-code":e.code,"data-a-target":"language-filter-"+e.code+"-checkbox",onChange:t.handleLanguageChange}))},t.renderButtonContent=function(){var e=t.props.languagePreferences.length,n=Object(u.d)("Language","LanguageSelectMenu");return c.createElement(b.a,{display:y.g.Flex},n,c.createElement(b.a,{margin:{left:.5}},0!==e&&c.createElement(E.a,{type:E.b.Brand,label:e.toString()})))},t.trackLanguageChange=function(e,n){var i="";t.props.match&&t.props.match.params&&(i=decodeURIComponent(t.props.match.params.encodedCommunityName).toLowerCase()),u.p.tracking.track(g.SpadeEventType.LanguageFilterChange,{item_name:"language",item_value:e,item_action:n?"select":"deselect",game:i||null,open_click:!0})},t}return Object(l.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.props.useBalloon?c.createElement(h.a,{hideBalloonOnInsideClick:!0,"data-a-target":"language-filter-dropdown"},c.createElement(S.a,{dropdown:!0,type:S.d.Secondary,"data-test-selector":i.ToggleButton},this.renderButtonContent()),c.createElement(w.a,{direction:w.b.BottomLeft,noTail:!0},this.renderDropdownContent())):c.createElement(b.a,{className:"language-select-menu"},c.createElement(m.a,{"data-a-target":"language-filter-dropdown",buttonLabel:this.renderButtonContent()},this.renderDropdownContent()))},t}(c.Component),D=Object(r.d)(d.k,Object(v.withLatencyTracking)("LanguageSelectMenu"))(O);var N=Object(a.b)((function(e){return{languagePreferences:Object(s.a)(e)}}),(function(e){return Object(r.b)({updateLanguagePreferences:o.c,clearLanguagePreferences:o.a},e)}))(D);n.d(t,"a",(function(){return N}))},sLmD:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var i=n("/7QA"),a="en-us",r={bg:"bg-bg",cs:"cs-cz",da:"da-dk",de:"de-de",el:"el-gr",en:a,"en-gb":a,es:"es-es","es-mx":"es-mx",fi:"fi-fi",fr:"fr-fr",hu:"hu-hu",it:"it-it",ja:"ja-jp",ko:"ko-kr",nl:"nl-nl",no:"no-no",pl:"pl-pl","pt-br":"pt-br",pt:"pt-pt",ro:"ro-ro",ru:"ru-ru",sk:"sk-sk",sv:"sv-se",th:"th-th",tr:"tr-tr",vi:"vi-vn","zh-cn":"zh-cn","zh-tw":"zh-tw"},o=function(e,t){var n,i=l();return n=t?{id:s(e)?e.tag_id:e.objectID,tagName:e.tag_name,isAutomated:e.automated||!1,localizedDescription:s(e)?"":e.description_localizations&&e.description_localizations[i]||"",localizedName:""}:{id:s(e)?e.tag_id:e.objectID,isLanguageTag:e.tag_name.includes("auto___lang"),localizedName:"",tagName:e.tag_name},e.localizations&&e.localizations[i]?n.localizedName=e.localizations[i]:e.localizations&&e.localizations[a]?n.localizedName=e.localizations[a]:n.localizedName=n.tagName,n};function s(e){return void 0!==e.tag_id}function l(){return r[i.p.intl.getLanguageCode()||""]||a}},sPFP:function(e,t,n){},sQmm:function(e,t,n){"use strict";var i=n("q1tI"),a=n("Ws8v"),r=n("yymn"),o=n("sUnt"),s=n("PL8s"),l=function(){return i.createElement(a.a,{display:r.g.Flex,flexDirection:r.h.Row,border:!0,elevation:2,borderRadius:r.e.Medium,overflow:r.m.Hidden},i.createElement(o.a,{flexGrow:0,flexShrink:0},i.createElement(s.a,{height:300,width:20})),i.createElement(o.a,{flexGrow:1,flexShrink:1,display:r.g.Flex,flexDirection:r.h.Column,padding:{left:1}},i.createElement(o.a,{flexGrow:0,flexShrink:0,padding:{top:1}},i.createElement(s.a,{height:20,width:500})),i.createElement(o.a,{flexGrow:1,flexShrink:1,display:r.g.Flex,flexDirection:r.h.Row},i.createElement(o.a,{padding:{top:1,right:1,bottom:1}},i.createElement(s.a,{height:200,width:300})),i.createElement(o.a,{padding:1},i.createElement(s.a,{height:200,width:300})),i.createElement(o.a,{padding:1},i.createElement(s.a,{height:200,width:300})),i.createElement(o.a,{padding:1},i.createElement(s.a,{height:200,width:300})),i.createElement(o.a,{padding:1},i.createElement(s.a,{height:200,width:300})),i.createElement(o.a,{padding:1},i.createElement(s.a,{height:200,width:300})))))};n.d(t,"a",(function(){return c}));var c=function(){return i.createElement(o.a,{margin:{top:1}},i.createElement(o.a,{padding:{bottom:1}},i.createElement(l,{key:1})),i.createElement(o.a,{padding:{bottom:1}},i.createElement(l,{key:2})),i.createElement(o.a,{padding:{bottom:1}},i.createElement(l,{key:3})),i.createElement(o.a,{padding:{bottom:1}},i.createElement(l,{key:4})))}},sU0Q:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatCard_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"90"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"51"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:162}};n.loc.source={body:"query VideoChatCard_Video($videoID: ID!) {\nvideo(id: $videoID) {\nid\ntitle\npreviewThumbnailURL(width: 90 height: 51)\npublishedAt\nowner {\nid\nlogin\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoChatCard_Video=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoChatCard_Video")},sbEw:function(e,t,n){},sj0o:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteModificationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmoteModification"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsEmoteFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"modifierIconDark"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"modifierIconLight"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}],loc:{start:0,end:380}};i.loc.source={body:'#import "twilight/features/community-points/models/community-points-emote-fragment.gql"\n#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment emoteModificationFragment on CommunityPointsEmoteModification {\nid\nemote {\n...communityPointsEmoteFragment\n}\nmodifierIconDark {\n...pointsImageFragment\n}\nmodifierIconLight {\n...pointsImageFragment\n}\ntitle\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("KrPZ").definitions)),i.definitions=i.definitions.concat(r(n("r+cx").definitions)),e.exports=i},smCe:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"TerminatePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TerminatePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"terminatePoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:100}};n.loc.source={body:"mutation TerminatePoll($input: TerminatePollInput!) {\nterminatePoll(input: $input) {\npoll {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.TerminatePoll=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"TerminatePoll")},t4UF:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("q1tI"),r=n("fBrF");function o(e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(n,t),n.prototype.render=function(){return a.createElement(r.a,Object(i.__assign)({},this.props),a.createElement(e,Object(i.__assign)({},this.props)))},n}(a.Component)}},tFCv:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("Ty5D"),s=n("ANjH"),l=n("/7QA"),c=n("u5aL"),d=n("ZS2+"),u=n("/0dD"),m=n("SDEh"),p=n("edgk"),h=n("1/iK"),f=n("y5D0"),g=n("jZLd"),v=n("D7An"),b=n("kRBY"),k=n("XDQu"),y=n("+pBb"),S=n("3sMn"),C=n("Tznh"),E=n("+l4d"),w=n("jBwP"),O=n("xzy9"),D=n("fezU"),N=n("r2Xj"),_=n("WytW"),I=n("x0gr"),M=n("tLDJ"),T=n("MkkA"),j=n("b7S+"),P=n("sUnt"),L=n("yymn"),R=n("7d/q"),F=n("C7sF"),A=d.a.wrap((function(){return n.e(60).then(n.bind(null,"8MX0"))}),"ChatSettingsComponent"),x=d.a.wrap((function(){return n.e(59).then(n.bind(null,"WYxz"))}),"ChatPauseNotificationTooltip",{placeholder:null}),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={editAppearance:!1},t.inChatInputRevampExperiment="variant1"===l.p.experiments.getAndTrackAssignment(v.c.ChatInputRevamp),t.chatSettingsTooltipString=function(){return Object(l.d)("Chat Settings","ChatInputTooltip")},t.onEdit=function(){t.setState({editAppearance:!0})},t.onLeaveEdit=function(){t.setState({editAppearance:!1})},t.onDarkModeToggle=function(){var e=t.props.darkModeEnabled?u.a.Light:u.a.Dark;t.props.onThemeChanged(e,!t.props.isPopout),Object(I.b)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!t.props.darkModeEnabled,settingName:N.a.DarkMode})},t.onTimestampToggle=function(e){Object(I.b)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:e,settingName:N.a.ShowTimestamps})},t.onHighContrastColorsToggle=function(e){Object(I.b)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:e,settingName:N.a.UseHighContrastColors})},t.onDeletedMessageDisplaySettingChange=function(e){t.props.setDeletedMessageDisplaySetting(e)},t.onChatHide=function(){t.props.onChatHide(),t.onCloseSettings(),Object(I.b)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!0,settingName:N.a.HideChat})},t.onChatPopout=function(){t.props.isPopout||t.props.onChatHide();var e="/popout/"+t.props.channelLogin+"/chat?popout=";Object(M.y)()&&(e="https://twitch.tv"+e);var n=window.open(e,"_blank","right=50,top=50,width=400,height=600,resizable=yes,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");n&&!Object(m.a)()&&(n.focus(),Object(p.a)(n,(function(){t.props.onChatUnhide()})))},t.onShowChatRules=function(){t.inChatInputRevampExperiment?(t.props.showChatRules(),t.onCloseSettings()):t.props.onShowChatRules&&(t.props.onShowChatRules(),t.onCloseSettings())},t.onColorSelected=function(e){t.props.isLoggedIn?t.props.onChatCommand(Object(_.a)(e)):t.props.login()},t.onToggleChatSettings=function(){t.props.isSettingsOpen?t.onCloseSettings():(Object(I.c)({channelID:t.props.channelID||void 0,channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode}),t.props.updateChatConfigState({isSettingsOpen:!0}))},t.onCloseSettings=function(){t.props.isSettingsOpen&&(t.props.hideChatFilterSettings(),t.props.hideDeletedMessageDisplaySettings(),t.props.updateChatConfigState({isSettingsOpen:!1}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){e.isSettingsOpen&&!this.props.isSettingsOpen&&(this.props.hideChatFilterSettings(),this.props.hideDeletedMessageDisplaySettings(),this.onLeaveEdit())},t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(A.Preload,null),a.createElement(c.a,{onClickOut:this.onCloseSettings},a.createElement(j.a,{direction:j.c.Top,label:this.chatSettingsTooltipString()},a.createElement(P.a,{zIndex:L.s.Default},a.createElement(R.a,{"data-a-target":"chat-settings",icon:F.a.Gear,ariaLabel:Object(l.d)("Chat settings","ChatSettingsIconButton"),onClick:this.onToggleChatSettings}))),this.props.isSettingsOpen&&a.createElement(A,{authToken:this.props.authToken,darkModeEnabled:this.props.darkModeEnabled,editAppearance:this.state.editAppearance,isShowingChatFilterSettings:this.props.isShowingChatFilterSettings,showChatFilterSettings:this.props.showChatFilterSettings,hideChatFilterSettings:this.props.hideChatFilterSettings,isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:this.props.isHostMode,isVisible:this.props.isSettingsOpen,isPopout:this.props.isPopout,isWatchPartyActive:this.props.isWatchPartyActive,isEmbedded:this.props.isEmbedded,onChatCommand:this.props.onChatCommand,onChatHide:this.onChatHide,onChatPopout:this.onChatPopout,onShowChatRules:this.props.onShowChatRules&&this.onShowChatRules,onDarkModeToggle:this.onDarkModeToggle,onTimestampToggle:this.onTimestampToggle,onHighContrastColorsToggle:this.onHighContrastColorsToggle,theatreModeEnabled:this.props.theatreModeEnabled,onColorSelected:this.onColorSelected,channelLogin:this.props.channelLogin,channelID:this.props.channelID,isLoggedIn:this.props.isLoggedIn,onClickEditAppearance:this.onEdit,onLeaveEditAppearance:this.onLeaveEdit,onShowViewerCard:this.props.onShowViewerCard,containerElement:this.props.containerElement,"data-test-selector":"chat-settings-component",onCloseSettings:this.onCloseSettings,emoteOnlyModeEnabled:this.props.emoteOnlyMode,followerModeEnabled:this.props.followerMode,followerDuration:this.props.followerDuration,slowModeEnabled:this.props.slowMode,slowModeDuration:this.props.slowModeDuration,isShowingDeletedMessageDisplaySettings:this.props.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:this.props.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:this.props.showDeletedMessageDisplaySettings,onDeletedMessageDisplaySettingChange:this.onDeletedMessageDisplaySettingChange,deletedMessageDisplaySetting:this.props.deletedMessageDisplaySetting,hasSetDeletedMessageDisplaySetting:this.props.hasSetDeletedMessageDisplaySetting})),this.props.isCurrentUserModerator&&this.props.firstPageLoaded&&a.createElement(x,{channelID:this.props.channelID||void 0}))},t}(a.Component);var B=Object(r.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isChatRulesOpen:e.chat.isChatRulesOpen,isLoggedIn:Object(b.f)(e),darkModeEnabled:Object(k.a)(e)===u.a.Dark,theatreModeEnabled:e.ui.theatreModeEnabled}}),(function(e){return Object(s.b)({login:function(){return Object(f.e)(h.a.ChatSettings)},onChatHide:function(){return y.L()},onChatUnhide:function(){return y.N()},onThemeChanged:function(e){return Object(g.b)(e,{saveToStorage:!1})}},e)}))(U),V=Object(s.d)(o.k,Object(w.b)((function(e){return{emoteOnlyMode:e.emoteOnlyMode,followerDuration:e.followerDuration,followerMode:e.followerMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration}})),Object(S.b)((function(e){return{isSettingsOpen:e.isSettingsOpen,updateChatConfigState:function(t){return e.updateChatConfigState(t)}}})),Object(O.d)((function(e){return{setDeletedMessageDisplaySetting:e.setValue,deletedMessageDisplaySetting:e.value,isShowingDeletedMessageDisplaySettings:e.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:e.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:e.showDeletedMessageDisplaySettings,hasSetDeletedMessageDisplaySetting:e.hasSetSetting}})),Object(D.b)((function(e){return{onShowViewerCard:e.onShowViewerCard}})),Object(C.d)((function(e){return e})),Object(E.b)((function(e){return{showChatRules:e.showChatRules}})),Object(T.withWatchPartyContext)((function(e){return{isWatchPartyActive:e.isWatchPartyActive}})))(B),H=n("eJ65"),G=n("ygYM"),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setToggleBalloonRef=function(e){return t.toggleBalloonRef=e},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.props.onToggle&&this.props.isChatRulesOpen&&!e.isChatRulesOpen?this.toggleBalloonRef.toggleBalloon(!1):this.props.isShowingChatFilterSettings&&!e.isShowingChatFilterSettings&&(this.toggleBalloonRef.toggleBalloon(!0),this.props.onToggle&&this.props.onToggle(!1))},t.prototype.render=function(){return a.createElement(H.a,{onToggle:this.props.onToggle,ref:this.setToggleBalloonRef},a.createElement(R.a,{icon:F.a.Gear,ariaLabel:Object(l.d)("Chat settings","ChatInput"),"data-a-target":"chat-settings",disabled:!!this.props.disabled}),a.createElement(G.a,{direction:G.b.Top,noTail:!0,offsetY:"11px","data-a-target":"chat-settings-balloon"},this.props.children))},t}(a.Component);var W=Object(r.b)((function(e){return{isChatRulesOpen:e.chat.isChatRulesOpen}}))(q);n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return W}))},tMaJ:function(e,t,n){},tX9j:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AutoModRejectedChatMessagePrompt"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"msgID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"msgID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"message"},directives:[]}]}}]}}]}}],loc:{start:0,end:200}};i.loc.source={body:'#import "twilight/features/message/fragments/message-fragment.gql"\nquery AutoModRejectedChatMessagePrompt($msgID: ID! $channelID: ID!) {\nrejectedChatMessage(id: $msgID) {\nid\nmessage {\n...message\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("jy35").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.AutoModRejectedChatMessagePrompt=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"AutoModRejectedChatMessagePrompt")},tcg6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return"/moderator/"+e}},tiJ6:function(e,t,n){"use strict";var i=n("mrSG"),a=n("w09P"),r=n("q1tI"),o=n("/7QA"),s=n("0Log"),l=n("cMjZ"),c=n("geRD"),d=n("/aPz"),u=n("2xye"),m=n("1rIY"),p=n("LZFU"),h=n("BqRr"),f=n("VKOn"),g=n("kxrW"),v=n("Hz5m"),b=n("zQgx"),k=n("Q94S"),y=n("Q34B"),S=n("vRsq");function C(e,t){var n=e.owner?e.owner.login:"",i=y.a.VIDEO,a=Object(S.j)(n,e.id,t?t.id:null);return{clipSlug:"",collectionID:t?t.id:"",contentCanonicalUrl:a,contentType:i,hostedChannel:null,videoID:e.id,videoPlayerSource:""}}function E(e){if(e&&e.hosting&&e.hosting.id&&e.hosting.login){var t=e.hosting;return{id:t.id,login:t.login,displayName:t.displayName||"",profileImageURL:t.profileImageURL}}return null}var w=n("IZXT"),O=n("kmJV"),D=n("xyN1"),N=n("csJo"),_=n("mGiD"),I=n("BbLt"),M=n("MAph");n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return P})),n.d(t,"a",(function(){return L}));var T=Object(m.a)("ChannelContext",{loading:!1,error:!1,channel:null,channelLogin:"",clip:null,clipSlug:"",collection:null,collectionID:"",contentCanonicalUrl:"",contentType:y.a.NONE,currentUser:null,hostedChannel:null,live:!1,primaryColorHex:null,requestedVideoOffset:b.a,streamStatus:g.a.Offline,page:v.c.About,video:null,videoID:"",videoPlayerSource:"",viewerCount:null,handleStreamStatusChange:function(){},requestVideoOffset:function(){}}),j=T.context,P=T.withContext,L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!1,error:!1,channelLogin:"",channel:null,clipSlug:"",clip:null,videoID:"",video:null,collectionID:"",collection:null,contentCanonicalUrl:"",contentType:y.a.NONE,currentUser:null,live:!1,primaryColorHex:null,requestedVideoOffset:b.a,streamStatus:g.a.Offline,hostedChannel:null,videoPlayerSource:"",page:v.c.About,viewerCount:null,handleStreamStatusChange:function(e){t.state.videoPlayerSource===t.state.channelLogin&&t.setState({streamStatus:e})},requestVideoOffset:function(e){return t.requestVideoOffset(e)}},t.logger=o.k.withCategory("ChannelContext"),t.nextHostTarget="",t.updateRoute=function(e){t.setState({page:t.getPageType(e)});var n=(e.match.params.channelLogin||"").toLowerCase();n&&n===t.state.channelLogin||(t.resetPrivateVariables(),t.setState({viewerCount:null})),t.setState(t.updateVideoSource({route:e}));var i=Object(k.e)(e),a=Object(k.a)(e),r=Object(k.b)(e);t.setState({channelLogin:n}),i?t.fetchVideo(i,r):a?t.fetchClip(a):r?t.fetchCollection(r):n?(t.fetchChannel(n),t.setupPubsub("",n)):t.logger.warn("Channel Root had no content to load",e.match)},t.requestVideoOffset=function(e){t.setState({requestedVideoOffset:e})},t.onResetOffline=function(){t.resetOfflineTimer=void 0,t.state.live&&(o.o.track(u.SpadeEventType.ChannelOffline,{offline_type:"viewcount",channel:t.state.channel&&t.state.channel.login}),t.setState({live:!1}))},t}return Object(i.__extends)(t,e),t.prototype.UNSAFE_componentWillMount=function(){this.updateRoute(this.props),this.setState({requestedVideoOffset:Object(b.f)(this.props)})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.match.url!==this.props.match.url&&this.updateRoute(e);var t=Object(b.f)(e);Object(b.f)(this.props)!==t&&this.setState({requestedVideoOffset:t})},t.prototype.render=function(){return r.createElement(j.Provider,{value:this.state},this.props.children)},t.prototype.componentDidUpdate=function(e,t){t.channel&&this.state.channel&&t.channel.id===this.state.channel.id&&(!t.hostedChannel&&this.state.hostedChannel||t.hostedChannel&&!this.state.hostedChannel||t.hostedChannel&&this.state.hostedChannel&&t.hostedChannel.login!==this.state.hostedChannel.login)&&o.o.track(u.SpadeEventType.HostModeDebug,{log_type:"state_change_"+this.channelStateChangeReason,channel:this.state.channel.login,host_channel:this.state.hostedChannel&&this.state.hostedChannel.login,data_target_channel_login:this.state.channel.hosting&&this.state.channel.hosting.login,prev_host_channel_login:t.hostedChannel&&t.hostedChannel.login}),this.channelStateChangeReason=void 0},t.prototype.componentWillUnmount=function(){this.resetPrivateVariables(),this.clearBroadcastSettingsUpdateInterval()},t.prototype.resetPrivateVariables=function(){this.pubsubHostTargetChange&&this.pubsubHostTargetChange.unsubscribe(),this.pubsubHostTargetChange=void 0,this.pubsubViewCountUpdate&&this.pubsubViewCountUpdate.unsubscribe(),this.pubsubViewCountUpdate=void 0,this.pubsubBroadcastSettings&&this.pubsubBroadcastSettings.unsubscribe(),this.pubsubBroadcastSettings=void 0,this.gqlChannelObservable=void 0,this.gqlChannelSubscription&&this.gqlChannelSubscription.unsubscribe(),this.gqlChannelSubscription=void 0,this.nextHostTarget="",this.clearResetOfflineTimer()},t.prototype.fetchChannel=function(e){var t=this;this.setState({loading:!0});var n=function(e){t.channelStateChangeReason||(t.channelStateChangeReason="external_gql_update"),t.setState(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({clip:null,video:null,error:!1,loading:!1,collection:null},t.updateCurrentUser(e.data.currentUser)),t.updateChannel(e.data.user)),t.updateVideoSource({live:e.data.user},e.data.currentUser)))},a=function(n){t.setState({error:!0,loading:!1}),Object(w.d)()?t.logger.warn("failed to fetch channel root data",{channelLogin:e}):t.logger.errorAndReport(n,"failed to fetch channel root data",{channelLogin:e})};if(this.gqlChannelObservable)return this.channelStateChangeReason="context_gql_refetch",void this.gqlChannelObservable.refetch().then(n,a);this.resetPrivateVariables();var r=o.p.apollo.client.watchQuery({query:O,variables:{currentChannelLogin:e,includeChanlets:!Object(f.a)()}});this.gqlChannelObservable=r,this.gqlChannelSubscription=r.subscribe({next:n,error:a})},t.prototype.fetchVideo=function(e,t){var n=this;this.resetPrivateVariables(),this.setState({loading:!0});var a=o.p.apollo.client.watchQuery({query:_,variables:{videoID:e,collectionID:t,includeCollection:!!t,includeChanlets:!1}}).subscribe({next:function(e){a.unsubscribe();var t=e.data,r=t.video,o=t.collection;!r||n.videoDoesntMatchCurrentRoute(r)?n.setState(Object(i.__assign)(Object(i.__assign)({error:!0,loading:!1,clip:null,video:null},n.updateCurrentUser(e.data.currentUser)),{collection:null,collectionID:""})):n.setState(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({error:!1,loading:!1,clip:null},n.updateCurrentUser(e.data.currentUser)),n.updateVideo(r)),n.updateChannel(r&&r.owner)),n.updateVideoSource({video:r,collection:o})),{collection:o||null,collectionID:o?o.id:""}))},error:function(i){a&&a.unsubscribe(),n.setState({error:!0,loading:!1}),Object(w.d)()?n.logger.warn("failed to fetch channel root data for video",{videoID:e,collectionID:t}):n.logger.errorAndReport(i,"failed to fetch channel root data for video",{videoID:e,collectionID:t})}})},t.prototype.fetchCollection=function(e){var t=this;this.resetPrivateVariables(),this.setState({loading:!0});var n=o.p.apollo.client.watchQuery({query:N,variables:{collectionID:e,includeChanlets:!1}}).subscribe({next:function(e){n.unsubscribe();var a=Object(k.c)(e.data.collection);a&&t.videoDoesntMatchCurrentRoute(a)?t.setState(Object(i.__assign)({error:!0,loading:!1,clip:null,video:null,collection:null},t.updateCurrentUser(e.data.currentUser))):t.setState(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({error:!1,loading:!1,clip:null},t.updateCurrentUser(e.data.currentUser)),t.updateCollection(e.data.collection)),t.updateVideo(a)),t.updateChannel(e.data.collection&&e.data.collection.owner)),t.updateVideoSource({video:a,collection:e.data.collection})))},error:function(i){n&&n.unsubscribe(),t.setState({error:!0,loading:!1}),Object(w.d)()?t.logger.warn("failed to fetch channel root data for collection",{collectionID:e}):t.logger.errorAndReport(i,"failed to fetch channel root data for collection",{collectionID:e})}})},t.prototype.fetchClip=function(e){var t=this;this.resetPrivateVariables(),this.setState({loading:!0});var n=o.p.apollo.client.watchQuery({query:D,variables:{currentChannelLogin:"",includeChannel:!1,videoID:"",includeVideo:!1,collectionID:"",includeCollection:!1,slugID:e,includeClip:!0,includeChanlets:!1}}).subscribe({next:function(e){n.unsubscribe();var a=e.data.clip;!a||t.clipDoesntMatchCurrentRoute(a)?t.setState(Object(i.__assign)({error:!0,loading:!1,video:null,collection:null,clip:null},t.updateCurrentUser(e.data.currentUser))):t.setState(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({error:!1,loading:!1,video:null,collection:null},t.updateCurrentUser(e.data.currentUser)),t.updateClip(a)),t.updateChannel(a&&a.broadcaster)),t.updateVideoSource({clip:a})))},error:function(i){n&&n.unsubscribe(),t.setState({error:!0,loading:!1}),Object(w.d)()?t.logger.warn("failed to fetch channel root data for video",{clipSlug:e}):t.logger.errorAndReport(i,"failed to fetch channel root data for video",{clipSlug:e})}})},t.prototype.updateCurrentUser=function(e){return{currentUser:e}},t.prototype.updateCollection=function(e){return{collection:e}},t.prototype.videoDoesntMatchCurrentRoute=function(e){var t=this.props.match.params.channelLogin;return!!(t&&e.owner&&e.owner.login&&e.owner.login.toLowerCase()!==t.toLowerCase())},t.prototype.updateVideo=function(e){return{video:e}},t.prototype.clipDoesntMatchCurrentRoute=function(e){var t=this.props.match.params.channelLogin;return!!(t&&e.broadcaster&&e.broadcaster.login&&e.broadcaster.login.toLowerCase()!==t.toLowerCase())},t.prototype.updateClip=function(e){return{clip:e}},t.prototype.updateChannel=function(e){var t=e&&e.login||"",n=!!Object(b.d)(e),i=E(e),a=Object(b.g)(e);return this.setupPubsub(e&&e.id||"",t),this.clearResetOfflineTimer(),n&&(this.resetOfflineTimer=setTimeout(this.onResetOffline,6e4)),{channel:e,channelLogin:t,primaryColorHex:e&&e.primaryColorHex,live:n,hostedChannel:i,viewerCount:a}},t.prototype.updateVideoSource=function(e,t){var n,i,a,r,o,s,l,c,d;if(e.route)i=e.route.match.params.channelLogin||"",a=e.route,r=Object(k.a)(a)||"",o=Object(k.e)(a)||"",s=Object(k.b)(a)||"",l="",c=y.a.NONE,d="",""!==r?(c=y.a.CLIP,l=Object(S.h)(i,r)):o||s?(c=s?y.a.COLLECTION:y.a.VIDEO,l=Object(S.j)(i,o,s)):(c=y.a.LIVE,l="/"+i,d=i),n={clipSlug:r,collectionID:s,contentCanonicalUrl:l,contentType:c,hostedChannel:null,videoID:o,videoPlayerSource:d};else if(e.live){n=function(e,t){var n=e.login||"",i=y.a.LIVE,a="/"+n,r=n,o=E(e),s=t&&t.roles&&t.roles.isSiteAdmin;return o&&!s&&(r=o.login),{clipSlug:"",collectionID:"",contentCanonicalUrl:a,contentType:i,hostedChannel:o,videoID:"",videoPlayerSource:r}}(e.live,t)}else e.clip?n=function(e){var t=e.broadcaster&&e.broadcaster.login,n=y.a.CLIP,i=Object(S.h)(t||"",e.slug);return{clipSlug:e.slug,collectionID:"",contentCanonicalUrl:i,contentType:n,hostedChannel:null,videoID:"",videoPlayerSource:""}}(e.clip):e.video?n=C(e.video,e.collection):e.collection&&(n=function(e){var t=Object(k.c)(e);if(t)return C(t,e);var n=e.owner&&e.owner.login;return{clipSlug:"",collectionID:e.id,contentCanonicalUrl:Object(S.j)(n,void 0,e.id),contentType:y.a.COLLECTION,hostedChannel:null,videoID:"",videoPlayerSource:""}}(e.collection));return n||(this.logger.warn("Unable to set context.",e),{})},t.prototype.getPageType=function(e){if(e.match.params.standaloneType){if(e.match.params.standaloneType===v.e.Videos)return v.c.Videos;if(e.match.params.standaloneType===v.e.Collections)return v.c.Videos}if(void 0===e.match.params.page){if(e.match.params.contentType){if(e.match.params.contentType===v.a.Video)return v.c.Videos;if(e.match.params.contentType===v.a.Clip)return v.c.Clips;if(e.match.params.contentType===v.a.Collection)return v.c.Videos}return v.c.About}return e.match.params.page&&v.d.has(e.match.params.page)?e.match.params.page:(o.k.errorAndReport(new Error,"Unknown Page Type: '"+e.match.params.page+"' in route: "+e.match.url),v.c.About)},t.prototype.setupPubsub=function(e,t){var n=this;if(!this.pubsubHostTargetChange||this.pubsubHostTargetChange.channelLogin!==t)if(this.pubsubHostTargetChange&&this.pubsubHostTargetChange.unsubscribe(),e){var i=o.p.pubsub.subscribe({topic:Object(d.M)(e),onMessage:function(i){i.type!==s.PubsubMessageType.StreamChatRoomHostTargetChange&&i.type!==s.PubsubMessageType.StreamChatRoomHostTargetChangeV2||n.handleStreamChatRoomHostTargetChange(i,t,e)}});this.pubsubHostTargetChange={channelLogin:t,unsubscribe:i}}else this.pubsubHostTargetChange=void 0;if(!this.pubsubViewCountUpdate||this.pubsubViewCountUpdate.channelLogin!==t)if(this.pubsubViewCountUpdate&&this.pubsubViewCountUpdate.unsubscribe(),t&&e){var a=Object(d.W)(e);i=o.p.pubsub.subscribe({topic:a,onMessage:function(e){e.type===s.PubsubMessageType.ViewCount&&n.handleViewCount(e),e.type===s.PubsubMessageType.ChannelStreamDown&&n.handleStreamDown()}});this.pubsubViewCountUpdate={channelLogin:t,unsubscribe:i}}else this.pubsubViewCountUpdate=void 0;if(!this.pubsubBroadcastSettings||this.pubsubBroadcastSettings.channelLogin!==t)if(this.pubsubBroadcastSettings&&this.pubsubBroadcastSettings.unsubscribe(),e){i=o.p.pubsub.subscribe({topic:Object(d.i)(e),onMessage:function(e){e.type===s.PubsubMessageType.BroadcastSettingsUpdate&&(n.clearBroadcastSettingsUpdateInterval(),n.handleBroadcastSettingsUpdateTimeout=setTimeout((function(){n.handleBroadcastSettingsUpdate(e)}),Object(h.a)(n.state.viewerCount||1)))}});this.pubsubBroadcastSettings={channelLogin:t,unsubscribe:i}}else this.pubsubBroadcastSettings=void 0},t.prototype.handleStreamChatRoomHostTargetChange=function(e,t,n){if(e.data.channel_id===n){o.o.track(u.SpadeEventType.HostModeDebug,{log_type:"pubsub_msg_v2",channel:t,data_channel_id:e.data.channel_id,data_target_channel_id:e.data.target_channel_id,data_target_channel_login:e.data.target_channel_login,prev_host_channel_login:this.state.hostedChannel&&this.state.hostedChannel.login}),this.channelStateChangeReason="pubsub";var i=e.data.channel_login,a=e.data.target_channel_id,r=(e.data.target_channel_login||"").toLowerCase();if(t!==i)return;a&&r?(this.setState({hostedChannel:{id:a,login:r,displayName:r,profileImageURL:null}}),this.fetchPubsubHostedChannel(r)):(this.setState({hostedChannel:null}),this.state.channel&&this.updateHost(this.state.channel,null));var s=this.state.currentUser&&this.state.currentUser.roles&&this.state.currentUser.roles.isSiteAdmin;this.state.contentType!==y.a.LIVE||s||this.setState({videoPlayerSource:r||t})}},t.prototype.updateHost=function(e,t){Object(c.h)({fragment:I,fragmentName:"channel",id:Object(l.a)(e),variables:{includeChanlets:!Object(f.a)()},mutator:function(e){return e?a(e,(function(e){return Object(i.__assign)(Object(i.__assign)({},e),{hosting:t&&t.hosting||null})})):e}})},t.prototype.fetchPubsubHostedChannel=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:this.nextHostTarget=e,this.channelStateChangeReason="fetch_after_pubsub",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.p.apollo.client.query({query:M,variables:{hostedChannelLogin:e}})];case 2:return(t=i.sent()).data.user&&this.nextHostTarget===e&&(n=t.data.user,this.setState({hostedChannel:{id:n.id||"",login:n.login||"",displayName:n.displayName||"",profileImageURL:n.profileImageURL}})),[3,4];case 3:return a=i.sent(),Object(w.d)()?this.logger.warn("failed to fetch hosted channel data",{hostedChannelLogin:e}):this.logger.errorAndReport(a,"failed to fetch hosted channel data",{hostedChannelLogin:e}),[3,4];case 4:return[2]}}))}))},t.prototype.handleViewCount=function(e){e.viewers!==this.state.viewerCount&&this.setState({live:!0,viewerCount:e.viewers});var t=this.state.channel;t&&t.stream&&e.viewers!==t.stream.viewersCount&&this.updateStreamOnChannel(t,(function(t){return a(t,(function(t){return Object(i.__assign)(Object(i.__assign)({},t),{viewersCount:e.viewers})}))})),this.clearResetOfflineTimer(),this.resetOfflineTimer=setTimeout(this.onResetOffline,6e4)},t.prototype.handleStreamDown=function(){o.o.track(u.SpadeEventType.ChannelOffline,{offline_type:"stream_down_pubsub",channel:this.state.channel&&this.state.channel.login}),this.setState({live:!1})},t.prototype.handleBroadcastSettingsUpdate=function(e){if(this.state.channel){var t=this.state.channel;Object(c.h)({fragment:I,fragmentName:"channel",id:Object(l.a)(t),variables:{includeChanlets:!Object(f.a)()},mutator:function(t){if(!t)return t;if(null!==e.status){var n=null;return e.game&&e.game_id&&(n={__typename:"Game",name:e.game,displayName:e.game,id:e.game_id,boxArtURL:Object(p.a)(e.game,{width:83,height:113})}),a(t,(function(t){var a,r=t.stream&&Object(i.__assign)(Object(i.__assign)({},t.stream),{title:e.status,game:n}),o=t.lastBroadcast&&Object(i.__assign)(Object(i.__assign)({},t.lastBroadcast),{title:e.status,game:n}),s=t.broadcastSettings&&Object(i.__assign)(Object(i.__assign)({},t.broadcastSettings),{title:null!==(a=e.status)&&void 0!==a?a:t.broadcastSettings.title,game:n});return Object(i.__assign)(Object(i.__assign)({},t),{stream:r,lastBroadcast:o,broadcastSettings:s})}))}return t}})}},t.prototype.updateStreamOnChannel=function(e,t){Object(c.h)({fragment:I,fragmentName:"channel",id:Object(l.a)(e),variables:{includeChanlets:!Object(f.a)()},mutator:function(e){return e&&e.stream?a(e,(function(e){return Object(i.__assign)(Object(i.__assign)({},e),{stream:t(e.stream)})})):e}})},t.prototype.clearResetOfflineTimer=function(){this.resetOfflineTimer&&(clearTimeout(this.resetOfflineTimer),this.resetOfflineTimer=void 0)},t.prototype.clearBroadcastSettingsUpdateInterval=function(){clearInterval(this.handleBroadcastSettingsUpdateTimeout),this.handleBroadcastSettingsUpdateTimeout=void 0},t}(r.Component)},tkie:function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("q1tI"),o=n("/MKj"),s=n("ANjH"),l=n("yR8l"),c=n("x7UT"),d=n("0Log"),u=n("/aPz"),m=n("kRBY"),p=n("bBAb"),h=n("6C1D"),f=n("hO8c"),g=n("+pBb"),v=n("3sMn"),b=n("1rIY");!function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.RECONNECTING=1]="RECONNECTING",e[e.CONNECTED=2]="CONNECTED"}(i||(i={}));var k=Object(b.a)("ChatConnectionStateContext",{chatConnectionState:i.DISCONNECTED,updateChatConnectionState:function(){return null}}),y=k.context,S=k.withContext,C=function(e){function t(t){var n=e.call(this,t)||this;return n.updateChatConnectionState=function(e){n.setState({chatConnectionState:e})},n.state={chatConnectionState:i.DISCONNECTED,updateChatConnectionState:n.updateChatConnectionState},n}return Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement(y.Provider,{value:this.state},this.props.children)},t}(r.Component),E=n("RS58"),w=n("+l4d"),O=n("X9Go"),D=n("w09P"),N=n("eDVu"),_=n("/gva");var I=n("GnwI"),M=n("a0DK"),T=n("MkkA"),j=n("JPUa"),P=n("/7QA"),L=n("DMoW"),R=(n("7NxT"),n("vSeP")),F=n("XIZb"),A=Object(F.a)("ChatConnection"),x=A.withChatServiceManager,U=(0,A.withContext)((function(e){return{chatConnectionAPI:e.serviceAPI,setChatConnectionAPI:e.setServiceAPI}})),B=Object(F.a)("ChatRestrictions"),V=B.context,H=B.withChatServiceManager,G=B.withContext,q=(V.Provider,H),W=G((function(e){return{chatRestrictionsAPI:e.serviceAPI,setChatRestrictionsAPI:e.setServiceAPI}})),z=n("nInp"),Q=n("2EzP"),Y=n("26nv"),K=n("ZS2+"),$=n("/0dD"),X=n("Mj6i"),Z=n("jZLd"),J=n("XDQu"),ee=n("ilvU"),te=n("Tznh"),ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){return this.props.hideOnboardingPrompts?null:r.createElement(r.Fragment,null,this.props.children)},t}(r.Component);var ie=Object(v.b)((function(e){return{hideOnboardingPrompts:e.hideOnboardingPrompts}}))(ne),ae=n("UBeo"),re=n("jBwP"),oe=n("xzy9"),se=n("3tQW"),le=n("fezU"),ce=n("ZtEv"),de=n("aF6k");var ue=n("3kHA"),me=n("lZdE");function pe(e){switch(e.type){case ce.b.Message:return[{displayName:e.user.userDisplayName,id:e.user.userID,login:e.user.userLogin}];case ce.b.Ritual:return[{displayName:e.message.user.userDisplayName,id:e.message.user.userID,login:e.message.user.userLogin}];case ce.b.Raid:return[{displayName:e.params.displayName,id:e.params.userID,login:e.params.login}];case ce.b.Resubscription:case ce.b.Subscription:return[{displayName:e.user.displayName,id:e.user.userID,login:e.user.username}];case ce.b.SubGift:return[{displayName:e.user.displayName,id:e.user.userID,login:e.user.username},{displayName:e.recipientDisplayName,id:e.recipientID,login:e.recipientLogin}];case ce.b.ChannelPointsReward:return[{displayName:e.displayName,id:e.userID,login:e.login}];default:return[]}}var he=function(e){function t(t){var n=e.call(this,t)||this;return n.getActiveChatters=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=1/0),n.isDirty&&n.sortChatters(),!e)return n.sortedChatters.slice(0,t);var i=new RegExp("^"+Object(me.a)(e),"i");return n.sortedChatters.filter((function(e){return i.test(e.login)||e.displayName&&i.test(e.displayName)})).slice(0,t)},n.handleMessage=function(e){pe(e).forEach((function(e){return n.handleActiveChatter({displayName:e.displayName,login:e.login})}))},n.getActiveChatterLoginFromDisplayName=function(e){return Object.keys(n.activeChatters).find((function(t){return n.activeChatters[t]&&n.activeChatters[t].displayName===e}))||null},n.reset(),n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.setActiveChattersAPI({getActiveChatters:this.getActiveChatters,getActiveChatterLoginFromDisplayName:this.getActiveChatterLoginFromDisplayName}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage)},t.prototype.componentWillUnmount=function(){this.props.setActiveChattersAPI(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.handleMessage)},t.prototype.render=function(){return null},t.prototype.componentDidUpdate=function(e){this.props.channelLogin!==e.channelLogin&&this.reset(),this.props.currentUserLogin&&this.props.currentUserLogin!==e.currentUserLogin&&this.activeChatterLogins.has(this.props.currentUserLogin)&&(this.isDirty=!0,this.removeActiveChatter(this.props.currentUserLogin)),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.handleMessage),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage))},t.prototype.reset=function(){this.activeChatterLogins=new Set,this.activeChatters={},this.isDirty=!0,this.sortedChatters=[]},t.prototype.handleActiveChatter=function(e){e.login!==this.props.channelLogin&&e.login!==this.props.currentUserLogin&&(this.activeChatterLogins.has(e.login)?(this.activeChatterLogins.delete(e.login),this.addActiveChatter(e)):(this.addActiveChatter(e),this.trimActiveChatters(),this.isDirty=!0))},t.prototype.addActiveChatter=function(e){this.activeChatterLogins.add(e.login),this.activeChatters[e.login]=e},t.prototype.removeActiveChatter=function(e){this.activeChatterLogins.delete(e),delete this.activeChatters[e]},t.prototype.trimActiveChatters=function(){if(!(this.activeChatterLogins.size<=300))for(var e=this.activeChatterLogins.size-300,t=this.activeChatterLogins.values(),n=0;n<e;n++){var i=t.next().value;this.removeActiveChatter(i)}},t.prototype.sortChatters=function(){var e=this,t=[{displayName:this.props.channelDisplayName||void 0,login:this.props.channelLogin}],n=Object.keys(this.activeChatters).map((function(t){return e.activeChatters[t]}));n.sort((function(e,t){return e.login<t.login?-1:e.login>t.login?1:0})),this.sortedChatters=t.concat(n),this.isDirty=!1},t}(r.Component);var fe=Object(s.d)(Object(o.b)((function(e){var t=Object(m.e)(e);return{currentUserLogin:t&&t.login}})),R.a,Q.a)(he),ge=n("WQCf"),ve=n("HzXE"),be=n("YV90"),ke=n("f00E"),ye=n("D7An"),Se=n("kz7j"),Ce=n("XmgI"),Ee=n("2xye");function we(e){var t;return((t={})[ue.b.Viewer]="viewer",t[ue.b.Vip]="vip",t[ue.b.Moderator]="moderator",t[ue.b.Broadcaster]="broadcaster",t)[e]}var Oe=n("buTd"),De=n("amaQ"),Ne=n("pb7T");var _e=n("5RPi");var Ie=n("TApp");var Me=n("ptRJ");var Te=n("oK83");var je=n("zwF8"),Pe=n("pTg8"),Le=n("oi4T"),Re=n("OpME"),Fe=n("XQbB"),Ae=function(e){function t(t){var n=e.call(this,t)||this;return n.hasConnected=!1,n.connectingToChatMessage=function(){return Object(P.d)("Connecting to Chat","ChatConnection")},n.sendMessage=function(e){var t=n.props.handleCommand(e,n.props.channelLogin);return t.handled?t.result&&t.result.deferred&&t.result.deferred.then((function(e){var t=e.notice,i=e.error;t&&(i?n.handleTrayNotice(t,i):n.addMessage(Object(Ie.a)(t))),n.trackChatCommand(i)})):n.client.sendCommand(n.props.channelLogin,e).catch((function(e){P.k.warn("Failed to send message, or message timeout",e)})),t.result},n.onJoinedEvent=function(e){n.logger.debug("Connected",n.props.channelLogin),n.props.latencyTracking.reportInteractive(),n.hasConnected||(Object(Le.c)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode}),n.hasConnected=!0),n.chatConnected&&n.props.latencyTracking.reportCustomEvent(n.chatConnected),n.props.updateChatConnectionState(i.CONNECTED),n.postMessageToCurrentChannel(e,{type:ce.b.Connected,id:Object(de.a)("connected")}),n.props.clearModifierTray()},n.onDisconnectedEvent=function(e){var t;n.props.latencyTracking.reportInteractive(),n.props.updateChatConnectionState(i.DISCONNECTED),n.addMessage((t=e.reason,{type:ce.b.Disconnected,id:Object(de.a)("disconnected"),reason:t})),n.props.clearModifierTray()},n.onReconnectingEvent=function(e){n.props.updateChatConnectionState(i.RECONNECTING),n.addMessage({type:ce.b.Reconnect,id:Object(de.a)("reconnect")}),n.props.setModifierTray({title:n.connectingToChatMessage(),sendButtonOverride:je.b.NoOverride,persistent:!0,icon:r.createElement(Fe.a,{size:Fe.b.Small}),disableChat:!0})},n.onHostedEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.from,i=e.isAuto,a=e.viewers,{type:ce.b.Hosted,id:Object(de.a)("hosted-"+t),hostingChannel:t,isAutohost:i,viewerCount:a}));var t,i,a},n.onHostingEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t=e.target,{type:ce.b.Hosting,id:Object(de.a)("hosting"),hostedChannel:t})),n.trackChatCommand()},n.onUnhostEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t=e.channel,{type:ce.b.Unhost,id:Object(de.a)("unhost-"+t)})),n.trackChatCommand()},n.onChatMessageEvent=function(e){n.postMessageToCurrentChannel(e,n.convertMessage(e))},n.onChatActionEvent=function(e){var t=n.props.bitsConfig||Ce.a,i=Object(Me.a)(ce.c.Action,e.action,e.message.user,t,n.getFilterFlagOptions(e.message.flags));n.postMessageToCurrentChannel(e,i)},n.onChatNoticeEvent=function(e){if(ce.f.has(e.msgid))n.handleTrayNotice(e.body,e.msgid);else if("msg_rejected"!==e.msgid){var t=(i=e.channel,a=e.msgid,r=e.body,{type:ce.b.Notice,id:Object(de.a)("notice"),channel:i,msgid:a,message:r});n.postMessageToCurrentChannel(e,t)}var i,a,r;ce.f.has(e.msgid)&&n.trackChatCommand(e.msgid)},n.onTimeoutEvent=function(e){n.onModerationEvent(ce.e.Timeout,e)},n.onBanEvent=function(e){n.onModerationEvent(ce.e.Ban,e)},n.onClearMsgEvent=function(e){var t,i,a;n.postMessageToCurrentChannel(e,(t=e.userLogin,i=e.targetMessageID,a=e.body,{type:ce.b.Moderation,moderationType:ce.e.Delete,id:Object(de.a)(t+"-mod"),userLogin:t,targetMessageID:i,body:a}))},n.onModerationEvent=function(e,t){var i,a,r,o;n.postMessageToCurrentChannel(t,(i=e,a=t.userLogin,r=t.reason,o=t.duration,{type:ce.b.Moderation,moderationType:i,id:Object(de.a)(a+"-mod"),userLogin:a,reason:r,duration:o}))},n.onSubscriptionEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,user:e.user,methods:e.methods},{type:ce.b.Subscription,id:Object(de.a)(t.user.username+"-sub"),channel:t.channel.slice(1),user:t.user,methods:t.methods}))},n.onSubscriptionGiftEvent=function(e){var t,i=(t={channel:e.channel,user:e.user,methods:e.methods,recipientDisplayName:e.recipientName,recipientID:e.recipientID,recipientLogin:e.recipientLogin,senderCount:e.senderCount},{type:ce.b.SubGift,id:Object(de.a)(t.user.username+"-sub"),channel:t.channel.slice(1),user:t.user,methods:t.methods,recipientDisplayName:t.recipientDisplayName,recipientID:t.recipientID,recipientLogin:t.recipientLogin,senderCount:t.senderCount});n.postMessageToCurrentChannel(e,i);var a=e.channel.toLowerCase().replace("#","");if(e.recipientID===n.props.currentUserID&&a===n.props.channelLogin)if("control"!==P.p.experiments.getAndTrackAssignment(ye.c.ChatPrivateCalloutRedesign)){var r={event:{type:Oe.a.ThankSubGifter,gifterDisplayName:i.user.displayName,channelLogin:a},key:i.id};n.props.pushCallout(r)}else n.props.channelID&&n.props.currentUserLogin&&Object(De.g)({channelID:n.props.channelID,channelLogin:n.props.channelLogin,calloutType:De.d.CommunitySubGift,privateCalloutSID:Object(ke.c)(),hasCTA:!0})},n.onAnonSubscriptionGiftEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,methods:e.methods,recipientDisplayName:e.recipientName,recipientID:e.recipientID,recipientLogin:e.recipientLogin},{type:ce.b.AnonSubGift,id:Object(de.a)(t.recipientDisplayName+"-sub"),channel:t.channel.slice(1),methods:t.methods,recipientDisplayName:t.recipientDisplayName,recipientID:t.recipientID,recipientLogin:t.recipientLogin}))},n.onSubscriptionMysteryGiftEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,user:e.user,plan:e.plan,massGiftCount:e.massGiftCount,senderCount:e.senderCount},{type:ce.b.SubMysteryGift,id:Object(de.a)(t.user.username+"-sub"),channel:t.channel.slice(1),user:t.user,plan:t.plan,massGiftCount:t.massGiftCount,senderCount:t.senderCount}))},n.onAnonSubscriptionMysteryGiftEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,plan:e.plan,massGiftCount:e.massGiftCount},{type:ce.b.AnonSubMysteryGift,id:Object(de.a)(t.massGiftCount+"-sub"),channel:t.channel.slice(1),plan:t.plan,massGiftCount:t.massGiftCount}))},n.onCommunityPayForwardEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={user:e.user,channel:e.channel,priorGifter:{id:e.priorGifterID,displayName:e.priorGifterName,anonymous:e.priorGifterAnonymous}},{type:ce.b.CommunityPayForward,id:Object(de.a)(t.user.username+"-sub"),user:t.user,channel:t.channel.slice(1),priorGifter:t.priorGifter}))},n.onStandardPayForwardEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={user:e.user,channel:e.channel,priorGifter:{id:e.priorGifterID,displayName:e.priorGifterName,anonymous:e.priorGifterAnonymous},recipient:{id:e.recipientID,displayName:e.recipientName}},{type:ce.b.StandardPayForward,id:Object(de.a)(t.user.username+"-sub"),user:t.user,channel:t.channel.slice(1),priorGifter:t.priorGifter,recipient:t.recipient}))},n.onBitsCharityEvent=function(e){var t,i,a,r,o,s;n.postMessageToCurrentChannel(e,(t=e.total,i=e.charityName,a=e.daysLeft,r=e.hoursLeft,o=e.hashtag,s=e.learnMore,{type:ce.b.BitsCharity,id:Object(de.a)("charity"),total:t,charityName:i,daysLeft:a,hoursLeft:r,hashtag:o,learnMore:s}))},n.onResubscriptionEvent=function(e){var t,i;n.postMessageToCurrentChannel(e,(t={channel:e.channel,user:e.user,methods:e.methods,months:e.months,messageBody:e.body,cumulativeMonths:e.cumulativeMonths,shouldShareStreakTenure:e.shouldShareStreakTenure,streakMonths:e.streakMonths},i=void 0,t.messageBody&&(i=Object(Me.a)(ce.c.Post,t.messageBody,t.user,Ce.a,null)),{type:ce.b.Resubscription,id:Object(de.a)(t.user.username+"-sub"),channel:t.channel.slice(1),user:t.user,methods:t.methods,message:i,months:t.months,cumulativeMonths:t.cumulativeMonths,shouldShareStreakTenure:t.shouldShareStreakTenure,streakMonths:t.streakMonths}))},n.onGiftPaidUpgradeEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,promoGiftTotal:e.promoGiftTotal,promoName:e.promoName,senderLogin:e.senderLogin,senderName:e.senderName,user:e.user},{type:ce.b.GiftPaidUpgrade,id:Object(de.a)(t.user.username+"-sub"),channel:t.channel.slice(1),promoGiftTotal:t.promoGiftTotal,promoName:t.promoName,senderLogin:t.senderLogin,senderName:t.senderName,user:t.user}))},n.onAnonGiftPaidUpgradeEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,promoGiftTotal:e.promoGiftTotal,promoName:e.promoName,user:e.user},{type:ce.b.AnonGiftPaidUpgrade,id:Object(de.a)(t.user.username+"-sub"),channel:t.channel.slice(1),promoGiftTotal:t.promoGiftTotal,promoName:t.promoName,user:t.user}))},n.onPrimePaidUpgradeEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,plan:e.plan,user:e.user},{type:ce.b.PrimePaidUpgrade,id:Object(de.a)(t.user.username+"-sub"),channel:t.channel.slice(1),plan:t.plan,user:t.user}))},n.onPrimeCommunityGiftReceivedEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={giftName:e.giftName,sender:e.sender,receiver:e.receiver,user:e.user},{type:ce.b.PrimeCommunityGiftReceivedEvent,id:Object(de.a)("primecommunitygiftreceived"),giftName:t.giftName,sender:t.sender?t.sender:t.user?t.user.displayName:"",receiver:t.receiver}))},n.onExtendSubscriptionEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t={channel:e.channel,body:e.body,benefitEndMonth:e.benefitEndMonth,user:e.user},{type:ce.b.ExtendSubscription,id:Object(de.a)(t.user.username+"-sub"),channel:t.channel.slice(1),body:t.body,benefitEndMonth:t.benefitEndMonth,user:t.user}))},n.onRoomModsEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.usernames,{type:ce.b.RoomMods,id:Object(de.a)("roommods"),moderatorLogins:t}));var t},n.onRoomStateEvent=function(e){var t;n.postMessageToCurrentChannel(e,(t=e.state,{type:ce.b.RoomState,id:Object(de.a)("roomstate"),state:t})),n.trackChatCommand()},n.onEmoteOnlyModeEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.enabled,{type:ce.b.EmoteOnlyMode,id:Object(de.a)("emoteonlymode"),enabled:t}));var t},n.onSubscriberOnlyModeEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.enabled,{type:ce.b.SubscriberOnlyMode,id:Object(de.a)("subscriber-only"),enabled:t}));var t},n.onR9KModeEvent=function(e){return n.postMessageToCurrentChannel(e,(t=e.enabled,{type:ce.b.R9KMode,id:Object(de.a)("r9kmode"),enabled:t}));var t},n.onClearChatEvent=function(e){n.postMessageToCurrentChannel(e,{type:ce.b.Clear,id:Object(de.a)("clear")}),n.trackChatCommand()},n.onRaidEvent=function(e){var t,i,a;n.postMessageToCurrentChannel(e,(t=e.channel,i=e.userLogin,a=e.params,{type:ce.b.Raid,id:Object(de.a)("raid"),channel:t,userLogin:i,params:a})),n.trackChatCommand()},n.onUnraidEvent=function(e){var t,i,a;n.postMessageToCurrentChannel(e,(t=e.channel,i=e.userLogin,a=e.message,{type:ce.b.Unraid,id:Object(de.a)("unraid"),channel:t,userLogin:i,message:a})),n.trackChatCommand()},n.onRitualEvent=function(e){var t,i;n.postMessageToCurrentChannel(e,(t=e.type,i=n.convertMessage(e),{type:ce.b.Ritual,id:Object(de.a)(i.user.userLogin+"-"+t+"-ritual"),ritualType:t,message:i}))},n.onFirstCheerEvent=function(e){var t,i;n.postMessageToCurrentChannel(e,(t={message:n.convertMessage(e)},i=t.message,{type:ce.b.FirstCheerMessage,id:Object(de.a)(i.user.userLogin+"-firstcheer"),message:i}))},n.onBitsBadgeTierEvent=function(e){var t,i,a;n.postMessageToCurrentChannel(e,(t=n.convertMessage(e),i=e.threshold,a=e.message.user,{type:ce.b.BitsBadgeTierMessage,id:Object(de.a)("bits-badge-tier"),message:t,threshold:i,user:a}))},n.onBadgesUpdatedEvent=function(e){return n.addMessage((t=e.username,i=e.badges,a=e.badgeDynamicData,{type:ce.b.BadgesUpdated,id:Object(de.a)("updateBadges"),userName:t,badges:i,badgeDynamicData:a}));var t,i,a},n.onPurchaseEvent=function(e){var t=n.props.bitsConfig||Ce.a;n.postMessageToCurrentChannel(e,function(e,t,n,i){return{bitsConfig:i,message:t,purchase:e,timestamp:n,id:Object(de.a)(t.user.userLogin+"-purchase"),type:ce.b.Purchase}}(e.purchase,n.convertMessage(e),e.timestamp,t))},n.onCrateEvent=function(e){var t,i;n.postMessageToCurrentChannel(e,(t=n.convertMessage(e),i=e.selectedCount,{type:ce.b.CrateGift,id:Object(de.a)("crate"),message:t,selectedCount:i}))},n.onRewardGiftEvent=function(e){var t,i,a,r,o,s;n.postMessageToCurrentChannel(e,(t=e.user,i=e.triggerType,a=e.triggerAmount,r=e.selectedCount,o=e.totalRewardCount,s=e.domain,{type:ce.b.RewardGift,id:Object(de.a)("rewardGift"),triggerType:i,triggerAmount:a,selectedCount:r,totalRewardCount:o,messageID:t?t.id:null,userID:t?t.userID:null,userLogin:t?t.username:null,displayName:t?t.displayName:null,domain:s,sourceType:Te.b.chat_message}))},n.onChannelPointsRewardEvent=function(e){var t=n.convertMessage(e);n.postMessageToCurrentChannel(e,Object(_e.a)({id:t.id,message:t,reward:Object(Pe.a)(n.props.rewardMap,e.rewardID),userDisplayName:t.user.userDisplayName,userID:t.user.userID,userLogin:t.user.userLogin}))},n.convertMessage=function(e){var t=n.props.bitsConfig||Ce.a;return Object(Me.a)(ce.c.Post,e.message.body,e.message.user,t,n.getFilterFlagOptions(e.message.flags))},n.handleTrayNotice=function(e,t){var i;switch(t){case"unrecognized_cmd":i=Object(P.d)("Unrecognized Command","ChatConnection");break;case"missing_parameters":i=Object(P.d)("Missing Parameters","ChatConnection");break;default:i=Object(P.d)("Invalid Parameters","ChatConnection")}var a,o=n.props.prevCommand;"unrecognized_cmd"!==t&&o&&(a="/"+o.command+" "),n.props.setModifierTray({title:i,body:e,timeout:3e4,icon:r.createElement(Ne.a,null),inputValue:a,type:je.a.CommandWarning})},n.logger=P.k.withCategory("chat-service"),n.logger.debug("Created"),n.service=P.p.tmi,n.client=P.p.tmi.client,n.disabled=P.p.tmi.disabled,n.registerCustomLatencyEvents(),n}return Object(a.__extends)(t,e),t.prototype.render=function(){return null},t.prototype.componentDidMount=function(){this.props.setChatConnectionAPI({sendMessage:this.sendMessage}),this.shouldConnectOnMount()?(this.props.setModifierTray({title:this.connectingToChatMessage(),sendButtonOverride:je.b.NoOverride,persistent:!0,icon:r.createElement(Fe.a,{size:Fe.b.Small}),disableChat:!0}),this.join(this.props.channelLogin)):this.props.latencyTracking.reportInteractive(),this.props.emoteSets&&this.client.updateEmoteMap(Object(Re.d)(this.props.emoteSets)),null===this.props.channelID&&this.skipLatencyMeasurements()},t.prototype.componentWillUnmount=function(){clearTimeout(this.reconnectionTimeout),this.props.setChatConnectionAPI(),this.disconnect(this.props.channelLogin)},t.prototype.componentDidUpdate=function(e){var t=this;(!this.props.shouldConnect&&e.shouldConnect||null===this.props.channelID&&this.props.channelID!==e.channelID)&&this.skipLatencyMeasurements(),this.props.emoteSets&&this.props.emoteSets!==e.emoteSets&&this.client.updateEmoteMap(Object(Re.d)(this.props.emoteSets));var n=this.isUserBanned(this.props)&&!this.isUserBanned(e)&&P.b.get("banned_chat_connection",!1),i=!this.isUserBanned(this.props)&&this.isUserBanned(e)&&P.b.get("banned_chat_connection",!1);!this.props.shouldConnect&&e.shouldConnect||n?(this.disconnect(e.channelLogin),this.props.clearModifierTray()):(this.props.authToken!==e.authToken||this.props.channelLogin!==e.channelLogin||this.props.currentUserID!==e.currentUserID||this.props.shouldConnect&&!e.shouldConnect||i)&&(this.logger.debug("Reconnecting..."),this.registerCustomLatencyEvents(),i?this.reconnectionTimeout=setTimeout((function(){return t.join(t.props.channelLogin)}),1e3):this.join(this.props.channelLogin))},t.prototype.isUserBanned=function(e){return!(!e.data||e.data.loading||e.data.error||!e.data.chatRoomBanStatus)&&e.data.chatRoomBanStatus.isPermanent},t.prototype.join=function(e){this.logger.debug("Joining channel and binding all event listeners",this.props.channelLogin),this.hasConnected=!1,this.joinedChannel&&this.joinedChannel!==e&&this.service.part(this.joinedChannel),this.joinedChannel=e,this.connectHandlers(),this.service.join(e)},t.prototype.disconnect=function(e){this.logger.debug("Parting channel and unbinding all event listeners",e),this.disconnectHandlers(),this.service.part(e),this.skipLatencyMeasurements()},t.prototype.getFilterFlagOptions=function(e){return e&&0!==e.length?this.props.chatFilterExperimentMembership===te.b.Excluded||!this.props.viewerChatFilterEnabled||this.props.isCurrentUserModerator?null:{list:e,preferences:this.props.viewerChatFilterSettings}:null},t.prototype.connectHandlers=function(){this.disconnectHandlers(),this.client.events.joined(this.onJoinedEvent),this.client.events.disconnected(this.onDisconnectedEvent),this.client.events.reconnecting(this.onReconnectingEvent),this.client.events.chat(this.onChatMessageEvent),this.client.events.usernotice(this.onChatMessageEvent),this.client.events.notice(this.onChatNoticeEvent),this.client.events.action(this.onChatActionEvent),this.client.events.badgesupdated(this.onBadgesUpdatedEvent),this.client.events.hosted(this.onHostedEvent),this.client.events.hosting(this.onHostingEvent),this.client.events.unhost(this.onUnhostEvent),this.client.events.purchase(this.onPurchaseEvent),this.client.events.crate(this.onCrateEvent),this.client.events.rewardgift(this.onRewardGiftEvent),this.client.events.ritual(this.onRitualEvent),this.client.events.firstcheer(this.onFirstCheerEvent),this.client.events.bitsbadgetier(this.onBitsBadgeTierEvent),this.client.events.channelpointsreward(this.onChannelPointsRewardEvent),this.client.events.subscription(this.onSubscriptionEvent),this.client.events.resub(this.onResubscriptionEvent),this.client.events.giftpaidupgrade(this.onGiftPaidUpgradeEvent),this.client.events.anongiftpaidupgrade(this.onAnonGiftPaidUpgradeEvent),this.client.events.primepaidupgrade(this.onPrimePaidUpgradeEvent),this.client.events.extendsub(this.onExtendSubscriptionEvent),this.client.events.subgift(this.onSubscriptionGiftEvent),this.client.events.anonsubgift(this.onAnonSubscriptionGiftEvent),this.client.events.submysterygift(this.onSubscriptionMysteryGiftEvent),this.client.events.anonsubmysterygift(this.onAnonSubscriptionMysteryGiftEvent),this.client.events.communitypayforward(this.onCommunityPayForwardEvent),this.client.events.standardpayforward(this.onStandardPayForwardEvent),this.client.events.timeout(this.onTimeoutEvent),this.client.events.ban(this.onBanEvent),this.client.events.clearchat(this.onClearChatEvent),this.client.events.clearmsg(this.onClearMsgEvent),this.client.events.raid(this.onRaidEvent),this.client.events.unraid(this.onUnraidEvent),this.client.events.mods(this.onRoomModsEvent),this.client.events.roomstate(this.onRoomStateEvent),this.client.events.subscribers(this.onSubscriberOnlyModeEvent),this.client.events.emoteonlymode(this.onEmoteOnlyModeEvent),this.client.events.r9kmode(this.onR9KModeEvent),this.client.events.charity(this.onBitsCharityEvent),this.client.events.primecommunitygiftreceived(this.onPrimeCommunityGiftReceivedEvent)},t.prototype.disconnectHandlers=function(){this.client.events.remove("joined",this.onJoinedEvent),this.client.events.remove("disconnected",this.onDisconnectedEvent),this.client.events.remove("reconnecting",this.onReconnectingEvent),this.client.events.remove("chat",this.onChatMessageEvent),this.client.events.remove("usernotice",this.onChatMessageEvent),this.client.events.remove("notice",this.onChatNoticeEvent),this.client.events.remove("action",this.onChatActionEvent),this.client.events.remove("badgesupdated",this.onBadgesUpdatedEvent),this.client.events.remove("hosted",this.onHostedEvent),this.client.events.remove("hosting",this.onHostingEvent),this.client.events.remove("unhost",this.onUnhostEvent),this.client.events.remove("purchase",this.onPurchaseEvent),this.client.events.remove("crate",this.onCrateEvent),this.client.events.remove("rewardgift",this.onRewardGiftEvent),this.client.events.remove("ritual",this.onRitualEvent),this.client.events.remove("firstcheer",this.onFirstCheerEvent),this.client.events.remove("bitsbadgetier",this.onBitsBadgeTierEvent),this.client.events.remove("channelpointsreward",this.onChannelPointsRewardEvent),this.client.events.remove("subscription",this.onSubscriptionEvent),this.client.events.remove("resub",this.onResubscriptionEvent),this.client.events.remove("subgift",this.onSubscriptionGiftEvent),this.client.events.remove("submysterygift",this.onSubscriptionMysteryGiftEvent),this.client.events.remove("communitypayforward",this.onCommunityPayForwardEvent),this.client.events.remove("standardpayforward",this.onStandardPayForwardEvent),this.client.events.remove("timeout",this.onTimeoutEvent),this.client.events.remove("ban",this.onBanEvent),this.client.events.remove("clearchat",this.onClearChatEvent),this.client.events.remove("raid",this.onRaidEvent),this.client.events.remove("unraid",this.onUnraidEvent),this.client.events.remove("mods",this.onRoomModsEvent),this.client.events.remove("roomstate",this.onRoomStateEvent),this.client.events.remove("subscribers",this.onSubscriberOnlyModeEvent),this.client.events.remove("emoteonlymode",this.onEmoteOnlyModeEvent),this.client.events.remove("r9kmode",this.onR9KModeEvent),this.client.events.remove("charity",this.onBitsCharityEvent)},t.prototype.postMessageToCurrentChannel=function(e,t){e.channel.toLowerCase().replace("#","")===this.props.channelLogin.toLowerCase()&&this.addMessage(t)},t.prototype.addMessage=function(e){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.handleMessage(e)},t.prototype.shouldConnectOnMount=function(){return this.props.shouldConnect&&!this.disabled},t.prototype.registerCustomLatencyEvents=function(){this.logger.debug("Registering custom latency events"),this.props.latencyTracking.resetCustomEvents(Se.a.Chat),this.chatInitialized=this.registerInitEvent(),this.props.latencyTracking.reportCustomEvent(this.chatInitialized),this.shouldConnectOnMount()&&(this.chatConnected=this.registerConnectedEvent())},t.prototype.registerInitEvent=function(){return this.props.latencyTracking.registerCustomEvent({benchmark:3e3,group:Se.a.Chat,key:Se.b.ChatInit,label:Se.c.Init})},t.prototype.registerConnectedEvent=function(){return this.props.latencyTracking.registerCustomEvent({benchmark:4e3,group:Se.a.Chat,key:Se.b.ChatConnected,label:Se.c.Connected})},t.prototype.skipLatencyMeasurements=function(){this.props.latencyTracking.resetCustomEvents(Se.a.Chat),this.props.latencyTracking.reportInteractive()},t.prototype.trackChatCommand=function(e){var t,n,i,a=this.props.prevCommand;if(a){if(e)n={channelID:this.props.channelID,userID:this.props.userID,userType:this.props.commandPermissionLevel,body:a.message,errorType:e},i={user_id:n.userID||"",channel_id:n.channelID||"",user_type:we(n.userType),body:n.body,error_type:(t=n.errorType,"unrecognized_cmd"===t?ue.a.UnrecognizedCommand:ce.f.has(t)?ue.a.InvalidParameters:t)},P.o.track(Ee.SpadeEventType.ChatCommandClientFail,i);else this.props.getCommands(this.props.commandPermissionLevel).map((function(e){return e.name})).includes(a.command)&&function(e){var t,n={user_id:e.userID||"",channel_id:e.channelID||"",user_type:we(e.userType),chat_command:e.chatCommand,args:(t=e.args,t.trim().split(/\s+/))};P.o.track(Ee.SpadeEventType.ChatCommandClientSuccess,n)}({channelID:this.props.channelID,userID:this.props.userID,userType:this.props.commandPermissionLevel,chatCommand:a.command,args:a.args});this.props.clearPrevCommand()}},t}(r.Component);function xe(e){return!e.channelID||!e.userID}var Ue=Object(s.d)(Object(o.b)((function(e){var t=Object(m.e)(e);return{authToken:Object(m.a)(e),currentUserLogin:t&&t.login,currentUserID:t&&t.id,viewerChatFilterEnabled:e.chat.viewerChatFilterEnabled,viewerChatFilterSettings:e.chat.viewerChatFilterSettings}})),Object(I.withLatencyTracking)("ChatConnectionService"),U,Q.a,Object(te.d)((function(e){return e})),Object(h.b)((function(e){return{getCommands:e.getCommands,handleCommand:e.handleCommand,prevCommand:e.prevCommand,clearPrevCommand:e.clearPrevCommand}})),Object(E.b)((function(e){return{setModifierTray:function(t){return e.setModifierTray(t)},clearModifierTray:e.clearModifierTray}})),Object(f.b)((function(e){return{pushCallout:function(t){return e.pushCallout(t)}}})),S((function(e){return{chatConnectionState:e.chatConnectionState,updateChatConnectionState:e.updateChatConnectionState}})),Object(p.b)((function(e){return{bitsConfig:e.bitsConfig}})),Object(be.a)((function(e){return{rewardMap:e.rewardMap}})),Object(l.a)(ve,{skip:xe,options:function(e){return{variables:{channelID:e.channelID,targetUserID:e.userID}}}}),Object(N.a)((function(e){return{query:ve,variables:{channelID:e.channelID,targetUserID:e.userID},topic:Object(u.o)(e.userID),type:ge.f.ChatRoomsUserModAction,skip:xe(e),mutator:function(t,n){return"unban"===t.data.action&&t.data.target_id===e.userID&&t.data.channel_id===e.channelID?D(n,(function(e){return e.chatRoomBanStatus}),(function(){return null})):"ban"===t.data.action&&t.data.target_id===e.userID&&t.data.channel_id===e.channelID?D(n,(function(e){return e.chatRoomBanStatus}),(function(){return{bannedUser:null,createdAt:(new Date).toISOString(),expiresAt:null,isPermanent:!0,moderator:null,__typename:"ChatRoomBanStatus"}})):n}}})))(Ae);var Be,Ve=n("olXY"),He=n("HGFl"),Ge=n("NAv5");function qe(e,t){var n=Object(Ge.addSeconds)(e,t);return Math.max(0,Object(Ge.differenceInSeconds)(n,new Date))}!function(e){e.Banned="msg_banned",e.Timedout="msg_timedout",e.Ratelimit="msg_ratelimit",e.Duplicate="msg_duplicate",e.Subsonly="msg_subsonly",e.EmoteOnly="msg_emoteonly",e.VerifiedEmail="msg_verified_email",e.Slowmode="msg_slowmode",e.Facebook="msg_facebook",e.BlizzardConnect="msg_blizzard",e.R9k="msg_r9k",e.Followers="msg_followersonly",e.FollowersZero="msg_followersonly_zero",e.FollowersFollowed="msg_followersonly_followed",e.ChannelSuspended="msg_channel_suspended",e.Suspended="msg_suspended",e.BadCharacters="msg_bad_characters"}(Be||(Be={}));var We,ze=n("nIRf"),Qe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reasons=[],t.updateHandlers=[],t.followTimerRunning=!1,t.slowModeTimerRunning=!1,t.followSecondsRemaining=0,t.slowSecondsRemaining=0,t.lastMessageSentAt=new Date(0),t.getRestrictions=function(){return 0===t.reasons.length?null:t.reasons},t.updateRestrictionState=function(){var e;if(!t.props.data||!t.props.data.channel)return!1;var n=((e={})[L.N.SUBSCRIBERS_ONLY]=t.shouldEnforceSubsOnly(),e[L.N.VERIFIED_ONLY]=t.shouldEnforceVerifiedOnly(),e[L.N.FOLLOWERS_ONLY]=t.shouldEnforceFollowersOnly(),e[L.N.SLOW_MODE]=t.shouldEnforceSlowMode(),e),i=[],a=t.extractReasons(t.props);if(a)for(var r=0,o=a;r<o.length;r++){var s=o[r];if(n[s])if(s===L.N.VERIFIED_ONLY)t.props.data.currentUser&&t.props.data.currentUser.isEmailVerified||i.push(s);else if(s===L.N.FOLLOWERS_ONLY){if(null!==t.getFollowedTime()){if(0===t.props.followerDurationSeconds)continue;if(t.props.followerDurationSeconds>0&&t.followSecondsRemaining<=0)continue}i.push(s)}else s===L.N.SLOW_MODE?t.slowSecondsRemaining>0&&i.push(s):i.push(s)}return t.reasons=i,!0},t.getRemainingFollowSeconds=function(){return!!t.getFollowedTime()?Math.min(t.followSecondsRemaining,t.props.followerDurationSeconds):null},t.getRemainingSlowModeSeconds=function(){return t.slowSecondsRemaining},t.addUpdateHandler=function(e){-1===t.updateHandlers.indexOf(e)&&(t.updateHandlers=t.updateHandlers.concat(e))},t.removeUpdateHandler=function(e){t.updateHandlers=t.updateHandlers.filter((function(t){return t!==e}))},t.updateState=function(){var e=t.updateSlowState();return e=t.updateFollowState()||e,(e=t.updateRestrictionState()||e)&&t.notifyHandlers(),e},t.updateFollowState=function(){var e=t.getFollowedTime(),n=t.followSecondsRemaining,i=n;return e&&(i=qe(e,t.props.followerDurationSeconds),t.followSecondsRemaining=i),t.followTimerRunning&&(null===e||t.followSecondsRemaining<=0||!t.props.followerMode)?(t.stopFollowTimer(),!0):!t.followTimerRunning&&t.props.followerMode&&t.props.followerDuration>0&&e&&0!==e.getTime()?(t.startFollowTimer(),!0):i!==n},t.updateSlowState=function(){if(t.props.data&&t.props.data.channel&&t.props.data.channel.self&&t.props.data.channel.self.lastRecentChatMessageAt){var e=Object(He.e)(t.props.data.channel.self.lastRecentChatMessageAt);e>t.lastMessageSentAt&&(t.lastMessageSentAt=e)}var n=(new Date).getTime()/1e3,i=t.lastMessageSentAt.getTime()/1e3+t.props.slowModeDuration,a=t.slowSecondsRemaining;return t.slowSecondsRemaining=Math.round(Math.max(i-n,0)),t.slowModeTimerRunning&&(t.slowSecondsRemaining<=0||!t.props.slowMode||!t.shouldEnforceSlowMode())?(t.stopSlowTimer(),!0):t.slowSecondsRemaining>0&&a<=0?(t.startSlowTimer(),!0):t.slowSecondsRemaining!==a},t.notifyHandlers=function(){t.updateHandlers.forEach((function(e){return e()}))},t.onChatEvent=function(e){var n=new Date(0);switch(e.type){case ce.b.Message:e.user.userID===t.props.currentUserID&&(n=new Date(e.timestamp));break;case ce.b.Notice:Object.values(Be).includes(e.msgid)&&(t.stopSlowTimer(),t.updateRestrictionState(),t.notifyHandlers())}n>t.lastMessageSentAt&&(t.lastMessageSentAt=n,t.updateSlowState()&&(t.updateRestrictionState(),t.notifyHandlers()))},t.startFollowTimer=function(){var e=t.getFollowedTime(),n=t.props.followerDurationSeconds;null===e||n<=0||!t.shouldEnforceFollowersOnly()||(t.followSecondsRemaining=qe(e,n),t.followTimerRunning=!0,t.countdownTimer.start())},t.stopFollowTimer=function(){t.followTimerRunning=!1,t.followSecondsRemaining=0,t.slowModeTimerRunning||t.countdownTimer.stop()},t.startSlowTimer=function(){t.shouldEnforceSlowMode()&&(t.slowModeTimerRunning=!0,t.countdownTimer.start())},t.stopSlowTimer=function(){t.slowModeTimerRunning=!1,t.slowSecondsRemaining=0,t.lastMessageSentAt=new Date(0),t.followTimerRunning||t.countdownTimer.stop()},t.tick=function(){t.updateState()},t.getFollowedTime=function(){return t.props.data&&t.props.data.channel&&t.props.data.channel.self&&t.props.data.channel.self.follower&&t.props.data.channel.self.follower.followedAt?Object(He.e)(t.props.data.channel.self.follower.followedAt):null},t.extractReasons=function(e){return e.data&&e.data.channel&&e.data.channel.self&&e.data.channel.self.chatRestrictedReasons?e.data.channel.self.chatRestrictedReasons:null},t.extractRequireVerified=function(e){return!!(e.data&&e.data.channel&&e.data.channel.chatSettings)&&e.data.channel.chatSettings.requireVerifiedAccount},t.restrictionIncluded=function(e){var n=t.extractReasons(t.props);return!!n&&-1!==n.indexOf(e)},t.shouldEnforceSubsOnly=function(){return t.props.subsOnlyMode&&t.restrictionIncluded(L.N.SUBSCRIBERS_ONLY)},t.shouldEnforceVerifiedOnly=function(){return!(!t.extractRequireVerified(t.props)||!t.restrictionIncluded(L.N.VERIFIED_ONLY))},t.shouldEnforceFollowersOnly=function(){return t.props.followerMode&&t.restrictionIncluded(L.N.FOLLOWERS_ONLY)},t.shouldEnforceSlowMode=function(){return t.props.slowMode&&t.restrictionIncluded(L.N.SLOW_MODE)},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){var e=!1;this.props.setChatRestrictionsAPI({addUpdateHandler:this.addUpdateHandler,removeUpdateHandler:this.removeUpdateHandler,getRestrictions:this.getRestrictions,getRemainingFollowSeconds:this.getRemainingFollowSeconds,getRemainingSlowModeSeconds:this.getRemainingSlowModeSeconds}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent),this.countdownTimer=new ze.a({onInterval:this.tick,intervalMillis:1e3}),this.shouldEnforceFollowersOnly()&&(this.props.followerDuration>0&&this.startFollowTimer(),e=!0),(this.shouldEnforceSubsOnly()||this.shouldEnforceVerifiedOnly())&&(e=!0),this.props.data&&this.props.data.channel&&this.props.data.channel.self&&this.props.data.channel.self.lastRecentChatMessageAt&&(this.lastMessageSentAt=Object(He.e)(this.props.data.channel.self.lastRecentChatMessageAt)),this.shouldEnforceSlowMode()&&(e=this.updateSlowState()||e),e&&this.updateState()},t.prototype.render=function(){return null},t.prototype.componentWillUnmount=function(){this.stopFollowTimer(),this.stopSlowTimer(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.setChatRestrictionsAPI()},t.prototype.componentDidUpdate=function(e){var t=!1,n=!1;n=this.needsStateUpdate(e)||n,n=this.updateSlowState()||n,n=this.updateFollowState()||n,this.slowModeTimerRunning&&e.slowModeDuration!==this.props.slowModeDuration&&(this.stopSlowTimer(),n=!0),e.pubsub.messages.subscriptionInfo!==this.props.pubsub.messages.subscriptionInfo&&(n=!0,t=!0),e.pubsub.messages.moderatorActions&&e.pubsub.messages.moderatorActions!==this.props.pubsub.messages.moderatorActions&&(t=!0),t&&this.props.data&&this.props.data.refetch(),n&&(this.updateRestrictionState(),this.notifyHandlers()),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent))},t.prototype.needsStateUpdate=function(e){if((!e.data||e.data.loading)&&this.props.data&&!this.props.data.loading)return!0;var t=this.extractReasons(e),n=this.extractReasons(this.props);if(!t&&n||t&&!n)return!0;if(t&&n&&(t.length!==n.length||t.every((function(e,t){return e===n[t]}))))return!0;if(e.subsOnlyMode!==this.props.subsOnlyMode||e.followerMode!==this.props.followerMode)return!0;if(e.followerDuration!==this.props.followerDuration)return!0;if(this.extractRequireVerified(e)!==this.extractRequireVerified(this.props))return!0;if(e.data&&this.props.data){var i=e.data,a=this.props.data;if(i.currentUser&&a.currentUser&&i.currentUser.isEmailVerified!==a.currentUser.isEmailVerified)return!0;if(a.channel&&a.channel.self){var r=a.channel.self,o=new Date(0),s=!1,l=!(!r.follower||!r.follower.followedAt);if(i.channel&&i.channel.self&&i.channel.self.follower&&i.channel.self.follower.followedAt&&(o=Object(He.e)(i.channel.self.follower.followedAt),s=!0),s&&!l)return!0;if(l){var c=new Date(0);if(r.follower&&r.follower.followedAt&&(c=Object(He.e)(r.follower.followedAt)),o.getTime()!==c.getTime())return!0}}}return!1},t}(r.Component);function Ye(e){return!e.data||e.data.loading||!e.data.channel||!e.data.channel.id||!e.currentUserID}var Ke=Object(s.d)(Object(o.b)((function(e){var t=Object(m.e)(e);return{currentUserID:t&&t.id,isStaff:!!(t&&t.roles&&t.roles.isStaff)}})),W,Q.a,Object(l.a)(Ve,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(c.a)([{topic:function(e){return Object(u.V)(e.currentUserID||"")},mapMessageTypesToProps:{"*":"subscriptionInfo"},skip:Ye},{topic:function(e){return Object(u.B)(e.currentUserID||"",e.data&&e.data.channel&&e.data.channel.id||"")},mapMessageTypesToProps:(We={},We[d.PubsubMessageType.ModeratorAdded]="moderatorActions",We[d.PubsubMessageType.ModeratorRemoved]="moderatorActions",We),skip:Ye,skipMessage:function(e,t){var n=e;return!t.data.currentUser||n.data.target_user_id!==t.data.currentUser.id}}]),Object(N.a)((function(e){return{query:Ve,variables:{channelLogin:e.channelLogin},topic:Object(u.U)(e.currentUserID||""),type:d.PubsubMessageType.UserPropertiesUpdate,skip:Ye(e),mutator:function(e,t){return t&&t.currentUser?void 0===e.changed.email_verified?t:D(t,(function(e){return e.currentUser.isEmailVerified}),(function(){return e.changed.email_verified})):t}}})),Object(N.a)((function(e){return{query:Ve,variables:{channelLogin:e.channelLogin},topic:Object(u.w)(e.currentUserID||""),types:[d.PubsubMessageType.UserFollowedEvent,d.PubsubMessageType.UserUnfollowedEvent],skip:Ye(e),mutator:function(e,t){if(!t||!t.channel||!t.channel.self)return t;if(function(e){return e.type===d.PubsubMessageType.UserFollowedEvent}(e))return e.target_user_id!==t.channel.id?t:t.channel.self.follower?D(t,(function(e){return e.channel.self.follower.followedAt}),(function(){return e.timestamp})):D(t,(function(e){return e.channel.self.follower}),(function(){return{__typename:"FollowerEdge",followedAt:e.timestamp}}));if(function(e){return e.type===d.PubsubMessageType.UserUnfollowedEvent}(e)){if(e.target_user_id!==t.channel.id)return t;if(t.channel.self.follower)return D(t,(function(e){return e.channel.self.follower.followedAt}),(function(){return null}))}return t}}})),Object(re.b)((function(e){return{followerDuration:e.followerDuration,followerDurationSeconds:60*e.followerDuration,followerMode:e.followerMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode}})))(Qe),$e=n("ru7j");var Xe=n("nkgB"),Ze=n("KGti"),Je=n("RcPG"),et=1e3,tt=150,nt=40,it=200,at=function(e){function t(t){var n=e.call(this,t)||this;return n.slidingWindowEnd=0,n.paused=!1,n.delayedMessageBuffer=[],n.updateHandlers=[],n.handleMessage=function(e){var t=!1;if(n.messageIncludesBlockedUser(e)){if(!n.props.shouldSeeBlockedAndDeletedMessages)return;e.type===ce.b.Message&&(e.hidden=!0)}switch(e.type){case ce.b.BadgesUpdated:case ce.b.RoomState:return;case ce.b.Message:n.uncountedMessages++;var i=e.messageParts[0];if(i&&i.type===Je.a.Text&&i.content.startsWith(":act "))return;t=!n.isOwnMessage(e);break;case ce.b.ChannelPointsReward:case ce.b.Resubscription:t=!!e.message&&!n.isOwnMessage(e.message);break;case ce.b.ModerationAction:if(e.level===Ze.a.User&&e.targetUserLogin&&e.targetUserLogin===n.props.currentUserLogin)break;if(!n.props.isCurrentUserModerator)return;if(e.level===Ze.a.User&&(e.moderationActionType===d.ModerationActions.Ban||e.moderationActionType===d.ModerationActions.Timeout||e.moderationActionType===d.ModerationActions.Delete)){var a=e.moderationActionType,r=e.targetUserLogin,o=e.createdByLogin,s=e.messageID;if(n.moderatedUsers.has(r))return;var l=[n.buffer,n.delayedMessageBuffer.map((function(e){return e.event}))];a===d.ModerationActions.Delete?l.forEach((function(e){e.some((function(e){var t=n.markUserEventDeleted(e,void 0,s);return!!t&&(t.deletedCount=1,t.modLogin=o,t.modActionType=a,!0)}))})):n.moderateBuffers(l,r,e);break}break;case ce.b.Moderation:if(n.props.isCurrentUserModerator)break;var c=e.moderationType,u=e.userLogin;if(n.moderatedUsers.has(u))return;var m=[n.buffer,n.delayedMessageBuffer.map((function(e){return e.event}))];if(c===ce.e.Delete){var p=e.targetMessageID;m.forEach((function(e){e.some((function(e){var t=n.markUserEventDeleted(e,void 0,p);return!!t&&(t.deletedCount=1,!0)}))}))}else n.moderateBuffers(m,u);break;case ce.b.Disconnected:return;case ce.b.Reconnect:if(n.buffer.find((function(t){return t.id===e.id}))||n.delayedMessageBuffer.find((function(t){return t.event.id===e.id})))return;break;case ce.b.Clear:n.clear();break;case ce.b.AutoMod:switch(e.autoModType){case ce.a.MessageModApproved:case ce.a.MessageModDenied:return void[n.buffer,n.delayedMessageBuffer.map((function(e){return e.event}))].forEach((function(t){t.some((function(t){return!(t.type!==ce.b.AutoMod||t.autoModType!==ce.a.MessageRejectedPrompt||!t.rejectedMessage||t.rejectedMessage.id!==e.msg_id)&&(t.rejectedMessage.deleted=!0,!0)}))}))}}n.delayedMessageBuffer.push({event:e,time:Date.now(),shouldDelay:t})},n.getMessages=function(){return n.buffer.slice(0,n.slidingWindowEnd)},n.unsetModeratedUser=function(e){return function(){n.moderatedUsers.delete(e)}},n.isOwnMessage=function(e){var t=e.user;return!(!n.props.currentUserLogin||!t||t.userLogin!==n.props.currentUserLogin)},n.addUpdateHandler=function(e){-1===n.updateHandlers.indexOf(e)&&(n.updateHandlers=n.updateHandlers.concat(e))},n.removeUpdateHandler=function(e){n.updateHandlers=n.updateHandlers.filter((function(t){return t!==e}))},n.setPaused=function(e){n.paused!==e&&(n.paused=e,e||(n.slidingWindowEnd=Math.min(n.buffer.length,tt)),n.props.isBackground||n.notifySubscribers())},n.isPaused=function(){return n.paused},n.hasNewerLeft=function(){return n.slidingWindowEnd<n.buffer.length},n.getUnreadCount=function(){return Math.max(0,n.buffer.length-n.slidingWindowEnd)},n.loadNewer=function(){if(n.hasNewerLeft()){var e=Math.min(n.buffer.length,n.slidingWindowEnd+nt),t=Math.max(0,e-tt);n.clear(n.buffer.length-t),n.slidingWindowEnd=e-t,n.props.isBackground||n.notifySubscribers()}},n.loadNewest=function(){n.hasNewerLeft()&&(n.clear(tt),n.slidingWindowEnd=Math.min(tt,n.buffer.length),n.props.isBackground||n.notifySubscribers())},n.delayedMessageBuffer=[],n.buffer=[],n.moderatedUsers=new Set,n.blockedUsers=new Set(n.props.blockedUsers),n.unhideUsers=new Set,n.flushInterval=setInterval((function(){return n.flushRawMessages()}),it),n.uncountedMessages=0,n.chatRateMeasurements=[],n.chatRateMeasurementInterval=setInterval((function(){return n.measureChatRate()}),et),n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.setMessageBufferAPI({addUpdateHandler:this.addUpdateHandler,removeUpdateHandler:this.removeUpdateHandler,getUnreadCount:this.getUnreadCount,getMessages:this.getMessages,isPaused:this.isPaused,setPaused:this.setPaused,hasNewerLeft:this.hasNewerLeft,loadNewer:this.loadNewer,loadNewest:this.loadNewest}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage)},t.prototype.componentWillUnmount=function(){this.props.setMessageBufferAPI(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.handleMessage),clearInterval(this.flushInterval),clearInterval(this.chatRateMeasurementInterval)},t.prototype.render=function(){return null},t.prototype.componentDidUpdate=function(e){e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.handleMessage),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage)),this.props.blockedUsers!==e.blockedUsers&&(this.blockedUsers=new Set(this.props.blockedUsers)),this.props.unhideIgnoredUsers!==e.unhideIgnoredUsers&&(this.unhideUsers=new Set(this.props.unhideIgnoredUsers)),e.isBackground&&!this.props.isBackground&&(this.chatRate>5&&this.clear(20),this.notifySubscribers())},t.prototype.messageIncludesBlockedUser=function(e){for(var t=0,n=pe(e);t<n.length;t++){var i=n[t];if(this.blockedUsers.has(i.id)&&!this.unhideUsers.has(i.id))return!0}return!1},t.prototype.clear=function(e){if(void 0===e&&(e=0),e<=0)return this.buffer=[],this.delayedMessageBuffer=[],void(this.paused=!1);this.paused&&this.buffer.length>=900&&this.setPaused(!1),this.buffer=this.buffer.slice(-e)},t.prototype.isDeletable=function(e){return void 0!==e.deleted},t.prototype.markUserEventDeleted=function(e,t,n){var i=null;switch(e.type){case ce.b.Message:i=e;break;case ce.b.ChannelPointsReward:case ce.b.Resubscription:case ce.b.Ritual:i=e.message||null;break;default:return null}if(!i||i.deleted)return null;return Boolean(t&&i.user&&t===i.user.userLogin&&i.messageParts)||Boolean(n&&i.id===n)?(i.deleted=!0,i):null},t.prototype.moderateBuffers=function(e,t,n){var i=this,a=e.reduce((function(e,a){return a.reduce((function(e,a){var r=i.markUserEventDeleted(a,t);if(r){if(r.banned=!0,n){var o=n.moderationActionType,s=n.createdByLogin,l=n.duration;r.modLogin=s,r.modActionType=o,r.duration=l}return{lastDeletedMessage:r,deletedCount:e.deletedCount+1}}return e}),e)}),{deletedCount:0}),r=a.lastDeletedMessage,o=a.deletedCount;r&&(r.deletedCount=o),this.moderatedUsers.add(t),setTimeout(this.unsetModeratedUser(t),1e3)},t.prototype.flushRawMessages=function(){var e=this,t=[],n=Date.now(),i=!1,a=0,r=this.slidingWindowEnd;this.delayedMessageBuffer.forEach((function(o){var s=o.event,l=o.time,c=o.shouldDelay;l<=n-e.delayDuration||!c?!e.props.shouldSeeBlockedAndDeletedMessages&&e.isDeletable(s)&&s.deleted||(e.buffer.push(s),i=!0,e.buffer.length>tt&&!e.paused&&a++,e.buffer.length<=tt&&!e.paused&&r++):t.push({event:s,time:l,shouldDelay:c})})),this.delayedMessageBuffer=t,i&&(this.clear(Math.min(900,this.buffer.length-a)),this.slidingWindowEnd=r,this.props.isBackground||this.notifySubscribers())},t.prototype.measureChatRate=function(){3===this.chatRateMeasurements.length&&this.chatRateMeasurements.shift(),this.chatRateMeasurements.push(this.uncountedMessages),this.uncountedMessages=0},Object.defineProperty(t.prototype,"chatRate",{get:function(){return 0===this.chatRateMeasurements.length?0:this.chatRateMeasurements.reduce((function(e,t){return e+t}))/this.chatRateMeasurements.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delayDuration",{get:function(){return this.props.isCurrentUserModerator?0:this.props.data.user&&this.props.data.user.chatSettings&&this.props.data.user.chatSettings.chatDelayMs||0},enumerable:!0,configurable:!0}),t.prototype.notifySubscribers=function(){this.updateHandlers.forEach((function(e){return e()}))},t}(r.Component);var rt=Object(s.d)(Object(o.b)((function(e){var t=Object(m.e)(e);return{authToken:Object(m.a)(e),currentUserLogin:t&&t.login,isLoggedIn:Object(m.f)(e)}})),Object(l.a)(Xe,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(l.a)($e,{props:function(e){return e.data&&!e.data.loading&&!e.data.error&&e.data.currentUser&&e.data.currentUser.blockedUsers?{blockedUsers:e.data.currentUser.blockedUsers.reduce((function(e,t){return t&&t.id&&e.push(t.id),e}),[])}:{blockedUsers:[]}},skip:function(e){return!(e.isLoggedIn||e.authToken)}}),z.b,Q.a)(at),ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.messageHandlers=[],t.addMessageHandler=function(e){-1===t.messageHandlers.indexOf(e)&&(t.messageHandlers=t.messageHandlers.concat(e))},t.removeMessageHandler=function(e){t.messageHandlers=t.messageHandlers.filter((function(t){return t!==e}))},t.handleMessage=function(e){for(var n=t.messageHandlers.length,i=0;i<n;i++)t.messageHandlers[i](e)},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.setMessageHandlerAPI({addMessageHandler:this.addMessageHandler,removeMessageHandler:this.removeMessageHandler,handleMessage:this.handleMessage})},t.prototype.render=function(){return null},t.prototype.componentWillUnmount=function(){this.props.setMessageHandlerAPI()},t}(r.Component),st=Object(s.d)(Q.a)(ot),lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subscribe=function(e){t.unsubscribe(),e.channelID&&e.currentUserID&&(t.unsubscriber=P.l.subscribe({topic:Object(u.B)(e.currentUserID,e.channelID),onMessage:t.handleMessage}))},t.unsubscribe=function(){t.unsubscriber&&(t.unsubscriber(),t.unsubscriber=null)},t.handleMessage=function(e){switch(e.data.moderation_action){case d.ModerationActions.AutoModRejected:var n=Object(Ze.j)(e.data.msg_id,e.data.args[1],e.data.args[0],e.data.args[2]);t.addMessage(n);break;case d.ModerationActions.AutoModCheerRejected:var i=Object(Ze.c)(e.data.msg_id,e.data.args[1],e.data.args[0],e.data.args[2],e.data.target_user_id);t.addMessage(i);break;case d.ModerationActions.ApprovedAutoModMessage:t.addMessage(Object(Ze.g)(e));break;case d.ModerationActions.DeniedAutoModMessage:t.addMessage(Object(Ze.h)(e));break;case d.TargetedModerationActions.AutoModMessageRejected:t.addMessage(Object(Ze.i)());break;case d.TargetedModerationActions.AutoModMessageApproved:t.addMessage(Object(Ze.e)());break;case d.TargetedModerationActions.AutoModMessageDenied:t.addMessage(Object(Ze.f)());break;case d.TargetedModerationActions.AutoModCheerDenied:t.addMessage(Object(Ze.b)());break;case d.TargetedModerationActions.AutoModCheerTimeout:t.addMessage(Object(Ze.d)());break;case d.ModerationActions.Ban:t.addMessage(Object(Ze.m)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],void 0,e.data.args[1]));break;case d.ModerationActions.Delete:t.addMessage(Object(Ze.m)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],void 0,void 0,e.data.args[1],e.data.args[2]));break;case d.TargetedModerationActions.DeleteNotification:t.addMessage(Object(Ze.l)(d.TargetedModerationActions.DeleteNotification,e.data.target_user_id,e.data.args[0],e.data.msg_id));break;case d.ModerationActions.Unban:case d.ModerationActions.Timeout:case d.ModerationActions.Untimeout:t.addMessage(Object(Ze.m)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],e.data.args[1],e.data.args[2]));break;case d.ModerationActions.Mod:case d.ModerationActions.Unmod:t.addMessage(Object(Ze.m)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.target_user_login));break;case d.ModerationActions.AddBlockedTerm:case d.ModerationActions.AddPermittedTerm:case d.ModerationActions.DeleteBlockedTerm:case d.ModerationActions.DeletePermittedTerm:t.addMessage(Object(Ze.k)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args,e.data.from_automod));break;case d.ModerationActions.AutoModEnabled:case d.ModerationActions.Clear:case d.ModerationActions.EmoteOnly:case d.ModerationActions.EmoteOnlyOff:case d.ModerationActions.FollowersOnly:case d.ModerationActions.FollowersOnlyOff:case d.ModerationActions.Host:case d.ModerationActions.R9kBeta:case d.ModerationActions.R9kBetaOff:case d.ModerationActions.Raid:case d.ModerationActions.Slow:case d.ModerationActions.SlowOff:case d.ModerationActions.SubsBeta:case d.ModerationActions.SubscribersOnly:case d.ModerationActions.SubscribersOnlyOff:case d.ModerationActions.Unhost:case d.ModerationActions.ModifiedAutoModProperties:case d.ModerationActions.Unraid:t.addMessage(Object(Ze.k)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args));break;default:P.k.warn("Unknown moderation action type",e.data.moderation_action)}},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.subscribe(this.props)},t.prototype.componentDidUpdate=function(e){this.props.channelID===e.channelID&&this.props.currentUserID===e.currentUserID||this.subscribe(this.props)},t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.render=function(){return null},t.prototype.addMessage=function(e){this.props.messageHandlerAPI?this.props.messageHandlerAPI.handleMessage(e):P.k.warn("ModerationActionService received an event before the MessageHandlerAPI was available.")},t}(r.Component);var ct=Object(s.d)(Object(o.b)((function(e){var t=Object(m.e)(e);return{currentUserID:t&&t.id}})),Q.a)(lt),dt=n("k4PX"),ut=n("Owek"),mt=n("TSYQ"),pt=n("Ty5D"),ht=n("6j5V"),ft=n("uIkQ"),gt=n("5zXJ"),vt=n("ZVTe"),bt=n("cys1"),kt=n("Ws8v"),yt=n("yymn"),St=n("sUnt"),Ct=n("+80q"),Et=n("dEDE"),wt=function(e){return r.createElement(kt.a,{padding:{top:1,bottom:.5},margin:{x:2},borderTop:!0,display:yt.g.Block,flexDirection:yt.h.Column},r.createElement(St.a,{padding:{bottom:.5}},r.createElement(Ct.a,{color:yt.f.Alt2},Object(P.d)("<x:strong>Anonymous Cheering</x:strong> only supports the anonymous Cheermote. Your Cheer will be modified to appear as shown below.",{"x:strong":function(e){return r.createElement(Ct.a,{type:Ct.e.Span,color:yt.f.Link,bold:!0},e)}},"InvalidAnonymousCheerPrompt")),r.createElement(St.a,{margin:{y:1}},r.createElement(ft.b,{badgeSets:e.badgeSets,badgesToRender:{"anonymous-cheerer":"1"}}),r.createElement(vt.a,{userData:{isIntl:!1,userDisplayName:gt.c,userID:gt.e,userLogin:gt.d,userType:"global_mod"}}),": ",Object(bt.f)(e.messageParts))),r.createElement(St.a,{display:yt.g.Flex,flexDirection:yt.h.Row},r.createElement(Et.a,{onClick:e.onCheerAnyway},Object(P.d)("Continue","InvalidAnonymousCheerPrompt")),r.createElement(St.a,{padding:{left:.5}},r.createElement(Et.a,{onClick:e.onEditCheer,type:Et.d.Secondary},Object(P.d)("Edit","InvalidAnonymousCheerPrompt")))))},Ot=n("4rCz"),Dt=n("IArS"),Nt=n("7uM4"),_t=n("C7sF"),It=(n("e7rh"),function(e){return r.createElement(kt.a,{padding:{top:1,bottom:.5},margin:{x:2},borderTop:!0,display:yt.g.Block,flexDirection:yt.h.Column},r.createElement(St.a,{padding:{bottom:.5}},r.createElement(ft.b,{badgeSets:e.badgeSets,badgesToRender:{twitchbot:"1"}}),r.createElement(vt.a,{userData:{color:Dt.b,isIntl:!1,userDisplayName:"AutoMod",userID:"automod",userLogin:"automod",userType:"global_mod"}}),r.createElement(Ct.a,{type:Ct.e.Span,color:yt.f.Alt2},Object(Ot.d)(": Your text may be removed by moderation. Bits will still be sent to the streamer. Review the highlighted text or continue below.","BitsAutoModOffenderPrompt"))),r.createElement(St.a,{display:yt.g.Flex,flexDirection:yt.h.Row},r.createElement(St.a,{padding:{right:.5}},r.createElement(Et.a,{onClick:e.onEditCheer},r.createElement(St.a,{padding:{x:2}},Object(Ot.d)("Edit","BitsAutoModOffender")))),r.createElement(Et.a,{onClick:e.onCheerAnyway,type:Et.d.Secondary},Object(Ot.d)("Cheer Anyway","BitsAutoModOffender")),r.createElement(St.a,{className:"bits-auto-mod-offender-prompt__notification-icon",display:yt.g.Flex,flexDirection:yt.h.Column,justifyContent:yt.l.End,alignSelf:yt.c.End,margin:{left:"auto",right:.5}},r.createElement(Nt.a,{asset:_t.a.NotificationWarning}))))}),Mt=K.a.wrap((function(){return Promise.all([n.e(0),n.e(56)]).then(n.bind(null,"qFtv"))}),"ChannelLeaderboard",{placeholder:null}),Tt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={cheerIsTall:!1,recentCheerID:null,recentCheerExpireTime:null,pcheersV2Enabled:!1},t}return Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement(Mt,{channelID:this.props.channelID,userID:this.props.userID,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin})},t}(r.Component);var jt,Pt=Object(o.b)((function(e){var t=Object(m.e)(e);return{isStaff:t&&t.roles&&t.roles.isStaff}}))(Tt),Lt=n("H31v"),Rt=n("uGUt"),Ft=n("u5aL"),At=n("cw0r"),xt=n("8Ad5"),Ut=n("5zf8"),Bt=n("oe5X"),Vt=n("1/iK"),Ht=n("y5D0"),Gt=n("okS7"),qt=n("uhBA"),Wt=n("TqpA"),zt=n("jv9u"),Qt=new qt,Yt=K.a.wrap((function(){return Promise.all([n.e(0),n.e(53)]).then(n.bind(null,"ry0r"))}),"BitsCard",{placeholder:null,onRendered:function(){return Qt.emit("bits_card_loaded")}}),Kt=function(e){var t=Object(r.useState)(!1),n=t[0],i=t[1];return Object(r.useEffect)((function(){e.eventEmitter.once("bits_card_loaded",(function(){return i(!0)}))}),[e.eventEmitter]),r.createElement(r.Fragment,null,e.visible&&!n&&r.createElement(Wt.a,{onUserClose:e.onUserClose},r.createElement(zt.a,null)),r.createElement(Yt,Object(a.__assign)({},e)))},$t=function(e){return r.createElement(Kt,Object(a.__assign)({},e,{eventEmitter:Qt}))},Xt=Yt.Preload,Zt=n("lZCe"),Jt=n("SDEh"),en=n("geRD"),tn=n("IZXT"),nn=n("7d/q"),an=n("GuJR"),rn=n("SaoI");n("NgDb");!function(e){e.NotifIcon="gem-notification-icon"}(jt||(jt={}));var on="target",sn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={targetNotificationID:""},t.onClick=function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i,r;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:if(this.props.onClick(),P.p.experiments.getAndTrackAssignment(ye.c.BitsGemNotification)!==on||!this.state.targetNotificationID)return[2];if(e={notificationID:this.state.targetNotificationID},!(this.props.data&&this.props.data.user&&this.props.data.user.self&&this.props.data.user.self.bitsGemNotifications))return[2];if(!(t=this.props.data.user.self.bitsGemNotifications.find((function(t){return t.id===e.notificationID}))))return[2];n={checkGemNotification:{__typename:"CheckGemNotificationPayload",updatedNotification:Object(a.__assign)(Object(a.__assign)({__typename:"BitsGemNotification"},t),{isChecked:!0})}},i=Object(en.b)(e,n),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.props.markGemNotificationAsChecked(i)];case 2:return o.sent(),this.setState({targetNotificationID:""}),[3,4];case 3:return r=o.sent(),Object(tn.d)()?P.k.warn("[BitsChatIconButton] Failed to clear gem notification"):P.k.errorAndReport(r,"[BitsChatIconButton] Failed to clear gem notification"),[3,4];case 4:return[2]}}))}))},t}return Object(a.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.data,i=P.p.experiments.getAndTrackAssignment(ye.c.BitsGemNotification);if(!n||n.loading||!n.user||!n.user.self||!n.user.self.bitsGemNotifications)return null;if(n.user.self.bitsGemNotifications.length>0){var a=n.user.self.bitsGemNotifications.find((function(e){return!e.isChecked}));if(!t.targetNotificationID&&a)return i===on&&e.onGemNotification(!0),{targetNotificationID:a.id};if(t.targetNotificationID&&!a)return e.onGemNotification(!1),{targetNotificationID:""}}return null},t.prototype.render=function(){if(Object(Jt.c)())return null;var e=this.state.targetNotificationID?r.createElement("span",{className:"gem-notif-icon__body","data-test-selector":jt.NotifIcon}):null;return r.createElement(St.a,{position:yt.n.Relative,display:yt.g.Inline},r.createElement(nn.a,{disabled:this.props.buttonDisabled,icon:_t.a.Bits,ariaLabel:Object(P.d)("Bits","ChatInput"),type:nn.c.Secondary,onClick:this.onClick,"data-a-target":"bits-button"}),r.createElement(St.a,{position:yt.n.Absolute,className:"gem-notif-icon"},r.createElement(Zt.a,{name:ye.c.BitsGemNotification,assignments:{fallback:function(){return null},target:function(){return e}}})))},t}(r.Component),ln=Object(s.d)(Object(l.a)(an,{skip:function(e){return!e.channelID||Object(Jt.c)()||P.p.experiments.getAndTrackAssignment(ye.c.BitsGemNotification)!==on},options:function(e){return{variables:{channelID:e.channelID||""}}}}),Object(l.a)(rn,{name:"markGemNotificationAsChecked"}),Object(N.a)((function(e){return{query:an,topic:e.data&&e.data.currentUser?Object(u.R)(e.data.currentUser.id):"",type:d.PubsubMessageType.UserBitsGemNotification,skip:!e.data||e.data.loading||!!e.data.error||!e.data.user||!e.data.currentUser,variables:{channelID:e.channelID},mutator:function(e,t){return t&&t.user&&t.user.self&&t.user.self.bitsGemNotifications&&e.message_type===Lt.b.BitsGemNotification?t=D(t,(function(e){return e.user.self.bitsGemNotifications}),(function(t){return t.map((function(t){return t.id===e.data.id?Object(a.__assign)(Object(a.__assign)({},t),{isChecked:e.data.checked}):t}))})):t}}})))(sn),cn=n("uu1w"),dn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autocompleteType=cn.a.Hashtag,t.canBeTriggeredByTab=!1,t.getMatches=function(e){return e.startsWith("#")&&null!==t.props.hashTags.edges?t.props.hashTags.edges.filter((function(t){return t.node.id.includes(e)})).map((function(n){return{current:e,replacement:n.node.id,element:t.genearateHashtagDisplay(n.node.id)}})):null},t.genearateHashtagDisplay=function(e){return r.createElement(St.a,{padding:{right:.5},key:"hashtag:"+e},r.createElement(Ct.a,null,e))},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.render=function(){return null},t}(r.Component),un=Object(Gt.g)((function(e){return e}))(dn),mn=n("ebRM"),pn=n("RiD7"),hn=n("tFCv"),fn=n("QVaV"),gn=5,vn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autocompleteType=cn.a.Mention,t.canBeTriggeredByTab=!0,t.getMatches=function(e,n){return n||e.startsWith("@")?t.getMentions(e,n):null},t.getMentions=function(e,n){if(!t.props.activeChattersAPI)return[];var i=n?e:e.substring(1);return t.props.activeChattersAPI.getActiveChatters(i,gn).map((function(i){return{current:e,replacement:(n?"":"@")+(i.displayName||i.login),element:t.renderMention(i)}}))},t.renderMention=function(e){return r.createElement(St.a,{padding:.5},Object(fn.a)(e.login,e.displayName||null))},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.render=function(){return null},t}(r.Component),bn=Object(s.d)(Object(Gt.g)((function(e){return e})),R.a)(vn),kn=n("WytW"),yn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autocompleteType=cn.a.Command,t.canBeTriggeredByTab=!1,t.getMatches=function(e,n,i){return 0===i&&e.startsWith("/")?t.getCommands(e):null},t.getCommands=function(e){var n=t.props.getCommands(t.props.permissionLevel);if(!n||0===n.length)return null;var i=e.substring(1),a=n.filter((function(e){return t.doesCommandMatchTerm(e,i)}));return a.sort(t.sortCommands),a.map((function(e){return{current:"/"+i,replacement:t.determineReplacement(e),element:t.renderCommandSuggestion(e,i),group:t.determineGroup(e),selection:Object(kn.k)(e)}}))},t.doesCommandMatchTerm=function(e,t){var n=new RegExp("^"+Object(me.a)(t.toLowerCase()),"i");return e.name.match(n)},t.renderCommandSuggestion=function(e,t){var n=t.length,i=null;return e.commandArgs&&(i=e.commandArgs.map((function(t,n){return r.createElement(St.a,{key:e.name+"-arg-"+n,margin:{right:.5}},r.createElement(Ct.a,{type:Ct.e.Span},"["+t.name+"]"))}))),r.createElement(St.a,{padding:.5},r.createElement(St.a,{display:yt.g.Flex},r.createElement(St.a,{margin:{right:.5}},r.createElement(Ct.a,{type:Ct.e.Span},"/"+t),r.createElement(Ct.a,{type:Ct.e.Span,bold:!0},e.name.substring(n))),i),r.createElement(Ct.a,{color:yt.f.Alt2,fontSize:yt.j.Size7},e.description))},t.sortCommands=function(e,n){var i=t.getPriorityLevel(e.permissionLevel),a=t.getPriorityLevel(n.permissionLevel);if(i===a){var r=t.trimStart(e.name),o=t.trimStart(n.name);return r.localeCompare(o)}return a-i},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},t.prototype.componentWillUnmount=function(){this.unregister()},t.prototype.render=function(){return null},t.prototype.determineReplacement=function(e){var t=Object(kn.k)(e);return t?"/"+e.name+" "+t:"/"+e.name},t.prototype.determineGroup=function(e){if(this.props.permissionLevel!==ue.b.Viewer&&this.props.permissionLevel!==ue.b.Vip)return e.permissionLevel===ue.b.Moderator||e.permissionLevel===ue.b.Broadcaster?"channel management":"twitch"},t.prototype.getPriorityLevel=function(e){return e===ue.b.Viewer||e===ue.b.Vip?0:1},t.prototype.trimStart=function(e){return e.startsWith("un")&&!e.startsWith("unique")?e.substring(2):e},t}(r.Component);var Sn,Cn=Object(s.d)(Object(Gt.g)((function(e){return e})),Object(h.b)((function(e){return{getCommands:e.getCommands}})))(yn),En=n("HH5h"),wn=(n("HECQ"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickConfirm=function(){t.markRoomSeen(),P.o.track(Ee.SpadeEventType.ChatRulesAccepted,{channel_id:t.props.channelID,channel_login:t.props.channelLogin}),t.props.onCloseChatRules()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){P.o.track(Ee.SpadeEventType.ChatRulesViewed,{channel_login:this.props.channelLogin,channel_id:this.props.channelID})},t.prototype.render=function(){return r.createElement(kt.a,{fullWidth:!0,position:yt.n.Absolute,zIndex:yt.s.Above,attachBottom:!0,attachLeft:!0},r.createElement(kt.a,{background:yt.d.Base,attachBottom:!0,borderRadius:yt.e.Large,display:yt.g.Block,elevation:3,className:"chat-rules-container",padding:.5},r.createElement(St.a,{position:yt.n.Relative,display:yt.g.Flex,flexDirection:yt.h.Row,alignItems:yt.b.Start,padding:1},r.createElement(St.a,{textAlign:yt.p.Left,display:yt.g.Flex,flexDirection:yt.h.Row,alignItems:yt.b.Center},r.createElement(St.a,{padding:{right:1}},r.createElement(En.a,{userLogin:this.props.channelLogin,alt:this.props.channelDisplayName?this.props.channelDisplayName:"",size:40,src:this.props.channelProfileImageUrl})),r.createElement(St.a,{display:yt.g.Flex,flexDirection:yt.h.Column},r.createElement(St.a,null,r.createElement(Ct.a,{"data-test-selector":"chat-rules-display-name",color:yt.f.Alt2},this.props.channelDisplayName)),r.createElement(St.a,null,r.createElement(Ct.a,{fontWeight:yt.k.SemiBold,transform:Ct.d.Uppercase,type:Ct.e.H4},Object(P.d)("Chat Rules","ChatInputRevampChatRules"))))),r.createElement(St.a,{attachRight:!0,attachTop:!0,position:yt.n.Absolute,margin:{top:.5,right:.5}},r.createElement(nn.a,{"data-test-selector":"chat-rules-close-button",ariaLabel:Object(P.d)("Close","ChatInputRevampChatRules"),type:nn.c.Secondary,icon:_t.a.Close,onClick:this.props.onCloseChatRules}))),r.createElement(St.a,{padding:.5},r.createElement(St.a,{"data-test-selector":"chat-rules-list",padding:{x:1,bottom:1}},r.createElement("ul",null,this.props.chatRules&&this.props.chatRules.map((function(e,t){return r.createElement("li",{key:t},e)})))),r.createElement(St.a,{display:yt.g.Flex,justifyContent:yt.l.Center},r.createElement(Et.a,{"data-test-selector":"chat-rules-ok-button",fullWidth:!0,size:Et.b.Large,onClick:this.onClickConfirm},r.createElement(Ct.a,{fontSize:yt.j.Size5},Object(P.d)("Okay, Got It!","ChatRules")))))))},t.prototype.markRoomSeen=function(){var e=P.m.get("chat_rules_shown",{});this.props.channelLogin&&(e[this.props.channelLogin]=!0,P.m.set("chat_rules_shown",e))},t}(r.Component)),On=n("9MrB"),Dn=n("Dv0/"),Nn=n("iJuK"),_n=n("tcg6"),In=n("b7S+"),Mn=n("Jsra"),Tn=n("wp5a"),jn=n("ygYM"),Pn=n("K+jS"),Ln=(n("zQ1M"),"mod-view-balloon-toggle"),Rn="mod-view-close-button",Fn=function(e){var t=Object(o.e)((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.id})),n=Object(Dn.a)("mod-view-ingress-pill",!0),i=n[0],a=n[1],s=r.useState(!1),l=s[0],c=s[1],d=Object(P.d)("Try Mod View!","ModViewIngress"),u=d.length>13?d.slice(0,13)+"...":d;if(!Object(Nn.a)(t))return null;var m=function(){a(!1)};return r.createElement(St.a,{position:yt.n.Relative,display:yt.g.Flex,alignItems:yt.b.Center},i&&r.createElement(St.a,{position:yt.n.Absolute,className:"mod-view-ingress__pill"},r.createElement(In.a,{label:Object(P.d)("Click to learn more","ModViewIngress"),direction:In.c.Top},r.createElement(Mn.a,{"data-test-selector":Ln,onClick:function(){return c(!0)}},!l&&r.createElement(Ct.a,{fontSize:yt.j.Size5,lineHeight:Ct.b.Body},r.createElement(Tn.a,{type:Tn.b.Success,label:u})))),r.createElement(jn.a,{show:l,size:jn.c.Medium,offsetX:"-5rem",direction:jn.b.TopCenter},r.createElement(kt.a,{background:yt.d.AccentAlt2,padding:2,borderRadius:yt.e.Large,color:yt.f.Overlay},r.createElement(St.a,{position:yt.n.Relative,fullWidth:!0},r.createElement(St.a,{margin:{right:2}},r.createElement(St.a,{padding:{bottom:.5,right:.5},verticalAlign:yt.q.Middle,display:yt.g.InlineBlock},r.createElement(Tn.a,{label:Object(P.d)("New","ModViewIngress"),type:Tn.b.Success})),r.createElement(Pn.a,{size:Pn.b.Small,type:Ct.e.Span},Object(P.d)("Sharpen Your Swords!","ModViewIngress"))),r.createElement(St.a,{position:yt.n.Absolute,attachRight:!0,attachTop:!0},r.createElement(nn.a,{overlay:!0,"data-test-selector":Rn,icon:_t.a.Close,onClick:function(){c(!1),a(!1)},size:nn.b.Small}))),r.createElement(St.a,{padding:{y:1}},Object(P.d)("Mod View is a new channel mode that provides all the tools you need to keep your community safe. Click the sword below to get started.","ModViewIngress")),r.createElement(St.a,{display:yt.g.Flex,justifyContent:yt.l.End},r.createElement(Et.a,{overlay:!0,size:Et.b.Small,onClick:m,linkTo:Object(_n.a)(e.channelLogin),icon:_t.a.Sword},Object(P.d)("Go to Mod View","ModViewIngress")))))),r.createElement(In.a,{label:Object(P.d)("Mod View","ModViewIngress"),direction:In.c.Top},r.createElement(nn.a,{onClick:m,linkTo:Object(_n.a)(e.channelLogin),icon:_t.a.Sword})))},An=n("X2PJ");n("ZuCe");!function(e){e.AUTOMOD="automod",e.ANONYMOUS_CHEERING="anonymous-cheering",e.UNKNOWN="unknown"}(Sn||(Sn={}));var xn,Un=function(e){var t=e.moderatedReason,n=void 0===t?Sn.UNKNOWN:t,i=e.moderatedMessageParts,a=mt("moderated-message-fake-input__container",n);return r.createElement(kt.a,{position:yt.n.Relative,borderRadius:yt.e.Medium,className:a},r.createElement(kt.a,{className:"moderated-message-fake-input__content",display:yt.g.Block,overflow:yt.m.Auto,color:yt.f.Alt,background:yt.d.Alt,fullWidth:!0},r.createElement(An.a,{padding:{y:.5,left:1},fullHeight:!0},r.createElement("div",{style:{paddingRight:"6rem"}},Object(bt.f)(i)))),r.createElement(kt.a,{position:yt.n.Absolute,display:yt.g.Flex,flexDirection:yt.h.Row,attachRight:!0,attachTop:!0},r.createElement(St.a,{display:yt.g.InlineFlex,alignItems:yt.b.Center,className:"moderated-message-fake-input__icon",padding:.5},r.createElement(Nt.a,{asset:_t.a.Bits,type:Nt.b.Inherit})),r.createElement(St.a,{display:yt.g.InlineFlex,alignItems:yt.b.Center,className:"moderated-message-fake-input__icon",padding:.5},r.createElement(Nt.a,{asset:_t.a.Emoticons,type:Nt.b.Inherit}))))},Bn=n("ilCE");n("MVDO");function Vn(e,t){var n=t.action?{action:t.action}:{},i=Object(a.__assign)({raid_upsell_source_id:Number(t.sourceChannelID),raid_upsell_target_id:Number(t.targetChannelID)},n);P.o.track(e,i)}!function(e){e.Host="host",e.Raid="raid",e.Dismiss="dismiss"}(xn||(xn={}));var Hn="raid-now-upsell";var Gn={"data-test-selector":"dismiss"},qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDismissUpsell=function(){var e;e={sourceChannelID:t.props.data.sourceChannel.id,targetChannelID:t.props.data.targetChannel.id},Vn(Ee.SpadeEventType.RaidUpsellClick,Object(a.__assign)(Object(a.__assign)({},e),{action:xn.Dismiss})),t.props.closeRaidUpsell()},t.handleSendHostMsgFromUpsell=function(){var e;e={sourceChannelID:t.props.data.sourceChannel.id,targetChannelID:t.props.data.targetChannel.id},Vn(Ee.SpadeEventType.RaidUpsellClick,Object(a.__assign)(Object(a.__assign)({},e),{action:xn.Host})),t.handleSendHostMsg()},t.handleSendHostMsg=function(){t.props.send("/host "+t.props.targetChannelLogin),t.props.closeRaidUpsell()},t.handleSendRaidMsg=function(){var e;e={sourceChannelID:t.props.data.sourceChannel.id,targetChannelID:t.props.data.targetChannel.id},Vn(Ee.SpadeEventType.RaidUpsellClick,Object(a.__assign)(Object(a.__assign)({},e),{action:xn.Raid})),t.props.send("/raid "+t.props.targetChannelLogin),t.props.closeRaidUpsell()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.data.refetch()},t.prototype.componentDidUpdate=function(e){if(e.data.loading!==this.props.data.loading&&!this.props.data.loading){if(!this.channelDisplayName||!this.isViewersCountWithinRange||this.isAttemptingToHostSelf)return this.handleSendHostMsg();t={sourceChannelID:this.props.data.sourceChannel.id,targetChannelID:this.props.data.targetChannel.id},Vn(Ee.SpadeEventType.RaidUpsellImpression,t),P.m.set(Hn,!0)}var t},t.prototype.render=function(){var e=this.props.data.loading,t=this.channelDisplayName;return e||!t||!this.isViewersCountWithinRange||this.isAttemptingToHostSelf?null:r.createElement(St.a,{className:"raid-upsell-prompt",padding:1,margin:{x:2}},r.createElement(St.a,{display:yt.g.Flex,justifyContent:yt.l.Between},r.createElement(St.a,{display:yt.g.Flex},r.createElement(St.a,{className:"raid-upsell-prompt__notification",margin:{top:.5}},r.createElement(Nt.a,{asset:_t.a.NotificationInfo})),r.createElement(St.a,{margin:{x:1}},r.createElement(Ct.a,{type:Ct.e.H6,bold:!0},Object(P.d)("How about raiding {channelDisplayName}?",{channelDisplayName:t},"RaidUpsellPrompt")),r.createElement(Ct.a,{type:Ct.e.P,color:yt.f.Alt2},Object(P.d)("Now you can raid whenever you want instead of waiting 30 seconds.","RaidUpsellPrompt")))),r.createElement(kt.a,{color:yt.f.OverlayAlt},r.createElement(nn.a,Object(a.__assign)({},Gn,{icon:_t.a.Close,size:nn.b.Small,ariaLabel:Object(P.d)("Dismiss","RaidUpsellPrompt"),onClick:this.handleDismissUpsell})))),r.createElement(Wn,{onSendHostMsg:this.handleSendHostMsgFromUpsell,onSendRaidMsg:this.handleSendRaidMsg}))},Object.defineProperty(t.prototype,"channelDisplayName",{get:function(){var e=this.props.data.targetChannel;return e&&e.displayName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isViewersCountWithinRange",{get:function(){var e=this.props.data.sourceChannel,t=e&&e.stream&&e.stream.viewersCount;return t&&t>=3&&t<1e5},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttemptingToHostSelf",{get:function(){return this.props.targetChannelLogin===this.props.sourceChannelLogin},enumerable:!0,configurable:!0}),t}(r.Component),Wn=function(e){return r.createElement(St.a,{display:yt.g.Flex,justifyContent:yt.l.End,margin:{top:1}},r.createElement(St.a,{margin:{right:1}},r.createElement(Et.a,{type:Et.d.Secondary,size:Et.b.Small,onClick:e.onSendHostMsg},r.createElement(St.a,{padding:{x:2}},Object(P.d)("Host","RaidUpsellPrompt")))),r.createElement(St.a,null,r.createElement(Et.a,{size:Et.b.Small,onClick:e.onSendRaidMsg},r.createElement(St.a,{padding:{x:2}},Object(P.d)("Raid","RaidUpsellPrompt")))))},zn=Object(l.a)(Bn,{options:function(e){return{variables:{targetChannelLogin:e.targetChannelLogin,sourceChannelLogin:e.sourceChannelLogin}}}})(qn),Qn=n("gTu3"),Yn=n("YXxK"),Kn=n("B9yr"),$n=n("lNGo"),Xn=n("JkAt"),Zn=n("cpJf"),Jn=n("GzyO"),ei=n("Z2sP"),ti=n("EOIh"),ni=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(){this.props.inputValue.length>=this.props.maxLength&&(!this.props.tray||this.props.tray&&this.props.tray.type&&this.props.tray.type===je.a.EmoteOnlyBanner)&&this.updateModifierTray(),this.props.inputValue.length<this.props.maxLength&&this.props.tray&&this.props.tray.type===je.a.CharacterLimitError&&this.props.clearModifierTray()},t.prototype.render=function(){return null},t.prototype.updateModifierTray=function(){var e={title:Object(P.d)("Reached Character Limit of 500","CharacterLimitErrorTray"),inputValue:this.props.inputValue,icon:r.createElement(Ne.a,null),disableClose:!0,type:je.a.CharacterLimitError};this.props.setModifierTray(e)},t}(r.Component);var ii,ai=Object(s.d)(Object(E.b)((function(e){return{setModifierTray:e.setModifierTray,tray:e.tray,clearModifierTray:e.clearModifierTray}})))(ni),ri=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showAutocompleteTray=function(e,n,i){t.props.closeCard(),t.props.closeEmotePicker(),t.props.setModifierTray({body:r.createElement(Ft.a,{onClickOut:t.clearAutocompleteTray},r.createElement(Gt.b,{matches:e,onMatchSelect:n,onDismiss:i,containerElement:t.props.containerElement})),disableClose:!0,floating:!0,type:je.a.AutocompleteTray})},t.clearAutocompleteTray=function(){t.isAutocompleteTray()&&t.props.clearModifierTray()},t}return Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement(Gt.c,Object(a.__assign)({},this.props,{onMatch:this.showAutocompleteTray,onReset:this.clearAutocompleteTray}))},t.prototype.isAutocompleteTray=function(){return this.props.tray&&this.props.tray.type===je.a.AutocompleteTray},t}(r.Component),oi=n("wUQP"),si=n("A4KW"),li=n("kqSx");n("MglV");!function(e){e.Tray="chat-input-tray",e.BodyContainer="chat-input-body-container"}(ii||(ii={}));var ci=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(e){e.tray!==this.props.tray&&(this.closeTrayTimeout&&clearTimeout(this.closeTrayTimeout),this.props.tray&&this.props.tray.timeout&&(this.closeTrayTimeout=setTimeout(this.props.onClose,this.props.tray.timeout)))},t.prototype.componentWillUnmount=function(){this.closeTrayTimeout&&clearTimeout(this.closeTrayTimeout)},t.prototype.render=function(){var e,t,n={"chat-input-tray__open":!!this.props.tray,"chat-input-tray__open--persistent":this.props.tray&&this.props.tray.persistent,"chat-input-tray__floating":this.props.tray&&this.props.tray.floating},i={"chat-input-container__open":!!this.props.tray,"chat-input-container__open--persistent":this.props.tray&&this.props.tray.persistent},a={"chat-input-container__input-wrapper":!!this.props.tray},o=yt.e.Large,s=0,l={left:.5,y:.5};this.props.tray&&(e=yt.d.Base,o={bottomLeft:yt.e.Large,bottomRight:yt.e.Large},this.props.tray.floating&&(t=yt.n.Absolute),this.props.tray.persistent&&(e=yt.d.Alt,s={bottom:.5,x:.5}),this.props.tray.type&&this.props.tray.type===je.a.AutocompleteTray&&(l=0));var c=null;return this.props.tray&&(c=r.createElement(St.a,{padding:s,display:yt.g.Flex,flexDirection:yt.h.Row,alignItems:yt.b.Start,"data-test-selector":ii.Tray},this.props.tray.icon&&r.createElement(St.a,{margin:.5,textAlign:yt.p.Center},this.props.tray.icon),r.createElement(St.a,{padding:l,flexGrow:1},this.props.tray.title&&r.createElement(Ct.a,{bold:!0,fontSize:this.props.tray.persistent?yt.j.Size6:yt.j.Size5,color:this.props.tray.persistent?yt.f.Alt2:yt.f.Alt,type:Ct.e.Span,wordBreak:Ct.g.BreakWord},this.props.tray.title),this.props.tray.pointsCost&&Object(oi.c)("copo_enabled")&&r.createElement(St.a,{display:yt.g.InlineFlex,flexDirection:yt.h.Row,verticalAlign:yt.q.Middle,margin:{left:.5}},r.createElement(St.a,{display:yt.g.InlineBlock},r.createElement(si.b,null)),r.createElement(Ct.a,{color:yt.f.Alt2},Object(P.f)(this.props.tray.pointsCost))),this.renderBody(),this.props.checkbox&&r.createElement(St.a,{padding:{top:.5}},r.createElement(li.a,{label:this.props.checkbox.label,checked:this.props.checkbox.checked,onChange:this.props.checkbox.onChange}))),!this.props.tray.disableClose&&!this.props.tray.persistent&&r.createElement(kt.a,{attachRight:!0,attachTop:!0},r.createElement(nn.a,{ariaLabel:Object(P.d)("Close","ChatInputPrompt"),onClick:this.props.onClose,icon:_t.a.Close}))),this.props.tray.onClick&&(c=r.createElement("div",{onClick:this.props.tray.onClick,className:"chat-input-tray__clickable"},c))),r.createElement(St.a,null,r.createElement(kt.a,{background:e,border:!!this.props.tray,borderRadius:yt.e.Large,display:yt.g.Block,elevation:this.props.tray&&!this.props.tray.persistent?1:0,padding:this.props.tray&&!this.props.tray.persistent?.5:0,position:t,attachRight:!0,attachLeft:!0,zIndex:yt.s.Below,className:mt(n)},c,this.renderTrayError()),r.createElement(kt.a,{background:e,borderRadius:o,display:yt.g.Block,padding:this.props.tray&&!this.props.tray.persistent?.5:0,className:mt(i)},r.createElement(St.a,{position:yt.n.Relative,className:mt(a)},this.props.children)))},t.prototype.renderTrayError=function(){var e={"chat-input-tray__open":!!this.props.tray};if(this.props.tray&&this.props.tray.error)return r.createElement(kt.a,{borderTop:!0,borderRadius:yt.e.Large,display:yt.g.Block,padding:.5,attachRight:!0,attachLeft:!0,className:mt(e)},r.createElement(St.a,{attachLeft:!0,alignItems:yt.b.Center,display:yt.g.Flex},r.createElement(St.a,{margin:{x:1}},r.createElement(Nt.a,{asset:_t.a.Warning,type:Nt.b.Warn})),r.createElement(St.a,{margin:{bottom:.5}},r.createElement(Ct.a,{color:yt.f.Alt2},this.props.tray.error," "))))},t.prototype.renderBody=function(){if(this.props.tray&&this.props.tray.body)return"string"==typeof this.props.tray.body?r.createElement(St.a,{"data-test-selector":ii.BodyContainer,padding:{top:.5}},r.createElement(Ct.a,{color:yt.f.Alt2,wordBreak:Ct.g.BreakWord},this.props.tray.body)):this.props.tray.body},t}(r.Component);var di,ui=n("dIU+"),mi=K.a.wrap((function(){return n.e(106).then(n.bind(null,"QjI3"))}),"SubscribeButton");!function(e){e.ChatRestrictedHeader="chat-restricted-header"}(di||(di={}));var pi=function(e){function t(t){var n=e.call(this,t)||this;return n.renderBalloon=function(e,t){if(!n.props.showBalloon)return null;var i=null;return t&&(i=r.createElement(St.a,{display:yt.g.Flex,margin:{top:1}},t,r.createElement(St.a,null))),r.createElement(Ft.a,{onClickOut:n.handleBalloonClickOut},r.createElement(jn.a,{direction:jn.b.TopLeft,offsetY:"-0.5rem",size:jn.c.Medium,show:n.props.showBalloon,tailOffset:50},r.createElement(kt.a,{color:yt.f.Base,padding:1},e,i)))},n.onRestrictionsUpdate=function(){if(n.props.chatRestrictionsAPI){var e=n.props.chatRestrictionsAPI.getRestrictions();if(e){var t=null;e.includes(L.N.FOLLOWERS_ONLY)&&(t=n.props.chatRestrictionsAPI.getRemainingFollowSeconds()),n.setState({reasons:e,followSecondsRemaining:t})}else n.setState({reasons:[]})}else n.setState({reasons:[]})},n.handleBalloonClickOut=function(e){n.rootRef&&n.rootRef.contains(e.target)&&e.stopPropagation(),n.props.closeBalloon()},n.handleActionClick=function(){null!==n.firstRelevantReason&&function(e){var t;switch(e.restriction){case L.N.SUBSCRIBERS_ONLY:t="subscribe";break;case L.N.VERIFIED_ONLY:t="go_to_settings";break;case L.N.FOLLOWERS_ONLY:t="follow";break;default:return}var n={action_type:t,channel:e.channelLogin,channel_id:e.channelID};P.o.track(Ee.SpadeEventType.ChatInputRestrictedAction,n)}({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin,restriction:n.firstRelevantReason})},n.setRootRef=function(e){return n.rootRef=e},n.state={reasons:[],followSecondsRemaining:null},n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.showBalloon&&this.trackImpression(),this.props.chatRestrictionsAPI&&(this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate),this.onRestrictionsUpdate())},t.prototype.componentWillUnmount=function(){this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate)},t.prototype.componentDidUpdate=function(e){this.props.showBalloon&&!e.showBalloon&&this.trackImpression(),e.chatRestrictionsAPI!==this.props.chatRestrictionsAPI&&(this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate),this.props.chatRestrictionsAPI&&(this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate),this.onRestrictionsUpdate()))},t.prototype.render=function(){var e="",t=null,n=null;switch(this.firstRelevantReason){case L.N.SUBSCRIBERS_ONLY:e=Object(P.d)("Subscribers-Only Chat","ChatModeHeader"),t=Object(P.d)("Only {streamer}'s subscribers can chat right now. Subscribe and join in!",{streamer:this.props.channelDisplayName||this.props.channelLogin},"ChatModeHeader"),n=r.createElement("div",{onClick:this.handleActionClick},r.createElement(mi,{balloonDirection:jn.b.TopRight,channelLogin:this.props.channelLogin,subLocation:"channel_page",forceIcon:!0}));break;case L.N.VERIFIED_ONLY:e=Object(P.d)("Verified Accounts Only Chat","ChatModeHeader"),t=Object(P.d)("Verify your account in Settings to chat!","ChatModeHeader"),n=r.createElement(Et.a,{onClick:this.handleActionClick,linkTo:"/settings/security",targetBlank:!0},Object(P.d)("Go to Settings","ChatModeHeader"));break;case L.N.FOLLOWERS_ONLY:if(e=Object(P.d)("Followers-Only Chat","ChatModeHeader"),this.props.followerDurationSeconds>0&&null!==this.state.followSecondsRemaining){var i=Object(Ut.b)(this.props.followerDurationSeconds),a=Object(Ut.b)(this.state.followSecondsRemaining);t=Object(P.d)("You need to be a follower for {timeRequired} to chat, and you have {timeRemaining} left.",{timeRequired:i,timeRemaining:a},"ChatModeHeader")}else t=Object(P.d)("You need to be a follower of {streamer} to chat.",{streamer:this.props.channelDisplayName||this.props.channelLogin},"ChatModeHeader"),n=r.createElement(ui.FollowButton,{channelLogin:this.props.channelLogin,onFollow:this.handleActionClick,onUnfollow:this.handleActionClick,followUIType:ui.FollowButtonUIType.IconAndText,unfollowUIType:ui.FollowButtonUIType.IconAndText,balloonDirection:jn.b.TopRight,hideDropdownWhenFollowing:!0});break;case L.N.SLOW_MODE:default:return null}return r.createElement("div",{ref:this.setRootRef},r.createElement(kt.a,{borderTop:!0,color:yt.f.Alt2,display:yt.g.Flex,fontSize:yt.j.Size6,padding:{y:.5},position:yt.n.Relative,"data-test-selector":di.ChatRestrictedHeader},r.createElement(Mn.a,{hoverColorInherit:!0,hoverUnderlineNone:!0,onClick:this.props.openBalloon,type:Mn.b.Inherit},r.createElement(Ct.a,{bold:!0},e)),r.createElement(St.a,{margin:{left:.5}},r.createElement(nn.a,{icon:_t.a.NotificationInfo,onClick:this.props.openBalloon,type:nn.c.Secondary})),this.renderBalloon(t,n)))},Object.defineProperty(t.prototype,"firstRelevantReason",{get:function(){for(var e=0,t=this.state.reasons;e<t.length;e++){var n=t[e];if(!this.props.ignoredRestrictions||!this.props.ignoredRestrictions.has(n))return n}return null},enumerable:!0,configurable:!0}),t.prototype.trackImpression=function(){this.firstRelevantReason&&function(e){var t;switch(e.restriction){case L.N.SUBSCRIBERS_ONLY:t="subscriber_mode";break;case L.N.VERIFIED_ONLY:t="verified_mode";break;case L.N.FOLLOWERS_ONLY:t=e.requiredDuration?"follow_mode_timer":"follow_mode";break;default:return}var n={channel:e.channelLogin,channel_id:e.channelID,impression_type:t};P.o.track(Ee.SpadeEventType.ChatInputRestrictedImpression,n)}({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin,restriction:this.firstRelevantReason,requiredDuration:this.props.followerDurationSeconds})},t}(r.Component);Object(s.d)(pi);var hi=Object(s.d)(Object(re.b)((function(e){return{followerDurationSeconds:60*e.followerDuration,followerMode:e.followerMode}})),W)(pi),fi=n("JN5s"),gi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lastSentMessage:"",lastSentTimestamp:Date.now()},t.key="duplicated-messages",t.isDuplicatedMessage=function(e){return t.condenseWhitespace(e)===t.state.lastSentMessage&&Date.now()-t.state.lastSentTimestamp<3e4&&(t.updateModifierTray(),!0)},t.onMessageSent=function(e){t.setState({lastSentMessage:t.condenseWhitespace(e),lastSentTimestamp:Date.now()})},t.clearDupMessageModifierTray=function(){t.props.tray&&t.props.tray.type===je.a.DuplicatedMessageError&&t.props.clearModifierTray()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.registerSendMessageErrorCheck({check:this.isDuplicatedMessage,onMessageSent:this.onMessageSent},this.key)},t.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(this.key)},t.prototype.componentDidUpdate=function(){this.condenseWhitespace(this.props.inputValue)!==this.state.lastSentMessage&&this.clearDupMessageModifierTray()},t.prototype.render=function(){return null},t.prototype.condenseWhitespace=function(e){return e.replace(/\s+/g," ").trim()},t.prototype.updateModifierTray=function(){var e={title:Object(P.d)("Message Not Sent","DuplicatedMessageErrorTray"),body:Object(fi.a)(),icon:r.createElement(Ne.a,null),type:je.a.DuplicatedMessageError,timeout:3e4,disableChat:!0};this.props.setModifierTray(e)},t}(r.Component);var vi=Object(s.d)(Object(E.b)((function(e){return{setModifierTray:e.setModifierTray,tray:e.tray,clearModifierTray:e.clearModifierTray}})))(gi),bi=n("hbnN"),ki=(n("f805"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.key="emote-only-messages",t.trayTitle=Object(P.d)("Emote Only Chat","EmoteOnlyTray"),t.trayDescription=Object(P.d)("This room is in emote only mode. You can find your currently available emoticons using the smiley in the chat text area.","EmoteOnlyTray"),t.buildEmoteLookup=Object(bi.a)((function(e){for(var t=[],n=0,i=e;n<i.length;n++){var a=i[n];a&&a.id&&a.emotes&&(t=t.concat(Object(Re.c)(a.emotes).map((function(e){return e.displayName}))))}return new Set(t)})),t.manageEmoteOnlyTrays=function(){if(t.props.emoteOnlyMode&&!t.props.hasChatRestriction&&!t.props.tray){var e={title:t.trayTitle,icon:r.createElement(Nt.a,{asset:_t.a.NotificationInfo,type:Nt.b.Prime}),body:t.trayDescription},n={title:t.trayTitle,icon:r.createElement(kt.a,{color:yt.f.Alt2,className:"emote-only-error-handler__tray-icon"},r.createElement(Nt.a,{asset:_t.a.NotificationInfo,height:18,width:18})),type:je.a.EmoteOnlyBanner,persistent:!0,onClick:function(){t.props.setModifierTray(e)}};t.props.setModifierTray(n)}t.props.emoteOnlyMode&&!t.props.hasChatRestriction||!t.props.tray||t.props.tray.type!==je.a.EmoteOnlyBanner&&t.props.tray.type!==je.a.EmoteOnlyInfo||t.props.clearModifierTray(),!t.props.emoteOnlyMode&&t.props.tray&&t.props.tray.type===je.a.EmoteOnlyWarning&&t.props.clearModifierTray()},t.isNotEmoteOnly=function(e){if(!t.props.emoteOnlyMode)return!1;var n=!1,i=t.buildEmoteLookup(t.props.emotes);return e.replace(/\n/g," ").trim().split(" ").some((function(e){return e.length>0&&!i.has(e)&&(n=!0,t.updateModifierTray(),!0)})),n},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.registerSendMessageErrorCheck({check:this.isNotEmoteOnly,onMessageSent:function(){return null}},this.key),this.manageEmoteOnlyTrays()},t.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(this.key)},t.prototype.componentDidUpdate=function(){this.manageEmoteOnlyTrays()},t.prototype.render=function(){return null},t.prototype.updateModifierTray=function(){var e={title:this.trayTitle,body:this.trayDescription,icon:r.createElement(Ne.a,null),type:je.a.EmoteOnlyWarning,timeout:3e4};this.props.setModifierTray(e)},t}(r.Component));var yi=Object(s.d)(Object(E.b)((function(e){return{setModifierTray:e.setModifierTray,tray:e.tray,clearModifierTray:e.clearModifierTray}})))(ki),Si=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lastSentTimestamp:null},t.key="message-throughput",t.isSendingMessageTooFast=function(e){if(null===t.state.lastSentTimestamp)return!1;var n=t.state.lastSentTimestamp||0;return Date.now()-n<1e3&&(t.updateModifierTray(),!0)},t.onMessageSent=function(e){t.setState({lastSentTimestamp:Date.now()})},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.registerSendMessageErrorCheck({check:this.isSendingMessageTooFast,onMessageSent:this.onMessageSent},this.key)},t.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(this.key)},t.prototype.render=function(){return null},t.prototype.updateModifierTray=function(){var e={title:Object(P.d)("Message Not Sent","MessageThroughputErrorTray"),body:Object(P.d)("You are sending messages too quickly.","MessageThroughputErrorTray"),icon:r.createElement(Ne.a,null),type:je.a.MessageThroughputError,timeout:3e4};this.props.setModifierTray(e)},t}(r.Component);var Ci=Object(s.d)(Object(E.b)((function(e){return{setModifierTray:e.setModifierTray,tray:e.tray,clearModifierTray:e.clearModifierTray}})))(Si),Ei=function(e){function t(t){var n=e.call(this,t)||this;return n.setTimeRemaining=function(){n.state.remainingTimeSeconds>0?n.setState((function(e){return{remainingTimeSeconds:e.remainingTimeSeconds-1}})):n.props.onCompletion&&(n.countdownTimer.stop(),n.props.onCompletion())},n.state={remainingTimeSeconds:t.timeToCountDownFromSeconds},n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.countdownTimer=new ze.a({onInterval:this.setTimeRemaining,intervalMillis:1e3}),this.countdownTimer.start()},t.prototype.componentWillUnmount=function(){this.countdownTimer.stop()},t.prototype.render=function(){return r.createElement(r.Fragment,null,Object(Ut.b)(this.state.remainingTimeSeconds))},t}(r.Component),wi=function(e){function t(t){return e.call(this,t)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=new Date(this.props.timeoutExpiry),t=new Date,n=Math.floor(Math.abs(e.getTime()-t.getTime())/1e3),i=r.createElement(Ei,{timeToCountDownFromSeconds:n,onCompletion:this.props.refetchTimeoutState});return r.createElement(St.a,{padding:{bottom:2,x:2}},r.createElement(kt.a,{padding:{bottom:1,x:2},borderTop:!0}),r.createElement(St.a,{textAlign:yt.p.Center},r.createElement(Ct.a,{color:yt.f.Base,"data-test-selector":"current-user-timed-out-text",bold:!0},Object(P.d)("You are currently timed out from Chat.","ChatInput")),r.createElement(Ct.a,{color:yt.f.Alt2},Object(P.d)("You can chat again in {countDown}.",{countDown:i},"ChatInput"))),this.props.renderButtonContainer(!0,null))},t}(r.Component),Oi=n("DwV5"),Di=n("O0eq"),Ni=n("1qVK"),_i=n("zJj8"),Ii=[je.a.AutocompleteTray,je.a.CharacterLimitError,je.a.CommandWarning,je.a.CommandInfo,je.a.DuplicatedMessageError,je.a.MessageThroughputError],Mi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SEND_MESSAGE_ERROR_CHECK_KEY="watch-party-messages",t.getTrayBody=function(){var e=r.createElement(St.a,{margin:{top:1,bottom:1}},r.createElement(Ct.a,null,Object(P.d)("Welcome to a Watch Party, where you can watch Prime Video shows and movies together with other Prime viewers.","WatchPartyTrayManager"))),n=r.createElement(Ct.a,null,!t.canChat()&&Object(P.d)("To participate in chat, you must be in the Watch Party with Prime and the title must be available in your region.","WatchPartyTrayManager")),i=!Object(M.c)()&&!Object(M.b)();return r.createElement(St.a,null,e,r.createElement(St.a,{margin:{top:1}},n),i&&r.createElement(St.a,{margin:{top:1}},r.createElement(Ct.a,null,Object(P.d)("Watch Parties currently do not support Subs, Cheers, Clips, VODs, Raiding, and ads due to content licensing restrictions.","WatchPartyTrayManager"))))},t.manageWatchPartyTrays=function(e){t.props.isTrayActive?e?t.props.setModifierTray(e):t.props.setModifierTray(t.getPersistentTray()):t.props.tray&&t.isWatchPartyTrayType(t.props.tray)&&t.props.clearModifierTray()},t.getInfoTray=function(){return{icon:t.canChat()?r.createElement(Nt.a,{asset:_t.a.NotificationInfo,type:Nt.b.Prime}):r.createElement(Nt.a,{asset:_t.a.Warning,type:Nt.b.Warn}),title:t.getTrayTitle(),body:t.getTrayBody(),callOnClose:function(){return t.props.setModifierTray(t.getPersistentTray())},type:je.a.WatchPartyInfo,disableBits:!Object(M.b)()}},t.getPersistentTray=function(){var e=t.canChat()?_t.a.NotificationInfo:_t.a.Warning;return{icon:r.createElement(kt.a,{color:yt.f.Alt2},r.createElement(Nt.a,{asset:e})),title:t.getTrayTitle(),persistent:!0,onClick:function(){return t.props.setModifierTray(t.getInfoTray())},type:je.a.WatchPartyBanner,disableBits:!Object(M.b)()}},t.suppressNonPrimeMessages=function(){if(!t.props.isTrayActive)return!1;var e=!t.canChat()||t.props.isChatDisabledOnPage;return e&&t.manageWatchPartyTrays(t.getInfoTray()),e},t.canChat=function(){if(!t.props.data||t.props.data.loading||!t.props.primeCheck||t.props.primeCheck.loading||!t.props.data.currentUser||!t.props.primeCheck.primeVideoBenefit)return!1;var e=t.props.data.currentUser.isModerator,n=t.props.data.currentUser.id===t.props.channelID,i=t.props.primeCheck.primeVideoBenefit.isValid;return!t.props.isChatDisabledOnPage&&(e||n||i)},t.shouldOverrideCurrentTray=function(e){return void 0===e.type||!1===Ii.includes(e.type)},t.isWatchPartyTrayType=function(e){return e.type===je.a.WatchPartyBanner||e.type===je.a.WatchPartyInfo||e.type===je.a.WatchPartyError},t.getTrayTitle=function(){return Object(P.d)("Watch Party Chat","WatchPartyTray")},t.didFinishLoadingGQLData=function(e){var n=e.primeCheck&&!0===e.primeCheck.loading&&t.props.primeCheck&&!1===t.props.primeCheck.loading;return e.data&&!0===e.data.loading&&t.props.data&&!1===t.props.data.loading||n},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){Object(M.l)()&&(this.manageWatchPartyTrays(),this.props.registerSendMessageErrorCheck({check:this.suppressNonPrimeMessages,onMessageSent:function(){return null}},this.SEND_MESSAGE_ERROR_CHECK_KEY))},t.prototype.componentDidUpdate=function(e){if(Object(M.l)()){var t=this.props.isTrayActive&&this.props.tray&&this.shouldOverrideCurrentTray(this.props.tray)&&!this.isWatchPartyTrayType(this.props.tray);(e.isTrayActive!==this.props.isTrayActive||!this.props.tray||t||this.didFinishLoadingGQLData(e))&&this.manageWatchPartyTrays()}},t.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(this.SEND_MESSAGE_ERROR_CHECK_KEY)},t.prototype.render=function(){return null},t}(r.Component);var Ti=Object(s.d)(Object(E.b)((function(e){return{clearModifierTray:e.clearModifierTray,setModifierTray:e.setModifierTray,tray:e.tray}})),Object(T.withWatchPartyContext)((function(e){return{isTrayActive:e.isWatchPartyActive,isChatDisabledOnPage:!e.canChatOnPageDuringWatchParty}})),Object(l.a)(_i,{options:function(e){return{variables:{channelID:e.channelID}}},skip:function(e){return!e.isTrayActive||!e.channelID||!Object(M.l)()}}),Object(Di.a)(Ni,{name:"primeCheck",skip:function(e){return!(Object(M.l)()&&e.isTrayActive&&e.channelID&&Object(Oi.c)()&&e.data&&e.data.currentUser)}}))(Mi),ji=n("FS60"),Pi=n("4ACg"),Li=n("5sY2"),Ri=n("wqjf"),Fi=function(e){var t=Object(P.d)("Chat","ChatInput");if(e.inputText&&null!==Object(kn.s)(e.inputText))t=Object(P.d)("Whisper","ChatInput");else if(e.sendButtonOverride)switch(e.sendButtonOverride){case je.b.ShareEmoteReward:case je.b.ShareBitsBadgeTier:case je.b.ShareResub:t=Object(P.d)("Share","ChatInput");break;case je.b.ThankSubGifter:t=Object(P.d)("Send Thanks","ChatInput")}return r.createElement(Et.a,{onClick:function(){return e.onClick(Yn.b.Click)},"data-a-target":"chat-send-button",disabled:e.disabled},t)};Fi.displayName="ChatInputSendButton";n("QY5S");function Ai(e){return!(!e||!0!==e.isPermanent)}function xi(e){return!(!e||!1!==e.isPermanent)}function Ui(e){var t="";return xi(e)&&(null==e?void 0:e.expiresAt)&&(t=e.expiresAt),t}var Bi="chat-input-buttons-container",Vi="chat-viewer-list",Hi="pending_chat_message",Gi=/\S/,qi=91,Wi="chat_rules_shown",zi=/version\/([\w\.]+).+?(mobile\s?safari|safari)/i,Qi=/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,Yi=K.a.wrap((function(){return Promise.all([n.e(0),n.e(58)]).then(n.bind(null,"tPnS"))}),"ChatPrivateCalloutQueue",{placeholder:null}),Ki=K.a.wrap((function(){return n.e(88).then(n.bind(null,"mmRu"))}),"EmotePickerMenu",{placeholder:null}),$i=K.a.wrap((function(){return Promise.all([n.e(0),n.e(76)]).then(n.bind(null,"falg"))}),"RewardCenter",{placeholder:null}),Xi=function(e){function t(t){var n=e.call(this,t)||this;return n.cancelDelayedSend=null,n.confirmDelayedSend=null,n.hasConfirmedInEmbed=!1,n.hasSeenConfirmationPrompt=!1,n.sendMessageErrorChecks={},n.shouldClearModifierTrayTypes=new Set([je.a.CharacterLimitError,je.a.DuplicatedMessageError,je.a.MessageThroughputError,je.a.CommandWarning]),n.renderButtonContainer=function(e,t){var i;void 0===e&&(e=!1);var a=Ai(n.getUserBanStatus());return r.createElement(St.a,{className:"chat-input__buttons-container","data-test-selector":Bi,display:n.props.hideChatInputButtons?yt.g.Hide:yt.g.Flex,justifyContent:yt.l.Between,margin:{top:1}},r.createElement(St.a,{display:yt.g.Flex,flexDirection:yt.h.Row},!n.inChatInputRevampExperiment&&r.createElement(nn.a,{ariaLabel:Object(P.d)("Users in Chat","ChatInput"),"data-a-target":Vi,"data-test-selector":Vi,icon:_t.a.ViewerList,onClick:n.onShowViewersList}),r.createElement(At.a,{name:"copo_enabled"},r.createElement(St.a,{position:yt.n.Relative,zIndex:yt.s.Default},n.props.firstPageLoaded&&r.createElement($i,{buttonDisabled:a})))),r.createElement(St.a,{display:yt.g.Flex,alignItems:yt.b.Center,alignContent:yt.a.Center,flexDirection:yt.h.Row},r.createElement(St.a,{margin:{right:1}},r.createElement(Ct.a,{color:yt.f.Alt2},t)),n.props.isCurrentUserModerator&&n.props.showModViewIngress&&r.createElement(Fn,{channelLogin:n.props.channelLogin}),r.createElement(St.a,{position:yt.n.Relative},!n.props.hideChatSettings&&r.createElement(hn.a,{onShowChatRules:n.props.onShowChatRules,channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,authToken:n.props.authToken,isCurrentUserModerator:n.props.isCurrentUserModerator,onChatCommand:n.onChatCommand,isPopout:n.props.isPopout,isEmbedded:n.props.isEmbedded,channelID:n.props.channelID,containerElement:n.props.containerElement})),r.createElement(St.a,{margin:{left:.5}},r.createElement(Fi,{disabled:e||n.state.isSendingBits||n.props.isTextInputDisabled,inputText:n.state.value,onClick:n.onMessageSend,sendButtonOverride:null===(i=n.props.tray)||void 0===i?void 0:i.sendButtonOverride}))))},n.refetchTimeoutState=function(){return Object(a.__awaiter)(n,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return this.props&&this.props.data?[4,this.props.data.refetch()]:[3,2];case 1:return[2,e.sent()];case 2:return[2]}}))}))},n.renderSlowModeProgressBar=function(){if(n.state.chatRestrictedReasons[0]===L.N.SLOW_MODE&&!n.ignoreSlowMode){var e=n.state.slowModeSecondsRemaining/n.props.slowModeDuration*100;return r.createElement(St.a,{position:yt.n.Absolute,attachBottom:!0,fullWidth:!0},r.createElement(ei.a,{borderRadius:yt.e.Small,size:ei.c.Small,value:e,mask:!0}))}return null},n.renderSubBenefitExperimentPortalButton=function(){return r.createElement(Pi.a,{"data-test-selector":Li.b,node:Li.c},r.createElement(Li.a,{openEmotePicker:n.onEmotePickerToggle}))},n.setLocalChatInputRef=function(e){n.chatInputRef=e,n.props.setChatInputRef(e)},n.setLocalAutocompleteInputRef=function(e){n.autocompleteInputRef=e,n.props.setAutocompleteInputRef(e)},n.onCheerInvalid=function(e){n.state.bitsCardError!==e&&(n.setState({bitsCardError:e}),e&&n.trackBitsCardInteraction(pn.c.UserViewingCheerError,{bitsCardError:e}))},n.onSendCheerWhenSendDisabled=function(){n.trackBitsCardInteraction(pn.c.SendInvalidCheerAttemptButtonDisabled,{bitsCardError:n.state.bitsCardError})},n.onAnonymousCheerToggle=function(e){n.setState({isAnonymousCheer:e})},n.onKeyDown=function(e){var t=e.charCode||e.keyCode;switch(n.props.onKeyDown&&t!==xt.a.Enter&&n.props.onKeyDown(e),n.props.bitsSendHasError&&n.props.clearBitsSendError(),t){case xt.a.Enter:return void(e.shiftKey||(e.preventDefault(),n.onMessageSend(Yn.b.Enter)));case xt.a.Esc:return void(n.state.showBitsCard&&n.setState({showBitsCard:!1}));default:return}},n.onMessageValueUpdate=function(e){n.inChatInputRevampExperiment&&n.resizeInput(),n.setState({value:e})},n.resizeInput=function(){zi.test(navigator.userAgent)||Qi.test(navigator.userAgent)||n.chatInputRef&&(n.chatInputRef.style.height="auto",n.chatInputRef.style.height=n.chatInputRef.scrollHeight+"px",n.chatInputRef.scrollHeight<qi?n.chatInputRef.style.overflowY="hidden":n.chatInputRef.style.overflowY="auto")},n.onInputFocus=function(){n.props.onInputFocus&&n.props.onInputFocus(),n.setState({hasInteracted:!0})},n.onMouseEnterInput=function(){n.setState({hasInteracted:!0})},n.onChatCommand=function(e){n.props.onChatCommand(e),n.trackChatEvent(n.props.emotePickerSessionID,Yn.b.Click)},n.confirmEmbedAction=function(e,t,i){var a=n,r=a.hasConfirmedInEmbed;if(a.hasSeenConfirmationPrompt)return r;var o=window.confirm(n.confirmationMessage(e,t,i));return n.hasSeenConfirmationPrompt=!0,n.hasConfirmedInEmbed=o,n.setState({hasSeenAndRejectedEmbedPrompt:!o}),o},n.confirmationMessage=function(e,t,n){return Object(P.d)('Hi {displayName}. You are attempting to send "{message}" in {channelLogin}\'s chat via an embedded version of Twitch Chat. Are you sure you want to do this? This setting will persist until you refresh the page',{displayName:e,message:t,channelLogin:n},"ChatInput")},n.onMessageSend=function(e){return Object(a.__awaiter)(n,void 0,void 0,(function(){var t,n,i,r,o,s,l,c=this;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:if(!this.bypassDisable){if(!this.bypassRestrictionDisable&&this.state.chatRestrictedReasons.length)return this.setState({showChatRestrictionCard:!0,showBitsCard:!1}),[2];if(this.inputRevampDisableChatConditions()||this.props.tray&&this.props.tray.disableChat)return[2]}if(!this.props.authToken)return this.handleLogin(),[2];if(!this.props.channelID)return P.k.warn("[ChatInput] Attempt to send a message before channel ID"),[2];if(!this.props.tray||!this.props.tray.sendMessageHandler)return[3,8];switch(this.closeCard(),t=this.props.tray.sendMessageHandler,t.type){case je.c.Custom:return[3,1];case je.c.ShareResub:return[3,4]}return[3,7];case 1:return t.handleMessage?[4,t.handleMessage(this.state.value,t.params)]:[3,3];case 2:a.sent()?t.onSuccess&&t.onSuccess(this.state.value,t.params):t.onError&&t.onError(this.state.value,t.params),a.label=3;case 3:return[2];case 4:return t.handleMessage?(t.params=t.params||{},t.params.opt=this.state.shareResubStreak,[4,t.handleMessage(this.state.value,t.params)]):[3,6];case 5:a.sent()?t.onSuccess&&t.onSuccess(this.state.value,t.params):t.onError&&t.onError(this.state.value,t.params),a.label=6;case 6:return this.props.clearTray(),[2];case 7:a.label=8;case 8:return(n=Gi.test(this.state.value))?this.state.isSendingBits?(P.k.debug("[ChatInput] Supressing chat message send. Bits spending is still in progress."),[2]):this.props.isEmbedded&&(this.props.isCurrentUserModerator||this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.isPartner)&&this.props.sessionUser&&!this.confirmEmbedAction(this.props.sessionUser.displayName,this.state.value||"",this.props.channelLogin)?(P.k.debug("[ChatInput] Embed Confirmation check failed. Not sending message"),[2]):(this.resetAndUpdateRenderSentChatMessageEvent(),this.state.value.split(/\s+/).forEach((function(e){c.props.emoteMap&&c.props.emoteMap.hasOwnProperty(e)&&Object(Jn.a)(c.props.emoteMap[e])})),this.props.data&&this.props.data.currentUser?this.isTypingCommand()?(this.sendRegularMessage(e),[2]):(i=Object(mn.a)(this.state.messageCheers),r=Object(ke.b)(),0===i.total?(this.sendRegularMessage(e),this.state.messageCheers.length&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Yn.d.ZeroBits),[2]):this.props.data.channel?this.props.data.channel.cheer?this.props.data.channel.cheer.settings?this.props.tray&&this.props.tray.disableBits?(P.k.warn("[Chat Input] Bits are disabled due to an input tray."),[2]):this.props.bitsConfig?(this.state.bitsCardError&&(this.onSendCheerWhenSendDisabled(),this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Yn.d.BitsCardDisabled)),(o=Object(mn.g)({messageBits:i,balance:this.props.data.currentUser.bitsBalance||0,cheerMinimumBits:this.props.data.channel.cheer.settings.cheerMinimumBits,emoteMinimumBits:this.props.data.channel.cheer.settings.emoteMinimumBits,inputValue:this.state.value,bitsConfig:this.props.bitsConfig})).canSpend?this.props.sendCheer?(this.setState({isSendingBits:!0}),i.total>=gt.q?[4,new Promise((function(e){var t=setTimeout(e,gt.u.UNDO_PROMPT_DURATION),n=function(n){void 0===n&&(n=!1),clearTimeout(t),c.cancelDelayedSend=null,c.confirmDelayedSend=null,e(n)};c.cancelDelayedSend=function(){return n(!0)},c.confirmDelayedSend=function(){return n(!1)}}))]:[3,10]):(P.k.warn("[Chat Input] No GraphQL mutation for sending cheers attached."),[2]):(P.k.warn("[Chat Input] Spending bits forbidden.",o),o.cheerAboveMaxBitsPerEmote&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Yn.d.AboveMaxEmote),o.totalAboveBalance&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Yn.d.BitsUnavailable),o.totalBelowCheerMinimum&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Yn.d.BelowMin),o.totalBelowEmoteMinimum&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Yn.d.BelowMinEmote),o.inputLongerThanMaxBitsMessage&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Yn.d.InputAboveMaxLength),o.inputStartsWithCommand&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Yn.d.InputCommandStart),o.cheerContainsInvalidDisplayOnlyCheermotes&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Yn.d.InvalidBitsMessage),[2])):(P.k.warn("[Chat Input] Bits Config is undefined"),this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Yn.d.MissingBitsConfig),[2]):(P.k.warn("[Chat Input] Cheer Settings are undefined."),[2]):(P.k.warn("[Chat Input] Cheer is null."),[2]):(P.k.warn("[Chat Input] User is null."),[2])):(this.sendRegularMessage(e),[2])):(P.k.debug("[ChatInput] Supressing chat message send. Input failed to pass validation.",{hasSendableInput:n,value:this.state.value}),[2]);case 9:if(a.sent())return this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Yn.d.Canceled),this.setState({isSendingBits:!1}),this.chatInputRef.focus(),[2];a.label=10;case 10:return a.trys.push([10,12,,13]),s={id:r,targetID:this.props.channelID,bits:i.total,content:this.state.value,isAutoModEnabled:!0,shouldCheerAnyway:this.props.forceSendCheer,isAnonymous:this.state.isAnonymousCheer},this.props.clearBitsSendError(),[4,this.props.sendCheer({variables:{input:s}})];case 11:return(l=a.sent()).data.sendCheer&&l.data.sendCheer.validationError?(this.props.onSendCheerError&&this.props.onSendCheerError(this.state.value,l.data.sendCheer.validationError),this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Object($n.a)(l.data.sendCheer.validationError.code)),this.setState({isSendingBits:!1,showBitsCard:!1,showChatRestrictionCard:!1,bitsCardError:l.data.sendCheer.validationError.code}),this.props.closeEmotePicker(),this.chatInputRef&&this.chatInputRef.focus(),[2]):[3,13];case 12:return a.sent(),this.props.onSendCheerError&&this.props.onSendCheerError(this.state.value,{code:L.Yc.UNKNOWN}),this.trackCheerErrorEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer,Yn.d.Unknown),this.setState({isSendingBits:!1,bitsCardError:L.Yc.UNKNOWN}),this.chatInputRef&&this.chatInputRef.focus(),[2];case 13:return this.props.onSendCheerSuccess(),this.trackCheerEvent(this.props.emotePickerSessionID,i.total,this.state.value,r,this.state.isAnonymousCheer),this.setState({isSendingBits:!1,bitsCardError:void 0,showBitsCard:!1,showChatRestrictionCard:!1,value:""}),this.chatInputRef&&this.chatInputRef.focus(),this.autocompleteInputRef&&this.autocompleteInputRef.setValue(""),[2]}}))}))},n.onEmotePickerToggle=function(){n.setState((function(e){return e.messageCheers.length?e:Object(a.__assign)(Object(a.__assign)({},e),{showBitsCard:!1,showChatRestrictionCard:!1,hasOpenedEmotePicker:!0})}),(function(){n.props.isShowingEmotePicker?(n.props.closeEmotePicker(),n.props.dismissEmotePickerCallout()):(n.props.showEmotePicker(),n.props.dismissEmotePickerAnimation())}))},n.onEmotePickerButtonClick=function(){var e;Ot.p.track(Ee.SpadeEventType.EmotePickerButtonClick,{user_id:null===(e=n.props.data)||void 0===e?void 0:e.currentUser,channel_id:n.props.channelID,is_animated:n.props.shouldShowEmotePickerAnimation}),n.onEmotePickerToggle()},n.onClickOut=function(){n.props.isShowingEmotePicker&&n.closeCard()},n.onBitsIconClick=function(){n.state.showBitsCard?n.trackBitsCardInteraction(pn.c.CloseCard):n.trackBitsCardInteraction(pn.c.OpenCard),n.setState((function(e){var t=e.showBitsCard,n=e.showChatRestrictionCard;return t?{showBitsCard:!1,showChatRestrictionCard:n}:{showBitsCard:!0,showChatRestrictionCard:!1}})),n.props.isShowingEmotePicker&&n.props.closeEmotePicker()},n.onShowViewersList=function(){(n.state.showBitsCard||n.state.showChatRestrictionCard||n.props.isShowingEmotePicker)&&n.closeCard(),n.props.showViewersList()},n.onBitsClose=function(){n.state.showBitsCard&&n.closeCard(),n.trackBitsCardInteraction(pn.c.CloseCard)},n.onChatRestrictionBalloonClose=function(){n.state.showChatRestrictionCard&&n.closeCard()},n.onChatRestrictionBalloonOpen=function(){n.setState({showChatRestrictionCard:!0})},n.closeCard=function(){n.setState({showBitsCard:!1,showChatRestrictionCard:!1}),n.props.closeEmotePicker()},n.onClickToken=function(e){n.autocompleteInputRef&&n.autocompleteInputRef.setValue(Object(Kn.a)(n.state.value,e))},n.onEmotePickerDataLoaded=function(e){e&&n.setState({showEmotePickerButton:!0})},n.closeTray=function(){n.props.tray&&n.props.tray.callOnClose&&n.props.tray.callOnClose(),n.isErrorTray()||n.isAutocompleteTray()?n.props.clearModifierTray():n.props.tray&&n.props.clearTray()},n.trackCheerEvent=function(e,t,i,a,r){Object($n.d)({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin,emotePickerSessionID:e,isAnonymousCheer:r,isHostMode:n.props.isHostMode,player:n.props.isPopout?Yn.a.Embed:Yn.a.Web,subOnlyMode:n.props.subsOnlyMode,viewerContext:n.props.viewerContext,bitsValue:t,cheermote:i,transactionID:a})},n.trackCheerErrorEvent=function(e,t,i,a,r,o){Object($n.c)({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin,emotePickerSessionID:e,isHostMode:n.props.isHostMode,isAnonymousCheer:r,player:n.props.isPopout?Yn.a.Embed:Yn.a.Web,subOnlyMode:n.props.subsOnlyMode,viewerContext:n.props.viewerContext,bitsValue:t,cheermote:i,transactionID:a,errorType:o})},n.setBitsGemNotificationExists=function(e){n.setState({bitsGemNotificationExists:e})},n.trackBitsCardInteraction=function(e,t){n.setState((function(t){var n;switch(e){case pn.c.BuyMain:n=Object(ke.b)();break;case pn.c.CloseCard:case pn.c.CloseBuy:n=void 0;break;default:n=t.bitsCheckoutId}return{bitsTrackingId:e===pn.c.OpenCard||e===pn.c.OpenCardViaCheering?Object(ke.b)():t.bitsTrackingId,bitsCheckoutId:n}}),(function(){var i={actionName:e,actionType:t&&t.actionType,trackingId:n.state.bitsTrackingId,checkoutId:n.state.bitsCheckoutId,emoteType:t&&t.emoteType,emoteLevel:t&&t.emoteLevel,location:t&&t.location,displayedBalance:n.props.data&&n.props.data.currentUser&&n.props.data.currentUser.bitsBalance||0,bitsCardError:t&&t.bitsCardError,channelId:n.props.data&&n.props.data.channel&&n.props.data.channel.id||"",userId:n.props.data&&n.props.data.currentUser&&n.props.data.currentUser.id||"",gemNotification:n.state.bitsGemNotificationExists};Object(pn.m)(i)}))},n.resetAndUpdateRenderSentChatMessageEvent=function(){n.props.latencyTracking.resetCustomEvents(Se.a.Chat);var e=n.props.latencyTracking.registerCustomEvent({benchmark:400,group:Se.a.Chat,key:Se.b.ChatRenderSent,label:Se.c.RenderSent,start:Se.d.Registration});n.props.updateRenderSentChatMessageEvent(e)},n.getUserBanStatus=function(){var e,t,i;return(null===(i=null===(t=null===(e=n.props.data)||void 0===e?void 0:e.channel)||void 0===t?void 0:t.self)||void 0===i?void 0:i.banStatus)||null},n.onRestrictionsUpdate=function(){var e=[],t=0;if(n.props.chatRestrictionsAPI){var i=n.props.chatRestrictionsAPI.getRestrictions();i&&i.length>0&&(e=i,t=n.props.chatRestrictionsAPI.getRemainingSlowModeSeconds())}n.setState({chatRestrictedReasons:e,slowModeSecondsRemaining:t})},n.isTypingCommand=function(){return"/"===n.state.value.substr(0,1)&&"/me"!==n.state.value.substr(0,3)||"."===n.state.value.substr(0,1)&&".me"!==n.state.value.substr(0,3)},n.toggleShareResubStreak=function(){n.setState((function(e){return{shareResubStreak:!e.shareResubStreak}}))},n.isTypingCheer=function(){return n.state.messageCheers.length>0},n.inputRevampDisableChatConditions=function(){var e=P.m.get(Wi,{});return n.inChatInputRevampExperiment&&(n.props.chatConnectionState!==i.CONNECTED||n.props.chatRules&&!e[n.props.channelLogin])},n.inputRevampDisableChatButtonConditions=function(){var e=P.m.get(Wi,{});return n.inChatInputRevampExperiment&&(n.props.chatConnectionState!==i.CONNECTED||n.props.chatRules&&!e[n.props.channelLogin]&&n.props.isShowingChatRules)},n.registerSendMessageErrorCheck=function(e,t){n.sendMessageErrorChecks[t]||(n.sendMessageErrorChecks[t]=e)},n.unregisterSendMessageErrorCheck=function(e){n.sendMessageErrorChecks[e]&&delete n.sendMessageErrorChecks[e]},n.storePendingMessage=function(){P.m.set(Hi,n.state.value)},n.state={hasInteracted:!1,hasOpenedEmotePicker:!1,hasSeenAndRejectedEmbedPrompt:!1,isSendingBits:!1,messageCheers:[],showBuyBits:!1,showBitsCard:!1,showChatRestrictionCard:!1,showEmotePickerButton:!!t.authToken,value:"",chatRestrictedReasons:[],slowModeSecondsRemaining:0,isAnonymousCheer:!1,shareResubStreak:!1,bitsTrackingId:Object(ke.b)(),bitsGemNotificationExists:!1},n.inChatInputRevampExperiment="variant1"===P.p.experiments.getAndTrackAssignment(ye.c.ChatInputRevamp),n}return Object(a.__extends)(t,e),Object.defineProperty(t.prototype,"bypassDisable",{get:function(){return this.isTypingCommand()||this.isTypingCheer()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bypassRestrictionDisable",{get:function(){var e=this.props.tray;return!(!e||!e.ignoredRestrictions||this.state.chatRestrictedReasons.find((function(t){return!e.ignoredRestrictions.has(t)})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autocompleteTextareaRows",{get:function(){if(this.inChatInputRevampExperiment)return zi.test(navigator.userAgent)||Qi.test(navigator.userAgent)?2:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignoreSlowMode",{get:function(){var e=this.props.tray;return!(!e||!e.ignoredRestrictions)&&e.ignoredRestrictions.has(L.N.SLOW_MODE)},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.getPendingMessage()&&this.restorePendingMessage(),this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate)},t.prototype.componentDidUpdate=function(e,t){var n=this;if(this.props.forceSendCheer&&this.onMessageSend(Yn.b.Click),this.state.value!==t.value&&this.props.bitsEnabled&&(!this.props.tray||!this.props.tray.disableBits)&&!this.isTypingCommand()){var i=[];Object(Ce.g)(this.state.value,this.props.bitsConfig,!1).forEach((function(e){e.type===Je.a.Emote&&(i.push(e.content),e.content.alt&&Object(Ce.e)(e.content.alt)&&n.setState({isAnonymousCheer:!0}))})),i.length&&this.props.isShowingEmotePicker&&this.props.closeEmotePicker(),!this.isTypingCheer()&&i.length&&i.length>=1&&!this.state.showBitsCard&&!this.state.showChatRestrictionCard&&!this.props.showEmotePicker&&this.trackBitsCardInteraction(pn.c.OpenCardViaCheering),this.setState({messageCheers:Object(Ce.b)(i,this.props.bitsConfig)})}e.chatRestrictionsAPI!==this.props.chatRestrictionsAPI&&(this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate),this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate))},t.prototype.componentWillUnmount=function(){this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate)},t.prototype.render=function(){var e=this.getUserBanStatus(),t=xi(e),n=Ai(e),i=n?Object(P.d)("You've been banned from Chat","ChatInput"):Object(P.d)("Send a message","ChatInput");if(this.inChatInputRevampExperiment&&t)return r.createElement(wi,{timeoutExpiry:Ui(e),renderButtonContainer:this.renderButtonContainer,refetchTimeoutState:this.refetchTimeoutState});if(this.state.hasSeenAndRejectedEmbedPrompt)return r.createElement(St.a,{className:"chat-input",display:this.props.hidden?yt.g.Hide:yt.g.Block,padding:{x:2,bottom:2}},r.createElement(Ct.a,{"data-test-selector":"chat-embed-denied-text"},Object(P.d)("You rejected the prompt to send messages in this embedded version of Twitch Chat. If this was done in error, please refresh the page.","ChatInput")),this.renderButtonContainer(!0,null));var a=[];!this.props.enableBitsInput||!this.props.bitsEnabled||this.props.tray&&this.props.tray.disableBits||a.push(r.createElement(ln,{buttonDisabled:n,key:"bits",onClick:this.onBitsIconClick,channelID:this.props.channelID,onGemNotification:this.setBitsGemNotificationExists})),this.state.showEmotePickerButton&&a.push(r.createElement(Xn.a,{key:"emote-picker",onClick:this.onEmotePickerButtonClick,buttonDisabled:n,isActive:this.props.isShowingEmotePicker,shouldSparkle:this.props.shouldShowEmotePickerAnimation}));var o=null;(this.props.firstPageLoaded||this.state.hasInteracted)&&(o=r.createElement(Ki,{channelOwnerID:this.props.channelID,emotePickerSource:Zn.a.Chat,onClickClose:this.onEmotePickerToggle,onClickToken:this.onClickToken,onLoad:this.onEmotePickerDataLoaded,toggleVisibility:this.onEmotePickerToggle,visible:this.props.isShowingEmotePicker&&(!this.inChatInputRevampExperiment||!this.props.isShowingChatRules),size:jn.c.Auto,direction:jn.b.TopRight,hasMenuOpened:this.state.hasOpenedEmotePicker}));var s=r.createElement(Xt,null);!this.props.firstPageLoaded&&!this.state.hasInteracted||!this.props.enableBitsInput||!this.props.bitsEnabled||this.props.tray&&this.props.tray.disableBits||(s=r.createElement($t,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,trackingID:this.state.bitsTrackingId,checkoutID:this.state.bitsCheckoutId,currentCheers:this.state.messageCheers,isSending:this.state.isSendingBits,isStaff:this.props.isStaff,isAnonymous:this.state.isAnonymousCheer,onCancelSend:this.cancelDelayedSend,onClickCheermote:this.onClickToken,onConfirmSend:this.confirmDelayedSend,onUserClose:this.onBitsClose,trackBitsCardInteraction:this.trackBitsCardInteraction,visible:this.state.showBitsCard&&(!this.inChatInputRevampExperiment||!this.props.isShowingChatRules),cheerMessageAutoModded:this.props.isTextInputDisabled,bitsSendErrorCode:this.props.bitsSendErrorCode,bitsSendHasError:this.props.bitsSendHasError,chatMessage:this.state.value,onCheerInvalid:this.onCheerInvalid,onAnonymousToggle:this.onAnonymousCheerToggle}));var l=null;!(this.props.data&&this.props.data.channel&&this.props.data.channel.cheer&&this.props.data.channel.cheer.hashtags&&this.state.messageCheers.length>0)||this.props.tray&&this.props.tray.disableBits||(l=r.createElement(un,{hashTags:this.props.data.channel.cheer.hashtags}));var c=null;this.props.tray&&this.props.tray.disableCommands||(c=r.createElement(Cn,{permissionLevel:this.props.commandPermissionLevel}));var d=null;this.props.moderatedMessageParts&&this.props.moderatedMessageParts.length>0&&(d=r.createElement(Un,{moderatedReason:this.props.moderatedReason,moderatedMessageParts:this.props.moderatedMessageParts}));var u=null;if(this.props.slowMode&&(i=Object(P.d)("Send a message (chat is in slow mode)","ChatInput")),this.state.chatRestrictedReasons[0]===L.N.SLOW_MODE&&!this.ignoreSlowMode){var m=Object(Ut.b)(this.state.slowModeSecondsRemaining,Ut.a.HumanizedShort);u=Object(P.d)("You can chat in {duration}",{duration:m},"ChatInput")}var p=!this.bypassDisable&&(!this.bypassRestrictionDisable&&this.state.chatRestrictedReasons.length>0||this.inputRevampDisableChatButtonConditions()||n||this.props.tray&&this.props.tray.disableChat),h=mt({"chat-input__textarea":this.inChatInputRevampExperiment,"chat-input__textarea--error":this.inChatInputRevampExperiment&&(this.isErrorTray()||this.trayHasError())}),f=void 0;this.inChatInputRevampExperiment&&(f=this.props.tray&&this.props.tray.type===je.a.ShareResub?255:500);var g=r.createElement(St.a,{className:h},r.createElement(ri,{clearModifierTray:this.props.clearModifierTray,closeCard:this.closeCard,closeEmotePicker:this.props.closeEmotePicker,componentRefDelegate:this.setLocalChatInputRef,componentType:Gt.a.TextArea,containerElement:this.props.containerElement,"data-a-target":"chat-input","data-test-selector":"chat-input",disabled:this.state.isSendingBits||this.props.isTextInputDisabled||this.props.isShowingChatRules&&this.inChatInputRevampExperiment||n,htmlAutocomplete:"twitch-chat",maxLength:f,noResize:!0,onFocus:this.onInputFocus,onKeyDown:this.onKeyDown,onValueUpdate:this.onMessageValueUpdate,paddingRight:this.inChatInputRevampExperiment?30*a.length+5:30*a.length,placeholder:i,refDelegate:this.setLocalAutocompleteInputRef,rows:this.autocompleteTextareaRows,setModifierTray:this.props.setModifierTray,suggestionSource:Gt.e.Chat,tray:this.props.tray},r.createElement(Gt.f,{emotes:this.props.emotes}),r.createElement(bn,null),l,c),this.inChatInputRevampExperiment?r.createElement(St.a,{position:yt.n.Absolute,attachRight:!0,attachBottom:!0},r.createElement(kt.a,{padding:{bottom:.5,right:.5}},a)):r.createElement(St.a,{position:yt.n.Absolute,attachRight:!0,attachTop:!0},a),this.renderSlowModeProgressBar());g=r.createElement(ci,{checkbox:this.props.tray&&this.props.tray.checkboxLabel?{label:this.props.tray.checkboxLabel,checked:this.state.shareResubStreak,onChange:this.toggleShareResubStreak}:void 0,tray:this.props.tray,onClose:this.closeTray},g);var v=r.createElement(Yi,{authToken:this.props.authToken,badgeSets:this.props.badgeSets,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,onPushMessage:this.props.onPushMessage}),b=[];this.inChatInputRevampExperiment&&(b.push(r.createElement(ai,{key:"char-limit-handler",inputValue:this.state.value,maxLength:500})),this.props.isCurrentUserModerator||this.props.isCurrentUserVIP||(b.push(r.createElement(vi,{key:"dupe-message-handler",inputValue:this.state.value,registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck})),b.push(r.createElement(Ci,{key:"throughput-handler",registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck}))));var k={x:2,bottom:2};return this.inChatInputRevampExperiment&&(k={x:1,bottom:1}),r.createElement(St.a,{className:"chat-input",display:this.props.hidden?yt.g.Hide:yt.g.Block,padding:k},this.inChatInputRevampExperiment&&this.props.isShowingChatRules&&this.renderChatRules(),d,this.props.firstPageLoaded&&v,b,this.inChatInputRevampExperiment&&r.createElement(r.Fragment,null,r.createElement(Ti,{channelID:this.props.channelID,registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck}),r.createElement(yi,{emoteOnlyMode:this.props.emoteOnlyMode,hasChatRestriction:this.state.chatRestrictedReasons.length>0,emotes:this.props.emotes,registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck})),r.createElement(hi,{channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,closeBalloon:this.onChatRestrictionBalloonClose,ignoredRestrictions:this.props.tray&&this.props.tray.ignoredRestrictions,openBalloon:this.onChatRestrictionBalloonOpen,showBalloon:this.state.showChatRestrictionCard}),r.createElement(Ft.a,{onClickOut:this.onClickOut},r.createElement(An.a,{display:this.props.moderatedMessageParts?yt.g.Hide:yt.g.Block,position:yt.n.Relative,zIndex:yt.s.Default},r.createElement("div",{onMouseEnter:this.onMouseEnterInput},o,s,g)),this.renderButtonContainer(p,u)),this.renderSubBenefitExperimentPortalButton())},t.prototype.renderChatRules=function(){if(this.props.data&&this.props.data.channel)return r.createElement(wn,{channelDisplayName:this.props.data.channel.displayName,channelProfileImageUrl:this.props.data.channel.profileImageURL,channelLogin:this.props.channelLogin,channelID:this.props.channelID,chatRules:this.props.chatRules,onCloseChatRules:this.props.closeChatRules})},t.prototype.sendRegularMessage=function(e){var t=this;if(this.props.onSendMessage){var n=Object(kn.p)(this.state.value);if(n&&!P.m.get(Hn,!1)&&!this.props.hideOnboardingPrompts)return this.setState({showBitsCard:!1,showChatRestrictionCard:!1},(function(){t.trackChatEvent(t.props.emotePickerSessionID,e),t.autocompleteInputRef&&t.autocompleteInputRef.setValue(""),t.props.openRaidUpsellFromHost(n.recipientLogin)}));if(this.inChatInputRevampExperiment&&!this.props.isCurrentUserModerator&&!this.props.isCurrentUserVIP&&!this.isTypingCommand()){for(var i=0,a=Object.keys(this.sendMessageErrorChecks);i<a.length;i++){var r=a[i];if(this.sendMessageErrorChecks[r].check(this.state.value))return}for(var o=0,s=Object.keys(this.sendMessageErrorChecks);o<s.length;o++){r=s[o];this.sendMessageErrorChecks[r].onMessageSent(this.state.value)}}this.props.onSendMessage(this.state.value)&&(this.trackChatEvent(this.props.emotePickerSessionID,e),this.trackMentions(),this.props.tray&&this.props.tray.sendMessageHandler&&this.props.tray.sendMessageHandler.type===je.c.Chat&&this.props.tray.sendMessageHandler.onSuccess&&this.props.tray.sendMessageHandler.onSuccess(this.state.value,this.props.tray.sendMessageHandler.params),this.props.tray?this.props.clearTray():this.autocompleteInputRef&&this.autocompleteInputRef.setValue(""),this.props.isShowingEmotePicker&&this.props.closeEmotePicker(),this.setState({showBitsCard:!1,showChatRestrictionCard:!1}))}},t.prototype.handleLogin=function(){var e={onComplete:this.storePendingMessage,targetChannel:this.props.channelDisplayName,showContext:!0};this.props.login(e)},t.prototype.isErrorTray=function(){return this.props.tray&&this.props.tray.type&&this.shouldClearModifierTrayTypes.has(this.props.tray.type)},t.prototype.trayHasError=function(){return this.props.tray&&!!this.props.tray.error},t.prototype.isAutocompleteTray=function(){return this.props.tray&&this.props.tray.type===je.a.AutocompleteTray},t.prototype.trackChatEvent=function(e,t){Object($n.b)({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin,emotePickerSessionID:e,isHostMode:this.props.isHostMode,player:this.props.isPopout?Yn.a.Embed:Yn.a.Web,subOnlyMode:this.props.subsOnlyMode,viewerContext:this.props.viewerContext,sendAction:t})},t.prototype.trackMentions=function(){if(this.state.value&&this.props.sessionUser)for(var e,t,n=0,i=Object(Bt.a)(this.state.value,{mentions:{senderLogin:this.props.sessionUser.login,sessionUser:this.props.sessionUser}});n<i.length;n++){var r=i[n];r.type===Je.a.Mention&&r.content.currentUserMentionRelation!==Qn.a.Recipient&&(e={channelLogin:this.props.channelLogin,isHostMode:this.props.isHostMode,mentionedUserDisplayName:r.content.recipient,userLogin:this.props.sessionUser.login},t=void 0,t=Object(a.__assign)(Object(a.__assign)({},Object(Le.b)(e)),{mentioned_user_display_name:e.mentionedUserDisplayName,user:e.userLogin}),P.o.track(Ee.SpadeEventType.ChatMentionUsed,t))}else P.k.warn("[ChatInput] trackMentions was called in a nonsensical state.")},t.prototype.getPendingMessage=function(){return P.m.get(Hi,"")},t.prototype.clearPendingMessage=function(){P.m.set(Hi,"")},t.prototype.restorePendingMessage=function(){var e=this.getPendingMessage();e&&this.autocompleteInputRef&&(this.autocompleteInputRef.setValue(e),this.clearPendingMessage())},t}(r.Component);var Zi=Object(s.d)(Object(l.a)(ji,{name:"sendCheer"}),Object(l.a)(ti,{skip:function(e){return!e.firstPageLoaded}}),W,Object(I.withLatencyTracking)("ChatInput",{autoReportInteractive:!0}),Object(o.b)((function(e){return{emotePickerSessionID:e.chat.emotePickerSessionID,sessionUser:Object(m.e)(e)}}),(function(e){return Object(s.b)({login:function(e){return Object(Ht.e)(Vt.a.Chat,e)},updateRenderSentChatMessageEvent:g.Q},e)})),Object(re.b)((function(e){return{emoteOnlyMode:e.emoteOnlyMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode}})),Object(v.b)((function(e){return{showModViewIngress:e.showModViewIngress,hideChatSettings:e.hideChatSettings,hideOnboardingPrompts:e.hideOnboardingPrompts,hideChatInputButtons:e.hideChatInputButtons}})),Object(E.b)((function(e){return{tray:e.tray,clearTray:e.clearTray,setModifierTray:e.setModifierTray,clearModifierTray:e.clearModifierTray,setAutocompleteInputRef:e.setAutocompleteInputRef,setChatInputRef:e.setChatInputRef}})),Object(On.b)((function(e){return e})),S((function(e){return{chatConnectionState:e.chatConnectionState,updateChatConnectionState:e.updateChatConnectionState}})),Object(w.b)((function(e){return{isShowingChatRules:e.isShowingChatRules,showChatRules:e.showChatRules,closeChatRules:e.closeChatRules,isShowingEmotePicker:e.isShowingEmotePicker,showEmotePicker:e.showEmotePicker,closeEmotePicker:e.closeEmotePicker}})),Object(p.b)((function(e){return{bitsConfig:e.bitsConfig,bitsEnabled:e.bitsEnabled}})),Object(Ri.b)({channelID:function(e){return e.channelID}}))(Xi),Ji=n("SceP"),ea=n("fxMP");var ta,na=n("DLhE"),ia=n("imBb"),aa=(n("VcSt"),n("i8i4")),ra=n("MJbm"),oa=n("8/mp"),sa=n("HAa/"),la=n("Y/1R"),ca=[ce.b.AutoMod,ce.b.BadgesUpdated,ce.b.ChannelPointsReward,ce.b.Clear,ce.b.Connected,ce.b.Disconnected,ce.b.EmoteOnlyMode,ce.b.FollowerOnlyMode,ce.b.Hosted,ce.b.Hosting,ce.b.Info,ce.b.Message,ce.b.Moderation,ce.b.ModerationAction,ce.b.Notice,ce.b.PrimeCommunityGiftReceivedEvent,ce.b.R9KMode,ce.b.Raid,ce.b.Reconnect,ce.b.Ritual,ce.b.RoomMods,ce.b.RoomState,ce.b.SlowMode,ce.b.SubscriberOnlyMode,ce.b.TargetedModerationAction,ce.b.Unhost,ce.b.Unraid],da=[ce.b.BitsCharity,ce.b.RewardGift,ce.b.SubMysteryGift,ce.b.AnonSubMysteryGift,ce.b.StandardPayForward,ce.b.CommunityPayForward,ce.b.FirstCheerMessage,ce.b.BitsBadgeTierMessage],ua=[ce.b.Subscription,ce.b.Resubscription,ce.b.Subscription,ce.b.GiftPaidUpgrade,ce.b.AnonGiftPaidUpgrade,ce.b.PrimePaidUpgrade,ce.b.ExtendSubscription,ce.b.SubGift,ce.b.AnonSubGift],ma=Object(bi.a)((function(e,t){var n=new Set(ca);if(t)for(var i=0,a=da;i<a.length;i++){var r=a[i];n.add(r)}if(e)for(var o=0,s=ua;o<s.length;o++){r=s[o];n.add(r)}return n})),pa=n("hnjF"),ha=(n("HjUq"),["scroll","wheel","mousewheel","DOMMouseScroll"]),fa=10,ga=5e3,va=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isAutoScrolling:!0,isLoadingMore:!1,isPaused:!1,loadMoreEnabled:!0,hoverResumeTimer:null,keyboardResumeLock:!1},t.shouldUpdateMessages=!1,t.inChatInputRevampExperiment="variant1"===P.p.experiments.getAndTrackAssignment(ye.c.ChatInputRevamp),t.saveScrollRef=function(e){return t.scroll=e},t.saveLastLineRef=function(e){e&&(t.lastLine=Object(aa.findDOMNode)(e))},t.handleScrollEvent=function(e){if(t.scroll&&t.scroll.scrollContent&&(e.which>0||"mousewheel"===e.type||"wheel"===e.type)){t.state.isPaused&&(t.clearHoverResumeTimer(),t.setKeyboardResumeLock(!1),t.setLoadMoreEnabled(!0));var n=t.scroll.scrollContent.scrollHeight-t.scroll.scrollContent.scrollTop-t.scroll.scrollContent.offsetHeight;n<=fa&&!t.state.isAutoScrolling&&!t.props.hasNewerLeft?t.resume():t.state.isAutoScrolling&&n>fa&&t.pause()}},t.handleResize=function(){t.state.isAutoScrolling&&t.scrollToBottom()},t.loadNewer=function(){return new Promise((function(e){t.setState({isLoadingMore:!0},(function(){t.props.loadNewer(),t.setState({isLoadingMore:!1},e)}))}))},t.hoverPause=function(){t.props.chatPauseSetting&&[L.M.MOUSEOVER,L.M.MOUSEOVER_ALTKEY].includes(t.props.chatPauseSetting)&&!t.props.isShowingCommunityHighlightList&&(t.state.isPaused||(t.pause(),t.setLoadMoreEnabled(!1),t.setHoverResumeTimer()))},t.hoverResume=function(){t.state.isPaused&&null!==t.state.hoverResumeTimer&&t.resume()},t.keyboardPause=function(){t.props.chatPauseSetting&&[L.M.ALTKEY,L.M.MOUSEOVER_ALTKEY].includes(t.props.chatPauseSetting)&&(t.state.isPaused||(t.pause(),t.setLoadMoreEnabled(!1),t.setKeyboardResumeLock(!0)))},t.keyboardResume=function(e){t.state.isPaused&&t.state.keyboardResumeLock&&(e.preventDefault(),t.resume(),t.setKeyboardResumeLock(!1))},t.pause=function(){t.props.chatPauseSetting&&t.props.setPaused&&t.setState({isPaused:!0},(function(){return t.props.setPaused&&t.props.setPaused(!0)})),t.setState({isAutoScrolling:!1})},t.resume=function(){t.props.loadNewest(),t.clearHoverResumeTimer(),t.setState({isAutoScrolling:!0,isPaused:!1},(function(){t.props.setPaused&&t.props.setPaused(!1),t.scrollToBottom()}))},t.setHoverResumeTimer=function(){null===t.state.hoverResumeTimer&&t.setState({hoverResumeTimer:setTimeout(t.resume,ga)})},t.clearHoverResumeTimer=function(){t.state.hoverResumeTimer&&(clearTimeout(t.state.hoverResumeTimer),t.setState({hoverResumeTimer:null}))},t.setKeyboardResumeLock=function(e){t.state.keyboardResumeLock!==e&&t.setState({keyboardResumeLock:e})},t.setLoadMoreEnabled=function(e){t.state.loadMoreEnabled!==e&&t.setState({loadMoreEnabled:e})},t.scrollToBottom=function(){t.scroll&&t.scroll.scrollContent&&(t.scroll.scrollContent.scrollTop=t.scroll.scrollContent.scrollHeight)},t.scrollDelta=function(e){t.scroll&&t.scroll.scrollContent&&(t.scroll.scrollContent.scrollTop=t.scroll.scrollContent.scrollTop+e)},t.reportChatRenderSent=function(){t.props.chatRenderSentEvent&&t.props.latencyTracking.reportCustomEvent(t.props.chatRenderSentEvent)},t.mapMessageToChatLine=function(e,n,i){return r.createElement(la.a,{badgeSets:t.props.badgeSets,channelID:t.props.channelID,channelLogin:t.props.channelLogin,isCurrentUserModerator:t.props.isCurrentUserModerator,isCurrentUserStaff:t.props.isCurrentUserStaff,message:e,key:e.id,showAutoModActions:t.props.showAutoModActions,showModerationActions:t.props.showModerationActions,showModerationIcons:t.props.showModerationIcons,showTimestamps:t.props.showTimestamps,useHighContrastColors:t.props.useHighContrastColors,deletedMessageDisplay:t.props.deletedMessageDisplay,currentUserDisplayName:t.props.currentUserDisplayName,currentUserLogin:t.props.currentUserLogin,currentUserID:t.props.userID,confirmModerationAction:t.props.confirmModerationAction,forceUpdateMessage:t.shouldUpdateMessages,theme:t.props.theme,onRenderReportChatSent:t.reportChatRenderSent,messageIndex:n,ref:n===i.length-1?t.saveLastLineRef:void 0,hideBroadcasterTooltip:t.props.isWatchPartyActive})},t.mapWatchPartyMessageToChatLine=function(e,n,i){return ma(!t.props.areSubsDisabled,!t.props.areBitsDisabled).has(e.type)?r.createElement(la.a,{badgeSets:t.props.badgeSets,channelID:t.props.channelID,channelLogin:t.props.channelLogin,isCurrentUserModerator:t.props.isCurrentUserModerator,isCurrentUserStaff:t.props.isCurrentUserStaff,message:e,key:e.id,showAutoModActions:t.props.showAutoModActions,showModerationActions:t.props.showModerationActions,showModerationIcons:t.props.showModerationIcons,showTimestamps:t.props.showTimestamps,useHighContrastColors:t.props.useHighContrastColors,deletedMessageDisplay:t.props.deletedMessageDisplay,currentUserDisplayName:t.props.currentUserDisplayName,currentUserLogin:t.props.currentUserLogin,currentUserID:t.props.userID,confirmModerationAction:t.props.confirmModerationAction,forceUpdateMessage:t.shouldUpdateMessages,theme:t.props.theme,onRenderReportChatSent:t.reportChatRenderSent,messageIndex:n,ref:n===i.length-1?t.saveLastLineRef:void 0,hideBroadcasterTooltip:!0}):null},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;ia.bindGlobal("alt",this.keyboardPause,"keydown"),ia.bindGlobal("alt",this.keyboardResume,"keyup"),ha.forEach((function(t){e.scroll&&e.scroll.scrollContent&&e.scroll.scrollContent.addEventListener(t,e.handleScrollEvent,{passive:!0})}))},t.prototype.componentWillUnmount=function(){var e=this;ia.unbind("alt","keydown"),ia.unbind("alt","keyup"),ha.forEach((function(t){e.scroll&&e.scroll.scrollContent&&e.scroll.scrollContent.removeEventListener(t,e.handleScrollEvent)}))},t.prototype.getSnapshotBeforeUpdate=function(){return!this.state.isAutoScrolling&&this.lastLine&&{lastLine:this.lastLine,offsetTop:this.lastLine.offsetTop}||null},t.prototype.componentDidUpdate=function(e,t,n){this.shouldUpdateMessages=!1,this.props.messages!==e.messages&&(this.state.isAutoScrolling?this.scrollToBottom():n&&this.scrollDelta(n.lastLine.offsetTop-n.offsetTop))},t.prototype.render=function(){var e=this.props.messages,t=this.props.areSubsDisabled||this.props.areBitsDisabled?e.map(this.mapWatchPartyMessageToChatLine).filter((function(e){return null!==e})):e.map(this.mapMessageToChatLine);return r.createElement(pa.a,{className:"chat-list",display:yt.g.Flex,flexDirection:yt.h.Column,flexWrap:yt.i.NoWrap,overflow:yt.m.Hidden,flexGrow:1},r.createElement("div",{ref:this.props.containerRef,onMouseEnter:this.hoverPause,onMouseLeave:this.hoverResume},r.createElement(ra.a,{onResize:this.handleResize}),r.createElement(pa.a,{flexGrow:1},r.createElement(oa.b,{className:"chat-list__lines",scrollRef:this.saveScrollRef,"data-a-target":"chat-scroller"},r.createElement(pa.a,{className:"chat-list__list-container",flexGrow:1,fullHeight:!0,padding:{bottom:1}},r.createElement("div",{role:"log"},t,r.createElement(oa.a,{forceLoadMoreContent:this.props.hasNewerLeft,loadMore:this.loadNewer,pixelThreshold:400,orientation:sa.b.Up,enabled:this.props.hasNewerLeft&&this.state.loadMoreEnabled,requestCap:2}))))),r.createElement(St.a,{className:"chat-list__list-footer-placeholder",position:yt.n.Relative,display:yt.g.Flex,justifyContent:yt.l.Center,margin:{x:2}},this.listFooter())))},t.prototype.listFooter=function(){var e=null;if(this.state.isPaused)e=this.state.hoverResumeTimer?Object(P.d)("Chat paused due to mouseover.","ChatList"):this.state.keyboardResumeLock?Object(P.d)("Chat paused with the alt key.","ChatList"):Object(P.d)("Chat paused due to scroll.","ChatList");else{if(this.state.isAutoScrolling)return null;e=Object(P.d)("More messages below.","ChatList")}return r.createElement(pa.a,{display:yt.g.Flex,justifyContent:yt.l.Center,alignItems:yt.b.Center,position:yt.n.Absolute,padding:this.inChatInputRevampExperiment?{x:2,y:.5}:.5,margin:this.inChatInputRevampExperiment?{bottom:1}:0,attachBottom:!0,fullWidth:!this.inChatInputRevampExperiment},r.createElement(kt.a,{className:"chat-list__list-footer",borderRadius:yt.e.Medium,"data-a-target":"chat-list-footer"},r.createElement("div",{onClick:this.resume},e)))},t}(r.Component),ba=Object(I.withLatencyTracking)("ChatListPresentation",{autoReportInteractive:!0})(va),ka=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={messages:[]},t.onBufferUpdate=function(){t.syncBufferHandle||(t.syncBufferHandle=setTimeout(t.syncBufferedMessages,0))},t.syncBufferedMessages=function(){t.props.messageBufferAPI&&t.setState({messages:t.props.messageBufferAPI.getMessages()}),t.clearBufferHandle()},t.clearBufferHandle=function(){t.syncBufferHandle&&(clearTimeout(t.syncBufferHandle),t.syncBufferHandle=0)},t.hasNewerLeft=function(){return t.props.messageBufferAPI&&t.props.messageBufferAPI.hasNewerLeft&&t.props.messageBufferAPI.hasNewerLeft()||!1},t.isPaused=function(){return t.props.messageBufferAPI&&t.props.messageBufferAPI.isPaused&&t.props.messageBufferAPI.isPaused()||!1},t.setPaused=function(e){t.props.messageBufferAPI&&t.props.messageBufferAPI.setPaused&&t.props.messageBufferAPI.setPaused(e)},t.loadNewer=function(){t.props.messageBufferAPI&&t.props.messageBufferAPI.loadNewer&&t.props.messageBufferAPI.loadNewer()},t.loadNewest=function(){t.props.messageBufferAPI&&t.props.messageBufferAPI.loadNewest&&t.props.messageBufferAPI.loadNewest()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.messageBufferAPI&&(this.props.messageBufferAPI.addUpdateHandler(this.onBufferUpdate),this.setState({messages:this.props.messageBufferAPI.getMessages()}))},t.prototype.componentDidUpdate=function(e){var t,n,i,a=this.props.pubsub.messages,r=a.chatRichEmbedInfo,o=a.extensionMessage;r&&e.pubsub.messages.chatRichEmbedInfo!==r&&P.p.apollo.client.writeQuery({query:Ji,variables:{slug:r.data.twitch_metadata.clip_metadata.slug},data:(t=r,n=t.data.twitch_metadata.clip_metadata,{clip:n.id?{__typename:"Clip",slug:n.slug,id:n.id,url:t.data.request_url,title:t.data.title,thumbnailURL:t.data.thumbnail_url,curator:n.curator_id?{displayName:t.data.author_name,id:n.curator_id,__typename:"User"}:null,broadcaster:n.channel_display_name?{displayName:n.channel_display_name,id:n.broadcaster_id,__typename:"User"}:null}:null})}),e.messageBufferAPI!==this.props.messageBufferAPI&&(e.messageBufferAPI&&e.messageBufferAPI.removeUpdateHandler(this.onBufferUpdate),this.props.messageBufferAPI&&(this.props.messageBufferAPI.addUpdateHandler(this.onBufferUpdate),this.setState({messages:this.props.messageBufferAPI.getMessages()}))),o&&e.pubsub.messages.extensionMessage!==o&&e.onPushMessage((i=o.data,{type:ce.b.ExtensionMessage,id:i.id,sentAt:i.sent_at,extension:{clientID:i.sender.extension_client_id,version:i.sender.extension_version,displayName:i.sender.display_name,displayBadges:Object(ea.b)(i.sender.badges),chatColor:i.sender.chat_color},content:{text:i.content.text,fragments:Object(ea.c)(i.content.fragments)}}))},t.prototype.componentWillUnmount=function(){this.props.messageBufferAPI&&this.props.messageBufferAPI.removeUpdateHandler(this.onBufferUpdate),this.clearBufferHandle()},t.prototype.render=function(){return r.createElement(ba,{badgeSets:this.props.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatPauseSetting:this.props.chatPauseSetting,chatRenderSentEvent:this.props.chatRenderSentEvent,confirmModerationAction:this.props.confirmModerationAction,containerRef:this.props.containerRef,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,deletedMessageDisplay:this.props.deletedMessageDisplay,hasNewerLeft:this.hasNewerLeft(),isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isEmbedded:this.props.isEmbedded,loadNewer:this.loadNewer,loadNewest:this.loadNewest,messages:this.state.messages,onPushMessage:this.props.onPushMessage,paused:this.isPaused(),setChatPauseSetting:this.props.setChatPauseSetting,setPaused:this.props.messageBufferAPI&&this.props.messageBufferAPI.setPaused&&this.setPaused,showAutoModActions:this.props.showAutoModActions,showModerationActions:this.props.showModerationActions,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,theme:this.props.theme,useHighContrastColors:this.props.useHighContrastColors,isShowingCommunityHighlightList:this.props.isShowingCommunityHighlightList,userID:this.props.userID})},t}(r.Component);var ya=Object(s.d)(Object(o.b)((function(e){return{chatRenderSentEvent:Object(na.a)(e),showAutoModActions:e.chat.showAutoModActions,showModerationActions:e.chat.showModerationActions,showModerationIcons:e.chat.showModIcons,showTimestamps:e.chat.showTimestamps}})),Object(c.a)([{skip:function(e){return!e.channelID},topic:function(e){return e.channelID?Object(u.M)(e.channelID):""},mapMessageTypesToProps:(ta={},ta[d.PubsubMessageType.StreamChatRoomChatRichEmbed]="chatRichEmbedInfo",ta[d.PubsubMessageType.StreamChatRoomExtensionMessage]="extensionMessage",ta)}]),z.b,Object(se.c)((function(e){return{useHighContrastColors:e.value}})),Object(oe.d)((function(e){return{deletedMessageDisplay:e.value}})),Object(ae.d)(ae.c),Object(T.withWatchPartyContext)((function(e){return{areSubsDisabled:e.isWatchPartyActive&&!Object(M.c)(),areBitsDisabled:e.isWatchPartyActive&&!Object(M.b)(),isWatchPartyActive:e.isWatchPartyActive}})),Object(ee.d)((function(e){return{isShowingCommunityHighlightList:e.listAllView}})))(ka),Sa=(n("9Rmp"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickConfirm=function(){t.markRoomSeen(),P.o.track(Ee.SpadeEventType.ChatRulesAccepted,{channel_id:t.props.channelID,channel_login:t.props.channelLogin}),t.props.onCloseChatRules()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){P.o.track(Ee.SpadeEventType.ChatRulesViewed,{channel_login:this.props.channelLogin,channel_id:this.props.channelID})},t.prototype.render=function(){return r.createElement(St.a,{className:"chat-rules",position:yt.n.Relative},r.createElement(kt.a,{border:!0,background:yt.d.Base,margin:{bottom:1}},r.createElement(St.a,{padding:1},r.createElement(St.a,{margin:{bottom:1}},r.createElement(Ct.a,{type:Ct.e.H6},Object(P.d)("Chat Rules:","ChatRules"))),r.createElement(St.a,null,r.createElement("ul",null,this.props.chatRules.map((function(e,t){return r.createElement("li",{key:t},e)})))),r.createElement(St.a,{margin:{top:1},display:yt.g.Flex,justifyContent:yt.l.Center},r.createElement(Et.a,{size:Et.b.Small,onClick:this.onClickConfirm},Object(P.d)("Ok, got it!","ChatRules"))))))},t.prototype.markRoomSeen=function(){var e=P.m.get("chat_rules_shown",{});e[this.props.channelLogin]=!0,P.m.set("chat_rules_shown",e)},t}(r.Component)),Ca=n("uy8m"),Ea=n("SSXq"),wa=n("1MDS"),Oa=n("0Hf3"),Da=n("3GF+"),Na=(n("2D+f"),function(e){function t(t){var i=e.call(this,t)||this;return i.ViewerCard=K.a.wrap((function(){return n.e(70).then(n.bind(null,"q3Qz"))}),"ViewerCard",{placeholder:r.createElement(kt.a,{background:yt.d.Base,fullHeight:!0,fullWidth:!0,padding:2},r.createElement(Fe.a,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.ExtensionMessageCard=K.a.wrap((function(){return n.e(65).then(n.bind(null,"n3tJ"))}),"ExtensionMessageCard",{placeholder:r.createElement(kt.a,{background:yt.d.Base,fullHeight:!0,fullWidth:!0,padding:2},r.createElement(Fe.a,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.EmoteCard=K.a.wrap((function(){return n.e(64).then(n.bind(null,"unmP"))}),"EmoteCard",{placeholder:r.createElement(kt.a,{fullHeight:!0,fullWidth:!0,padding:2},r.createElement(Fe.a,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.onDragStart=function(e){i.cardContainerRef&&i.layerRef&&e.button===Ca.a.Left&&(window.addEventListener("mousemove",i.onDrag),window.addEventListener("mouseup",i.onDragEnd),window.addEventListener("selectstart",i.cancelSelection),i.setState({dragging:!0}),i.initCardX=i.cardContainerRef.offsetLeft,i.initCardY=i.cardContainerRef.offsetTop,i.initMouseX=e.clientX,i.initMouseY=e.clientY)},i.onDrag=function(e){i.nextTop=i.initCardY+e.clientY-i.initMouseY,i.nextLeft=i.initCardX+e.clientX-i.initMouseX,i.rafHandle||(i.rafHandle=requestAnimationFrame((function(){i.rafHandle=0,i.cardContainerRef&&(i.cardContainerRef.style.top=i.nextTop+"px",i.cardContainerRef.style.left=i.nextLeft+"px")})))},i.openPopout=function(){if(i.props.viewerCardOptions){var e=i.props.viewerCardOptions.targetID,t=window.open(Object(Ea.a)("/popout/"+i.props.channelLogin+"/viewercard/"+e+"?popout="),"_blank","right=50,top=50,width=340,height=520,resizable=no,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");Object(Oa.d)({targetLogin:e,targetUserID:null,channelID:i.props.channelID,channelLogin:i.props.channelLogin,clickText:Oa.b.PopOut}),t&&(t.focus(),i.props.hideViewerCard())}},i.onDragEnd=function(){i.removeDragListeners(),i.setState({dragging:!1})},i.removeDragListeners=function(){window.removeEventListener("mousemove",i.onDrag),window.removeEventListener("mouseup",i.onDragEnd),window.removeEventListener("selectstart",i.cancelSelection)},i.cancelSelection=function(e){e.preventDefault()},i.hideEmoteCard=function(){i.props.viewerCardOptions&&i.props.viewerCardOptions.viewerCardType===Te.c.Emote&&Object(wa.c)({emoteLocation:Object(wa.b)(i.props.viewerCardOptions.emoteSourceType),emoticonID:i.props.viewerCardOptions.emoteID,chatChannel:i.props.channelLogin,chatChannelID:i.props.channelID?i.props.channelID:"",referrerUserID:i.props.viewerCardOptions.targetID,action:wa.a.Close,msgID:i.props.viewerCardOptions.sourceID}),i.props.hideViewerCard()},i.state={dragging:!1,viewerCardComponentLoaded:!1},i}return Object(a.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.props.hideViewerCard(),this.rafHandle&&cancelAnimationFrame(this.rafHandle),this.removeDragListeners()},t.prototype.componentDidUpdate=function(e){this.props.viewerCardOptions&&e.viewerCardOptions&&(this.props.viewerCardOptions.targetID===e.viewerCardOptions.targetID&&this.props.viewerCardOptions.initialTopOffset===e.viewerCardOptions.initialTopOffset||this.cardContainerRef&&(this.cardContainerRef.style.left="0px"))},t.prototype.render=function(){var e=this,t={"viewer-card-layer":!0,"viewer-card-layer--dragging":this.state.dragging},n={"viewer-card-layer__draggable":!0,"viewer-card-layer__draggable--dragging":this.state.dragging},i=null,a={};if(this.props.viewerCardOptions){if(this.layerRef){var o=this.layerRef.getBoundingClientRect(),s=Math.min(this.props.viewerCardOptions.initialTopOffset-o.top,o.height-240);a={top:Math.max(s,0)+"px"}}switch(this.props.viewerCardOptions.viewerCardType){case Te.c.Extension:i=r.createElement(this.ExtensionMessageCard,{channelID:this.props.channelID,extensionID:this.props.viewerCardOptions.targetID,extensionVersion:this.props.viewerCardOptions.extensionVersion,hideMessageCard:this.props.hideViewerCard});break;case Te.c.Viewer:i=r.createElement(this.ViewerCard,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,targetLogin:this.props.viewerCardOptions.targetID,sourceType:this.props.viewerCardOptions.sourceType,sourceID:this.props.viewerCardOptions.sourceID,confirmModerationAction:this.props.confirmModerationAction,hideViewerCard:this.props.hideViewerCard});break;case Te.c.Emote:i=r.createElement(this.EmoteCard,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,referrerID:this.props.viewerCardOptions.targetID,sourceType:this.props.viewerCardOptions.emoteSourceType,sourceID:this.props.viewerCardOptions.sourceID,emoteID:this.props.viewerCardOptions.emoteID,emoteCode:this.props.viewerCardOptions.emoteCode,hideViewerCard:this.hideEmoteCard});break;default:i=null}}var l=null;if(i){var c=Object(Ot.d)("Hide","ViewerCard"),d=r.createElement(nn.a,{icon:_t.a.Close,onClick:this.props.hideViewerCard,ariaLabel:c,overlay:this.state.viewerCardComponentLoaded,"data-test-selector":"close-viewer-card"}),u=this.props.isModerator||this.props.isOwner,m=Object(Ot.d)("Popout","ViewerCard"),p=u?r.createElement(nn.a,{icon:_t.a.Popout,onClick:this.openPopout,ariaLabel:m,overlay:this.state.viewerCardComponentLoaded,"data-test-selector":"popout-viewer-card"}):null;l=r.createElement(An.a,{className:mt(n),position:yt.n.Absolute,borderRadius:yt.e.Medium,elevation:0},r.createElement("div",{onMouseDown:this.onDragStart,ref:function(t){e.cardContainerRef=t},style:a,"data-a-target":"viewer-card-positioner","data-test-selector":"viewer-card-positioner"},i,r.createElement(St.a,{position:yt.n.Absolute,attachRight:!0,attachTop:!0,margin:{top:.5,right:.5},"data-a-target":"viewer-card-close-button"},r.createElement(Da.a,null,p,d)))),this.props.viewerCardOptions.viewerCardType===Te.c.Emote&&(d=r.createElement(nn.a,{icon:_t.a.Close,onClick:this.hideEmoteCard,ariaLabel:c,type:nn.c.Secondary,"data-test-selector":"close-viewer-card"}),l=r.createElement(An.a,{className:mt(n),position:yt.n.Absolute,borderRadius:yt.e.Large},r.createElement("div",{onMouseDown:this.onDragStart,ref:function(t){e.cardContainerRef=t},style:a,"data-a-target":"viewer-card-positioner"},i,r.createElement(St.a,{position:yt.n.Absolute,attachRight:!0,attachTop:!0,margin:{top:.5,right:.5},"data-a-target":"viewer-card-close-button"},r.createElement(Da.a,null,d)))))}return r.createElement(pa.a,{className:mt(t),fullHeight:!0,fullWidth:!0,position:yt.n.Relative,zIndex:yt.s.Above},r.createElement("div",{onMouseUp:this.onDragEnd,ref:function(t){e.layerRef=t}},l))},t}(r.Component));var _a=Object(le.b)((function(e){return{viewerCardOptions:e.viewerCardOptions,hideViewerCard:e.hideViewerCard}}))(Na),Ia=n("bjUr"),Ma=n("hCFK"),Ta=n("j+2s"),ja=(n("98Kj"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement(oa.b,null,r.createElement(St.a,{fullWidth:!0,fullHeight:!0,padding:{bottom:2,x:2},justifyContent:yt.l.Center,alignItems:yt.b.Center,textAlign:yt.p.Center},r.createElement(St.a,{fullHeight:!0,fullWidth:!0,attachTop:!0,attachLeft:!0,position:yt.n.Absolute,display:yt.g.Flex,flexDirection:yt.h.Column,alignItems:yt.b.Center,justifyContent:yt.l.Center},r.createElement(St.a,null,r.createElement(St.a,null,r.createElement("svg",{height:48,width:48},r.createElement("circle",{className:"banned-chat-overlay__circle",r:"20",cx:"24",cy:"24"}))),r.createElement(St.a,{className:"banned-chat-overlay__halt"},r.createElement(Nt.a,{asset:_t.a.Halt,height:48,width:48}))),r.createElement(St.a,{fullWidth:!0},r.createElement(St.a,{padding:{y:1}},r.createElement(Ct.a,{fontSize:yt.j.Size5,color:yt.f.Alt2,"data-test-selector":"current-user-banned-text",bold:!0},Object(P.d)("You are banned from Chat","ChatInput"))),r.createElement(St.a,{padding:{x:4}},r.createElement(Ct.a,{fontSize:yt.j.Size6,color:yt.f.Alt2,"data-test-selector":"current-user-banned-text"},Object(P.d)("You are unable to participate in this channel's chat until a moderator unbans you.","ChatInput")))))))},t}(r.Component)),Pa=(n("kPCN"),"chat_rules_shown"),La=P.k.withCategory("chat-room"),Ra=K.a.wrap((function(){return Promise.all([n.e(0),n.e(63)]).then(n.bind(null,"A39y"))}),"ChatViewers"),Fa=K.a.wrap((function(){return n.e(67).then(n.bind(null,"Y9qK"))}),"NewChatterRitual",{failSilently:!0,placeholder:null}),Aa=K.a.wrap((function(){return Promise.all([n.e(0),n.e(57)]).then(n.bind(null,"DlC9"))}),"CommunityHighlightStackManager",{placeholder:null}),xa=function(e){function t(t){var n=e.call(this,t)||this;n.hasAcceptedModerationConfirmation=!1,n.inChatInputRevampExperiment=!1,n.isCurrentUserBanned=function(){var e,t,i,a;return(null===(a=null===(i=null===(t=null===(e=n.props.currentUserBannedStatusData)||void 0===e?void 0:e.channel)||void 0===t?void 0:t.self)||void 0===i?void 0:i.banStatus)||void 0===a?void 0:a.isPermanent)||!1},n.closeViewersList=function(){n.props.closeChatViewerList()},n.confirmModerationAction=function(){return!(n.props.isEmbedded&&!n.hasAcceptedModerationConfirmation)||(n.hasAcceptedModerationConfirmation=window.confirm(Object(P.d)("Do you want to enable the ability to timeout and ban on embedded version of Twitch Chat? This setting will persist until you refresh the page.","ChatRoom")),n.hasAcceptedModerationConfirmation)},n.onChatInputFocus=function(){var e=P.m.get(Pa,{});n.props.chatRules&&n.props.chatRules.length>0&&!e[n.props.channelLogin]&&(n.onShowChatRules(),n.inChatInputRevampExperiment&&n.props.showChatRules())},n.onShowChatRules=function(){n.props.authToken&&n.props.onShowChatRules()},n.setChatListElement=function(e){n.setState({chatListElement:e})},n.shouldHideChatInput=function(){return n.props.chatView===Ia.a.ViewerList},n.openRaidUpsellFromHost=function(e){return n.closeRaidUpsell((function(){n.setState({raidUpsellTarget:e})}))},n.closeRaidUpsell=function(e){return n.setState({raidUpsellTarget:null},(function(){e&&e()}))},n.onSendCheerError=function(e,t){switch(t.code){case L.Yc.AUTO_MOD_MESSAGE:n.setState({moderatedReason:Sn.AUTOMOD,forceSendCheer:!1,moderatedMessageParts:Object(ea.f)(t.messageContent.fragments,!1)});break;case L.Yc.INVALID_ANONYMOUS_MESSAGE:n.setState({moderatedReason:Sn.ANONYMOUS_CHEERING,forceSendCheer:!1,anonymousCheerMessageParts:Object(ea.f)(t.messageContent.fragments,!1,n.props.currentUserLogin,n.props.bitsConfig),moderatedMessageParts:[Object(ht.a)(e)]});break;default:n.setState({bitsSendErrorCode:t.code,bitsSendHasError:!0}),n.clearCheerErrorPrompts()}},n.clearBitsSendError=function(){n.setState({bitsSendErrorCode:L.Yc.UNKNOWN,bitsSendHasError:!1})},n.clearCheerErrorPrompts=function(){n.setState({forceSendCheer:!1,moderatedReason:null,moderatedMessageParts:null,anonymousCheerMessageParts:null})},n.onBitsAutoModCheerAnyway=function(){n.setState({moderatedReason:null,forceSendCheer:!0})},n.onInvalidAnonymousCheerPromptCheerAnyway=function(){n.setState({moderatedReason:null,forceSendCheer:!0})};var i=new ft.c([],[],n.props.channelLogin);return n.state={raidUpsellTarget:null,badgeSets:i,forceSendCheer:!1,bitsSendErrorCode:L.Yc.UNKNOWN,bitsSendHasError:!1,moderatedMessageParts:null,anonymousCheerMessageParts:null},n.inChatInputRevampExperiment="variant1"===P.p.experiments.getAndTrackAssignment(ye.c.ChatInputRevamp),n}return Object(a.__extends)(t,e),t.getDerivedStateFromProps=function(e){var t={};if(e.data&&e.data.badges&&e.data.user&&e.data.user.broadcastBadges&&(t.badgeSets=new ft.c(e.data.badges,e.data.user.broadcastBadges,e.channelLogin)),e.data&&e.data.user&&e.data.user.self&&!e.data.user.squadStream&&e.data.user.self.displayBadges){var n={};e.data.user.self.displayBadges.forEach((function(e){e&&(n[e.setID]=e.version)})),P.p.tmi.client.updateChannelBadges(e.channelLogin,n,e.userBadgeDynamicData||{})}return Object.keys(t).length>0?t:null},t.prototype.componentDidUpdate=function(e){this.props.channelLogin!==e.channelLogin&&this.props.onCloseChatRules()},t.prototype.componentWillUnmount=function(){this.props.onCloseChatRules()},t.prototype.render=function(){if(this.props.isBackground)return null;if(this.props.isHidden&&!this.props.isPopout)return r.createElement(kt.a,{alignItems:yt.b.Center,borderLeft:!0,display:yt.g.Flex,flexDirection:yt.h.Column,fullHeight:!0,fullWidth:!0,justifyContent:yt.l.Center,color:yt.f.Base,position:yt.n.Relative},r.createElement(St.a,{margin:{bottom:1}},r.createElement(Ct.a,{fontSize:yt.j.Size5},Object(P.d)("Chat is hidden.","ChatRoom"))),r.createElement(Et.a,{onClick:this.props.onChatUnhide,"data-a-target":"show-chat-button","data-test-selector":"show-chat-button"},Object(P.d)("Show Chat","ChatRoom")));var e=this.props.bitsEnabled&&this.props.firstPageLoaded&&this.props.channelID&&r.createElement(Pt,{channelID:this.props.channelID,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,userID:this.props.userID}),t=this.props.chatView===Ia.a.ViewerList&&r.createElement(kt.a,{attachBottom:!0,attachLeft:!0,attachRight:!0,attachTop:!0,background:yt.d.Alt2,position:yt.n.Absolute,zIndex:yt.s.Above},r.createElement(St.a,{padding:{y:1}},r.createElement(St.a,{position:yt.n.Absolute,attachLeft:!0,margin:{left:1}},r.createElement(nn.a,{icon:_t.a.Close,ariaLabel:Object(P.d)("Close","ChatRoom"),onClick:this.closeViewersList,"data-test-selector":"close-viewer-list"}))),r.createElement(Ra,{channelLogin:this.props.channelLogin,channelID:this.props.channelID,closeViewersList:this.closeViewersList,isCurrentUserBanned:this.isCurrentUserBanned(),"data-test-selector":"chat-viewers"})),n=!!this.props.authToken&&!this.props.isEmbedded,i=null;this.props.isChatRulesOpen&&this.props.chatRules&&this.props.chatRules.length&&!this.inChatInputRevampExperiment&&(i=r.createElement(St.a,{padding:{x:2}},r.createElement(Sa,{chatRules:this.props.chatRules,channelLogin:this.props.channelLogin,channelID:this.props.channelID,onCloseChatRules:this.props.onCloseChatRules})));var a=r.createElement(r.Fragment,null,e,this.props.channelID&&this.props.firstPageLoaded&&r.createElement(Aa,{key:this.props.channelID,channelID:this.props.channelID,channelLogin:this.props.channelLogin}),r.createElement(ya,{badgeSets:this.state.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,containerRef:this.setChatListElement,confirmModerationAction:this.confirmModerationAction,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isEmbedded:this.props.isEmbedded,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isStaff,onPushMessage:this.props.onPushMessage,theme:this.props.theme,userID:this.props.userID}),r.createElement(St.a,{className:"chat-room__notifications",position:yt.n.Absolute,zIndex:yt.s.Above,fullWidth:!0},this.props.children),i,t,this.state.raidUpsellTarget&&r.createElement(ie,null,r.createElement(zn,{send:this.props.onSendMessage,targetChannelLogin:this.state.raidUpsellTarget,sourceChannelLogin:this.props.channelLogin,closeRaidUpsell:this.closeRaidUpsell})),this.props.firstPageLoaded&&this.props.channelID&&r.createElement(Fa,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,isEmbedded:this.props.isEmbedded,isHostMode:this.props.isHostMode,isPopout:this.props.isPopout,onPushMessage:this.props.onPushMessage,onSendMessage:this.props.onSendMessage}),this.state.moderatedReason===Sn.AUTOMOD&&r.createElement(It,{badgeSets:this.state.badgeSets,onEditCheer:this.clearCheerErrorPrompts,onCheerAnyway:this.onBitsAutoModCheerAnyway}),this.state.moderatedReason===Sn.ANONYMOUS_CHEERING&&r.createElement(wt,{messageParts:this.state.anonymousCheerMessageParts||[],badgeSets:this.state.badgeSets,onEditCheer:this.clearCheerErrorPrompts,onCheerAnyway:this.onInvalidAnonymousCheerPromptCheerAnyway}));this.isCurrentUserBanned()&&this.props.chatView!==Ia.a.ViewerList&&(a=r.createElement(ja,null));var o=mt({"chat-room":!0,"chat-room__base-background":!!this.props.useBaseBackground});return r.createElement(pa.a,{"data-test-selector":"chat-room-component-layout","data-a-target":this.props.theme===$.a.Dark?"chat-theme-dark":"chat-theme-light",flexShrink:1,flexGrow:1,display:yt.g.Flex,flexDirection:yt.h.Column,fullWidth:!0},r.createElement("section",{"data-test-selector":"chat-room-section",className:o,role:"complementary","aria-labelledby":"chat-room-header-label"},r.createElement(Ma.a,{type:Ma.c.Fade,duration:Ma.b.Long,show:this.props.isShowingCommunityHighlightList,transitionInitialMount:!0,injectChild:!0},r.createElement(pa.a,{position:yt.n.Absolute,zIndex:yt.s.Above,className:"chat-room__overlay",fullHeight:!0,fullWidth:!0},r.createElement("div",{onClick:this.props.closeCommunityHighlightList}))),r.createElement(kt.a,{display:yt.g.Flex,flexDirection:yt.h.Column,flexWrap:yt.i.NoWrap,position:yt.n.Relative,flexGrow:1,fullHeight:!0,color:yt.f.Base,className:"chat-room__content"},this.props.chatRoomHeader,a,!this.props.isReadOnly&&r.createElement(Zi,{authToken:this.props.authToken,enableBitsInput:n,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,chatRules:this.props.chatRules,channelLogin:this.props.channelLogin,commandPermissionLevel:this.props.commandPermissionLevel,emotes:this.props.emotes,emoteMap:this.props.emoteMap,firstPageLoaded:this.props.firstPageLoaded,hidden:this.shouldHideChatInput(),isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserVIP:this.props.isCurrentUserVIP,isEmbedded:this.props.isEmbedded,isHostMode:this.props.isHostMode,isPopout:this.props.isPopout,isStaff:this.props.isStaff,onChatCommand:this.props.onSendMessage,onShowChatRules:this.props.authToken&&this.props.chatRules&&this.props.chatRules.length?this.onShowChatRules:void 0,badgeSets:this.state.badgeSets,userBadges:this.props.userBadges,showViewersList:this.props.showChatViewerList,onSendMessage:this.props.onSendMessage,onPushMessage:this.props.onPushMessage,onInputFocus:this.onChatInputFocus,containerElement:this.state.chatListElement,openRaidUpsellFromHost:this.openRaidUpsellFromHost,onSendCheerError:this.onSendCheerError,onSendCheerSuccess:this.clearCheerErrorPrompts,isTextInputDisabled:!!this.state.moderatedReason,forceSendCheer:this.state.forceSendCheer,moderatedReason:this.state.moderatedReason,moderatedMessageParts:this.state.moderatedMessageParts,bitsSendErrorCode:this.state.bitsSendErrorCode,bitsSendHasError:this.state.bitsSendHasError,clearBitsSendError:this.clearBitsSendError}),r.createElement(St.a,{className:"chat-room__viewer-card",fullHeight:!0,fullWidth:!0,position:yt.n.Absolute,"data-a-target":"chat-user-card"},r.createElement(_a,{isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,confirmModerationAction:this.confirmModerationAction,onSendMessage:this.props.onSendMessage,channelID:this.props.channelID,channelLogin:this.props.channelLogin,isModerator:!!this.props.isCurrentUserModerator&&this.props.isCurrentUserModerator,isOwner:this.props.isOwnChannel})))))},t}(r.Component);var Ua=Object(s.d)(Object(l.a)(Ta,{name:"data",skip:function(e){return!e.firstPageLoaded},options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(w.b)((function(e){return{chatView:e.chatView,showChatViewerList:e.showChatViewerList,closeChatViewerList:e.closeChatViewerList,isShowingChatRules:e.isShowingChatRules,showChatRules:e.showChatRules,closeChatRules:e.closeChatRules}})),Object(l.a)(_,{name:"currentUserBannedStatusData",options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin||!e.firstPageLoaded}}),Object(N.a)((function(e){return{query:Ta,variables:{channelLogin:e.channelLogin},topic:Object(u.R)(e.userID),type:d.PubsubMessageType.UserBitsBadgeUpdate,skip:!e.firstPageLoaded||!e.userID,mutator:function(t,n){if(La.debug("Received bits-user-update-v1 pubsub update",{data:n,event:t}),!n.badges||t.message_type===Lt.b.Balance||null===t.data.newest_version||t.data.channel_id!==e.channelID)return n;var i=n.badges.find((function(e){return!!e&&e.setID===t.data.set_id&&e.version===t.data.newest_version}));return i&&n.user&&n.user.self&&n.user.self.displayBadges?D(n,(function(e){return e.user.self}),(function(e){var t=e.displayBadges.map((function(e){return e&&e.setID===i.setID&&e.version!==i.version?Object(a.__assign)({},i):e})),n=e.selectedBadge;return(!e.selectedBadge||i.setID===Lt.a.Bits&&e.selectedBadge.setID===Lt.a.Bits)&&(n=Object(a.__assign)({},i)),e.selectedBadge&&(i.setID!==Lt.a.Leaderboard||e.selectedBadge.setID!==Lt.a.Bits&&e.selectedBadge.setID!==Lt.a.Leaderboard)||(n=Object(a.__assign)({},i)),Object(a.__assign)(Object(a.__assign)({},e),{displayBadges:t,selectedBadge:n})})):n}}})),pt.k,Object(p.b)((function(e){return{bitsConfig:e.bitsConfig,bitsEnabled:e.bitsEnabled}})),Object(ee.d)((function(e){return{isShowingCommunityHighlightList:e.listAllView}})),Object(ee.e)((function(e){return{closeCommunityHighlightList:function(){return e(Object(Rt.b)())}}})))(xa),Ba="(?:\\W|^)",Va="(?:$|\\W)",Ha="PowerUpL DarkMode PowerUpR",Ga={failSilently:!0,placeholder:null},qa=K.a.wrap((function(){return n.e(61).then(n.bind(null,"q7q0"))}),"BountyBoardNotification",Ga),Wa=K.a.wrap((function(){return n.e(62).then(n.bind(null,"Ofwf"))}),"ChatCommandHandlers",Ga),za=K.a.wrap((function(){return n.e(66).then(n.bind(null,"KSjr"))}),"NativeBroadcastNotification",Ga),Qa=K.a.wrap((function(){return n.e(68).then(n.bind(null,"T3fw"))}),"Orbis",Ga),Ya=K.a.wrap((function(){return n.e(69).then(n.bind(null,"rg60"))}),"RitualsOnboardingSticky",Ga),Ka=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasReceivedInitialRoomState:!1,hostedChannelLogin:null,prevPropsChannelLogin:n.props.channelLogin,userBadges:null,userBadgeDynamicData:null},n.renderNotifications=function(){var e=[];return n.props.firstPageLoaded&&n.props.channelID&&e.push(r.createElement(qa,{key:"bounty-board-notification",channelID:n.props.channelID})),e},n.sendMessage=function(e){if(!e||0===e.length||!n.props.authToken)return!1;if(!n.props.chatConnectionAPI)return!1;var t=n.props.chatConnectionAPI.sendMessage(e);return(!t||!t.preserveInput)&&(n.parseOutgoingMessage(e),!0)},n.pushMessage=function(e){n.props.messageHandlerAPI&&n.props.messageHandlerAPI.handleMessage(e)},n.onChatEvent=function(e){switch(e.type){case ce.b.Hosting:n.hostingHandler(e.hostedChannel);break;case ce.b.Unhost:n.hostingHandler(null);break;case ce.b.RoomState:n.onRoomStateUpdated(e.state);break;case ce.b.BadgesUpdated:n.onBadgesUpdated(e)}},n.hostingHandler=function(e){n.setState({hostedChannelLogin:e}),n.props.onHostingChange&&n.props.onHostingChange(e)},n.createOutgoingTokenMatchers=function(e){n.outgoingTokenMatchers=e.map((function(e){return{token:e,regex:new RegExp(""+Ba+e+Va)}}))},n.parseOutgoingMessage=function(e){n.outgoingTokenMatchers.forEach((function(t){t.regex.test(e)&&n.onOutgoingTokenMatch(t.token,e)}))},n.onOutgoingTokenMatch=function(e,t){switch(e){case Ha:var i=n.props.theme===$.a.Light?$.a.Dark:$.a.Light;n.props.onThemeChange(i);break;default:return}},n.onBadgesUpdated=function(e){n.setState({userBadges:e.badges,userBadgeDynamicData:e.badgeDynamicData||null})},n.onRoomStateUpdated=function(e){n.props.initialStateLoaded||n.props.onRoomStateUpdate(e)},n.determineCommandPermissionLevel=function(){return n.props.userLogin&&n.props.userLogin===n.props.channelLogin?ue.b.Broadcaster:n.props.isCurrentUserModerator?ue.b.Moderator:n.props.isCurrentUserVIP?ue.b.Vip:ue.b.Viewer},n.createOutgoingTokenMatchers([Ha]),n}return Object(a.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.channelLogin!==t.prevPropsChannelLogin?{prevPropsChannelLogin:e.channelLogin,hostedChannelLogin:null}:null},t.prototype.componentDidMount=function(){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent)},t.prototype.componentWillUnmount=function(){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.onChatEvent)},t.prototype.componentDidUpdate=function(e){var t,n;e.initialStateLoaded&&(e.followerModeDuration===this.props.followerModeDuration&&e.followerModeEnabled===this.props.followerModeEnabled||this.pushMessage((t=this.props.followerModeEnabled,n=this.props.followerModeDuration,{type:ce.b.FollowerOnlyMode,id:Object(de.a)("follower-only"),enabled:t,length:n})),e.slowModeEnabled===this.props.slowModeEnabled&&e.slowModeDuration===this.props.slowModeDuration||this.pushMessage(function(e,t){return{type:ce.b.SlowMode,id:Object(de.a)("slowmode"),enabled:e,length:t}}(this.props.slowModeEnabled,this.props.slowModeDuration))),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent))},t.prototype.render=function(){var e,t=this.props.emoteSetsData&&this.props.emoteSetsData.emoteSets||[],n=this.props.isHidden||!this.props.rightColumnExpanded&&!this.props.inlineRightColumnExpanded,i=!(!this.props.isEmbedded&&!this.props.isPopout&&n&&!this.props.shouldConnectChat),a=this.determineCommandPermissionLevel();return this.props.firstPageLoaded&&(e=r.createElement(Qa,{channelLogin:this.props.channelLogin,sendMessage:this.sendMessage})),r.createElement(r.Fragment,null,r.createElement(Ua,{authToken:this.props.authToken,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatRoomHeader:e,chatRules:this.props.chatRules,commandPermissionLevel:a,currentUserDisplayName:this.props.userDisplayName,currentUserLogin:this.props.userLogin,emotes:t,emoteMap:this.props.emoteSetsData&&this.props.emoteSetsData.emoteMap||{},firstPageLoaded:this.props.firstPageLoaded,hostedChannelLogin:this.state.hostedChannelLogin,isBackground:this.props.isBackground,isChatRulesOpen:this.props.isChatRulesOpen,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserVIP:this.props.isCurrentUserVIP,isEmbedded:this.props.isEmbedded,isHidden:this.props.isHidden,isHostMode:!!this.state.hostedChannelLogin,isReadOnly:this.props.isReadOnly,isOwnChannel:this.isOwnChannel,isPopout:this.props.isPopout,isStaff:this.props.isStaff,onChatUnhide:this.props.onChatUnhide,onCloseChatRules:this.props.onCloseChatRules,onPushMessage:this.pushMessage,onSendMessage:this.sendMessage,onShowChatRules:this.props.onShowChatRules,theme:this.props.theme,userBadges:this.state.userBadges,userBadgeDynamicData:this.state.userBadgeDynamicData,userID:this.props.userID,useBaseBackground:this.props.useBaseBackground},this.renderNotifications(),this.props.firstPageLoaded&&!this.props.isEmbedded&&!this.props.isPopout&&r.createElement(za,{key:this.props.channelLogin.toLowerCase(),channelLogin:this.props.channelLogin}),this.props.firstPageLoaded&&!this.props.isEmbedded&&!this.props.isPopout&&this.props.channelID&&r.createElement(ie,null,r.createElement(Ya,{channelID:this.props.channelID,channelLogin:this.props.channelLogin}))),this.renderCommandHandlers(),r.createElement(fe,{channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin}),r.createElement(Ke,{channelLogin:this.props.channelLogin}),r.createElement(Ue,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,commandPermissionLevel:a,emoteSets:this.props.emoteSetsData&&this.props.emoteSetsData.emoteSets||[],isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:!!this.state.hostedChannelLogin,shouldConnect:i,userID:this.props.userID}),r.createElement(rt,{channelLogin:this.props.channelLogin,shouldSeeBlockedAndDeletedMessages:this.props.shouldSeeBlockedAndDeletedMessages,isBackground:!!this.props.isBackground,isCurrentUserModerator:this.props.isCurrentUserModerator,unhideIgnoredUsers:this.props.unhideIgnoredUsers}),r.createElement(st,null),r.createElement(ct,{channelID:this.props.channelID}))},t.prototype.renderCommandHandlers=function(){return this.props.isBackground||!this.props.firstPageLoaded?null:r.createElement(Wa,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatRules:this.props.chatRules,emoteMap:this.props.emoteSetsData&&this.props.emoteSetsData.emoteMap,isEmbedded:this.props.isEmbedded,isPartner:this.props.isPartner,isPopout:this.props.isPopout,permissionLevel:this.determineCommandPermissionLevel(),sendMessage:this.sendMessage,userID:this.props.userID,userLogin:this.props.userLogin})},Object.defineProperty(t.prototype,"isOwnChannel",{get:function(){return this.props.userID===this.props.channelID},enumerable:!0,configurable:!0}),t}(r.Component);var $a=Object(re.b)((function(e){return{followerModeDuration:e.followerDuration,followerModeEnabled:e.followerMode,slowModeDuration:e.slowModeDuration,slowModeEnabled:e.slowMode,initialStateLoaded:e.initialStateLoaded,onRoomStateUpdate:function(t){return e.updateRoomState(t)}}}))(Ka),Xa=Object(s.d)(Object(o.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isChatRulesOpen:e.chat.isChatRulesOpen,isHidden:e.chat.isHidden,isLoggedIn:Object(m.f)(e),rightColumnExpanded:e.ui.rightColumnExpanded,inlineRightColumnExpanded:e.ui.inlineRightColumnExpanded,theme:Object(J.a)(e),unhideIgnoredUsers:e.chat.unhideIgnoredUsers}}),(function(e){return Object(s.b)({onCloseChatRules:function(){return g.z()},onShowChatRules:function(){return g.O()},onChatUnhide:function(){return g.N()},onThemeChange:function(e){return Object(Z.b)(e,{trackingSource:Z.a.TypedCommand})}},e)})),Object(I.withLatencyTracking)("ChatRoom",{autoReportInteractive:!0}),Object(X.a)(),U,Q.a)((function(e){return r.createElement(re.a,{channelLogin:e.channelLogin},r.createElement(le.a,null,r.createElement(te.a,null,r.createElement(se.a,null,r.createElement(oe.b,{channelID:e.channelID},r.createElement(ae.a,{channelID:e.channelID||void 0},r.createElement(dt.a,{channelLogin:e.channelLogin},r.createElement(ee.a,{key:e.channelLogin},r.createElement(ut.a,{channelLogin:e.channelLogin},r.createElement($a,Object(a.__assign)({},e)))))))))))})),Za=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=this.props.channelData.channel,t=this.props.userData&&this.props.userData.user,n=!1,i=!1,a=!1,o=!1,s=!1;if(t&&e&&e.self){var l=t.login===e.login,c=t.roles&&t.roles.isGlobalMod||!1,d=t.roles&&t.roles.isSiteAdmin||!1;a=t.roles&&t.roles.isPartner||!1,o=t.roles&&t.roles.isStaff||!1,s=e.self.isModerator||l||c,n=e.self.isModerator||l||c||d,i=e.self.isVIP||!1}var u=void 0;return e&&e.chatSettings&&e.chatSettings.rules&&e.chatSettings.rules.filter((function(e){return e.trim().length})).length&&(u=e.chatSettings.rules),r.createElement(Xa,{key:this.props.channelLogin,authToken:this.props.sessionUser&&this.props.sessionUser.authToken,channelDisplayName:e&&e.displayName,channelID:e&&e.id,channelLogin:this.props.channelLogin,chatRules:u,clientID:this.props.clientID,isBackground:this.props.isBackground,isCurrentUserModerator:n,isCurrentUserVIP:i,isEmbedded:!!this.props.isEmbedded,isPopout:!!this.props.isPopout,onHostingChange:this.props.onHostingChange,userDisplayName:this.props.sessionUser&&this.props.sessionUser.displayName,userID:this.props.sessionUser&&this.props.sessionUser.id.toString(),userLogin:this.props.sessionUser&&this.props.sessionUser.login,isPartner:a,isStaff:o,shouldSeeBlockedAndDeletedMessages:s,shouldConnectChat:this.props.shouldConnectChat,useBaseBackground:this.props.useBaseBackground,isReadOnly:this.props.isReadOnly})},t}(r.Component),Ja=n("9P+5");var er=Object(s.d)(Object(o.b)((function(e){return{sessionUser:Object(m.e)(e)}})),Object(l.a)(Y,{name:"channelData",options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(l.a)(Ja,{name:"userData",skip:function(e){return!e.sessionUser}}),Object(I.withLatencyTracking)("Chat"))(Za),tr=Object(s.d)(R.b,x,z.c,Q.b,q)(er),nr=(n("ROQR"),function(e){function t(t){var n=e.call(this,t)||this;return n.usersInChatString=function(){return Object(P.d)("Users in Chat","ChatRoomsHeader")},n.showViewersList=function(){n.props.chatView===Ia.a.ViewerList?n.props.closeChatViewerList():n.props.showChatViewerList()},n}return Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement(kt.a,{className:"stream-chat-header",background:yt.d.Base,borderBottom:!0,display:yt.g.Flex,fullWidth:!0,justifyContent:yt.l.Center,alignItems:yt.b.Center,flexShrink:0,padding:{left:1,right:1}},r.createElement(St.a,{display:yt.g.Flex,alignItems:yt.b.Center},this.renderStreamChatTitle()),r.createElement(kt.a,{position:yt.n.Absolute,attachRight:!0,margin:{right:1}},r.createElement(In.a,{align:In.b.Right,label:this.usersInChatString(),direction:In.c.Bottom},r.createElement(nn.a,{ariaLabel:this.usersInChatString(),"data-test-selector":Vi,icon:_t.a.Friends,onClick:this.showViewersList}))))},t.prototype.renderStreamChatTitle=function(){return r.createElement(Ct.a,{color:yt.f.Alt,"data-test-selector":"chat-room-header-label",fontSize:yt.j.Size6,fontWeight:yt.k.SemiBold,transform:Ct.d.Uppercase,type:Ct.e.H5},this.streamChatTitleString())},t.prototype.streamChatTitleString=function(){return this.props.channelDisplayName?Object(P.d)("<x:bold>{displayName}</x:bold>'s Chat",{displayName:this.props.channelDisplayName,"x:bold":function(e){return r.createElement(Ct.a,{type:Ct.e.Span,bold:!0},e)}},"RoomsHeaderUserChat"):Object(P.d)("Stream Chat","RoomsHeaderTitle")},t}(r.PureComponent));var ir,ar=Object(s.d)(Object(w.b)((function(e){return{chatView:e.chatView,showChatViewerList:e.showChatViewerList,closeChatViewerList:e.closeChatViewerList}})))(nr),rr=(n("Heyb"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentDidUpdate=function(e){var n=t.props.data&&!1===t.props.data.loading,i=e.canChatOnPageDuringWatchParty!==t.props.canChatOnPageDuringWatchParty,a=Object(M.j)(e.activeWatchParty&&e.activeWatchParty.user&&e.activeWatchParty.user.watchParty&&e.activeWatchParty.user.watchParty.session||null)!==Object(M.j)(t.props.activeWatchParty&&t.props.activeWatchParty.user&&t.props.activeWatchParty.user.watchParty&&t.props.activeWatchParty.user.watchParty.session||null);(n||i||a||t.props.pubsub.messages.primeVideoWatchPartyStateUpdate)&&t.updateCommercePermissions()},t.updateCommercePermissions=function(){var e=t.props.activeWatchParty&&t.props.activeWatchParty.user&&t.props.activeWatchParty.user.watchParty&&t.props.activeWatchParty.user.watchParty.session,n=t.props.pubsub.messages.primeVideoWatchPartyStateUpdate&&t.props.pubsub.messages.primeVideoWatchPartyStateUpdate.data.state;if(n)t.props.disableCommerce(n===L.Ud.HYPE_IN||n===L.Ud.IN_PROGRESS);else if(e){var i=Object(M.j)(e);t.props.disableCommerce(i)}else t.props.disableCommerce(!1);t.props.allowChatOnPageDuringWatchParty(t.props.canChatOnPageDuringWatchParty||!1)},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.updateChatConfigState({hideChatSettings:!!this.props.hideChatSettings,showModViewIngress:!!this.props.showModViewIngress,hideOnboardingPrompts:!!this.props.hideOnboardingPrompts,hideChatInputButtons:!!this.props.hideChatInputButtons,onUsernameClick:this.props.onUsernameClick}),this.updateCommercePermissions()},t.prototype.render=function(){return r.createElement(St.a,{className:"stream-chat",fullWidth:!0,fullHeight:!0,display:yt.g.Flex,flexDirection:yt.h.Column,flexGrow:1,flexWrap:yt.i.NoWrap,position:yt.n.Relative},this.renderHeader(),this.renderHiddenState(),this.renderChat())},t.prototype.renderChat=function(){return this.props.isHidden&&!this.props.isPopout?null:r.createElement(tr,{channelLogin:this.props.channelLogin,clientID:P.a.authSettings.clientID,isBackground:this.props.isBackground,isEmbedded:this.props.isEmbedded,isPopout:this.props.isPopout,onHostingChange:this.props.onHostingChange,shouldConnectChat:this.props.shouldConnectChat,useBaseBackground:this.props.useBaseBackground,isReadOnly:this.props.isReadOnly})},t.prototype.renderHeader=function(){if(!this.props.hideHeader){var e=void 0;return this.props.renderChannelName&&this.props.data&&this.props.data.channel&&this.props.data.channel.displayName&&(e=this.props.data.channel.displayName),r.createElement(ar,{channelDisplayName:e})}},t.prototype.renderHiddenState=function(){return!this.props.isHidden||this.props.isPopout?null:r.createElement(kt.a,{alignItems:yt.b.Center,borderLeft:!0,"data-test-selector":"stream-chat-hidden-state",display:yt.g.Flex,flexDirection:yt.h.Column,fullHeight:!0,fullWidth:!0,justifyContent:yt.l.Center,color:yt.f.Base,position:yt.n.Relative},r.createElement(St.a,{margin:{bottom:1}},r.createElement(Ct.a,{fontSize:yt.j.Size5},Object(P.d)("Chat is hidden.","RoomSelector"))),r.createElement(Et.a,{onClick:this.props.onChatUnhide,"data-a-target":"show-chat-button"},Object(P.d)("Show Chat","RoomSelector")))},t}(r.Component)),or=n("DZqs");var sr=Object(v.b)((function(e){return{updateChatConfigState:function(t){return e.updateChatConfigState(t)}}}))(rr),lr=Object(s.d)(Object(o.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isHidden:e.chat.isHidden,sessionUser:Object(m.e)(e)}}),(function(e){return Object(s.b)({onChatUnhide:function(){return g.N()}},e)})),Object(l.a)(or,{skip:function(e){return!e.firstPageLoaded},props:function(e){return{data:e.data,channelID:e.data&&e.data.channel&&e.data.channel.id}},options:function(e){return{variables:{login:e.channelLogin}}}}),Object(l.a)(j,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.firstPageLoaded},name:"activeWatchParty"}),Object(c.a)([{topic:function(e){return e.channelID?Object(u.H)(e.channelID):""},mapMessageTypesToProps:(ir={},ir[d.PubsubMessageType.PrimeVideoWatchPartyStateUpdate]="primeVideoWatchPartyStateUpdate",ir),skip:function(e){return!e.channelID},skipMessage:function(e){return e.type!==d.PubsubMessageType.PrimeVideoWatchPartyStateUpdate}}]),Object(N.a)((function(e){return{variables:{channelLogin:e.channelLogin},query:_,skip:!e.sessionUser||!e.channelID||!e.firstPageLoaded,topic:e.sessionUser&&e.channelID?Object(u.o)(""+(e.sessionUser&&e.sessionUser.id)):"",type:d.PubsubMessageType.ChatRoomsUserModAction,mutator:function(t,n){return e.sessionUser&&e.channelID&&n.channel&&n.channel.self&&t.data.target_id===e.sessionUser.id&&t.data.channel_id===e.channelID&&("ban"===t.data.action?n=D(n,(function(e){return e.channel.self.banStatus}),(function(){return{isPermanent:!0,expiresAt:t.data.expires_at||null,__typename:"ChatRoomBanStatus"}})):"unban"===t.data.action?n=D(n,(function(e){return e.channel.self.banStatus}),(function(){return null})):"timeout"===t.data.action&&(n=D(n,(function(e){return e.channel.self.banStatus}),(function(){return{isPermanent:!1,expiresAt:t.data.expires_at||null,__typename:"ChatRoomBanStatus"}})))),n}}})),T.withWatchPartyContextManager,Object(T.withWatchPartyContext)((function(e){return{areBitsDisabled:e.isWatchPartyActive&&!Object(M.b)(),disableCommerce:e.updateWatchPartyActive,allowChatOnPageDuringWatchParty:e.allowChatOnPageDuringWatchParty}})),Object(I.withLatencyTracking)("StreamChat",{autoReportInteractive:!0}))((function(e){return r.createElement(w.a,{viewManager:e.viewManager},r.createElement(v.a,null,r.createElement(C,null,r.createElement(h.a,{channelLogin:e.channelLogin},r.createElement(E.a,{channelLogin:e.channelLogin},r.createElement(f.a,{key:e.channelLogin,channelLogin:e.channelLogin},r.createElement(p.a,{channelLogin:e.channelLogin,areBitsDisabled:e.areBitsDisabled},r.createElement(O.a,{page:e.page},r.createElement(sr,Object(a.__assign)({},e))))))))))}));n.d(t,"a",(function(){return lr}))},ttMT:function(e,t,n){"use strict";var i,a=n("/MKj"),r=n("kRBY"),o=n("mrSG"),s=n("q1tI"),l=n("/7QA"),c=n("sLlB"),d=n("Ty5D"),u=n("eJ65"),m=n("+GjP"),p=n("vRsq"),h=n("sUnt"),f=n("yymn"),g=n("wp5a"),v=n("7uM4"),b=n("C7sF"),k=n("i4Ys"),y=n("dEDE"),S=n("k0nM"),C=n("ygYM");!function(e){e[e.FilterText=0]="FilterText"}(i||(i={}));var E,w=p.b.Week,O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.filterOptions=[{label:Object(l.d)("24h","TopClipsTimeFilter"),filter:p.b.Day},{label:Object(l.d)("7d","TopClipsTimeFilter"),filter:p.b.Week},{label:Object(l.d)("30d","TopClipsTimeFilter"),filter:p.b.Month},{label:Object(l.d)("all","TopClipsTimeFilter"),filter:p.b.All}],t.renderFilterText=function(e){return s.createElement(h.a,{display:f.g.Flex},Object(l.d)("Top","TopClipsTimeFilter"),s.createElement(h.a,{margin:{left:.5}},s.createElement(g.a,{"data-test-selector":i.FilterText,type:g.b.Brand,label:e.label})))},t.renderBalloonOption=function(e){var n,i=((n={})[p.a]=e.filter,n),a=Object(m.f)(t.props.location,i),r=e.selected?s.createElement(h.a,{attachRight:!0,position:f.n.Absolute,margin:{right:1}},s.createElement(v.a,{asset:b.a.Check,height:18,width:18})):null;return s.createElement(k.a,{"data-a-target":"time-filter-option-"+e.filter,key:e.filter,linkTo:a,selected:e.selected},s.createElement(h.a,{display:f.g.Flex,padding:{x:1,y:.5}},t.renderFilterText(e),r))},t}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){this.ensureFilterPresent()},t.prototype.componentDidUpdate=function(){this.ensureFilterPresent()},t.prototype.render=function(){var e=this.filterOptions,t=Object(p.v)(this.props.location.search);t||(t=w),e.forEach((function(e){e.selected=e.filter===t}));var n=e.find((function(e){return!!e.selected}))||e[0];return s.createElement(h.a,{className:"top-clips-time-filter"},s.createElement(u.a,{hideBalloonOnInsideClick:!0},s.createElement(y.a,{dropdown:!0,type:y.d.Secondary,"data-a-target":"time-filter-selection"},this.renderFilterText(n)),this.props.isBrowse?s.createElement(S.a,{direction:C.b.BottomLeft,noTail:!0},e.map(this.renderBalloonOption)):s.createElement(C.a,{direction:C.b.BottomLeft,noTail:!0},e.map(this.renderBalloonOption))))},t.prototype.ensureFilterPresent=function(){var e;if(!Object(p.v)(this.props.location.search)){var t=((e={})[p.a]=w,e),n=Object(m.f)(this.props.location,t);this.props.history.replace(n)}},t}(s.Component),D=Object(d.k)(O);!function(e){e.ManageMyClipsButton="manage-my-clips-button"}(E||(E={}));var N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){return s.createElement(h.a,{display:f.g.Flex,justifyContent:f.l.Between},s.createElement(h.a,{alignItems:f.b.End,display:f.g.Flex,flexDirection:f.h.Row},s.createElement(h.a,{padding:{x:this.props.isBrowse?.5:0}},this.renderLanguageFilter()),s.createElement(h.a,{padding:{x:this.props.isBrowse?.5:0}},s.createElement(D,{isBrowse:this.props.isBrowse}))),s.createElement(h.a,{padding:{y:this.props.isBrowse?.5:0}},this.renderManageMyClips()))},t.prototype.renderManageMyClips=function(){if(this.props.user&&this.props.user.login===this.props.channelLogin)return s.createElement(y.a,{"data-a-target":"manage-clips-button","data-test-selector":E.ManageMyClipsButton,linkTo:"/manager/clips",targetBlank:!0,type:y.d.Primary},Object(l.d)("Manage clips","TopClips"))},t.prototype.renderLanguageFilter=function(){return this.props.hideLanguageFilter?null:s.createElement(h.a,{margin:{right:this.props.isBrowse?0:1}},s.createElement(c.a,{useBalloon:this.props.isBrowse}))},t}(s.Component);var _=Object(a.b)((function(e){return{user:Object(r.e)(e)}}))(N);n.d(t,"a",(function(){return _}))},uFiD:function(e,t,n){"use strict";var i=n("mrSG"),a=n("TSYQ"),r=n("q1tI"),o=n("ANjH"),s=n("/7QA"),l=n("yR8l"),c=n("x7UT"),d=n("0Log"),u=n("/aPz"),m=n("f00E"),p=n("2xye"),h=n("Q34B"),f=n("Uyxv"),g=n("4l7P");function v(e){return{channel_id:e.channelId,commercial_id:e.commercialId,player_volume:e.playerVolume,player_mute:e.playerMute,on_channel_page:e.onChannelPage,device_id:e.deviceId,dom_node:e.domNode,pbyp_visible:e.pbypVisible,main_play_session_id:e.mainPlayerSessionId,pbyp_play_session_id:e.pbypPlayerSessionId,main_player_broadcaster_latency:e.mainPlayerBroadcasterLatency,pbyp_player_broadcaster_latency:e.pbypPlayerBroadcasterLatency,stitched:e.stitched}}var b=n("oKCn"),k=n("0BjR"),y=n("i/Zp"),S=n("C94G");function C(e){var t=e.weighted_buckets,n=Math.random(),i=-1;return t&&t.length>0&&(i=function(e,t){for(var n=0,i=0;i<t.length;i++)if((n+=t[i])>=e)return i;return-1}(n,t)),i>=0?Math.floor(1e3*(i+Math.random())):(s.k.debug("weighted_buckets unavailable, opting for legacy jitter"),function(e){var t=e.jitter_time,n=e.jitter_buckets;return Math.floor(Math.random()*n)*(t/n)}(e))}var E=n("cr+I"),w=n("b6Yk"),O=n("kRBY"),D=function(e,t){var n=function(e){return E.stringify({oauth_token:Object(O.a)(s.p.store.getState())||"",need_https:!0,platform:"web",player_type:e,player_backend:"mediaplayer"})}(t);return"/api/channels/"+e.toLowerCase()+"/access_token?"+n},N=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n=D(e,t),[4,w.a.getOrThrow(n,{credentials:"include"})];case 1:return[2,i.sent().body];case 2:return i.sent(),[2];case 3:return[2]}}))}))},_=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,N(e,t)];case 1:return[2,n.sent()]}}))}))},I=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,a,r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return n=performance.now(),[4,_(e,t)];case 1:return a=i.sent(),r=Math.round(performance.now()-n),a?(o=function(e,t){var n={allow_source:!0,fast_bread:!!e||void 0,playlist_include_framerate:!0,reassignments_supported:!0,sig:t.sig,token:t.token,player_backend:"mediaplayer",p:Math.floor(9999999*Math.random())};return E.stringify(n)}(!0,a),[2,{src:"https://usher.ttvnw.net/api/channel/hls/"+e.toLowerCase()+".m3u8?"+o,accessTokenLoadTime:r}]):[2,{accessTokenLoadTime:r}]}}))}))},M=function(e,t,n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(i){switch(t){case h.a.LIVE:return[2,I(e,n)];default:return[2]}return[2]}))}))},T=n("sUnt"),j=n("yymn"),P=n("fPaz"),L=n("yIzk"),R=n("Ws8v"),F=n("XQbB");function A(){return r.createElement(R.a,{position:j.n.Absolute,attachTop:!0,attachLeft:!0,attachRight:!0,attachBottom:!0,justifyContent:j.l.Center,alignItems:j.b.Center,display:j.g.Flex,fullWidth:!0,fullHeight:!0,background:j.d.Overlay},r.createElement(F.a,null))}function x(){return r.createElement(R.a,{fullWidth:!0,fullHeight:!0,background:j.d.Overlay})}var U=function(e){var t=e.status,n=null;switch(void 0===t?f.c.Playing:t){case f.c.Playing:n=null;break;case f.c.Paused:n=r.createElement(x,null);break;case f.c.Loading:n=r.createElement(A,null);break;default:n=null}return n?r.createElement(L.a,null,r.createElement(R.a,{position:j.n.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,fullWidth:!0,fullHeight:!0,zIndex:j.s.Default},n)):null};n("SHP0");function B(e){if(e.user)return e.user.stream&&e.user.stream.game&&e.user.stream.game.name}var V,H=n("HwKw"),G=1e3,q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={shouldShow:t.props.isShowing,playerStatus:t.props.status},t.playSessionId=null,t.hasRestrictedContent=t.props.isRestricted,t.logger=s.k.withCategory(y.a.PictureByPicture),t.loadMediaPlayerInstance=function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,n,a,r,o,s=this;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),t=this.props.contentType,""===e||t!==h.a.LIVE?[3,3]:[4,Object(S.a)()];case 1:return n=i.sent(),a=n.mediaPlayerInstance,n.playerLoadTimePromise.then((function(e){s.playerCoreLoadTime=e})),r=this,[4,M(e,t,y.a.PictureByPicture)];case 2:r.usherSrc=i.sent(),this.usherSrc&&this.usherSrc.src&&(a.load(this.usherSrc.src),this.setupPlayer(a),this.setDestroyTimer()),i.label=3;case 3:return[3,5];case 4:return o=i.sent(),this.logger.errorAndReport(o,"Media player failed to load"),[3,5];case 5:return[2]}}))}))},t.onPlayerAnalytics=function(e){var n=e.properties,a=Object(i.__assign)(Object(i.__assign)({},n),{channel:t.props.channelLogin,channel_id:t.props.channelId,game:B(t.props.gameData),play_session_id:t.playSessionId,player:y.a.PictureByPicture,vod_type:void 0});e.name===p.SpadeEventType.VideoTrackingVideoPlay&&(a.time_for_player_core_load=t.playerCoreLoadTime,a.time_for_token_load=t.usherSrc&&t.usherSrc.accessTokenLoadTime),s.o.trackPlayerEvent(e.name,a)},t.shouldShowPlayer=function(){return""!==t.props.channelLogin&&t.props.contentType===h.a.LIVE&&!t.props.isRestricted},t.onPlayerReady=function(){var e,n;t.logger.debug("PbyP Player Ready"),t.selectDefaultLowQuality(),t.props.setReady(!0),e=t.getPlayerTrackingInfo(),n=v(e),s.o.track(p.SpadeEventType.PictureByPictureSpawn,n)},t.onPlayerPlaying=function(){var e,n;t.logger.debug("PbyP Player Playing"),t.setState({playerStatus:f.c.Playing}),e=t.getPlayerTrackingInfo(),n=v(e),s.o.track(p.SpadeEventType.PictureByPicturePlaying,n)},t.onPlayerPlay=function(){(t.logger.debug("PbyP player triggered play"),t.mediaPlayerInstance)&&(t.mediaPlayerInstance.getPlayerState()===k.f.IDLE&&(t.logger.debug("PbyP player detected to be IDLE so triggering mediaplayer play"),t.mediaPlayerInstance.play()))},t.onPlayerPause=function(){if(t.logger.debug("PbyP player triggered pause"),t.mediaPlayerInstance){var e=t.mediaPlayerInstance.getPlayerState();e!==k.f.IDLE&&e!==k.f.ENDED&&(t.logger.debug("PbyP player is not IDLE or ENDED so mediaplayer pause"),t.mediaPlayerInstance.pause(),t.setState({playerStatus:f.c.Paused}))}},t.onPlayerLoading=function(){(t.logger.debug("PbyP player is buffering/loading"),t.mediaPlayerInstance)&&(t.mediaPlayerInstance.getPlayerState()===k.f.BUFFERING&&t.setState({playerStatus:f.c.Loading}))},t.selectDefaultLowQuality=function(){if(t.mediaPlayerInstance){var e=t.mediaPlayerInstance.getQualities().find((function(e){return e.group.includes(b.f.Low)}));e&&(t.logger.debug("PbyP player selected quality "+e.name),t.mediaPlayerInstance.setQuality(e))}},t.showPbyPPlayer=function(){var e,n;t.logger.debug("showing PbyP player assuming mediaPlayer is available"),t.mediaPlayerInstance&&(t.setState({shouldShow:!0}),e=t.getPlayerTrackingInfo(),n=v(e),s.o.track(p.SpadeEventType.PictureByPictureVisible,n))},t.hidePbyPPlayer=function(e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),e&&t.setState({shouldShow:!1}),n&&t.destroyPlayer()},t.destroyPlayer=function(e){if(void 0===e&&(e=!1),t.jitterTimeoutID&&clearTimeout(t.jitterTimeoutID),t.props.setReady(!1),t.mediaPlayerInstance){var n=1e3*t.mediaPlayerInstance.getLiveLatency();setTimeout((function(){var n,a,r;t.mediaPlayerInstance&&(t.logger.debug("Destroying player called"),n=Object(i.__assign)(Object(i.__assign)({},t.getPlayerTrackingInfo()),{selfDestruct:e}),a=v(n),r=Object(i.__assign)(Object(i.__assign)({},a),{self_destruct:n.selfDestruct}),s.o.track(p.SpadeEventType.PictureByPictureDespawn,r),t.mediaPlayerInstance.removeEventListener(k.f.READY,t.onPlayerReady),t.mediaPlayerInstance.removeEventListener(k.f.PLAYING,t.onPlayerPlaying),t.mediaPlayerInstance.removeEventListener(k.f.BUFFERING,t.onPlayerLoading),t.mediaPlayerInstance.removeEventListener(k.e.ANALYTICS_EVENT,t.onPlayerAnalytics),t.mediaPlayerInstance.delete(),t.mediaPlayerInstance=null,t.playSessionId=null)}),G+n)}},t.attachRef=function(e){if(t.mediaPlayerInstance&&e){var n=t.mediaPlayerInstance.getHTMLVideoElement();t.playSessionId=Object(m.c)(),n.setAttribute("id",t.playSessionId),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),n.setAttribute("oncontextmenu","return false;"),e.appendChild(n)}},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this;this.props.channelLogin!==e.channelLogin&&this.props.onChannelChange();var i=this.props.contentType===h.a.LIVE,a=!!this.mediaPlayerInstance;if(e.status!==this.props.status&&(this.props.status===f.c.Playing?this.onPlayerPlay():this.props.status===f.c.Paused?this.onPlayerPause():this.props.status===f.c.Unavailable&&this.hidePbyPPlayer(t.shouldShow||this.state.shouldShow,!0)),e.isShowing===this.props.isShowing)if(i){var r=this.props.pubsub.messages&&this.props.pubsub.messages.adsMidrollRequestMessage&&this.props.pubsub.messages.adsMidrollRequestMessage.data,o=e.pubsub.messages&&e.pubsub.messages.adsMidrollRequestMessage&&e.pubsub.messages.adsMidrollRequestMessage.data,s=!o||r&&r.commercial_id!==o.commercial_id;if(!a&&r&&s){this.logger.debug("Pubsub payload detected and processing "+JSON.stringify(r));var l=C(r),c=this.props.getMainPlayerMetadata(),d=c.latencyToBroadcaster?c.latencyToBroadcaster:0;this.logger.debug("Delaying load of mediaPlayer by "+(l+d)),this.jitterTimeoutID=setTimeout((function(){n.loadMediaPlayerInstance(n.props.channelLogin)}),l+d)}}else this.hidePbyPPlayer(t.shouldShow||this.state.shouldShow,!0);else this.props.isShowing&&this.shouldShowPlayer()?(this.destroyTimeoutID&&clearTimeout(this.destroyTimeoutID),this.showPbyPPlayer()):this.props.isShowing||this.hidePbyPPlayer(this.state.shouldShow,!0)},t.prototype.componentWillUnmount=function(){this.logger.debug("pbyp player unmounting"),this.hidePbyPPlayer(this.state.shouldShow,!0)},t.prototype.render=function(){return this.mediaPlayerInstance?r.createElement(T.a,{className:a("picture-by-picture-player",{"picture-by-picture-player--collapsed":!this.state.shouldShow}),flexGrow:0,flexShrink:0,alignItems:j.b.Center,display:j.g.Flex,flexWrap:j.i.Wrap,fullWidth:!0,justifyContent:j.l.Center},r.createElement(P.b,{ratio:P.c.Aspect16x9},this.state.playerStatus!==f.c.Playing&&r.createElement(U,{status:this.state.playerStatus}),r.createElement("div",{className:"pbyp-player-instance",ref:this.attachRef}))):null},t.prototype.setupPlayer=function(e){this.logger.debug("setupPlayer called"),this.mediaPlayerInstance=e,this.mediaPlayerInstance.setPlayerType(y.a.PictureByPicture),this.mediaPlayerInstance.setMuted(!0),this.mediaPlayerInstance.addEventListener(k.f.READY,this.onPlayerReady),this.mediaPlayerInstance.addEventListener(k.f.PLAYING,this.onPlayerPlaying),this.mediaPlayerInstance.addEventListener(k.f.BUFFERING,this.onPlayerLoading),this.mediaPlayerInstance.addEventListener(k.e.ANALYTICS_EVENT,this.onPlayerAnalytics),this.mediaPlayerInstance.play()},t.prototype.setDestroyTimer=function(){var e=this,t=this.props.pubsub.messages&&this.props.pubsub.messages.adsMidrollRequestMessage&&this.props.pubsub.messages.adsMidrollRequestMessage.data&&this.props.pubsub.messages.adsMidrollRequestMessage.data.warmup_time;if(t){var n=2*t+3e4;this.logger.debug("Setting destroyTimer with a delay of "+n),this.destroyTimeoutID=setTimeout((function(){e.destroyPlayer(!0)}),n)}},t.prototype.getPlayerTrackingInfo=function(){if(this.mediaPlayerInstance){var e=window.location.pathname.toLowerCase().includes(this.props.channelLogin),t="";if(this.playSessionId){var n=document.getElementById(this.playSessionId);n&&(t=JSON.stringify(n.parentElement,["id","className","tagName"]))}var i=this.props.pubsub.messages&&this.props.pubsub.messages.adsMidrollRequestMessage&&this.props.pubsub.messages.adsMidrollRequestMessage.data&&this.props.pubsub.messages.adsMidrollRequestMessage.data.commercial_id||"",a=this.props.getMainPlayerMetadata();return{channelId:this.props.channelId,commercialId:i,playerVolume:this.mediaPlayerInstance.getVolume(),playerMute:this.mediaPlayerInstance.isMuted(),onChannelPage:e,deviceId:s.p.session.deviceID,domNode:t,pbypVisible:this.props.isShowing,mainPlayerSessionId:a.playSessionId,mainPlayerBroadcasterLatency:a.latencyToBroadcaster,pbypPlayerSessionId:this.playSessionId||"",pbypPlayerBroadcasterLatency:1e3*this.mediaPlayerInstance.getLiveLatency(),stitched:this.props.isStitched}}return{}},t}(r.Component);var W=Object(o.d)(Object(c.a)([{topic:function(e){return Object(u.b)(e.channelId)},skip:function(e){return""===e.channelId},mapMessageTypesToProps:(V={},V[d.PubsubMessageType.AdsMidrollRequest]="adsMidrollRequestMessage",V)}]),Object(l.a)(H,{name:"gameData",options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(g.c)((function(e){return{isRestricted:e.isRestricted,isShowing:e.isShowing,isStitched:e.isStitched,onChannelChange:e.onChannelChange,getMainPlayerMetadata:e.getMainPlayerMetadata,status:e.status,setReady:e.setReady}})))(q);n.d(t,"a",(function(){return W}))},uGUt:function(e,t,n){"use strict";var i;function a(e,t){return{type:i.PushHighlight,event:e,id:t}}function r(e){return{type:i.RemoveHighlight,id:e}}function o(e,t){return{type:i.MoveToHighlight,id:e,shouldExpand:!!t}}function s(){return{type:i.OpenListAllView}}function l(){return{type:i.CloseListAllView}}function c(e){return{type:i.ToggleExpanded,id:e}}n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return c})),function(e){e.PushHighlight="push-highlight",e.RemoveHighlight="remove-highlight",e.MoveToHighlight="move-to-highlight",e.OpenListAllView="open-list-all-view",e.CloseListAllView="close-list-all-view",e.ToggleExpanded="toggle-expanded"}(i||(i={}))},uIkQ:function(e,t,n){"use strict";var i=n("b5C3"),a=n("fQWD"),r=(n("ZEQw"),n("yzyL"),n("mrSG")),o=n("DMoW"),s=(new(function(){function e(e,t,n){this.count=0,this.globalsBySet=new Map,this.channelsBySet=new Map,this.count=e.length+(t?t.length:0),this.indexBadges(e,this.globalsBySet,n),Array.isArray(t)&&this.indexBadges(t,this.channelsBySet,n)}return e.prototype.getBadge=function(e,t){var n=this.channelsBySet.get(e);return n&&n.has(t)?n.get(t)||null:void 0!==(n=this.globalsBySet.get(e))&&n.get(t)||null},e.prototype.indexBadges=function(e,t,n){e.forEach((function(e){n&&e.clickAction===o.m.SUBSCRIBE&&(e=Object(r.__assign)(Object(r.__assign)({},e),{channelName:n}));var i=t.get(e.setID);i||(i=new Map,t.set(e.setID,i)),i.set(e.version,e)}))},e}())([],[],""),n("2Ev9"));n.d(t,"b",(function(){return i.a})),n.d(t,"a",(function(){return a.a})),n.d(t,"c",(function(){return s.b}))},uYvD:function(e,t,n){},uYye:function(e,t,n){},ulxC:function(e,t,n){},uu1w:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Command="command",e.Emote="emote",e.Mention="mention",e.Hashtag="hashtag",e.None="none"}(i||(i={}))},uy8m:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward"}(i||(i={}))},v8tf:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsDownloadButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoQualities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sourceURL"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:131}};n.loc.source={body:"query ClipsDownloadButton($slug: ID!) {\nclip(slug: $slug) {\nid\nbroadcaster {\nid\n}\ngame {\nid\nname\n}\nvideoQualities {\nsourceURL\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsDownloadButton=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsDownloadButton")},vHGB:function(e,t,n){"use strict";var i=n("mrSG"),a=n("TSYQ"),r=n("q1tI"),o=n("DMoW"),s=n("2xye"),l=n("ZEQw"),c=n("xZ3y"),d=n("1bK4"),u=n("Rjl4"),m=n("Jsra"),p=n("b7S+"),h=n("yymn"),f=(n("E78O"),n("/7QA")),g=n("rYEI");var v=function(e){e.badge_type=e.badge_type.toLowerCase().replace(/( |\s)/g,"_"),f.p.tracking.track(s.SpadeEventType.ChatBadgeClick,e)};n.d(t,"a",(function(){return k}));var b="https://www.twitch.tv/products/turbo?ref=chat_badge",k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isHovering:!1},t.primeReferralID="",t.onMouseOver=function(){t.setState({isHovering:!0})},t.onMouseOut=function(){t.setState({isHovering:!1})},t.onBadgeClickHandler=function(){v({badge_type:t.props.badge&&t.props.badge.title||t.props.schemaBadge&&t.props.schemaBadge.title||"",badge_url_target:t.targetURL})},t.onPrimeBadgeClickHandler=function(){Object(u.w)({tp_refcode:t.primeReferralID,medium:s.PageviewMedium.Chat,content:s.PageviewContent.CrownBadge,tp_campaign:u.b.TrackingAlpha}),t.onBadgeClickHandler()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.schemaBadge||this.props.badge,t=e&&function(e,t){if(!t)return e.title;var n=Number(t)||0;if("subscriber"===e.setID){var i=Number(e.version)||0;if(n>0)return 0===i?Object(f.d)("{tenure}-Month Subscriber",{tenure:String(n)},"DynamicBadgeTitles"):Object(f.d)("{tenure}-Month Subscriber ({title} Badge)",{tenure:String(n),title:Object(g.a)(i)},"DynamicBadgeTitles")}else if("founder"===e.setID)return n>0?Object(f.d)("Founder, {tenure}-Month Subscriber",{tenure:String(n)},"DynamicBadgeTitles"):Object(f.d)("Founder","DynamicBadgeTitles");return e.title}(e,this.props.dynamicData)||"",n=this.props.schemaBadge?this.props.schemaBadge.version:this.props.badge&&this.props.badge.version||"",i=this.props.schemaBadge?this.props.schemaBadge.setID:this.props.badge&&this.props.badge.setID||"",o=this.props.schemaBadge?this.props.schemaBadge.image1x:this.props.badge&&this.props.badge.image1x||"",s=this.props.schemaBadge?this.props.schemaBadge.image2x:this.props.badge&&this.props.badge.image2x||"",l=this.props.schemaBadge?this.props.schemaBadge.image4x:this.props.badge&&this.props.badge.image4x||"",d=this.props.large,v=this.props.hideTooltip,b=a({"chat-badge":!this.props.noMargins}),k=d?s:o,y=d?s+" 1x, "+l+" 2x":o+" 1x, "+s+" 2x, "+l+" 4x";i===c.a&&(t=Object(c.d)(t,n));var S=r.createElement("img",{alt:t,"aria-label":Object(f.d)("{badgeTitle} badge",{badgeTitle:t},"Badge"),className:b,src:k,srcSet:y,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut});if(this.targetURL=this.getTargetURL(),""!==this.targetURL){var C=this.onBadgeClickHandler;e&&"cHJlbWl1bTsxOw=="===e.id&&(this.primeReferralID=Object(u.e)(),this.targetURL=Object(u.d)(this.targetURL,this.primeReferralID),C=this.onPrimeBadgeClickHandler),S=r.createElement(m.a,{linkTo:this.targetURL,onClick:C,targetBlank:!0,"data-a-target":"chat-badge"},S)}return!v&&this.state.isHovering?r.createElement(p.a,{align:p.b.Left,"data-a-target":"chat-badge",display:h.g.Inline,key:o,label:t,offsetY:"0.9rem"},S):S},t.prototype.getTargetURL=function(){if(this.props.badge){if(this.props.badge.setID===c.a)return"";if(this.props.badge.setID===d.d){var e=this.props.badge.version;if(parseInt(e,10)>=1e3)return Object(d.a)()}switch(this.props.badge.clickAction){case l.d:case o.m.VISIT_URL:return this.props.badge.clickURL;case l.b:case o.m.SUBSCRIBE:return this.props.badge.channelName?this.getSubscriberLink(this.props.badge.channelName):"";case l.c:case o.m.GET_TURBO:return b;default:return""}}else if(this.props.schemaBadge){if(this.props.schemaBadge.setID===c.a)return"";switch(this.props.schemaBadge.clickAction){case l.d:case o.m.VISIT_URL:return this.props.schemaBadge.clickURL||"";case l.b:case o.m.SUBSCRIBE:return this.props.schemaBadge.channelName?this.getSubscriberLink(this.props.schemaBadge.channelName):"";case l.c:case o.m.GET_TURBO:return b;default:return""}}return""},t.prototype.getSubscriberLink=function(e){return"https://www.twitch.tv/"+e+"/subscribe?ref=in_chat_subscriber_link"},t}(r.Component)},"vLL+":function(e,t,n){"use strict";var i=n("q1tI"),a=n("/7QA"),r=n("mrSG"),o=n("wUQP"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return Object(o.a)(this.props.name)?i.createElement(i.Fragment,null,this.props.children):null},t}(i.Component),l=n("C7sF"),c=n("yymn"),d=n("b7S+"),u=n("Ws8v"),m=n("7uM4");n("L6L7");n.d(t,"a",(function(){return p}));var p=function(e){var t=e.onBanUser,n=l.a.Ban,r=Object(a.d)("Ban {login}",{login:e.senderLogin},"ModerationIcons"),o="chat-ban-button",p=null,h=e.renderNewVersion?c.g.Flex:c.g.Inline,f=e.renderNewVersion?d.b.Center:d.b.Left,g=e.renderNewVersion?d.c.Bottom:d.c.Top,v=e.renderNewVersion?c.f.Link:c.f.Alt2,b=e.renderNewVersion?{right:.5}:{right:0};return e.isMessageBanned&&(t=e.onUnbanUser,n=l.a.FollowCheck,r=Object(a.d)("Unban {login}",{login:e.senderLogin},"ModerationIcons"),o="chat-unban-button"),!e.isMessageDeleted&&e.canDelete&&(p=i.createElement(s,{name:"single_message_delete"},i.createElement(u.a,{display:c.g.InlineFlex,margin:b,verticalAlign:c.q.Bottom},i.createElement(d.a,{align:f,direction:g,label:Object(a.d)("Delete message","ModerationIcons")},i.createElement("button",{className:"mod-icon",onClick:e.onDelete,"data-test-selector":"chat-delete-button"},i.createElement(m.a,{width:16,height:16,type:m.b.Inherit,asset:l.a.Trash})))))),i.createElement(u.a,{color:v,display:h,margin:{right:.5}},i.createElement(u.a,{display:c.g.InlineFlex,margin:b,verticalAlign:c.q.Bottom},i.createElement(d.a,{align:f,direction:g,label:r},i.createElement("button",{className:"mod-icon",onClick:t,"data-test-selector":o},i.createElement(m.a,{width:16,height:16,type:m.b.Inherit,asset:n})))),i.createElement(u.a,{display:c.g.InlineFlex,margin:b,verticalAlign:c.q.Bottom},i.createElement(d.a,{align:f,direction:g,label:Object(a.d)("Timeout {login}",{login:e.senderLogin},"ModerationIcons")},i.createElement("button",{className:"mod-icon",onClick:e.onTimeoutUser,"data-test-selector":"chat-timeout-button"},i.createElement(m.a,{width:16,height:16,type:m.b.Inherit,asset:l.a.Timeout})))),p)}},vSJR:function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("q1tI"),o=n("u5aL"),s=n("N0BP"),l=n("Ws8v"),c=n("yymn"),d=n("EmXd"),u=n("9qaG"),m=n("u03v");!function(e){e.DropdownInsideClickDetector="dropdown-inside-click-detector",e.DropdownWrapper="dropdown-wrapper"}(i||(i={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!!t.props.openByDefault},t.handleOnClickOut=function(){t.hideDropdown()},t.handleButtonClick=function(){t.setState((function(e){return{isOpen:!e.isOpen,hasInteracted:!0}}),(function(){t.props.onToggle&&t.props.onToggle(!t.state.isOpen)}))},t.hideDropdown=function(){t.setState({isOpen:!1},(function(){t.props.onToggle&&t.props.onToggle(!0)}))},t.handleInsideDropdownClick=function(){t.hideDropdown()},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.children;return this.props.hideDropdownOnInsideClick&&(e=r.createElement("div",{"data-test-selector":i.DropdownInsideClickDetector,onClick:this.handleInsideDropdownClick},e)),r.createElement(o.a,{onClickOut:this.handleOnClickOut},r.createElement(l.a,Object(a.__assign)({background:this.state.isOpen?c.d.Base:void 0,borderRadius:c.e.Large,className:"inline-dropdown",elevation:this.state.isOpen?3:void 0,padding:.5,position:c.n.Relative},Object(s.a)(this.props)),r.createElement("div",{className:"inline-dropdown__button-wrapper"},r.createElement(d.a,{blurAfterClick:!0,onClick:this.handleButtonClick,size:u.c.Large,dropdown:m.b.ArrowDown,"data-a-target":"inline-dropdown-button"},this.props.buttonLabel)),r.createElement(l.a,{attachLeft:!0,background:c.d.Base,borderRadius:{bottomLeft:c.e.Large,bottomRight:c.e.Large},"data-test-selector":i.DropdownWrapper,display:this.state.isOpen?c.g.Block:c.g.Hide,elevation:3,fullWidth:!0,padding:{y:1},position:c.n.Absolute,zIndex:c.s.Above},e)))},t.prototype.toggleDropdown=function(e){void 0===e&&(e=!this.state.isOpen),this.setState({isOpen:e})},t}(r.Component);n.d(t,"a",(function(){return p}))},vSeP:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var i=n("XIZb"),a=Object(i.a)("ActiveChatters"),r=a.withChatServiceManager,o=a.withContext,s=r,l=o((function(e){return{activeChattersAPI:e.serviceAPI,setActiveChattersAPI:e.setServiceAPI}}))},vVeY:function(e,t,n){"use strict";function i(e,t){return"https://www.twitch.tv"+function(e,t){return"/"+t+"/clip/"+e}(e,t)}n.d(t,"a",(function(){return i}))},"ve/r":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteVariantFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmoteVariant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUnlockable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsEmoteFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"modifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteModificationFragment"},directives:[]}]}}]}}],loc:{start:0,end:341}};i.loc.source={body:'#import "twilight/features/community-points/models/community-points-emote-fragment.gql"\n#import "twilight/features/community-points/models/emote-modification-fragment.gql"\nfragment emoteVariantFragment on CommunityPointsEmoteVariant {\nid\nisUnlockable\nemote {\n...communityPointsEmoteFragment\n}\nmodifications {\n...emoteModificationFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("KrPZ").definitions)),i.definitions=i.definitions.concat(r(n("sj0o").definitions)),e.exports=i},vhpE:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f}));var i,a=n("mrSG"),r=n("q1tI"),o=n("wbMx"),s=n("vVeY"),l=n("+GjP"),c=n("2xye"),d=n("MLDe"),u=n("4L7N"),m=n("yymn"),p=n("sUnt"),h=[{type:o.c.Twitter,params:{tt_medium:"twtr"}},{type:o.c.Facebook,params:{tt_medium:"fb"}},{type:o.c.Reddit,params:{tt_medium:"redt"}},{type:o.c.Copy}];!function(e){e.MainContainer="main-container",e.DownloadButtonContainer="download-button-container",e.ShareButtonTwitter="share-button-twitter",e.ShareButtonFacebook="share-button-facebook",e.ShareButtonReddit="share-button-reddit",e.ShareButtonCopy="share-button-copy"}(i||(i={}));var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e={margin:{right:1}},t={};return this.props.asBalloon&&(t={justifyContent:m.l.Between},e={}),r.createElement(p.a,Object(a.__assign)({className:"clips-social-share",display:m.g.Flex,flexWrap:m.i.NoWrap},t,{"data-test-selector":i.MainContainer}),r.createElement(p.a,Object(a.__assign)({display:m.g.InlineBlock},e,{"data-test-selector":i.DownloadButtonContainer}),r.createElement(u.a,{broadcasterLogin:this.props.clip.broadcaster&&this.props.clip.broadcaster.login||"",broadcasterId:this.props.clip.broadcaster&&this.props.clip.broadcaster.id||"",slug:this.props.clip.slug,pageType:this.props.pageType})),this.renderSocialButton(e,i.ShareButtonTwitter,o.c.Twitter,{tt_medium:"twtr"}),this.renderSocialButton(e,i.ShareButtonFacebook,o.c.Facebook,{tt_medium:"fb"}),this.renderSocialButton(e,i.ShareButtonReddit,o.c.Reddit,{tt_medium:"redt"}),this.renderSocialButton(e,i.ShareButtonCopy,o.c.Copy))},t.prototype.renderSocialButton=function(e,t,n,i){var u=Object(l.g)(this.props.clip.url,i);return this.props.pageType===c.PageviewLocation.ClipsWatchPage&&this.props.clip.broadcaster&&this.props.clip.broadcaster.login&&(u=Object(l.g)(Object(s.a)(this.props.clip.slug,this.props.clip.broadcaster.login),i)),r.createElement(p.a,Object(a.__assign)({key:n},e,{"data-test-selector":t}),r.createElement(o.a,{key:n,type:n,text:this.props.clip.title,url:u,onShareClick:Object(d.c)(this.props.clip.id,this.props.clip.game&&this.props.clip.game.name,this.props.clip.broadcaster&&this.props.clip.broadcaster.id,this.props.clip.broadcaster&&this.props.clip.broadcaster.login,this.props.pageType)}))},t}(r.Component)},vlTn:function(e,t,n){"use strict";var i=n("q1tI"),a=n("sUnt"),r=n("yymn"),o=n("PL8s"),s=function(){return i.createElement(a.a,{display:r.g.Flex,margin:{bottom:.5}},i.createElement(a.a,{margin:{right:.5}},i.createElement(o.a,{height:25,width:70})),i.createElement(a.a,{margin:{right:.5}},i.createElement(o.a,{height:25,width:70})))};n.d(t,"a",(function(){return s}))},vtET:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"channelCollection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelVideo"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channel"},directives:[]}]}}]}}],loc:{start:0,end:269}};i.loc.source={body:'#import "twilight/features/channel/queries/channel-video.gql"\n#import "twilight/features/channel/queries/channel.gql"\nfragment channelCollection on Collection {\nid\nitems(first: 1) {\ntotalCount\nedges {\nnode {\n... on Video {\n...channelVideo\n}\n}\n}\n}\nowner {\n...channel\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("RTtf").definitions)),i.definitions=i.definitions.concat(r(n("BbLt").definitions)),e.exports=i},wAVh:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"poll"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Poll"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"choices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollChoice"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalVoters"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettings"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"remainingDurationMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topBitsContributor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTopBitsContributor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"topCommunityPointsContributor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTopCommunityPointsContributor"},directives:[]}]}}]}}],loc:{start:0,end:843}};i.loc.source={body:'#import "twilight/features/polls/models/poll-choice-fragment.gql"\n#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-settings-fragment.gql"\n#import "twilight/features/polls/models/poll-top-bits-contributor-fragment.gql"\n#import "twilight/features/polls/models/poll-top-community-points-contributor-fragment.gql"\nfragment poll on Poll {\nid\nchoices {\n...pollChoice\n}\ndurationSeconds\nstartedAt\nendedAt\nstatus\ntitle\nownedBy {\nid\n}\ncreatedBy {\nid\n}\ntokens {\n...pollTokenBreakdown\n}\ntotalVoters\nvotes {\n...pollVoteBreakdown\n}\nsettings {\n...pollSettings\n}\nremainingDurationMilliseconds\ntopBitsContributor {\n...pollTopBitsContributor\n}\ntopCommunityPointsContributor {\n...pollTopCommunityPointsContributor\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("quxh").definitions)),i.definitions=i.definitions.concat(r(n("/x02").definitions)),i.definitions=i.definitions.concat(r(n("wMQt").definitions)),i.definitions=i.definitions.concat(r(n("OGC9").definitions)),i.definitions=i.definitions.concat(r(n("1DIz").definitions)),i.definitions=i.definitions.concat(r(n("CdYI").definitions)),e.exports=i},wFyP:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("QVaV"),o=n("EE1E"),s=(n("HWU2"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleUsernameClick=function(e){t.props.onUsernameClick&&t.props.onUsernameClick(e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.highContrastUsernameColor,n=e.sender,i=n.chatColor;t&&i&&(i="#"+Object(o.a)(i,this.props.theme));var s=[a.createElement("span",{key:"username-display",className:"message-author__display-name","data-test-selector":"message-username",style:{color:i||void 0}},n.displayName)];n.displayName&&!Object(r.b)(n.displayName)&&s.push(a.createElement("span",{key:"username-login",style:{color:n.chatColor||void 0},className:"message-author__intl-login","data-test-selector":"message-username-canonical"}," ("+n.login+")"));var l=this.props.onUsernameClick?"message-author__username--clickable":"message-author__username";return a.createElement("span",{onClick:this.handleUsernameClick,className:l},s)},t}(a.Component));n.d(t,"a",(function(){return s}))},wMQt:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoteBreakdown"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoteBreakdown"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"base"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}],loc:{start:0,end:86}};n.loc.source={body:"fragment pollVoteBreakdown on PollVoteBreakdown {\ntotal\nbits\ncommunityPoints\nbase\nid\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},wpfL:function(e,t,n){},wqjf:function(e,t,n){"use strict";var i=n("mrSG"),a=n("NAv5"),r=n("uhBA"),o=n("q1tI"),s=n("/MKj"),l=n("ANjH"),c=n("yR8l"),d=n("Mj6i"),u=n("2Ygb"),m=n("kRBY"),p=n("GzyO"),h=n("m2W3"),f=n("4rCz"),g=0,v=function(e){return"twilight.sub-benefit-reminder."+e},b=new r.EventEmitter,k=Symbol("sub-benefit-reminder-state-updated"),y=function(){return{emotePickerAnimation:{lastTriggered:g,dismissed:!1},emotePickerCallout:{lastTriggered:g,dismissed:!1},experienceRetriggered:!1}};function S(e,t){var n=f.n.get(v(e),{})[t];return n||(n=y()),n}function C(e,t,n){var i=S(e,t);n(i),function(e,t,n){var i=f.n.get(v(e),{});i[t]=n,f.n.set(v(e),i),b.emit(k,{userID:e,channelID:t,value:n})}(e,t,i)}var E=n("qG5l");n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return _}));var w=new r.EventEmitter;function O(e){w.emit("subPurchaseEvent",{channelID:e})}var D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baseEligibility=function(){var e;if(!t.props.data)return!1;if(t.props.data.loading||t.props.data.error)return!1;if(!t.props.data.user)return!1;var n=t.props.data.user.self;return!!n&&(!!n.subscriptionBenefit&&(!(!n.subscriptionTenure||n.subscriptionTenure.months>1)&&((null===(e=n.subscriptionBenefit.gift)||void 0===e||!e.isGift)&&!!Object(h.b)())))},t.shouldShowEmotePickerAnimation=function(){if(!t.baseEligibility())return!1;if(!t.props.channelID||!t.props.currentUser)return!1;var e=S(t.props.currentUser.id,t.props.channelID);return!e.emotePickerAnimation.dismissed&&(!Object(a.isAfter)(Date.now(),Object(a.addDays)(e.emotePickerAnimation.lastTriggered,1))||e.emotePickerAnimation.lastTriggered===g)},t.dismissEmotePickerAnimation=function(){var e;if(Object(h.b)()){var n=null===(e=t.props.currentUser)||void 0===e?void 0:e.id,i=t.props.channelID;n&&i&&function(e,t){C(e,t,(function(e){return e.emotePickerAnimation.dismissed=!0}))}(n,i)}},t.shouldShowEmotePickerCallout=function(){return!!t.baseEligibility()&&(!(!t.props.currentUser||!t.props.channelID)&&!S(t.props.currentUser.id,t.props.channelID).emotePickerCallout.dismissed)},t.dismissEmotePickerCallout=function(){var e;if(Object(h.b)()){var n=null===(e=t.props.currentUser)||void 0===e?void 0:e.id,i=t.props.channelID;n&&i&&function(e,t){C(e,t,(function(e){return e.emotePickerCallout.dismissed=!0}))}(n,i)}},t.storedStateUpdateListener=function(e){var n;e.userID===(null===(n=t.props.currentUser)||void 0===n?void 0:n.id)&&e.channelID===t.props.channelID&&t.forceUpdate()},t.subPurchaseEventListener=function(e){e.channelID===t.props.channelID&&t.props.data.refetch()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e;e=this.storedStateUpdateListener,b.addListener(k,e),w.on("subPurchaseEvent",this.subPurchaseEventListener),this.retriggerIfEligible(),this.updateTriggeredState()},t.prototype.componentWillUnmount=function(){var e;e=this.storedStateUpdateListener,b.removeListener(k,e),w.off("subPurchaseEvent",this.subPurchaseEventListener)},t.prototype.componentDidUpdate=function(){this.retriggerIfEligible(),this.updateTriggeredState()},t.prototype.render=function(){var e={shouldShowEmotePickerAnimation:this.shouldShowEmotePickerAnimation(),dismissEmotePickerAnimation:this.dismissEmotePickerAnimation,shouldShowEmotePickerCallout:this.shouldShowEmotePickerCallout(),dismissEmotePickerCallout:this.dismissEmotePickerCallout};return o.createElement(o.Fragment,null,this.props.wrapComponent(e))},t.prototype.updateTriggeredState=function(){var e,t=null===(e=this.props.currentUser)||void 0===e?void 0:e.id,n=this.props.channelID;if(t&&n){var i=S(t,n);this.shouldShowEmotePickerAnimation()&&i.emotePickerAnimation.lastTriggered===g&&function(e,t){C(e,t,(function(e){return e.emotePickerAnimation.lastTriggered=Date.now()}))}(t,n),this.shouldShowEmotePickerCallout()&&i.emotePickerCallout.lastTriggered===g&&function(e,t){C(e,t,(function(e){return e.emotePickerCallout.lastTriggered=Date.now()}))}(t,n)}},t.prototype.retriggerIfEligible=function(){var e;if(Object(h.c)()===h.a.VariantB){var t=null===(e=this.props.currentUser)||void 0===e?void 0:e.id,n=this.props.channelID;if(t&&n){var i=S(t,n);if(i.emotePickerAnimation.lastTriggered!==g&&i.emotePickerCallout.lastTriggered!==g&&!i.experienceRetriggered&&!Object(a.isBefore)(Date.now(),Object(a.addDays)(i.emotePickerAnimation.lastTriggered,7))&&this.props.emoteSetsData&&!this.props.emoteSetsData.loading&&!this.props.emoteSetsData.error&&this.props.emoteSetsData.emoteSets){var r=this.props.emoteSetsData.emoteSets.filter((function(e){var t;return(null===(t=null==e?void 0:e.owner)||void 0===t?void 0:t.id)===n})).reduce((function(e,t){return e.concat(t.emotes.filter((function(e){return!!(null==e?void 0:e.id)})).map((function(e){return e.id})))}),[]),o=Object(p.b)();r.filter((function(e){var t=o[e];return!(!t||!Object(a.isBefore)(Date.now(),Object(a.addDays)(t.lastUpdatedAt,7)))})).length<1&&function(e,t){C(e,t,(function(e){e.emotePickerAnimation.dismissed=!1,e.emotePickerAnimation.lastTriggered=Date.now(),e.emotePickerCallout.dismissed=!1,e.emotePickerCallout.lastTriggered=Date.now(),e.experienceRetriggered=!0}))}(t,n)}}}},t}(o.Component),N=Object(l.d)(Object(s.b)((function(e){return{currentUser:Object(m.e)(e),isLoggedIn:Object(m.f)(e)}})),Object(d.a)(),Object(c.a)(E,{options:function(e){return{variables:{channelID:e.channelID}}},skip:function(e){return!(e.channelID&&e.currentUser)}}))(D);function _(e){return function(t){var n=function(n){return o.createElement(N,{channelID:e.channelID?e.channelID(n):null,wrapComponent:function(a){var r=a;return e.mapProps&&(r=e.mapProps(a,n)),o.createElement(t,Object(i.__assign)({},n,r))}})};return n.displayName=Object(u.a)("WithSubBenefitReminderManager",t),n}}},wu0I:function(e,t,n){},"x0+1":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("Jsra"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={alwaysShowMessage:!1},t.renderBody=function(){return t.state.alwaysShowMessage?t.props.messageBody:a.createElement("span",{key:"deleted",className:"chat-line__message--deleted"},a.createElement(o.a,{linkTo:"",onClick:t.alwaysShowMessage},"<"+Object(r.d)("click to show","MessageDeletedLine")+">"))},t.alwaysShowMessage=function(e){e&&e.preventDefault(),t.setState({alwaysShowMessage:!0})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.moderatorLogin,n=e.targetIsCurrentUser,i=this.props.targetLogin;return n?Object(r.d)("A moderator deleted your message: {body}",{body:this.renderBody()},"MessageDeletedLine"):t?Object(r.d)("{moderatorLogin} deleted {targetLogin}'s message: {body}",{moderatorLogin:t,targetLogin:i,body:this.renderBody()},"MessageDeletedLine"):Object(r.d)("A moderator deleted {targetLogin}'s message: {body}",{targetLogin:i,body:this.renderBody()},"MessageDeletedLine")},t}(a.Component);n.d(t,"a",(function(){return s}))},x0gr:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return m}));var i=n("mrSG"),a=n("/7QA"),r=n("2xye"),o=n("r2Xj"),s=n("oi4T"),l=function(e){a.o.track(r.SpadeEventType.ChatSettingsOpened,Object(s.b)(e))},c=function(e){var t=Object(i.__assign)(Object(i.__assign)({},Object(s.b)(e)),{setting_name:e.settingName,new_value:e.newValue.toString()});a.o.track(r.SpadeEventType.ChatSettingsChanged,t)},d=function(e){var t=Object(i.__assign)(Object(i.__assign)({},Object(s.b)(e)),{setting_name:e.settingName,new_value:e.newValue.toString().toLowerCase(),old_value:e.oldValue&&e.oldValue.toLowerCase(),channel_id:e.channelID});a.o.track(r.SpadeEventType.ChatSettingsChanged,t)},u=function(e){var t=Object(i.__assign)(Object(i.__assign)({},Object(s.b)(e)),{setting_name:o.a.FollowerDuration,new_value:e.newValue.toString(),follower_mode_on:e.followerModeOn});a.o.track(r.SpadeEventType.ChatSettingsChanged,t)},m=function(e){var t=Object(i.__assign)(Object(i.__assign)({},Object(s.b)(e)),{setting_name:o.a.SlowModeDuration,new_value:e.newValue.toString(),slow_mode_on:e.slowModeOn});a.o.track(r.SpadeEventType.ChatSettingsChanged,t)}},xDdc:function(e,t,n){},xM4F:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatChannelAndCommentCreatorAndVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentCreator"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},{kind:"Variable",name:{kind:"Name",value:"commentCreator"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:245}};n.loc.source={body:"query VideoChatChannelAndCommentCreatorAndVideoTrackingContext($videoCreatorID: ID! $commentCreator: ID! $videoID: ID) {\nusers(ids: [$videoCreatorID $commentCreator]) {\nid\nlogin\n}\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoChatChannelAndCommentCreatorAndVideoTrackingContext=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoChatChannelAndCommentCreatorAndVideoTrackingContext")},xP6e:function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("/MKj"),o=n("ANjH"),s=n("1/iK"),l=n("XDCx"),c=n("y5D0"),d=n("kRBY"),u=n("/HY+"),m=n("q1tI"),p=n("DMoW"),h=n("4rCz"),f=n("C7sF"),g=n("4wKg");!function(e){e.ReportButton="report-button-report-button"}(i||(i={}));var v=Object(r.b)((function(e){return{isLoggedIn:Object(d.f)(e)}}),(function(e){return Object(o.b)({login:function(){return Object(c.e)(s.a.ReportChannel)},showReportUserModal:function(e){var t=Object(a.__rest)(e,[]);return Object(l.e)(u.a,t)}},e)}))((function(e){var t=e.isLoggedIn,n=e.showReportUserModal,r=e.channelLogin,o=e.onModalClose,s=e.channelID,l=e.reportContext,c=e.login,d=e.hideIcon,u=void 0!==d&&d,v=m.useCallback((function(){t?n({onClose:o,reportContext:Object(a.__assign)({contentType:p.Mc.USER_REPORT,targetUserID:s},l),title:Object(h.d)("Report {channelLogin}",{channelLogin:r},"ReportUserModal")}):c()}),[t,n,r,l,c,s,o]),b=u?void 0:{icon:f.a.Report},k=Object(h.d)("Report {channelLogin}",{channelLogin:r},"ReportUser");return m.createElement(g.a,{label:k,ariaLabel:k,onClick:v,figure:b,"data-a-target":i.ReportButton})}));n.d(t,"a",(function(){return v}))},xQnr:function(e,t,n){"use strict";var i=n("8qOS");n.d(t,"a",(function(){return i.a}))},xZ3y:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l}));var i=n("/7QA"),a="bits",r="cheer";function o(e,t){return e&&e.setID===a&&e.title&&!l(e)?s(e.title,e.version):Object(i.g)(t,{maximumFractionDigits:2})}function s(e,t){if(e.endsWith(t)){var n=parseInt(t,10);if(!isNaN(n))return""+e.substring(0,e.length-t.length)+Object(i.g)(n,{maximumFractionDigits:2})}return e}function l(e){return e.title===r+" "+e.version}},xahZ:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPointsContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"availableClaimFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsBalanceFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"pointCustomizationFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"rewardsFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"raidPointAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteVariants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteVariantFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"earning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"earningSettingsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"activeMultipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"activeMultipliersFragment"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1210}};i.loc.source={body:'#import "twilight/features/community-points/models/active-multipliers-fragment.gql"\n#import "twilight/features/community-points/models/available-claim-fragment.gql"\n#import "twilight/features/community-points/models/balance-fragment.gql"\n#import "twilight/features/community-points/models/emote-variant-fragment.gql"\n#import "twilight/features/community-points/models/point-customization-fragment.gql"\n#import "twilight/features/community-points/models/rewards-fragment.gql"\n#import "twilight/features/community-points/models/earning-settings-fragment.gql"\nquery ChannelPointsContext($channelLogin: String!) {\ncommunity: user(login:$channelLogin) {\nid\ndisplayName\n# We fetch everything here in the top-level query. This avoids data waterfalls that would occur if we\n# only fetched data after first querying whether the channel has points enabled.\n...availableClaimFragment\n...communityPointsBalanceFragment\n...pointCustomizationFragment\n...rewardsFragment\nchannel {\nid\ncommunityPointsSettings {\nisEnabled\nraidPointAmount\nemoteVariants {\n...emoteVariantFragment\n}\nearning {\n...earningSettingsFragment\n}\n}\nself {\ncommunityPoints {\nactiveMultipliers {\n...activeMultipliersFragment\n}\n}\n}\n}\nself {\nisModerator\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("NeSQ").definitions)),i.definitions=i.definitions.concat(r(n("hgww").definitions)),i.definitions=i.definitions.concat(r(n("VIQE").definitions)),i.definitions=i.definitions.concat(r(n("ve/r").definitions)),i.definitions=i.definitions.concat(r(n("XBQy").definitions)),i.definitions=i.definitions.concat(r(n("y8+g").definitions)),i.definitions=i.definitions.concat(r(n("F9p4").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChannelPointsContext=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelPointsContext")},xf5M:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatLoginModerationTracking"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"target"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:234}};n.loc.source={body:"query ChatLoginModerationTracking($channelID: ID! $targetUserID: ID!) {\ntarget: user(id: $targetUserID) {\nid\nlogin\n}\nchannel: user(id: $channelID) {\nid\nlogin\nself {\nisModerator\nisEditor\n}\n}\ncurrentUser {\nid\nlogin\nroles {\nisStaff\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatLoginModerationTracking=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatLoginModerationTracking")},xyN1:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelRoot_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slugID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeChanlets"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelCurrentUser"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slugID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelClip"},directives:[]}]}}]}}],loc:{start:0,end:276}};i.loc.source={body:'#import "twilight/features/channel/queries/channel-current-user.gql"\n#import "twilight/features/channel/queries/channel-clip.gql"\nquery ChannelRoot_Clip(\n$slugID: ID!\n$includeChanlets: Boolean!\n) {\ncurrentUser {\n...channelCurrentUser\n}\nclip(slug: $slugID) {\n...channelClip\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("NJiF").definitions)),i.definitions=i.definitions.concat(r(n("oc+d").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChannelRoot_Clip=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelRoot_Clip")},xzy9:function(e,t,n){"use strict";var i=n("mrSG"),a=n("w09P"),r=n("q1tI"),o=n("/MKj"),s=n("ANjH"),l=n("/7QA"),c=n("yR8l"),d=n("geRD"),u=n("DMoW"),m=n("kRBY"),p=n("1rIY"),h=n("BR/5"),f=n("FQLb"),g="deletedMessageDisplaySetting",v=Object(p.a)("DeletedMessageDisplaySettingContext",{setValue:function(){return null},value:void 0,isShowingDeletedMessageDisplaySettings:!1,hideDeletedMessageDisplaySettings:function(){return null},showDeletedMessageDisplaySettings:function(){return null},hasSetSetting:function(){return!1}}),b=v.context,k=v.withContext,y=function(e){function t(t){var n=e.call(this,t)||this;return n.hasSetSetting=function(){var e=n.hasData(n.props);return!(!e||null===e.deletedMessageDisplaySetting)||null!==l.m.get(g,null)},n.setValue=function(e){if(n.setState({localOverride:e}),l.m.set(g,e),n.props.isLoggedIn){var t=Object(i.__assign)(Object(i.__assign)({},Object(d.a)({deletedMessageDisplaySetting:e})),{optimisticResponse:{setDeletedMessageDisplaySetting:{__typename:"SetDeletedMessageDisplaySettingPayload",deletedMessageDisplaySetting:e}},update:function(t){var n;try{n=t.readQuery({query:f})}catch(e){return}if(n&&n.currentUser&&n.currentUser.chatUISettings){var i=a(n,(function(e){return e.currentUser.chatUISettings.deletedMessageDisplaySetting}),(function(){return e}));t.writeQuery({query:f,data:i})}}});n.props.setDeletedMessageDisplaySetting(t)}},n.hideDeletedMessageDisplaySettings=function(){n.setState({isShowingDeletedMessageDisplaySettings:!1})},n.showDeletedMessageDisplaySettings=function(){n.setState({isShowingDeletedMessageDisplaySettings:!0})},n.state={isShowingDeletedMessageDisplaySettings:!1},n}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(b.Provider,{value:{setValue:this.setValue,value:this.value,isShowingDeletedMessageDisplaySettings:this.state.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:this.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:this.showDeletedMessageDisplaySettings,hasSetSetting:this.hasSetSetting}},this.props.children)},t.prototype.componentDidUpdate=function(e){!this.hasData(this.props)||this.hasData(e)||(this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting?l.m.set(g,this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting):l.m.get(g,null)&&this.value&&this.setValue(this.value))},t.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},t.prototype.defaultValue=function(e){return this.props.sessionUser&&e&&this.props.sessionUser.id===e?u.wb.BRIEF:u.wb.DETAILED},Object.defineProperty(t.prototype,"value",{get:function(){if(l.b.get("deleted_message_display",!1))return void 0!==this.state.localOverride?this.state.localOverride:this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting?this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting:l.m.get(g,null)||this.defaultValue(this.props.channelID)},enumerable:!0,configurable:!0}),t}(r.Component);var S=Object(s.d)(Object(o.b)((function(e){return{isLoggedIn:Object(m.f)(e),sessionUser:Object(m.e)(e)}})),Object(c.a)(f,{skip:function(e){return!e.isLoggedIn}}),Object(c.a)(h,{name:"setDeletedMessageDisplaySetting"}))(y);n.d(t,"a",(function(){return"deleted_message_display"})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return k})),n.d(t,"b",(function(){return S}))},"y8+g":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"rewardsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"automaticRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"automaticRewardFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"customRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"customRewardFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:250}};i.loc.source={body:'#import "./automatic-reward-fragment.gql"\n#import "./custom-reward-fragment.gql"\nfragment rewardsFragment on User {\nchannel {\nid\ncommunityPointsSettings {\nautomaticRewards {\n...automaticRewardFragment\n}\ncustomRewards {\n...customRewardFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("Ukwn").definitions)),i.definitions=i.definitions.concat(r(n("nJ3O").definitions)),e.exports=i},yJn7:function(e,t){},ya7N:function(e,t,n){},ybym:function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("q1tI"),o=n("ANjH"),s=n("/7QA"),l=n("yR8l"),c=n("x7UT"),d=n("0Log"),u=n("/aPz"),m=n("GnwI"),p=n("U1zV"),h=n("C7sF"),f=n("DOvc"),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){if(this.props.data.loading||this.props.data.error||!this.props.data.user||!this.props.data.user.stream||!this.props.data.user.stream.id)return null;var e=this.props.pubsub.messages.viewCount&&this.props.pubsub.messages.viewCount.viewers||this.props.data.user.stream.viewersCount||0;return r.createElement(p.a,{value:Object(s.f)(e),label:Object(s.d)("Watching Now","ChannelViewersCount"),icon:h.a.GlyphLive,"data-a-target":"channel-viewers-count"})},t}(r.Component),v=Object(o.d)(Object(l.a)(f),Object(c.a)([{topic:function(e){return e.data.user&&e.data.user.id?Object(u.W)(e.data.user.id):""},skip:function(e){return e.data.loading||!e.data.user||!e.data.user.id},mapMessageTypesToProps:(i={},i[d.PubsubMessageType.ViewCount]="viewCount",i)}]),Object(m.withLatencyTracking)("ChannelViewersCount"))(g),b=function(e){return r.createElement(v,Object(a.__assign)({key:e.login},e))};n.d(t,"a",(function(){return b}))},yzyL:function(e,t){},zClW:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return C})),n.d(t,"j",(function(){return E})),n.d(t,"e",(function(){return D})),n.d(t,"g",(function(){return N})),n.d(t,"f",(function(){return _})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return M}));var i=n("mrSG"),a=n("/7QA"),r=n("2xye"),o=n("IZXT"),s=n("ZuiC"),l=n("ahza"),c=n("pU2t"),d=n("ZUUl"),u=n("fI4C"),m=n("fIj0"),p=n("xM4F"),h=n("8uuy");function f(){return{CommenterBannedError:Object(a.d)("You are banned from sending messages in this channel","routines-comments"),CommentingDisabledError:Object(a.d)("Sending messages in this channel is disabled","routines-comments"),UserNotVerifiedError:Object(a.d)("Account email verification required to send a message","routines-comments"),MaxChildCommentsError:Object(a.d)("The reply limit for this message has been reached","routines-comments"),MessageLikelySpamError:Object(a.d)("Your message was blocked by the spam filter","routines-comments"),MessageContainsBannedWordsError:Object(a.d)("Your message wasn't posted due to conflicts with the channel's moderation settings","routines-comments")}}var g=function(e){if(e.includes("FollowersOnlyError"))return function(e){return Object(a.d)("This room is in {duration} followers-only mode. Follow this channel to join the community",{duration:e},"routines-comments")}(function(e){var t=e.split(" "),n=t[t.length-1].match(/((\d+)h)?(\d+)m(\d+)s/);if(!Array.isArray(n))return"";return{600:"10 Minutes",1800:"30 Minutes",3600:"1 Hour",86400:"1 Day",604800:"1 Week",2592e3:"1 Month",7776e3:"3 Months"}[60*parseInt(n[2]||"0",10)*60+60*parseInt(n[3],10)+parseInt(n[4],10)]}(e));var t=f(),n=Object.keys(t).find((function(t){return e.includes(t)}));return n?t[n]:Object(a.d)("Unable to send a new message at this time","routines-comments")},v="",b=-1,k=!1,y=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){if(k)return[2,Promise.resolve()];if(Object(l.f)(t)){if(t.offset===b)return[2,Promise.resolve()];b=t.offset}if(Object(l.d)(t)){if(t.cursor===v)return[2,Promise.resolve()];v=t.cursor}return k=!0,[2,Object(l.g)(t).then((function(n){k=!1,Object(l.f)(t)&&t.offset===b?e.dispatch(Object(s.A)(n)):e.dispatch(Object(s.z)(n))}),(function(t){k=!1,a.k.warn("VideoChat: unable to fetch messages",{error:t}),e.dispatch(Object(s.B)())}))]}))}))},S=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,u,m;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,,6]),n=void 0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Object(l.b)(t)];case 2:return n=i.sent(),[3,4];case 3:return r=i.sent(),Object(o.d)()?a.k.warn(S.name):a.k.errorAndReport(r,S.name),e.dispatch(Object(s.r)(g(""))),[2];case 4:return n.requestError?(a.k.errorAndReport(n.requestError,S.name),e.dispatch(Object(s.r)(g(""))),[2]):n.error?(a.k.errorAndReport(new Error(n.error.error),S.name),e.dispatch(Object(s.r)(g(n.error.message))),[2]):void 0===n.body?(e.dispatch(Object(s.r)(g(""))),[2]):(u=Object(c.c)(n.body),e.dispatch(Object(s.s)(u)),e.dispatch(Object(d.b)(w,u)),setTimeout((function(){e.dispatch(Object(s.q)())}),5e3),[3,6]);case 5:return m=i.sent(),a.k.errorAndReport(m,S.name),e.dispatch(Object(s.r)(g(""))),[3,6];case 6:return[2]}}))}))},C=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Object(l.c)(t)];case 1:return i.sent(),e.dispatch(Object(s.t)({comment:t})),e.dispatch(Object(d.b)(O,{comment:t})),[3,3];case 2:return n=i.sent(),Object(o.d)()?a.k.warn(C.name):a.k.errorAndReport(n,C.name),[3,3];case 3:return[2]}}))}))},E=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Object(l.h)(t)];case 1:return n=i.sent(),e.dispatch(Object(s.v)(n)),[3,3];case 2:return r=i.sent(),a.k.errorAndReport(r,E.name),[3,3];case 3:return[2]}}))}))},w=function(e,t,n,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.query({query:m,variables:{videoCreatorID:t.comments[0].channelId,videoID:t.comments[0].contentId}})];case 1:return e=i.sent().data,s.track(r.SpadeEventType.ChommentCreated,Object(u.f)(t,e)),[3,3];case 2:return l=i.sent(),Object(o.d)()?a.k.warn(w.name):a.k.errorAndReport(l,w.name),[3,3];case 3:return[2]}}))}))},O=function(e,t,n,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var l,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.query({query:p,variables:{videoCreatorID:t.comment.channelId,commentCreator:t.comment.commenter,videoID:t.comment.contentId}})];case 1:return l=i.sent().data,s.track(r.SpadeEventType.ChommentDeleted,Object(u.g)(t,e.getState(),l)),[3,3];case 2:return c=i.sent(),Object(o.d)()?a.k.warn(O.name):a.k.errorAndReport(c,O.name),[3,3];case 3:return[2]}}))}))},D=function(e,t,n,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var l,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.query({query:h,variables:{videoID:t.comment.contentId}})];case 1:return l=i.sent().data,s.track(r.SpadeEventType.ChommentUIAction,Object(u.e)(t,e.getState(),l)),[3,3];case 2:return c=i.sent(),Object(o.d)()?a.k.warn(D.name):a.k.errorAndReport(c,D.name),[3,3];case 3:return[2]}}))}))},N=function(e,t,n,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var l,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.query({query:p,variables:{videoCreatorID:t.channelId,commentCreator:t.commenter,videoID:t.contentId}})];case 1:return l=i.sent().data,s.track(r.SpadeEventType.ChommentUIAction,Object(u.i)(t,e.getState(),l)),[3,3];case 2:return c=i.sent(),Object(o.d)()?a.k.warn(N.name):a.k.errorAndReport(c,N.name),[3,3];case 3:return[2]}}))}))},_=function(e,t,n,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var c,d,m,p;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),c=e.getState(),d=Object(l.e)(t)?c.vodChat.comments.comments.parentComments[t.parentId].contentId:t.contentId,[4,n.query({query:h,variables:{videoID:d}})];case 1:return m=i.sent().data,s.track(r.SpadeEventType.ChommentUIAction,Object(u.h)(t,e.getState(),m)),[3,3];case 2:return p=i.sent(),Object(o.d)()?a.k.warn(_.name):a.k.errorAndReport(p,_.name),[3,3];case 3:return[2]}}))}))},I=function(e,t,n,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var l,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.query({query:h,variables:{videoID:t.comment.contentId}})];case 1:return l=i.sent().data,s.track(r.SpadeEventType.ChommentUIAction,Object(u.j)(t,e.getState(),l)),[3,3];case 2:return c=i.sent(),Object(o.d)()?a.k.warn(I.name):a.k.errorAndReport(c,I.name),[3,3];case 3:return[2]}}))}))},M=function(e,t,n,o){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var s,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.query({query:m,variables:{videoCreatorID:t.channelId,videoID:t.contentId}})];case 1:return s=i.sent().data,o.track(r.SpadeEventType.ChommentUIAction,Object(u.k)(t,e.getState(),s)),[3,3];case 2:return l=i.sent(),a.k.errorAndReport(l,M.name),[3,3];case 3:return[2]}}))}))}},zJj8:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WatchPartyTray"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[]}]}}]}}],loc:{start:0,end:99}};n.loc.source={body:"query WatchPartyTray($channelID: String!) {\ncurrentUser {\nid\nisModerator(channelID: $channelID)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.WatchPartyTray=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"WatchPartyTray")},zQ1M:function(e,t,n){},zQgx:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"h",(function(){return b}));var i=n("cr+I"),a=n("/7QA"),r=n("oB8h"),o=n("UWbL"),s=n("+GjP"),l=(n("vRsq"),n("DMoW")),c=(n("Q94S"),-1);function d(e){return!!e&&!(!e.hosting||!e.hosting.id)}function u(e){switch(m(e)){case r.a.WatchParty:case r.a.Premiere:case r.a.Rerun:return!0;default:return!1}}function m(e){if(e&&e.stream&&e.stream.id&&e.stream.type)return e.stream.type}function p(e){var t=Object(s.a)(e.location.search,"t");return t?Object(o.a)(t):c}function h(e,t){e&&e.owner?a.p.setPageTitle(e.owner.displayName+" - "+e.title):t&&t.broadcaster&&a.p.setPageTitle(t.broadcaster.displayName+" - "+t.title)}function f(e){return e&&e.stream?e.stream.viewersCount:null}function g(e,t){return t&&(!function(e){return e&&""!==e.id&&e.creationState&&e.creationState===l.S.CREATED}(t)||function(e,t){return!!e&&(t&&t.broadcaster&&t.broadcaster.login&&t.broadcaster.login.toLowerCase()!==e.toLowerCase())}(e,t))}function v(e,t){return!!e&&(!!t&&!!t.owner&&!!t.owner.login&&t.owner.login.toLowerCase()!==e.toLowerCase())}function b(e){var t={},n=i.parse(e.location.search),a=p(e);return a!==c&&(t.highlightTimestamp=a),n.comment&&(t.highlightedMessageID=n.comment),t}},zdrs:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockChosenSubscriberEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockChosenSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockChosenSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:154}};n.loc.source={body:"mutation UnlockChosenSubscriberEmote($input: UnlockChosenSubscriberEmoteInput!) {\nunlockChosenSubscriberEmote (input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UnlockChosenSubscriberEmote=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UnlockChosenSubscriberEmote")},znm4:function(e,t,n){"use strict";var i=n("mrSG"),a=n("/MKj"),r=n("yR8l"),o=n("DMoW"),s=n("kRBY"),l=n("4rCz"),c=n("4h+t"),d=n("0Lz3"),u=n("WytW"),m=n("ZuiC"),p=n("sf7/"),h=n("kVrx"),f=n("zClW"),g=n("l41m"),v=function(e,t,n){return e&&t&&!n},b=n("Sfdh"),k=n("ZUUl"),y=n("pwkZ"),S=n("HjbF"),C=n("pq/L");n.d(t,"a",(function(){return O}));var E=2;var w=Object(a.b)((function(e,t){var n={comments:[],currentVideoTime:e.vodChat.comments.currentVideoTime,cursor:e.vodChat.comments.cursor,errorMessage:e.vodChat.comments.errorMessage,hasFetchedComments:e.vodChat.comments.hasLoadedData,hasRequestedCurrentUserBlockList:e.vodChat.comments.hasLoadedCurrentUserBlockedList,isCreationCoolDownActive:e.vodChat.comments.isPostCooldownActive,isCurrentUserModerator:!1,isLoggedIn:Object(s.f)(e),isReplayFilterOn:e.vodChat.comments.isReplayFilterOn,isScrollingSynced:e.vodChat.comments.isScrollingSynced,offsetRange:Object(g.b)(e.vodChat.comments.comments),replyCursorMap:e.vodChat.comments.replyCursorMap,shouldSendReplayFilterError:!1,hideTimestamps:e.vodChat.comments.hideTimestamps,isPlaybackBlocked:e.vodChat.comments.isPlaybackBlocked};if(!t.data.loading&&!t.data.error&&t.data.video){var i=t.data,a=i.currentUser,r=i.video;null!==a&&a.roles&&(n.isCurrentUserModerator=Object(S.b)(a,r.owner)),n.comments=Object(g.c)(e,t.data.video.broadcastType,n.isCurrentUserModerator,t.blockedUsers),n.shouldSendReplayFilterError=v(e.vodChat.comments.isReplayFilterOn,t.data.video.broadcastType!==o.D.UPLOAD,e.vodChat.comments.hasDismissedChatReplayError)}return n}),(function(e,t){return{onUpdateBegan:function(n,i){if(n.videoID)if(i.videoID===n.videoID){if(!n.hasFetchedComments){var a={bitsConfig:t.bitsConfig,offset:n.currentVideoTime,videoID:n.videoID};if(n.highlightTimestamp&&n.currentVideoTime!==n.highlightTimestamp)return;return n.highlightedMessageID&&(a.highlightedMessageID=n.highlightedMessageID),void e(Object(k.a)(f.d,a))}if(n.offsetRange!==g.a){if(Object(S.f)({cursor:n.cursor,currentVideoTime:n.currentVideoTime,offsetEndTime:n.offsetRange.endSec,offsetThreshold:E}))return void e(Object(k.a)(f.d,{bitsConfig:t.bitsConfig,cursor:n.cursor.future,videoID:n.videoID}));if(Object(S.e)(n))return void e(Object(k.a)(f.d,{bitsConfig:t.bitsConfig,offset:n.currentVideoTime,videoID:n.videoID}))}}else e(Object(p.d)(n.videoID))},onCreate:function(t){if(Object(u.l)(t.message)){var n=Object(l.d)("Sorry, commands are not supported in Chat on Videos yet.","VideoChatPresentation");e(Object(m.u)(n))}else e(Object(k.a)(f.a,t)),e(Object(k.b)(f.f,t))},onError:function(t){e(Object(m.u)(t))},onErrorDismissClick:function(){e(Object(m.w)())},onUnmount:function(){e(Object(m.y)())},onLoadMoreReplies:function(t,n,i,a){e(Object(k.a)(f.d,Object(S.a)(t,n,i,a)))},onDisableSync:function(){e(Object(m.D)())},onEnableSync:function(){e(Object(m.E)())},onBanUser:function(t){e(Object(k.a)(h.a,t)),e(Object(k.b)(f.e,t))},onDeleteComment:function(t){e(Object(k.a)(f.b,t)),e(Object(k.b)(f.g,t))},onPlayerSeekRequest:function(n,i){t.onPlayerSeekRequest(n),void 0!==i&&e(Object(k.b)(f.i,i))},onTurnOffReplayFilter:function(){e(Object(m.C)(!1))},onWillMount:function(){e(Object(m.x)())},onDidMount:function(t){e(Object(m.C)(t))}}}),(function(e,t,n){var a=t.onDisableSync;e.isScrollingSynced||(a=function(){});var r=t.onCreate;return e.shouldSendReplayFilterError&&(r=function(e){t.onError(Object(b.a)().chatReplayFilterError),t.onCreate(e)}),Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},e),t),n),{onDisableSync:a,onCreate:r,data:n.data})}))(y.a),O=Object(r.a)(C,{options:function(e){return{variables:{videoID:e.videoID,hasVideoID:!!e.videoID}}},props:function(e){var t,n,a,r,o=e.ownProps,s=e.data;if(s&&s.cheerConfig){var l=Object(i.__spreadArrays)(s.cheerConfig.groups,(null===(a=null===(n=null===(t=s.video)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.cheer)||void 0===a?void 0:a.cheerGroups)||[]);r=Object(d.b)(s.cheerConfig.displayConfig,l)}else r=Object(c.c)();var u={};return s&&!s.loading&&!s.error&&s.currentUser&&s.currentUser.blockedUsers&&(u=s.currentUser.blockedUsers.reduce((function(e,t){return t&&t.id&&(e[t.id]=!0),e}),{})),Object(i.__assign)(Object(i.__assign)({},o),{data:s,bitsConfig:r,blockedUsers:u})}})(w)},zwF8:function(e,t,n){"use strict";var i,a,r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),function(e){e.ShareEmoteReward="share-emote-reward",e.ShareBitsBadgeTier="share-bits-badge-tier",e.ThankSubGifter="thank-sub-gifter",e.ShareResub="share-resub",e.CommunityPointsSpend="community-points-spend",e.NoOverride="no-override"}(i||(i={})),function(e){e.Chat="chat-message-handler",e.Command="command-message-handler",e.Bits="bits-message-handler",e.Custom="custom-message-handler",e.ShareResub="share-resub-message-handler"}(a||(a={})),function(e){e.CharacterLimitError="character-limit-error",e.DuplicatedMessageError="duplicated-message-error",e.MessageThroughputError="message-throughput-error",e.EmoteOnlyBanner="emote-only-banner",e.EmoteOnlyInfo="emote-only-info",e.EmoteOnlyWarning="emote-only-warning",e.AutocompleteTray="autocomplete-tray",e.CommandWarning="command-warning",e.CommandInfo="command-info",e.WatchPartyInfo="watch-party-info",e.WatchPartyBanner="watch-party-banner",e.WatchPartyError="watch-party-error",e.ShareResub="share-resub"}(r||(r={}))}}]);