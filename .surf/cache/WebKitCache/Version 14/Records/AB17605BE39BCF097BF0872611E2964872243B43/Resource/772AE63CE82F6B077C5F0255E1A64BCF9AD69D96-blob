(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{"1/wt":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Error="error",e.Info="info",e.Success="success",e.Warning="warning"}(r||(r={}))},"2cBX":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("pVnL"),i=n.n(r),a=n("VbXa"),o=n.n(a),s=n("q1tI"),c=n("vCsY"),l=n("hnjF"),u=n("yymn"),d=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){return s.createElement(l.a,i()({},Object(c.a)(this.props),{overflow:u.m.Auto,padding:this.props.padding,flexGrow:1}),s.createElement("div",{id:this.props.popoverId+"-body"},this.props.children))},t}(s.Component);d.displayName="PopoverBody",d.defaultProps={padding:1}},"2rlx":function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("o0o1"),o=n.n(a),s=n("yXPU"),c=n.n(s),l=n("lSNA"),u=n.n(l),d=n("VbXa"),m=n.n(d),p=n("q1tI"),h=n("fNzW"),f=n("hnjF"),b=n("yymn"),E=n("hCFK");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).refHandler=function(e){t.props.refDelegate&&t.props.refDelegate(e,t.props.id)},t.onExitComplete=function(){t.props.onExitComplete&&t.props.onExitComplete(t.props.id)},t.onTransformEnd=function(){t.props.onTransformEnd&&t.props.onTransformEnd(t.props.id)},t}return m()(t,e),t.prototype.render=function(){var e=this.props.transition.duration||E.b.Medium,t=!this.props.moveStyles&&!this.props.prepareForTransform,n={};return!1===this.props.transition.show&&void 0===this.props.exitStyles?n.position="absolute":!1===this.props.transition.show&&this.props.exitStyles?n=this.props.exitStyles:this.props.moveStyles&&(n=this.props.moveStyles),p.createElement(E.a,{key:this.props.id,show:!!this.props.transition.show,type:this.props.transition.type||E.c.ScaleOver,transitionInitialMount:!!this.props.transition.transitionInitialMount,duration:e,onExitComplete:this.onExitComplete,injectChild:!0},p.createElement("div",{key:this.props.id,ref:this.refHandler,style:v({},n,{transitionProperty:t?"transform, opacity":"opacity",transitionTimingFunction:"ease"}),onTransitionEnd:this.onTransformEnd},this.props.child))},t}(p.Component);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}g.displayName="TransitionGroupItem",n.d(t,"a",(function(){return w}));var w=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).state={childMap:{},initialRenderComplete:!1},t.containerRef=void 0,t.childRefMap={},t.currentlyTransitioningKeys=[],t.setContainerRef=function(e){t.containerRef=e},t.setItemRef=function(e,n){e&&(t.childRefMap[n]=e)},t.onTransformEnd=function(e){t.currentlyTransitioningKeys=t.currentlyTransitioningKeys.filter((function(t){return t!==e}))},t.deleteChild=function(e){e in t.state.childMap&&(delete t.childRefMap[e],t.setState((function(t){var n=C({},t.childMap);return delete n[e],{childMap:n}})))},t.measureItems=function(e){var n={};return e.filter((function(e){return e in t.childRefMap})).forEach((function(e){e in n||(n[e]=t.childRefMap[e].getBoundingClientRect())})),n},t.setTransforms=function(){var e=c()(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.setState((function(e){var r=C({},e.childMap),i=n.moved,a=n.exited,o=n.container,s=i,c=t.measureItems(Object.keys(i));return Object.keys(s).forEach((function(e){var t=s[e].left-c[e].left,n=s[e].top-c[e].top;r[e].moveStyles={transform:"translate3d("+t+"px, "+n+"px,0)"},r[e].prepareForTransform=!1})),Object.keys(a).forEach((function(e){var t=a[e],n=t.left-(o?o.left:0),i=t.top-(o?o.top:0);r[e].exitStyles={top:i+"px",left:n+"px",position:"absolute",width:t.width+"px",height:t.height+"px"}})),{childMap:r}}),e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.clearMoveStyles=function(e){t.setState((function(t){var n=C({},t.childMap);return e.forEach((function(e){return n[e].moveStyles=void 0})),{childMap:n}}))},t.ensureLayoutReflow=function(){var e=t.childRefMap[Object.keys(t.childRefMap)[0]];e&&e.scrollTop},t}m()(t,e),t.getDerivedStateFromProps=function(e,t){var n,r,i=t.childMap,a=(n=e.children,r={},p.Children.map(n,(function(e){return e})).forEach((function(e){if(null!==e.key){var t={id:e.key,transition:{show:!0},child:e};r[e.key]=t}})),r);if(!t.initialRenderComplete)return{childMap:a,initialRenderComplete:!0};var o=function(e,t){var n=Object.keys(e).filter((function(t){return!0===e[t].transition.show}));return Object.keys(t).filter((function(t,r){return n[r]!==t&&t in e}))}(i,a),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var l=i[c][r];s[i[c][r]]=n(l)}s[c]=n(c)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(i,a);return Object.keys(s).forEach((function(e){var t=e in i,n=e in a,r=o.includes(e);t&&(s[e].moveStyles=i[e].moveStyles,s[e].exitStyles=i[e].exitStyles,s[e].transition=i[e].transition),s[e].prepareForTransform=r,n&&!t?(s[e].transition.show=!0,s[e].transition.transitionInitialMount=!0):!n&&t?s[e].transition.show=!1:n&&t&&!1===s[e].transition.show&&(s[e].transition.show=!0,s[e].exitStyles=void 0)})),{childMap:s}};var n=t.prototype;return n.getSnapshotBeforeUpdate=function(){var e=this.state.childMap,t=Object.keys(e).filter((function(t){return!0===e[t].prepareForTransform})),n=Object.keys(e).filter((function(t){return!1===e[t].transition.show&&!e[t].exitStyles}));return 0===t.length&&0===n.length?null:{moved:this.measureItems([].concat(t,this.currentlyTransitioningKeys)),exited:this.measureItems(n),container:n.length&&this.containerRef?this.containerRef.getBoundingClientRect():void 0}},n.componentDidUpdate=function(e,t,n){var r=this;if(n&&0!==Object.keys(n).length){var i=Object.keys(n.moved);this.setTransforms(n).then((function(){i&&(r.ensureLayoutReflow(),r.clearMoveStyles(i),r.currentlyTransitioningKeys=i.filter((function(e){return!(e in n.exited)})))}))}},n.render=function(){var e=this;if(!this.state.childMap)return null;var t=Object.keys(this.state.childMap).map((function(t){var n=e.state.childMap[t];return p.createElement(g,i()({},n,{key:t,transition:C({},n.transition,{duration:e.props.duration,type:e.props.transitionType}),refDelegate:e.setItemRef,onExitComplete:e.deleteChild,onTransformEnd:e.onTransformEnd}))}));return p.createElement(f.a,{position:b.n.Relative},p.createElement("div",{className:Object(h.a)(this.props.className,"tw-transition-group"),ref:this.setContainerRef},this.props.component?p.cloneElement(this.props.component,void 0,t):t))},t}(p.Component);w.displayName="TransitionGroup"},"3Law":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("pVnL"),i=n.n(r),a=n("q1tI"),o=n("kV5U"),s=n("fNzW"),c=n("vCsY"),l=n("1H2c"),u=n("hnjF"),d=n("yymn"),m=n("C7sF"),p=n("3aAs"),h=function(e){var t,n="tw-"+Object(l.a)();return e.tabIndex&&(t=e.tabIndex),a.createElement("div",i()({className:Object(s.a)("tw-search-input")},Object(c.a)(e)),a.createElement(u.a,{display:d.g.HideAccessible},a.createElement("label",{htmlFor:e.id?e.id:n},"Search")),a.createElement(p.a,i()({},Object(o.a)(e),{autoCapitalize:e.autoCapitalize,autoFocus:e.autoFocus,autoComplete:e.autoComplete||"off",disabled:e.disabled,error:e.error,icon:m.a.NavSearch,id:e.id?e.id:n,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,placeholder:e.placeholder,refDelegate:e.refDelegate,spellCheck:e.spellCheck,tabIndex:t,size:e.size,type:p.c.Search,value:e.value,overlay:e.overlay})))};h.displayName="SearchInput",h.displayName="SearchInput"},"5Z5u":function(e,t,n){"use strict";var r,i=n("q1tI"),a=n("ANjH"),o=n("yR8l"),s=n("wUQP"),c=n("YV90"),l=n("BdUW"),u=n("nAiT"),d=n("4wKg"),m=n("C7sF"),p=n("sUnt"),h=n("yymn"),f=n("OvMb");!function(e){e.RequestsCount="requests-count"}(r||(r={}));var b=Object(a.d)(Object(c.a)((function(e){return{isChannelPointsEnabled:e.isChannelPointsEnabled}})),Object(o.a)(f,{options:function(e){return{skip:!e.isChannelPointsEnabled,variables:{channelLogin:e.channelLogin}}}}))((function(e){if(!e.isChannelPointsEnabled||!Object(s.c)("copo_full_launch"))return null;var t=e.data&&e.data.user&&e.data.user.channel&&e.data.user.channel.communityPointsSettings&&e.data.user.channel.communityPointsSettings.summarizedRewards,n="";if(t){var a=t.reduce((function(e,t){return e+t.count}),0),o=t.some((function(e){return e.isCountAtMaximum}));a>99?n="99+":a&&(n=a+(o?"+":""))}return i.createElement(d.a,{actionIcon:m.a.Popout,onClick:function(){Object(l.a)(e.uiContext,e.channelLogin,e.channelID||void 0)},targetBlank:!0,value:n},i.createElement(p.a,{alignItems:h.b.Center,display:h.g.Flex,justifyContent:h.l.Between},i.createElement(p.a,null,Object(u.g)()),n&&i.createElement(p.a,{margin:{left:1},"data-test-selector":r.RequestsCount},n)))}));n.d(t,"a",(function(){return b}))},"79s7":function(e,t,n){"use strict";var r=n("q1tI"),i=n("8/mp"),a=n("2cBX"),o=n("sUnt"),s=n("yymn"),c=(n("a10Q"),function(e){return r.createElement(i.b,{suppressScrollX:!0},r.createElement(a.a,{popoverId:"channel-points-reward-center",padding:1},r.createElement(o.a,{display:s.g.Flex,flexDirection:s.h.Column,className:"reward-center-body"},e.children)))});n.d(t,"a",(function(){return c}))},"7SjK":function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("cw0r"),o=n("wUQP"),s=n("b5vT"),c=n("/7QA"),l=n("DMoW"),u=n("zb36"),d=n("VYPy"),m=n("ygYM"),p=n("sUnt"),h=n("yymn"),f=(n("WTcl"),[l.xc.BLACK_WHITE,l.xc.HORIZONTAL_FLIP,l.xc.SUNGLASSES,l.xc.THINKING,l.xc.SQUISHED]),b=function(e){var t=e.emote,n=e.index,a=e.context,o=t.modifiers?Object(r.__spreadArrays)(t.modifiers):[];if(c.b.get("subs_emote_modifier_emote_picker_toggle",!1))for(var l=0;6*l<=n;l++){var b=f[l%f.length];o.push({__typename:"EmoteModifier",code:Object(d.b)(b),name:b})}if(!o.length)return null;var E=[t].concat(o.map((function(e){return Object(d.e)(t,e.code)}))),y=Math.min(6,E.length),v=50*(n%6+y>6?n%6+y-6:0),g=E.length<6?m.c.Auto:m.c.Medium;return i.createElement("div",{onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},i.createElement(m.a,{show:!0,tail:!0,tailOffset:v+15,direction:a===u.a.FrequentlyUsed?m.b.Bottom:m.b.Top,size:g,offsetX:"-"+v+"px"},i.createElement(p.a,{className:"emote-modifiers-balloon__modified-emotes",display:h.g.Flex,flexWrap:E.length>6?h.i.Wrap:void 0},E.map((function(t,n){return i.createElement(p.a,{key:"emote-button-mod-"+t.id+"--"+n,padding:{x:e.spaced?.5:0},position:h.n.Relative},i.createElement(s.b,{emote:t,isCriticalImage:0===n,onClick:t.isLocked?void 0:e.onClickEmote}))})))))},E=(n("VrOd"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.hoverTimer=0,t.handleClickEmote=function(e){t.props.onClickEmote&&t.props.onClickEmote(e,t.props.context)},t.handleEmoteMouseEnter=function(e){t.setHoverTimer(e.id)},t.handleEmoteMouseLeave=function(){t.setHoverTimer()},t}return Object(r.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.hoverTimer&&clearTimeout(this.hoverTimer)},t.prototype.render=function(){var e=this,t=Object(o.c)(d.a),n=this.props.emotes.map((function(n,r){var o,c=((null===(o=n.modifiers)||void 0===o?void 0:o.length)||0)>0;return i.createElement(p.a,{key:"emote-button-padder-"+n.id+"--"+r,padding:{x:e.props.spaced?.5:0},position:h.n.Relative},i.createElement(s.b,{key:"emote-button-"+n.id+"--"+r,emote:n,isCriticalImage:0===r,onClick:e.handleClickEmote,showOptions:c,onMouseEnter:t&&c?e.handleEmoteMouseEnter:void 0,onMouseLeave:t&&c?e.handleEmoteMouseLeave:void 0}),i.createElement(a.a,{name:d.a},e.state.selectedEmoteID===n.id&&i.createElement(b,{context:e.props.context,emote:n,index:r,onMouseEnter:e.resetHoverTimer,onMouseLeave:e.handleEmoteMouseLeave})))}));return i.createElement(p.a,{display:h.g.Flex,flexWrap:h.i.Wrap},n)},t.prototype.resetHoverTimer=function(){this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=0)},t.prototype.setHoverTimer=function(e){var t=this;this.resetHoverTimer(),this.hoverTimer=setTimeout((function(){t.hoverTimer=0,t.setState({selectedEmoteID:e})}),300)},t}(i.PureComponent));n.d(t,"a",(function(){return E}))},"8APF":function(e,t,n){},"9VJY":function(e,t,n){},BdUW:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("SSXq"),i=n("EgE3");function a(e,t,n,a){Object(i.k)(e,t,n);var o="/popout/"+t+"/reward-queue";a&&(o+="?rewardID="+a);var s=window.open(Object(r.a)(o),"_blank","right=50,top=50,width=900,height=800,resizable=no,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");s&&s.focus()}},FM5L:function(e,t,n){},GOKC:function(e,t,n){},GsKU:function(e,t,n){"use strict";var r,i=n("pVnL"),a=n.n(i),o=n("q1tI"),s=n("fNzW"),c=n("vCsY"),l=n("7d/q"),u=n("uKd/"),d=n("Ws8v"),m=n("yymn"),p=n("sUnt"),h=n("ap5Y"),f=n("HH5h"),b=n("IbuL"),E=n("C7sF"),y=n("1/wt"),v=(n("n4RV"),(r={})[y.a.Error]=E.a.NotificationError,r[y.a.Info]=E.a.NotificationInfo,r[y.a.Success]=E.a.NotificationSuccess,r[y.a.Warning]=E.a.NotificationWarning,r),g=function(e){return o.createElement(p.a,{display:m.g.Flex,alignItems:m.b.Center,className:"tw-notification-figure tw-notification-figure--"+e.type},e.avatar?o.createElement(f.a,a()({size:30},e.avatar)):o.createElement(b.a,{asset:v[e.type]}))};g.displayName="NotificationFigure",g.displayName="NotificationFigure";var k=n("Jsra"),C=n("+80q"),w=function(e){return o.createElement(p.a,{display:m.g.Flex,flexDirection:e.inline?m.h.Row:m.h.Column,alignItems:e.inline?m.b.Baseline:void 0},o.createElement(p.a,{margin:{right:e.inline?.5:0}},o.createElement(C.a,{fontSize:m.j.Size5,fontWeight:m.k.SemiBold},e.title)),e.description&&o.createElement(p.a,{margin:{bottom:e.inline?void 0:.5,right:e.inline?.5:0}},o.createElement(C.a,{color:m.f.Alt},e.description)),e.link&&o.createElement(p.a,{margin:{bottom:e.inline?void 0:.5}},o.createElement(k.a,e.link)))};w.displayName="NotificationMessage",w.displayName="NotificationMessage";n("maHM");n.d(t,"a",(function(){return S}));var S=function(e){var t={"tw-in-feature-notification__avatar":!0,"tw-in-feature-notification__avatar--adjusted":e.message&&!e.message.inline};return o.createElement(d.a,a()({},Object(c.a)(e),{className:"tw-in-feature-notification tw-in-feature-notification--"+e.type,borderRadius:m.e.Medium,color:m.f.Base,position:m.n.Relative}),o.createElement(d.a,{borderRadius:m.e.Medium,background:e.background},o.createElement(p.a,{display:m.g.Flex},o.createElement(p.a,{display:m.g.Flex,fullWidth:!0},o.createElement(p.a,{padding:1,className:Object(s.a)(t)},o.createElement(g,{type:e.type,avatar:e.avatar})),o.createElement(p.a,{display:m.g.Flex,alignItems:m.b.Center,fullWidth:!0},e.children,e.message&&o.createElement(p.a,{padding:{y:1,right:1},fullWidth:!0},o.createElement(w,e.message)))),e.closeButton&&o.createElement(p.a,{className:"tw-in-feature-notification__close-button",padding:{x:1,y:.5}},o.createElement(u.a,{ariaLabel:e.closeButton.ariaLabel,onClick:e.closeButton.onClick,size:l.b.Small,type:l.c.Secondary}))),e.actions&&o.createElement(p.a,{padding:{x:1,bottom:1}},o.createElement(h.a,e.actions))))};S.displayName="InFeatureNotification",S.defaultProps={background:m.d.Base},S.displayName="InFeatureNotification"},KI4o:function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("u5aL"),c=n("wUQP"),l=n("DMoW"),u=n("5Z5u"),d=n("LE+Z"),m=n("EgE3"),p=n("sUnt"),h=n("yymn"),f=n("k0nM"),b=n("ygYM"),E=n("4wKg"),y=(n("SbPP"),function(e){return i.createElement(p.a,{position:h.n.Relative},i.createElement(f.a,{size:b.c.Auto,direction:b.b.BottomRight,show:e.show,offsetX:"4.5rem",offsetY:"-0.5rem"},i.createElement(p.a,{className:"reward-management-links__popover"},e.isBroadcaster&&i.createElement(E.a,{targetBlank:!0,label:Object(o.d)("Manage Rewards","RewardCenterBroadcasterLinks"),linkTo:Object(d.c)(e.channelLogin||"")}),i.createElement(u.a,{channelID:e.channelID,channelLogin:e.channelLogin,uiContext:m.d.RewardSelectionPane}))))}),v=n("YV90"),g=n("OUdD");var k=n("V8f+"),C=n("+80q"),w=n("b7S+"),S=n("qwRY"),O=n("C7sF"),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showMenu:!1},t.renderTitle=function(){return i.createElement(p.a,{textAlign:h.p.Center},i.createElement(C.a,{type:C.e.H5,color:h.f.Alt,fontWeight:h.k.SemiBold},t.props.title),t.renderSubtitle())},t.renderSubtitle=function(){if(t.props.activeMultipliers&&t.props.activeMultipliers.length>0){var e=t.props.activeMultipliers.map((function(e){return t.getMultiplierReason(e)})).filter((function(e){return e.length>0})).join(", "),n=Object(o.d)("{multiplier}x Multiplier",{multiplier:(r=t.props.activeMultipliers,a=1,r.forEach((function(e){return a+=e.factor})),a)},"EarnNotice");return e?i.createElement(w.a,{direction:w.c.Top,label:e},i.createElement(C.a,{type:C.e.H6,color:h.f.Alt2},n)):i.createElement(C.a,{type:C.e.H6,color:h.f.Alt2},n)}var r,a;return null},t.getMultiplierReason=function(e){switch(e.reasonCode){case l.ab.SUB_T1:return Object(o.d)("Tier 1 Sub","EarnNotice");case l.ab.SUB_T2:return Object(o.d)("Tier 2 Sub","EarnNotice");case l.ab.SUB_T3:return Object(o.d)("Tier 3 Sub","EarnNotice");default:return""}},t.onBackClicked=function(){t.props.onBackClicked?t.props.onBackClicked():t.props.openReward({direction:k.a.Back})},t.toggleMenu=function(){t.setState((function(e){return{showMenu:!e.showMenu}}))},t.hideMenu=function(){t.setState({showMenu:!1})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=!!this.props.currentUserLogin&&this.props.currentUserLogin===this.props.channelLogin,t=this.props.isCurrentUserModerator&&Object(c.c)("copo_full_launch"),n=e||t;return i.createElement(s.a,{onClickOut:this.hideMenu},i.createElement(S.a,{popoverId:"channel-points-reward-center",title:this.renderTitle(),buttonLeftPrimary:this.props.showBackButton||this.props.onBackClicked?{onClick:this.onBackClicked,icon:O.a.AngleLeft}:void 0,buttonRightPrimary:{onClick:this.props.closeRewardCenter,ariaLabel:"Close"},buttonRightSecondary:n?{ariaLabel:Object(o.d)("Reward management options","RewardCenterBroadcasterLinks"),icon:O.a.More,onClick:this.toggleMenu}:void 0}),i.createElement(y,{channelLogin:this.props.channelLogin,channelID:this.props.channelID,isBroadcaster:e,show:this.state.showMenu}))},t}(i.Component);var N=Object(a.d)(Object(g.b)((function(e){return e})),Object(v.a)((function(e){return{channelLogin:e.channelLogin,channelID:e.channelID,isCurrentUserModerator:e.isCurrentUserModerator}})))(j),_=n("/MKj"),R=n("kRBY");var x=Object(_.b)((function(e){var t=Object(R.e)(e);return{currentUserLogin:t&&t.login}}))(N);n.d(t,"a",(function(){return x}))},LDmb:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("pVnL"),i=n.n(r),a=n("VbXa"),o=n.n(a),s=n("q1tI"),c=n("A5Hy"),l=n("vCsY"),u=n("ygYM"),d=n("hnjF"),m=n("yymn"),p=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){return s.createElement(u.a,i()({},Object(l.a)(this.props),{elevation:this.props.elevation,offsetX:this.props.offsetX,offsetY:this.props.offsetY,direction:this.props.direction,noTail:!this.props.tail,size:this.props.size?this.props.size:u.c.Large,show:this.props.show,background:this.props.background}),s.createElement(d.a,{display:m.g.Flex,flexDirection:m.h.Column,role:c.c.Dialog,ariaLabelledby:this.props.popoverId+"-header",ariaDescribedby:this.props.popoverId+"-body"},s.createElement("div",{style:{maxHeight:this.props.maxHeight}},this.props.children)))},t}(s.Component);p.displayName="Popover"},Lqow:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n("W1jp");function i(e,t){return void 0===t&&(t=!0),t&&(e=e.filter((function(e){return e.isEnabled}))),e.sort(a)}function a(e,t){var n=Object(r.c)(e),i=Object(r.c)(t);return n!==i?n-i:e.id<t.id?-1:e.id>t.id?1:0}},OvMb:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ModerationToolsRewardsQueueLink"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"summarizedRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCountAtMaximum"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:187}};n.loc.source={body:"query ModerationToolsRewardsQueueLink($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nchannel {\nid\ncommunityPointsSettings {\nsummarizedRewards {\ncount\nisCountAtMaximum\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.ModerationToolsRewardsQueueLink=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"ModerationToolsRewardsQueueLink")},PHZH:function(e,t,n){},SbPP:function(e,t,n){},SxLA:function(e,t,n){},U4Oh:function(e,t,n){},VrOd:function(e,t,n){},WTcl:function(e,t,n){},WZ3a:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ClaimCommunityPoints"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ClaimCommunityPointsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"claimCommunityPoints"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"claim"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"multipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"factor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reasonCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pointsEarnedBaseline"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pointsEarnedTotal"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"currentPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:223}};n.loc.source={body:"mutation ClaimCommunityPoints($input: ClaimCommunityPointsInput!){\nclaimCommunityPoints(input: $input) {\nclaim {\nid\nmultipliers {\nfactor\nreasonCode\n}\npointsEarnedBaseline\npointsEarnedTotal\n}\ncurrentPoints\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.ClaimCommunityPoints=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"ClaimCommunityPoints")},X6r6:function(e,t,n){e.exports=n.p+"assets/random_emote_checkout_2x-48e4c30f9a2b0e033f99.png"},"Y/QB":function(e,t,n){},YzXo:function(e,t,n){"use strict";var r=n("mrSG"),i=n("Pw1c"),a=n("q1tI"),o=[];function s(){return function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.addChangeListener=function(e){o.push(e)},e.removeChangeListener=function(e){o=o.filter((function(t){return t!==e}))},e}return Object(r.__extends)(n,t),n.prototype.render=function(){var t={fullscreen:{addChangeListener:this.addChangeListener,removeChangeListener:this.removeChangeListener,supported:this.supported,element:this.element,enable:this.enable,disable:this.disable}};return a.createElement(e,Object(r.__assign)({},t,this.props))},n.prototype.supported=function(){return!!i.enabled},n.prototype.element=function(){return i.element},n.prototype.enable=function(e){i.request(e)},n.prototype.disable=function(){i.exit()},n}(a.Component)}}i.onchange=function(){o.forEach((function(e){e()}))},n.d(t,"a",(function(){return s}))},a10Q:function(e,t,n){},ap5Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("pVnL"),i=n.n(r),a=n("q1tI"),o=n("dEDE"),s=n("sUnt"),c=n("yymn"),l=function(e){return a.createElement(s.a,{display:c.g.Flex,justifyContent:c.l.Start,flexDirection:c.h.RowReverse},a.createElement("div",null,a.createElement(o.a,i()({size:o.b.Small,type:e.primaryButton.type||o.d.Primary},e.primaryButton))),e.secondaryButton&&a.createElement(s.a,{margin:{right:1}},a.createElement(o.a,i()({size:o.b.Small,type:e.secondaryButton.type||o.d.Secondary},e.secondaryButton))))};l.displayName="NotificationActions",l.displayName="NotificationActions"},b5vT:function(e,t,n){"use strict";var r,i,a=n("TSYQ"),o=n("q1tI"),s=n("/7QA"),c=n("C7sF"),l=n("7uM4"),u=n("Ws8v"),d=n("yymn");!function(e){e[e.LOCK=0]="LOCK",e[e.BITS=1]="BITS"}(i||(i={}));var m=((r={})[i.LOCK]=c.a.Lock,r[i.BITS]=c.a.Bits,r),p=function(e){var t=e.lockIcon,n=o.useMemo((function(){return o.createElement(l.a,{asset:m[t],height:10,width:10})}),[t]);return o.createElement(u.a,{background:d.d.Overlay,borderRadius:d.e.Small,className:"emote-button__lock","data-test-selector":"emote-button-lock",display:d.g.InlineFlex,justifyContent:d.l.Center,position:d.n.Absolute,zIndex:d.s.Above},n)},h=n("GnwI"),f=n("b7S+"),b=n("hnjF"),E=(n("GOKC"),function(e){var t=a("emote-button__link",{"emote-button__link--locked":!e.onClick}),n=e.emote,r=n.displayName,c=n.srcSet;if(!c)return null;var l=c.split(" ")[0],u=o.createElement("img",{className:"emote-picker__image",src:l,srcSet:c,alt:r});if(e.isCriticalImage){for(var m={},E=0,y=c.split(",");E<y.length;E++){var v=y[E].trim().split(" "),g=v[1],k=v[0];m[g]=k}u=o.createElement(h.CriticalImage,{className:"emote-picker__emote-image",src:l,srcSet:m,alt:r||""})}var C=o.createElement(p,{lockIcon:e.emote.isBitsTierEmote?i.BITS:i.LOCK});return o.createElement("div",{className:"emote-button"},o.createElement(f.a,{label:r||Object(s.d)("Emote","EmoteButton"),direction:f.c.Bottom},o.createElement(b.a,{display:d.g.Flex,alignItems:d.b.Center,justifyContent:d.l.Center},o.createElement("button",{"data-test-selector":"emote-button-clickable",className:t,"aria-label":r,name:r,onMouseEnter:e.onMouseEnter?e.onMouseEnter.bind(null,e.emote):void 0,onMouseLeave:e.onMouseLeave?e.onMouseLeave.bind(null,e.emote):void 0,onClick:e.onClick?e.onClick.bind(null,e.emote):void 0,"data-a-target":r},o.createElement("figure",null,e.emote.isLocked?C:null,e.showOptions&&o.createElement("div",{className:"emote-button__options"}),u)))))});n.d(t,"a",(function(){return"emote-button"})),n.d(t,"b",(function(){return E}))},c0GN:function(e,t,n){"use strict";var r,i=n("mrSG"),a=n("q1tI"),o=n("/7QA"),s=n("yR8l"),c=n("wUQP"),l=n("sUnt"),u=n("C7sF"),d=n("yymn"),m=n("+80q"),p=n("Jsra"),h=n("4rCz"),f=n("IbuL");!function(e){e.Countdown="earn-rate-item-countdown"}(r||(r={}));var b,E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(l.a,{display:d.g.Flex,justifyContent:d.l.Between,padding:{y:.5},alignItems:d.b.Center},a.createElement(l.a,{display:d.g.Flex,alignItems:d.b.Center},a.createElement(l.a,{display:d.g.Flex,alignItems:d.b.Center,padding:{right:2}},a.createElement(f.a,{asset:this.props.icon})),a.createElement(l.a,null,a.createElement(m.a,null,this.props.title),this.renderAvailabilityCountdown())),a.createElement(m.a,null,this.props.value))},t.prototype.renderAvailabilityCountdown=function(){if(!this.props.availableAt)return null;var e=new Date(this.props.availableAt).valueOf()-Date.now();if(e<=0)return null;var t=Math.floor(e/864e5);return 0===t?a.createElement(m.a,{color:d.f.Alt2,"data-test-selector":r.Countdown},Object(h.d)("Earn again in <x:strong>less than a day</x:strong>",{"x:strong":function(e){return a.createElement(m.a,{bold:!0,type:m.e.Span},e)}},"EarnRateItem")):a.createElement(m.a,{color:d.f.Alt2,"data-test-selector":r.Countdown},Object(h.d)("{days, plural, one {Earn again in <x:strong>{days} day</x:strong>} other {Earn again in <x:strong>{days} days</x:strong>}}",{days:t,"x:strong":function(e){return a.createElement(m.a,{bold:!0,type:m.e.Span},e)}},"EarnRateItem"))},t}(a.Component),y=n("p5Bz");!function(e){e.Cheer="earn-rates-cheer",e.SubGift="earn-rates-sub-gift",e.WatchStreak="earn-rates-watch-streak"}(b||(b={}));var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t,n,r,i,s,h,f,y,v,g,k;if(!this.props.earnRates)return null;var C=this.props.earnRates&&this.props.earnRates.watchStreakPoints,w=null;return C.length>0&&(w=C[C.length-1].points),a.createElement(l.a,{padding:this.props.padding||1},a.createElement(E,{icon:u.a.NavChannels,title:Object(o.d)("Watch for 5 minutes*","EarnRates"),value:"+"+this.props.earnRates.passiveWatchPoints}),a.createElement(E,{icon:u.a.ChannelPointsBonus,title:Object(o.d)("Claim special bonuses*","EarnRates"),value:"+"+this.props.earnRates.claimPoints}),a.createElement(E,{icon:u.a.Raid,title:Object(o.d)("Participate in a Raid","EarnRates"),value:"+"+this.props.earnRates.raidPoints}),a.createElement(E,{icon:u.a.FollowHollow,title:Object(o.d)("Follow this channel","EarnRates"),value:"+"+this.props.earnRates.followPoints}),Object(c.c)("copo_commerce_actions")&&a.createElement(a.Fragment,null,a.createElement(E,{availableAt:null===(s=null===(i=null===(r=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.self)||void 0===r?void 0:r.communityPoints)||void 0===i?void 0:i.limitedEarnings)||void 0===s?void 0:s.cheerAvailableAt,icon:u.a.Bits,title:Object(o.d)("Monthly 1st Cheer","EarnRates"),value:"+"+this.props.earnRates.cheerPoints,"data-test-selector":b.Cheer}),a.createElement(E,{availableAt:null===(k=null===(g=null===(v=null===(y=null===(f=null===(h=this.props.data)||void 0===h?void 0:h.user)||void 0===f?void 0:f.channel)||void 0===y?void 0:y.self)||void 0===v?void 0:v.communityPoints)||void 0===g?void 0:g.limitedEarnings)||void 0===k?void 0:k.subscriptionGiftAvailableAt,icon:u.a.Gift,title:Object(o.d)("Monthly 1st Gift a Sub","EarnRates"),value:"+"+this.props.earnRates.subscriptionGiftPoints,"data-test-selector":b.SubGift})),w&&a.createElement(E,{icon:u.a.GlyphViews,title:Object(o.d)("Grow a watch streak","EarnRates"),value:Object(o.d)("up to +{maxStreakPoints}",{maxStreakPoints:w},"EarnRates"),"data-test-selector":b.WatchStreak}),a.createElement(l.a,{padding:{y:2},textAlign:d.p.Center},a.createElement(m.a,{color:d.f.Alt2},Object(o.d)("* Subscribers get a 2x multiplier","EarnRates"))),a.createElement(l.a,{textAlign:d.p.Center},a.createElement(m.a,null,Object(o.d)("<x:learn>Learn More about Channel Points</x:learn>",{"x:learn":function(e){return a.createElement(p.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/s/article/channel-points-guide"},e)}},"RewardList"))))},t}(a.Component),g=Object(s.a)(y,{options:function(e){return{fetchPolicy:"cache-and-network",variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin||!Object(c.c)("copo_commerce_actions")}})(v);n.d(t,"a",(function(){return g}))},d8FY:function(e,t,n){},f7m9:function(e,t,n){},falg:function(e,t,n){"use strict";n.r(t);var r,i=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("ANjH"),c=n("/7QA"),l=n("u5aL"),u=n("1/iK"),d=n("y5D0"),m=n("kRBY"),p=n("YV90"),h=n("OUdD"),f=n("ZS2+"),b=n("0Log"),E=n("/aPz"),y=n("f00E"),v=n("w09P"),g=n("YzXo"),k=n("yR8l"),C=n("eDVu"),w=n("geRD"),S=n("4rCz"),O=n("2xye");!function(e){e.ChatInput="chat_input_box"}(r||(r={}));var j=n("hCFK"),N=n("b7S+"),_=n("dEDE"),R=n("sUnt"),x=n("yymn"),D=n("IbuL"),I=n("C7sF"),P=n("WZ3a"),T=n("uHaE"),M=(n("U4Oh"),j.b.Long),L=2e3,F=function(e){switch(e){case j.b.Short:return 100;case j.b.Long:return 300;case j.b.Medium:default:return 250}}(M),B=function(e){function t(t){var n=e.call(this,t)||this;return n.state={error:!1,inProgress:!1},n.claimErrorTimer=null,n.updateClaimTimer=null,n.onClick=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e,t,n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!(e=this.getClaim()))return S.l.warn("Attempted to use claim without ID."),this.handleClaimError(!1),[2];this.setState({inProgress:!0}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.props.claimCommunityPoints(Object(w.a)({channelID:this.props.channelID,claimID:e.id}))];case 2:return t=i.sent(),this.setState({inProgress:!1}),t.data&&t.data.claimCommunityPoints&&!t.data.claimCommunityPoints.error?(this.nullifyClaim(t.data.claimCommunityPoints.currentPoints),function(e,t){var n=t.claimCommunityPoints&&t.claimCommunityPoints.claim,i=1;n&&(i=n.multipliers.reduce((function(e,t){return e+t.factor}),1));var a={bonus_uuid:n&&n.id||"",channel_id:e.community&&e.community.id||"",channel_login:e.community&&e.community.login||"",points_claimed:n&&n.pointsEarnedBaseline||0,multiplier:i,total_points_claimed:n&&n.pointsEarnedTotal||0,ui_context:r.ChatInput};c.o.track(O.SpadeEventType.ChannelPointsBonusClaim,a)}(this.props.data,t.data),[3,4]):(this.handleClaimError(!0),[2]);case 3:return n=i.sent(),S.l.errorAndReport(n,"Point claim failed at the mutation level."),this.setState({inProgress:!1}),this.handleClaimError(!0),[3,4];case 4:return[2]}}))}))},n.handleClaimError=function(e){n.setState({error:!0}),e&&(n.clearUpdateClaimTimer(),n.updateClaimTimer=setTimeout((function(){n.nullifyClaim()}),L)),n.clearClaimErrorTimer(),n.claimErrorTimer=setTimeout((function(){n.setState({error:!1})}),L+F)},n.clearClaimErrorTimer=function(){n.claimErrorTimer&&(clearTimeout(n.claimErrorTimer),n.claimErrorTimer=null)},n.clearUpdateClaimTimer=function(){n.updateClaimTimer&&(clearTimeout(n.updateClaimTimer),n.updateClaimTimer=null)},n.handleFullscreenChange=function(){n.trackChanges(n.props),n.previousFullscreenElement=n.props.fullscreen.element()},n.previousFullscreenElement=t.fullscreen.element(),n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.fullscreen.addChangeListener(this.handleFullscreenChange),this.trackChanges()},t.prototype.componentWillUnmount=function(){this.props.fullscreen.removeChangeListener(this.handleFullscreenChange)},t.prototype.componentDidUpdate=function(e){this.trackChanges(e)},t.prototype.render=function(){var e=this.getClaim(),t=!!e&&!this.props.hidden,n=!!e,r=this.state.error?Object(S.d)("Error claiming bonus","CommunityPointsClaimableBonus"):Object(S.d)("Click to claim a bonus!","CommunityPointsClaimableBonus");return a.createElement(j.a,{type:j.c.Fade,show:t,alwaysRenderChild:!0,transitionInitialMount:!0,duration:M},a.createElement(j.a,{type:j.c.SlideOverLeft,show:n,transitionInitialMount:!0,duration:M},!this.props.hidden&&a.createElement(N.a,{label:r},a.createElement(_.a,{disabled:this.state.inProgress,onClick:this.onClick,type:this.state.error?_.d.Alert:_.d.Success},a.createElement(R.a,{className:this.state.error?"":"claimable-bonus__icon",display:x.g.Flex},a.createElement(D.a,{asset:I.a.ChannelPointsBonus}))))))},t.prototype.nullifyClaim=function(e){this.props.data.updateQuery((function(t){var n,r,a;return(null===(a=null===(r=null===(n=t.community)||void 0===n?void 0:n.channel)||void 0===r?void 0:r.self)||void 0===a?void 0:a.communityPoints)?v(t,(function(e){return e.community.channel.self.communityPoints}),(function(t){return Object(i.__assign)(Object(i.__assign)({},t),{availableClaim:null,balance:"number"==typeof e?e:t.balance})})):(S.l.warn("Failed to nullify cached claim."),t)}))},t.prototype.getClaim=function(e){var t=(e||this.props).data;return t.community&&t.community.channel&&t.community.channel.self&&t.community.channel.self.communityPoints&&t.community.channel.self.communityPoints.availableClaim},t.prototype.trackChanges=function(e){var t,n,i,a=this.getClaim(),o=e&&!!this.getClaim(e);a&&!o&&e&&!e.data.loading&&(t=this.props.data,n=a.id,i={bonus_uuid:n,channel_id:t.community&&t.community.id||"",channel_login:t.community&&t.community.login||""},c.o.track(O.SpadeEventType.ChannelPointsBonusEligible,i));var s=this.props.fullscreen.element(),l=this.props.rightColumnExpanded&&!s,u=e&&e.rightColumnExpanded&&!this.previousFullscreenElement;!a||!l||u&&o||function(e,t){var n={bonus_uuid:t,channel_id:e.community&&e.community.id||"",channel_login:e.community&&e.community.login||"",ui_context:r.ChatInput};c.o.track(O.SpadeEventType.ChannelPointsBonusImpression,n)}(this.props.data,a.id)},t}(a.Component);var A=Object(s.d)(Object(k.a)(T,{options:function(e){return{variables:{channelID:e.channelID}}}}),Object(k.a)(P,{name:"claimCommunityPoints"}),Object(C.a)((function(e){return{query:T,variables:{channelID:e.channelID},topic:Object(E.r)(e.currentUserID),type:b.PubsubMessageType.CommunityPointsClaimAvailable,mutator:function(t,n){return t.data.claim.point_gain.channel_id!==e.channelID?n:n.community&&n.community.channel&&n.community.channel.self&&n.community.channel.self.communityPoints?v(n,(function(e){return e.community.channel.self.communityPoints.availableClaim}),(function(){return{__typename:"CommunityPointsClaim",id:t.data.claim.id}})):n}}})),Object(C.a)((function(e){return{query:T,variables:{channelID:e.channelID},topic:Object(E.r)(e.currentUserID),type:b.PubsubMessageType.CommunityPointsClaimUsed,mutator:function(e,t){return t.community&&t.community.channel&&t.community.channel.self&&t.community.channel.self.communityPoints&&t.community.channel.self.communityPoints.availableClaim&&t.community.channel.self.communityPoints.availableClaim.id===e.data.claim.id?v(t,(function(e){return e.community.channel.self.communityPoints.availableClaim}),(function(){return null})):t}}})),Object(o.b)((function(e){return{rightColumnExpanded:e.ui.rightColumnExpanded}})),Object(g.a)())(B),U=n("zg3r"),V=n("nAiT"),H=n("Ws8v"),W=n("7uM4"),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e,t=this;switch(this.props.event.point_gain.reason_code){case U.a.CLAIM:case U.a.WATCH:e=4e3;break;default:e=8e3}this.expirationTimer=setTimeout((function(){t.props.onEarnEventExpired()}),e)},t.prototype.componentWillUnmount=function(){clearTimeout(this.expirationTimer)},t.prototype.render=function(){return a.createElement(N.a,{label:this.tooltipText},a.createElement(H.a,{alignItems:x.b.Center,background:x.d.Accent,borderRadius:x.e.Medium,color:x.f.Overlay,display:x.g.Flex,padding:.5},a.createElement(W.a,{asset:this.icon}),"+"+this.props.event.point_gain.total_points))},Object.defineProperty(t.prototype,"icon",{get:function(){switch(this.props.event.point_gain.reason_code){case U.a.CHEER:return I.a.Bits;case U.a.FOLLOW:return I.a.Heart;case U.a.RAID:return I.a.Raid;case U.a.SUB_GIFT:return I.a.Gift;case U.a.WATCH_STREAK:return I.a.GlyphViews;default:return I.a.ChannelPoints}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipText",{get:function(){var e=Object(S.f)(this.props.event.point_gain.total_points),t=this.props.pointName||Object(V.a)();switch(this.props.event.point_gain.reason_code){case U.a.CHEER:return Object(S.d)("You earned {numPoints} {pointName} for Cheering",{numPoints:e,pointName:t},"EarnNotice");case U.a.FOLLOW:return Object(S.d)("You earned {numPoints} {pointName} for following",{numPoints:e,pointName:t},"EarnNotice");case U.a.RAID:return Object(S.d)("You earned {numPoints} {pointName} for participating in a Raid",{numPoints:e,pointName:t},"EarnNotice");case U.a.SUB_GIFT:return Object(S.d)("You earned {numPoints} {pointName} for gifting a Sub",{numPoints:e,pointName:t},"EarnNotice");case U.a.WATCH_STREAK:return Object(S.d)("You earned {numPoints} {pointName} for your watch streak",{numPoints:e,pointName:t},"EarnNotice");default:return Object(S.d)("You earned {numPoints} {pointName}",{numPoints:e,pointName:t},"EarnNotice")}},enumerable:!0,configurable:!0}),t}(a.Component);var Y=Object(p.a)((function(e){return{pointName:e.pointName}}))(q),z=n("hnjF"),G=(n("gjFE"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.completeTimeout=0,t.handleAnimationEnd=function(){t.props.onComplete()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.completeTimeout=setTimeout((function(){e.handleAnimationEnd()}),1500+(this.props.delayMs||0))},t.prototype.componentWillUnmount=function(){clearTimeout(this.completeTimeout)},t.prototype.render=function(){var e=void 0!==this.props.delayMs?this.props.delayMs+"ms":void 0;return a.createElement(z.a,{className:"float-animation",position:x.n.Absolute},a.createElement("div",{style:{animationDelay:e}},a.createElement(R.a,{className:"float-animation__children-wrapper"},this.props.children)))},t}(a.Component)),K=n("DMoW"),Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.expirationTimer=setTimeout((function(){e.props.onMultiplierEventExpired()}),8e3)},t.prototype.componentWillUnmount=function(){clearTimeout(this.expirationTimer)},t.prototype.render=function(){return a.createElement(N.a,{label:this.tooltipText},a.createElement(H.a,{alignItems:x.b.Center,background:x.d.Accent,borderRadius:x.e.Medium,color:x.f.Overlay,display:x.g.Flex,padding:.5},a.createElement(W.a,{asset:this.icon}),"+"+(1+this.props.event.active_multipliers.multipliers[0].factor)+"X"))},Object.defineProperty(t.prototype,"icon",{get:function(){switch(this.props.event.active_multipliers.multipliers[0].reason_code){case K.ab.SUB_T1:case K.ab.SUB_T2:case K.ab.SUB_T3:default:return I.a.Star}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipText",{get:function(){var e=1+this.props.event.active_multipliers.multipliers[0].factor,t=this.props.pointName||Object(V.a)();switch(this.props.event.active_multipliers.multipliers[0].reason_code){case K.ab.SUB_T1:case K.ab.SUB_T2:case K.ab.SUB_T3:return Object(S.d)("You are earning {multiplier}x {PointName} for subscribing",{multiplier:e,PointName:t},"MultiplierNotice");default:return Object(S.d)("You are earning {multiplier}x {PointName}",{multiplier:e,PointName:t},"MultiplierNotice")}},enumerable:!0,configurable:!0}),t}(a.Component);var X,Z=Object(p.a)((function(e){return{pointName:e.pointName}}))(Q),J=n("A4KW"),$=(n("9VJY"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.completeTimeout=0,t.handleAnimationEnd=function(){t.props.onComplete()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.completeTimeout=setTimeout((function(){e.handleAnimationEnd()}),400+(this.props.delayMs||0))},t.prototype.componentWillUnmount=function(){clearTimeout(this.completeTimeout)},t.prototype.render=function(){var e=void 0!==this.props.delayMs?this.props.delayMs+"ms":void 0;return a.createElement("div",{className:"pulse-animation",style:{animationDelay:e}},this.props.children)},t}(a.Component)),ee=n("V8f+"),te=n("+80q"),ne=n("zY44");!function(e){e.AddPoints="add-points",e.MultiplyBonus="multiply-bonus"}(X||(X={}));n("d8FY");function re(e){switch(void 0===e&&(e=void 0),e){case X.AddPoints:return{explosion:!0,flame:!1,floatingText:!0,iconPulse:!0,earnNotice:!0};case X.MultiplyBonus:return{explosion:!1,flame:!0,floatingText:!0,iconPulse:!0,earnNotice:!0};default:return{explosion:!1,flame:!1,floatingText:!1,iconPulse:!1,earnNotice:!1}}}var ie,ae=f.a.wrap((function(){return n.e(75).then(n.bind(null,"CYk5"))}),"FlameAnimation"),oe=f.a.wrap((function(){return n.e(74).then(n.bind(null,"ktc1"))}),"ExplodeAnimation");!function(e){e.CommunityPointsSummary="community-points-summary",e.BalanceString="balance-string"}(ie||(ie={}));var se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={animationQueue:[],animationKey:Object(y.c)(),isEarnNoticeTransitionShowing:!1,waitingFor:re()},t.onIconClicked=function(){t.props.isRewardCenterOpen?t.props.closeRewardCenter():t.props.openReward({direction:ee.a.OpenRewardCenter})},t.markSubAnimationComplete=function(e){t.setState((function(t){return function(e){var t=e.animationQueue.length>0,n=Object.values(e.waitingFor).every((function(e){return!1===e}));if(t&&n){var r=e.animationQueue.slice(1);return Object(i.__assign)(Object(i.__assign)({},e),{animationQueue:r,animationKey:Object(y.c)(),isEarnNoticeTransitionShowing:!0,waitingFor:re(r[0]&&r[0].type)})}return e}(function(e,t){var n;return Object(i.__assign)(Object(i.__assign)({},e),{waitingFor:Object(i.__assign)(Object(i.__assign)({},e.waitingFor),(n={},n[t]=!1,n))})}(t,e))}))},t.handleNoticeExpired=function(){t.setState({isEarnNoticeTransitionShowing:!1})},t.handleEarnNoticeTransitionExit=function(){t.markSubAnimationComplete("earnNotice")},t.handleFlameAnimationComplete=function(){t.markSubAnimationComplete("flame")},t.handleFloatAnimationComplete=function(){t.markSubAnimationComplete("floatingText")},t.handleIconAnimationComplete=function(){t.markSubAnimationComplete("iconPulse")},t.handleExplosionAnimationComplete=function(){t.markSubAnimationComplete("explosion")},t.addAnimationToQueue=function(e){t.setState((function(t){return 0===t.animationQueue.length?Object(i.__assign)(Object(i.__assign)({},t),{animationQueue:[e],isEarnNoticeTransitionShowing:!0,waitingFor:re(e.type)}):Object(i.__assign)(Object(i.__assign)({},t),{animationQueue:Object(i.__spreadArrays)(t.animationQueue,[e])})}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.prototype.render=function(){if(!this.props.isChannelPointsEnabled)return null;var e=this.state.animationKey,t=this.state.animationQueue[0],n=Object(c.d)("{balance} {pointsName}",{balance:this.getBalanceString(),pointsName:this.props.pointName||Object(V.a)()},"PointsButton");return a.createElement(R.a,{"data-test-selector":ie.CommunityPointsSummary,alignItems:x.b.Center,display:x.g.Flex,className:"community-points-summary",fullHeight:!0},a.createElement(ae.Preload,null),a.createElement(oe.Preload,null),a.createElement(R.a,{position:x.n.Relative,display:x.g.Flex,alignItems:x.b.Center},a.createElement(R.a,{position:x.n.Absolute,attachTop:!0,attachLeft:!0},this.renderExplosion(t,e)),a.createElement(N.a,{label:n,direction:N.c.Right},a.createElement(_.a,{disabled:this.props.buttonDisabled,onClick:this.onIconClicked,type:_.d.Text},a.createElement(R.a,{alignItems:x.b.Center,display:x.g.Flex},a.createElement(R.a,{margin:{right:.5}},this.renderIcon(t,e)),a.createElement(te.a,{"data-test-selector":ie.BalanceString,color:x.f.Alt2},this.getAnimatedBalance())))),a.createElement(R.a,{position:x.n.Absolute,attachTop:!0,attachLeft:!0},this.renderFlame(t,e)),a.createElement(R.a,{position:x.n.Relative,zIndex:x.s.Above,attachRight:!0},this.renderFloatText(t,e))),a.createElement(R.a,{fullHeight:!0,position:x.n.Relative,zIndex:x.s.Above},this.props.channelID&&this.props.currentUserID?a.createElement(A,{hidden:void 0!==t,channelID:this.props.channelID,currentUserID:this.props.currentUserID}):null,this.renderNotice(t)))},t.prototype.renderFlame=function(e,t){return void 0===e?null:e.type===X.MultiplyBonus?a.createElement(ae,{offsetX:-6,offsetY:-12,onComplete:this.handleFlameAnimationComplete,key:t}):null},t.prototype.renderExplosion=function(e,t){return void 0===e?null:e.type===X.AddPoints?a.createElement(oe,{offsetX:-5,offsetY:-10,onComplete:this.handleExplosionAnimationComplete,key:t}):void 0},t.prototype.renderIcon=function(e,t){if(void 0===e)return a.createElement(J.b,null);switch(e.type){case X.AddPoints:return a.createElement($,{onComplete:this.handleIconAnimationComplete,delayMs:230,key:t},a.createElement(J.b,null));case X.MultiplyBonus:return a.createElement($,{onComplete:this.handleIconAnimationComplete,delayMs:1030,key:t},a.createElement(J.b,null));default:return a.createElement(J.b,null)}},t.prototype.renderFloatText=function(e,t){if(void 0===e)return null;switch(e.type){case X.AddPoints:var n=void 0;switch(e.event.point_gain.reason_code){case U.a.CLAIM:case U.a.WATCH:n=4e3;break;default:n=8e3}return a.createElement(G,{delayMs:n,onComplete:this.handleFloatAnimationComplete,key:t},a.createElement(te.a,{bold:!0,fontSize:x.j.Size4,className:"community-points-summary__points-add-text"},Object(c.d)("+{addedPoints}",{addedPoints:e.event.point_gain.total_points},"PointsButton")));case X.MultiplyBonus:return a.createElement(G,{onComplete:this.handleFloatAnimationComplete,delayMs:8e3,key:t},a.createElement(te.a,{bold:!0,fontSize:x.j.Size4,className:"community-points-summary__multiply-bonus-text"},Object(c.d)("{factor}x",{factor:1+e.event.active_multipliers.multipliers[0].factor},"PointsButton")));default:return null}},t.prototype.renderNotice=function(e){var t=null;e&&e.type===X.AddPoints?t=a.createElement(Y,{event:e.event,onEarnEventExpired:this.handleNoticeExpired}):e&&e.type===X.MultiplyBonus&&(t=a.createElement(Z,{event:e.event,onMultiplierEventExpired:this.handleNoticeExpired}));var n=this.state.isEarnNoticeTransitionShowing&&!!t;return a.createElement(j.a,{duration:j.b.Long,onExitComplete:this.handleEarnNoticeTransitionExit,show:n,transitionInitialMount:!0,type:j.c.Fade},a.createElement(j.a,{duration:j.b.Long,show:n,transitionInitialMount:!0,type:j.c.SlideOverLeft},a.createElement(R.a,{attachLeft:!0,fullHeight:!0},t)))},t.prototype.subscribe=function(){var e=this;this.props.currentUserID&&(this.unsubscribe=c.l.subscribe({topic:Object(E.r)(this.props.currentUserID),onMessage:function(t){t.type!==b.PubsubMessageType.CommunityPointsEarned&&t.type!==b.PubsubMessageType.CommunityPointsMultipliersUpdated||(t.data.point_gain&&e.props.channelID===t.data.point_gain.channel_id||t.data.active_multipliers&&e.props.channelID===t.data.active_multipliers.channel_id)&&(t.data.point_gain?t.data.point_gain.reason_code!==U.a.REFUND&&e.addAnimationToQueue({type:X.AddPoints,event:t.data}):t.data.active_multipliers&&t.data.active_multipliers.multipliers.length&&e.addAnimationToQueue({type:X.MultiplyBonus,event:t.data}))}}))},t.prototype.getAnimatedBalance=function(){return this.props.balance===1/0?String.fromCharCode(8734):a.createElement(ne.a,{value:this.props.balance,formatValue:function(e){return Object(c.g)(e,{maximumFractionDigits:1,round:Math.floor})},monospaced:!1})},t.prototype.getBalanceString=function(){return this.props.balance===1/0?String.fromCharCode(8734):Object(c.f)(this.props.balance)},t}(a.Component);var ce=Object(s.d)(Object(o.b)((function(e){var t=Object(m.e)(e);return{currentUserID:t&&t.id}})),Object(p.a)((function(e){return{balance:e.balance,channelID:e.channelID,isChannelPointsEnabled:e.isChannelPointsEnabled,pointName:e.pointName}})),Object(h.b)((function(e){return e})))(se),le=n("VaVM"),ue=n("LDmb"),de=n("ygYM"),me=n("2rlx"),pe=n("+l4d"),he=n("79s7"),fe=function(e){return a.createElement(R.a,{display:x.g.Flex,flexDirection:x.h.Column,alignItems:x.b.Center,flexGrow:1},a.createElement(z.a,{alignSelf:x.c.Start},a.createElement(te.a,null,e.message)),a.createElement(R.a,{flexGrow:1,display:x.g.Flex,flexDirection:x.h.Column,justifyContent:x.l.Center},e.children),a.createElement(R.a,{padding:{y:1}},e.button))},be=n("KI4o"),Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(be.a,{showBackButton:!0,title:this.props.errorStateTitle}),a.createElement(he.a,null,a.createElement(fe,{message:this.props.errorStateText,button:a.createElement(_.a,{onClick:this.props.onButtonClick},this.props.buttonText)},this.props.errorStateImg)))},t}(a.Component),ye=n("a1OF"),ve=n("uG/k"),ge=(n("PHZH"),{id:"426170",token:"PartyPopper"}),ke={id:"28087",token:"WutFace"},Ce=function(e){var t=e.emote;return a.createElement(ve.a,{className:"large-emote",srcSet:{"1x":Object(ye.d)(t.id,2),"2x":Object(ye.d)(t.id,4)},src:Object(ye.d)(t.id,2),alt:t.token})},we=n("W1jp"),Se=n("HSpZ"),Oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gotItMessage=function(){return Object(c.d)("Got it!","AlreadySubbedRewardCenter")},t.onUnlockEmoteButtonClick=function(){t.props.closeRewardCenter(),t.props.showEmotePicker()},t.onSendSubMessageButtonClick=function(){t.props.closeRewardCenter()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=Object(we.f)(this.props.reward),n="",r=null,i="",o=null;switch(this.props.reward.type){case K.X.CHOSEN_SUB_EMOTE_UNLOCK:case K.X.RANDOM_SUB_EMOTE_UNLOCK:n=Object(c.d)("You already have {streamerName}'s emotes unlocked! Check them out in your emote picker.",{streamerName:this.props.displayName||""},"AlreadySubbedRewardCenter"),r=a.createElement(Se.a,{type:Se.f.Bounce,duration:Se.c.Long,enabled:!0,loop:!0},a.createElement(Ce,{emote:ge})),i=Object(c.d)("Open Emote Picker","AlreadySubbedRewardCenter"),o=this.onUnlockEmoteButtonClick;break;case K.X.SINGLE_MESSAGE_BYPASS_SUB_MODE:n=Object(c.d)("You are already subscribed to {streamerName}! Send messages in Subscriber-Only Chat as much as you want to. Your points were not used.",{streamerName:this.props.displayName||""},"AlreadySubbedRewardCenter"),r=a.createElement(Se.a,{type:Se.f.Bounce,duration:Se.c.Long,enabled:!0,loop:!0},a.createElement(Ce,{emote:ge})),i=this.gotItMessage(),o=this.onSendSubMessageButtonClick;break;default:t=Object(c.d)("Reward","AlreadySubbedRewardCenter"),n=Object(c.d)("You are already subscribed to {streamerName}!",{streamerName:this.props.displayName||""},"AlreadySubbedRewardCenter"),r=a.createElement(Se.a,{type:Se.f.Bounce,duration:Se.c.Long,enabled:!0,loop:!0},a.createElement(Ce,{emote:ge})),i=this.gotItMessage(),o=function(){return e.props.closeRewardCenter()}}return a.createElement(Ee,{errorStateTitle:t,errorStateText:n,errorStateImg:r,buttonText:i,onButtonClick:o})},t}(a.Component);var je,Ne=Object(s.d)(Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter}})),Object(pe.b)((function(e){return{showEmotePicker:e.showEmotePicker}})))(Oe),_e=n("B30r"),Re=n("GsKU"),xe=n("1/wt"),De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e;return e="CommunityPointsUnlockEmoteError"===this.props.error.__typename?Object(_e.e)(this.props.error.code,this.props.onTryAgain):"RedeemCommunityPointsCustomRewardError"===this.props.error.__typename?Object(_e.a)(this.props.error.code):Object(_e.d)(),a.createElement(Re.a,{background:x.d.Alt2,type:xe.a.Error},a.createElement(H.a,{margin:{right:.5,y:.5}},e))},t}(a.Component);!function(e){e.RequiredPoints="RequiredPoints",e.RewardText="RewardText"}(je||(je={}));var Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={buttonState:_.c.Default,error:!1},t.onClick=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return this.props.onClick?(this.setState({buttonState:_.c.Loading}),[4,this.props.onClick()]):[2];case 1:return e=t.sent(),this.setState({buttonState:e?_.c.Success:_.c.Default,error:!e}),[2]}}))}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.cost>this.props.balance;return a.createElement(_.a,{onClick:this.onClick,state:this.state.buttonState,type:this.state.error?_.d.Alert:_.d.Primary,disabled:this.props.disabled||e},a.createElement(R.a,{display:x.g.Flex,flexDirection:x.h.Row},!e&&a.createElement(te.a,{"data-test-selector":je.RewardText},this.props.text),a.createElement(R.a,{padding:{x:.5}},a.createElement(J.b,null)),Object(S.f)(this.props.cost),a.createElement(R.a,{padding:{left:.5},"data-test-selector":je.RequiredPoints},e&&Object(c.d)("Required","SpendPointsButton"))))},t}(a.Component);var Pe=Object(s.d)(Object(p.a)((function(e){return{balance:e.balance}})))(Ie),Te=n("IQZc"),Me=n("g+79"),Le=n("OOag"),Fe=n("EgE3"),Be=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.onClick=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return this.props.channelID?[4,Object(Le.b)(this.props.channelID,this.props.reward,this.props.transactionID)]:[2,!1];case 1:return(e=n.sent()).data&&e.data.redeemCommunityPointsCustomReward?(t=e.data.redeemCommunityPointsCustomReward.error)&&t.code?(this.setState({error:{__typename:t.__typename,code:t.code}}),[2,!1]):(Object(Fe.h)({channelID:this.props.channelID,channelLogin:this.props.channelLogin||"",reward:this.props.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID||""}),this.props.closeRewardCenter(),[2,!0]):(this.setState({error:{__typename:"RedeemCommunityPointsCustomRewardErrorCode",code:K.Ic.FORBIDDEN}}),[2,!1])}}))}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this;return a.createElement(a.Fragment,null,a.createElement(be.a,{showBackButton:!0,title:this.props.reward.title}),a.createElement(he.a,null,a.createElement(fe,{message:this.props.reward.prompt||"",button:this.state.error?a.createElement(De,{error:this.state.error,onTryAgain:function(){return e.props.openReward({direction:ee.a.Back})}}):a.createElement(Te.a,{renderOnInitiallyOutOfStock:this.renderOutOfStockButton(),renderOnRequirementsChange:this.renderRequirementsChangedNotice(),renderOnStockChange:this.renderOutOfStockNotice(),reward:this.props.reward},a.createElement(Pe,{cost:Object(we.c)(this.props.reward),onClick:this.onClick,text:Object(c.d)("Redeem","CustomRewardCheckout")}))},a.createElement(Me.a,{data:this.props.reward,size:Me.b.Large}))))},t.prototype.renderOutOfStockButton=function(){return a.createElement(_.a,{disabled:!0},Object(c.d)("Out of stock! Check back later.","CustomRewardCheckout"))},t.prototype.renderOutOfStockNotice=function(){var e=this;return a.createElement(Re.a,{type:xe.a.Error},a.createElement(R.a,null,Object(V.c)((function(){return e.props.openReward({direction:ee.a.Back})}))))},t.prototype.renderRequirementsChangedNotice=function(){var e=this;return a.createElement(Re.a,{type:xe.a.Error},a.createElement(R.a,null,Object(V.e)(this.props.channelDisplayName||this.props.channelLogin,(function(){return e.props.openReward({direction:ee.a.Back})}))))},t}(a.Component),Ae=n("c0GN"),Ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=Object(we.f)(this.props.reward),t="",n="",r=a.createElement(Me.a,{size:Me.b.Medium,data:this.props.reward});if("CommunityPointsCustomReward"===this.props.reward.__typename)t=this.props.reward.prompt||"";else switch(this.props.reward.type){case K.X.SINGLE_MESSAGE_BYPASS_SUB_MODE:t=Object(we.d)(this.props.reward)||this.getDefaultErrorText(),n=Object(c.d)("Send a Message","InsufficientPointsState");break;case K.X.SEND_HIGHLIGHTED_MESSAGE:t=Object(we.d)(this.props.reward)||this.getDefaultErrorText(),n=Object(c.d)("Highlight Message","InsufficientPointsState");break;default:t=this.getDefaultErrorText(),n=Object(c.d)("Required","InsufficientPointsState")}return a.createElement(a.Fragment,null,a.createElement(be.a,{showBackButton:!0,title:e}),a.createElement(he.a,null,a.createElement(fe,{message:t,button:a.createElement(Pe,{text:n,cost:Object(we.c)(this.props.reward),disabled:!0})},r)))},t.prototype.getDefaultErrorText=function(){return Object(c.d)("You don't have enough points for this reward!","InsufficientPointsState")},t}(a.Component);var Ve=Object(s.d)(Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter}})))(Ue),He=n("RS58"),We=n("dGMd"),qe=n("hQNN");function Ye(e){var t=e.currentUser,n=new Set;return t&&t.emoteSets&&t.emoteSets.forEach((function(e){var t=e.emotes;t&&t.forEach((function(e){e&&e.id&&n.add(e.id)}))})),n}function ze(e,t){return e.filter((function(e){return!t.has(e.id)}))}var Ge=n("XQbB"),Ke=n("TSYQ"),Qe=n("/0dD"),Xe=n("XDQu"),Ze=n("i4Ys"),Je=(n("ltdn"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onClick(t.props.modification.id)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.modification,n=e.selected,r=function(e){var t=e.modification,n=e.theme;if(e.selected)return t.modifierIconLight;return n===Qe.a.Dark?t.modifierIconLight:t.modifierIconDark}(this.props),i=Ke({"select-emote-modification-button":!0,"select-emote-modification-button--selected":!!n});return a.createElement(H.a,{background:x.d.Base,display:x.g.Flex,fullWidth:!0},a.createElement(Ze.a,{type:Ze.b.Alpha,onClick:this.handleClick,disabled:this.props.disabled},a.createElement(H.a,{className:i,display:x.g.Flex,justifyContent:x.l.Center,alignItems:x.b.Center,borderRadius:x.e.Medium,border:!0},a.createElement(ve.a,{srcSet:{"1x":r.url,"2x":r.url2x,"4x":r.url4x},src:r.url,alt:t.title}))))},t}(a.Component));var $e,et=Object(o.b)((function(e){return{theme:Object(Xe.a)(e)}}))(Je);!function(e){e.DisplayedToken="modify-emote-preview-step-presentation__displayed-token"}($e||($e={}));var tt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderEmotePreview=function(e){var t=e.displayedEmote;return a.createElement(a.Fragment,null,a.createElement(R.a,null,a.createElement(Ce,{emote:t})),a.createElement(z.a,{padding:{y:.5}},a.createElement(te.a,{fontSize:x.j.Size5,bold:!0,"data-test-selector":$e.DisplayedToken},t.token)))},t.renderModificationButtons=function(e){var n=e.availableModifications,r=e.selectedModification;return a.createElement(R.a,{display:x.g.Flex,flexWrap:x.i.Wrap,justifyContent:x.l.Center},n.map((function(e){var n=!(!r||r.id!==e.id);return a.createElement(R.a,{padding:{x:.5,bottom:.5},key:e.id},a.createElement(N.a,{label:Object(V.b)(e.title)},a.createElement(et,{modification:e,selected:n,onClick:t.handleModifierSelect,disabled:e.owned})))})))},t.renderPurchaseButton=function(e){var n=e.reward,r=e.selectedModification;return a.createElement(R.a,{padding:{top:2}},t.props.error?a.createElement(De,{error:t.props.error,onTryAgain:function(){return t.props.goToRewardsList()}}):a.createElement(Te.a,{renderOnRequirementsChange:t.renderRequirementsChangedNotice(),reward:t.props.reward},a.createElement(Pe,{cost:Object(we.c)(n),onClick:t.handleCheckoutClick,text:Object(c.d)("Unlock","ModifyEmotePreviewStep"),disabled:null===r})))},t.handleCheckoutClick=function(){return Object(i.__awaiter)(t,void 0,Promise,(function(){return Object(i.__generator)(this,(function(e){return this.props.selectedModification?[2,this.props.onCheckoutClick(this.props.selectedModification.emote)]:[2,!1]}))}))},t.handleModifierSelect=function(e){t.props.onModificationSelect(e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(R.a,{display:x.g.Flex,flexDirection:x.h.Column,flexGrow:1},a.createElement(te.a,null,Object(c.d)("Edit and preview your emote:","ModifyEmotePreviewStepPresentation")),a.createElement(R.a,{flexGrow:1,display:x.g.Flex,flexDirection:x.h.Column,alignItems:x.b.Center,justifyContent:x.l.Center,margin:{top:3,bottom:1}},this.renderEmotePreview(this.props),this.renderModificationButtons(this.props),this.renderPurchaseButton(this.props)))},t.prototype.renderRequirementsChangedNotice=function(){var e=this;return a.createElement(Re.a,{type:xe.a.Error},a.createElement(R.a,null,Object(V.e)(this.props.streamerName,(function(){return e.props.goToRewardsList()}))))},t}(a.Component),nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedModificationId:null},t.logger=c.p.logger.withCategory("ModifyEmotePreviewStep"),t.handleOpenEmotePickerClick=function(){t.props.onOpenEmotePickerClick()},t.handleModificationSelect=function(e){t.setState({selectedModificationId:e})},t.handleCheckoutConfirm=function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:t=!0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.props.onRedeemClick(e)];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),t=!1,this.logger.warn("Failed to redeem emote modification reward"),[3,4];case 4:return[2,t]}}))}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.selectedEmoteVariant,r=t.ownedEmoteIds;if(!function(e,t){var n=e.isUnlockable,r=e.modifications,i=e.emote;return!(!t.has(i.id)&&!n)&&ze(r,t).length>0}(n,r))return a.createElement(fe,{message:Object(c.d)("Youve already unlocked all versions of this emote! Check them out in your emote picker.","ModifyEmotesPreviewStep"),button:a.createElement(_.a,{onClick:this.handleOpenEmotePickerClick},Object(c.d)("Open Emote Picker","ModifyEmotePreviewStep"))},a.createElement(Se.a,{type:Se.f.Bounce,duration:Se.c.Long,enabled:!0,loop:!0},a.createElement(ve.a,{srcSet:{"1x":Object(ye.d)("426170",2),"2x":Object(ye.d)("426170",4)},src:Object(ye.d)("426170",2),alt:Object(c.d)("All versions modified","ModifyEmoteSelectStep")})));var o=n.modifications.find((function(t){return t.id===e.state.selectedModificationId})),s=o?o.emote:n.emote,l=n.modifications.map((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{owned:r.has(e.id)})}));return a.createElement(tt,{availableModifications:l,displayedEmote:s,error:this.props.error,goToRewardsList:this.props.goToRewardsList,onCheckoutClick:this.handleCheckoutConfirm,onModificationSelect:this.handleModificationSelect,reward:this.props.reward,selectedModification:o||null,streamerName:this.props.streamerName})},t}(a.Component);var rt=Object(s.d)(Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter}})))((function(e){var t=e.streamerName?Object(c.d)("What?! {streamerName} doesn't have any emotes to unlock. Your points were not used. Try again later.",{streamerName:e.streamerName},"UnlockSubscriberEmoteCheckout"):Object(c.d)("What?! This streamer doesn't have any emotes to unlock. Your points were not used. Try again later.","UnlockSubscriberEmoteCheckout");return a.createElement(fe,{message:t,button:a.createElement(_.a,{onClick:e.closeRewardCenter},Object(c.d)("Got it!","UnlockSubscriberEmoteCheckout"))},a.createElement(Ce,{emote:ke}))})),it=n("7SjK"),at=n("3Law"),ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={filterString:""},t.handleSearchInputChange=function(e){t.setState({filterString:e.currentTarget.value})},t.handleClickEmote=function(e){t.props.onEmoteSelect(e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(R.a,{display:x.g.Flex,flexDirection:x.h.Column},this.props.description,a.createElement(R.a,{padding:{top:.5}},a.createElement(at.a,{placeholder:Object(c.d)("Search for emotes","SelectEmoteMenu"),value:this.state.filterString,onChange:this.handleSearchInputChange})),a.createElement(R.a,{padding:{top:.5,bottom:3}},this.renderEmotes()))},t.prototype.renderEmotes=function(){var e=this.state.filterString,t=function(e,t){var n=t.toLowerCase();return e.filter((function(e){return[e.displayName,e.token].some((function(e){return e.toLowerCase().includes(n)}))}))}(this.props.emotes,e);return 0===t.length&&e.length>0?a.createElement(te.a,{bold:!0},Object(c.d)('No Search Results for "{filterString}"',{filterString:e},"SelectEmoteMenu")):a.createElement(it.a,{emotes:t,onClickEmote:this.handleClickEmote,spaced:!0})},t}(a.Component);var st,ct=n("OpME"),lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleEmoteSelect=function(e){t.props.onEmoteSelected(e)},t.handleOpenEmotePickerClick=function(){t.props.onOpenEmotePickerClick()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.ownedEmoteIds,t=function(e,t){return e.filter((function(e){return e.isUnlockable||t.has(e.id)}))}(this.props.emoteVariants,e);if(0===this.props.emoteVariants.length||0===t.length)return a.createElement(rt,{streamerName:this.props.displayName});if(t.every((function(t){return 0===ze(t.modifications,e).length})))return a.createElement(fe,{message:Object(c.d)("You already have this channel's emotes unlocked! Check them out in your emote picker.","ModifyEmoteSelectStep"),button:a.createElement(_.a,{onClick:this.handleOpenEmotePickerClick},Object(c.d)("Open Emote Picker","ModifyEmoteSelectStep"))},a.createElement(Se.a,{type:Se.f.Bounce,duration:Se.c.Long,enabled:!0,loop:!0},a.createElement(ve.a,{srcSet:{"1x":Object(ye.d)("426170",2),"2x":Object(ye.d)("426170",4)},src:Object(ye.d)("426170",2),alt:Object(c.d)("All emotes owned","ModifyEmoteSelectStep")})));var n=Object(ct.c)(t.map((function(e){return e.emote})));return a.createElement(ot,{description:Object(c.d)("Select an emote to modify & unlock for 24 hours:","ModifyEmoteCheckout"),emotes:n,onEmoteSelect:this.handleEmoteSelect})},t}(a.Component),ut=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleShareClick=function(){t.props.onShare(t.props.emote)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.emote;return a.createElement(R.a,{display:x.g.Flex,flexGrow:1,flexDirection:x.h.Column},a.createElement(te.a,null,Object(c.d)("You can now use this emote for 24 hours from the emote picker. Happy emote-ing!","ModifyEmoteSuccessStep")),a.createElement(R.a,{flexGrow:1,display:x.g.Flex,flexDirection:x.h.Column,alignItems:x.b.Center,justifyContent:x.l.Center,margin:{top:3,bottom:1}},a.createElement(Se.a,{type:Se.f.Bounce,duration:Se.c.Long,enabled:!0,loop:!0},a.createElement(Ce,{emote:e})),a.createElement(z.a,{padding:{y:.5}},a.createElement(te.a,{fontSize:x.j.Size5,bold:!0},e.token)),a.createElement(R.a,{padding:{top:2}},a.createElement(_.a,{onClick:this.handleShareClick},Object(c.d)("Share Your New Emote","ModifyEmoteSuccessStep")))))},t}(a.Component);!function(e){e.SelectEmote="select-emote",e.Preview="preview",e.Success="success"}(st||(st={}));n("vytO");var dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={step:{type:st.SelectEmote}},t.logger=c.p.logger.withCategory("ModifyEmoteCheckout"),t.renderBody=function(e,n){if(n.data.loading)return a.createElement(R.a,{display:x.g.Flex,flexGrow:1,justifyContent:x.l.Center,alignItems:x.b.Center},a.createElement(Ge.a,null));if(n.data.error)return null;var r=Ye(n.data);switch(e.type){case st.Preview:return t.renderPreviewBody(e,r);case st.Success:return t.renderSuccessBody(e);case st.SelectEmote:default:return t.renderSelectEmoteBody(r)}},t.renderSelectEmoteBody=function(e){return a.createElement(lt,{emoteVariants:t.props.emoteVariants,ownedEmoteIds:e,onEmoteSelected:t.handleEmoteSelect,onOpenEmotePickerClick:t.openEmotePicker,displayName:t.props.displayName})},t.renderPreviewBody=function(e,n){return a.createElement(nt,{error:t.state.error,goToRewardsList:function(){return t.props.openReward({direction:ee.a.Back})},onOpenEmotePickerClick:t.openEmotePicker,onRedeemClick:t.handleRedeemClick,ownedEmoteIds:n,reward:t.props.reward,selectedEmoteVariant:e.selectedEmoteVariant,streamerName:t.props.displayName||t.props.channelLogin})},t.renderSuccessBody=function(e){return a.createElement(ut,{emote:e.emote,onShare:t.handleShare})},t.handleEmoteSelect=function(e){var n=t.props.emoteVariants.find((function(t){return t.emote.id===e.id}));void 0!==n?(t.props.setDirection(ee.a.Forward),t.setStep({type:st.Preview,selectedEmoteVariant:n})):t.logger.debug("Can't find emote variant with ID "+e.id)},t.setStep=function(e){t.setState({step:e})},t.resetState=function(){t.setState({step:{type:st.SelectEmote},error:void 0})},t.openEmotePicker=function(){t.props.showEmotePicker(),t.props.closeRewardCenter()},t.handleBackClicked=function(){switch(t.props.setDirection(ee.a.Back),t.state.step.type){case st.Preview:t.resetState();break;case st.Success:t.resetState(),t.props.openReward({reward:t.props.reward});break;case st.SelectEmote:default:t.props.openReward()}},t.handleRedeemClick=function(e){return Object(i.__awaiter)(t,void 0,Promise,(function(){var t,n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return this.props.channelID&&this.state.step.type===st.Preview?[4,Object(We.d)(this.props.channelID,this.props.reward,e.id,this.props.transactionID)]:[2,!1];case 1:return t=r.sent(),(n=t.data)&&n.unlockChosenModifiedSubscriberEmote?n.unlockChosenModifiedSubscriberEmote.error?(this.setState({error:n.unlockChosenModifiedSubscriberEmote.error}),[2,!1]):(Object(We.f)(e),Object(Fe.h)({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin||"",reward:this.props.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID||""}),this.props.setDirection(ee.a.Forward),this.setStep({type:st.Success,emote:e}),[2,!0]):(this.setState({error:{__typename:"CommunityPointsUnlockEmoteErrorCode",code:K.bb.UNKNOWN}}),[2,!1])}}))}))},t.handleShare=function(e){var n=Object(We.b)({reward:t.props.reward,inputValue:e.token});t.props.setTray(n),t.props.closeRewardCenter()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(be.a,{title:Object(we.f)(this.props.reward),onBackClicked:this.handleBackClicked,showBackButton:!0}),a.createElement(he.a,null,a.createElement(me.a,{duration:j.b.Medium,transitionType:Object(ee.b)(this.props.direction)},a.createElement(R.a,{className:"modify-emote-checkout",display:x.g.Flex,flexGrow:1,key:this.props.transactionID+"_"+this.state.step.type},this.renderBody(this.state.step,this.props)))))},t}(a.Component);var mt=Object(s.d)(Object(k.a)(qe),Object(p.a)((function(e){return{channelLogin:e.channelLogin,displayName:e.displayName,emoteVariants:e.emoteVariants}})),Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter,openReward:e.openReward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID,direction:e.direction,setDirection:e.setDirection}})),Object(He.b)((function(e){return{setTray:e.setTray}})),Object(pe.b)((function(e){return{showEmotePicker:e.showEmotePicker}})))(dt),pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this;return a.createElement(a.Fragment,null,a.createElement(be.a,{showBackButton:!0,title:Object(we.f)(this.props.reward)}),a.createElement(he.a,null,a.createElement(fe,{message:Object(c.d)("This reward is only available when Subscriber-Only mode is enabled.","RewardCenter"),button:a.createElement(_.a,{onClick:function(){return e.props.closeRewardCenter()}},Object(c.d)("Got It!","RewardCenter"))},a.createElement(Me.a,{size:Me.b.Medium,data:this.props.reward}))))},t}(a.Component);var ht=Object(s.d)(Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter}})))(pt),ft=n("hoKo"),bt=n.n(ft),Et=n("gwKQ"),yt=n.n(Et),vt=n("Jsra"),gt=(n("8APF"),function(e){var t=Object(S.d)("Rewards","RewardCenterOnboarding");return e.channelDisplayName&&(t=Object(S.d)("{name}'s Rewards",{name:e.channelDisplayName},"RewardCenterOnboarding")),a.createElement(a.Fragment,null,a.createElement(be.a,{title:t}),a.createElement(he.a,null,a.createElement(R.a,{alignItems:x.b.Center,justifyContent:x.l.Center,position:x.n.Relative,textAlign:x.p.Center,padding:{x:4,y:1}},a.createElement(R.a,{position:x.n.Relative},a.createElement(ve.a,{alt:Object(S.d)("Background","RewardCenterOnboarding"),className:"channel-points-onboarding__background",src:bt.a}),a.createElement(ve.a,{alt:Object(S.d)("Channel Points Icon","RewardCenterOnboarding"),className:"channel-points-onboarding__orb",src:yt.a})),a.createElement(z.a,{margin:{top:.5}},a.createElement(te.a,{bold:!0,fontSize:x.j.Size5},Object(S.d)("Introducing Channel Points!","RewardCenterOnboarding"))),a.createElement(te.a,null,Object(S.d)("Watch {channelDisplayName}. Earn {pointName}. Unlock Rewards! <x:learn>Learn More</x:learn>",{channelDisplayName:e.channelDisplayName||"",pointName:e.pointName,"x:learn":function(e){return a.createElement(vt.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/s/article/channel-points-guide"},e)}},"RewardCenterOnboarding")),a.createElement(R.a,{margin:{top:2,bottom:1}},a.createElement(_.a,{onClick:e.onDismiss},Object(S.d)("Get Started!","RewardCenterOnboarding"))))))}),kt=(n("Y/QB"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){t.props.data&&t.props.openReward({direction:ee.a.Forward,reward:t.props.data})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(R.a,{className:"reward-list-item",margin:{bottom:1}},a.createElement(R.a,{textAlign:x.p.Center},a.createElement(Ze.a,{borderRadius:x.e.Medium,onClick:this.onClick},a.createElement(Me.a,{data:this.props.data,showCost:!0,size:Me.b.Large,animateOnHover:!0})),a.createElement(R.a,{padding:{top:.5}},a.createElement(te.a,{fontSize:x.j.Size7,lines:2,ellipsis:!0,wordBreak:te.g.BreakWord},Object(we.f)(this.props.data)))))},t}(a.Component)),Ct=Object(s.d)(Object(h.b)((function(e){return e})))(kt),wt=n("Lqow"),St=(n("SxLA"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={sortedRewards:[]},t}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e){var t=Object(i.__spreadArrays)(e.automaticRewards,e.customRewards);return{sortedRewards:Object(wt.a)(t)}},t.prototype.render=function(){var e=Object(S.d)("Rewards","RewardsList"),t=this.props.displayName||this.props.channelLogin;t&&(e=Object(S.d)("{name}'s Rewards",{name:t},"RewardsList"));var n=this.state.sortedRewards.map((function(e){return a.createElement(Ct,{key:e.id,data:e})}));return a.createElement(a.Fragment,null,a.createElement(be.a,{title:e,activeMultipliers:this.props.activeMultipliers}),a.createElement(he.a,null,this.renderRewardCenterBody(n,t)))},t.prototype.renderRewardCenterBody=function(e,t){var n=this,r=Object(S.d)("Sorry! This streamer has disabled their rewards. Don't worry, you're still earning {pointName}!",{pointName:this.props.pointName||Object(V.a)()},"RewardsListDisabled");return t&&(r=Object(S.d)("Sorry! {name} has disabled their rewards. Don't worry, you're still earning {pointName}!",{name:t,pointName:this.props.pointName||Object(V.a)()},"RewardsListDisabled")),e.length>0?a.createElement(R.a,{display:x.g.Flex,flexWrap:x.i.Wrap,padding:{bottom:1},className:"rewards-list"},e,a.createElement(R.a,{fullWidth:!0,display:x.g.Flex,alignItems:x.b.Center,justifyContent:x.l.Center},a.createElement(_.a,{size:_.b.Small,type:_.d.Secondary,onClick:function(){return n.props.openEarnRatesList()}},a.createElement(R.a,{display:x.g.Flex,alignItems:x.b.Center},a.createElement(R.a,{padding:{right:1}},a.createElement(J.b,{iconSize:J.a.Small})),Object(S.d)("How to Earn {pointName}",{pointName:this.props.pointName||Object(V.a)()},"RewardsListEarnButton"))))):a.createElement(fe,{message:r,button:a.createElement(_.a,{onClick:this.props.closeRewardCenter},Object(S.d)("Got it!","RewardsListDisabledButton"))},a.createElement(Ce,{emote:ke}))},t}(a.Component));var Ot,jt,Nt=Object(s.d)(Object(p.a)((function(e){return{automaticRewards:e.automaticRewards,channelLogin:e.channelLogin,customRewards:e.customRewards,displayName:e.displayName,activeMultipliers:e.activeMultipliers,pointName:e.pointName}})),Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter,openEarnRatesList:e.openEarnRatesList}})))(St);n("f7m9");!function(e){e.ShareEmoteButton="share-new-emote-button",e.NoEmotesToUnlock="no-emotes-to-unlock"}(Ot||(Ot={})),function(e){e[e.SelectEmote=0]="SelectEmote",e[e.Checkout=1]="Checkout",e[e.Redeemed=2]="Redeemed"}(jt||(jt={}));var _t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={redeemed:!1,step:jt.SelectEmote},t.renderBody=function(e,n){if(n.data.loading)return a.createElement(R.a,{display:x.g.Flex,flexGrow:1,justifyContent:x.l.Center,alignItems:x.b.Center},a.createElement(Ge.a,null));if(n.data.error)return a.createElement("div",null);var r=Ye(n.data),i=Object(ct.c)(t.props.emoteVariants.filter((function(e){return e.isUnlockable&&!r.has(e.id)})).map((function(e){return e.emote})));if(0===t.props.emoteVariants.length)return a.createElement(rt,{streamerName:t.props.displayName});if(0===i.length&&t.state.step!==jt.Redeemed)return t.renderNoEmotesToUnlock();switch(e){case jt.Checkout:return t.renderCheckout();case jt.Redeemed:return t.renderSuccessfulCheckout();case jt.SelectEmote:default:return t.renderSelectEmote(i)}},t.openEmotePicker=function(){t.props.closeRewardCenter(),t.props.showEmotePicker()},t.resetState=function(){t.setState({redeemed:!1,step:jt.SelectEmote,selectedEmote:void 0,error:void 0})},t.onBackClicked=function(){switch(t.props.setDirection(ee.a.Back),t.state.step){case jt.Checkout:return void t.resetState();case jt.Redeemed:return t.resetState(),void t.props.openReward({reward:t.props.reward});case jt.SelectEmote:default:return void t.props.openReward()}},t.selectEmote=function(e){t.props.setDirection(ee.a.Forward),t.setState({selectedEmote:e,step:jt.Checkout})},t.onRedeemClick=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return this.props.channelID&&this.state.selectedEmote?[4,Object(We.c)(this.props.channelID,this.props.reward,this.state.selectedEmote.id,this.props.transactionID)]:[2,!1];case 1:return(e=t.sent()).data&&e.data.unlockChosenSubscriberEmote?e.data.unlockChosenSubscriberEmote.error?(this.setState({error:e.data.unlockChosenSubscriberEmote.error}),[2,!1]):(Object(We.f)(this.state.selectedEmote),this.props.setDirection(ee.a.Forward),this.setState({step:jt.Redeemed}),Object(Fe.h)({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin||"",reward:this.props.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID||""}),[2,!0]):(this.setState({error:{__typename:"CommunityPointsUnlockEmoteErrorCode",code:K.bb.UNKNOWN}}),[2,!1])}}))}))},t.onShareClick=function(){var e=Object(We.b)({reward:t.props.reward,inputValue:t.state.selectedEmote?t.state.selectedEmote.token:""});t.props.setTray(e),t.props.closeRewardCenter()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(be.a,{onBackClicked:this.onBackClicked,showBackButton:!0,title:Object(we.f)(this.props.reward)}),a.createElement(he.a,null,a.createElement(me.a,{duration:j.b.Medium,transitionType:Object(ee.b)(this.props.direction)},a.createElement(R.a,{className:"unlock-chosen-emote-checkout",display:x.g.Flex,flexGrow:1,key:this.props.transactionID+"_"+this.state.step},this.renderBody(this.state.step,this.props)))))},t.prototype.renderNoEmotesToUnlock=function(){var e=Object(c.d)("You already have this streamer's emotes unlocked! Check them out in your emote picker.","UnlockSubscriberEmoteCheckout");return this.props.displayName&&(e=Object(c.d)("You already have {streamerName}'s emotes unlocked! Check them out in your emote picker.",{streamerName:this.props.displayName},"UnlockSubscriberEmoteCheckout")),a.createElement(fe,{message:e,button:a.createElement(_.a,{onClick:this.openEmotePicker},Object(c.d)("Open Emote Picker","UnlockSubscriberEmoteCheckout")),"data-test-selector":Ot.NoEmotesToUnlock},a.createElement(Se.a,{type:Se.f.Bounce,duration:Se.c.Long,enabled:!0,loop:!0},a.createElement(Ce,{emote:ge})))},t.prototype.renderSelectEmote=function(e){return a.createElement(ot,{emotes:e,onEmoteSelect:this.selectEmote,description:Object(we.d)(this.props.reward)||void 0})},t.prototype.renderCheckout=function(){var e=this;return a.createElement(fe,{message:Object(c.d)("Is this the emote you want? If so, unlock it below!","UnlockSubscriberEmoteCheckout"),button:this.state.error?a.createElement(De,{error:this.state.error,onTryAgain:function(){return e.props.openReward({direction:ee.a.Back})}}):a.createElement(Te.a,{renderOnRequirementsChange:this.renderRequirementsChangedNotice(),reward:this.props.reward},a.createElement(Pe,{cost:Object(we.c)(this.props.reward),onClick:this.onRedeemClick,text:Object(c.d)("Unlock","UnlockSubscriberEmoteCheckout")}))},this.state.selectedEmote&&a.createElement(R.a,{textAlign:x.p.Center},a.createElement(Ce,{emote:this.state.selectedEmote}),a.createElement(R.a,{margin:{top:.5}},a.createElement(te.a,{bold:!0,fontSize:x.j.Size5},this.state.selectedEmote.token))))},t.prototype.renderRequirementsChangedNotice=function(){var e=this;return a.createElement(Re.a,{type:xe.a.Error},a.createElement(R.a,null,Object(V.e)(this.props.displayName||this.props.channelLogin,(function(){return e.props.openReward({direction:ee.a.Back})}))))},t.prototype.renderSuccessfulCheckout=function(){var e=Object(c.d)("Congratulations! You can now use this emote for 24 hours from the emote picker. Happy emote-ing!","UnlockSubscriberEmoteCheckout");return this.state.selectedEmote&&(e=Object(c.d)("Congratulations! You can now use {emoteName} for 24 hours from the emote picker. Happy emote-ing!",{emoteName:this.state.selectedEmote.token},"UnlockSubscriberEmoteCheckout")),a.createElement(fe,{message:e,button:a.createElement(_.a,{"data-test-selector":Ot.ShareEmoteButton,onClick:this.onShareClick},Object(c.d)("Share Your Emote","UnlockSubscriberEmoteCheckout")),"data-test-selector":Ot.NoEmotesToUnlock},this.state.selectedEmote&&a.createElement(R.a,{textAlign:x.p.Center},a.createElement(Se.a,{type:Se.f.Bounce,duration:Se.c.Long,enabled:!0,loop:!0},a.createElement(Ce,{emote:this.state.selectedEmote})),a.createElement(R.a,{margin:{top:.5}},a.createElement(te.a,{bold:!0,fontSize:x.j.Size5},this.state.selectedEmote.token))))},t}(a.Component);var Rt,xt=Object(s.d)(Object(k.a)(qe),Object(He.b)((function(e){return{setTray:e.setTray}})),Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter,openReward:e.openReward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID,direction:e.direction,setDirection:e.setDirection}})),Object(p.a)((function(e){return{channelLogin:e.channelLogin,displayName:e.displayName,emoteVariants:e.emoteVariants}})),Object(pe.b)((function(e){return{showEmotePicker:e.showEmotePicker}})))(_t),Dt=n("pTc6"),It=n.n(Dt),Pt=n("X6r6"),Tt=n.n(Pt),Mt=n("ji5J"),Lt=n.n(Mt);!function(e){e.CheckoutSuccessStep="checkout-success-step"}(Rt||(Rt={}));var Ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={redeemed:!1},t.onBackClicked=function(){if(t.props.setDirection(ee.a.Back),t.state.redeemed)return t.setState({redeemed:!1,unlockedEmote:void 0,error:void 0}),void t.props.openReward({reward:t.props.reward});t.props.openReward()},t.onRedeemClick=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return this.props.channelID?[4,Object(We.e)(this.props.channelID,this.props.reward,this.props.transactionID)]:[2,!1];case 1:return(e=t.sent()).data&&e.data.unlockRandomSubscriberEmote&&e.data.unlockRandomSubscriberEmote.emote?e.data.unlockRandomSubscriberEmote.error?(this.setState({error:e.data.unlockRandomSubscriberEmote.error}),[2,!1]):(Object(We.f)(e.data.unlockRandomSubscriberEmote.emote),this.props.setDirection(ee.a.Forward),this.setState({unlockedEmote:e.data.unlockRandomSubscriberEmote.emote,redeemed:!0}),Object(Fe.h)({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin||"",reward:this.props.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID||""}),[2,!0]):(this.setState({error:{__typename:"CommunityPointsUnlockEmoteErrorCode",code:K.bb.UNKNOWN}}),[2,!1])}}))}))},t.onShareClick=function(){var e=Object(We.b)({reward:t.props.reward,inputValue:t.state.unlockedEmote?t.state.unlockedEmote.token:""});t.props.setTray(e),t.props.closeRewardCenter()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(be.a,{onBackClicked:this.onBackClicked,showBackButton:!0,title:Object(we.f)(this.props.reward)}),a.createElement(me.a,{duration:j.b.Medium,transitionType:Object(ee.b)(this.props.direction)},a.createElement(he.a,{key:this.props.transactionID+"_"+(this.state.redeemed?" redeemed":"checkout")},this.renderBody())))},t.prototype.renderBody=function(){return 0===this.props.emoteVariants.length?a.createElement(rt,{streamerName:this.props.channelDisplayName}):this.state.redeemed?this.renderSuccessfulCheckout():this.renderCheckoutState()},t.prototype.renderCheckoutState=function(){var e=this;return a.createElement(fe,{key:"checkout",message:Object(c.d)("{streamerName} has {emoteCount} unlockable emotes. Click below to unlock one random emote to chat with for 24 hours!",{streamerName:this.props.channelDisplayName||"",emoteCount:this.props.emoteVariants.filter((function(e){return e.isUnlockable})).length},"UnlockRandomEmoteCheckout"),button:this.state.error?a.createElement(De,{error:this.state.error,onTryAgain:function(){return e.props.openReward({direction:ee.a.Back})}}):a.createElement(Te.a,{renderOnRequirementsChange:this.renderRequirementsChangedNotice(),reward:this.props.reward},a.createElement(Pe,{cost:Object(we.c)(this.props.reward),onClick:this.onRedeemClick,text:Object(c.d)("Unlock a Random Emote","UnlockRandomEmoteCheckout")}))},a.createElement(ve.a,{alt:Object(c.d)("Unlock a random emote artwork","UnlockRandomEmoteCheckout"),src:It.a,srcSet:{"1x":It.a,"2x":Tt.a,"4x":Lt.a}}))},t.prototype.renderRequirementsChangedNotice=function(){var e=this;return a.createElement(Re.a,{type:xe.a.Error},a.createElement(R.a,null,Object(V.e)(this.props.channelDisplayName||this.props.channelLogin,(function(){return e.props.openReward({direction:ee.a.Back})}))))},t.prototype.renderSuccessfulCheckout=function(){var e=Object(c.d)("You can now use this emote for 24 hours from the emote picker. Happy emote-ing!","UnlockRandomEmoteCheckout");return this.state.unlockedEmote&&(e=Object(c.d)("You can now use {emoteName} for 24 hours from the emote picker. Happy emote-ing!",{emoteName:this.state.unlockedEmote.token},"UnlockRandomEmoteCheckout")),a.createElement(fe,{key:"redemeed",message:e,button:a.createElement(_.a,{onClick:this.onShareClick,"data-test-selector":Rt.CheckoutSuccessStep},Object(c.d)("Share Your New Emote","UnlockRandomEmoteCheckout"))},this.state.unlockedEmote&&a.createElement(R.a,{textAlign:x.p.Center},a.createElement(Se.a,{type:Se.f.Bounce,duration:Se.c.Long,enabled:!0,loop:!0},a.createElement(Ce,{emote:this.state.unlockedEmote})),a.createElement(R.a,{margin:{top:.5}},a.createElement(te.a,{bold:!0,fontSize:x.j.Size5},this.state.unlockedEmote.token))))},t}(a.Component);var Bt=Object(s.d)(Object(He.b)((function(e){return{setTray:e.setTray}})),Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter,openReward:e.openReward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID,direction:e.direction,setDirection:e.setDirection}})),Object(p.a)((function(e){return{emoteVariants:e.emoteVariants}})))(Ft),At=(n("nx6a"),"channelPointsOnboardingDismissed"),Ut=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={onboardingDismissed:c.m.get(At,!1)},t.onClickOut=function(){t.props.closeRewardCenter()},t.dismissOnboarding=function(){t.props.setDirection(ee.a.None),t.setState({onboardingDismissed:!0}),c.m.set(At,!0)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){c.m.get("channelPointsShouldOpenRewardCenter",!1)&&(c.m.remove("channelPointsShouldOpenRewardCenter"),this.props.openReward({direction:ee.a.OpenRewardCenter}))},t.prototype.render=function(){return a.createElement(l.a,{onClickOut:this.onClickOut},a.createElement(ce,{buttonDisabled:this.props.buttonDisabled}),a.createElement(j.a,{duration:j.b.Medium,show:this.props.isRewardCenterOpen,type:j.c.SlideOverBottom},a.createElement(ue.a,{popoverId:"channel-points-reward-center",direction:de.b.TopLeft,size:de.c.Auto,show:!0,maxHeight:"32rem",offsetY:"4rem"},a.createElement(me.a,{duration:j.b.Medium,transitionType:Object(ee.b)(this.props.direction)},a.createElement(R.a,{display:x.g.Flex,flexDirection:x.h.Column,className:"reward-center__content",key:this.getKey()},this.renderChild())))))},t.prototype.getKey=function(){return this.state.onboardingDismissed?this.props.rewardCenterState.type:"onboarding"},t.prototype.renderChild=function(){if(!this.state.onboardingDismissed)return a.createElement(gt,{channelDisplayName:this.props.displayName||this.props.channelLogin,pointName:this.props.pointName||Object(V.a)(),onDismiss:this.dismissOnboarding});switch(this.props.rewardCenterState.type){case le.a.CustomReward:return a.createElement(Be,{channelDisplayName:this.props.displayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,closeRewardCenter:this.props.closeRewardCenter,openReward:this.props.openReward,reward:this.props.rewardCenterState.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID});case le.a.UnlockRandomEmote:return a.createElement(Bt,{channelDisplayName:this.props.displayName||this.props.channelLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,reward:this.props.rewardCenterState.reward});case le.a.UnlockChosenSubscriberEmote:return a.createElement(xt,{channelID:this.props.channelID,reward:this.props.rewardCenterState.reward});case le.a.ModifyEmote:return a.createElement(mt,{reward:this.props.rewardCenterState.reward,channelID:this.props.channelID});case le.a.AlreadySubbed:return a.createElement(Ne,{reward:this.props.rewardCenterState.reward,displayName:this.props.displayName||this.props.channelLogin});case le.a.NotSubOnlyMode:return a.createElement(ht,{reward:this.props.rewardCenterState.reward});case le.a.NotEnoughPoints:return a.createElement(Ve,{reward:this.props.rewardCenterState.reward,displayName:this.props.displayName||this.props.channelLogin,channelID:this.props.channelID});case le.a.NotLoggedIn:this.handleLogin();break;case le.a.NotSubbed:break;case le.a.EarnRates:return a.createElement(a.Fragment,null,a.createElement(be.a,{showBackButton:!0,title:Object(c.d)("How to Earn {pointName}",{pointName:this.props.pointName||Object(V.a)()},"EarnRatesState")}),a.createElement(he.a,null,a.createElement(Ae.a,{channelLogin:this.props.channelLogin,earnRates:this.props.earning,padding:{x:2}})));case le.a.ListRewards:default:return a.createElement(Nt,null)}},t.prototype.handleLogin=function(){var e={targetChannel:this.props.channelLogin,showContext:!0,onComplete:function(){c.m.set("channelPointsShouldOpenRewardCenter",!0)}};this.props.login(e)},t}(a.Component);var Vt=Object(s.d)(Object(o.b)(null,(function(e){return Object(s.b)({login:function(e){return Object(d.e)(u.a.ChannelPoints,e)}},e)})),Object(p.a)((function(e){return{channelID:e.channelID,channelLogin:e.channelLogin,displayName:e.displayName,pointName:e.pointName,earning:e.earning}})),Object(h.b)((function(e){return e})))(Ut);n.d(t,"LOCAL_STORAGE_CHANNEL_POINTS_ONBOARDING_KEY",(function(){return At})),n.d(t,"LOCAL_STORAGE_CHANNEL_POINTS_REWARD_CENTER_OPEN_KEY",(function(){return"channelPointsShouldOpenRewardCenter"})),n.d(t,"RewardCenterComponent",(function(){return Ut})),n.d(t,"RewardCenter",(function(){return Vt}))},gjFE:function(e,t,n){},gwKQ:function(e,t,n){e.exports=n.p+"assets/orb_colorful-b79ba34a5ba00330df52.png"},hQNN:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ModifyEmoteOwnedEmotes"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:82}};n.loc.source={body:"query ModifyEmoteOwnedEmotes {\ncurrentUser {\nid\nemoteSets {\nid\nemotes {\nid\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.ModifyEmoteOwnedEmotes=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"ModifyEmoteOwnedEmotes")},hoKo:function(e,t,n){e.exports=n.p+"assets/orb_background-38c0df0967a556d270cd.png"},ji5J:function(e,t,n){e.exports=n.p+"assets/random_emote_checkout_4x-f44661b71a7d0cb4ce43.png"},ltdn:function(e,t,n){},maHM:function(e,t,n){},n4RV:function(e,t,n){},nx6a:function(e,t,n){},p5Bz:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPointsAvailableEarns"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limitedEarnings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerAvailableAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionGiftAvailableAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:207}};n.loc.source={body:"query ChannelPointsAvailableEarns($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nchannel {\nid\nself {\ncommunityPoints {\nlimitedEarnings {\nid\ncheerAvailableAt\nsubscriptionGiftAvailableAt\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.ChannelPointsAvailableEarns=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"ChannelPointsAvailableEarns")},pTc6:function(e,t,n){e.exports=n.p+"assets/random_emote_checkout-f97bd78a03eb2d11f107.png"},qwRY:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),a=n("q1tI"),o=n("vCsY"),s=n("7d/q"),c=n("uKd/"),l=n("Ws8v"),u=n("yymn"),d=n("sUnt"),m=n("hnjF"),p=n("2Ob2"),h=n("b7S+"),f=n("+80q"),b=n("X2PJ"),E=function(e){var t=e.title,n=e.subtitle;return a.createElement(a.Fragment,null,a.createElement(b.a,{textAlign:u.p.Center,fontWeight:u.k.SemiBold},a.createElement(f.a,{type:f.e.H5,color:e.overlay?u.f.Overlay:u.f.Alt},t)),n?a.createElement(m.a,{textAlign:u.p.Center},a.createElement(f.a,{type:f.e.H6,color:e.overlay?u.f.OverlayAlt:u.f.Alt2},n)):null)};E.displayName="PopoverTitle";var y=Object(p.c)(E);n("FM5L");n.d(t,"a",(function(){return k}));var v=function(e){var t,n=e.buttonLeftPrimary||e.buttonLeftSecondary,r=e.buttonLeftPrimary&&e.buttonLeftSecondary,s=e.buttonRightPrimary||e.buttonRightSecondary,c=e.buttonRightPrimary&&e.buttonRightSecondary;return a.createElement(l.a,i()({},Object(o.a)(e),{className:"tw-popover-header",color:e.overlay?u.f.Overlay:u.f.Base,borderRadius:{topLeft:u.e.Medium,topRight:u.e.Medium},elevation:1,padding:{y:.5,x:1},display:u.g.Flex,flexShrink:0}),n||s?a.createElement(d.a,{display:u.g.Flex,flexDirection:u.h.Column,justifyContent:u.l.Center,margin:{right:.5},className:"tw-popover-header__icon-slot--left"},g(n)):null,r||c?a.createElement(d.a,{display:u.g.Flex,flexDirection:u.h.Column,justifyContent:u.l.Center,margin:{right:.5},className:"tw-popover-header__icon-slot--left"},g(r)):null,a.createElement(m.a,{flexGrow:1,justifyContent:u.l.Center,alignItems:u.b.Center,flexDirection:u.h.Column,display:u.g.Flex},a.createElement("div",{id:e.popoverId+"-header"},(t=e.title)&&t.hasOwnProperty("title")?a.createElement(y,{title:e.title.title,subtitle:e.title.subtitle}):e.title)),r||c?a.createElement(d.a,{display:u.g.Flex,flexDirection:u.h.Column,justifyContent:u.l.Center,margin:{left:.5},className:"tw-popover-header__icon-slot--right"},g(c)):null,n||s?a.createElement(d.a,{display:u.g.Flex,flexDirection:u.h.Column,justifyContent:u.l.Center,margin:{left:.5},className:"tw-popover-header__icon-slot--right"},g(s,!0)):null)};function g(e,t){if(void 0===t&&(t=!1),!e)return null;var n=t?a.createElement(c.a,i()({},e,{type:s.c.Secondary,title:void 0})):a.createElement(s.a,i()({},e,{type:s.c.Secondary,title:void 0}));return e.title?a.createElement(h.a,{label:e.title,align:h.b.Center,direction:h.c.Bottom},n):n}v.displayName="PopoverHeaderComponent",v.displayName="PopoverHeader";var k=Object(p.c)(v)},uHaE:function(e,t,n){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPointsAvailableClaim"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"availableClaimFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsBalanceFragment"},directives:[]}]}}]}}],loc:{start:0,end:315}};r.loc.source={body:'#import "twilight/features/community-points/models/available-claim-fragment.gql"\n#import "twilight/features/community-points/models/balance-fragment.gql"\nquery CommunityPointsAvailableClaim($channelID: ID!) {\ncommunity: user(id: $channelID) {\nid\nlogin\n...availableClaimFragment\n...communityPointsBalanceFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))}r.definitions=r.definitions.concat(a(n("hgww").definitions)),r.definitions=r.definitions.concat(a(n("VIQE").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}r.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=r,e.exports.CommunityPointsAvailableClaim=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=o[t]||new Set,i=new Set,a=new Set;for(r.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return i.forEach((function(t){var r=s(e,t);r&&n.definitions.push(r)})),n}(r,"CommunityPointsAvailableClaim")},uhve:function(e,t,n){},vytO:function(e,t,n){},zY44:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("VbXa"),i=n.n(r),a=n("q1tI"),o=n("PHNs"),s=n.n(o),c=n("fNzW"),l=(n("uhve"),function(e){function t(t){var n;return(n=e.call(this,t)||this).state={currentValue:t.value,prevValue:void 0!==t.initialValue?t.initialValue:t.value},n}i()(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e=this;this.props.value!==this.state.currentValue&&this.setState((function(t){return{currentValue:e.props.value,prevValue:t.currentValue}}))},n.render=function(){return a.createElement(s.a,{className:Object(c.a)({"tw-animated-number":!0,"tw-animated-number--monospaced":this.props.monospaced}),duration:this.props.duration,end:this.state.currentValue,start:this.state.prevValue,formattingFn:this.props.formatValue})},t}(a.Component));l.displayName="AnimatedNumber",l.defaultProps={duration:.7,monospaced:!0}},zb36:function(e,t,n){"use strict";var r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e.FrequentlyUsed="frequently_used",e.CurrentChannel="current_channel",e.OtherChannel="other_subbed_channel",e.Unlocked="unlocked",e.Global="global"}(r||(r={})),function(e){e.EmotePicker="emote_picker",e.EmotePickerSubscriptionPreview="emote_picker_subscription_preview",e.EmotePickerBitsPreview="emote_picker_bits_preview"}(i||(i={}))},zg3r:function(e,t,n){"use strict";var r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e.CHEER="CHEER",e.CLAIM="CLAIM",e.FOLLOW="FOLLOW",e.PRIME_SUB="PRIME_SUB",e.RAID="RAID",e.REFUND="REFUND",e.SUB_GIFT="SUB_GIFT",e.WATCH="WATCH",e.WATCH_STREAK="WATCH_STREAK"}(r||(r={})),function(e){e.ACTION_TAKEN="ACTION_TAKEN",e.CANCELED="CANCELED",e.FULFILLED="FULFILLED",e.REPORTED="REPORTED",e.UNFULFILLED="UNFULFILLED"}(i||(i={}))}}]);