(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"2Dht":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WhisperThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLastMessageRead"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:347}};t.loc.source={body:"query WhisperThread($id: ID!) {\nwhisperThread(id: $id) {\nid\nuserLastMessageRead {\nid\nsentAt\n__typename\n}\nunreadMessagesCount\nmessages(first: 20) {\nedges {\ncursor\nnode {\nid\nnonce\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n__typename\n}\n__typename\n}\nfrom {\nid\n}\nsentAt\neditedAt\ndeletedAt\n__typename\n}\n__typename\n}\n__typename\n}\n__typename\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.WhisperThread=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"WhisperThread")},"3HtZ":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Mods"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mods"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:107}};t.loc.source={body:"query Mods($login: String!) {\nuser(login: $login) {\nid\nmods(first: 100) {\nedges {\nnode {\nid\nlogin\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Mods=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"Mods")},"3YIm":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendWhisper"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendWhisperInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendWhisper"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"receive"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:352}};t.loc.source={body:"mutation SendWhisper($input: SendWhisperInput!) {\nsendWhisper(input: $input) {\nmessage {\nid\nnonce\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n__typename\n}\n__typename\n}\nfrom {\nid\n__typename\n}\nsentAt\neditedAt\ndeletedAt\nthread {\nid\nparticipants {\nid\nself {\nwhisperPermissions {\nreceive\n}\n}\n}\n}\n__typename\n}\nerror {\ncode\n__typename\n}\n__typename\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.SendWhisper=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"SendWhisper")},"5Siz":function(e,n,t){"use strict";var i;t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return a})),function(e){e.PopoutChat="popout_chat",e.Chat="chat",e.LiveDashButton="live_dashboard_button",e.LiveDashHotkey="live_dashboard_hotkey",e.LiveDashChat="live_dashboard_chat"}(i||(i={}));var a=140},AKV8:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t("mrSG"),a=t("yR8l"),r=t("4HoE");function o(e){var n=this;return Object(a.b)(r,{props:function(t){return{modUserMutation:function(a){return Object(i.__awaiter)(n,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return(n=e(t.ownProps).channelID)?[4,t.mutate({variables:{input:{channelID:n,targetLogin:a}}})]:[3,2];case 1:return[2,i.sent().data];case 2:throw new Error("modUser mutation is not ready")}}))}))}}}})}},Awl1:function(e,n,t){"use strict";var i=t("mrSG"),a=t("q1tI"),r=t("ANjH"),o=t("yR8l"),s=t("wUQP"),d=t("DLI4"),l=t("8D7W"),c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props.fallback;if(!this.props.data)return e||null;var n=this.props.data.channel;return n&&n.roles&&n.roles.isAffiliate||n&&n.roles&&n.roles.isPartner?a.createElement(a.Fragment,null,this.props.children):e||null},n}(a.Component),u=Object(r.d)(Object(o.a)(l,{skip:function(){return!Object(s.c)(d.a)},options:function(e){return{variables:{login:e.channelLogin}}}}))(c);t.d(n,"a",(function(){return u}))},BdUW:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("SSXq"),a=t("EgE3");function r(e,n,t,r){Object(a.k)(e,n,t);var o="/popout/"+n+"/reward-queue";r&&(o+="?rewardID="+r);var s=window.open(Object(i.a)(o),"_blank","right=50,top=50,width=900,height=800,resizable=no,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");s&&s.focus()}},BhFH:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var i=t("mrSG"),a=t("w09P"),r=t("yR8l"),o=t("ru7j"),s=t("kSkr");function d(){return Object(r.b)(s,{props:function(e){return{blockUserMutation:function(n,t,r){return e.mutate({variables:{input:{targetUserID:n,sourceContext:r,reason:t}},optimisticResponse:{blockUser:{__typename:"BlockUserPayload",targetUser:{__typename:"User",id:n}}},update:function(e){var t=null;try{t=e.readQuery({query:o})}catch(e){return}(null==t?void 0:t.currentUser)&&e.writeQuery({query:o,data:a(t,(function(e){return e.currentUser.blockedUsers}),(function(e){return Object(i.__spreadArrays)(e,[{id:n,__typename:"User"}])}))})}})}}}})}},"CpU+":function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t("mrSG"),a=t("yR8l"),r=t("JiJH");function o(){var e=this;return Object(a.a)(r,{props:function(n){return{unVIPUserMutation:function(t){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return n.mutate&&n.ownProps.channelID?[4,n.mutate({variables:{input:{channelID:n.ownProps.channelID,revokeeLogin:t}}})]:[2];case 1:return[2,e.sent().data]}}))}))}}}})}},CzFK:function(e,n,t){"use strict";t.d(n,"f",(function(){return i})),t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return r})),t.d(n,"d",(function(){return o})),t.d(n,"e",(function(){return s})),t.d(n,"g",(function(){return d})),t.d(n,"a",(function(){return l})),t.d(n,"l",(function(){return c})),t.d(n,"h",(function(){return u})),t.d(n,"i",(function(){return m})),t.d(n,"j",(function(){return p})),t.d(n,"m",(function(){return f})),t.d(n,"k",(function(){return h})),t.d(n,"n",(function(){return v}));var i="whispers.THREAD_OPENED",a="whispers.THREAD_CLOSED",r="whispers.THREAD_COLLAPSED",o="whispers.THREAD_EXPANDED",s="whispers.THREAD_FOCUSED",d="whispers.THREAD_UNFOCUSED",l="whispers.CONTENT_RESIZED";function c(e,n){return{type:i,data:e,contentWidth:n}}function u(e,n){return{type:a,threadID:e,contentWidth:n}}function m(e,n){return{type:r,threadID:e,contentWidth:n}}function p(e,n){return{type:o,threadID:e,contentWidth:n}}function f(e){return{type:l,contentWidth:e}}function h(e,n){return{type:s,threadID:e,contentWidth:n}}function v(e,n){return{type:d,threadID:e,contentWidth:n}}},JiJH:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnVIPUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevokeVIPInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revokeVIP"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"revokee"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:126}};t.loc.source={body:"mutation UnVIPUser($input: RevokeVIPInput!){\nrevokeVIP(input: $input) {\nchannel {\nid\n}\nrevokee {\nid\nlogin\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UnVIPUser=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"UnVIPUser")},NIpN:function(e,n,t){"use strict";var i=t("/MKj"),a=t("ANjH"),r=t("yR8l"),o=t("XDCx"),s=t("ati1"),d=t("mrSG"),l=t("q1tI"),c=t("/7QA"),u=t("atdg"),m=t("geRD"),p=t("sUnt"),f=t("yymn"),h=t("zTPm"),v=t("76Xh"),g=t("jqPd"),b=t("+80q"),k=t("PCM+"),y=t("dEDE"),S=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={archivingPoll:!1,archivingPollError:!1},n.deletePoll=function(){return Object(d.__awaiter)(n,void 0,void 0,(function(){return Object(d.__generator)(this,(function(e){switch(e.label){case 0:this.setState({archivingPoll:!0}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.props.archivePoll(Object(m.a)({pollID:this.props.pollID}))];case 2:return e.sent(),this.props.closeModal(),[3,4];case 3:return e.sent(),this.setState({archivingPollError:!0}),[3,4];case 4:return this.setState({archivingPoll:!1}),[2]}}))}))},n}return Object(d.__extends)(n,e),n.prototype.render=function(){return l.createElement(p.a,{display:f.g.Flex,justifyContent:f.l.Center},l.createElement(h.a,{size:h.b.Small},l.createElement(v.a,{id:u.a,title:Object(c.d)("Delete Poll","Polls--DeletePollModal"),closeButton:{ariaLabel:Object(c.d)("Close","Polls--DeletePollModal"),onClick:this.props.closeModal}}),l.createElement(g.a,null,l.createElement(p.a,{display:f.g.Flex,flexDirection:f.h.Column,padding:{left:2,right:2,bottom:1,top:1}},l.createElement(b.a,null,Object(c.d)("Bits cheered in this poll will not be refunded to the Cheerer. Are you sure you want to archive this poll?","Polls--DeletePollModal")))),l.createElement(k.a,{secondaryButtonProps:{ariaLabel:Object(c.d)("Cancel","Polls--DeletePollModal-Aria"),children:Object(c.d)("Cancel","Polls--DeletePollModal"),onClick:this.props.closeModal},primaryButtonProps:{ariaLabel:Object(c.d)("Delete","Polls--DeletePollModal-Aria"),children:Object(c.d)("Delete","Polls--DeletePollModal"),onClick:this.deletePoll,state:this.state.archivingPoll?y.c.Loading:y.c.Default}})))},n}(l.Component);t.d(n,"a",(function(){return O}));var O=Object(a.d)(Object(i.b)(null,(function(e){return Object(a.b)({closeModal:o.d},e)})),Object(r.a)(s,{name:"archivePoll"}))(S)},NMMG:function(e,n,t){"use strict";function i(e,n){return parseInt(n,10)<parseInt(e,10)?n+"_"+e:e+"_"+n}function a(e,n){return e.split("_").find((function(e){return e!==n}))||null}t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a}))},Ofwf:function(e,n,t){"use strict";t.r(n);var i=t("q1tI"),a=t("mrSG"),r=t("ANjH"),o=t("/7QA"),s=t("6C1D"),d=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.makeCommandObjectFromProps=function(e){return{name:e.command,description:e.description,helpText:e.helpText,permissionLevel:e.permissionLevel,commandArgs:e.args,handler:e.handler,hidden:e.hidden}},n}return Object(a.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this.makeCommandObjectFromProps(this.props);this.props.addCommand(e)},n.prototype.componentDidUpdate=function(e){if(e.command!==this.props.command||e.handler!==this.props.handler||e.channelLogin!==this.props.channelLogin){var n=this.makeCommandObjectFromProps(e);this.props.removeCommand(n);var t=this.makeCommandObjectFromProps(this.props);this.props.addCommand(t)}},n.prototype.componentWillUnmount=function(){var e=this.makeCommandObjectFromProps(this.props);this.props.removeCommand(e)},n.prototype.render=function(){return null},n}(i.PureComponent);var l=Object(s.b)((function(e){return{addCommand:e.addCommand,removeCommand:e.removeCommand}}))(d),c=t("QVaV"),u=t("X9Go"),m=t("3kHA"),p=t("a6LY"),f=t("iyGE"),h=t("a2UF"),v=t("vSeP"),g=t("WytW"),b=t("AREq"),k=t("Av0x"),y=t("H82h"),S=600,O=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.banUser=function(e){var t=Object(g.m)("/ban "+e);if(t){var i=n.userLogin(t.banTarget),a=t.reason||void 0;if(i){var r=Object(o.d)("Unable to ban user.","BanCommandHandler");return{deferred:n.props.banUserMutation(i,void 0,a).then((function(e){if(!e)return{notice:r};var t=e.banUserFromChatRoom;return t?t.error?{notice:Object(b.a)({login:i,code:t.error.code})}:(n.props.channelID&&t.ban&&t.ban.bannedUser&&Object(y.a)({actionType:p.a.BanUser,channelID:n.props.channelID,targetUserID:t.ban.bannedUser.id,source:p.c.ChatCommand,page:n.props.page}),n.props.suppressLocalSuccessMessage?{}:{notice:Object(o.d)("{userLogin} is now banned from this channel.",{userLogin:i},"BanCommandHandler")}):{notice:r}})).catch((function(){return{notice:r}}))}}return{deferred:Promise.resolve({notice:Object(o.d)("Please specify a user to ban.","BanCommandHandler"),error:m.a.MissingParameters})}}return{deferred:Promise.resolve({notice:n.banUsage(),error:m.a.InvalidParameters})}},n.unbanUser=function(e){if(e&&0!==e.length){var t=n.userLogin(e),i=Object(o.d)("Unable to unban user.","BanCommandHandler");return{deferred:n.props.unbanUserMutation(t).then((function(e){if(!e)return{notice:i};var a=e.unbanUserFromChatRoom;return a?a.error?{notice:Object(k.a)(t,a.error.code)}:(n.props.channelID&&a.ban&&a.ban.bannedUser&&Object(y.a)({actionType:p.a.UnbanUser,channelID:n.props.channelID,targetUserID:a.ban.bannedUser.id,source:p.c.ChatCommand,page:n.props.page}),n.props.suppressLocalSuccessMessage?{}:{notice:Object(o.d)("{bannedUserLogin} is no longer banned from this channel.",{bannedUserLogin:t},"BanCommandHandler")}):{notice:i}})).catch((function(){return{notice:i}}))}}return{deferred:Promise.resolve({notice:Object(o.d)("Please specify a user to unban.","BanCommandHandler"),error:m.a.MissingParameters})}},n.timeoutUser=function(e){var t=Object(g.r)("/timeout "+e);if(t){var i,a,r=n.userLogin(t.banTarget),s=t.reason||void 0;if(t.rawDuration&&t.durationSeconds?(i=t.durationSeconds,a=t.rawDuration===String(t.durationSeconds)?t.durationSeconds:t.rawDuration):t.rawDuration&&!t.validArguments?(a=t.rawDuration,i=S):(i=S,a=S),r){var d=Object(o.d)("Unable to timeout user.","BanCommandHandler");return{deferred:n.props.banUserMutation(r,a,s).then((function(e){if(!e)return{notice:d};var s=e.banUserFromChatRoom;if(!s)return{notice:d};if(s.error){var l=s.error.minTimeoutDurationSeconds,c=s.error.maxTimeoutDurationSeconds;return{notice:Object(b.a)({login:r,code:s.error.code,enteredDuration:t.rawDuration||void 0,isTimeout:!0,minTimeoutDuration:l||void 0,maxTimeoutDuration:c||void 0})}}return n.props.channelID&&s.ban&&s.ban.bannedUser&&Object(y.a)({actionType:p.a.TimeoutUser,channelID:n.props.channelID,targetUserID:s.ban.bannedUser.id,source:p.c.ChatCommand,duration:void 0!==a?"["+a+"]n":a,page:n.props.page}),n.props.suppressLocalSuccessMessage?{}:{notice:Object(o.d)("{userLogin} has been timed out for {duration} seconds.",{userLogin:r,duration:i||S},"BanCommandHandler")}})).catch((function(){return{notice:d}}))}}return{deferred:Promise.resolve({notice:Object(o.d)("Please specify a user to timeout.","BanCommandHandler"),error:m.a.MissingParameters})}}return{deferred:Promise.resolve({notice:n.timeoutUsage(),error:m.a.InvalidParameters})}},n.untimeoutUser=function(e){if(e){var t=n.userLogin(e),i=Object(o.d)("Unable to untimeout user.","BanCommandHandler");return{deferred:n.props.unbanUserMutation(t).then((function(e){if(!e)return{notice:i};var a=e.unbanUserFromChatRoom;return a?a.error?{notice:Object(k.a)(t,a.error.code,!0)}:(n.props.channelID&&a.ban&&a.ban.bannedUser&&Object(y.a)({actionType:p.a.UntimeoutUser,channelID:n.props.channelID,targetUserID:a.ban.bannedUser.id,source:p.c.ChatCommand,page:n.props.page}),n.props.suppressLocalSuccessMessage?{}:{notice:Object(o.d)("{login} is no longer timed out in this channel.",{login:t},"BanCommandHandler")}):{notice:i}})).catch((function(){return{notice:i}}))}}return{deferred:Promise.resolve({notice:Object(o.d)("Please specify a user to untimeout.","BanCommandHandler"),error:m.a.MissingParameters})}},n.userLogin=function(e){return Object(c.b)(e)?e:n.props.activeChattersAPI?n.props.activeChattersAPI.getActiveChatterLoginFromDisplayName(e)||e:n.props.displayNameToLogin&&n.props.displayNameToLogin(e)||e},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(l,{args:[{name:"username",isRequired:!0},{name:"reason",isRequired:!1}],channelLogin:this.props.channelLogin,command:"ban",description:Object(o.d)("Permanently ban a user from Chat","BanCommandHandler"),handler:this.banUser,helpText:this.banUsage(),permissionLevel:m.b.Moderator}),i.createElement(l,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"unban",description:Object(o.d)("Remove a timeout or a permanent ban on a user","BanCommandHandler"),handler:this.unbanUser,helpText:this.unbanUsage(),permissionLevel:m.b.Moderator}),i.createElement(l,{args:[{name:"username",isRequired:!0},{name:"duration",isRequired:!1}],channelLogin:this.props.channelLogin,command:"timeout",description:Object(o.d)("Temporarily ban a user from Chat","BanCommandHandler"),handler:this.timeoutUser,helpText:this.timeoutUsage(),permissionLevel:m.b.Moderator}),i.createElement(l,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"untimeout",description:Object(o.d)("Remove a timeout on a user","BanCommandHandler"),handler:this.untimeoutUser,helpText:this.untimeoutUsage(),permissionLevel:m.b.Moderator}))},n.prototype.banUsage=function(){return Object(o.d)('Usage: "/ban <username> [reason]" - Permanently prevents a user from chatting. Reason is optional and will be shown to the target user and other moderators. Use "/unban" to remove a ban.',"BanCommandHandler")},n.prototype.unbanUsage=function(){return Object(o.d)('Usage: "/unban <username>" - Removes a timeout or ban on a user.',"BanCommandHandler")},n.prototype.timeoutUsage=function(){return Object(o.d)('Usage: "/timeout <username> [duration][unit] [reason]" - Temporarily prevents a user from chatting. Duration and time unit (optional, default=10m, max=2w) can use s, m, h, d, w solo or combined. Reason (optional) is shown to user and mods. Use "/untimeout" to remove a timeout.',"BanCommandHandler")},n.prototype.untimeoutUsage=function(){return Object(o.d)('Usage: "/untimeout <username>" - Removes a timeout on a user.',"BanCommandHandler")},n}(i.Component),C=function(e){return{channelID:e.channelID}},U=Object(r.d)(Object(u.c)(u.b),v.a,Object(h.a)(C),Object(f.a)(C))(O),E=t("/MKj"),D=t("yR8l"),P=t("5zf8"),_=t("DMoW"),w=t("2xye"),N=t("5Siz"),I=t("Y5lD"),j=t("eAdp"),L=t("gMwc");function F(){return Object(o.d)("An unexpected error occurred. Try again.","BookmarkCommandHandler")}function M(){return Object(o.d)("You can only add stream markers during live streams. Try again when the channel is live streaming.","BookmarkCommandHandler")}var T=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.bookmark=function(e){if(void 0===e&&(e=""),n.props.markersData)return{deferred:n.props.markersData.refetch().then((function(){var t=n.props.markersData,i=t.user&&t.user.stream&&t.user.stream.id,a=t.user&&t.user.stream&&t.user.stream.createdAt;return i?n.createBookmarkHelper(i,e,a):Promise.resolve({notice:M()})}))}},n.createBookmarkHelper=function(e,t,i){var a=t.substring(0,N.a).trim();return n.props.createVideoBookmark({variables:{input:{broadcastID:e,description:a,medium:n.props.isPopout?"popout_chat":"chat",platform:w.SpadePlatform.Web}}}).then((function(e){var n=e.data&&e.data.createVideoBookmark;if(n&&n.error&&n.error.code)switch(n.error.code){case _.ob.ARCHIVES_DISABLED:return{notice:Object(o.d)("Past Broadcast storage must be enabled in order to add stream markers. Enable via Channel Settings and try again.","BookmarkCommandHandler")};case _.ob.BROADCAST_FORMAT_INVALID_PREMIERE:case _.ob.BROADCAST_FORMAT_INVALID_RERUN:return{notice:Object(o.d)("You can only add stream markers during live streams. Try again when the channel is live streaming and not running a Premiere or Rerun.","BookmarkCommandHandler")};case _.ob.BROADCASTER_NOT_LIVE:return{notice:M()};case _.ob.USER_UNAUTHORIZED:return{notice:Object(o.d)("You don't have permission to create stream markers for this channel.","BookmarkCommandHandler")};case _.ob.INTERNAL_SERVER_ERROR:case _.ob.VOD_NOT_READY:default:return{notice:F()}}var t=null===i?null:Object(P.b)(Object(I.a)(i),P.a.ClockHMS),r=""!==a;return{notice:t&&r?Object(o.d)('Successfully added a stream marker at {time}: "{description}"',{description:a,time:t},"BookmarkCommandHandler"):t?Object(o.d)("Successfully added a stream marker at {time}",{time:t},"BookmarkCommandHandler"):r?Object(o.d)('Successfully added a stream marker: "{description}"',{description:a},"BookmarkCommandHandler"):Object(o.d)("Successfully added a stream marker","BookmarkCommandHandler")}})).catch((function(){return{notice:F()}}))},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return this.props.markersData?i.createElement(l,{args:[{name:"description",isRequired:!1}],channelLogin:this.props.channelLogin,command:"marker",description:Object(o.d)("Add a stream marker at the current timestamp","BookmarkCommandHandler"),handler:this.bookmark,helpText:Object(o.d)('Usage: "/marker" - Adds a stream marker (with an optional comment, max 140 characters) at the current timestamp. You can use markers in the Highlighter for easier editing.',"BookmarkCommandHandler"),permissionLevel:m.b.Broadcaster}):null},n}(i.Component);var H=Object(r.d)(Object(E.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}})),Object(D.a)(j,{name:"createVideoBookmark"}),Object(D.a)(L,{name:"markersData",skip:function(e){return!e.firstPageLoaded}}))(T),R=function(e){return i.createElement(l,{channelLogin:e.channelLogin,command:"clear",description:Object(o.d)("Clear chat history for all viewers","ClearCommandHandler"),helpText:Object(o.d)('Usage: "/clear" - Clears chat history for all viewers.',"ClearCommandHandler"),permissionLevel:m.b.Moderator})},V=t("ygQa"),A=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.updateChatColor=function(e){var t=Object(g.n)("/color "+e);if(t&&t.color){var i=t.color;return{deferred:n.props.updateChatColorMutation(i).then((function(){return{notice:Object(o.d)("Your color has been changed.","ColorCommandHandler")}})).catch((function(){return{notice:Object(o.d)("Unable to change your color.","ColorCommandHandler")}}))}}return{deferred:Promise.resolve({notice:n.colorUsage(),error:m.a.InvalidParameters})}},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return i.createElement(l,{args:[{name:"color",isRequired:!0}],channelLogin:this.props.channelLogin,command:"color",description:Object(o.d)("Change your username color, i.e. blue, green, etc.","ColorCommandHandler"),handler:this.updateChatColor,helpText:this.colorUsage(),permissionLevel:m.b.Viewer})},n.prototype.colorUsage=function(){return Object(o.d)('Usage: "/color <color>" - Changes your username color. Color must be in hex (#000000) or one of the following: Blue, BlueViolet, CadetBlue, Chocolate, Coral, DodgerBlue, Firebrick, GoldenRod, Green, HotPink, OrangeRed, Red, SeaGreen, SpringGreen, YellowGreen.',"ColorCommandHandler")},n}(i.Component),x=Object(V.a)()(A),q=function(e){return i.createElement(l,{args:[{name:"length",isRequired:!1}],channelLogin:e.channelLogin,command:"commercial",description:Object(o.d)("Run an ad break during your stream","CommercialCommandHandler"),helpText:Object(o.d)('Usage: "/commercial [length]" - Triggers a commercial. Length (optional) must be a positive number of seconds.',"CommercialCommandHandler"),hidden:!e.isPartner,permissionLevel:m.b.Broadcaster})},B=t("kIH7"),W=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.setEmoteOnlyMode=function(e){if(n.props.roomID)return e&&e.trim().length>0?{deferred:Promise.resolve({notice:n.emoteOnlyUsage(),error:m.a.InvalidParameters})}:{deferred:n.props.updateRoomModes({variables:{input:{roomID:n.props.roomID,enableEmotesOnlyMode:!0}}}).then((function(){return{notice:Object(o.d)("emote-only mode has been enabled for this room.","EmoteOnlyCommandHandler")}})).catch((function(){return{notice:Object(o.d)("Unable to set emote-only mode.","EmoteOnlyCommandHandler")}}))}},n.unsetEmoteOnlyMode=function(e){if(n.props.roomID)return e&&e.trim().length>0?{deferred:Promise.resolve({notice:n.emoteOnlyOffUsage(),error:m.a.InvalidParameters})}:{deferred:n.props.updateRoomModes({variables:{input:{roomID:n.props.roomID,enableEmotesOnlyMode:!1}}}).then((function(){return{notice:Object(o.d)("emote-only mode has been disabled for this room.","EmoteOnlyCommandHandler")}})).catch((function(){return{notice:Object(o.d)("Unable to unset emote-only mode.","EmoteOnlyCommandHandler")}}))}},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(l,{channelLogin:this.props.channelLogin,command:"emoteonly",description:Object(o.d)("Restrict Chat to emote-only messages","EmoteOnlyCommandHandler"),handler:this.props.roomID?this.setEmoteOnlyMode:void 0,helpText:this.emoteOnlyUsage(),permissionLevel:m.b.Moderator}),i.createElement(l,{channelLogin:this.props.channelLogin,command:"emoteonlyoff",description:Object(o.d)("Turn off emote-only mode","EmoteOnlyCommandHandler"),handler:this.props.roomID?this.unsetEmoteOnlyMode:void 0,helpText:this.emoteOnlyOffUsage(),permissionLevel:m.b.Moderator}))},n.prototype.emoteOnlyUsage=function(){return Object(o.d)('Usage: "/emoteonly" - Enables emote-only mode (only emoticons may be used in chat). Use "/emoteonlyoff" to disable.',"EmoteOnlyCommandHandler")},n.prototype.emoteOnlyOffUsage=function(){return Object(o.d)('Usage: "/emoteonlyoff" - Disables emote-only mode.',"EmoteOnlyCommandHandler")},n}(i.Component),G=Object(D.a)(B,{name:"updateRoomModes"})(W),Q=function(e){return i.createElement(i.Fragment,null,i.createElement(l,{args:[{name:"duration",isRequired:!1}],channelLogin:e.channelLogin,command:"followers","data-test-selector":"followers-command-handler",description:Object(o.d)("Restrict Chat to followers based on their follow duration","FollowersCommandHandler"),helpText:Object(o.d)('Usage: "/followers [duration]" - Turns on followers-only mode (only users who have followed for "duration" may chat). Examples: "30m", "1 week", "5 days 12 hours". Must be less than 3 months.',"FollowersCommandHandler"),permissionLevel:m.b.Moderator}),i.createElement(l,{channelLogin:e.channelLogin,command:"followersoff","data-test-selector":"followers-off-command-handler",description:Object(o.d)("Turn off followers-only mode","FollowersCommandHandler"),helpText:Object(o.d)('Usage: "/followersoff" - Disables followers-only mode.',"FollowersCommandHandler"),permissionLevel:m.b.Moderator}))},z=t("RS58"),Y=t("Ws8v"),$=t("IbuL"),X=t("C7sF"),K=(t("i/i4"),function(){return i.createElement(Y.a,{className:"info-modifier-tray-icon"},i.createElement($.a,{asset:X.a.NotificationInfo}))}),J=t("pb7T"),Z=t("zwF8"),ee=t("sUnt"),ne=t("+80q"),te=t("Jsra"),ie=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.showHelp=function(e){if(n.props.ignoreArguments)return n.availableCommandsList();var t=Object(g.o)("/help "+e);return t?t.command?n.commandSpecificFeedback(t.command):(n.props.setModifierTray(n.makeGeneralTray()),{}):{deferred:Promise.resolve({notice:n.helpUsage()})}},n.availableCommandsList=function(){var e=n.props.getCommands(n.props.permissionLevel).map((function(e){return"/"+e.name}));return{deferred:Promise.resolve({notice:Object(o.d)("Available commands: {commands}.",{commands:e.join(", ")},"HelpCommandHandler")})}},n.commandSpecificFeedback=function(e){var t=n.props.getCommands(n.props.permissionLevel).find((function(n){return n.name===e}));return t?(n.props.setModifierTray(n.makeUsageTray(e,t.helpText)),{preserveInput:!0}):(n.props.setModifierTray(n.makeInvalidTray(e)),{})},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return i.createElement(l,{args:[{name:"command",isRequired:!1}],channelLogin:this.props.channelLogin,command:"help",description:Object(o.d)("Get detailed information on using a chat command","HelpCommandHandler"),handler:this.showHelp,helpText:this.helpUsage(),permissionLevel:m.b.Viewer})},n.prototype.makeUsageTray=function(e,n){return{title:Object(o.d)("Usage of /{name}",{name:e},"HelpCommandHandler"),body:i.createElement(ee.a,{padding:{top:.5}},i.createElement(ne.a,{type:ne.e.Span},n)," ",i.createElement(te.a,{linkTo:"https://help.twitch.tv/s/article/chat-commands"},this.learnMoreText())),icon:i.createElement(K,null),inputValue:"/"+e+" ",type:Z.a.CommandInfo,timeout:3e4}},n.prototype.makeInvalidTray=function(e){return{title:Object(o.d)("Unrecognized Command","HelpCommandHandler"),body:Object(o.d)('/{name} is not a valid command. To see a list of available commands, just type "/" in the input box.',{name:e},"HelpCommandHandler"),icon:i.createElement(J.a,null),type:Z.a.CommandWarning,timeout:3e4}},n.prototype.makeGeneralTray=function(){return{title:Object(o.d)("Learn More About Commands","HelpCommandHandler"),body:i.createElement(ee.a,{padding:{top:.5}},i.createElement(ne.a,{type:ne.e.Span},Object(o.d)('You can type "/" in the input box to see a list of available commands.',"HelpCommandHandler"))," ",i.createElement(te.a,{linkTo:"https://help.twitch.tv/s/article/chat-commands"},this.learnMoreText())),icon:i.createElement(K,null),type:Z.a.CommandInfo,timeout:3e4}},n.prototype.helpUsage=function(){return Object(o.d)('Usage: "/help" - Lists the commands available to you in this channel.',"HelpCommandHandler")},n.prototype.learnMoreText=function(){return Object(o.d)("Learn more.","HelpCommandHandler")},n}(i.Component);var ae=Object(r.d)(Object(s.b)((function(e){return{getCommands:e.getCommands}})),Object(z.b)((function(e){return{setModifierTray:e.setModifierTray}})))(ie),re=function(e){return i.createElement(i.Fragment,null,i.createElement(l,{args:[{name:"channel",isRequired:!0}],channelLogin:e.channelLogin,command:"host","data-test-selector":"host-command-handler",description:Object(o.d)("Host another stream on your channel","HostCommandHandler"),helpText:Object(o.d)('Usage: "/host <channel>" - Hosts another stream on your channel. Use "/unhost" to remove host mode.',"HostCommandHandler"),permissionLevel:m.b.Broadcaster}),i.createElement(l,{channelLogin:e.channelLogin,command:"unhost","data-test-selector":"unhost-command-handler",description:Object(o.d)("Stop hosting a channel","HostCommandHandler"),helpText:Object(o.d)('Usage: "/unhost" - Stops hosting another channel.',"HostCommandHandler"),permissionLevel:m.b.Broadcaster}))},oe=t("BhFH"),se=t("iS14"),de=t("TvOw"),le=t("sAMt");function ce(e){return Object(a.__awaiter)(this,void 0,Promise,(function(){var n,t;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:n=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.p.apollo.client.query({query:le,variables:{login:e}})];case 2:return n=i.sent(),[3,4];case 3:return t=i.sent(),o.k.warn(t,"Failed to fetch user targeted by chat command.",{userLogin:e}),[3,4];case 4:return n&&n.data.user.id?[2,n.data.user.id]:[2,null]}}))}))}var ue=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getInvalidUserMessage=function(){return Object(o.d)("No user matching that login.","IgnoreCommandHandler")},n.blockUser=function(e){return e?e===n.props.currentUserLogin?{deferred:Promise.resolve({notice:Object(o.d)("You cannot ignore yourself.","IgnoreCommandHandler")})}:{deferred:ce(e).then((function(e){if(!e)return{notice:n.getInvalidUserMessage()};try{n.props.blockUserMutation(e,de.a.Other,_.u.CHAT)}catch(e){return{notice:Object(o.d)("Unable to ignore user","IgnoreCommandHandler")}}return{notice:Object(o.d)("User successfully ignored","IgnoreCommandHandler")}}))}:{deferred:Promise.resolve({notice:Object(o.d)("Please specify a user to ignore","IgnoreCommandHandler"),error:m.a.MissingParameters})}},n.unblockUser=function(e){return e?e===n.props.currentUserLogin?{deferred:Promise.resolve({notice:Object(o.d)("You cannot unignore yourself.","IgnoreCommandHandler")})}:{deferred:ce(e).then((function(e){if(!e)return{notice:n.getInvalidUserMessage()};try{n.props.unblockUserMutation(e)}catch(e){return{notice:Object(o.d)("Unable to unignore user","IgnoreCommandHandler")}}return{notice:Object(o.d)("User successfully unignored","IgnoreCommandHandler")}}))}:{deferred:Promise.resolve({notice:Object(o.d)("Please specify a user to unignore","IgnoreCommandHandler"),error:m.a.MissingParameters})}},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(l,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"ignore",description:this.blockDescription(),handler:this.blockUser,helpText:Object(o.d)('Usage: "/ignore <username>" - Blocks user from interacting with you on Twitch. Use "/unignore <username>" to disable.',"IgnoreCommandHandler"),hidden:!0,permissionLevel:m.b.Viewer}),i.createElement(l,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"unignore",description:this.unblockDescription(),handler:this.unblockUser,helpText:Object(o.d)('Usage: "/unignore <username>" - Removes a user from your blocklist.',"IgnoreCommandHandler"),hidden:!0,permissionLevel:m.b.Viewer}),i.createElement(l,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"block",description:this.blockDescription(),handler:this.blockUser,helpText:Object(o.d)('Usage: "/block <username>" - Blocks user from interacting with you on Twitch. Use "/unblock <username>" to disable.',"IgnoreCommandHandler"),permissionLevel:m.b.Viewer}),i.createElement(l,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"unblock",description:this.unblockDescription(),handler:this.unblockUser,helpText:Object(o.d)('Usage: "/unblock <username>" - Removes a user from your blocklist.',"IgnoreCommandHandler"),permissionLevel:m.b.Viewer}))},n.prototype.blockDescription=function(){return Object(o.d)("Block a user from interacting with you on Twitch","IgnoreCommandHandler")},n.prototype.unblockDescription=function(){return Object(o.d)("Remove user from your block list","IgnoreCommandHandler")},n}(i.Component),me=Object(r.d)(Object(se.a)(),Object(oe.a)())(ue),pe=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.sendMessage=function(e){return n.props.sendMessage&&n.props.sendMessage("/me "+e),{}},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return i.createElement(l,{args:[{name:"message",isRequired:!0}],channelLogin:this.props.channelLogin,command:"me",description:Object(o.d)("Color your text based on your username color","MeCommandHandler"),handler:this.props.sendMessage?this.sendMessage:void 0,helpText:Object(o.d)('Usage: "/me <message>" - Colors your text based on your username color.',"MeCommandHandler"),permissionLevel:m.b.Vip})},n}(i.Component),fe=t("AKV8"),he=t("yzwe"),ve=t("3HtZ"),ge=t("Ff8q"),be=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.modUser=function(e){var t=e.trim().split(/\s+/),i=n.userLogin(t[0]);return 1===t.length&&i&&0!==i.length?{deferred:n.props.modUserMutation(i).then((function(e){var t;if(e&&e.modUser&&e.modUser.error)switch(e.modUser.error.code){case _.hc.FORBIDDEN:return{notice:ye()};case _.hc.TARGET_ALREADY_MOD:return{notice:Object(o.d)("{login} is already a moderator of this channel.",{login:i},"ModCommandHandler")};case _.hc.TARGET_IS_CHAT_BANNED:return{notice:Object(o.d)("{login} is banned in this channel. You must unban this user before granting mod status.",{login:i},"ModCommandHandler")};case _.hc.TARGET_NOT_FOUND:return{notice:ke(i)};default:return{notice:Se()}}return n.props.channelID&&(null===(t=null==e?void 0:e.modUser)||void 0===t?void 0:t.target)&&Object(y.a)({actionType:p.a.ModUser,channelID:n.props.channelID,targetUserID:e.modUser.target.id,source:p.c.ChatCommand,page:n.props.page}),{notice:Object(o.d)("You have added {login} as a moderator of this channel.",{login:i},"ModCommandHandler")}})).catch((function(){return{notice:Se()}}))}:{deferred:Promise.resolve({notice:Ue(),error:m.a.InvalidParameters})}},n.mods=function(e){return{deferred:o.p.apollo.client.query({query:ve,fetchPolicy:"network-only",variables:{login:n.props.channelLogin}}).then((function(e){if(!e.data.user||!e.data.user.mods)return{notice:Oe()};var n=e.data.user.mods.edges.filter((function(e){return e.node.login}));if(0===n.length)return{notice:Object(o.d)("There are no moderators of this channel.","ModCommandHandler")};var t=n.map((function(e){return e.node.login})).join(", ");return{notice:Object(o.d)("The moderators of this channel are: {mods}.",{mods:t},"ModCommandHandler")}})).catch((function(){return{notice:Oe()}}))}},n.unmodUser=function(e){var t=e.trim().split(/\s+/),i=n.userLogin(t[0]);return 1===t.length&&i&&0!==i.length?{deferred:n.props.unmodUserMutation(i).then((function(e){if(e&&e.unmodUser&&e.unmodUser.error)switch(e.unmodUser.error.code){case _.xd.FORBIDDEN:return{notice:ye()};case _.xd.TARGET_NOT_FOUND:return{notice:ke(i)};case _.xd.TARGET_NOT_MOD:return{notice:Object(o.d)("{login} is currently not a moderator of this channel.",{login:i},"ModCommandHandler")};default:return{notice:Ce()}}return n.props.channelID&&e&&e.unmodUser&&e.unmodUser.target&&e.unmodUser.target.id&&Object(y.a)({actionType:p.a.UnmodUser,channelID:n.props.channelID,targetUserID:e.unmodUser.target.id,source:p.c.ChatCommand,page:n.props.page}),{notice:Object(o.d)("You have removed {login} as a moderator of this channel.",{login:i},"ModCommandHandler")}})).catch((function(){return{notice:Ce()}}))}:{deferred:Promise.resolve({notice:Ee(),error:m.a.InvalidParameters})}},n.userLogin=function(e){return e=Object(ge.a)(e),Object(c.b)(e)?e:n.props.activeChattersAPI?n.props.activeChattersAPI.getActiveChatterLoginFromDisplayName(e)||e:n.props.displayNameToLogin&&n.props.displayNameToLogin(e)||e},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(l,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"mod",description:Object(o.d)("Grant moderator status to a user","ModCommandHandler"),handler:this.modUser,helpText:Ue(),permissionLevel:m.b.Broadcaster}),i.createElement(l,{channelLogin:this.props.channelLogin,command:"mods",description:Object(o.d)("Display a list of moderators for this channel","ModCommandHandler"),handler:this.mods,helpText:Object(o.d)('Usage: "/mods" - Lists the moderators of this channel.',"ModCommandHandler"),permissionLevel:m.b.Viewer}),i.createElement(l,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"unmod",description:Object(o.d)("Revoke moderator status from a user","ModCommandHandler"),handler:this.unmodUser,helpText:Ee(),permissionLevel:m.b.Broadcaster}))},n}(i.Component);function ke(e){return Object(o.d)("Invalid username: {login}",{login:e},"ModCommandHandler")}function ye(){return Object(o.d)("You don't have permission to perform that action.","ModCommandHandler")}function Se(){return Object(o.d)("Unable to add moderator.","ModCommandHandler")}function Oe(){return Object(o.d)("There was a problem fetching the list of mods.","ModCommandHandler")}function Ce(){return Object(o.d)("Unable to remove moderator.","ModCommandHandler")}function Ue(){return Object(o.d)('Usage: "/mod <username>" - Grants moderator status to a user. Use "/unmod" to revoke mod status. Use "/mods" to list the moderators of this channel.',"ModCommandHandler")}function Ee(){return Object(o.d)('Usage: "/unmod <username>" - Revokes moderator status from a user.',"ModCommandHandler")}var De=function(e){return{channelID:e.channelID}},Pe=Object(r.d)(Object(u.c)(u.b),v.a,Object(he.a)(De),Object(fe.a)(De))(be),_e=t("XDCx"),we=t("Owek"),Ne=t("nHtq"),Ie=t("geRD"),je=t("f00E"),Le=t("RBh2"),Fe=t("i5+p"),Me=t("NIpN"),Te=t("SUI5"),He=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.openPollModal=function(){var e=Object(o.d)("Unable to create poll. Please try again.","Polls--PollCommandHandler");return n.props.isUserPollAdmin?null!==n.props.viewablePoll&&n.props.viewablePoll.status===_.zc.ACTIVE?{deferred:Promise.resolve({notice:Object(o.d)("A poll is already active.","Polls--PollCommandHandler")})}:n.props.channelID?void n.props.showModal(Te.a,{channelID:n.props.channelID,channelLogin:n.props.channelLogin}):{deferred:Promise.resolve({notice:e,error:m.a.MissingParameters})}:{deferred:Promise.resolve({notice:n.getForbiddenMessage()})}},n.endPoll=function(){var e=Object(o.d)("Unable to end poll. Please try again.","Polls--PollCommandHandler");return n.props.isUserPollAdmin?n.props.viewablePoll&&n.props.terminatePoll?Object(Fe.f)(n.props.viewablePoll.status)?{deferred:n.props.terminatePoll(Object(Ie.a)({pollID:n.props.viewablePoll.id})).then((function(n){return null===n?{notice:e}:{notice:Object(o.d)("Poll ended successfully.","Polls--PollCommandHandler")}})).catch((function(){return{notice:e}}))}:{deferred:Promise.resolve({notice:Object(o.d)("Poll already ended.","Polls--PollCommandHandler")})}:{deferred:Promise.resolve({notice:n.getNoPollErrorMessage()})}:{deferred:Promise.resolve({notice:n.getForbiddenMessage()})}},n.deletePoll=function(){var e=Object(o.d)("Unable to delete poll. Please try again.","Polls--PollCommandHandler"),t=n.props.viewablePoll;return n.props.isUserPollAdmin?t&&n.props.archivePoll?t.tokens.bits>0?void n.props.showModal(Me.a,{pollID:t.id}):{deferred:n.props.archivePoll(Object(Ie.a)({pollID:t.id})).then((function(n){return null===n?{notice:e}:{notice:Object(o.d)("Poll deleted successfully.","Polls--PollCommandHandler")}})).catch((function(){return{notice:e}}))}:{deferred:Promise.resolve({notice:n.getNoPollErrorMessage()})}:{deferred:Promise.resolve({notice:n.getForbiddenMessage()})}},n.voteInPoll=function(e){var t=e.trim().split(/\s+/),i=parseInt(t[0],10)-1,a=n.props.viewablePoll;if(1!==t.length)return{deferred:Promise.resolve({notice:n.voteUsage(),error:m.a.InvalidParameters})};if(n.props.userID){if(null===a)return{deferred:Promise.resolve({notice:n.getNoPollErrorMessage()})};if(n.props.voteInPoll){if(i<0||i>a.choices.length-1)return{deferred:Promise.resolve({notice:n.getBadChoiceMessage()})};n.trackPollsClientInteraction(Le.a.Vote);var r=a.choices[i];return{deferred:n.props.voteInPoll(Object(Ie.a)({choiceID:r.id,pollID:a.id,userID:n.props.userID,voteID:Object(je.c)()})).then((function(e){if(null===e||null===e.data||null===e.data.voteInPoll)return{notice:n.getNoPollErrorMessage()};if(e.data.voteInPoll.error)switch(e.data.voteInPoll.error.code){case _.Qd.USER_FORBIDDEN:return{notice:Object(o.d)("Forbidden from voting in this poll.","Polls--PollCommandHandler")};case _.Qd.TOKENS_REQUIRED:return{notice:Object(o.d)("Only one free vote is allowed.","Polls--PollCommandHandler")};case _.Qd.POLL_NOT_ACTIVE:case _.Qd.POLL_NOT_FOUND:return{notice:n.getNoPollErrorMessage()};case _.Qd.INVALID_CHOICE_ID:return{notice:n.getBadChoiceMessage()};default:return{notice:n.getVoteErrorMessage()}}return{notice:Object(o.d)("Voted in poll successfully.","Polls--PollCommandHandler")}})).catch((function(){return{notice:n.getVoteErrorMessage()}}))}}return{deferred:Promise.resolve({notice:n.getVoteErrorMessage()})}}return{deferred:Promise.resolve({notice:n.getVoteErrorMessage(),error:m.a.MissingParameters})}},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return this.props.data&&this.props.data.channel&&this.props.data.channel.roles&&(this.props.data.channel.roles.isAffiliate||this.props.data.channel.roles.isPartner)?i.createElement(i.Fragment,null,i.createElement(l,{channelLogin:this.props.channelLogin,command:"poll",description:Object(o.d)("Open a setup menu to create a poll.","Polls--PollCommandHandler"),handler:this.openPollModal,helpText:this.pollUsage(),permissionLevel:m.b.Moderator}),i.createElement(l,{channelLogin:this.props.channelLogin,command:"endpoll",description:Object(o.d)("End the active poll on the given channel.","Polls--PollCommandHandler"),handler:this.endPoll,helpText:this.endPollUsage(),permissionLevel:m.b.Moderator}),i.createElement(l,{channelLogin:this.props.channelLogin,command:"deletepoll",description:Object(o.d)("Delete the active poll on the given channel.","Polls--PollCommandHandler"),handler:this.deletePoll,helpText:this.deletePollUsage(),permissionLevel:m.b.Moderator}),i.createElement(l,{channelLogin:this.props.channelLogin,args:[{name:"index",isRequired:!0}],command:"vote",description:Object(o.d)("Vote in the active poll on the given channel.","Polls--PollCommandHandler"),handler:this.voteInPoll,helpText:this.voteUsage(),permissionLevel:m.b.Viewer})):null},n.prototype.pollUsage=function(){return Object(o.d)('Usage: "/poll" - Opens the setup menu to create a poll.',"Polls--PollCommandHandler")},n.prototype.endPollUsage=function(){return Object(o.d)('Usage: "/endpoll" - Ends the active poll.',"Polls--PollCommandHandler")},n.prototype.deletePollUsage=function(){return Object(o.d)('Usage: "/deletepoll" - Deletes the active poll.',"Polls--PollCommandHandler")},n.prototype.voteUsage=function(){return Object(o.d)('Usage: "/vote <index>" - Vote for the option represented by its numeric position.',"Polls--PollCommandHandler")},n.prototype.getVoteErrorMessage=function(){return Object(o.d)("Unable to vote in poll. Please try again.","Polls--PollCommandHandler")},n.prototype.getNoPollErrorMessage=function(){return Object(o.d)("A poll is not currently active.","Polls--PollCommandHandler")},n.prototype.getForbiddenMessage=function(){return Object(o.d)("You don't have permission to perform that action.","Polls--PollCommandHandler")},n.prototype.getBadChoiceMessage=function(){return Object(o.d)("Please vote for a valid option. Use 1, 2, 3...","Polls--PollCommandHandler")},n.prototype.trackPollsClientInteraction=function(e){var n=this.props,t=n.data,i=n.viewablePoll;t&&t.channel&&t.channel.id&&i&&Object(Le.e)({userID:t.channel.id,channelID:t.channel.id,pollID:i.id,action:e,actionSource:Le.b.ChatCommand})},n}(i.Component);var Re=Object(r.d)(Object(E.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}),(function(e){return Object(r.b)({showModal:_e.e},e)})),Object(we.b)((function(e){return{viewablePoll:e.viewablePoll,voteInPoll:e.voteInPoll,archivePoll:e.archivePoll,terminatePoll:e.terminatePoll,isUserPollAdmin:e.isUserPollAdmin}})),Object(D.a)(Ne,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.firstPageLoaded||!e.channelLogin}}))(He),Ve=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(n,e),n.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(l,{args:[{name:"channel",isRequired:!0}],channelLogin:this.props.channelLogin,command:"raid","data-test-selector":"raid-command-handler",description:Object(o.d)("Send viewers to another channel when your stream ends","RaidCommandHandler"),helpText:Object(o.d)('Usage: "/raid <channel>" - Raids another channel. Use "/unraid" to cancel the Raid.',"RaidCommandHandler"),permissionLevel:m.b.Broadcaster}),i.createElement(l,{channelLogin:this.props.channelLogin,command:"unraid","data-test-selector":"unraid-command-handler",description:Object(o.d)("Cancel an ongoing Raid","RaidCommandHandler"),helpText:Object(o.d)('Usage: "/unraid" - Cancels a Raid.',"RaidCommandHandler"),permissionLevel:m.b.Broadcaster}))},n}(i.Component),Ae=t("wUQP"),xe=t("YV90"),qe=t("BdUW"),Be=t("EgE3");var We=Object(xe.a)((function(e){return{isChannelPointsEnabled:e.isChannelPointsEnabled}}))((function(e){return e.isChannelPointsEnabled&&Object(Ae.c)("copo_full_launch")?i.createElement(l,{channelLogin:e.channelLogin,command:"requests",description:Object(o.d)("Open the Channel Points reward requests queue","RequestsCommandHandler"),handler:function(){return Object(qe.a)(Be.d.ChatCommand,e.channelLogin,e.channelID||void 0)},helpText:Object(o.d)('Usage: "/requests" - Opens the Channel Points requests queue to view and manage custom reward requests.',"RequestsCommandHandler"),permissionLevel:m.b.Moderator}):null})),Ge=t("+pBb"),Qe=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.showChatRules=function(){n.props.showChatRules()},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return i.createElement(l,{channelLogin:this.props.channelLogin,command:"rules",description:Object(o.d)("Show the rules of this channel","RulesCommandHandler"),handler:this.showChatRules,helpText:Object(o.d)('Usage: "/rules" - Show the rules of this channel, if they exist.',"RulesCommandHandler"),hidden:!0,permissionLevel:m.b.Broadcaster})},n}(i.Component);var ze=Object(E.b)(null,(function(e){return Object(r.b)({showChatRules:function(){return Ge.O()}},e)}))(Qe),Ye=30,$e=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.setSlowMode=function(e){if(n.props.roomID){var t=Object(g.q)("/slow "+e);return t?{deferred:n.props.updateRoomModes({variables:{input:{roomID:n.props.roomID,enableSlowMode:!0,slowModeDurationSeconds:t.duration||Ye}}}).then((function(){return{notice:Object(o.d)("This room is now in slow mode. You may send messages every {length} seconds.",{length:t.duration||Ye},"SlowCommandHandler")}})).catch((function(){return{notice:Object(o.d)("Unable to set slow mode.","SlowCommandHandler")}}))}:{deferred:Promise.resolve({notice:n.slowUsage(),error:m.a.InvalidParameters})}}},n.unsetSlowMode=function(e){if(n.props.roomID)return e&&e.trim().length>0?{deferred:Promise.resolve({notice:n.slowoffUsage(),error:m.a.InvalidParameters})}:{deferred:n.props.updateRoomModes({variables:{input:{roomID:n.props.roomID,enableSlowMode:!1}}}).then((function(){return{notice:Object(o.d)("This room is no longer in slow mode.","SlowCommandHandler")}})).catch((function(){return{notice:Object(o.d)("Unable to unset slow mode.","SlowCommandHandler")}}))}},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(l,{args:[{name:"duration",isRequired:!1}],channelLogin:this.props.channelLogin,command:"slow",description:Object(o.d)("Limit how frequently users can send messages in Chat","SlowCommandHandler"),handler:this.props.roomID?this.setSlowMode:void 0,helpText:this.slowUsage(),permissionLevel:m.b.Moderator}),i.createElement(l,{channelLogin:this.props.channelLogin,command:"slowoff",description:Object(o.d)("Turn off slow mode","SlowCommandHandler"),handler:this.props.roomID?this.unsetSlowMode:void 0,helpText:this.slowoffUsage(),permissionLevel:m.b.Moderator}))},n.prototype.slowUsage=function(){return Object(o.d)('Usage: "/slow [duration]" - Enables slow mode (limit how often users may send messages). Duration (optional, default=30) must be a positive number of seconds. Use "/slowoff" to disable.',"SlowCommandHandler")},n.prototype.slowoffUsage=function(){return Object(o.d)('Usage: "/slowoff" - Disables slow mode.',"SlowCommandHandler")},n}(i.Component),Xe=Object(D.a)(B,{name:"updateRoomModes"})($e),Ke=function(e){return i.createElement(i.Fragment,null,i.createElement(l,{channelLogin:e.channelLogin,command:"subscribers","data-test-selector":"subscribers-command-handler",description:Object(o.d)("Restrict Chat to subscribers","SubscribersCommandHandler"),helpText:Object(o.d)('Usage: "/subscribers" - Enables subscribers-only mode (only subscribers may chat in this channel). Use "/subscribersoff" to disable subscriber-only chat.',"SubscribersCommandHandler"),permissionLevel:m.b.Moderator}),i.createElement(l,{channelLogin:e.channelLogin,command:"subscribersoff","data-test-selector":"subscribers-off-command-handler",description:Object(o.d)("Turn off subscribers-only mode","SubscribersCommandHandler"),helpText:Object(o.d)('Usage: "/subscribersoff" - Disables subscribers-only mode.',"SubscribersCommandHandler"),permissionLevel:m.b.Moderator}))},Je=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.setUniqueChatMode=function(){return n.props.sendMessage("/r9kbeta"),{}},n.unsetUniqueChatMode=function(){return n.props.sendMessage("/r9kbetaoff"),{}},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(l,{channelLogin:this.props.channelLogin,command:"uniquechat","data-test-selector":"unique-command-handler",description:Object(o.d)("Prevent users from sending duplicate messages in Chat","UniqueChatCommandHandler"),helpText:Object(o.d)('Usage: "/uniquechat" - Users can only send unique messages in Chat. Duplicate messages will not be allowed. Use "/uniquechatoff" to disable.',"UniqueChatCommandHandler"),handler:this.setUniqueChatMode,permissionLevel:m.b.Moderator}),i.createElement(l,{channelLogin:this.props.channelLogin,command:"uniquechatoff","data-test-selector":"uniquechat-off-command-handler",description:Object(o.d)("Turn off unique-chat mode","UniqueChatCommandHandler"),helpText:Object(o.d)('Usage: "/uniquechatoff" - Disables unique-chat mode.',"UniqueChatCommandHandler"),handler:this.unsetUniqueChatMode,permissionLevel:m.b.Moderator}))},n}(i.Component),Ze=t("fezU"),en=t("oK83"),nn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleUserCardCommand=function(e){return n.openUserCard(e)},n.openUserCard=function(e){return{deferred:new Promise((function(t){return Object(a.__awaiter)(n,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ce(e)];case 1:if(!n.sent())throw new Error("User ID not found");return this.props.onUserCommand(e,en.b.user_command,""),[3,3];case 2:return n.sent(),[2,t({notice:Object(o.d)("No user matching that login.","UserCardCommandHandler")})];case 3:return[2,t({})]}}))}))}))}},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return i.createElement(l,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"user",description:Object(o.d)("Display profile information about a user on this channel","UserCardCommandHandler"),handler:this.handleUserCardCommand,helpText:Object(o.d)('Usage: "/user <username>" - Displays information about a specific user on this channel.',"UserCardCommandHandler"),permissionLevel:m.b.Moderator})},n}(i.Component);var tn,an,rn=Object(Ze.b)((function(e){return{onUserCommand:e.onShowViewerCard}}))(nn),on=t("CpU+"),sn=t("fKMw"),dn=t("k/I/");!function(e){e.QUERY_ERROR="QUERY_ERROR"}(tn||(tn={})),function(e){e.UnVIP="vip-command-handler_unvip",e.VIP="vip-command-handler_vip",e.VIPs="vip-command-handler_vips"}(an||(an={}));var ln=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.vips=function(){return{deferred:o.p.apollo.client.query({query:dn,fetchPolicy:"network-only",variables:{login:n.props.channelLogin}}).then((function(e){var t=e.data;if(!t||!t.user||!t.user.vips)return{notice:n.getVIPsErrorMessage()};var i=t.user.vips.edges.filter((function(e){return e.node&&e.node.login}));if(0===i.length)return{notice:Object(o.d)("This channel does not have any VIPs.","VIPCommandHandler")};var a=i.map((function(e){return e.node&&e.node.login})).join(", ");return{notice:Object(o.d)("VIPs for this channel are: {vips}.",{vips:a},"VIPCommandHandler")}})).catch((function(){return{notice:n.getVIPsErrorMessage()}}))}},n.unVIPUser=function(e){var t=e.trim().split(/\s+/),i=n.getLogin(e);return 1===t.length&&i&&0!==i.length?{deferred:n.props.unVIPUserMutation(i).then((function(e){var t=e.revokeVIP;if(!t||!t.revokee||!t.revokee.login)return{notice:n.getUnVIPErrorMessage(tn.QUERY_ERROR)};var a=t.error,r=a&&a.code;return r?{notice:n.getUnVIPErrorMessage(r,i)}:{notice:Object(o.d)("You have removed {login} as a VIP of this channel.",{login:i},"VIPCommandHandler")}})).catch((function(){return{notice:n.getUnVIPErrorMessage(tn.QUERY_ERROR)}}))}:{deferred:Promise.resolve({notice:n.unvipUsage(),error:m.a.InvalidParameters})}},n.vipUser=function(e){var t=n.getLogin(e);return 1===e.trim().split(/\s+/).length&&t&&0!==t.length?{deferred:n.props.vipUserMutation(t).then((function(e){var i=e.grantVIP;if(!i||!i.grantee||!i.grantee.login)return{notice:n.getVIPErrorMessage(tn.QUERY_ERROR)};var a=i.error,r=a&&a.code;return r?{notice:n.getVIPErrorMessage(r,t)}:{notice:Object(o.d)("You have added {login} as a VIP of this channel.",{login:t},"VIPCommandHandler")}})).catch((function(){return{notice:n.getVIPErrorMessage(tn.QUERY_ERROR)}}))}:{deferred:Promise.resolve({notice:n.vipUsage(),error:m.a.InvalidParameters})}},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(l,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"vip","data-test-selector":an.VIP,description:Object(o.d)("Grant VIP status to a user","VIPCommandHandler"),handler:this.vipUser,helpText:this.vipUsage(),permissionLevel:m.b.Broadcaster}),i.createElement(l,{args:[{name:"username",isRequired:!0}],channelLogin:this.props.channelLogin,command:"unvip","data-test-selector":an.UnVIP,description:Object(o.d)("Revoke VIP status from a user","VIPCommandHandler"),handler:this.unVIPUser,helpText:this.unvipUsage(),permissionLevel:m.b.Broadcaster}),i.createElement(l,{channelLogin:this.props.channelLogin,command:"vips","data-test-selector":an.VIPs,description:Object(o.d)("Display a list of VIPs for this channel","VIPCommandHandler"),handler:this.vips,helpText:Object(o.d)('Usage: "/vips" - Lists the VIPs of this channel.',"VIPCommandHandler"),permissionLevel:m.b.Viewer}))},n.prototype.getLogin=function(e){var n=this.props.activeChattersAPI;return n&&n.getActiveChatterLoginFromDisplayName(e)||e},n.prototype.getCommonErrorMessage=function(e,n){switch(e){default:return"";case _.Ob.GRANTEE_NOT_FOUND:case _.Rc.REVOKEE_NOT_FOUND:return Object(o.d)("Invalid username: {login}.",{login:n},"VIPCommandHandler");case _.Ob.FORBIDDEN:case _.Rc.FORBIDDEN:return Object(o.d)("You don't have permission to perform that action.","VIPCommandHandler")}},n.prototype.getVIPErrorMessage=function(e,n){switch(void 0===n&&(n=""),e){case _.Ob.FORBIDDEN:case _.Ob.GRANTEE_NOT_FOUND:return this.getCommonErrorMessage(e,n);case _.Ob.GRANTEE_ALREADY_VIP:return Object(o.d)("{login} is already a VIP of this channel.",{login:n},"VIPCommandHandler");case _.Ob.GRANTEE_CHAT_BANNED:return Object(o.d)("{login} is banned in this channel. You must unban this user before granting VIP status.",{login:n},"VIPCommandHandler");case _.Ob.MAX_VIPS_REACHED:return Object(o.d)("Unable to add VIP. Visit the Achievements page on your dashboard to learn how to unlock additional VIP slots.","VIPCommandHandler");case _.Ob.VIP_ACHIEVEMENT_INCOMPLETE:return Object(o.d)("Unable to add VIP. Visit the Achievements page on your dashboard to learn how to unlock this feature.","VIPCommandHandler");case tn.QUERY_ERROR:case _.Ob.CHANNEL_NOT_FOUND:default:return Object(o.d)("Unable to add VIP.","VIPCommandHandler")}},n.prototype.getUnVIPErrorMessage=function(e,n){switch(void 0===n&&(n=""),e){case _.Rc.FORBIDDEN:case _.Rc.REVOKEE_NOT_FOUND:return this.getCommonErrorMessage(e,n);case _.Rc.REVOKEE_NOT_VIP:return Object(o.d)("{login} is not a VIP of this channel.",{login:n},"VIPCommandHandler");case tn.QUERY_ERROR:case _.Rc.CHANNEL_NOT_FOUND:default:return Object(o.d)("Unable to remove VIP.","VIPCommandHandler")}},n.prototype.getVIPsErrorMessage=function(){return Object(o.d)("There was a problem fetching the list of VIPs. Please try again.","VIPCommandHandler")},n.prototype.vipUsage=function(){return Object(o.d)('Usage: "/vip <username>" - Grants VIP status to a user. VIPs can bypass chat restrictions. Use "/unvip" to revoke VIP status. Use "/vips" to list the VIPs of this channel.',"VIPCommandHandler")},n.prototype.unvipUsage=function(){return Object(o.d)('Usage: "/unvip <username>" - Revokes VIP status from a user.',"VIPCommandHandler")},n}(i.Component),cn=Object(r.d)(Object(on.a)(),Object(sn.a)(),v.a)(ln),un=t("CzFK"),mn=t("TOso"),pn=t("NMMG"),fn=t("l1Uh"),hn=t("PrJw"),vn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleWhisperCommand=function(e){var t=Object(g.s)("/w "+e);if(!t||!t.recipientLogin||!t.body)return{preserveInput:!0,deferred:Promise.resolve({notice:n.whisperUsage(),error:m.a.InvalidParameters})};var i=t.recipientLogin,a=t.body;return n.props.isEmbedded||n.props.isPopout?{deferred:Promise.resolve({notice:Object(o.d)("Please use the whisper window for whispers.","WhisperCommandHandler")})}:i.toLowerCase()===n.props.userLogin?{deferred:Promise.resolve({notice:Object(o.d)("You cannot whisper to yourself.","WhisperCommandHandler")})}:n.props.userID?n.initiateWhisper(i,a):void 0},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return i.createElement(l,{args:[{name:"username",isRequired:!0},{name:"message",isRequired:!0}],channelLogin:this.props.channelLogin,command:"w",description:Object(o.d)("Whisper to another user","WhisperCommandHandler"),handler:this.handleWhisperCommand,helpText:this.whisperUsage(),hidden:!0,permissionLevel:m.b.Viewer})},n.prototype.initiateWhisper=function(e,n){var t=this;return{deferred:new Promise((function(i,r){return Object(a.__awaiter)(t,void 0,void 0,(function(){var t,s,d,l;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,ce(e)];case 1:return t=a.sent(),[3,3];case 2:return s=a.sent(),o.k.warn(s,"Failed to fetch user targeted by whisper command.",{recipientLogin:e}),[2,r(s)];case 3:return t?[3,4]:[2,i({notice:Object(o.d)("No user matching that login.","WhisperCommandHandler")})];case 4:d=Object(pn.a)(this.props.userID,t),a.label=5;case 5:return a.trys.push([5,7,,8]),Object(hn.r)({threadID:d,targetUserLogin:e,inChannelChat:!0}),[4,Object(mn.a)({currentUserID:this.props.userID,emotes:this.props.emoteMap||{},message:n,recipientUserID:t})];case 6:return a.sent(),[3,8];case 7:return l=a.sent(),o.k.errorAndReport(l,"Failed to send whisper using whisper command.",{currentUserID:this.props.userID,recipientUserID:t}),[2,i({notice:Object(o.d)("Unable to send Whisper at this moment.","WhisperCommandHandler")})];case 8:return this.props.openThread(d),[2,i({})]}}))}))}))}},n.prototype.whisperUsage=function(){return Object(o.d)('Usage: "/w <username> <message>" - Sends a private message to another user.',"WhisperCommandHandler")},n}(i.Component);var gn=Object(E.b)(null,(function(e){return Object(r.b)({openThread:function(e){return Object(un.l)({threadID:e,collapsed:!0},Object(fn.a)())}},e)}))(vn),bn=t("Awl1");t.d(n,"ChatCommandHandlers",(function(){return kn}));var kn=function(e){var n=e.emoteMap||{},t=e.channelID,a=e.isPopout,r=e.userLogin;return i.createElement(i.Fragment,null,i.createElement(U,{channelLogin:e.channelLogin,channelID:e.channelID,suppressLocalSuccessMessage:!0}),i.createElement(H,{channelLogin:e.channelLogin,isPopout:a}),i.createElement(R,{channelLogin:e.channelLogin}),i.createElement(x,{channelLogin:e.channelLogin}),i.createElement(q,{channelLogin:e.channelLogin,isPartner:e.isPartner}),i.createElement(G,{channelLogin:e.channelLogin}),i.createElement(Q,{channelLogin:e.channelLogin}),i.createElement(ae,{channelLogin:e.channelLogin,permissionLevel:e.permissionLevel}),i.createElement(re,{channelLogin:e.channelLogin}),i.createElement(me,{currentUserLogin:r,channelLogin:e.channelLogin}),i.createElement(pe,{channelLogin:e.channelLogin}),i.createElement(Pe,{channelID:t,channelLogin:e.channelLogin}),i.createElement(Ve,{channelLogin:e.channelLogin}),i.createElement(We,{channelID:t,channelLogin:e.channelLogin}),e.chatRules&&!!e.chatRules.length&&i.createElement(ze,{channelLogin:e.channelLogin}),i.createElement(Xe,{channelLogin:e.channelLogin}),i.createElement(Ke,{channelLogin:e.channelLogin}),i.createElement(Je,{channelLogin:e.channelLogin,sendMessage:e.sendMessage}),i.createElement(rn,{channelLogin:e.channelLogin,userLogin:r,userID:e.userID,isEmbedded:e.isEmbedded,isPopout:a}),i.createElement(cn,{channelID:t,channelLogin:e.channelLogin}),i.createElement(gn,{channelLogin:e.channelLogin,isEmbedded:e.isEmbedded,isPopout:a,userLogin:r,userID:e.userID,emoteMap:n}),i.createElement(bn.a,{channelLogin:e.channelLogin},i.createElement(Re,{channelLogin:e.channelLogin,channelID:e.channelID,userID:e.userID})))}},PrJw:function(e,n,t){"use strict";var i,a,r,o,s,d,l,c=t("mrSG"),u=t("/7QA"),m=t("2xye"),p=t("IZXT"),f=t("mBWp");function h(e){u.p.tracking.track(m.SpadeEventType.WhisperThreadMod,{conversation_id:e.threadID,action:e.action})}function v(e){return Object(c.__awaiter)(this,void 0,void 0,(function(){var n;return Object(c.__generator)(this,(function(t){switch(t.label){case 0:return[4,L()];case 1:return n=t.sent(),u.p.tracking.track(m.SpadeEventType.WhisperIgnoreUser,{ui_context:e.context,from_login:n&&n.login,ignored_login:e.targetUserLogin,reason:e.reason||i.Other,source:e.source}),[2]}}))}))}function g(e,n){return Object(c.__awaiter)(this,void 0,void 0,(function(){var t;return Object(c.__generator)(this,(function(i){switch(i.label){case 0:return[4,L()];case 1:return t=i.sent(),u.p.tracking.track(m.SpadeEventType.WhisperThreadMod,{conversation_id:e,action:n,login:t&&t.login}),[2]}}))}))}function b(e){u.p.tracking.track(m.SpadeEventType.WhisperAllThreadsMod,{action:e})}function k(){b(a.MarkAllRead)}function y(){b(a.EnableDoNotDisturb)}function S(){b(a.DisableDoNotDisturb)}function O(e,n){v({context:n,targetUserLogin:e,reason:i.Spam,source:"conversations_button"})}function C(e){g(e,s.MarkNotSpam)}function U(e){g(e,s.Archive)}function E(e){h({threadID:e,action:r.Mute})}function D(e){h({threadID:e,action:r.Unmute})}function P(e){h({threadID:e,action:r.Expand})}function _(e){h({threadID:e,action:r.Collapse})}function w(e){h({threadID:e,action:r.Close})}function N(e){h({threadID:e,action:r.Archive})}function I(e){u.p.tracking.track(m.SpadeEventType.WhisperThreadCreate,{conversation_id:e.threadID,target_login:e.targetUserlogin,source:"search_target_result",search_result_rank:e.searchResultRank})}function j(e){u.p.tracking.track(m.SpadeEventType.WhisperSearchClick,{query:e.searchQuery,source:"conversation_list",rank:e.searchResultRank,is_conversation:e.isConversation})}function L(){var e=this;return new Promise((function(n){setTimeout((function(){return Object(c.__awaiter)(e,void 0,void 0,(function(){var e,t,i;return Object(c.__generator)(this,(function(a){switch(a.label){case 0:e=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,u.p.apollo.client.query({query:f})];case 2:return e=a.sent(),[3,4];case 3:return t=a.sent(),Object(p.d)()?u.k.warn("Failed to make query for current user info in WhisperSent reporting"):u.k.errorAndReport(t,"Failed to make query for current user info in WhisperSent reporting"),[3,4];case 4:return i=e&&e.data&&e.data.currentUser,n(i),[2]}}))}))}))}))}function F(e){return Object(c.__awaiter)(this,void 0,void 0,(function(){var n;return Object(c.__generator)(this,(function(t){switch(t.label){case 0:return[4,L()];case 1:return n=t.sent(),u.p.tracking.track(m.SpadeEventType.WhisperSent,{to:e.targetUserLogin,from:n&&n.login,player:"web",is_turbo:n&&n.hasTurbo,conversation_id:e.threadID,availability:n&&n.availability,room_type:e.inChannelChat?d.Channel:d.Conversation,ui_context:e.context}),[2]}}))}))}function M(e){return Object(c.__awaiter)(this,void 0,void 0,(function(){var n;return Object(c.__generator)(this,(function(t){switch(t.label){case 0:return[4,L()];case 1:return n=t.sent(),u.p.tracking.track(m.SpadeEventType.WhisperReceived,{to:n&&n.login,from:e.targetUserLogin,player:"web",is_turbo:n&&n.hasTurbo,conversation_id:e.threadID}),[2]}}))}))}!function(e){e.Harassment="Harassment",e.Spam="Spam",e.Other="Other"}(i||(i={})),function(e){e.MarkAllRead="mark_all_read",e.EnableDoNotDisturb="do_not_disturb_on",e.DisableDoNotDisturb="do_not_disturb_off"}(a||(a={})),function(e){e.Mute="mute",e.Unmute="unmute",e.Expand="maximize",e.Collapse="minimize",e.Close="close",e.Archive="archive",e.Open="open"}(r||(r={})),function(e){e.Dock="dock",e.SpamPropmt="dock_spam_cta"}(o||(o={})),function(e){e.Archive="archive",e.MarkNotSpam="mark_not_spam"}(s||(s={})),function(e){e.Channel="channel",e.Conversation="conversation"}(d||(d={})),function(e){e.Default="default",e.ModView="mod_view",e.Sunlight="sunligh"}(l||(l={})),t.d(n,"a",(function(){return o})),t.d(n,"k",(function(){return k})),t.d(n,"i",(function(){return y})),t.d(n,"h",(function(){return S})),t.d(n,"m",(function(){return O})),t.d(n,"p",(function(){return C})),t.d(n,"o",(function(){return U})),t.d(n,"l",(function(){return E})),t.d(n,"n",(function(){return D})),t.d(n,"j",(function(){return P})),t.d(n,"f",(function(){return _})),t.d(n,"e",(function(){return w})),t.d(n,"c",(function(){return N})),t.d(n,"g",(function(){return I})),t.d(n,"d",(function(){return j})),t.d(n,"r",(function(){return F})),t.d(n,"q",(function(){return M})),t.d(n,"b",(function(){return l}))},"Pub/":function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t("HzXE");function a(e,n,t){try{return e.readQuery({query:i,variables:{channelID:n,targetUserID:t}})}catch(e){}}},RBh2:function(e,n,t){"use strict";t.d(n,"d",(function(){return s})),t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a})),t.d(n,"e",(function(){return d})),t.d(n,"c",(function(){return l}));var i,a,r=t("/7QA"),o=t("2xye");function s(e){var n={user_id:e.userID||null,channel_id:e.channelID,poll_id:e.pollID,total_responses:e.totalResponses,has_subscriber_bonus:e.hasSubscriberBonus,is_subscriber_only:e.isSubscriberOnly,bits_per_vote:e.bitsPerVote,channel_points_per_vote:e.communityPointsPerVote,poll_duration_seconds_remaining:e.pollDurationSecondsRemaining};r.o.track(o.SpadeEventType.PollsClientImpression,n)}function d(e){var n={user_id:e.userID||null,channel_id:e.channelID,poll_id:e.pollID,action:e.action,action_source:e.actionSource,bits_spent:e.bitsSpent||null,channel_points_spent:e.communityPointsSpent||null};r.o.track(o.SpadeEventType.PollsClientInteraction,n)}function l(e){var n=Date.parse(e.pollStartTime)+1e3*e.pollDuration-Date.now(),t={user_id:e.userID||null,poll_id:e.pollID,time_difference_ms:Math.abs(e.serverTimeRemaining-n),server_time_remaining_ms:e.serverTimeRemaining,client_time_remaining_ms:n,device_id:r.p.session.deviceID};r.o.track(o.SpadeEventType.PollsTimeDifferenceImpression,t)}!function(e){e.Vote="vote",e.Expand="expand",e.Collapse="collapse"}(i||(i={})),function(e){e.ChatCommand="chat_command",e.PollInput="poll_input"}(a||(a={}))},TOso:function(e,n,t){"use strict";var i=t("mrSG"),a=t("/7QA"),r=t("cMjZ"),o=t("geRD"),s=t("f00E"),d=t("DMoW"),l=t("w09P"),c=t("xXlL"),u=t("U1yz"),m=t("a1OF");var p=t("3YIm"),f=t("NMMG"),h=t("Vl9+");function v(e){var n=e.currentUserID,t=e.emotes,v=e.message,g=e.recipientUserID;if(""===n||""===v||""===g)return Promise.reject(new Error("Tried to send a whisper with nonsensical parameters."));var b=Object(s.c)(),k=Object(i.__assign)({mutation:p},Object(o.a)({message:v,nonce:b,recipientUserID:g})),y=Object(f.a)(n,g),S=Object(u.a)(a.p.apollo.client.cache,y,!0);if(S&&S.messages){var O=function(e,n){for(var t=[],i=/\S+/g,a=i.exec(e);a;){var r=a[0],o=n[r];if(o){var s=Object(m.c)(e.slice(0,a.index)),d=s?s.length:a.index;t.push({id:o.id,start:d,end:d+r.length-1})}a=i.exec(e)}return t}(v,t).map(c.a);k.optimisticResponse={sendWhisper:{__typename:"SendWhisperPayload",message:{content:{content:v,emotes:O,__typename:"MessageBody"},from:{id:n,__typename:"User"},id:b,nonce:b,sentAt:(new Date).toISOString(),deletedAt:null,editedAt:null,thread:{id:y,__typename:"WhisperThread",participants:[{id:n,__typename:"User",self:{__typename:"UserSelfConnection",whisperPermissions:{receive:d.Vd.NOT_PERMITTED,__typename:"WhisperPermissions"}}},{id:g,__typename:"User",self:{__typename:"UserSelfConnection",whisperPermissions:{receive:d.Vd.PERMITTED,__typename:"WhisperPermissions"}}}]},__typename:"WhisperMessage"},error:null}},k.update=function(e,n){if(n.data){var t=n.data;if(t.sendWhisper&&t.sendWhisper.message&&!t.sendWhisper.error){var i=t.sendWhisper.message,a=Object(u.a)(e,y);if(a&&a.messages){var o=a.messages.edges.findIndex((function(e){return e.node.id===b||e.node.nonce===b||e.node.id===i.id}));if(o<0){var s={cursor:(1+S.messages.edges.reduce((function(e,n){return Math.max(parseInt(n.cursor,10),e)}),0)).toString(),node:i,__typename:"WhisperMessageEdge"};a=l(a,(function(e){return e.messages.edges}),(function(e){return e.unshift(s),e}))}else a=l(a,(function(e){return e.messages.edges[o].node}),(function(){return i}));a.userLastMessageRead&&(a=l(a,(function(e){return e.userLastMessageRead.sentAt}),(function(){return i.sentAt}))),a.unreadMessagesCount=0,e.writeFragment({id:Object(r.a)(a),fragment:h,data:a})}}}}}return a.p.apollo.client.mutate(k)}t.d(n,"a",(function(){return v}))},TvOw:function(e,n,t){"use strict";var i,a;t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return a})),function(e){e.Spam="spam",e.Harassment="harassment"}(i||(i={})),function(e){e.Spam="spam",e.Harassment="harassment",e.Other="other"}(a||(a={}))},U1yz:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t("2Dht");function a(e,n,t){try{var a=e.readQuery({query:i,variables:{id:n}},t);return a?a.whisperThread:null}catch(e){return null}}},"Vl9+":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"thread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WhisperThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLastMessageRead"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:243}};t.loc.source={body:"fragment thread on WhisperThread {\nmessages(first: 20) {\nedges {\ncursor\nnode {\nid\nnonce\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n}\n}\ndeletedAt\neditedAt\nsentAt\nfrom {\nid\n}\n}\n}\n}\nunreadMessagesCount\nuserLastMessageRead {\nid\nsentAt\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},Y5lD:function(e,n,t){"use strict";function i(e){return Math.floor((Date.now()-new Date(e).getTime())/1e3)}t.d(n,"a",(function(){return i}))},a2UF:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var i=t("mrSG"),a=t("yR8l"),r=t("Pub/"),o=t("HzXE"),s=t("1Rv/");function d(e){var n=this;return Object(a.a)(s,{props:function(t){return{unbanUserMutation:function(a){return Object(i.__awaiter)(n,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(s){switch(s.label){case 0:if(n=e(t.ownProps).channelID,!t.mutate||!n)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,t.mutate({variables:{input:{channelID:n,bannedUserLogin:a}},update:function(e,t){return function(e,n,t){if(n&&n.data&&n.data.unbanUserFromChatRoom&&n.data.unbanUserFromChatRoom.ban&&n.data.unbanUserFromChatRoom.ban.bannedUser&&n.data.unbanUserFromChatRoom.ban.bannedUser.id){var a=Object(r.a)(e,t,n.data.unbanUserFromChatRoom.ban.bannedUser.id);if(!a)return;e.writeQuery({query:o,variables:{targetUserID:n.data.unbanUserFromChatRoom.ban.bannedUser.id,channelID:t},data:Object(i.__assign)(Object(i.__assign)({},a),{chatRoomBanStatus:null})})}}(e,t,n)}})];case 2:return[2,s.sent().data];case 3:throw s.sent(),new Error("Unable to unban user");case 4:return[3,6];case 5:throw new Error("Unban user mutation is not ready");case 6:return[2]}}))}))}}}})}},eAdp:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateVideoBookmark"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateVideoBookmarkInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createVideoBookmark"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoBookmark"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:140}};t.loc.source={body:"mutation CreateVideoBookmark($input: CreateVideoBookmarkInput!) {\ncreateVideoBookmark(input: $input){\nvideoBookmark{\nid\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.CreateVideoBookmark=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"CreateVideoBookmark")},fKMw:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t("mrSG"),a=t("yR8l"),r=t("sMoq");function o(){var e=this;return Object(a.a)(r,{props:function(n){return{vipUserMutation:function(t){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return n.mutate&&n.ownProps.channelID?[4,n.mutate({variables:{input:{channelID:n.ownProps.channelID,granteeLogin:t}}})]:[2];case 1:return[2,e.sent().data]}}))}))}}}})}},gMwc:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoMarkersChatCommand"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:115}};t.loc.source={body:"query VideoMarkersChatCommand($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nstream {\nid\ncreatedAt\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.VideoMarkersChatCommand=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"VideoMarkersChatCommand")},"i/i4":function(e,n,t){},iS14:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var i=t("mrSG"),a=t("w09P"),r=t("yR8l"),o=t("ru7j"),s=t("zixI");function d(){var e=this;return Object(r.a)(s,{props:function(n){return{unblockUserMutation:function(t){return Object(i.__awaiter)(e,void 0,Promise,(function(){var e;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return n.mutate?[4,n.mutate({variables:{input:{targetUserID:t}},optimisticResponse:{unblockUser:{__typename:"UnblockUserPayload",targetUser:{__typename:"User",id:t}}},update:function(e){var n=null;try{n=e.readQuery({query:o})}catch(e){return}(null==n?void 0:n.currentUser)&&e.writeQuery({query:o,data:a(n,(function(e){return e.currentUser.blockedUsers}),(function(e){return e.filter((function(e){return!e||e.id!==t}))}))})}})]:[3,2];case 1:if(!(e=i.sent()))throw new Error("unblockUserMutation did not resolve with data");return[2,e];case 2:throw new Error("unblockUserMutation is not ready")}}))}))}}}})}},iyGE:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var i=t("mrSG"),a=t("yR8l"),r=t("Pub/"),o=t("HzXE"),s=t("4G6/"),d=t("4w0E");function l(e){var n=this;return Object(a.b)(d,{props:function(t){return{banUserMutation:function(a,d,l){return void 0===d&&(d=null),void 0===l&&(l=null),Object(i.__awaiter)(n,void 0,void 0,(function(){var n,c;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:if(n=e(t.ownProps).channelID,!t.mutate||!n)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),c=null,"number"==typeof d?c=Object(s.a)(d):"string"==typeof d&&(c=d),[4,t.mutate({variables:{input:{channelID:n,bannedUserLogin:a,expiresIn:c,reason:l}},update:function(e,t){return function(e,n,t){if(n&&n.data&&n.data.banUserFromChatRoom&&n.data.banUserFromChatRoom.ban&&n.data.banUserFromChatRoom.ban.bannedUser&&n.data.banUserFromChatRoom.ban.bannedUser.id){var a=Object(r.a)(e,t,n.data.banUserFromChatRoom.ban.bannedUser.id);if(!a)return;e.writeQuery({query:o,variables:{targetUserID:n.data.banUserFromChatRoom.ban.bannedUser.id,channelID:t},data:Object(i.__assign)(Object(i.__assign)({},a),{chatRoomBanStatus:{isPermanent:n.data.banUserFromChatRoom.ban.isPermanent,__typename:"ChatRoomBanStatus"}})})}}(e,t,n)}})];case 2:return[2,u.sent().data];case 3:throw u.sent(),new Error("Unable to ban user");case 4:return[3,6];case 5:throw new Error("Ban user mutation is not ready");case 6:return[2]}}))}))}}}})}},"k/I/":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VIPs"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vips"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:107}};t.loc.source={body:"query VIPs($login: String!) {\nuser(login: $login) {\nid\nvips(first: 100) {\nedges {\nnode {\nid\nlogin\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.VIPs=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"VIPs")},kIH7:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateRoomModes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateRoomModesInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateRoomModes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slowModeDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"r9kModeEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotesOnlyModeEnabled"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimumSlowModeDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maximumSlowModeDurationSeconds"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:254}};t.loc.source={body:"mutation UpdateRoomModes($input: UpdateRoomModesInput!) {\nupdateRoomModes(input: $input) {\nroom {\nid\nmodes {\nslowModeDurationSeconds\nr9kModeEnabled\nemotesOnlyModeEnabled\n}\n}\nerror {\ncode\nminimumSlowModeDurationSeconds\nmaximumSlowModeDurationSeconds\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UpdateRoomModes=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"UpdateRoomModes")},kSkr:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"BlockUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BlockUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"blockUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"targetUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:94}};t.loc.source={body:"mutation BlockUser($input: BlockUserInput!) {\nblockUser(input: $input) {\ntargetUser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.BlockUser=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"BlockUser")},l1Uh:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return r}));var i=null;function a(e){i=e}function r(){return i?+window.getComputedStyle(i).getPropertyValue("width").replace("px",""):0}},mBWp:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Whispers_Tracking_CurrentUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:86}};t.loc.source={body:"query Whispers_Tracking_CurrentUser {\ncurrentUser {\nid\nhasTurbo\navailability\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Whispers_Tracking_CurrentUser=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"Whispers_Tracking_CurrentUser")},nHtq:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PollCommandHandler_ChannelData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:139}};t.loc.source={body:"query PollCommandHandler_ChannelData($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nroles {\nisAffiliate\nisPartner\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.PollCommandHandler_ChannelData=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"PollCommandHandler_ChannelData")},sAMt:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}},{kind:"Argument",name:{kind:"Name",value:"lookupType"},value:{kind:"EnumValue",value:"ALL"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:78}};t.loc.source={body:"query ChatUser($login: String!) {\nuser(login: $login lookupType: ALL) {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ChatUser=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"ChatUser")},sMoq:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"VIPUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"GrantVIPInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantVIP"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:122}};t.loc.source={body:"mutation VIPUser($input: GrantVIPInput!){\ngrantVIP(input: $input) {\nchannel {\nid\n}\ngrantee {\nid\nlogin\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.VIPUser=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"VIPUser")},xXlL:function(e,n,t){"use strict";function i(e){return{id:""+e.id,start:e.start,end:e.end}}function a(e){return{__typename:"WhisperMessageEdge",cursor:""+e.data_object.id,node:{__typename:"WhisperMessage",id:e.data_object.message_id,nonce:e.data_object.nonce,sentAt:new Date(1e3*e.data_object.sent_ts).toISOString(),editedAt:null,deletedAt:null,content:{__typename:"MessageBody",content:e.data_object.body,emotes:e.data_object.tags.emotes.map((function(e){return o(i(e))}))},from:{__typename:"User",id:""+e.data_object.from_id}}}}function r(e){return e.map((function(e){return o(i(e))}))}function o(e){return{from:e.start,to:e.end,emoteID:e.id,id:e.id+";"+e.start+";"+e.end,setID:"0",__typename:"EmbeddedEmote"}}t.d(n,"c",(function(){return a})),t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return o}))},yXtP:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_UpdateChatColor"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateChatColorInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateChatColor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:120}};t.loc.source={body:"mutation Chat_UpdateChatColor($input: UpdateChatColorInput!){\nupdateChatColor(input: $input) {\nuser {\nid\nchatColor\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Chat_UpdateChatColor=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"Chat_UpdateChatColor")},ygQa:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t("mrSG"),a=t("yR8l"),r=t("yXtP");function o(){var e=this;return Object(a.b)(r,{props:function(n){return{updateChatColorMutation:function(t){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,n.mutate({variables:{input:{color:t}}})];case 1:return[2,e.sent().data]}}))}))}}}})}},yzwe:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t("mrSG"),a=t("yR8l"),r=t("FAYk");function o(e){var n=this;return Object(a.b)(r,{props:function(t){return{unmodUserMutation:function(a){return Object(i.__awaiter)(n,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){if(n=e(t.ownProps).channelID)return[2,t.mutate({variables:{input:{channelID:n,targetLogin:a}}}).then((function(e){return e.data}))];throw new Error("unmodUser mutation is not ready")}))}))}}}})}},zixI:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnblockUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnblockUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unblockUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"targetUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:100}};t.loc.source={body:"mutation UnblockUser($input: UnblockUserInput!) {\nunblockUser(input: $input) {\ntargetUser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UnblockUser=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"UnblockUser")}}]);