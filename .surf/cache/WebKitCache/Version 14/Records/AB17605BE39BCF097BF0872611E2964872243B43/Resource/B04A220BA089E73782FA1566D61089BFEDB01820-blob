(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{"/4rI":function(e,t,n){},"/ZC1":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),o=n("q1tI"),a=n("6LIJ"),r=n("hnjF"),s=n("yymn"),l=(n("sL9O"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isDraggingOver:!1},t.onDragEnter=function(e){e.preventDefault(),t.setState({isDraggingOver:!0})},t.onDragLeave=function(e){e.preventDefault(),t.setState({isDraggingOver:!1})},t.onFileInputChange=function(e){e.preventDefault(),t.finalizeSelections(e.target.files),e.target.value=""},t.onFileDrop=function(e){e.preventDefault(),t.setState({isDraggingOver:!1}),t.finalizeSelections(e.dataTransfer.files)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(a.a,{dragOver:this.state.isDraggingOver,error:this.props.error},o.createElement(r.a,{position:s.n.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,zIndex:s.s.Above},o.createElement("input",{"data-a-target":"file-picker-input","data-test-selector":"file-picker-input",className:"drag-and-drop-file-picker__input",accept:this.props.allowedFileTypes.join(","),multiple:this.props.multiFile||!1,onChange:this.onFileInputChange,type:"file",onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter,onDrop:this.onFileDrop})),this.props.children)},t.prototype.finalizeSelections=function(e){e&&this.props.onFilesSubmitted(Array.from(e))},t}(o.Component))},"0HeA":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u}));var i,o,a=n("/7QA"),r=n("DMoW"),s=n("2xye");function l(e){a.o.track(s.SpadeEventType.PanelRecommendationsRender,{active_panel_extensions:e.activePanelExtensions,channel_id:e.channelID,user_agent:navigator.userAgent})}!function(e){e.Default="default",e.Extension="extension"}(o||(o={}));var c=((i={})[r.mc.DEFAULT]=o.Default,i[r.mc.EXTENSION]=o.Extension,i);function d(e,t){a.o.track(e,{panel_id:t.panelID,panel_type:c[t.panelType],channel_id:t.channelID,panel_target:t.panelTarget||null})}function u(e){a.o.track(s.SpadeEventType.PanelsEditModeToggle,{action:e.editModeOn?"on":"off",channel:e.channelLogin,channel_id:e.channelID,user_agent:navigator.userAgent})}},"1pP+":function(e,t,n){},"1uty":function(e,t,n){"use strict";var i="_erd";function o(e){return e[i]}e.exports={initState:function(e){return e[i]={},o(e)},getState:o,cleanState:function(e){delete e[i]}}},"1z7r":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ExtensionConfigureApplyExtensionActivations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ApplyExtensionActivationsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"applyExtensionActivations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"installedExtensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activationConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slot"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requiredActions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canActivate"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:294}};n.loc.source={body:"mutation ExtensionConfigureApplyExtensionActivations ($input: ApplyExtensionActivationsInput!) {\napplyExtensionActivations(input: $input) {\ninstalledExtensions {\nid\nactivationConfig {\nanchor\nslot\nstate\n}\nextension {\nid\nclientID\nname\nversion\n}\nrequiredActions {\ntype\n}\nself {\ncanActivate\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionConfigureApplyExtensionActivations=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionConfigureApplyExtensionActivations")},"22qk":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return u}));var i=n("tLDJ");function o(e,t){return"/"+(Object(i.y)()?"extensions":"ext")+"/"+m(e,t)}function a(e,t,n){return{pathname:""+s(e),search:"?configure=true&extensionID="+m(t,n)}}function r(e){return Object(i.y)()?"/u/"+e+"/extensions":"/"+e+"/dashboard/extensions"}function s(e){return Object(i.y)()?"/u/"+e+"/extensions/manage":"/"+e+"/dashboard/extensions/manage"}function l(e){return Object(i.y)()?"/u/"+e+"/extensions/whitelisted":"/"+e+"/dashboard/extensions/whitelisted"}function c(e,t){return{pathname:Object(i.y)()?"/u/"+e+"/extensions/permissions":"/"+e+"/dashboard/extensions/permissions",state:t}}function d(e){return"/"+(Object(i.y)()?"extensions":"ext")+"/categories/"+e}function u(e){var t=encodeURIComponent(e);return"/"+(Object(i.y)()?"extensions":"ext")+"/search?q="+t}function m(e,t){return t?e+"-"+t:e}},"4Oe1":function(e,t,n){var i=n("YO3V");e.exports=function(e){return i(e)?void 0:e}},"6LIJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("pVnL"),o=n.n(i),a=n("q1tI"),r=n("fNzW"),s=n("vCsY"),l=n("Ws8v"),c=n("yymn"),d=(n("/4rI"),function(e){var t={"tw-drop-zone":!0,"tw-drop-zone--over":e.dragOver,"tw-drop-zone--error":e.error,"tw-drop-zone--disabled":e.disabled};return a.createElement(l.a,o()({className:Object(r.a)(t)},Object(s.a)(e),{alignItems:c.b.Center,borderRadius:e.borderRadius,display:c.g.Flex,fullHeight:!0,fullWidth:!0,justifyContent:c.l.Center,position:c.n.Absolute,attachTop:!0,attachLeft:!0}),a.createElement("div",{className:"tw-drop-zone__content"},e.children))});d.displayName="DropZone",d.defaultProps={borderRadius:c.e.Medium},d.displayName="DropZone"},"7sSR":function(e,t,n){"use strict";var i=n("t3DW").forEach,o=n("W+U1"),a=n("Sa1T"),r=n("LO96"),s=n("UFhH"),l=n("q7TX"),c=n("GOnX"),d=n("wnTG"),u=n("1uty"),m=n("GNKm"),p=n("yUZ2");function h(e){return Array.isArray(e)||void 0!==e.length}function f(e){if(Array.isArray(e))return e;var t=[];return i(e,(function(e){t.push(e)})),t}function g(e){return e&&1===e.nodeType}function v(e,t,n){var i=e[t];return null==i&&void 0!==n?n:i}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=r(),b=s({idGenerator:n,stateHandler:u});t=b}var E=e.reporter;E||(E=l(!1===E));var y=v(e,"batchProcessor",d({reporter:E})),x={};x.callOnAdd=!!v(e,"callOnAdd",!0),x.debug=!!v(e,"debug",!1);var k,S=a(t),C=o({stateHandler:u}),I=v(e,"strategy","object"),w={reporter:E,batchProcessor:y,stateHandler:u,idHandler:t};if("scroll"===I&&(c.isLegacyOpera()?(E.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),I="object"):c.isIE(9)&&(E.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),I="object")),"scroll"===I)k=p(w);else{if("object"!==I)throw new Error("Invalid strategy name: "+I);k=m(w)}var O={};return{listenTo:function(e,n,o){function a(e){var t=S.get(e);i(t,(function(t){t(e)}))}function r(e,t,n){S.add(t,n),e&&n(t)}if(o||(o=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!o)throw new Error("Listener required.");if(g(n))n=[n];else{if(!h(n))return E.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=f(n)}var s=0,l=v(e,"callOnAdd",x.callOnAdd),c=v(e,"onReady",(function(){})),d=v(e,"debug",x.debug);i(n,(function(e){u.getState(e)||(u.initState(e),t.set(e));var m=t.get(e);if(d&&E.log("Attaching listener to element",m,e),!C.isDetectable(e))return d&&E.log(m,"Not detectable."),C.isBusy(e)?(d&&E.log(m,"System busy making it detectable"),r(l,e,o),O[m]=O[m]||[],void O[m].push((function(){++s===n.length&&c()}))):(d&&E.log(m,"Making detectable..."),C.markBusy(e,!0),k.makeDetectable({debug:d},e,(function(e){if(d&&E.log(m,"onElementDetectable"),u.getState(e)){C.markAsDetectable(e),C.markBusy(e,!1),k.addListener(e,a),r(l,e,o);var t=u.getState(e);if(t&&t.startSize){var p=e.offsetWidth,h=e.offsetHeight;t.startSize.width===p&&t.startSize.height===h||a(e)}O[m]&&i(O[m],(function(e){e()}))}else d&&E.log(m,"Element uninstalled before being detectable.");delete O[m],++s===n.length&&c()})));d&&E.log(m,"Already detecable, adding listener."),r(l,e,o),s++})),s===n.length&&c()},removeListener:S.removeListener,removeAllListeners:S.removeAllListeners,uninstall:function(e){if(!e)return E.error("At least one element is required.");if(g(e))e=[e];else{if(!h(e))return E.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=f(e)}i(e,(function(e){S.removeAllListeners(e),k.uninstall(e),u.cleanState(e)}))}}}},"8sUD":function(e,t,n){},BaCc:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionPanel_BitsBalance"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:67}};n.loc.source={body:"query ExtensionPanel_BitsBalance {\ncurrentUser {\nid\nbitsBalance\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionPanel_BitsBalance=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionPanel_BitsBalance")},CUlp:function(e,t,n){var i,o;"undefined"!=typeof window&&window,void 0===(o="function"==typeof(i=function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var a=n[o];i&&i[a]&&(this.off(e,a),delete i[a]),a.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?i.call(t,n,t,e):i)||(e.exports=o)},"EZh/":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=3,o="extensions_dynamic_management",a="extension_content_recommendations"},EgbR:function(e,t,n){},EjwI:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionPanelAuthoredExtensions"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extensionClients"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:85}};n.loc.source={body:"query ExtensionPanelAuthoredExtensions {\nextensionClients {\nedges {\nnode {\nid\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionPanelAuthoredExtensions=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionPanelAuthoredExtensions")},EuHz:function(e,t,n){"use strict";n.r(t);var i,o=n("/MKj"),a=n("mrSG"),r=n("1hWM"),s=n("w09P"),l=n("q1tI"),c=n("pQUg"),d=n.n(c),u=n("YJCA"),m=n("ANjH"),p=n("/7QA"),h=n("yR8l"),f=n("geRD"),g=n("D7An"),v=n("DMoW"),b=n("5zC2"),E=n("w1PT"),y=n("1rIY"),x=Object(y.a)("ExtensionActionContext",{currentChannelID:null,currentActionRequest:null,currentActionRequestUI:null,sendActionResult:function(){return null}}),k=x.context,S=x.withContext,C=n("MU5F"),I=n("x7UT"),w=n("/aPz"),O=n("2xye");!function(e){e[e.ADD_EMAIL=0]="ADD_EMAIL",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.CONFIRMATION=2]="CONFIRMATION"}(i||(i={}));var P=n("8EUQ"),D=n("KriR");var N,T=n("TilG"),_=1e4;!function(e){e[e.NotStarted=0]="NotStarted",e[e.InProgress=1]="InProgress",e[e.Confirming=2]="Confirming",e[e.TimedOut=3]="TimedOut",e[e.Subscribed=4]="Subscribed",e[e.Cancelled=5]="Cancelled",e[e.Error=6]="Error",e[e.ProductNotAvailable=7]="ProductNotAvailable"}(N||(N={}));var R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={checkoutProgress:i.NOT_STARTED,subscriptionState:N.NotStarted},t.onCheckoutModalClosed=function(){t.state.checkoutProgress!==i.CONFIRMATION&&t.setState({subscriptionState:N.Cancelled})},t.onCheckoutProgress=function(e){e===i.CONFIRMATION&&(t.waitForPubsubTimeout=setTimeout((function(){t.waitForPubsubTimeout=void 0,t.setState({subscriptionState:N.TimedOut})}),_),t.setState({subscriptionState:N.Confirming})),t.setState({checkoutProgress:e})},t}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.props.currentSubscriptionData;if(n)if(this.state.subscriptionState!==N.Error&&n.error)this.setState({subscriptionState:N.Error});else if(this.state.subscriptionState!==N.NotStarted||n.loading){if(t.subscriptionState===this.state.subscriptionState){if(this.state.subscriptionState===N.Confirming){var i=this.didUserReceiveSubscription(e),o=!!this.props.pubsub.messages.entitlementMessage;i?(clearTimeout(this.waitForPubsubTimeout),this.waitForPubsubTimeout=void 0,this.setState({subscriptionState:N.Subscribed})):o&&this.waitForPubsubTimeout?(clearTimeout(this.waitForPubsubTimeout),this.waitForPubsubTimeout=void 0,n.refetch()):this.waitForPubsubTimeout||this.setState({subscriptionState:N.Cancelled})}return}switch(this.state.subscriptionState){case N.Confirming:n.refetch();break;case N.TimedOut:this.setState({subscriptionState:N.Confirming});break;case N.Subscribed:case N.Cancelled:case N.Error:case N.ProductNotAvailable:this.handleActionResult()}}else this.handleActionRequest()},t.prototype.render=function(){return null},t.prototype.didUserReceiveSubscription=function(e){var t=this.props.currentSubscriptionData,n=e.currentSubscriptionData;if(!t||!n)return!1;var i=t.user,o=n.user;if(!(i&&i.self&&o&&o.self))return!1;var a=null===o.self.subscriptionBenefit&&null!==i.self.subscriptionBenefit,r=!(!i.self.subscriptionBenefit||!o.self.subscriptionBenefit||i.self.subscriptionBenefit.tier===o.self.subscriptionBenefit.tier);return a||r},t.prototype.handleActionRequest=function(){var e=this.props,t=e.currentActionRequest,n=e.currentSubscriptionData;if(t&&n){var i=n.user;if(i&&i.subscriptionProducts&&i.self){var o=i.self.subscriptionBenefit&&i.self.subscriptionBenefit.tier,a=null;switch(t.options.tier){case C.ActionRequestSubTier.Upsell:var r=function(e,t){if(!t)return null;var n=t.filter((function(e){return null!==e})).sort((function(e,t){return e.tier<t.tier?-1:e.tier>t.tier?1:-0})),i=n.findIndex((function(t){return t.tier===e}));return null===e?n[0]:i===n.length-1?null:n[i+1]}(o,i.subscriptionProducts);r&&(a=r.name);break;default:var s=i.subscriptionProducts.find((function(e){return null!==e&&t.options.tier===e.tier}));s&&(a=s.name)}a?(this.setState({subscriptionState:N.InProgress}),this.openCheckout(a)):this.setState({subscriptionState:N.ProductNotAvailable})}}},t.prototype.handleActionResult=function(){this.props.sendActionResult({didSubscribe:this.state.subscriptionState===N.Subscribed})},t.prototype.openCheckout=function(e){var t=this.props,n=t.currentActionRequest,i=t.currentSubscriptionData,o=t.showSubscriptionCheckout;if(n&&i){var a=i.currentUser,r=i.user;p.o.track(O.SpadeEventType.ExtensionSubscribeToChannelActionInit,{action:n.options.tier,channel_id:r&&r.id||"",channel:r&&r.login||"",extension_id:n.extensionId,product_name:e,user_id:a&&a.id||"",user:a&&a.login||""}),P.a.clearSubscriptionCheckoutKeys(),p.n.set(P.a.SUB_CHECKOUT__PRODUCT_KEY,e),o({productName:e,onCheckoutProgress:this.onCheckoutProgress,onClose:this.onCheckoutModalClosed,trackingContext:{detail:n.extensionId,source:D.a.Extension}})}},t}(l.Component),j=Object(m.d)(Object(h.a)(T,{name:"currentSubscriptionData",options:function(e){return{variables:{channelID:e.currentChannelID}}},skip:function(e){return!e.currentActionRequest||!e.currentChannelID}}),Object(I.a)([{topic:function(e){return Object(w.V)(e.currentSubscriptionData&&e.currentSubscriptionData.currentUser&&e.currentSubscriptionData.currentUser.id||"")},mapMessageTypesToProps:{"*":"entitlementMessage"},skip:function(e){return!e.currentSubscriptionData||!e.currentSubscriptionData.currentUser||!e.currentSubscriptionData.currentUser.id}}]))(R);var F,L=Object(m.d)(S((function(e){return{currentActionRequest:e.currentActionRequest,currentChannelID:e.currentChannelID,sendActionResult:e.sendActionResult}})),Object(o.b)(null,(function(e){return Object(m.b)({showSubscriptionCheckout:E.a},e)})))(j),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentActionRequest:null,currentActionRequestUI:null,isGlobalRender:!1},t.handleModalRequest=function(e){var n=null,i=!1;switch(e.action){case r.FunctionAction.SubscribeToChannel:n=l.createElement(L,null),i=!0;break;default:return}t.setState({currentActionRequest:e,currentActionRequestUI:n,isGlobalRender:i})},t.sendActionResult=function(e){var n=t.state.currentActionRequest;n&&n.resultCallback&&n.resultCallback(e),t.setState({currentActionRequest:null,currentActionRequestUI:null,isGlobalRender:!1})},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){r.extensionService.on(r.ExtensionServiceEvents.RequestModal,this.handleModalRequest)},t.prototype.componentWillUnmount=function(){r.extensionService.off(r.ExtensionServiceEvents.RequestModal,this.handleModalRequest)},t.prototype.render=function(){return l.createElement(k.Provider,{value:{currentChannelID:this.props.channelID,currentActionRequest:this.state.currentActionRequest,currentActionRequestUI:this.state.currentActionRequestUI,sendActionResult:this.sendActionResult}},this.state.isGlobalRender&&this.state.currentActionRequestUI,this.props.children)},t}(l.Component),B=n("OzNJ"),M=n("GnwI"),U=n("sUnt"),z=n("Ws8v"),W=n("yymn"),q=n("+80q"),H=n("K/KT"),V=n("7JxC"),G=n("6x+I"),Y=n("yMEX"),K=n("geji"),Q=n("JVUd"),X=n("0HeA"),J=n("Jsra"),$=n("CGUg"),Z=n("vCsY");n("ZAO/");!function(e){e.Description="description_test_selector",e.Image="image_test_selector",e.Link="link_url_test_selector",e.Panel="channel_panel_test_selector",e.Title="title_test_selector"}(F||(F={}));var ee,te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={imageURL:t.props.panel.imageURL,urlChanged:!1},t.onPanelImageError=function(){if(!t.state.urlChanged){var e=new URL(t.state.imageURL),n="";"static-cdn.jtvnw.net"===e.hostname?n="https://panels-images.twitch.tv/"+e.pathname.split("/")[2]:"panels-images.twitch.tv"===e.hostname&&(n="https://static-cdn.jtvnw.net/jtv_user_pictures"+e.pathname),t.setState({imageURL:n,urlChanged:!0})}},t.onDescriptionClick=function(e){var n=e.target;if("A"===n.nodeName){var i=n;t.trackClick(i.href)}},t.onImageClick=function(){t.props.panel.linkURL&&t.trackClick(t.props.panel.linkURL)},t.trackClick=function(e){var n=t.props.panel.id;n&&Object(X.a)(O.SpadeEventType.PanelClick,{panelID:n,channelID:t.props.channelID,panelType:t.props.panel.type,panelTarget:e})},t.trackImpression=function(){var e=t.props.panel.id;e&&Object(X.a)(O.SpadeEventType.PanelImpression,{panelID:e,channelID:t.props.channelID,panelType:t.props.panel.type})},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.impressionListener.registerImpressionCallback(this.trackImpression)},t.prototype.render=function(){var e=this.state.imageURL,t=this.props.panel.imageURL?l.createElement("img",{"data-test-selector":F.Image,src:e,onError:this.onPanelImageError,alt:Object(p.d)("Panel Content","ChannelPanels")}):"";t&&this.props.panel.linkURL&&(t=l.createElement(J.a,{linkTo:this.props.panel.linkURL,onClick:this.onImageClick,targetBlank:!0,"data-test-selector":F.Link},t));var n=null;return this.props.panel.description&&(n=l.createElement("div",{onClick:this.onDescriptionClick,"data-test-selector":F.Description},l.createElement($.a,null,l.createElement(G,Object(a.__assign)({source:Object(K.b)(this.props.panel.description)},K.a))))),l.createElement(Y.a,{name:"DefaultPanel"},l.createElement(U.a,Object(a.__assign)({className:"default-panel",margin:{bottom:2,right:2},"data-test-selector":F.Panel},Object(Z.a)(this.props)),this.props.panel.title&&l.createElement(q.a,{type:q.e.H3,"data-test-selector":F.Title},this.props.panel.title),t,n))},t}(l.Component),ne=Object(m.d)(Object(Q.a)("DefaultPanel",{pixels:100}))(te),ie=n("TVJu"),oe=n("7d/q"),ae=n("C7sF"),re=n("hnjF"),se=n("b7S+"),le=n("7uM4"),ce=n("hbnN"),de=n("wUQP"),ue=n("XDCx"),me=n("qyxT"),pe=n("SN/u"),he=n("cZKs"),fe=n("lBSt"),ge=n("atdg"),ve=n("eJ65"),be=n("kRBY"),Ee=n("qCDY"),ye=n("Ty5D"),xe=n("22qk"),ke=n("i4Ys"),Se=n("IbuL"),Ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.internalTrackingMediums=[O.PageviewMedium.Channel,O.PageviewMedium.ExtensionCategory,O.PageviewMedium.ExtensionConfiguration,O.PageviewMedium.ExtensionDiscovery,O.PageviewMedium.ExtensionInstalledModal,O.PageviewMedium.ExtensionManagement,O.PageviewMedium.ExtensionManagerCarousel,O.PageviewMedium.ExtensionPage,O.PageviewMedium.ExtensionSearch],t.goBack=function(){var e=t.props,n=e.channelLogin,i=e.location,o=e.history;!n||i.state&&t.internalTrackingMediums.includes(i.state.medium)?o.goBack():o.push(Object(xe.c)(n))},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.showBackLink;return l.createElement(z.a,{background:W.d.Alt2,display:W.g.Flex},n&&l.createElement(z.a,{border:!0,color:W.f.Link,display:W.g.Flex,flexGrow:0},l.createElement(ke.a,{ariaLabel:Object(p.d)("Navigate to previous page","ExtensionPageHeader"),onClick:this.goBack},l.createElement(U.a,{padding:{x:1}},l.createElement(Se.a,{asset:ae.a.AngleLeft})))),l.createElement(z.a,{border:!0,display:W.g.Flex,flexGrow:1,padding:2},l.createElement(q.a,{id:ge.a,type:q.e.H4},t)))},t}(l.Component),Ie=Object(ye.k)(Ce),we=n("EZh/"),Oe=n("5IFo"),Pe=n("uXHW"),De=n("L/cU"),Ne=n("fPaz"),Te=n("AFv4"),_e=n("dEDE"),Re=n("ygYM"),je=n("PL8s"),Fe=n("X9a5");!function(e){e.ActivateButton="extension-configure-activate-button",e.ActivateDropdown="extension-configure-activate-dropdown"}(ee||(ee={}));var Le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasCardImageError:!1},t.onClickReplace=function(e){var n=e.currentTarget.dataset.slot;t.activateExtension(n)},t.onClickActivate=function(){t.activateExtension()},t.onCardImageError=function(){t.setState({hasCardImageError:!0})},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.channelID,n=e.extensionID,i=e.trackingContext,o=n.split("-"),a=o[0],r=o[1];this.fetchExtensions(t),Object(Oe.g)({extensionClientID:a,extensionVersion:r,medium:i.medium})},t.prototype.render=function(){var e=this.props,t=e.channelID,n=e.channelLogin,i=e.includeActivateOption,o=e.languageCode,a=e.locale,s=this.findExtensionFromInstallations(),c=null;if(s){var d=s.extension;c=l.createElement(U.a,{display:W.g.Flex,flexDirection:W.h.Column,fullWidth:!0},l.createElement(U.a,{padding:{bottom:1}},l.createElement(Pe.a,{row:!0,border:!1},l.createElement(De.a,{alt:d.name,src:this.state.hasCardImageError?p.a.defaultAvatarURL:d.iconUrl,aspect:Ne.c.Aspect1x1,size:De.b.Size6,onError:this.onCardImageError}),l.createElement(Te.a,null,l.createElement(U.a,{padding:1},l.createElement(q.a,{id:ge.a,type:q.e.H4},d.name),l.createElement(q.a,{type:q.e.Span,color:W.f.Alt2},Object(p.d)("Created by {extensionAuthor}",{extensionAuthor:d.authorName},"ExtensionConfigurePresentation")))))),l.createElement(U.a,{flexGrow:1,fullHeight:!0},l.createElement(Ee.a,{channelID:t,channelLogin:n,className:"",extensionMode:r.ExtensionMode.Config,installation:s,languageCode:o,locale:a,login:n,loginID:t,isPopout:!1,isHidden:!1})))}else c=this.renderPlaceholders();var u=l.createElement(Ie,{channelLogin:n,showBackLink:!1,title:Object(p.d)("Configure","ExtensionConfigurePresentation")});return l.createElement(U.a,{padding:2,display:W.g.Flex,flexDirection:W.h.Column,fullHeight:!0},u,l.createElement(z.a,{borderRight:!0,borderLeft:!0,borderBottom:!0,display:W.g.Flex,flexGrow:1,padding:2},c),i&&this.renderFooter())},t.prototype.renderFooter=function(){var e=this,t=Object(p.d)("Activate","ExtensionConfigurePresentation"),n=l.createElement(_e.a,{"data-test-selector":ee.ActivateButton,onClick:this.onClickActivate},t),i=this.props.extensionConfigureData.currentUser;if(i&&i.installedExtensions){var o=i.installedExtensions.filter((function(e){return e.activationConfig.state===v.a.ACTIVE&&e.activationConfig.anchor===v.Cb.PANEL}));o.length===we.c&&(n=l.createElement(ve.a,null,l.createElement(_e.a,{"data-test-selector":ee.ActivateDropdown,dropdown:!0},t),l.createElement(Re.a,{direction:Re.b.TopRight,offsetY:"-0.1rem",noTail:!0},o.reduce((function(t,n){var i=n.extension,o=i.clientID,a=i.name,r=i.version;return e.props.extensionID!==o+"-"+r&&t.push(l.createElement(ke.a,{blurAfterClick:!0,"data-slot":n.activationConfig.slot,key:n.id,onClick:e.onClickReplace},l.createElement(U.a,{padding:{x:1,y:.5}},Object(p.d)("Replace {extension}",{extension:a},"ExtensionConfigurePresentation")))),t}),[]))))}return l.createElement(z.a,{background:W.d.Alt2,display:W.g.Flex,justifyContent:W.l.End,border:!0,padding:2},n)},t.prototype.renderPlaceholders=function(){return l.createElement(U.a,{fullWidth:!0},l.createElement(U.a,{display:W.g.Flex,alignItems:W.b.Center,padding:{y:1}},l.createElement(U.a,null,l.createElement(je.a,{width:60,height:60})),l.createElement(U.a,{padding:{left:1}},l.createElement(je.a,{lineCount:2,width:200}))))},t.prototype.fetchExtensions=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,r.extensionService.getInstalledExtensions(e)];case 1:return t=n.sent(),this.setState({installedExtensions:Object(fe.extensionInstallationsFromRest)(t)}),[2]}}))}))},t.prototype.findExtensionFromInstallations=function(){var e=this,t=this.state.installedExtensions;if(t)return t.find((function(t){var n=t.extension;return e.props.extensionID===n.clientId+"-"+n.version}))},t.prototype.activateExtension=function(e){var t=this.props,n=t.activateExtension,i=t.extensionID;n&&n(i,e)},t}(l.Component);var Ae=Object(m.d)(Object(o.b)((function(e){var t=Object(be.e)(e);return{channelID:t&&t.id||"",channelLogin:t&&t.login||"",languageCode:Object(be.b)(e),locale:Object(be.d)(e)}})),Object(h.a)(Fe,{name:"extensionConfigureData",options:{fetchPolicy:"network-only"}}))(Le),Be=(n("nH1N"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.activateExtension,n=e.extensionID,i=e.includeActivateOption,o=e.onClose,a=e.trackingContext;return l.createElement(z.a,{background:W.d.Base,className:"extension-configure-modal"},l.createElement(Ae,{extensionID:n,includeActivateOption:i,activateExtension:t,trackingContext:a}),l.createElement(he.a,{closeOnBackdropClick:!0,onClose:o}))},t}(l.Component)),Me=n("MM5q"),Ue=n("1z7r"),ze=n("zmT9"),We=n("T14b");n("UeP2");var qe,He,Ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={extensionIcon:t.props.iconURL},t.installExtension=function(){var e=t.props,n=e.extensionID;(0,e.installExtension)(n)},t.onCardImageError=function(){t.setState({extensionIcon:p.a.defaultAvatarURL})},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.impressionListener.registerImpressionCallback((function(){var t=e.props,n=t.extensionClientID,i=t.trackingContext;Object(Oe.d)({extensionClientID:n,extensionIndex:i.contentIndex||0,location:i.location})}))},t.prototype.render=function(){var e=this.props,t=e.authorName,n=e.extensionClientID,i=e.extensionName,o=e.extensionVersion,a=e.isActivated,r=e.summary,s=e.trackingContext,c=this.state.extensionIcon,d=s.contentIndex,u=s.medium;return l.createElement(z.a,{background:W.d.Alt,border:!0,className:"extension-recommendation",display:W.g.Flex,flexDirection:W.h.Column,justifyContent:W.l.Between,padding:2},l.createElement(U.a,null,l.createElement(Pe.a,{row:!0,border:!1},l.createElement(De.a,{alt:i,src:c,aspect:Ne.c.Aspect1x1,size:De.b.Size6,onError:this.onCardImageError}),l.createElement(Te.a,null,l.createElement(U.a,{padding:{left:1}},l.createElement(J.a,{linkTo:{pathname:Object(xe.d)(n,o),state:{medium:u,content:O.PageviewContent.ExtensionCard,content_index:d}},targetBlank:!0},l.createElement(q.a,{type:q.e.Strong},i)),l.createElement(q.a,{color:W.f.Alt2},t)))),l.createElement(U.a,{className:"extension-recommendation__summary",overflow:W.m.Hidden,padding:{top:1}},l.createElement(q.a,null,r))),l.createElement(U.a,{padding:{top:1},textAlign:W.p.Center},l.createElement(_e.a,{onClick:this.installExtension,type:_e.d.Secondary},a?Object(p.d)("Configure","ExtensionRecommendationCard"):Object(p.d)("Activate","ExtensionRecommendationCard"))))},t}(l.Component),Ge=(qe="ExtensionRecommendationCard",He={percentage:75},function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.hadImpression=!1,e.logger=p.k.withCategory("with-impression-listener"),e.setRef=function(t){return e.element=t},e.registerImpressionCallback=function(t){e.reportImpression=t},e}return Object(a.__extends)(n,t),n.prototype.componentDidMount=function(){He&&void 0!==He.percentage&&void 0!==He.pixels?this.logger.warn("<"+qe+" /> should only be initialized with percentage or pixel thresholds, not both"):this.unregister=this.props.registerReceiver(this)},n.prototype.componentWillUnmount=function(){this.unregister()},n.prototype.render=function(){var t={impressionListener:{registerImpressionCallback:this.registerImpressionCallback}},n=He&&He.impressionWrapperClassName,i=n?{className:n}:{};return l.createElement("div",Object(a.__assign)({ref:this.setRef},i),l.createElement(e,Object(a.__assign)({},this.props,t)))},n.prototype.checkVisible=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(n){return this.hadImpression||(t=Object(ze.b)(this.element,e,null==He?void 0:He.percentage,null==He?void 0:He.pixels))&&(this.hadImpression=t,this.reportImpression&&this.reportImpression()),[2]}))}))},n}(l.Component);return Object(We.b)((function(e){return{registerReceiver:e.registerReceiver}}))(t)})(Ve),Ye=(n("Go5+"),function(e){var t=e.channelLogin,n=e.trackingContext;return l.createElement(z.a,{background:W.d.Alt,border:!0,className:"view-all-extensions-card",display:W.g.Flex,alignItems:W.b.Center,justifyContent:W.l.Center,padding:2},l.createElement(J.a,{linkTo:{pathname:Object(xe.c)(t),state:{medium:n.medium,content:O.PageviewContent.ExtensionCardViewAll}},targetBlank:!0},l.createElement(U.a,{display:W.g.Flex,alignItems:W.b.Center},l.createElement(q.a,{type:q.e.Span},Object(p.d)("View All Extensions","ViewAllCard"))," ",l.createElement(le.a,{asset:ae.a.Popout}))))});Ye.displayName="ViewAllExtensionsCard";var Ke=n("NN+d"),Qe=n("rOlK"),Xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getExtensionsOrderingMemoized=Object(ce.a)(t.getExtensionsOrdering),t.isRenderEventSent=!1,t.installExtension=function(e){return Object(a.__awaiter)(t,void 0,void 0,(function(){var t,n,i,o,r,l,c,d,u,m,p,h,g;return Object(a.__generator)(this,(function(v){switch(v.label){case 0:return t=this.props,n=t.extensionRecommendationsData,i=t.installExtension,o=t.showExtensionErrorModal,(r=n.currentUser)&&r.id&&r.login?(l=r.installedExtensions||[],(c=l.find((function(t){return t.extension.id===e})))?(this.configureExtension(c.extension.clientID,c.extension.version),[3,4]):[3,1]):[2];case 1:return v.trys.push([1,3,,4]),[4,i(Object(f.a)({channelID:r.id,extensionID:e}))];case 2:return(d=v.sent().data).installExtension&&d.installExtension.installedExtension&&(u=d.installExtension.installedExtension,m=u.extension,p=m.clientID,h=m.id,g=m.version,Object(Oe.i)({extensionClientID:p,extensionVersion:g,listPosition:this.getExtensionPosition(h),location:O.PageviewLocation.Channel}),Object(f.i)(Qe,{},(function(e){return e.currentUser&&e.currentUser.installedExtensions?s(e,(function(e){return e.currentUser.installedExtensions}),(function(e){return Object(a.__spreadArrays)(e,[u])})):e})),this.configureExtension(p,g)),[3,4];case 3:return v.sent(),o(),[3,4];case 4:return[2]}}))}))},t.onCloseConfigure=function(e){return Object(a.__awaiter)(t,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return(t=this.getInstallationFromExtensionConfigureID(e))&&t.activationConfig.state===v.a.INACTIVE?[4,this.activateExtension(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.activateExtension=function(e,n){return Object(a.__awaiter)(t,void 0,void 0,(function(){var t,i,o,r,s,l,c,d,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:if(t=this.props,i=t.activatedPanelExtensions,o=t.extensionPanels,r=t.showExtensionErrorModal,!(s=this.getInstallationFromExtensionConfigureID(e))||s.activationConfig.state===v.a.ACTIVE)return this.props.closeModal(),[2];if(n)return[3,6];if((l=Object.keys(i)).length===we.c)return[2];if(!(o.length===l.length))return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.createPanel()];case 2:return c=a.sent(),n=c.slotID,[3,4];case 3:return a.sent(),r(),[3,4];case 4:return[3,6];case 5:(d=o.find((function(e){return!l.includes(e.slotID)})))&&(n=d.slotID),a.label=6;case 6:return n?(u={installationID:s.id,panel:{slot:n}},[4,this.applyActivation(u)]):[3,8];case 7:a.sent(),this.props.closeModal(),a.label=8;case 8:return[2]}}))}))},t.applyActivation=function(e){return Object(a.__awaiter)(t,void 0,void 0,(function(){var t,n,i,o,r,s,l,c;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:if(t=this.props,n=t.extensionRecommendationsData,i=t.showExtensionErrorModal,!(o=n.currentUser)||!o.id)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.props.applyExtensionActivations(Object(f.a)({activations:[e],channelID:o.id}))];case 2:return(r=a.sent().data).applyExtensionActivations?(s=r.applyExtensionActivations.installedExtensions.find((function(t){return t.id===e.installationID})))&&(l=s.activationConfig,c=s.extension,Object(Oe.c)({channelID:o.id,extensionAnchor:l.anchor,extensionClientID:c.clientID,extensionVersion:c.version,listPosition:this.getExtensionPosition(c.id),location:O.PageviewLocation.Channel})):i(),[3,4];case 3:return a.sent(),i(),[3,4];case 4:return[2]}}))}))},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.trySendRenderEvent()},t.prototype.componentDidUpdate=function(){this.trySendRenderEvent()},t.prototype.render=function(){var e=this,t=this.props.extensionRecommendationsData,n=t.currentUser,i=t.extensionCategory,o=[];if(n&&n.login&&i&&i.extensions){var a=i.extensions.edges;return(o=this.getExtensionsOrderingMemoized(a.length).map((function(t,i){var o=a[t].node,r=(n.installedExtensions||[]).some((function(e){return e.extension.id===o.id&&e.activationConfig.state===v.a.ACTIVE}));return l.createElement(U.a,{padding:{right:1},key:o.id},l.createElement(Ge,{authorName:o.authorName,extensionClientID:o.clientID,extensionID:o.id,extensionName:o.name,extensionVersion:o.version,iconURL:o.iconURLs.square100,installExtension:e.installExtension,isActivated:r,summary:o.summary,trackingContext:{contentIndex:i,location:O.PageviewLocation.Channel,medium:O.PageviewMedium.Channel}}))}))).push(l.createElement(Ye,{key:"view-all-extensions",channelLogin:n.login,trackingContext:{medium:O.PageviewMedium.Channel}})),l.createElement(pe.a,{items:o})}return null},t.prototype.trySendRenderEvent=function(){var e=this.props,t=e.activatedPanelExtensions,n=e.channelID,i=e.extensionRecommendationsData.extensionCategory;!this.isRenderEventSent&&i&&i.extensions&&(Object(X.b)({activePanelExtensions:Object.keys(t).length,channelID:n}),this.isRenderEventSent=!0)},t.prototype.configureExtension=function(e,t){var n=e+"-"+t;(0,this.props.showExtensionConfigureModal)({activateExtension:this.activateExtension,extensionID:n,includeActivateOption:!0,onClose:this.onCloseConfigure.bind(this,n),trackingContext:{medium:O.PageviewMedium.Channel}})},t.prototype.createPanel=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.props.extensionRecommendationsData.currentUser)&&e.id?[4,this.props.createPanel({channelID:e.id,type:v.mc.EXTENSION})]:[2,Promise.reject("No user id.")];case 1:return[2,t.sent()]}}))}))},t.prototype.getInstallationFromExtensionConfigureID=function(e){var t=e.replace("-",":"),n=this.props.extensionRecommendationsData.currentUser;if(n&&n.installedExtensions)return n.installedExtensions.find((function(e){return e.extension.id===t}))},t.prototype.getExtensionPosition=function(e){var t=this.props.extensionRecommendationsData.extensionCategory,n=-1;if(t&&t.extensions){var i=t.extensions.edges;n=this.getExtensionsOrderingMemoized(i.length).findIndex((function(t){return i[t].node.id===e}))}return n},t.prototype.getExtensionsOrdering=function(e){var t=Array.from(Array(e).keys());return Object(de.c)("shuffle_panel_extension_recommendations")&&Object(me.a)(t),t},t}(l.Component);var Je=Object(m.d)(Object(o.b)(null,(function(e){return Object(m.b)({closeModal:ue.d,showExtensionConfigureModal:function(e){var t=Object(a.__rest)(e,[]);return Object(ue.e)(Be,t)},showExtensionErrorModal:function(){return Object(ue.e)(Me.a,{})}},e)})),Object(h.a)(Qe,{name:"extensionRecommendationsData",options:function(e){return{variables:{categoryID:e.categoryID}}}}),Object(h.a)(Ke,{name:"installExtension"}),Object(h.a)(Ue,{name:"applyExtensionActivations"}))(Xe),$e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isCollapsed:!1},t._monetizedExperimentGroup=null,t.onToggleCollapse=function(){t.setState((function(e){return{isCollapsed:!e.isCollapsed}}))},t}return Object(a.__extends)(t,e),Object.defineProperty(t.prototype,"monetizedExperimentGroup",{get:function(){return null===this._monetizedExperimentGroup&&(this._monetizedExperimentGroup=p.p.experiments.getAndTrackAssignment(g.c.ExtensionPanelRecommendationsMonetization)),this._monetizedExperimentGroup},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.activatedPanelExtensions,n=e.allowMonetizedExtensions,i=e.channelID,o=e.createPanel,a=e.extensionPanels,r=this.state.isCollapsed,s=Object(p.d)("Engage your community with panel extensions","PanelRecommendations"),c=Object(p.d)("To keep an audience and keep it growing you should always be on the lookout for new ways to engage with them. One way to do that is by installing Extensions on your channel. You can think of extensions as apps for your streams that give your community more ways to interact with you, each other, or what you're streaming.","PanelRecommendations"),d=l.createElement(J.a,{linkTo:"https://www.twitch.tv/creatorcamp/en/level-up/extensions/"},Object(p.d)("Learn more.","PanelRecommendations")),u="ccca6a50-9191-47fb-bf41-a79b784e77d2";return n&&"test"===this.monetizedExperimentGroup&&(u="4f815e57-cdad-4bfa-8b69-900ce7455430"),l.createElement(z.a,{background:W.d.Base,border:!0,overflow:W.m.Hidden,padding:1,position:W.n.Relative},l.createElement(U.a,{display:W.g.Flex,alignItems:W.b.Start},l.createElement(oe.a,{ariaLabel:r?Object(p.d)("Expand","PanelRecommendations"):Object(p.d)("Collapse","PanelRecommendations"),icon:r?ae.a.AngleDown:ae.a.AngleUp,onClick:this.onToggleCollapse}),l.createElement(U.a,{padding:{left:1,right:2,top:.5}},l.createElement(U.a,{display:W.g.Flex,alignItems:W.b.Center},l.createElement(re.a,{padding:{right:1}},l.createElement(q.a,{bold:!0,type:q.e.H5},s)),l.createElement(se.a,{direction:se.c.Right,label:Object(p.d)("Only you can see this panel.","PanelRecommendations")},l.createElement(le.a,{asset:ae.a.Lock,height:15,width:15}))),!r&&l.createElement(U.a,{padding:{top:1}},l.createElement(q.a,{type:q.e.Span},c)," ",d))),!r&&l.createElement(U.a,{padding:{top:1}},l.createElement(Je,{categoryID:u,channelID:i,createPanel:o,activatedPanelExtensions:t,extensionPanels:a})))},t}(l.Component),Ze=(n("8sUD"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isCreatingDefaultPanel:!1,isCreatingExtensionPanel:!1,isTypeSelectionMode:!1,errorMessage:""},t.createDefaultPanel=function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:this.setState({isCreatingDefaultPanel:!0}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.props.createPanel({channelID:this.props.channelID,type:v.mc.DEFAULT})];case 2:return e.sent(),this.setState({errorMessage:"",isTypeSelectionMode:!1,isCreatingDefaultPanel:!1}),[3,4];case 3:return e.sent(),this.setState({errorMessage:Object(p.d)("Failed to create Text/Image Panel, please try again.","CreatePanel"),isCreatingDefaultPanel:!1}),[3,4];case 4:return[2]}}))}))},t.createExtensionPanel=function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:this.setState({isCreatingExtensionPanel:!0}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.props.createPanel({channelID:this.props.channelID,type:v.mc.EXTENSION})];case 2:return e.sent(),this.setState({errorMessage:"",isTypeSelectionMode:!1,isCreatingExtensionPanel:!1}),[3,4];case 3:return e.sent(),this.setState({errorMessage:Object(p.d)("Failed to create Extension Panel, please try again.","CreatePanel"),isCreatingExtensionPanel:!1}),[3,4];case 4:return[2]}}))}))},t.toggleSelectionMode=function(){t.setState({isTypeSelectionMode:!t.state.isTypeSelectionMode})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=l.createElement(_e.a,{fullWidth:!0,icon:ae.a.NavSettings,onClick:this.createExtensionPanel,state:this.state.isCreatingExtensionPanel?_e.c.Loading:_e.c.Default,type:_e.d.Secondary},Object(p.d)("Extension Panel","CreatePanel"));return this.state.isTypeSelectionMode?l.createElement(z.a,{border:!0,background:W.d.Alt2,className:"create-panel",margin:{bottom:2}},l.createElement(Ne.b,{ratio:Ne.c.Aspect3x4},l.createElement(U.a,{padding:1},this.state.errorMessage&&l.createElement(q.a,{color:W.f.Error},this.state.errorMessage),l.createElement(U.a,{margin:{y:1}},l.createElement(_e.a,{fullWidth:!0,icon:ae.a.GridLayout,onClick:this.createDefaultPanel,state:this.state.isCreatingDefaultPanel?_e.c.Loading:_e.c.Default,type:_e.d.Secondary},Object(p.d)("Add a Text or Image Panel","CreatePanel"))),this.props.canCreateExtensionPanel&&e))):l.createElement(z.a,{border:!0,background:W.d.Alt2,className:"create-panel",margin:{bottom:2}},l.createElement(ke.a,{type:ke.b.Alpha,onClick:this.toggleSelectionMode},l.createElement(Ne.b,{ratio:Ne.c.Aspect3x4},l.createElement(U.a,{display:W.g.Flex,alignItems:W.b.Center,justifyContent:W.l.Center,fullWidth:!0,fullHeight:!0},l.createElement(le.a,{asset:ae.a.Plus,height:100,width:100,type:le.b.Placeholder})))))},t}(l.Component)),et=n("KJdW"),tt=n.n(et),nt=n("/ZC1"),it=n("KGBd");n("xVpv");var ot=["image/*"],at={x:0,y:0,width:100,height:100},rt={x:0,y:0,width:320,height:180},st=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={base64Image:"",crop:at,error:"",file:void 0,isCropping:!1,pixelCrop:rt},t.onFilesSubmitted=function(e){var n=e[0],i=new FileReader;i.onloadend=function(){var e=i.result,o=new Image;o.onload=function(){var i,a,r,s,l,c,d,u=(i=o,a=rt.height,r=rt.width,s=i.height,l=i.width,{percentCrop:{x:0,y:0,height:((c=s>a)?a:s)/s*100,width:((d=l>r)?r:l)/l*100},pixelCrop:{x:0,y:0,height:c?a:s,width:d?r:l}}),m=u.percentCrop,p=u.pixelCrop;t.setState({base64Image:e,crop:m,file:n,isCropping:!0,pixelCrop:p})},o.onerror=function(){t.setState({error:"Failed to read file"})},o.src=e},i.onerror=function(){t.setState({error:"Failed to read file"})},i.readAsDataURL(n)},t.onImageSelectionComplete=function(){var e=t.state,n=e.file,i=e.pixelCrop;n&&(t.props.onImageSelectionComplete({file:n,pixelCrop:i,previewSrc:Object(it.a)(t.state.base64Image,t.state.pixelCrop.x,t.state.pixelCrop.y,t.state.pixelCrop.width,t.state.pixelCrop.height,t.state.pixelCrop.width,t.state.pixelCrop.height)}),t.props.onClose())},t.updateCrop=function(e,n){t.setState({crop:e,pixelCrop:n})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){return l.createElement(z.a,{background:W.d.Base,className:"default-panel-image-picker",textAlign:W.p.Center},this.state.base64Image?this.renderImageCropper():this.renderFilePicker(),l.createElement(he.a,{closeOnBackdropClick:!this.state.isCropping}))},t.prototype.renderImageCropper=function(){return l.createElement(U.a,{padding:2},l.createElement(tt.a,{src:this.state.base64Image,crop:this.state.crop,onChange:this.updateCrop,onComplete:this.updateCrop}),l.createElement(U.a,{display:W.g.Flex,flexDirection:W.h.Row,margin:{top:1},justifyContent:W.l.Center},l.createElement(_e.a,{onClick:this.onImageSelectionComplete},Object(p.d)("Done","DefaultPanelImagePickerComponent")),l.createElement(U.a,{margin:{left:1}},l.createElement(_e.a,{onClick:this.props.onClose},Object(p.d)("Cancel","DefaultPanelImagePickerComponent")))))},t.prototype.renderFilePicker=function(){return l.createElement(Ne.b,{ratio:Ne.c.Aspect1x1},l.createElement(nt.a,{allowedFileTypes:ot,multiFile:!1,onFilesSubmitted:this.onFilesSubmitted},l.createElement(U.a,{display:W.g.Flex,flexDirection:W.h.Column},l.createElement(U.a,null,l.createElement(le.a,{asset:ae.a.Upload,type:le.b.Alt2,height:50,width:50})),l.createElement(q.a,{type:q.e.H3,color:W.f.Alt2,fontSize:W.j.Size4,id:ge.a},Object(p.d)("Choose a file or drag it here.","DefaultPanelImagePickerComponent")))))},t}(l.Component);var lt=Object(o.b)(null,(function(e){return Object(m.b)({onClose:ue.d},e)}))(st),ct=n("PZVp"),dt=n("akKH"),ut=n("3aAs"),mt=n("Kae6"),pt=n("b6Yk");function ht(e,t){return Object(a.__awaiter)(this,void 0,Promise,(function(){var n,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,pt.a.post("/v5/users/"+e+"/upload_panel_image",{body:{height:t.height,width:t.width,left:t.x,top:t.y}})];case 1:return 200===(n=o.sent()).status&&n.body?[2,n.body]:[2,Promise.reject("Failed to fetch URL")];case 2:return i=o.sent(),[2,Promise.reject(i)];case 3:return[2]}}))}))}var ft;n("U0Fp");!function(e){e.AddImage="add_image_selector",e.SavePanel="save_default_panel_selector"}(ft||(ft={}));var gt,vt=1e6;!function(e){e[e.ImageUploadFailed=0]="ImageUploadFailed",e[e.ImageUploadSizeFailed=1]="ImageUploadSizeFailed",e[e.Unexpected=2]="Unexpected"}(gt||(gt={}));var bt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={canSave:!1,description:t.props.panel.description||"",errorMessage:"",imagePreviewSRC:"",imageURL:t.props.panel.imageURL||"",isSaving:!1,linkURL:t.props.panel.linkURL||"",title:t.props.panel.title||""},t.handleImageSelectionChanged=function(e){t.setState({canSave:!0,errorMessage:"",imageCrop:e.pixelCrop,imageFile:e.file,imagePreviewSRC:e.previewSrc})},t.handleInputChange=function(e){var n,i=e.currentTarget;t.setState(((n={canSave:!0,errorMessage:""})[i.name]=i.value,n))},t.handleDescriptionChange=function(e){var n,i=e.currentTarget;t.setState(((n={canSave:!0,errorMessage:""})[i.name]=i.value,n))},t.handleSaveComplete=function(){t.setState({canSave:!1,errorMessage:"",isSaving:!1})},t.handleErrorMessage=function(e){var n;switch(e){case gt.ImageUploadFailed:n=Object(p.d)("Image Upload Failed. Please try again.","DefaultPanelEditComponent");break;case gt.ImageUploadSizeFailed:n=Object(p.d)("Please choose a file smaller than {maxFileSize}.",{maxFileSize:"1MB"},"DefaultPanelEditComponent");break;case gt.Unexpected:default:n=Object(p.d)("Something went wrong. Please try again.","DefaultPanelEditComponent")}t.setState({errorMessage:n,isSaving:!1})},t.savePanel=function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:if(!this.state.canSave)return[3,6];if(this.setState({isSaving:!0}),e=this.state.imageFile,t=this.state.imageCrop,e&&t)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.props.updatePanel({id:this.props.panel.id,imageURL:this.props.panel.imageURL,description:this.state.description,linkURL:this.state.linkURL,title:this.state.title})];case 2:return n.sent(),this.handleSaveComplete(),[3,4];case 3:return n.sent(),this.handleErrorMessage(gt.Unexpected),[3,4];case 4:return[3,6];case 5:this.saveWithPanelImage(),n.label=6;case 6:return[2]}}))}))},t.saveWithPanelImage=function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i,o,r=this;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:if(e=this.state.imageCrop,(t=this.state.imageFile).size>vt)return this.handleErrorMessage(gt.ImageUploadSizeFailed),[2];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,ht(this.props.channelID,e)];case 2:return o=s.sent(),i=o.upload_id,n=o.url,[3,4];case 3:return s.sent(),[2,this.handleErrorMessage(gt.Unexpected)];case 4:return this.unsubscribe=p.l.subscribe({topic:Object(w.Q)(i),success:function(){var e,i;(e=n,i=t,fetch(e,{method:"PUT",body:new Blob([i])})).catch((function(){r.unsubscribe(),r.handleErrorMessage(gt.Unexpected)})),r.timeoutFunc=setTimeout((function(){r.unsubscribe(),r.handleErrorMessage(gt.ImageUploadFailed)}),1e4)},failure:function(){r.handleErrorMessage(gt.Unexpected)},onMessage:function(e){return Object(a.__awaiter)(r,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){switch(t.label){case 0:if(e.upload_id!==i)return[3,8];switch(clearTimeout(this.timeoutFunc),e.status){case ct.a.POSTPROCESS_COMPLETE:return[3,1];case ct.a.FILE_SIZE_VALIDATION_FAILED:return[3,5]}return[3,6];case 1:return t.trys.push([1,3,,4]),[4,this.props.updatePanel({id:this.props.panel.id,imageURL:"https://panels-images.twitch.tv/panel-"+this.props.channelID+"-image-"+i,description:this.state.description,linkURL:this.state.linkURL,title:this.state.title})];case 2:return t.sent(),this.handleSaveComplete(),[3,4];case 3:return t.sent(),this.handleErrorMessage(gt.ImageUploadFailed),[3,4];case 4:return[3,7];case 5:return this.handleErrorMessage(gt.ImageUploadSizeFailed),[3,7];case 6:this.handleErrorMessage(gt.Unexpected),t.label=7;case 7:this.unsubscribe&&this.unsubscribe(),t.label=8;case 8:return[2]}}))}))}}),[2]}}))}))},t.showDefaultPanelImagePicker=function(){t.props.showDefaultPanelImagePicker({onImageSelectionComplete:t.handleImageSelectionChanged})},t}return Object(a.__extends)(t,e),t.prototype.componentWillUnmount=function(){void 0!==this.unsubscribe&&this.unsubscribe()},t.prototype.render=function(){var e=this.props.panel,t=Object(p.d)("Supports {markdownLink} (No HTML)",{markdownLink:l.createElement(J.a,{linkTo:"https://help.twitch.tv/customer/portal/articles/839490-markdown-basics",targetBlank:!0},Object(p.d)("Markdown","DefaultPanelEditComponent"))},"DefaultPanelEditComponent");return l.createElement(U.a,{display:W.g.Flex,flexDirection:W.h.Column,padding:1},l.createElement(U.a,{margin:{bottom:1}},l.createElement(dt.a,{id:"panel-title",label:Object(p.d)("Panel Title","DefaultPanelEdit")},l.createElement(ut.a,{defaultValue:e.title||"",id:"panel-title",name:"title",onChange:this.handleInputChange,type:ut.c.Text}))),l.createElement(U.a,{margin:{bottom:1}},l.createElement(U.a,{display:W.g.Flex,flexDirection:W.h.Row,justifyContent:W.l.Between,margin:{bottom:.5}},l.createElement(_e.a,{onClick:this.showDefaultPanelImagePicker,"data-test-selector":ft.AddImage},Object(p.d)("Add Image","DefaultPanelEdit")),l.createElement("img",{className:"panel-preview-image",src:this.state.imagePreviewSRC?this.state.imagePreviewSRC:e.imageURL||""})),l.createElement(q.a,{type:q.e.P},Object(p.d)("Images will be scaled to 320px wide","DefaultPanelEdit"))),l.createElement(U.a,{margin:{bottom:1}},l.createElement(dt.a,{id:"panel-link-url",label:Object(p.d)("Image Links To:","DefaultPanelEdit")},l.createElement(ut.a,{defaultValue:e.linkURL||"",id:"panel-link-url",name:"linkURL",onChange:this.handleInputChange,type:ut.c.Text}))),l.createElement(U.a,{flexGrow:1,margin:{bottom:1}},l.createElement(U.a,{display:W.g.Flex,flexDirection:W.h.Row,justifyContent:W.l.Between,margin:{bottom:.5}},l.createElement(q.a,{type:q.e.Strong},Object(p.d)("Description:","DefaultPanelEdit")),l.createElement(U.a,null,t)),l.createElement(mt.a,{defaultValue:e.description||"",id:"description",name:"description",noResize:!0,onChange:this.handleDescriptionChange,rows:7})),l.createElement(U.a,{textAlign:W.p.Right},l.createElement(_e.a,{type:_e.d.Text,onClick:this.props.removePanel},Object(p.d)("Remove","DefaultPanelEdit")),l.createElement(_e.a,{"data-test-selector":ft.SavePanel,disabled:!this.state.canSave,onClick:this.savePanel,state:this.state.isSaving?_e.c.Loading:_e.c.Default},Object(p.d)("Submit","DefaultPanelEdit"))),l.createElement(U.a,{textAlign:W.p.Center},this.state.errorMessage&&l.createElement(q.a,{color:W.f.Error},this.state.errorMessage)))},t}(l.Component);var Et,yt=Object(o.b)((function(e){return{authToken:Object(be.a)(e)}}),(function(e){return{showDefaultPanelImagePicker:function(t){return e(Object(ue.e)(lt,t))}}}))(bt),xt=n("uG/k");n("EgbR");!function(e){e.ExtensionManagement="extension-management",e.LearnMore="learn-more"}(Et||(Et={}));var kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={feedbackFormSelected:!1},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.state.feedbackFormSelected;return l.createElement(ve.a,null,l.createElement(oe.a,{icon:ae.a.More}),l.createElement(Re.a,{direction:Re.b.TopLeft,size:e?Re.c.Medium:Re.c.Small,offsetY:"-4px"},l.createElement(z.a,{textAlign:W.p.Left,padding:{top:.5,bottom:.5},color:W.f.Base},l.createElement(ke.a,{"data-test-selector":Et.ExtensionManagement,linkTo:Object(xe.e)(this.props.channelLogin),targetBlank:!0},l.createElement(U.a,{padding:{y:.5,x:1}},l.createElement(q.a,null,Object(p.d)("Extension Manager","ExtensionPanelHelpButton")))),l.createElement(ke.a,{linkTo:"https://www.twitch.tv/creatorcamp/en/level-up/extensions/",targetBlank:!0},l.createElement(U.a,{padding:{y:.5,x:1}},l.createElement(q.a,null,Object(p.d)("Creator Camp","ExtensionPanelHelpButton")))),l.createElement(ke.a,{"data-test-selector":Et.LearnMore,linkTo:"https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions",targetBlank:!0},l.createElement(U.a,{padding:{y:.5,x:1}},l.createElement(q.a,null,Object(p.d)("Learn More","ExtensionPanelHelpButton")))))))},t}(l.Component),St=function(e){var t=e.channelLogin,n=e.children;return l.createElement(U.a,{display:W.g.Flex,fullWidth:!0,justifyContent:W.l.Between},l.createElement(kt,{channelLogin:t}),l.createElement(U.a,null,n))},Ct=(n("b5uE"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickConfigure=function(){var e=t.props,n=e.showExtensionConfigureModal,i=e.extensionInstallation;if(i){var o=i.extension;n({extensionID:o.id+"-"+o.version,includeActivateOption:!0,trackingContext:{medium:O.PageviewMedium.Channel}})}},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.channelLogin,i=t.extensionInstallation,o=t.extensionPanelCount,a=t.panel,r=t.removePanel,s=Object(p.d)("Remove","ExtensionPanelEdit");if(i&&void 0!==o){var c=i.extension,d=c.iconUrls,u=c.name;e=l.createElement(l.Fragment,null,l.createElement(U.a,{flexGrow:1},l.createElement(U.a,{alignItems:W.b.Center,display:W.g.Flex,padding:{bottom:2,x:2}},l.createElement(xt.a,{alt:u,className:"extension-panel-edit__extension-icon",src:d.square100}),l.createElement(U.a,{padding:{left:1}},l.createElement(q.a,{type:q.e.Strong},u))),l.createElement(q.a,null,Object(p.d)("Panel Extension {panelExtensionNumber} of {totalPanelExtensionsAvailable}",{panelExtensionNumber:o,totalPanelExtensionsAvailable:we.c},"ExtensionPanelEdit"))),l.createElement(St,{channelLogin:n},l.createElement(_e.a,{type:_e.d.Text,onClick:r},s),l.createElement(_e.a,{onClick:this.onClickConfigure},Object(p.d)("Configure","ExtensionPanelEdit"))))}else{var m=Object(p.d)("This panel's name is: {panelName}",{panelName:l.createElement(q.a,{bold:!0,type:q.e.Span,transform:q.d.Uppercase},a.slotID)},"ExtensionPanelEdit");e=l.createElement(l.Fragment,null,l.createElement(U.a,{flexGrow:1},l.createElement(U.a,{padding:{bottom:2}},l.createElement(q.a,null,Object(p.d)("To add an Extension to this space, activate it in your Extension Manager.","Edit Extension Panel"))),l.createElement(U.a,{padding:{y:2}},l.createElement(_e.a,{linkTo:Object(xe.e)(n)},Object(p.d)("Extension Manager","Edit Extension Panel"))),l.createElement(U.a,{padding:{y:2}},l.createElement(q.a,null,m))),l.createElement(St,{channelLogin:n},l.createElement(_e.a,{type:_e.d.Text,onClick:r},s)))}return l.createElement(U.a,{alignItems:W.b.Center,display:W.g.Flex,flexDirection:W.h.Column,fullHeight:!0,padding:1,textAlign:W.p.Center},l.createElement(U.a,{padding:4},l.createElement(le.a,{asset:ae.a.Extensions,type:le.b.Brand,height:40,width:40})),e)},t}(l.PureComponent));var It,wt=Object(o.b)(null,(function(e){return Object(m.b)({showExtensionConfigureModal:function(e){var t=Object(a.__rest)(e,[]);return Object(ue.e)(Be,t)}},e)}))(Ct),Ot=(n("abgr"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isRemoving:!1,showRemoveConfirmation:!1},t.logger=p.k.withCategory("EditPanel"),t.cancelRemovePanel=function(){t.setState({showRemoveConfirmation:!1})},t.confirmRemovePanel=function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(t){switch(t.label){case 0:this.setState({isRemoving:!0}),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.props.deletePanel(this.props.panel)];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.logger.warn("Failed to delete panel",e),this.setState({isRemoving:!1,showRemoveConfirmation:!1}),[3,4];case 4:return[2]}}))}))},t.removePanel=function(){t.setState({showRemoveConfirmation:!0})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=null;return"DefaultPanel"===this.props.panel.__typename?e=l.createElement(yt,{channelID:this.props.channelID,panel:this.props.panel,removePanel:this.removePanel,updatePanel:this.props.updatePanel}):"ExtensionPanel"===this.props.panel.__typename&&(e=l.createElement(wt,{channelLogin:this.props.channelLogin,extensionInstallation:this.props.extensionInstallation,extensionPanelCount:this.props.extensionPanelCount,panel:this.props.panel,removePanel:this.removePanel})),l.createElement(U.a,{position:W.n.Relative},this.state.showRemoveConfirmation&&this.renderRemovingOverlay(),l.createElement(z.a,{border:!0,background:W.d.Alt2,className:"edit-panel "+(this.props.isSorting?"edit-panel--sorting":""),margin:{bottom:2}},l.createElement(Ne.b,{ratio:Ne.c.Aspect3x4},l.createElement(U.a,{overflow:W.m.Auto,fullHeight:!0,fullWidth:!0},e))))},t.prototype.renderRemovingOverlay=function(){var e,t=this.props,n=t.extensionInstallation,i=t.isSorting;return e=n?Object(p.d)("Removing this panel will deactivate this extension. Are you sure you want to remove this panel?","EditPanel"):Object(p.d)("Are you sure you want to remove this panel?","EditPanel"),l.createElement(z.a,{border:!0,className:"edit-panel edit-panel--overlay "+(i?"edit-panel--sorting":""),position:W.n.Absolute,zIndex:W.s.Default},l.createElement(Ne.b,{ratio:Ne.c.Aspect3x4},l.createElement(U.a,{alignItems:W.b.Center,display:W.g.Flex,flexDirection:W.h.Column,justifyContent:W.l.Center,padding:2,textAlign:W.p.Center},l.createElement(q.a,{color:W.f.Overlay},e),l.createElement(U.a,{margin:{top:2}},l.createElement(_e.a,{type:_e.d.Text,onClick:this.cancelRemovePanel,overlay:!0},Object(p.d)("Cancel","EditPanel")),l.createElement(U.a,{display:W.g.InlineBlock,margin:{left:1}},l.createElement(_e.a,{"data-test-selector":"confirm_delete_panel_selector",state:this.state.isRemoving?_e.c.Loading:_e.c.Default,onClick:this.confirmRemovePanel},Object(p.d)("Remove","EditPanel")))))))},t}(l.PureComponent)),Pt=Object(u.b)((function(e){return l.createElement(U.a,{margin:{x:1}},l.createElement(Ot,{channelID:e.channelID,channelLogin:e.channelLogin,extensionInstallation:e.extensionInstallation,extensionPanelCount:e.extensionPanelCount,panel:e.panel,deletePanel:e.deletePanel,updatePanel:e.updatePanel,isSorting:e.isSorting}))})),Dt=Object(u.a)((function(e){var t=0,n=e.items.map((function(n,i){var o,a=!1;return"ExtensionPanel"===n.__typename&&(o=e.extensionSlots[n.slotID],a=!0,t++),l.createElement(Pt,{key:n.id,channelID:e.channelID,channelLogin:e.channelLogin,extensionInstallation:o,extensionPanelCount:a?t:void 0,updatePanel:e.updatePanel,deletePanel:e.deletePanel,isSorting:e.isSorting,index:i,panel:n})})),i=t<we.c,o=l.createElement(U.a,{margin:{x:.5}},l.createElement(Ze,{key:"create-panel",canCreateExtensionPanel:i,createPanel:e.createPanel,channelID:e.channelID}));return l.createElement(U.a,{display:W.g.Flex,flexDirection:W.h.Row,flexWrap:W.i.Wrap,justifyContent:W.l.Center},n,o)})),Nt=n("Oz8M"),Tt=n("saS/"),_t=n("Rsna"),Rt=n("ry+o"),jt=n("Og0W");n("1pP+");!function(e){e.Container="channel_panels_container_selector",e.EmptyMessage="no_panels_message",e.Masonry="masonry_container_selector",e.EditToggle="channel_panels_toggle_selector",e.Sortable="sortable_edit_panel_list_selector"}(It||(It={}));var Ft={columnWidth:320,fitWidth:!0,gutter:20,horizontalOrder:!0,transitionDuration:"0"},Lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={destroyedExtensions:[],isEditMode:!1,isSorting:!1,popout:{},prevChannelID:t.props.channelID},t.showingRecommendations=!1,t.onSortStart=function(){t.setState({isSorting:!0})},t.toggleEditMode=function(){t.setState((function(e){var n=!e.isEditMode;return Object(X.c)({channelID:t.props.channelID,channelLogin:t.props.channelLogin,editModeOn:n}),{isEditMode:n}}))},t.onExtensionPoppedOut=function(e,n,i){var o;t.setState({popout:Object(a.__assign)(Object(a.__assign)({},t.state.popout),(o={},o[Object(B.d)(e,n)]=i,o))})},t.onExtensionPopoutRestored=function(e,n){var i=Object(B.d)(e,n),o=t.state.popout[i];o&&o.window&&o.window.close();var a=Object.keys(t.state.popout).filter((function(e){return e!==i})).reduce((function(e,n){return e[n]=t.state.popout[n],e}),{});t.setState({popout:a})},t.layoutMasonry=function(){t.masonryInstance&&t.masonryInstance.layout&&t.masonryInstance.layout()},t.saveMasonryRef=function(e){e&&(t.masonryInstance=e.masonry)},t.updatePanelOrder=function(e){t.setState({isSorting:!1});var n=t.props.channelPanelsData.user;if(n){var i=Object(u.d)(n.panels,e.oldIndex,e.newIndex),o=i.map((function(e){return e&&e.id})).filter((function(e){return e}));t.props.orderPanels(Object(f.a)({ids:o})),Object(f.i)(jt,{id:t.props.channelID},(function(e){return e.user?s(e,(function(e){return e.user.panels}),(function(){return i})):e}))}},t.createPanel=function(e){return Object(a.__awaiter)(t,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.props.createPanel(Object(f.a)(Object(a.__assign)(Object(a.__assign)({},e),{channelID:this.props.channelID})))];case 1:return t=n.sent().data,Object(f.i)(jt,{id:this.props.channelID},(function(e){return t.createPanel&&e.user?s(e,(function(e){return e.user.panels}),(function(e){return Object(a.__spreadArrays)(e,[t.createPanel.panel])})):e})),t.createPanel?[2,t.createPanel.panel]:[2,Promise.reject("Failed to create panel")];case 2:return n.sent(),[2,Promise.reject("Failed to create panel")];case 3:return[2]}}))}))},t.deletePanel=function(e){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.props.deletePanel(Object(f.a)(e))];case 1:return t.sent(),Object(f.i)(jt,{id:this.props.channelID},(function(t){return t.user?s(t,(function(e){return e.user.panels}),(function(t){return t.filter((function(t){return t&&t.id!==e.id}))})):t})),[2]}}))}))},t.updatePanel=function(e){return t.props.updatePanel(Object(f.a)(e))},t.canEditPanels=function(){var e=t.props.channelPanelsData,n=e.currentUser,i=e.user;return!!(n&&n.id&&i&&n.id===i.id)||!!(n&&n.roles&&n.roles.isSiteAdmin)},t}return Object(a.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.channelID!==t.prevChannelID?{isEditMode:!1,prevChannelID:e.channelID}:null},t.prototype.componentDidUpdate=function(e){this.props.channelPanelsData.loading||this.props.latencyTracking.reportInteractive(),e.rightColumnExpanded===this.props.rightColumnExpanded&&e.sideNavExpanded===this.props.sideNavExpanded||this.layoutMasonry()},t.prototype.render=function(){var e,t=this.props.extensionsForChannel.fetchedChannelID,n=this.props.channelPanelsData,i=n.error,o=n.loading,a=n.user,r=null;o||this.props.channelID!==t?e=l.createElement(V.a,null):r=this.state.isEditMode?l.createElement(U.a,null,this.renderEditPanels()):i||!a||a&&!a.panels.length?l.createElement(z.a,{color:W.f.Alt2,padding:{y:5},textAlign:W.p.Center,"data-test-selector":It.EmptyMessage},l.createElement(q.a,{italic:!0,fontSize:W.j.Size4},Object(p.d)("It's empty in here","ChannelPanels"))):l.createElement(d.a,{className:"channel-panels-container",options:Ft,"data-test-selector":It.Masonry,ref:this.saveMasonryRef},this.renderPanels());var s=l.createElement(U.a,{display:W.g.Flex,margin:{bottom:2},"data-test-selector":It.EditToggle},l.createElement(H.a,{id:"edit-panels-toggle",onChange:this.toggleEditMode}),l.createElement(U.a,{margin:{left:1}},l.createElement(q.a,null,Object(p.d)("Edit Panels","Channel Panels"))));return e||(e=l.createElement(A,{channelID:this.props.channelID},l.createElement(U.a,{className:"channel-panels","data-test-selector":It.Container},this.canEditPanels()&&s,r))),l.createElement("div",null,e)},t.prototype.renderEditPanels=function(){var e=this.props.channelPanelsData.user;if(!e||!e.id||!e.login)return null;var t=this.getExtensionPanelSlots(),n=e.panels.filter((function(e){return e})),i=n.filter((function(e){return e.type===v.mc.EXTENSION}));return l.createElement(M.LatencyTrackingConfig,{isNonCritical:!0},this.shouldShowRecommendations()&&l.createElement($e,{activatedPanelExtensions:t,allowMonetizedExtensions:!!e.cheer,channelID:this.props.channelID,createPanel:this.createPanel,extensionPanels:i}),l.createElement(U.a,{padding:{top:2}},l.createElement(Dt,{axis:"xy",channelID:e.id,channelLogin:e.login,createPanel:this.createPanel,deletePanel:this.deletePanel,distance:20,extensionSlots:t,isSorting:this.state.isSorting,items:n,onSortEnd:this.updatePanelOrder,onSortStart:this.onSortStart,updatePanel:this.updatePanel})))},t.prototype.shouldShowRecommendations=function(){if(this.showingRecommendations)return!0;var e=this.props.channelPanelsData,t=e.currentUser,n=e.user;if(!n||!n.id||!n.login)return null;if(!(!!t&&t.id===n.id))return!1;var i=this.getExtensionPanelSlots(),o=Object.keys(i).length,a=(!!n.cheer||0===o)&&"test"===p.p.experiments.getAndTrackAssignment(g.c.ExtensionPanelRecommendations);return this.showingRecommendations=a,this.showingRecommendations},t.prototype.renderPanels=function(){var e=this,t=this.props.channelPanelsData,n=t.currentUser,i=t.user;if(!i||!i.id||!i.login)return null;var o=i.id,a=i.login,s=this.getExtensionPanelSlots();return i.panels.map((function(t,i){if(!t)return null;if("ExtensionPanel"===t.__typename&&t.slotID){var c=s[t.slotID];if(c&&!e.state.destroyedExtensions.includes(c.id)){var d=void 0!==e.state.popout[Object(B.e)(c)];return l.createElement("div",{key:t.id},l.createElement(ie.a,{channelID:o,channelLogin:a,installation:c,isFramePoppedOut:d,isPopout:!1,login:n&&n.login,loginID:n&&n.id,mode:r.ExtensionMode.Viewer,onExtensionLoaded:e.layoutMasonry,onExtensionPopoutClosed:e.onExtensionPopoutRestored,onExtensionPoppedOut:e.onExtensionPoppedOut,panel:t}))}}else if("DefaultPanel"===t.__typename)return l.createElement(ne,{channelID:o,"data-a-target":"panel-"+i,key:t.id,panel:t})}))},t.prototype.getExtensionPanelSlots=function(){var e=this.props.extensionsForChannel.installedExtensions;return e?e.reduce((function(e,t){var n=t.activationConfig;return t.extension.token&&n.state===r.ExtensionActivationStatus.Active&&n.anchor===r.ExtensionAnchor.Panel&&(e[n.slot]=t),e}),{}):{}},t}(l.Component),At=Object(m.d)(Object(M.withLatencyTracking)("ChannelPanels"),Object(h.a)(jt,{name:"channelPanelsData",options:function(e){return{variables:{id:e.channelID}}}}),Object(h.a)(Nt,{name:"createPanel"}),Object(h.a)(Tt,{name:"deletePanel"}),Object(h.a)(Rt,{name:"updatePanel"}),Object(h.a)(_t,{name:"orderPanels"}),Object(b.c)({name:"extensionsForChannel",options:function(e){return{variables:{channelID:e.channelID}}}}))(Lt);var Bt=Object(o.b)((function(e){return{rightColumnExpanded:e.ui.rightColumnExpanded,sideNavExpanded:e.ui.sideNavExpanded}}))(At);n.d(t,"PublicProps",(function(){})),n.d(t,"ChannelPanels",(function(){return Bt}))},GNKm:function(e,t,n){"use strict";var i=n("GOnX");e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function a(e){return o(e).object}return{makeDetectable:function(e,a,r){r||(r=a,a=e,e=null),(e=e||{}).debug,i.isIE(8)?r(a):function(e,a){var r="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",s=!1,l=window.getComputedStyle(e),c=e.offsetWidth,d=e.offsetHeight;function u(){function n(){if("static"===l.position){e.style.position="relative";var n=function(e,t,n,i){var o=n[i];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(e.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",t),t.style[i]=0)};n(t,e,l,"top"),n(t,e,l,"right"),n(t,e,l,"bottom"),n(t,e,l,"left")}}""!==l.position&&(n(),s=!0);var c=document.createElement("object");c.style.cssText=r,c.tabIndex=-1,c.type="text/html",c.onload=function(){s||n(),function e(t,n){t.contentDocument?n(t.contentDocument):setTimeout((function(){e(t,n)}),100)}(this,(function(t){a(e)}))},i.isIE()||(c.data="about:blank"),e.appendChild(c),o(e).object=c,i.isIE()&&(c.data="about:blank")}o(e).startSize={width:c,height:d},n?n.add(u):u()}(a,r)},addListener:function(e,t){if(!a(e))throw new Error("Element is not detectable by this strategy.");function n(){t(e)}i.isIE(8)?(o(e).object={proxy:n},e.attachEvent("onresize",n)):a(e).contentDocument.defaultView.addEventListener("resize",n)},uninstall:function(e){i.isIE(8)?e.detachEvent("onresize",o(e).object.proxy):e.removeChild(a(e)),delete o(e).object}}}},GOnX:function(e,t,n){"use strict";var i=e.exports={};i.isIE=function(e){return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:void 0}());var t},i.isLegacyOpera=function(){return!!window.opera}},"Go5+":function(e,t,n){},Hy43:function(e,t,n){var i,o;!function(a,r){"use strict";i=[n("CUlp"),n("QK1G"),n("YVj6"),n("KK1e")],void 0===(o=function(e,t,n,i){return function(e,t,n,i,o){var a=e.console,r=e.jQuery,s=function(){},l=0,c={};function d(e,t){var n=i.getQueryElement(e);if(n){this.element=n,r&&(this.$element=r(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(t);var o=++l;this.element.outlayerGUID=o,c[o]=this,this._create(),this._getOption("initLayout")&&this.layout()}else a&&a.error("Bad element for "+this.constructor.namespace+": "+(n||e))}d.namespace="outlayer",d.Item=o,d.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var u=d.prototype;function m(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}i.extend(u,t.prototype),u.option=function(e){i.extend(this.options,e)},u._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},d.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},u._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},u.reloadItems=function(){this.items=this._itemize(this.element.children)},u._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,i=[],o=0;o<t.length;o++){var a=new n(t[o],this);i.push(a)}return i},u._filterFindItemElements=function(e){return i.filterFindElements(e,this.options.itemSelector)},u.getItemElements=function(){return this.items.map((function(e){return e.element}))},u.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},u._init=u.layout,u._resetLayout=function(){this.getSize()},u.getSize=function(){this.size=n(this.element)},u._getMeasurement=function(e,t){var i,o=this.options[e];o?("string"==typeof o?i=this.element.querySelector(o):o instanceof HTMLElement&&(i=o),this[e]=i?n(i)[t]:o):this[e]=0},u.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},u._getItemsForLayout=function(e){return e.filter((function(e){return!e.isIgnored}))},u._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var n=[];e.forEach((function(e){var i=this._getItemLayoutPosition(e);i.item=e,i.isInstant=t||e.isLayoutInstant,n.push(i)}),this),this._processLayoutQueue(n)}},u._getItemLayoutPosition=function(){return{x:0,y:0}},u._processLayoutQueue=function(e){this.updateStagger(),e.forEach((function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)}),this)},u.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),n=t&&t[1],i=t&&t[2];if(!n.length)return 0;n=parseFloat(n);var o=p[i]||1;return n*o}(e),this.stagger;this.stagger=0},u._positionItem=function(e,t,n,i,o){i?e.goTo(t,n):(e.stagger(o*this.stagger),e.moveTo(t,n))},u._postLayout=function(){this.resizeContainer()},u.resizeContainer=function(){if(this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},u._getContainerSize=s,u._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},u._emitCompleteOnItems=function(e,t){var n=this;function i(){n.dispatchEvent(e+"Complete",null,[t])}var o=t.length;if(t&&o){var a=0;t.forEach((function(t){t.once(e,r)}))}else i();function r(){++a==o&&i()}},u.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;if(this.emitEvent(e,i),r)if(this.$element=this.$element||r(this.element),t){var o=r.Event(t);o.type=e,this.$element.trigger(o,n)}else this.$element.trigger(e,n)},u.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},u.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},u.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},u.unstamp=function(e){(e=this._find(e))&&e.forEach((function(e){i.removeFrom(this.stamps,e),this.unignore(e)}),this)},u._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=i.makeArray(e)},u._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},u._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},u._manageStamp=s,u._getElementOffset=function(e){var t=e.getBoundingClientRect(),i=this._boundingRect,o=n(e);return{left:t.left-i.left-o.marginLeft,top:t.top-i.top-o.marginTop,right:i.right-t.right-o.marginRight,bottom:i.bottom-t.bottom-o.marginBottom}},u.handleEvent=i.handleEvent,u.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},u.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},u.onresize=function(){this.resize()},i.debounceMethod(d,"onresize",100),u.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},u.needsResizeLayout=function(){var e=n(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},u.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},u.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},u.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},u.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,n){e.stagger(n*t),e.reveal()}))}},u.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,n){e.stagger(n*t),e.hide()}))}},u.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},u.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},u.getItem=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(n.element==e)return n}},u.getItems=function(e){e=i.makeArray(e);var t=[];return e.forEach((function(e){var n=this.getItem(e);n&&t.push(n)}),this),t},u.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach((function(e){e.remove(),i.removeFrom(this.items,e)}),this)},u.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach((function(e){e.destroy()})),this.unbindResize();var t=this.element.outlayerGUID;delete c[t],delete this.element.outlayerGUID,r&&r.removeData(this.element,this.constructor.namespace)},d.data=function(e){var t=(e=i.getQueryElement(e))&&e.outlayerGUID;return t&&c[t]},d.create=function(e,t){var n=m(d);return n.defaults=i.extend({},d.defaults),i.extend(n.defaults,t),n.compatOptions=i.extend({},d.compatOptions),n.namespace=e,n.data=d.data,n.Item=m(o),i.htmlInit(n,e),r&&r.bridget&&r.bridget(e,n),n};var p={ms:1,s:1e3};return d.Item=o,d}(a,e,t,n,i)}.apply(t,i))||(e.exports=o)}(window)},JxAY:function(e,t,n){},KGBd:function(e,t,n){"use strict";function i(e,t,n,i,o,a,r){var s=document.createElement("canvas");s.width=a,s.height=r;var l=s.getContext("2d"),c="";if(l){var d=new Image;d.src=e,l.drawImage(d,t,n,i,o,0,0,a,r),c=s.toDataURL("image/png")}return s.remove(),c}n.d(t,"a",(function(){return i}))},KK1e:function(e,t,n){var i,o,a;window,o=[n("CUlp"),n("QK1G")],void 0===(a="function"==typeof(i=function(e,t){"use strict";var n=document.documentElement.style,i="string"==typeof n.transition?"transition":"WebkitTransition",o="string"==typeof n.transform?"transform":"WebkitTransform",a={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[i],r={transform:o,transition:i,transitionDuration:i+"Duration",transitionProperty:i+"Property",transitionDelay:i+"Delay"};function s(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=s.prototype=Object.create(e.prototype);l.constructor=s,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var n in e)t[r[n]||n]=e[n]},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=e[t?"left":"right"],o=e[n?"top":"bottom"],a=parseFloat(i),r=parseFloat(o),s=this.layout.size;-1!=i.indexOf("%")&&(a=a/100*s.width),-1!=o.indexOf("%")&&(r=r/100*s.height),a=isNaN(a)?0:a,r=isNaN(r)?0:r,a-=t?s.paddingLeft:s.paddingRight,r-=n?s.paddingTop:s.paddingBottom,this.position.x=a,this.position.y=r},l.layoutPosition=function(){var e=this.layout.size,t={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=n?"paddingLeft":"paddingRight",a=n?"left":"right",r=n?"right":"left",s=this.position.x+e[o];t[a]=this.getXValue(s),t[r]="";var l=i?"paddingTop":"paddingBottom",c=i?"top":"bottom",d=i?"bottom":"top",u=this.position.y+e[l];t[c]=this.getYValue(u),t[d]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var n=this.position.x,i=this.position.y,o=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!o||this.isTransitioning){var a=e-n,r=t-i,s={};s.transform=this.getTranslate(a,r),this.transition({to:s,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);e.from&&(this.css(e.from),this.element.offsetHeight),this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var c="opacity,"+o.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}));l.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:c,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(a,this,!1)}},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var d={"-webkit-transform":"transform"};l.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=d[e.propertyName]||e.propertyName;delete t.ingProperties[n],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd&&(t.onEnd[n].call(this),delete t.onEnd[n]),this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(a,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var u={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(u)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){i&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s})?i.apply(t,o):i)||(e.exports=a)},LO96:function(e,t,n){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},MM5q:function(e,t,n){"use strict";var i=n("mrSG"),o=n("q1tI"),a=n("cZKs"),r=n("xPN0"),s=n("/7QA"),l=n("atdg"),c=n("eG16"),d=n("sUnt"),u=n("yymn"),m=n("+80q"),p=function(){return o.createElement(d.a,null,o.createElement(d.a,{display:u.g.HideAccessible},o.createElement(m.a,{id:l.a,type:m.e.H6},Object(s.d)("Error","ExtensionErrorModal"))),o.createElement(m.a,{id:c.a},Object(s.d)("There was an error. Please try again later.","ExtensionErrorModal")))};p.displayName="ExtensionErrorModalPresentation";var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(r.a,null,o.createElement(p,null),o.createElement(a.a,{closeOnBackdropClick:!0}))},t}(o.Component);n.d(t,"a",(function(){return h}))},NAeX:function(e,t,n){},"NN+d":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ExtensionRecommendationsInstallExtension"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"InstallExtensionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"installExtension"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"installedExtension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activationConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slot"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:221}};n.loc.source={body:"mutation ExtensionRecommendationsInstallExtension ($input: InstallExtensionInput!) {\ninstallExtension(input: $input) {\ninstalledExtension {\nid\nactivationConfig {\nanchor\nslot\nstate\n}\nextension {\nid\nclientID\nversion\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionRecommendationsInstallExtension=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionRecommendationsInstallExtension")},Og0W:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPanels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelPanelsPanel"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"channelPanelsPanel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Panel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelPanelsDefaultPanel"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"channelPanelsExtensionPanel"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"channelPanelsExtensionPanel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"channelPanelsDefaultPanel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}],loc:{start:0,end:434}};n.loc.source={body:"query ChannelPanels($id: ID!) {\ncurrentUser {\nid\nlogin\nroles {\nisStaff\nisSiteAdmin\n}\n}\nuser(id: $id) {\nid\ncheer {\nid\n}\nlogin\npanels {\n...channelPanelsPanel\n}\n}\n}\nfragment channelPanelsPanel on Panel {\n...channelPanelsDefaultPanel\n...channelPanelsExtensionPanel\n}\nfragment channelPanelsExtensionPanel on ExtensionPanel {\nid\ntype\nslotID\n}\nfragment channelPanelsDefaultPanel on DefaultPanel {\nid\ntype\ntitle\nimageURL\nlinkURL\ndescription\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPanels=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPanels")},Oz8M:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPanelsCreatePanel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePanelInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPanel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"panel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"mutation ChannelPanelsCreatePanel($input: CreatePanelInput!) {\ncreatePanel(input: $input) {\npanel {\nid\ntype\n... on DefaultPanel {\ntitle\nimageURL\nlinkURL\ndescription\n}\n... on ExtensionPanel {\nslotID\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPanelsCreatePanel=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPanelsCreatePanel")},OzNJ:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"i",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"l",(function(){return f})),n.d(t,"f",(function(){return g}));var i,o,a,r=n("1hWM"),s=n("DMoW");function l(e){var t=[];return e.subscriptionsSupportLevel!==s.Jb.NONE&&t.push(i.ChannelReadSubscriptions),t}function c(e){return e.bitsSupportLevel?e.bitsSupportLevel:e.isBitsEnabled?s.Db.REQUIRED:s.Db.NONE}function d(e){var t=c(e);return t===s.Db.REQUIRED||t===s.Db.OPTIONAL?o.Bits:e.vendorCode&&e.sku?o.InExtensionPurchases:null}function u(e){var t=[];return e.component&&e.component.viewerURL&&t.push(s.Cb.COMPONENT),e.panel&&e.panel.viewerURL&&t.push(s.Cb.PANEL),e.videoOverlay&&e.videoOverlay.viewerURL&&t.push(s.Cb.VIDEO_OVERLAY),t}function m(e){var t=[r.ExtensionPlatform.Web];return e.mobile&&e.mobile.viewerURL&&t.push(r.ExtensionPlatform.Mobile),t}function p(e,t){return e+":"+t}function h(e){return p(e.extension.id,e.extension.version)}function f(e){var t=!1;return e.requiredActions&&(t=e.requiredActions.some((function(e){return e.type===s.Hb.REQUIRES_CONFIGURATION}))),t}function g(e,t){return c(e)===s.Db.OPTIONAL||e.hasChatSupport||e.subscriptionsSupportLevel===s.Jb.OPTIONAL||!!t.dynamicManagement&&t.dynamicManagement.length>0}!function(e){e.ChannelReadSubscriptions="channel:read:subscriptions"}(i||(i={})),function(e){e[e.Bits=0]="Bits",e[e.InExtensionPurchases=1]="InExtensionPurchases"}(o||(o={})),function(e){e[e.Deactivate=0]="Deactivate",e[e.Replace=1]="Replace",e[e.Uninstall=2]="Uninstall"}(a||(a={}))},PZVp:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.REQUESTED=0]="REQUESTED",e[e.POSTPROCESS_STARTED=1]="POSTPROCESS_STARTED",e[e.POSTPROCESS_COMPLETE=2]="POSTPROCESS_COMPLETE",e[e.COMPLETE=3]="COMPLETE",e[e.VALIDATION_FAILED=4]="VALIDATION_FAILED",e[e.POSTPROCESS_FAILED=5]="POSTPROCESS_FAILED",e[e.POSTPROCESS_RETRYING=6]="POSTPROCESS_RETRYING",e[e.FEATURE_SERVICE_FAILED=7]="FEATURE_SERVICE_FAILED",e[e.IS_IMAGE_VALIDATION_FAILED=110]="IS_IMAGE_VALIDATION_FAILED",e[e.ASPECT_RATIO_VALIDATION_FAILED=111]="ASPECT_RATIO_VALIDATION_FAILED",e[e.WIDTH_VALIDATION_FAILED=112]="WIDTH_VALIDATION_FAILED",e[e.HEIGHT_VALIDATION_FAILED=113]="HEIGHT_VALIDATION_FAILED",e[e.IMAGE_FORMAT_VALIDATION_FAILED=114]="IMAGE_FORMAT_VALIDATION_FAILED",e[e.FILE_SIZE_VALIDATION_FAILED=120]="FILE_SIZE_VALIDATION_FAILED",e[e.TRANSFORMATION_FAILED=210]="TRANSFORMATION_FAILED",e[e.PROCESSING_FAILED=220]="PROCESSING_FAILED"}(i||(i={}))},Puqe:function(e,t,n){var i=n("eUgh"),o=n("OBhP"),a=n("S7Xf"),r=n("4uTw"),s=n("juv8"),l=n("4Oe1"),c=n("xs/l"),d=n("G6z8"),u=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=i(t,(function(t){return t=r(t,e),c||(c=t.length>1),t})),s(e,d(e),n),c&&(n=o(n,7,l));for(var u=t.length;u--;)a(n,t[u]);return n}));e.exports=u},QK1G:function(e,t,n){var i;!function(o,a){"use strict";void 0===(i=function(){return function(){function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],i=n.length;function o(e){var n=getComputedStyle(e);return n||t("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}var a,r=!1;function s(t){if(function(){if(!r){r=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(t);var i=o(t);s.isBoxSizeOuter=a=200==e(i.width),n.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var l=o(t);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<i;t++){e[n[t]]=0}return e}();var c={};c.width=t.offsetWidth,c.height=t.offsetHeight;for(var d=c.isBorderBox="border-box"==l.boxSizing,u=0;u<i;u++){var m=n[u],p=l[m],h=parseFloat(p);c[m]=isNaN(h)?0:h}var f=c.paddingLeft+c.paddingRight,g=c.paddingTop+c.paddingBottom,v=c.marginLeft+c.marginRight,b=c.marginTop+c.marginBottom,E=c.borderLeftWidth+c.borderRightWidth,y=c.borderTopWidth+c.borderBottomWidth,x=d&&a,k=e(l.width);!1!==k&&(c.width=k+(x?0:f+E));var S=e(l.height);return!1!==S&&(c.height=S+(x?0:g+y)),c.innerWidth=c.width-(f+E),c.innerHeight=c.height-(g+y),c.outerWidth=c.width+v,c.outerHeight=c.height+b,c}}return s}()}.call(t,n,t,e))||(e.exports=i)}(window)},Rsna:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPanelsOrderPanels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OrderPanelsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderPanels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"panels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:206}};n.loc.source={body:"mutation ChannelPanelsOrderPanels($input: OrderPanelsInput!) {\norderPanels(input: $input) {\npanels {\nid\ntype\n... on DefaultPanel {\ntitle\nimageURL\nlinkURL\ndescription\n}\n... on ExtensionPanel {\nslotID\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPanelsOrderPanels=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPanelsOrderPanels")},S7Xf:function(e,t,n){var i=n("4uTw"),o=n("RBan"),a=n("gpbi"),r=n("9Nap");e.exports=function(e,t){return t=i(t,e),null==(e=a(e,t))||delete e[r(o(t))]}},"SN/u":function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return C}));var i,o,a=n("mrSG"),r=n("TSYQ"),s=n("q1tI"),l=n("/7QA"),c=n("1rIY"),d=n("GnwI"),u=n("C7sF"),m=n("sUnt"),p=n("yymn"),h=n("Ws8v"),f=n("i4Ys"),g=n("IbuL"),v=n("hnjF"),b=(n("inLc"),"[data-js-selector=carousel-content]"),E=Object(c.a)("MediaCarouselImpressionProvider",{registerReceiver:function(){return function(){return null}}}),y=E.context,x=E.withContext;!function(e){e.Previous="previous",e.Next="next"}(o||(o={}));var k=((i={})[o.Previous]=u.a.AngleLeft,i[o.Next]=u.a.AngleRight,i),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentElementIndex:0,childrenRendered:!1,windowWidth:window.innerWidth},t.receivers=[],t.notifyImpressionReceivers=function(){requestAnimationFrame((function(){var e=t.getCarouselRect();e&&t.receivers.forEach((function(t){t.checkVisible(e)}))}))},t.onResize=function(){t.setState({windowWidth:window.innerWidth})},t.moveCarouselForward=function(){if(!t.isForwardButtonDisabled()&&t.props.items){for(var e=t.getCarouselChildren(),n=t.getCarouselWidth(),i=t.state.currentElementIndex+1,o=i;o<e.length;o++){if(e[o].getBoundingClientRect().right-t.getBaseOffset()>n){i=o;break}}t.setState({currentElementIndex:i})}},t.moveCarouselBackward=function(){if(!t.isBackButtonDisabled()){for(var e=t.getCarouselChildren(),n=t.getCarouselWidth(),i=t.state.currentElementIndex-1,o=i-1;o>=0;o--){if(n<-1*(e[o].getBoundingClientRect().left-t.getBaseOffset()))break;i=o}t.setState({currentElementIndex:i})}},t.isForwardButtonDisabled=function(){if(!t.carouselContainerRef)return!0;if(t.props.items){var e=t.getCarouselWidth(),n=t.getCarouselChildren();if(t.state.currentElementIndex>=n.length-1)return!0;var i=n[t.state.currentElementIndex].getBoundingClientRect().left;if(n[n.length-1].getBoundingClientRect().right-i>e)return!1}return!0},t.isBackButtonDisabled=function(){return 0===t.state.currentElementIndex},t.getCarouselChildren=function(){if(!t.carouselContainerRef)return[];var e=t.getCarouselSlider();return e&&e.children.length?Array.prototype.slice.call(e.children):[]},t.getCarouselSlider=function(){return t.carouselContainerRef&&t.carouselContainerRef.querySelector(b)},t.getCarouselRect=function(){return t.carouselContainerRef&&t.carouselContainerRef.getBoundingClientRect()},t.getSliderRect=function(){var e=t.getCarouselSlider();if(e)return e.getBoundingClientRect()},t.getCarouselWidth=function(){var e=t.getCarouselRect();return e?e.width:0},t.getBaseOffset=function(){var e=t.getCarouselRect();return e?e.left:0},t.getChildOffset=function(e){var n=t.getCarouselChildren();return 0===n.length||n.length<=e?0:n[e].getBoundingClientRect().left},t.transformString=function(){var e=t.getSliderRect(),n=0,i=0;e&&(n=e.left,i=e.width);var o=t.getChildOffset(t.state.currentElementIndex)-n,a=i-o,r=t.getCarouselWidth();return a<r&&(o=i-r),-o+"px"},t.refHandler=function(e){return t.state.childrenRendered||null===t.props.items||t.setState({childrenRendered:!0}),t.carouselContainerRef=e},t.renderNavButton=function(e,n,i){var a,c=((a={})[o.Previous]=Object(l.d)("previous","MediaCarouselNavButton"),a[o.Next]=Object(l.d)("next","MediaCarouselNavButton"),a),d=r("media-carousel__button",{"media-carousel__button--previous":e===o.Previous,"media-carousel__button--next":e===o.Next,"media-carousel__button--disabled":n},{"media-carousel__button--inset":!0===t.props.insetStyle});return s.createElement(m.a,{display:p.g.Flex,alignItems:p.b.Center,position:p.n.Absolute,attachTop:!0,attachLeft:e&&e===o.Previous,attachRight:e&&e===o.Next,fullHeight:!0},s.createElement(h.a,{className:d,position:p.n.Relative,display:p.g.Flex,borderRadius:p.e.Medium,background:p.d.Base},s.createElement(f.a,{ariaLabel:c[e],blurAfterClick:!0,"data-test-selector":e+"-button","data-a-target":e+"-button",disabled:n,onClick:i,type:f.b.Alpha,borderRadius:t.props.insetStyle?p.e.None:p.e.Medium,border:t.props.insetStyle},s.createElement(h.a,{color:p.f.Link,display:p.g.InlineFlex,padding:{x:.5,y:2}},s.createElement(g.a,{asset:k[e]})))))},t}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(){this.state.childrenRendered||null===this.props.items||this.setState({childrenRendered:!0}),this.notifyImpressionReceivers()},t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResize),this.carouselContainerRef&&this.carouselContainerRef.addEventListener("transitionend",this.notifyImpressionReceivers),this.notifyImpressionReceivers()},t.prototype.componentWillUnmount=function(){this.carouselContainerRef&&this.carouselContainerRef.removeEventListener("transitionend",this.notifyImpressionReceivers),window.removeEventListener("resize",this.onResize)},t.prototype.render=function(){return s.createElement(y.Provider,{value:this.contextForChildren()},s.createElement(v.a,{position:p.n.Relative},s.createElement("div",{className:"media-carousel",ref:this.refHandler,"data-test-selector":"carousel-container"},s.createElement(m.a,{className:"media-carousel__child-container",overflow:p.m.Hidden,fullWidth:!0,"data-test-selector":"child-container"},s.createElement("div",{className:"media-carousel__body",style:{marginLeft:this.transformString()},"data-test-selector":"carousel-body"},s.createElement(v.a,{className:"media-carousel__content",display:p.g.Flex,flexWrap:p.i.NoWrap,flexDirection:p.h.Row,alignItems:p.b.Start,"data-js-selector":"carousel-content"},s.createElement("div",{style:{width:"max-content"}},this.props.items)))),s.createElement(m.a,{className:"media-carousel__nav",display:p.g.Flex,alignItems:p.b.Center,position:p.n.Absolute,attachTop:!0,attachLeft:!0,fullHeight:!0},this.renderNavButton(o.Previous,!this.state.childrenRendered||this.isBackButtonDisabled(),this.moveCarouselBackward)),s.createElement(m.a,{className:"media-carousel__nav",display:p.g.Flex,alignItems:p.b.Center,position:p.n.Absolute,attachTop:!0,attachRight:!0,fullHeight:!0},this.renderNavButton(o.Next,!this.state.childrenRendered||this.isForwardButtonDisabled(),this.moveCarouselForward)))))},t.prototype.contextForChildren=function(){var e=this;return{registerReceiver:function(t){return e.receivers.push(t),function(){var n=e.receivers.indexOf(t);e.receivers.splice(n,1)}}}},t}(s.Component),C=Object(d.withLatencyTracking)("MediaCarousel",{autoReportInteractive:!0})(S)},Sa1T:function(e,t,n){"use strict";e.exports=function(e){var t={};function n(n){var i=e.get(n);return void 0===i?[]:t[i]||[]}return{get:n,add:function(n,i){var o=e.get(n);t[o]||(t[o]=[]),t[o].push(i)},removeListener:function(e,t){for(var i=n(e),o=0,a=i.length;o<a;++o)if(i[o]===t){i.splice(o,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},T14b:function(e,t,n){"use strict";var i=n("SN/u");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},TVJu:function(e,t,n){"use strict";var i,o=n("mrSG"),a=n("/MKj"),r=n("ANjH"),s=n("1/iK"),l=n("XDCx"),c=n("y5D0"),d=n("kRBY"),u=n("/HY+"),m=n("TSYQ"),p=n("1hWM"),h=n("q1tI"),f=n("/7QA"),g=n("eJ65"),v=n("yR8l"),b=n("edgk"),E=n("DMoW"),y=n("2xye"),x=n("3CMh"),k=n("Ziwv"),S=n("BaCc"),C=n("Jsra"),I=n("hnjF"),w=n("yymn"),O=n("sUnt"),P=n("+80q"),D=n("dEDE"),N=n("Ws8v"),T="test_selector_legal_disclaimer",_="test_selector_confirm_button",R="test_selector_buy_bits_button",j="test_selector_cancel_button",F=function(e){var t=Object(f.d)("Confirm","BitsConfrimationDialogue"),n=Object(f.d)("Settings","BitsConfrimationDialogue"),i=h.createElement(C.a,{linkTo:"https://www.twitch.tv/settings/connections"},n),o=h.createElement(I.a,{display:w.g.InlineFlex,alignContent:w.a.Center,alignItems:w.b.Center,margin:{left:.5}},h.createElement("span",null,h.createElement(x.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",size:x.b.ExtremelySmall,display:w.g.InlineFlex,amount:e.newBalance,alignItems:w.b.Center,formattedNumber:!0}))),a=Object(f.d)("After confirming, your Bits balance will be {newBalance}",{newBalance:o},"BitsConfrimationDialogue"),r=Object(f.d)('By clicking "{ConfirmText}," you agree to share your Twitch ID with {ExtensionName}. You can manage account connections under {Settings}.',{ConfirmText:t,ExtensionName:e.extensionName,Settings:i},"BitsConfrimationDialogue");return h.createElement(O.a,{className:"bits-confirmation-dialog"},h.createElement(O.a,{padding:1},h.createElement(O.a,{margin:{bottom:1},display:w.g.Flex,justifyContent:w.l.Between},h.createElement(O.a,null,h.createElement(P.a,{fontSize:w.j.Size5,bold:!0},e.extensionItemLabel),h.createElement(P.a,null,e.extensionName)),h.createElement("span",null,h.createElement(x.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",size:x.b.ExtraSmall,display:w.g.InlineFlex,amount:e.cost,alignItems:w.b.Center}))),h.createElement(O.a,{display:w.g.Flex,margin:{bottom:1}},h.createElement(I.a,{display:w.g.Flex},h.createElement(P.a,null,a))),h.createElement(O.a,{display:w.g.Inline},h.createElement(O.a,{display:w.g.InlineBlock,margin:{right:1}},h.createElement(D.a,{"data-test-selector":_,onClick:function(){e.onConfirm().then((function(t){"number"==typeof t&&Number.isInteger(t)&&Object(k.b)(S,e.userID,t)})),Object(k.b)(S,e.userID,e.newBalance)}},t)),h.createElement(O.a,{display:w.g.InlineBlock,margin:{right:1}},h.createElement(D.a,{"data-test-selector":R,linkTo:e.bitsLandingPageUrl,targetBlank:!0,type:D.d.Secondary},e.buyBitsText)),h.createElement(O.a,{display:w.g.InlineBlock},h.createElement(D.a,{"data-test-selector":j,onClick:e.onClose,type:D.d.Secondary},e.cancelText)))),h.createElement(N.a,{borderTop:!0,padding:1},h.createElement(P.a,{"data-test-selector":T},r)))},L="test_selector_buy_bits_button",A="test_selector_cancel_button",B=function(e){var t,n=e.bitsBalance-e.cost,i=Math.abs(n),o=h.createElement(I.a,{display:w.g.InlineFlex,margin:{x:.5}},h.createElement("span",null,h.createElement(x.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",size:x.b.ExtremelySmall,display:w.g.InlineFlex,amount:i,alignItems:w.b.Center,formattedNumber:!0})));return t=h.createElement(I.a,{display:w.g.Flex},h.createElement(P.a,null,Object(f.d)("You need {BitsRequired} more Bits to proceed.",{BitsRequired:o},"BitsUpsellDialog"))),h.createElement(O.a,{className:"bits-upsell-dialog",padding:1},h.createElement(O.a,{margin:{bottom:1},display:w.g.Flex,justifyContent:w.l.Between},h.createElement(O.a,null,h.createElement(P.a,{fontSize:w.j.Size5,bold:!0},e.extensionItemLabel),h.createElement(P.a,null,e.extensionName)),h.createElement("span",null,h.createElement(x.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",size:x.b.ExtraSmall,display:w.g.InlineFlex,amount:e.cost,alignItems:w.b.Center}))),h.createElement(O.a,{display:w.g.Flex,margin:{bottom:1}},t),h.createElement(O.a,{display:w.g.Inline},h.createElement(O.a,{display:w.g.InlineBlock,margin:{right:1}},h.createElement(D.a,{"data-test-selector":L,linkTo:e.bitsLandingPageUrl,targetBlank:!0,type:D.d.Primary},e.buyBitsText)),h.createElement(O.a,{display:w.g.InlineBlock},h.createElement(D.a,{"data-test-selector":A,onClick:e.onClose,type:D.d.Secondary},e.cancelText))))},M=function(e){var t=Object(f.d)("Buy Bits","UseBitsDialog"),n=Object(f.d)("Cancel","UseBitsDialog"),i=null;if(e)if(e.bitsBalance>=e.cost){var o=e.bitsBalance-e.cost;i=h.createElement(F,{cost:e.cost,extensionName:e.extensionName,extensionItemLabel:e.extensionItemLabel,newBalance:o,bitsBalance:e.bitsBalance,bitsLandingPageUrl:"https://twitch.tv/bits",buyBitsText:t,cancelText:n,onConfirm:e.onConfirm,onClose:e.onClose,userID:e.userID})}else i=h.createElement(B,{cost:e.cost,extensionName:e.extensionName,extensionItemLabel:e.extensionItemLabel,bitsBalance:e.bitsBalance,bitsLandingPageUrl:"https://twitch.tv/bits",buyBitsText:t,cancelText:n,onConfirm:e.onConfirm,onClose:e.onClose});return h.createElement(O.a,{className:"use-bits-dialog"},i)},U="test_selectors_close_button",z=function(e){var t=Object(f.d)("Sorry, something went wrong. Please try again.","UseBitsErrorDialog"),n=Object(f.d)("Close","UseBitsErrorDialog");return h.createElement(O.a,{className:"use-bits-error-dialog",padding:1},h.createElement(I.a,{display:w.g.Flex,alignContent:w.a.Center,margin:{bottom:1}},h.createElement(P.a,null,t)),h.createElement(D.a,{"data-test-selector":U,onClick:e.onClose},n))},W=n("5zC2"),q=n("22qk"),H=n("5IFo"),V=n("JVUd"),G=n("0HeA"),Y=n("ygYM"),K=n("b7S+"),Q=n("7d/q"),X=n("C7sF"),J=n("eDVu"),$=n("VeT4"),Z=n("4h+t"),ee=(n("NAeX"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.props.data.currentUser&&e.startTimer&&e.startTimer()},t.prototype.render=function(){if(this.props.data.loading||!this.props.data.currentUser)return null;var e=this.props.showSuccessText?h.createElement(P.a,{type:P.e.Span,className:"extension-bits-balance-success"},Object(f.d)("Success!","ExtensionPanelBitsBalanceDialog")):null,t=h.createElement($.a,{withImage:!0,withText:!0,animated:!1,count:this.props.data.currentUser.bitsBalance||0,bitsConfig:Object(Z.c)()});return h.createElement(O.a,{margin:{top:0,right:1,bottom:.5,left:1}},e,Object(f.d)("Bits Balance: {bitsComponent}",{bitsComponent:t},"ExtensionPanelBitsBalanceDialog"))},t.prototype.componentDidMount=function(){this.props.data.currentUser&&this.props.startTimer&&this.props.startTimer()},t}(h.Component)),te=Object(r.d)(Object(J.a)((function(e){return Object(k.a)(S,e.channelID,e.userID)})),Object(v.a)(S))(ee),ne=n("IbuL"),ie=n("6ZyN"),oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){if(this.props.data.loading||!this.props.data.currentUser)return null;var e=h.createElement(O.a,null,h.createElement(O.a,null,h.createElement(P.a,{fontSize:w.j.Size5},Object(f.e)("You are committing Bits to ","ConditionConfirmationDialogCommitBits"),this.props.currentConditionConfirmationState.options.conditionId)),h.createElement(O.a,{margin:{top:1,bottom:1},display:w.g.Flex,alignItems:w.b.Center},h.createElement(ne.a,{asset:X.a.Bits}),h.createElement(P.a,{type:P.e.Span,fontSize:w.j.Size4,bold:!0},this.props.currentConditionConfirmationState.options.bitsAmount)),h.createElement(O.a,{display:w.g.Flex,alignItems:w.b.Center,margin:{bottom:0}},h.createElement(P.a,{type:P.e.Span,fontSize:w.j.Size5},Object(f.e)("Your current Bits balance is:","ConditionConfirmationDialogBitsBalance")),h.createElement(ne.a,{asset:X.a.Bits}),h.createElement(P.a,{type:P.e.Span,fontSize:w.j.Size4,bold:!0},this.props.data.currentUser.bitsBalance||0)),h.createElement(O.a,{display:w.g.Flex,justifyContent:w.l.Center,margin:{top:2}},h.createElement(O.a,{display:w.g.Flex,flexGrow:3,margin:{right:.5}},h.createElement(D.a,{type:D.d.Secondary,fullWidth:!0,onClick:this.props.cancelCondition},Object(f.e)("Cancel","ConditionConfirmationDialogCancel"))),h.createElement(O.a,{display:w.g.Flex,flexGrow:4,margin:{left:.5}},h.createElement(D.a,{type:D.d.Primary,fullWidth:!0,"data-test-selector":"confirmation_message_selector",onClick:this.props.confirmCondition},Object(f.e)("Confirm","ConditionConfirmationDialogConfirm")))),h.createElement(N.a,{borderTop:!0,margin:{top:2,bottom:2}}),h.createElement(O.a,{margin:{bottom:2}},h.createElement(P.a,{type:P.e.P,fontSize:w.j.Size5},Object(f.e)('By clicking "Confirm", you agree to share your Twitch ID with {extensionName}.\n            You can manage account connections under Settings.',{extensionName:this.props.extensionName},"ConditionConfirmationDialogAgreement"))),h.createElement(O.a,null,h.createElement(P.a,{type:P.e.P,fontSize:w.j.Size5},Object(f.e)("If the Broadcaster rejects this challenge the bits will be refunded to your account.","ConditionConfirmationDialogBitsRefund"))));return h.createElement(O.a,{padding:2},e)},t}(h.Component),ae=Object(r.d)(Object(v.a)(ie))(oe),re=n("X2PJ");!function(e){e.ExtensionName="extension_name_selector",e.ShowExtensionButton="show_extension_button_selector"}(i||(i={}));var se=function(e){var t=e.extension.views.panel?e.extension.views.panel.height:300;return h.createElement(re.a,{alignItems:w.b.Center,background:w.d.Alt2,borderLeft:!0,borderTop:!0,borderRight:!0,display:w.g.Flex,flexDirection:w.h.Column,fullWidth:!0,justifyContent:w.l.Center,color:w.f.Base,position:w.n.Relative},h.createElement("div",{style:{height:t}},h.createElement("img",{src:e.extension.iconUrl}),h.createElement(O.a,{margin:1,textAlign:w.p.Center},h.createElement(P.a,{fontSize:w.j.Size5},Object(f.d)("{name} is popped out.",{name:h.createElement(P.a,{"data-test-selector":i.ExtensionName,type:P.e.Span,bold:!0},e.extension.name)},"ExtensionPopoutPlaceholder"))),h.createElement(D.a,{"data-test-selector":i.ShowExtensionButton,onClick:e.onExtensionShowClicked},Object(f.d)("Show Extension","ExtensionPopoutPlaceholder"))))};se.displayName="ExtensionPopoutPlaceholder";var le,ce=function(e){return h.createElement(O.a,{padding:1},h.createElement(O.a,null,h.createElement("span",null,Object(f.d)("You must be logged in to use this extension feature.","FeatureNeedsAuthDialog")),h.createElement(N.a,{borderTop:!0,margin:{y:1}}),h.createElement(O.a,{display:w.g.Flex,justifyContent:w.l.Start},h.createElement(D.a,{"data-test-selector":"qa-needs-auth-close-selector",type:D.d.Secondary,onClick:e.close},Object(f.d)("Close","FeatureNeedsAuthDialog")))))},de=n("K/KT"),ue=function(e){var t=function(t){return h.createElement(O.a,null,h.createElement("span",{"data-test-selector":"confirmation_message_selector"},t),h.createElement(N.a,{borderTop:!0,margin:{y:1}}),h.createElement(O.a,{display:w.g.Flex,justifyContent:w.l.Start},h.createElement(D.a,{type:D.d.Secondary,onClick:e.cancelFollow},Object(f.d)("Close","FollowDialog"))))};if(null===e.currentFollowRequest.options.channel)return h.createElement(O.a,{padding:1},t(Object(f.d)("The channel you are attempting to follow does not exist.","FollowDialog")));var n=Object(f.d)("You are about to follow {name}.",{name:h.createElement(P.a,{type:P.e.Span,bold:!0},e.currentFollowRequest.options.channel)},"FollowDialog"),i=Object(f.d)("Receive updates on {name}'s activity, including when they go live and upload videos or clips, on mobile, email, and web.",{name:e.currentFollowRequest.options.channel},"FollowDialog"),o=h.createElement(O.a,null,h.createElement("span",{"data-test-selector":"confirmation_message_selector"},n),h.createElement(N.a,{borderTop:!0,margin:{y:1}}),h.createElement(O.a,{display:w.g.Flex,justifyContent:w.l.Start},h.createElement(O.a,{margin:{right:1}},h.createElement(D.a,{type:D.d.Primary,"data-test-selector":"toggle_follow_button_selector",onClick:e.confirmFollow},Object(f.d)("Follow","FollowDialog"))),h.createElement(D.a,{type:D.d.Secondary,onClick:e.cancelFollow},Object(f.d)("Cancel","FollowDialog"))),h.createElement(N.a,{borderTop:!0,margin:{y:1}}),h.createElement(O.a,{display:w.g.Flex,justifyContent:w.l.Start},h.createElement(O.a,{flexGrow:1},h.createElement(P.a,{type:P.e.Span,fontSize:w.j.Size5},Object(f.d)("Notifications","FollowDialog"))),h.createElement(de.a,{id:"ext-follow-notification",checked:e.currentFollowRequest.notifications,onChange:e.onNotificationsChanged})),h.createElement(P.a,{type:P.e.Span,color:w.f.Alt2,fontSize:w.j.Size7},i)),a=Object(f.d)("You are already following {name}.",{name:h.createElement(P.a,{type:P.e.Span,bold:!0},e.currentFollowRequest.options.channel)},"FollowDialog"),r=e.currentFollowRequest.options.isFollowing?t(a):o;return h.createElement(O.a,{padding:1},r)};!function(e){e.ManagePermissionsLink="manage_permissions_link_selector",e.ToggleIdentityBalloon="toggle_identity_balloon_selector",e.ToggleIdentityButton="toggle_identity_button_selector",e.CancelButton="toggle_identity_button_cancel_selector"}(le||(le={}));var me,pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderGrantPermissionsButton=function(){var e=Object(f.d)("Grant Permissions","ExtensionPanel");return h.createElement(K.a,{label:e,direction:K.c.Top,align:K.b.Right,offsetX:".6rem"},h.createElement(O.a,{display:w.g.Flex,alignItems:w.b.Center},h.createElement(Q.a,{ariaLabel:e,icon:X.a.PermissionsAdd})))},t.renderRevokePermissionsButton=function(){var e=Object(f.d)("Revoke Permissions","ExtensionPanel");return h.createElement(K.a,{label:e,direction:K.c.Top,align:K.b.Right,offsetX:".6rem"},h.createElement(O.a,{display:w.g.Flex,alignItems:w.b.Center},h.createElement(Q.a,{ariaLabel:e,icon:X.a.PermissionsAdded,statusAlertIcon:X.a.PermissionsRemove})))},t.saveGrantPermissionsBalloonRef=function(e){t.grantPermissionsBalloon=e},t.onCancelIdentityLink=function(){t.grantPermissionsBalloon.toggleBalloon(!1),t.props.onDialogToggle&&t.props.onDialogToggle(!0)},t.toggleIdentity=function(){t.props.isLinked?t.props.onUnlinkIdentity&&t.props.onUnlinkIdentity():t.props.onLinkIdentity&&t.props.onLinkIdentity(),t.grantPermissionsBalloon.toggleBalloon(!1),t.props.onDialogToggle&&t.props.onDialogToggle(!0)},t}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){this.grantPermissionsBalloon&&this.grantPermissionsBalloon.toggleBalloon(this.props.isDialogOpen)},t.prototype.componentDidUpdate=function(e){e.isDialogOpen!==this.props.isDialogOpen&&this.grantPermissionsBalloon&&this.grantPermissionsBalloon.toggleBalloon(this.props.isDialogOpen)},t.prototype.render=function(){var e=this.props,t=e.isLinked;if(!e.isLinkEnabled)return null;var n=t?this.renderRevokePermissionsButton():this.renderGrantPermissionsButton(),i=Object(f.d)("You are granting {name} the following access:",{name:h.createElement(P.a,{type:P.e.Strong},this.props.extension.name)},"Extension Panel"),o=Object(f.d)("You are revoking the following access for {name}:",{name:h.createElement(P.a,{type:P.e.Strong},this.props.extension.name)},"Extension Panel");return h.createElement(g.a,{display:w.g.InlineFlex,ref:this.saveGrantPermissionsBalloonRef,onToggle:this.props.onDialogToggle},h.createElement("span",{"data-test-selector":le.ToggleIdentityBalloon},n),h.createElement(Y.a,{direction:Y.b.TopRight,size:Y.c.Small},h.createElement(O.a,{padding:1},h.createElement(O.a,null,t?o:i),h.createElement(N.a,{borderTop:!0,margin:{y:1}}),h.createElement(O.a,null,h.createElement(P.a,{type:P.e.P,bold:!0},Object(f.d)("Your Twitch User ID","Extension Panel")),h.createElement(P.a,{type:P.e.P},Object(f.d)("Allows this extension to know your User ID on Twitch.","Extension Panel")),h.createElement(C.a,{"data-test-selector":le.ManagePermissionsLink,linkTo:"https://twitch.tv/settings/connections",targetBlank:!0},Object(f.d)("Manage Permissions","Extension Panel"))),h.createElement(N.a,{borderTop:!0,margin:{y:1}}),h.createElement(O.a,{display:w.g.Flex,justifyContent:w.l.Center},h.createElement(O.a,{margin:{right:1}},h.createElement(D.a,{type:D.d.Secondary,"data-test-selector":le.CancelButton,onClick:this.onCancelIdentityLink},Object(f.d)("Cancel","Extension Panel"))),h.createElement(D.a,{type:t?D.d.Alert:D.d.Primary,"data-test-selector":le.ToggleIdentityButton,onClick:this.toggleIdentity},t?Object(f.d)("Revoke","Extension Panel"):Object(f.d)("Grant","Extension Panel"))))))},t}(h.Component);!function(e){e.PopoutButton="popout_button_selector"}(me||(me={}));var he,fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){t.props.onClick&&t.props.onClick(e)},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=Object(f.d)("Pop Out Extension","PopoutButton");return h.createElement("span",null,h.createElement(K.a,{label:e,direction:K.c.Top,align:K.b.Right,offsetX:".6rem"},h.createElement(O.a,{display:w.g.Flex,alignItems:w.b.Center},h.createElement(Q.a,{"data-test-selector":me.PopoutButton,onClick:this.onClick,ariaLabel:e,icon:X.a.Popout}))))},t}(h.Component),ge=n("DUmW"),ve=n("+Zug"),be=n("7uM4");!function(e){e.PurchaseUISelector="purchase_ui_selector",e.PurchaseUILoggedOutText="purchase_ui_logged_out_text",e.PurchaseUIHeaderText="purchase_ui_header_text",e.PurchaseUITitleText="purchase_ui_title_text",e.PurchaseUIDisplayPriceText="purchase_ui_display_price_text",e.PurchaseUIExtensionNameText="purchase_ui_extension_name_text",e.PurchaseUIDescriptionText="purchase_ui_description_text",e.PurchaseUINotLinkedText="purchase_ui_not_linked_text",e.PurchaseUIBuyButton="purchase_ui_buy_button",e.PurchaseUICancelButton="purchase_ui_cancel_button"}(he||(he={}));var Ee,ye=function(e){var t,n=e.cancel,i=e.confirm,o=e.isLoggedIn,a=e.isLinked,r=e.isLinkEnabled,s=e.purchaseIntentPayload;return t=o?h.createElement(O.a,{padding:{x:1,bottom:1,top:.5},fullWidth:!0},h.createElement(O.a,{padding:{bottom:2}},h.createElement(P.a,{fontSize:w.j.Size5,bold:!0,"data-test-selector":he.PurchaseUIHeaderText},Object(f.d)("In-Extension Purchase","PurchaseConfirmation"))),h.createElement(O.a,null,h.createElement(ge.a,{gutterSize:ge.b.Default},h.createElement(ve.a,{cols:{default:9}},h.createElement(P.a,{fontSize:w.j.Size6,bold:!0,"data-test-selector":he.PurchaseUITitleText},s.title)),h.createElement(ve.a,{cols:{default:3}},h.createElement(O.a,{fullWidth:!0,textAlign:w.p.Right},h.createElement(P.a,{fontSize:w.j.Size6,bold:!0,"data-test-selector":he.PurchaseUIDisplayPriceText},s.displayPrice))))),h.createElement(O.a,{fullWidth:!0,padding:{bottom:1}},h.createElement(P.a,{color:w.f.Alt2,"data-test-selector":he.PurchaseUIExtensionNameText},Object(f.d)("{name} extension",{name:s.extensionName},"PurchaseConfirmation"))),h.createElement(O.a,{fullWidth:!0},h.createElement(P.a,{className:"t-extension-panel__description",color:w.f.Alt2,"data-test-selector":he.PurchaseUIDescriptionText},s.description),h.createElement(N.a,{borderBottom:!0,margin:{y:1}}),h.createElement(O.a,null,h.createElement(ge.a,{gutterSize:ge.b.Default},h.createElement(ve.a,{cols:{default:4}},h.createElement(D.a,{"data-test-selector":he.PurchaseUIBuyButton,onClick:i,fullWidth:!0},Object(f.d)("Buy","PurchaseConfirmation"))),h.createElement(ve.a,{cols:{default:3}},h.createElement(D.a,{"data-test-selector":he.PurchaseUICancelButton,onClick:n,type:D.d.Secondary},Object(f.d)("Cancel","PurchaseConfirmation")))),!a&&h.createElement(O.a,null,h.createElement(N.a,{borderBottom:!0,margin:{y:1}}),h.createElement(P.a,{fontSize:w.j.Size8,color:w.f.Alt2,"data-test-selector":he.PurchaseUINotLinkedText},Object(f.d)('By clicking "Buy", you agree to share your Twitch ID with {name}. You can manage account connections under <x:link>Settings</x:link>',{name:s.extensionName,"x:link":function(e){return h.createElement(C.a,{linkTo:"/settings/connections"},e)}},"PurchaseConfirmation")))))):h.createElement(O.a,{padding:{x:1,bottom:1,top:.5},fullWidth:!0},h.createElement(O.a,{padding:{top:2}},h.createElement(P.a,{fontSize:w.j.Size5,"data-test-selector":he.PurchaseUILoggedOutText},Object(f.d)("You must be logged in to use this extension feature.","PurchaseConfirmation"))),h.createElement(N.a,{borderBottom:!0,margin:{y:1}}),h.createElement(D.a,{"data-test-selector":he.PurchaseUICancelButton,onClick:n,type:D.d.Secondary},Object(f.d)("Close","PurchaseConfirmation"))),h.createElement(Y.a,{direction:Y.b.TopRight,"data-test-selector":he.PurchaseUISelector,noTail:!r,offsetX:"10px",offsetY:"-2px",tailOffset:33,show:!0,size:Y.c.Medium},h.createElement("button",{className:"t-extension-panel__close t-extension-panel__top-controls",onClick:n},h.createElement(be.a,{asset:X.a.Close,height:11,width:11})),h.createElement(O.a,{display:w.g.Flex,flexGrow:1,flexDirection:w.h.Column,justifyContent:w.l.Center,alignItems:w.b.Center},t))};!function(e){e.RestoreDefaultSizeButton="restore-default-size-button"}(Ee||(Ee={}));var xe,ke=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isRestoreDefaultSizeVisible:!1},t.defaultPopoutWidth=window.outerWidth,t.defaultPopoutHeight=window.outerHeight,t.onClick=function(){window.resizeTo(t.defaultPopoutWidth,t.defaultPopoutHeight)},t.onWindowResize=function(){var e=window.outerWidth,n=window.outerHeight,i=e!==t.defaultPopoutWidth||n!==t.defaultPopoutHeight;t.setState({isRestoreDefaultSizeVisible:i})},t}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onWindowResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onWindowResize)},t.prototype.render=function(){if(!this.props.isPopout||!this.state.isRestoreDefaultSizeVisible)return null;var e=Object(f.d)("Resize to Default","RestoreDefaultSizeButton");return h.createElement("span",null,h.createElement(K.a,{label:e,direction:K.c.Top,align:K.b.Right,offsetX:".6rem"},h.createElement(O.a,{display:w.g.Flex,alignItems:w.b.Center},h.createElement(Q.a,{"data-test-selector":Ee.RestoreDefaultSizeButton,onClick:this.onClick,ariaLabel:e,icon:X.a.FullscreenExit}))))},t}(h.Component),Se=n("fPaz");!function(e){e.AcceptButton="accept-button",e.DeclineButton="decline-button",e.DeclinedMessage="declined-message",e.WarningMessage="warning-message"}(xe||(xe={}));var Ce,Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={declined:!1},t.onDeclined=function(){t.setState({declined:!0})},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=null;e=this.state.declined?h.createElement(h.Fragment,null,h.createElement(P.a,{type:P.e.P,"data-test-selector":xe.DeclinedMessage},Object(f.d)("You’ve declined to use this test extension. To use it, please refresh this page and select accept.","TestExtensionDialog")),h.createElement(O.a,{padding:{top:2},display:w.g.Flex,justifyContent:w.l.Center},h.createElement(D.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions",type:D.d.Secondary},Object(f.d)("Learn More","TestExtensionDialog")))):h.createElement(h.Fragment,null,h.createElement(P.a,{type:P.e.P,"data-test-selector":xe.WarningMessage},Object(f.d)("This is a Test Extension that Twitch has not evaluated; it may not be ready for primetime. Proceed only if you are familiar with the developer, the Extension, or Channel.","TestExtensionDialog"),h.createElement(I.a,{padding:{left:.5}},h.createElement(C.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions"},Object(f.d)("Learn More.","TestExtensionDialog")))),h.createElement(O.a,{padding:{top:2},display:w.g.Flex,justifyContent:w.l.Center},h.createElement(D.a,{onClick:this.onDeclined,type:D.d.Secondary,"data-test-selector":xe.DeclineButton},Object(f.d)("Decline","TestExtensionDialog")),h.createElement(O.a,{padding:{left:1}},h.createElement(D.a,{onClick:this.props.onAccepted,"data-test-selector":xe.AcceptButton},Object(f.d)("Accept","TestExtensionDialog")))));var t=h.createElement(N.a,{alignItems:w.b.Center,border:!0,display:w.g.Flex,justifyContent:w.l.Center,padding:2,flexGrow:1},h.createElement(O.a,null,h.createElement(P.a,{type:P.e.Strong},this.props.extensionName),e));return this.props.isPopout?t:h.createElement(Se.b,{ratio:Se.c.Aspect3x4},t)},t}(h.Component),we=n("EjwI");n("bVvr");!function(e){e.ExtensionDescriptionButton="extension_description_button_selector",e.ExtensionReportButton="extension_report_button_selector",e.ExtensionPanel="extension_panel_selector",e.ExtensionDetailsLink="extension_details_link_selector",e.ToggleFollowButton="toggle_follow_button_selector",e.ConfirmationMessage="confirmation_message_selector",e.PopoutButton="popout_button_selector",e.UseBitsConfirmationToggleBalloonWrapper="confirmation_message_selector"}(Ce||(Ce={}));var Oe=3e3,Pe=32,De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bitsBalance:null,currentFollowRequest:null,currentUseBitsRequest:null,currentConditionConfirmationState:null,isIdentityLinkOpen:!1,isLinked:!1,isLinkEnabled:!1,popoutRestoreIntentTracked:!1,purchaseIntent:null,testExtensionAccepted:!1},t.currentUserAuthoredExtension=function(){return!(!t.props.data||t.props.data.loading||!t.props.data.extensionClients)&&t.props.data.extensionClients.edges.some((function(e){return e.node.id===t.extension.id}))},t.renderExtensionFrame=function(){var e,n=m("extension-panel-extension-frame",((e={})["extension-panel-extension-frame__popout"]=t.props.isPopout,e));return t.extension.state===p.ExtensionState.Released||t.state.testExtensionAccepted||t.currentUserAuthoredExtension()?h.createElement(O.a,null,h.createElement(N.a,{borderTop:!0,borderRight:!0,borderLeft:!0},h.createElement(W.a,{channelID:t.props.channelID,channelLogin:t.props.channelLogin,className:n,extensionMode:t.props.mode,installation:t.props.installation,languageCode:t.props.languageCode,locale:t.props.locale,login:t.props.login,loginID:t.props.loginID,isPopout:t.props.isPopout,isHidden:!1,onBeginPurchase:t.onBeginPurchase,saveExtensionAPI:t.saveExtensionAPI})),h.createElement(O.a,{position:w.n.Relative,fullWidth:!0},t.purchaseUI())):!t.props.data||t.props.data.loading?null:h.createElement(Ie,{extensionName:t.extension.name,isPopout:t.props.isPopout,onAccepted:t.onTestExtensionAccepted})},t.renderFollowConfirmation=function(){return null===t.state.currentFollowRequest?null:h.createElement(g.a,{ref:t.saveFollowConfirmationBalloonRef},h.createElement("span",null),h.createElement(Y.a,{direction:Y.b.TopRight,size:Y.c.Medium,noTail:!0,offsetY:"2rem",offsetX:"-2rem"},h.createElement(ue,{currentFollowRequest:t.state.currentFollowRequest,confirmFollow:t.confirmFollow,onNotificationsChanged:t.onNotificationsChanged,cancelFollow:t.cancelFollow})))},t.renderConditionConfirmation=function(){return null===t.state.currentConditionConfirmationState?null:h.createElement(g.a,{ref:t.saveConditionConfirmationBalloonRef},h.createElement("span",null),h.createElement(Y.a,{direction:Y.b.TopRight,size:Y.c.Medium,noTail:!0,offsetY:"2rem",offsetX:"-2rem"},h.createElement(ae,{currentConditionConfirmationState:t.state.currentConditionConfirmationState,confirmCondition:t.confirmCondition,cancelCondition:t.cancelCondition,extensionName:t.extension.name})))},t.renderFeatureNeedsAuthBalloon=function(){return h.createElement(g.a,{ref:t.saveFeatureNeedsAuthBalloonRef},h.createElement("span",null),h.createElement(Y.a,{direction:Y.b.TopRight,size:Y.c.Medium,noTail:!0,offsetY:"2rem",offsetX:"-2rem"},h.createElement(ce,{close:t.dismissLoginPrompt})))},t.renderUseBitsConfirmation=function(){if(!t.state.currentUseBitsRequest||!t.state.currentUseBitsRequest.options)return null;var e=null;if(t.state.currentUseBitsRequest.options.error)e=h.createElement(z,{error:t.state.currentUseBitsRequest.options.error,onClose:t.cancelUseBits});else if(t.state.currentUseBitsRequest.options.payload){var n=t.state.currentUseBitsRequest.options.payload,i=n.bitsBalance,o=n.extensionItemLabel,a=n.extensionName,r=t.state.currentUseBitsRequest.options.payload.bitsRequired;void 0===r&&(r=0),e=h.createElement(M,{bitsBalance:i,cost:r,extensionItemLabel:o,extensionName:a,userID:t.props.loginID,onClose:t.cancelUseBits,onConfirm:t.confirmUseBits})}return h.createElement(g.a,{"data-test-selector":Ce.UseBitsConfirmationToggleBalloonWrapper,ref:t.saveUseBitsConfirmationBalloonRef,onToggle:t.onToggleUseBitsConfirmationBalloon},h.createElement("span",null),h.createElement(Y.a,{direction:Y.b.TopRight,size:Y.c.Medium,noTail:!0,offsetY:"2rem",offsetX:"-2rem"},e))},t.onTestExtensionAccepted=function(){t.setState({testExtensionAccepted:!0})},t.getCurrentMedium=function(){if(t.props.isPopout)return y.PageviewMedium.ExtensionPage;switch(t.props.mode){case p.ExtensionMode.Dashboard:return y.PageviewMedium.DashboardLive;case p.ExtensionMode.Config:return y.PageviewMedium.ExtensionConfiguration;case p.ExtensionMode.Viewer:}return y.PageviewMedium.Channel},t.subscribeFrameEvents=function(){t.extensionFrameAPI&&(t.extensionFrameAPI.on(p.ExtensionFrameEvents.ShowBitsBalance,t.onShowBitsBalance),t.extensionFrameAPI.on(p.ExtensionFrameEvents.ShowUseBitsSuccess,t.onShowUseBitsSuccess),t.extensionFrameAPI.on(p.ExtensionFrameEvents.IdentityLinked,t.onIdentityLinked),t.extensionFrameAPI.on(p.ExtensionFrameEvents.ExtensionFrameLoaded,t.onExtensionLoaded),t.extensionFrameAPI.on(p.ExtensionFrameEvents.RequestModal,t.onModalRequested))},t.unsubscribeFrameEvents=function(){t.extensionFrameAPI&&(t.extensionFrameAPI.off(p.ExtensionFrameEvents.ShowBitsBalance,t.onShowBitsBalance),t.extensionFrameAPI.off(p.ExtensionFrameEvents.ShowUseBitsSuccess,t.onShowUseBitsSuccess),t.extensionFrameAPI.off(p.ExtensionFrameEvents.IdentityLinked,t.onIdentityLinked),t.extensionFrameAPI.off(p.ExtensionFrameEvents.ExtensionFrameLoaded,t.onExtensionLoaded),t.extensionFrameAPI.off(p.ExtensionFrameEvents.RequestModal,t.onModalRequested))},t.getPopoutHeight=function(){var e=300;return t.extension.views.panel&&(e=t.extension.views.panel.height),e+Pe},t.getExtensionPopoutUrl=function(){var e=t.props.installation.activationConfig,n=t.extension.clientId+"-"+t.extension.version;t.extension.state===p.ExtensionState.Released&&(n=t.extension.clientId);var i="/popout/"+t.props.channelLogin+"/extensions/"+n+"/"+e.anchor;return t.props.mode!==p.ExtensionMode.Viewer&&(i=i+"/"+t.props.mode),i},t.onExtensionPopoutClosed=function(){if(!t.state.popoutRestoreIntentTracked){var e=t.props.installation.activationConfig;Object(H.j)({extensionID:t.extension.clientId,extensionVersion:t.extension.version,anchor:e.anchor,mode:t.props.mode,loginID:t.props.loginID,channelID:t.props.channelID}),t.setState({popoutRestoreIntentTracked:!0})}if(t.props.onExtensionPopoutClosed){var n=t.extension,i=n.id,o=n.version;t.props.onExtensionPopoutClosed(i,o)}},t.onExtensionPopout=function(){var e=t.props.installation.activationConfig;Object(H.k)({extensionID:t.extension.clientId,extensionVersion:t.extension.version,anchor:e.anchor,mode:t.props.mode,loginID:t.props.loginID,channelID:t.props.channelID});var n="width=320,height="+t.getPopoutHeight()+",resizable=yes,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no",i=window.open(t.getExtensionPopoutUrl(),"_blank",n);if(i&&(t.onExtensionPopoutClosed&&Object(b.a)(i,t.onExtensionPopoutClosed),i.opener=null),t.props.onExtensionPoppedOut){var o=t.extension,a=o.id,r=o.version;t.props.onExtensionPoppedOut(a,r,i)}},t.onFollowRequested=function(e,n,i){t.setState({currentFollowRequest:{options:e,defaultResult:i,notifications:!0,onResult:n}}),t.followConfirmationBalloon.toggleBalloon(!0)},t.onLoginRequested=function(e,n){t.onDismissLoginPrompt=function(){e&&void 0!==n&&e(n),t.featureNeedsAuthBalloon.toggleBalloon(!1)},t.featureNeedsAuthBalloon.toggleBalloon(!0)},t.onConditionConfirmationRequested=function(e,n,i){t.setState({currentConditionConfirmationState:{options:e,onResult:n,defaultResult:i}}),t.conditionConfirmationBalloon.toggleBalloon(!0)},t.confirmFollow=function(){null!==t.state.currentFollowRequest&&(t.state.currentFollowRequest.onResult({didFollow:!0,notifications:t.state.currentFollowRequest.notifications}),t.setState({currentFollowRequest:null}),t.followConfirmationBalloon.toggleBalloon(!1))},t.cancelFollow=function(){if(null===t.state.currentFollowRequest)return null;t.state.currentFollowRequest.onResult(t.state.currentFollowRequest.defaultResult),t.setState({currentFollowRequest:null})},t.confirmCondition=function(){null!==t.state.currentConditionConfirmationState&&(t.state.currentConditionConfirmationState.onResult({conditionParticipantId:null,acceptedCondition:!0}),t.conditionConfirmationBalloon.toggleBalloon(!1),t.setState({currentConditionConfirmationState:null}))},t.cancelCondition=function(){null!==t.state.currentConditionConfirmationState&&(t.state.currentConditionConfirmationState.onResult({conditionParticipantId:null,acceptedCondition:!1}),t.conditionConfirmationBalloon.toggleBalloon(!1),t.setState({currentConditionConfirmationState:null}))},t.onUseBitsRequested=function(e,n,i){t.setState({currentUseBitsRequest:{options:e,defaultResult:i,onResult:n}}),t.useBitsConfirmationBalloon.toggleBalloon(!0)},t.confirmUseBits=function(){if(null===t.state.currentUseBitsRequest)return Promise.reject("no Bits request");var e=function(){t.useBitsConfirmationBalloon.toggleBalloon(!1),t.setState({currentUseBitsRequest:null})};return t.state.currentUseBitsRequest.onResult({didConfirm:!0,didUseBits:!0}).then((function(t){return e(),t})).catch((function(){return e(),Promise.reject("error using bits in extension")}))},t.cancelUseBits=function(){if(null===t.state.currentUseBitsRequest)return null;t.state.currentUseBitsRequest.onResult(t.state.currentUseBitsRequest.defaultResult),t.setState({currentUseBitsRequest:null})},t.saveExtensionAPI=function(e){t.unsubscribeFrameEvents(),t.extensionFrameAPI=e,t.subscribeFrameEvents()},t.saveFollowConfirmationBalloonRef=function(e){t.followConfirmationBalloon=e},t.saveFeatureNeedsAuthBalloonRef=function(e){t.featureNeedsAuthBalloon=e},t.saveUseBitsConfirmationBalloonRef=function(e){t.useBitsConfirmationBalloon=e},t.saveConditionConfirmationBalloonRef=function(e){t.conditionConfirmationBalloon=e},t.onToggleUseBitsConfirmationBalloon=function(e){e&&null!==t.state.currentUseBitsRequest&&t.state.currentUseBitsRequest.onResult({didConfirm:!1,didUseBits:!1})},t.onExtensionLoaded=function(){t.props.onExtensionLoaded&&t.props.onExtensionLoaded()},t.onIdentityLinked=function(e,n){t.setState({isLinked:e,isLinkEnabled:n})},t.onLinkIdentity=function(){t.extensionFrameAPI.linkIdentity()},t.onUnlinkIdentity=function(){t.extensionFrameAPI.unlinkIdentity()},t.onIdentityLinkDialogToggle=function(e){t.setState({isIdentityLinkOpen:!e})},t.cancelPurchase=function(){t.setState({purchaseIntent:null})},t.renderBitsBalanceUI=function(){var e=t.state&&t.state.bitsBalance;if(null!==e){var n=e.showSuccessText;return t.hideBitsBalanceTimeout&&(clearTimeout(t.hideBitsBalanceTimeout),t.hideBitsBalanceTimeout=null,t.startHideBitsBalanceTimer()),h.createElement(te,{showSuccessText:n,startTimer:t.startHideBitsBalanceTimer,channelID:t.props.channelID,userID:t.props.loginID})}},t.startHideBitsBalanceTimer=function(){t.hideBitsBalanceTimeout||(t.hideBitsBalanceTimeout=setTimeout(t.hideBitsBalance,Oe))},t.hideBitsBalance=function(){t.hideBitsBalanceTimeout=null,t.setState({bitsBalance:null})},t.onShowBitsBalance=function(){t.setState({bitsBalance:{showSuccessText:!1}})},t.onShowUseBitsSuccess=function(){t.setState({bitsBalance:{showSuccessText:!0}})},t.onBeginPurchase=function(e,n){t.setState({purchaseIntent:{payload:e,makePurchase:n}})},t.onNotificationsChanged=function(e){var n=t.state.currentFollowRequest;null!==n&&t.setState({currentFollowRequest:Object(o.__assign)(Object(o.__assign)({},n),{notifications:e.currentTarget.checked})})},t.onModalRequested=function(e){switch(e.action){case p.FunctionAction.FollowAction:var n=e,i=n.options;t.onFollowRequested(i,n.resultCallback,n.defaultResult);break;case p.FunctionAction.LoginRequest:t.featureNeedsAuthBalloon&&t.onLoginRequested(e.resultCallback,e.defaultResult);break;case p.FunctionAction.UseBits:var o=e,a=o.options;t.onUseBitsRequested(a,o.resultCallback,o.defaultResult);break;case p.FunctionAction.IdShareRequest:t.setState({isIdentityLinkOpen:!0});break;case p.FunctionAction.ConditionConfirmationRequest:var r=e,s=r.options;t.onConditionConfirmationRequested(s,r.resultCallback,r.defaultResult)}},t.handleReportExtensionClick=function(){var e=t.extension,n=e.id,i=e.version,o=e.name;t.props.isLoggedIn?t.props.showReportExtensionModal({reportContext:{contentType:E.Mc.EXTENSION_REPORT,contentID:n+"-"+i,targetUserID:t.props.channelID},title:Object(f.d)("Report {extensionName}",{extensionName:o},"ReportExtensionModal")}):t.props.promptLogin()},t.dismissLoginPrompt=function(){t.onDismissLoginPrompt&&t.onDismissLoginPrompt(),t.onDismissLoginPrompt=null},t.trackImpression=function(){if(t.props.panel){var e=t.props.panel.id;e&&Object(G.a)(y.SpadeEventType.PanelImpression,{panelID:e,channelID:t.props.channelID,panelType:t.props.panel.type})}},t}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this.props.installation.extension},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.props.impressionListener.registerImpressionCallback(this.trackImpression)},t.prototype.componentDidUpdate=function(e){!1===e.isFramePoppedOut&&!0===this.props.isFramePoppedOut&&this.setState({popoutRestoreIntentTracked:!1})},t.prototype.render=function(){var e,t=Object(f.d)("More Info","ExtensionPanel"),n=Object(f.d)("Report Extension","ExtensionPanel"),i=Object(q.d)(this.extension.id,this.extension.version)+"?tt_medium="+this.getCurrentMedium()+"&tt_content="+y.PageviewContent.ExtensionPanel,o=m(this.props.className||"extension-panel",((e={})["extension-panel__popout"]=this.props.isPopout,e)),a=this.props.isFramePoppedOut?h.createElement(se,{extension:this.extension,onExtensionShowClicked:this.onExtensionPopoutClosed}):this.renderExtensionFrame();return h.createElement(O.a,{className:o,margin:{bottom:2,right:2},"data-test-selector":Ce.ExtensionPanel,display:w.g.Flex,flexDirection:w.h.Column},a,h.createElement(N.a,{borderRight:!0,borderBottom:!0,borderLeft:!0,flexDirection:w.h.Column,display:w.g.Flex,flexGrow:0},h.createElement(N.a,{display:w.g.Flex,alignItems:w.b.Center},h.createElement(O.a,{flexGrow:1,margin:{x:1}},h.createElement(C.a,{linkTo:i,targetBlank:!0,"data-test-selector":Ce.ExtensionDetailsLink},this.extension.name)),this.props.isFramePoppedOut||this.props.isPopout?null:h.createElement(fe,{"data-test-selector":Ce.PopoutButton,onClick:this.onExtensionPopout}),h.createElement(ke,{isPopout:this.props.isPopout}),h.createElement(pe,{extension:this.extension,isDialogOpen:this.state.isIdentityLinkOpen,onDialogToggle:this.onIdentityLinkDialogToggle,isLinked:this.state.isLinked,isLinkEnabled:this.state.isLinkEnabled,onLinkIdentity:this.onLinkIdentity,onUnlinkIdentity:this.onUnlinkIdentity}),this.renderFollowConfirmation(),this.renderFeatureNeedsAuthBalloon(),this.renderUseBitsConfirmation(),this.renderConditionConfirmation(),h.createElement(g.a,null,h.createElement("span",null,h.createElement(K.a,{label:t,direction:K.c.Top,align:K.b.Right,offsetX:".6rem"},h.createElement(O.a,{display:w.g.Flex,alignItems:w.b.Center},h.createElement(Q.a,{"data-test-selector":Ce.ExtensionDescriptionButton,icon:X.a.More,ariaLabel:t})))),h.createElement(Y.a,{direction:Y.b.TopRight,size:Y.c.Medium,offsetX:".6rem"},h.createElement(O.a,{display:w.g.Flex,justifyContent:w.l.Between,flexWrap:w.i.NoWrap},h.createElement(N.a,{padding:1,flexShrink:3},h.createElement(P.a,null,this.extension.summary)),h.createElement(N.a,{borderLeft:!0,margin:1},h.createElement(Q.a,{"data-test-selector":Ce.ExtensionReportButton,ariaLabel:n,icon:X.a.ChatRiskFlag,onClick:this.handleReportExtensionClick})))))),this.renderBitsBalanceUI()))},t.prototype.purchaseUI=function(){var e=this,t=this.state&&this.state.purchaseIntent;if(null!==t){var n=this.state,i=n.isLinked,o=n.isLinkEnabled,a=t,r=a.payload,s=a.makePurchase;return h.createElement(ye,{confirm:function(){s(),e.setState({purchaseIntent:null})},cancel:this.cancelPurchase,isLinked:i,isLinkEnabled:o,purchaseIntentPayload:r,isLoggedIn:this.props.isLoggedIn})}},t}(h.Component),Ne=Object(r.d)(Object(V.a)("ExtensionPanel",{pixels:100}),Object(v.a)(we,{skip:function(e){var t=e.isLoggedIn;return e.installation.extension.state===p.ExtensionState.Released||!t}}))(De);var Te=Object(a.b)((function(e){return{isLoggedIn:Object(d.f)(e),languageCode:Object(d.b)(e),locale:e.session.locale}}),(function(e){return Object(r.b)({promptLogin:function(){return Object(c.e)(s.a.ReportHoster)},showReportExtensionModal:function(e){var t=Object(o.__rest)(e,[]);return Object(l.e)(u.a,t)}},e)}))(Ne);n.d(t,"a",(function(){return Te}))},TilG:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionActionSubscribeToChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extensionActionSubscriptionProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"extensionActionSubscriptionProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}],loc:{start:0,end:307}};n.loc.source={body:"query ExtensionActionSubscribeToChannel($channelID: ID!) {\ncurrentUser {\nid\nlogin\n}\nuser(id: $channelID) {\nid\nlogin\nsubscriptionProducts {\n...extensionActionSubscriptionProduct\n}\nself {\nsubscriptionBenefit {\nid\ntier\n}\n}\n}\n}\nfragment extensionActionSubscriptionProduct on SubscriptionProduct {\nid\nname\ntier\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionActionSubscribeToChannel=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionActionSubscribeToChannel")},U0Fp:function(e,t,n){},UFhH:function(e,t,n){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var i=n(e);if(!i)throw new Error("setId required the element to have a resize detection state.");var o=t.generate();return i.id=o,o}}}},UL9e:function(e,t,n){"use strict";(e.exports={}).getOption=function(e,t,n){var i=e[t];if(null==i&&void 0!==n)return n;return i}},UeP2:function(e,t,n){},"W+U1":function(e,t,n){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},X9a5:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionConfigure"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"installedExtensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activationConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slot"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:152}};n.loc.source={body:"query ExtensionConfigure {\ncurrentUser {\nid\ninstalledExtensions {\nid\nactivationConfig {\nanchor\nslot\nstate\n}\nextension {\nid\nclientID\nname\nversion\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionConfigure=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionConfigure")},YJCA:function(e,t,n){"use strict";n.d(t,"a",(function(){return $})),n.d(t,"b",(function(){return te})),n.d(t,"c",(function(){return V})),n.d(t,"d",(function(){return k}));var i=n("wx14"),o=n("ODXe"),a=n("vpQ4"),r=n("1OyB"),s=n("vuIU"),l=n("md7G"),c=n("foSv"),d=n("Ji7U"),u=n("JX7q"),m=n("rePB"),p=n("q1tI"),h=n("17x9"),f=n.n(h),g=n("i8i4"),v=n("QLaP"),b=n.n(v),E=n("KQm4"),y=function(){function e(){Object(r.a)(this,e),Object(m.a)(this,"refs",{})}return Object(s.a)(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(x)}}]),e}();function x(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function k(e,t,n){return(e=e.slice()).splice(n<0?e.length+n:n,0,e.splice(t,1)[0]),e}function S(e,t){return Object.keys(e).reduce((function(n,i){return-1===t.indexOf(i)&&(n[i]=e[i]),n}),{})}var C={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},I=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function w(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function O(e,t){e.style["".concat(I,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function P(e,t){e.style["".concat(I,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function D(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function N(e,t,n){return Math.max(e,Math.min(n,t))}function T(e){return"px"===e.substr(-2)?parseFloat(e):0}function _(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function R(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function j(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var i={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?i:F(e.parentNode,t,i)}}function L(e){var t=e.lockOffset,n=e.width,i=e.height,o=t,a=t,r="px";if("string"==typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);b()(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),o=parseFloat(t),a=parseFloat(t),r=s[1]}return b()(isFinite(o)&&isFinite(a),"lockOffset value should be a finite. Given %s",t),"%"===r&&(o=o*n/100,a=a*i/100),{x:o,y:a}}function A(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:A(e.parentNode):null}var B=27,M=32,U=37,z=38,W=39,q=40,H={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function V(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return Object(r.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(d.a)(n,t),Object(s.a)(n,[{key:"componentDidMount",value:function(){Object(g.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return b()(o.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=o.withRef?"wrappedInstance":null;return Object(p.createElement)(e,Object(i.a)({ref:t},this.props))}}]),n}(p.Component),Object(m.a)(t,"displayName",_("sortableHandle",e)),n}function G(e){return null!=e.sortableHandle}var Y=function(){function e(t,n){Object(r.a)(this,e),this.container=t,this.onScrollCallback=n}return Object(s.a)(e,[{key:"clear",value:function(){clearInterval(this.interval),this.interval=null}},{key:"update",value:function(e){var t=this,n=e.translate,i=e.minTranslate,o=e.maxTranslate,a=e.width,r=e.height,s={x:0,y:0},l={x:1,y:1},c=10,d=10,u=this.container,m=u.scrollTop,p=u.scrollLeft,h=u.scrollHeight,f=u.scrollWidth,g=0===m,v=h-m-u.clientHeight==0,b=0===p,E=f-p-u.clientWidth==0;n.y>=o.y-r/2&&!v?(s.y=1,l.y=d*Math.abs((o.y-r/2-n.y)/r)):n.x>=o.x-a/2&&!E?(s.x=1,l.x=c*Math.abs((o.x-a/2-n.x)/a)):n.y<=i.y+r/2&&!g?(s.y=-1,l.y=d*Math.abs((n.y-r/2-i.y)/r)):n.x<=i.x+a/2&&!b&&(s.x=-1,l.x=c*Math.abs((n.x-a/2-i.x)/a)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===s.x&&0===s.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:l.x*s.x,top:l.y*s.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}();var K={axis:f.a.oneOf(["x","y","xy"]),contentWindow:f.a.any,disableAutoscroll:f.a.bool,distance:f.a.number,getContainer:f.a.func,getHelperDimensions:f.a.func,helperClass:f.a.string,helperContainer:f.a.oneOfType([f.a.func,"undefined"==typeof HTMLElement?f.a.any:f.a.instanceOf(HTMLElement)]),hideSortableGhost:f.a.bool,keyboardSortingTransitionDuration:f.a.number,lockAxis:f.a.string,lockOffset:f.a.oneOfType([f.a.number,f.a.string,f.a.arrayOf(f.a.oneOfType([f.a.number,f.a.string]))]),lockToContainerEdges:f.a.bool,onSortEnd:f.a.func,onSortMove:f.a.func,onSortOver:f.a.func,onSortStart:f.a.func,pressDelay:f.a.number,pressThreshold:f.a.number,keyCodes:f.a.shape({lift:f.a.arrayOf(f.a.number),drop:f.a.arrayOf(f.a.number),cancel:f.a.arrayOf(f.a.number),up:f.a.arrayOf(f.a.number),down:f.a.arrayOf(f.a.number)}),shouldCancelStart:f.a.func,transitionDuration:f.a.number,updateBeforeSortStart:f.a.func,useDragHandle:f.a.bool,useWindowAsScrollContainer:f.a.bool},Q={lift:[M],drop:[M],cancel:[B],up:[z,U],down:[q,W]},X={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:Q,shouldCancelStart:function(e){return-1!==[H.Input,H.Textarea,H.Select,H.Option,H.Button].indexOf(e.target.tagName)||!!D(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},J=Object.keys(K);function $(e){var t,n,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;return Object(r.a)(this,n),t=Object(l.a)(this,Object(c.a)(n).call(this,e)),Object(m.a)(Object(u.a)(Object(u.a)(t)),"state",{}),Object(m.a)(Object(u.a)(Object(u.a)(t)),"handleStart",(function(e){var n=t.props,i=n.distance,o=n.shouldCancelStart;if(2!==e.button&&!o(e)){t.touched=!0,t.position=j(e);var a=D(e.target,(function(e){return null!=e.sortableInfo}));if(a&&a.sortableInfo&&t.nodeIsChild(a)&&!t.state.sorting){var r=t.props.useDragHandle,s=a.sortableInfo,l=s.index,c=s.collection;if(s.disabled)return;if(r&&!D(e.target,G))return;t.manager.active={collection:c,index:l},function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}(e)||e.target.tagName!==H.Anchor||e.preventDefault(),i||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"handleMove",(function(e){var n=t.props,i=n.distance,o=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var a=j(e),r={x:t.position.x-a.x,y:t.position.y-a.y},s=Math.abs(r.x)+Math.abs(r.y);t.delta=r,i||o&&!(s>=o)?i&&s>=i&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),i=function(){if(n){var i=function(){var n,i,o,d,g,v,b=p.sortableInfo.index,y=(n=p,{bottom:T((i=window.getComputedStyle(n)).marginBottom),left:T(i.marginLeft),right:T(i.marginRight),top:T(i.marginTop)}),x=t.scrollContainer.getBoundingClientRect(),k=s({collection:h,index:b,node:p});if(t.node=p,t.margin=y,t.width=k.width,t.height=k.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=p.getBoundingClientRect(),t.containerBoundingRect=x,t.index=b,t.newIndex=b,t.axis={x:r.indexOf("x")>=0,y:r.indexOf("y")>=0},t.offsetEdge=F(p,t.container),t.initialOffset=j(f?Object(a.a)({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild((d="input, textarea, select, canvas, [contenteditable]",g=(o=p).querySelectorAll(d),v=o.cloneNode(!0),Object(E.a)(v.querySelectorAll(d)).forEach((function(e,t){"file"!==e.type&&(e.value=g[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===H.Canvas&&g[t].width>0&&g[t].height>0&&e.getContext("2d").drawImage(g[t],0,0)})),v)),w(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-y.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-y.top,"px"),width:"".concat(t.width,"px")}),f&&t.helper.focus(),c&&(t.sortableGhost=p,w(p,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},f){var S=m?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,I=S.top,O=S.left,P=S.width,D=I+S.height,N=O+P;t.axis.x&&(t.minTranslate.x=O-t.boundingClientRect.left,t.maxTranslate.x=N-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=I-t.boundingClientRect.top,t.maxTranslate.y=D-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(m?0:x.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(m?t.contentWindow.innerWidth:x.left+x.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(m?0:x.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(m?t.contentWindow.innerHeight:x.top+x.height)-t.boundingClientRect.top-t.height/2);l&&l.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?p:t.contentWindow,f?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(C.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),C.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:b}),u&&u({node:p,index:b,collection:h,isKeySorting:f},e),f&&t.keyMove(0)},o=t.props,r=o.axis,s=o.getHelperDimensions,l=o.helperClass,c=o.hideSortableGhost,d=o.updateBeforeSortStart,u=o.onSortStart,m=o.useWindowAsScrollContainer,p=n.node,h=n.collection,f=t.manager.isKeySorting,g=function(){if("function"==typeof d){t._awaitingUpdateBeforeSortStart=!0;var n=function(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}((function(){var t=p.sortableInfo.index;return Promise.resolve(d({collection:h,index:t,node:p,isKeySorting:f},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return g&&g.then?g.then(i):i()}}();return Promise.resolve(i&&i.then?i.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"handleSortEnd",(function(e){var n=t.props,i=n.hideSortableGhost,o=n.onSortEnd,a=t.manager,r=a.active.collection,s=a.isKeySorting,l=t.manager.refs[r];t.listenerNode&&(s?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(C.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),C.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),i&&t.sortableGhost&&w(t.sortableGhost,{opacity:"",visibility:""});for(var c=0,d=l.length;c<d;c++){var u=l[c],m=u.node;u.edgeOffset=null,u.boundingClientRect=null,O(m,null),P(m,null),u.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof o&&o({collection:r,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:s},e),t.touched=!1})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(!e){if(n){var i=Object(a.a)({},t.translate),o=0,r=0;return t.axis.x&&(i.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),o=t.translate.x-i.x),t.axis.y&&(i.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),r=t.translate.y-i.y),t.translate=i,O(t.helper,t.translate),t.scrollContainer.scrollLeft+=o,void(t.scrollContainer.scrollTop+=r)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"handleKeyDown",(function(e){var n=e.keyCode,i=t.props,o=i.shouldCancelStart,r=i.keyCodes,s=void 0===r?{}:r,l=Object(a.a)({},Q,s);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||l.lift.includes(n)&&!o(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),l.lift.includes(n)&&!t.manager.active?t.keyLift(e):l.drop.includes(n)&&t.manager.active?t.keyDrop(e):l.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):l.up.includes(n)?t.keyMove(-1):l.down.includes(n)&&t.keyMove(1))})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"keyLift",(function(e){var n=e.target,i=D(n,(function(e){return null!=e.sortableInfo})).sortableInfo,o=i.index,a=i.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:o,collection:a},t.handlePress(e)})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),i=n[n.length-1].node.sortableInfo.index,o=t.newIndex+e,a=t.newIndex;if(!(o<0||o>i)){t.prevIndex=a,t.newIndex=o;var r=function(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}(t.newIndex,t.prevIndex,t.index),s=n.find((function(e){return e.node.sortableInfo.index===r})),l=s.node,c=t.containerScrollDelta,d=s.boundingClientRect||R(l,c),u=s.translate||{x:0,y:0},m=d.top+u.y-c.top,p=d.left+u.x-c.left,h=a<o,f=h&&t.axis.x?l.offsetWidth-t.width:0,g=h&&t.axis.y?l.offsetHeight-t.height:0;t.handleSortMove({pageX:p+f,pageY:m+g,ignoreTransition:0===e})}})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),Object(m.a)(Object(u.a)(Object(u.a)(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,i=e.target,o=D(i,(function(e){return null!=e.sortableInfo}));return o&&o.sortableInfo&&!o.sortableInfo.disabled&&(n?G(i):i.sortableInfo)})),function(e){b()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}(e),t.manager=new y,t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return Object(d.a)(n,t),Object(s.a)(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var i=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof i?i():i,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:A(e.container)||e.container,e.autoScroller=new Y(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return C[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return C[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,i=t.lockOffset,a=t.lockToContainerEdges,r=t.transitionDuration,s=t.keyboardSortingTransitionDuration,l=void 0===s?r:s,c=this.manager.isKeySorting,d=e.ignoreTransition,u=j(e),m={x:u.x-this.initialOffset.x,y:u.y-this.initialOffset.y};if(m.y-=window.pageYOffset-this.initialWindowScroll.top,m.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=m,a){var p=function(e){var t=e.height,n=e.width,i=e.lockOffset,a=Array.isArray(i)?i:[i,i];b()(2===a.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",i);var r=Object(o.a)(a,2),s=r[0],l=r[1];return[L({height:t,lockOffset:s,width:n}),L({height:t,lockOffset:l,width:n})]}({height:this.height,lockOffset:i,width:this.width}),h=Object(o.a)(p,2),f=h[0],g=h[1],v={x:this.width/2-f.x,y:this.height/2-f.y},E={x:this.width/2-g.x,y:this.height/2-g.y};m.x=N(this.minTranslate.x+v.x,this.maxTranslate.x-E.x,m.x),m.y=N(this.minTranslate.y+v.y,this.maxTranslate.y-E.y,m.y)}"x"===n?m.y=0:"y"===n&&(m.x=0),c&&l&&!d&&P(this.helper,l),O(this.helper,m)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,i=e.onSortOver,o=this.containerScrollDelta,a=this.windowScrollDelta,r=this.manager.getOrderedRefs(),s=this.offsetEdge.left+this.translate.x+o.left,l=this.offsetEdge.top+this.translate.y+o.top,c=this.manager.isKeySorting,d=this.newIndex;this.newIndex=null;for(var u=0,m=r.length;u<m;u++){var p=r[u].node,h=p.sortableInfo.index,f=p.offsetWidth,g=p.offsetHeight,v={height:this.height>g?g/2:this.height/2,width:this.width>f?f/2:this.width/2},b=c&&h>this.index&&h<=d,E=c&&h<this.index&&h>=d,y={x:0,y:0},x=r[u].edgeOffset;x||(x=F(p,this.container),r[u].edgeOffset=x,c&&(r[u].boundingClientRect=R(p,o)));var k=u<r.length-1&&r[u+1],S=u>0&&r[u-1];k&&!k.edgeOffset&&(k.edgeOffset=F(k.node,this.container),c&&(k.boundingClientRect=R(k.node,o))),h!==this.index?(t&&P(p,t),this.axis.x?this.axis.y?E||h<this.index&&(s+a.left-v.width<=x.left&&l+a.top<=x.top+v.height||l+a.top+v.height<=x.top)?(y.x=this.width+this.marginOffset.x,x.left+y.x>this.containerBoundingRect.width-v.width&&k&&(y.x=k.edgeOffset.left-x.left,y.y=k.edgeOffset.top-x.top),null===this.newIndex&&(this.newIndex=h)):(b||h>this.index&&(s+a.left+v.width>=x.left&&l+a.top+v.height>=x.top||l+a.top+v.height>=x.top+g))&&(y.x=-(this.width+this.marginOffset.x),x.left+y.x<this.containerBoundingRect.left+v.width&&S&&(y.x=S.edgeOffset.left-x.left,y.y=S.edgeOffset.top-x.top),this.newIndex=h):b||h>this.index&&s+a.left+v.width>=x.left?(y.x=-(this.width+this.marginOffset.x),this.newIndex=h):(E||h<this.index&&s+a.left<=x.left+v.width)&&(y.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=h)):this.axis.y&&(b||h>this.index&&l+a.top+v.height>=x.top?(y.y=-(this.height+this.marginOffset.y),this.newIndex=h):(E||h<this.index&&l+a.top<=x.top+v.height)&&(y.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=h))),O(p,y),r[u].translate=y):n&&(this.sortableGhost=p,w(p,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),c&&(this.newIndex=d);var C=c?this.prevIndex:d;i&&this.newIndex!==C&&i({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:C,isKeySorting:c})}},{key:"getWrappedInstance",value:function(){return b()(h.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?Object(g.findDOMNode)(this):e(h.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=h.withRef?"wrappedInstance":null;return Object(p.createElement)(e,Object(i.a)({ref:t},S(this.props,J)))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(p.Component),Object(m.a)(t,"displayName",_("sortableList",e)),Object(m.a)(t,"defaultProps",X),Object(m.a)(t,"propTypes",K),Object(m.a)(t,"childContextTypes",{manager:f.a.object.isRequired}),n}var Z={index:f.a.number.isRequired,collection:f.a.oneOfType([f.a.number,f.a.string]),disabled:f.a.bool},ee=Object.keys(Z);function te(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return Object(r.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(d.a)(n,t),Object(s.a)(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,i=e.index,o=Object(g.findDOMNode)(this);o.sortableInfo={collection:t,disabled:n,index:i,manager:this.context.manager},this.node=o,this.ref={node:o},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return b()(o.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=o.withRef?"wrappedInstance":null;return Object(p.createElement)(e,Object(i.a)({ref:t},S(this.props,ee)))}}]),n}(p.Component),Object(m.a)(t,"displayName",_("sortableElement",e)),Object(m.a)(t,"contextTypes",{manager:f.a.object.isRequired}),Object(m.a)(t,"propTypes",Z),Object(m.a)(t,"defaultProps",{collection:0}),n}},YO3V:function(e,t,n){var i=n("NykK"),o=n("LcsW"),a=n("ExA7"),r="[object Object]",s=Function.prototype,l=Object.prototype,c=s.toString,d=l.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!a(e)||i(e)!=r)return!1;var t=o(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==u}},YVj6:function(e,t,n){var i,o;!function(a,r){i=[n("x0Ue")],void 0===(o=function(e){return function(e,t){"use strict";var n={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t},makeArray:function(e){var t=[];if(Array.isArray(e))t=e;else if(e&&"object"==typeof e&&"number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t},removeFrom:function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)}};n.getParent=function(e,n){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,n))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,i){e=n.makeArray(e);var o=[];return e.forEach((function(e){if(e instanceof HTMLElement)if(i){t(e,i)&&o.push(e);for(var n=e.querySelectorAll(i),a=0;a<n.length;a++)o.push(n[a])}else o.push(e)})),o},n.debounceMethod=function(e,t,n){var i=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];e&&clearTimeout(e);var t=arguments,a=this;this[o]=setTimeout((function(){i.apply(a,t),delete a[o]}),n||100)}},n.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,(function(e,t,n){return t+"-"+n})).toLowerCase()};var i=e.console;return n.htmlInit=function(t,o){n.docReady((function(){var a=n.toDashed(o),r="data-"+a,s=document.querySelectorAll("["+r+"]"),l=document.querySelectorAll(".js-"+a),c=n.makeArray(s).concat(n.makeArray(l)),d=r+"-options",u=e.jQuery;c.forEach((function(e){var n,a=e.getAttribute(r)||e.getAttribute(d);try{n=a&&JSON.parse(a)}catch(t){return void(i&&i.error("Error parsing "+r+" on "+e.className+": "+t))}var s=new t(e,n);u&&u.data(e,o,s)}))}))},n}(a,e)}.apply(t,i))||(e.exports=o)}(window)},"ZAO/":function(e,t,n){},abgr:function(e,t,n){},b5uE:function(e,t,n){},bVvr:function(e,t,n){},geji:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var i=n("mrSG"),o=n("q1tI"),a=n("Jsra");function r(e){return e.replace(/(^|\n)(#+)([^\s#]+)/g,(function(e,t,n,i){return""+t+n+" "+i}))}var s={allowedTypes:["BlockQuote","Emph","Hardbreak","Heading","Item","Link","List","Paragraph","Softbreak","Strong","Text"],className:"panel-description",renderers:{Heading:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e;switch(this.props.level){case 1:e="h4";break;case 6:e="h6";break;default:e="h5"}return Object(o.createElement)(e,{},this.props.children)},t}(o.Component),Link:function(e){return o.createElement(a.a,{linkTo:e.href,title:e.title,targetBlank:!0},e.children)}},skipHtml:!0,softBreak:"br"}},gpbi:function(e,t,n){var i=n("ZWtO"),o=n("KxBF");e.exports=function(e,t){return t.length<2?e:i(e,o(t,0,-1))}},hNNL:function(e,t,n){var i,o,a;window,o=[n("Hy43"),n("QK1G")],void 0===(a="function"==typeof(i=function(e,t){"use strict";var n=e.create("masonry");n.compatOptions.fitWidth="isFitWidth";var i=n.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,a=o/i,r=i-o%i;a=Math[r&&r<1?"round":"floor"](a),this.cols=Math.max(a,1)},i.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},i._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,e),o={x:this.columnWidth*i.col,y:i.y},a=i.y+e.size.outerHeight,r=n+i.col,s=i.col;s<r;s++)this.colYs[s]=a;return o},i._getTopColPosition=function(e){var t=this._getTopColGroup(e),n=Math.min.apply(Math,t);return{col:t.indexOf(n),y:n}},i._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],n=this.cols+1-e,i=0;i<n;i++)t[i]=this._getColGroupY(i,e);return t},i._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var n=this.colYs.slice(e,e+t);return Math.max.apply(Math,n)},i._getHorizontalColPosition=function(e,t){var n=this.horizontalColIndex%this.cols;n=e>1&&n+e>this.cols?0:n;var i=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=i?n+e:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,e)}},i._manageStamp=function(e){var n=t(e),i=this._getElementOffset(e),o=this._getOption("originLeft")?i.left:i.right,a=o+n.outerWidth,r=Math.floor(o/this.columnWidth);r=Math.max(0,r);var s=Math.floor(a/this.columnWidth);s-=a%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var l=(this._getOption("originTop")?i.top:i.bottom)+n.outerHeight,c=r;c<=s;c++)this.colYs[c]=Math.max(l,this.colYs[c])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},i._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},n})?i.apply(t,o):i)||(e.exports=a)},inLc:function(e,t,n){},nH1N:function(e,t,n){},pQUg:function(e,t,n){var i="undefined"!=typeof window,o=i?window.Masonry||n("hNNL"):null,a=i?n("vX6Q"):null,r=n("3OWR"),s=n("7sSR"),l=n("sEfC"),c=n("Puqe"),d=n("17x9"),u=n("q1tI"),m=n("fhzG"),p={enableResizableChildren:d.bool,disableImagesLoaded:d.bool,onImagesLoaded:d.func,updateOnEachImageLoad:d.bool,options:d.object,elementType:d.string,onLayoutComplete:d.func,onRemoveComplete:d.func},h=m({masonry:!1,erd:void 0,latestKnownDomChildren:[],displayName:"MasonryComponent",propTypes:p,getDefaultProps:function(){return{enableResizableChildren:!1,disableImagesLoaded:!1,updateOnEachImageLoad:!1,options:{},className:"",elementType:"div",onLayoutComplete:function(){},onRemoveComplete:function(){}}},initializeMasonry:function(e){this.masonry&&!e||(this.masonry=new o(this.masonryContainer,this.props.options),this.props.onLayoutComplete&&this.masonry.on("layoutComplete",this.props.onLayoutComplete),this.props.onRemoveComplete&&this.masonry.on("removeComplete",this.props.onRemoveComplete),this.latestKnownDomChildren=this.getCurrentDomChildren())},getCurrentDomChildren:function(){var e=this.masonryContainer,t=this.props.options.itemSelector?e.querySelectorAll(this.props.options.itemSelector):e.children;return Array.prototype.slice.call(t)},diffDomChildren:function(){var e=!1,t=this.latestKnownDomChildren.filter((function(e){return!!e.parentNode}));t.length!==this.latestKnownDomChildren.length&&(e=!0);var n=this.getCurrentDomChildren(),i=t.filter((function(e){return!~n.indexOf(e)})),o=n.filter((function(e){return!~t.indexOf(e)})),a=0,r=o.filter((function(e){var t=a===n.indexOf(e);return t&&a++,t})),s=o.filter((function(e){return-1===r.indexOf(e)})),l=[];return 0===i.length&&(l=t.filter((function(e,t){return t!==n.indexOf(e)}))),this.latestKnownDomChildren=n,{old:t,new:n,removed:i,appended:s,prepended:r,moved:l,forceItemReload:e}},performLayout:function(){var e=this.diffDomChildren(),t=e.forceItemReload||e.moved.length>0;e.removed.length>0&&(this.props.enableResizableChildren&&e.removed.forEach(this.erd.removeAllListeners,this.erd),this.masonry.remove(e.removed),t=!0),e.appended.length>0&&(this.masonry.appended(e.appended),0===e.prepended.length&&(t=!0),this.props.enableResizableChildren&&e.appended.forEach(this.listenToElementResize,this)),e.prepended.length>0&&(this.masonry.prepended(e.prepended),this.props.enableResizableChildren&&e.prepended.forEach(this.listenToElementResize,this)),t&&this.masonry.reloadItems(),this.masonry.layout()},imagesLoaded:function(){this.props.disableImagesLoaded||a(this.masonryContainer).on(this.props.updateOnEachImageLoad?"progress":"always",l(function(e){this.props.onImagesLoaded&&this.props.onImagesLoaded(e),this.masonry.layout()}.bind(this),100))},initializeResizableChildren:function(){this.props.enableResizableChildren&&(this.erd=s({strategy:"scroll"}),this.latestKnownDomChildren.forEach(this.listenToElementResize,this))},listenToElementResize:function(e){this.erd.listenTo(e,function(){this.masonry.layout()}.bind(this))},destroyErd:function(){this.erd&&this.latestKnownDomChildren.forEach(this.erd.uninstall,this.erd)},componentDidMount:function(){this.initializeMasonry(),this.initializeResizableChildren(),this.imagesLoaded()},componentDidUpdate:function(){this.performLayout(),this.imagesLoaded()},componentWillUnmount:function(){this.destroyErd(),this.props.onLayoutComplete&&this.masonry.off("layoutComplete",this.props.onLayoutComplete),this.props.onRemoveComplete&&this.masonry.off("removeComplete",this.props.onRemoveComplete),this.masonry.destroy()},setRef:function(e){this.masonryContainer=e},render:function(){var e=c(this.props,Object.keys(p));return u.createElement(this.props.elementType,r({},e,{ref:this.setRef}),this.props.children)}});e.exports=h,e.exports.default=h},q7TX:function(e,t,n){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var i=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};i(n,"log"),i(n,"warn"),i(n,"error")}return n}},qyxT:function(e,t,n){"use strict";function i(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e}n.d(t,"a",(function(){return i}))},rOlK:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionRecommendations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"categoryID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"installedExtensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activationConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slot"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"extensionCategory"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"categoryID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extensions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"12"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExtensionRecommendationsExtensionEdge"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ExtensionRecommendationsExtensionEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconURLs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"square100"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isBitsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsSupportLevel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canInstall"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:491}};n.loc.source={body:"query ExtensionRecommendations($categoryID: ID!) {\ncurrentUser {\nid\nlogin\ninstalledExtensions {\nid\nactivationConfig {\nanchor\nslot\nstate\n}\nextension {\nid\nclientID\nversion\n}\n}\n}\nextensionCategory(id: $categoryID) {\nid\nextensions(first: 12) {\nedges {\n...ExtensionRecommendationsExtensionEdge\n}\n}\n}\n}\nfragment ExtensionRecommendationsExtensionEdge on ExtensionEdge {\nnode {\nid\nauthorName\nclientID\niconURLs {\nsquare100\n}\nisBitsEnabled\nbitsSupportLevel\nname\nself {\ncanInstall\n}\nsummary\nversion\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionRecommendations=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionRecommendations")},"ry+o":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPanelsUpdatePanel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePanelInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePanel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"panel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"mutation ChannelPanelsUpdatePanel($input: UpdatePanelInput!) {\nupdatePanel(input: $input) {\npanel {\nid\ntype\n... on DefaultPanel {\ntitle\nimageURL\nlinkURL\ndescription\n}\n... on ExtensionPanel {\nslotID\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPanelsUpdatePanel=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPanelsUpdatePanel")},sL9O:function(e,t,n){},"saS/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPanelsDeletePanel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePanelInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePanel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"panel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"mutation ChannelPanelsDeletePanel($input: DeletePanelInput!) {\ndeletePanel(input: $input) {\npanel {\nid\ntype\n... on DefaultPanel {\ntitle\nimageURL\nlinkURL\ndescription\n}\n... on ExtensionPanel {\nslotID\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPanelsDeletePanel=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPanelsDeletePanel")},t3DW:function(e,t,n){"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var i=t(e[n]);if(i)return i}}},vX6Q:function(e,t,n){var i,o;!function(a,r){"use strict";i=[n("CUlp")],void 0===(o=function(e){return function(e,t){var n=e.jQuery,i=e.console;function o(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t,i){if(!(this instanceof a))return new a(e,t,i);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=function(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}(e),this.options=o({},this.options),"function"==typeof t?i=t:o(this.options,t),i&&this.on("always",i),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(function(){this.check()}.bind(this))}a.prototype=Object.create(t.prototype),a.prototype.options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&r[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background){var a=e.querySelectorAll(this.options.background);for(i=0;i<a.length;i++){var s=a[i];this.addElementBackgroundImages(s)}}}};var r={1:!0,9:!0,11:!0};function s(e){this.img=e}function l(e,t){this.url=e,this.element=t,this.img=new Image}return a.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}},a.prototype.addImage=function(e){var t=new s(e);this.images.push(t)},a.prototype.addBackground=function(e,t){var n=new l(e,t);this.images.push(n)},a.prototype.check=function(){var e=this;function t(t,n,i){setTimeout((function(){e.progress(t,n,i)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(e){e.once("progress",t),e.check()})):this.complete()},a.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+n,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},s.prototype=Object.create(t.prototype),s.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},s.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},s.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},s.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype=Object.create(s.prototype),l.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},a.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(n(this))})},a.makeJQueryPlugin(),a}(a,e)}.apply(t,i))||(e.exports=o)}("undefined"!=typeof window?window:this)},wnTG:function(e,t,n){"use strict";var i=n("UL9e");function o(){var e={},t=0,n=0,i=0;return{add:function(o,a){a||(a=o,o=0),o>n?n=o:o<i&&(i=o),e[o]||(e[o]=[]),e[o].push(a),t++},process:function(){for(var t=i;t<=n;t++)for(var o=e[t],a=0;a<o.length;a++){(0,o[a])()}},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=i.getOption(e,"async",!0),a=i.getOption(e,"auto",!0);a&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var r,s=o(),l=!1;function c(){for(l=!0;s.size();){var e=s;s=o(),e.process()}l=!1}function d(){var e;e=c,r=setTimeout(e,0)}return{add:function(e,t){!l&&a&&n&&0===s.size()&&d(),s.add(e,t)},force:function(e){l||(void 0===e&&(e=n),r&&(clearTimeout(r),r=null),e?d():c())}}}},x0Ue:function(e,t,n){var i,o;!function(a,r){"use strict";void 0===(o="function"==typeof(i=r)?i.call(t,n,t,e):i)||(e.exports=o)}(window,(function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(t,n){return t[e](n)}}))},xPN0:function(e,t,n){"use strict";var i=n("q1tI"),o=n("Ws8v"),a=n("yymn"),r=(n("JxAY"),function(e){return i.createElement(o.a,{className:e.className||"extension-manager-modal-container",background:a.d.Base,padding:2},e.children)});r.displayName="ModalContainer",n.d(t,"a",(function(){return r}))},xVpv:function(e,t,n){},"xs/l":function(e,t,n){var i=n("TYy9"),o=n("Ioao"),a=n("wclG");e.exports=function(e){return a(o(e,void 0,i),e+"")}},yUZ2:function(e,t,n){"use strict";var i=n("t3DW").forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState,a=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var r=function(){var e=document.createElement("div");e.style.cssText="position: absolute; width: 1000px; height: 1000px; visibility: hidden; margin: 0; padding: 0;";var t=document.createElement("div");t.style.cssText="position: absolute; width: 500px; height: 500px; overflow: scroll; visibility: none; top: -1500px; left: -1500px; visibility: hidden; margin: 0; padding: 0;",t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,i=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:i}}(),s="erd_scroll_detection_container";function l(e,n,i){if(e.addEventListener)e.addEventListener(n,i);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,i)}}function c(e,n,i){if(e.removeEventListener)e.removeEventListener(n,i);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,i)}}function d(e){return o(e).container.childNodes[0].childNodes[0].childNodes[0]}function u(e){return o(e).container.childNodes[0].childNodes[0].childNodes[1]}return function(e,t){if(!document.getElementById(e)){var n=t+"_animation",i="/* Created by the element-resize-detector library. */\n";i+="."+t+" > div::-webkit-scrollbar { display: none; }\n\n",i+="."+(t+"_animation_active")+" { -webkit-animation-duration: 0.1s; animation-duration: 0.1s; -webkit-animation-name: "+n+"; animation-name: "+n+"; }\n",i+="@-webkit-keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(t,n){n=n||function(e){document.head.appendChild(e)};var i=document.createElement("style");i.innerHTML=t,i.id=e,n(i)}(i+="@keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}("erd_scroll_detection_scrollbar_style",s),{makeDetectable:function(e,c,m){function p(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(a.get(c),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var i=0;i<n.length;i++)t.log(n[i])}}function h(e){var t=o(e).container.childNodes[0],n=getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function f(){var e=getComputedStyle(c),t={};return t.position=e.position,t.width=c.offsetWidth,t.height=c.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function g(){if(p("storeStyle invoked."),o(c)){var e=f();o(c).style=e}else p("Aborting because element has been uninstalled")}function v(e,t,n){o(e).lastWidth=t,o(e).lastHeight=n}function b(){return 2*r.width+1}function E(){return 2*r.height+1}function y(e){return e+10+b()}function x(e){return e+10+E()}function k(e,t,n){var i=d(e),o=u(e),a=y(t),r=x(n),s=function(e){return 2*e+b()}(t),l=function(e){return 2*e+E()}(n);i.scrollLeft=a,i.scrollTop=r,o.scrollLeft=s,o.scrollTop=l}function S(){var e=o(c).container;if(!e){(e=document.createElement("div")).className=s,e.style.cssText="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0; padding: 0;",o(c).container=e,function(e){e.className+=" "+s+"_animation_active"}(e),c.appendChild(e);var t=function(){o(c).onRendered&&o(c).onRendered()};l(e,"animationstart",t),o(c).onAnimationStart=t}return e}function C(){if(p("Injecting elements"),o(c)){!function(){var e=o(c).style;if("static"===e.position){c.style.position="relative";var n=function(e,t,n,i){var o=n[i];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(e.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",t),t.style[i]=0)};n(t,c,e,"top"),n(t,c,e,"right"),n(t,c,e,"bottom"),n(t,c,e,"left")}}();var e=o(c).container;e||(e=S());var n,i,a,d,u=r.width,m=r.height,h="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; "+("left: "+(n=(n=-(1+u))?n+"px":"0")+"; top: "+(i=(i=-(1+m))?i+"px":"0")+"; right: "+(d=(d=-u)?d+"px":"0")+"; bottom: "+(a=(a=-m)?a+"px":"0")+";"),f=document.createElement("div"),g=document.createElement("div"),v=document.createElement("div"),b=document.createElement("div"),E=document.createElement("div"),y=document.createElement("div");f.dir="ltr",f.style.cssText="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;",f.className=s,g.className=s,g.style.cssText=h,v.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",b.style.cssText="position: absolute; left: 0; top: 0;",E.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",y.style.cssText="position: absolute; width: 200%; height: 200%;",v.appendChild(b),E.appendChild(y),g.appendChild(v),g.appendChild(E),f.appendChild(g),e.appendChild(f),l(v,"scroll",x),l(E,"scroll",k),o(c).onExpandScroll=x,o(c).onShrinkScroll=k}else p("Aborting because element has been uninstalled");function x(){o(c).onExpand&&o(c).onExpand()}function k(){o(c).onShrink&&o(c).onShrink()}}function I(){function r(e,t,n){var i=function(e){return d(e).childNodes[0]}(e),o=y(t),a=x(n);i.style.width=o+"px",i.style.height=a+"px"}function s(i){var s=c.offsetWidth,d=c.offsetHeight;p("Storing current size",s,d),v(c,s,d),n.add(0,(function(){if(o(c))if(l()){if(e.debug){var n=c.offsetWidth,i=c.offsetHeight;n===s&&i===d||t.warn(a.get(c),"Scroll: Size changed before updating detector elements.")}r(c,s,d)}else p("Aborting because element container has not been initialized");else p("Aborting because element has been uninstalled")})),n.add(1,(function(){o(c)?l()?k(c,s,d):p("Aborting because element container has not been initialized"):p("Aborting because element has been uninstalled")})),i&&n.add(2,(function(){o(c)?l()?i():p("Aborting because element container has not been initialized"):p("Aborting because element has been uninstalled")}))}function l(){return!!o(c).container}function m(){p("notifyListenersIfNeeded invoked");var e=o(c);return void 0===o(c).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?p("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?p("Not notifying: Size already notified"):(p("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void i(o(c).listeners,(function(e){e(c)})))}function f(){if(p("Scroll detected."),h(c))p("Scroll event fired while unrendered. Ignoring...");else{var e=c.offsetWidth,t=c.offsetHeight;e!==c.lastWidth||t!==c.lastHeight?(p("Element size changed."),s(m)):p("Element size has not changed ("+e+"x"+t+").")}}if(p("registerListenersAndPositionElements invoked."),o(c)){o(c).onRendered=function(){if(p("startanimation triggered."),h(c))p("Ignoring since element is still unrendered...");else{p("Element rendered.");var e=d(c),t=u(c);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(p("Scrollbars out of sync. Updating detector elements..."),s(m))}},o(c).onExpand=f,o(c).onShrink=f;var g=o(c).style;r(c,g.width,g.height)}else p("Aborting because element has been uninstalled")}function w(){if(p("finalizeDomMutation invoked."),o(c)){var e=o(c).style;v(c,e.width,e.height),k(c,e.width,e.height)}else p("Aborting because element has been uninstalled")}function O(){m(c)}function P(){var e;p("Installing..."),o(c).listeners=[],e=f(),o(c).startSize={width:e.width,height:e.height},p("Element start size",o(c).startSize),n.add(0,g),n.add(1,C),n.add(2,I),n.add(3,w),n.add(4,O)}m||(m=c,c=e,e=null),e=e||{},p("Making detectable..."),!function(e){return!function(e){return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)}(e)||null===getComputedStyle(e)}(c)?P():(p("Element is detached"),S(),p("Waiting until element is attached..."),o(c).onRendered=function(){p("Element is now attached"),P()})},addListener:function(e,t){if(!o(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");o(e).listeners.push(t)},uninstall:function(e){var t=o(e);t&&(t.onExpandScroll&&c(d(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&c(u(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&c(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))}}}}}]);