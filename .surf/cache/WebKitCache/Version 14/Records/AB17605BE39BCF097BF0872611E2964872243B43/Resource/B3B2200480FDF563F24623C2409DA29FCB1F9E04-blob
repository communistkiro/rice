(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{"/JPy":function(e,n,t){},"0WFu":function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return o}));var i=t("3Bft");function r(e){return[i.a.Prime,i.a.Custom].includes(e)?null:parseInt(e,10)/1e3}function o(e){var n=e instanceof Date?e:new Date(e);return Math.round((n.getTime()-Date.now())/864e5)}},"2+sX":function(e,n,t){"use strict";var i,r=t("mrSG"),o=t("q1tI"),a=t("/7QA"),s=t("hnjF"),u=t("yymn"),c=t("ygYM"),d=function(e){function n(n){var t=e.call(this,n)||this;return t.state={isError:!1,options:null,balloonID:""},t.logger=a.p.logger.withCategory("balloon-layer"),t.historyUnlisten=null,t.handleHistoryChange=function(){t.hideBalloon()},i=t,t}return Object(r.__extends)(n,e),n.prototype.componentDidMount=function(){this.historyUnlisten=a.p.history.listen(this.handleHistoryChange)},n.prototype.componentDidCatch=function(e,n){var t=this;this.setState({isError:!0},(function(){a.p.stats.recordComponentError("BalloonLayer"),t.logger.errorAndReport(e,"A unhandled exception occurred in the component hierarchy",{info:n})}))},n.prototype.componentDidUpdate=function(e,n){var t=n.options,i=t&&t.onBalloonUpdate,r=t&&t.onHideBalloon,o=this.state.options,a=o&&o.onBalloonUpdate;t!==o&&(i&&i(this.state.balloonID),r&&r(),a&&a!==i&&a(this.state.balloonID))},n.prototype.componentWillUnmount=function(){this.historyUnlisten&&this.historyUnlisten()},n.prototype.render=function(){if(this.state.isError)return null;var e=null;if(this.state.options){var n={left:this.state.options.from.x,top:this.state.options.from.y};e=o.createElement(s.a,{className:"balloon-layer",position:u.n.Fixed,zIndex:u.s.Above},o.createElement("div",{style:n},o.createElement(c.a,{direction:this.state.options.direction?this.state.options.direction:c.b.Right,size:this.state.options.size||c.c.Large,show:!0,tailOffset:this.state.options.tailOffset},this.state.options.content)))}return e},n.prototype.showBalloon=function(e,n){this.setState({options:e,balloonID:n})},n.prototype.hideBalloon=function(){this.setState({options:null,balloonID:""})},n}(o.Component);function l(e,n){if(i&&e.ref){var t=function(e,n){var t=Object(r.__assign)({},e),i=0;e.y+n+20>window.innerHeight&&(t.y=window.innerHeight-n-20,i=e.y-t.y);return{coords:t,offset:i}}(function(e,n){var t=n.getBoundingClientRect();switch(e){case c.b.Bottom:case c.b.BottomLeft:return{x:t.left,y:t.bottom};case c.b.BottomCenter:return{x:t.left+t.width/2,y:t.bottom};case c.b.BottomRight:return{x:t.right,y:t.bottom};case c.b.Left:case c.b.Top:case c.b.TopLeft:return{x:t.left,y:t.top};case c.b.LeftCenter:return{x:t.left,y:t.top+t.height/2};case c.b.TopCenter:return{x:t.left+t.width/2,y:t.top};case c.b.TopRight:case c.b.Right:return{x:t.right,y:t.top};case c.b.RightCenter:return{x:t.right,y:t.top+t.height/2};default:return{x:t.left,y:t.bottom}}}(e.direction,e.ref),e.contentHeight);i.showBalloon({content:e.content,direction:e.direction,size:e.size,from:{x:t.coords.x,y:t.coords.y},tailOffset:t.offset,timeout:e.timeout,onBalloonUpdate:e.onBalloonUpdate,onHideBalloon:e.onHideBalloon},n)}}function m(){i&&i.hideBalloon()}var p=t("4VQm"),f=t("2Ygb"),b=t("f00E"),v=400;function h(){return function(e){var n=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.balloonID=Object(b.b)(),e.scrollListenerRegistered=!1,e.hoveringBalloon=!1,e.currentBalloonID="",e.show=function(n){e.clearTimeoutAndRun((function(){n.closeOnScroll?e.addScrollListener():e.scrollListenerRegistered&&e.removeScrollListener(),e.autoclose=n.autoclose,l({direction:n.direction,ref:n.ref,content:e.getBalloonContent(n.content),contentHeight:n.contentHeight,autoclose:n.autoclose,size:n.size,onBalloonUpdate:function(t){n.onBalloonUpdate&&n.onBalloonUpdate(t),e.handleBalloonUpdate(t)},onHideBalloon:n.onHideBalloon},e.balloonID)}),n.timeout)},e.hide=function(n){e.clearTimeoutAndRun((function(){(!e.hoveringBalloon||n&&n.force)&&(e.removeScrollListener(),e.balloonID===e.currentBalloonID&&m())}),n&&n.timeout)},e.clearTimeoutAndRun=function(n,t){void 0===t&&(t=0),e.displayTimeout&&(clearTimeout(e.displayTimeout),e.displayTimeout=0),e.displayTimeout=setTimeout((function(){n(),e.displayTimeout=0}),t)},e.setRef=function(n){e.balloonRef!==n&&(e.removeMouseoverListeners(),e.balloonRef=n,e.addMouseoverListeners(n))},e.addMouseoverListeners=function(n){n&&(n.addEventListener("mouseenter",e.handleMouseEnter,!0),n.addEventListener("mouseleave",e.handleMouseLeave))},e.removeMouseoverListeners=function(){e.balloonRef&&(e.balloonRef.removeEventListener("mouseenter",e.handleMouseEnter,!0),e.balloonRef.removeEventListener("mouseleave",e.handleMouseLeave))},e.handleMouseEnter=function(){e.hoveringBalloon=!0},e.handleMouseLeave=function(){e.hoveringBalloon=!1,e.displayTimeout||e.hide({timeout:v})},e.handleBalloonUpdate=function(n){e.balloonID!==n&&(e.removeScrollListener(),e.hoveringBalloon=!1,e.removeMouseoverListeners()),e.currentBalloonID=n},e}return Object(r.__extends)(t,n),t.prototype.componentWillUnmount=function(){this.removeScrollListener()},t.prototype.render=function(){var n={balloonLayer:{show:this.show,hide:this.hide}};return o.createElement(e,Object(r.__assign)({},this.props,n))},t.prototype.checkVisible=function(e,n){n&&n.type!==p.a.Resize&&this.scrollListenerRegistered&&this.hide()},t.prototype.getBalloonContent=function(e){return o.createElement("div",{ref:this.autoclose&&this.setRef||void 0},e)},t.prototype.addScrollListener=function(){this.unregister=this.props.registerReceiver(this),this.scrollListenerRegistered=!0},t.prototype.removeScrollListener=function(){this.unregister&&(this.unregister(),this.scrollListenerRegistered=!1)},t.displayName=Object(f.a)(t.name,e),t}(o.Component);return Object(p.d)((function(e){return{registerReceiver:e.registerReceiver}}))(n)}}t.d(n,"a",(function(){return d})),t.d(n,"d",(function(){return l})),t.d(n,"c",(function(){return m})),t.d(n,"e",(function(){return h})),t.d(n,"b",(function(){return v}))},"35qb":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductPriceInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PriceInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]}]}}],loc:{start:0,end:118}};t.loc.source={body:"fragment subscriptionProductPriceInfo on PriceInfo {\ncurrency\nexponent\ntotal\ndescription\nprice\nisTaxInclusive\nid\ntax\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"3Bft":function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var i={Prime:"prime",Tier1:"1000",Tier2:"2000",Tier3:"3000",Custom:"Custom"}},"8/YZ":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EmoteModifier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}],loc:{start:0,end:72}};t.loc.source={body:"fragment subscriptionProductEmoteModifier on EmoteModifier {\ncode\nname\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"8EUQ":function(e,n,t){"use strict";var i={};t.r(i),t.d(i,"SUB_CHECKOUT__PRODUCT_KEY",(function(){return a})),t.d(i,"SUB_CHECKOUT__RECIPIENT_KEY",(function(){return s})),t.d(i,"SUB_CHECKOUT__MYSTERY_GIFT_COUNT",(function(){return u})),t.d(i,"SUB_CHECKOUT__GIFTING_ANONYMOUSLY",(function(){return c})),t.d(i,"SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",(function(){return d})),t.d(i,"clearSubscriptionCheckoutKeys",(function(){return m})),t.d(i,"showLoginModalWithCheckoutDispatch",(function(){return p}));var r=t("/7QA"),o=t("y5D0"),a="SUB_CHECKOUT__PRODUCT",s="SUB_CHECKOUT__RECIPIENT",u="SUB_CHECKOUT__MYSTERY_GIFT_COUNT",c="SUB_CHECKOUT__GIFTING_ANONYMOUSLY",d="SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",l=[a,s,u,c,d];function m(){l.forEach((function(e){return r.n.remove(e)}))}function p(e){return function(){return Object(o.e)(e,{onClose:m})}}t.d(n,"a",(function(){return i}))},D4eI:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),o=t("sUnt"),a=t("yymn"),s=t("dEDE"),u=function(e){return r.createElement(o.a,{display:a.g.Flex,justifyContent:a.l.End},e.secondaryButton&&r.createElement(o.a,{margin:{right:1}},r.createElement(s.a,Object(i.__assign)({size:s.b.Small},e.secondaryButton))),r.createElement("div",null,r.createElement(s.a,Object(i.__assign)({size:s.b.Small},e.primaryButton))))};u.displayName="ChatPrivateCalloutActions",t.d(n,"a",(function(){return u}))},DQ0a:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SubModal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOffers"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeEmoteModifiers"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"bannerImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primeSubCreditBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"renewalDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionGiftCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subBenefit"},directives:[]},{kind:"Field",name:{kind:"Name",value:"isExtended"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tenure"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"streakTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"STREAK"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tenure"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGiftCountHidden"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:953}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\n#import "twilight/features/sub-modal/fragments/sub-benefit.gql"\n#import "twilight/features/subscribe-button/models/subscription-product.gql"\n#import "twilight/pages/subscriptions-management/models/cumulative-tenure-fragment.gql"\nquery SubModal($login: String! $withOffers: Boolean = false $includeEmoteModifiers: Boolean = false) {\nuser(login: $login) {\nid\ndisplayName\nprofileImageURL(width: 50)\nbannerImageURL\nbroadcastBadges {\n...badge\n}\nsubscriptionProducts {\n...subscriptionProduct\n}\nself {\ncanPrimeSubscribe\nprimeSubCreditBenefit {\nrenewalDate\n}\nsubscriptionGiftCount\nsubscriptionBenefit {\n...subBenefit\nisExtended\n}\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\n...tenure\n}\nstreakTenure: subscriptionTenure(tenureMethod: STREAK) {\n...tenure\n}\n}\n}\nbadges {\n...badge\n}\nrequestInfo {\ncountryCode\n}\ncurrentUser {\nid\nhasPrime\nsubscriptionSettings {\nisGiftCountHidden\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)}))}i.definitions=i.definitions.concat(o(t("IKE4").definitions)),i.definitions=i.definitions.concat(o(t("FaAX").definitions)),i.definitions=i.definitions.concat(o(t("IKRm").definitions)),i.definitions=i.definitions.concat(o(t("HiyX").definitions));var a={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.SubModal=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var u=o;o=new Set,u.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"SubModal")},DnOo:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),o=t("ANjH"),a=t("/7QA"),s=t("SDEh"),u=t("8EUQ"),c=t("GnwI"),d=t("br9A"),l=t("dEDE"),m=t("C7sF"),p=t("vCsY"),f=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleClick=function(){n.openCheckout(),n.props.handleSubAction({action:n.props.overrideSubEventAction?n.props.overrideSubEventAction:d.a.ClickCheckout,checkoutButtonTier:n.props.tierPrice,chargeInterval:n.props.chargeInterval,offerID:n.props.offerID})},n.openCheckout=function(){n.props.isMobileCheckout||a.n.set(u.a.SUB_CHECKOUT__PRODUCT_KEY,n.props.productName)},n}return Object(i.__extends)(n,e),n.prototype.render=function(){if(this.props.isSubbedToTier){var e=Object(a.d)("Subscribed","SubTierButton");return r.createElement(l.a,{ariaLabel:e,"data-test-selector":"subscribe-button__subscribe-tier-button",disabled:!0,icon:m.a.Star},e)}var n;return n=this.props.customSubscribeNowMessage?this.props.customSubscribeNowMessage:Object(a.d)("Subscribe","SubTierButton"),r.createElement(l.a,Object(i.__assign)({ariaLabel:n+" "+this.props.tierPrice,"data-test-selector":"subscribe-button__subscribe-tier-button",icon:this.props.icon,linkTo:this.props.isMobileCheckout?this.props.url:void 0,onClick:this.handleClick,purchase:this.props.tierPrice},Object(p.a)(this.props),{fullWidth:this.props.fullWidth,targetBlank:!!Object(s.b)()||void 0}),n)},n}(r.Component),b=Object(o.d)(Object(c.withLatencyTracking)("SubTierButton",{autoReportInteractive:!0}))(f);t.d(n,"a",(function(){return b}))},FaAX:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subBenefit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionBenefit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gifter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isDNRd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isExtended"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pendingSubscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pendingSubscription"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renewsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}],loc:{start:0,end:309}};i.loc.source={body:'#import "twilight/features/subscribe-button/components/subscribe-button/pending_subscription.gql"\nfragment subBenefit on SubscriptionBenefit {\nid\nendsAt\nplatform\ngift {\ngifter {\nid\nlogin\ndisplayName\n}\nisGift\n}\nisDNRd\nisExtended\npendingSubscription {\n...pendingSubscription\n}\npurchasedWithPrime\nrenewsAt\ntier\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("QHJn").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)}))),e.exports=i},HiyX:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"tenure"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionTenure"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}}],loc:{start:0,end:62}};t.loc.source={body:"fragment tenure on SubscriptionTenure {\ndaysRemaining\nmonths\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},IKE4:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"badge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Badge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image1x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"NORMAL"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image2x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"DOUBLE"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image4x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickURL"},arguments:[],directives:[]}]}}],loc:{start:0,end:170}};t.loc.source={body:"fragment badge on Badge {\nid\nsetID\nversion\ntitle\nimage1x: imageURL(size: NORMAL)\nimage2x: imageURL(size: DOUBLE)\nimage4x: imageURL(size: QUADRUPLE)\nclickAction\nclickURL\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},IKRm:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductPriceInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmote"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeEmoteModifiers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canGiftInChannel"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOffers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}}]}}],loc:{start:0,end:734}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-emote.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-emote-modifier.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-price-info.gql"\nfragment subscriptionProduct on SubscriptionProduct {\nid\nprice\npriceInfo {\n...subscriptionProductPriceInfo\n}\nurl\nemoteSetID\ndisplayName\nname\ntier\ntype\nhasAdFree\nemotes {\n...subscriptionProductEmote\n}\nemoteModifiers @include(if: $includeEmoteModifiers) {\n...subscriptionProductEmoteModifier\n}\ninterval {\nunit\n}\nself {\ncanGiftInChannel\n}\noffers @include(if: $withOffers) {\n...subProductOfferFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)}))}i.definitions=i.definitions.concat(o(t("Wd+u").definitions)),i.definitions=i.definitions.concat(o(t("dq0Q").definitions)),i.definitions=i.definitions.concat(o(t("8/YZ").definitions)),i.definitions=i.definitions.concat(o(t("35qb").definitions)),e.exports=i},ISMp:function(e,n,t){"use strict";var i,r=t("mrSG"),o=t("TSYQ"),a=t("q1tI"),s=t("eJ65"),u=t("N0BP"),c=t("D4eI"),d=t("Ws8v"),l=t("yymn"),m=t("sUnt"),p=t("wp5a"),f=t("+80q"),b=t("7d/q"),v=t("C7sF"),h=t("ygYM"),g=t("uKd/"),k=t("Z2sP"),S=t("7uM4");t("N3Wk");!function(e){e.SVGIcon="chat-private-callout__icon-svg",e.CloseButton="chat-private-callout__close-button",e.HoverContainer="chat-private-callout__hover-container"}(i||(i={}));var _=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={isHovered:!1},n.handleFocus=function(){n.setState({isHovered:!0})},n.handleBlur=function(){n.setState({isHovered:!1})},n}return Object(r.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=o("chat-private-callout__icon",{"chat-private-callout__icon--overlay":e.overlay&&!e.hideIconBackground});return a.createElement(d.a,Object(r.__assign)({},Object(u.a)(e),{border:!e.overlay,background:e.overlay?l.d.Accent:l.d.Base,borderRadius:l.e.Medium,color:e.overlay?l.f.Overlay:l.f.Base,elevation:4,position:l.n.Relative,padding:1}),a.createElement("div",{onMouseEnter:this.handleFocus,onMouseLeave:this.handleBlur,onFocus:this.handleFocus,onBlur:this.handleBlur,"data-test-selector":i.HoverContainer},a.createElement(m.a,{display:l.g.Flex,alignItems:l.b.Start},e.icon&&a.createElement(d.a,{className:n,margin:{right:1},padding:e.hideIconBackground?void 0:.5,display:l.g.Flex,flexGrow:0,flexShrink:0,borderRadius:l.e.Rounded,alignItems:l.b.Center,justifyContent:l.l.Center},this.renderIcon()),a.createElement(m.a,{display:l.g.Flex,alignItems:l.b.Center,className:"chat-private-callout__header-segment",padding:{right:.5},flexGrow:1},a.createElement(m.a,null,e.pill&&a.createElement(m.a,{display:l.g.InlineBlock,margin:{right:.5}},a.createElement(p.a,Object(r.__assign)({},e.pill))),a.createElement(f.a,{bold:!0,type:f.e.Span},e.message.title),e.message.description&&e.inlineDescription&&a.createElement(f.a,{type:f.e.Span},"Â ",e.message.description))),a.createElement(m.a,{display:l.g.Flex,alignItems:l.b.Center,className:"chat-private-callout__header-segment"},!!e.actions&&e.inlineActions&&this.renderActions(),e.contextMenu&&a.createElement(d.a,{color:l.f.Base},a.createElement(s.a,null,a.createElement(b.a,{icon:v.a.More,overlay:e.overlay,ariaLabel:"more options"}),a.createElement(h.a,{direction:h.b.TopRight,size:h.c.Small,tailOffset:7},e.contextMenu))),e.closeButton&&!e.contextMenu&&a.createElement(m.a,{padding:{left:.5},"data-test-selector":i.CloseButton},a.createElement(g.a,{ariaLabel:e.closeButton.ariaLabel,onClick:e.closeButton.onClick,size:b.b.Small,overlay:e.overlay})))),e.message.description&&!e.inlineDescription&&a.createElement(m.a,{margin:{top:.5}},a.createElement(f.a,null,e.message.description)),!!e.actions&&!e.inlineActions&&a.createElement(m.a,{margin:{top:.5}},this.renderActions()),e.progressBar&&a.createElement(d.a,{margin:{top:1}},a.createElement(k.a,{animationDirection:k.b.Down,size:k.c.ExtraSmall,animationDuration:e.progressBar.animationDuration,onAnimationEnd:e.progressBar.onAnimationEnd,paused:this.state.isHovered,overlay:e.overlay,mask:!0}))))},n.prototype.renderIcon=function(){return this.props.icon.asset?a.createElement(S.a,Object(r.__assign)({"data-test-selector":i.SVGIcon},this.props.icon)):this.props.icon},n.prototype.renderActions=function(){return this.props.actions.primaryButton?a.createElement(c.a,Object(r.__assign)({},this.props.actions)):this.props.actions},n}(a.Component);t.d(n,"a",(function(){return _}))},Mb07:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return a})),t.d(n,"d",(function(){return s}));var i,r=t("a5fV");function o(e,n){var t;return null===(t=n.offers)||void 0===t?void 0:t.find((function(n){var t;return(null===(t=n.promotion)||void 0===t?void 0:t.name)===e}))}function a(e){return s(e)?function(e){var n,t,i,o,a,s,u,c,d=null===(n=null==e?void 0:e.promotion)||void 0===n?void 0:n.promoDisplay.discountPercent,l=null===(i=null===(t=null==e?void 0:e.listing)||void 0===t?void 0:t.chargeModel.internal)||void 0===i?void 0:i.previewPrice,m=null===(u=null===(s=null===(a=null===(o=null==e?void 0:e.listing)||void 0===o?void 0:o.chargeModel.internal)||void 0===a?void 0:a.previewPrice)||void 0===s?void 0:s.discount)||void 0===u?void 0:u.price;l&&(c=Object(r.a)(Object(r.d)(l.total,l.exponent),l.currency));return{discountPercent:d,discountPrice:m,price:c}}(e):{}}function s(e){return!!(null==e?void 0:e.eligibility.isEligible)}!function(e){e.FirstPaidSubOffer="first_paid_sub_offer_20_perc_off"}(i||(i={}))},N3Wk:function(e,n,t){},QHJn:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pendingSubscription"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PendingSubscription"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:80}};t.loc.source={body:"fragment pendingSubscription on PendingSubscription {\nprice\nstartsAt\ntier\ntype\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},QjI3:function(e,n,t){"use strict";t.r(n);var i,r=t("mrSG"),o=t("q1tI"),a=t("/MKj"),s=t("ANjH"),u=t("/7QA"),c=t("ZS2+"),d=t("1/iK"),l=t("XDCx"),m=t("D7An"),p=t("kz7j"),f=t("kRBY"),b=t("w1PT"),v=t("8EUQ"),h=t("GnwI"),g=t("2+sX"),k=t("u5aL"),S=t("eJ65"),_=t("yR8l"),y=t("x7UT"),C=t("3Bft"),N=t("ht6z"),B=t("/aPz"),E=t("f00E"),I=t("KriR"),D=t("evnP"),w=t("DQ0a"),O=Object(s.d)(Object(_.a)(w,{options:function(e){return{variables:{login:e.channelLogin}}}}))((function(e){return o.createElement(o.Fragment,null,e.children)})),T=t("Mb07"),P=t("5zXJ"),F=t("Uh2Q"),M=t("RiD7"),L=t("ISMp"),A=t("uG/k"),U=t("7d/q"),R=t("dEDE"),x=t("sUnt"),j=t("yymn"),G=(t("/JPy"),"creator-luv-2019-callout-dismissed");function q(e){return G+(e?"-"+e:"")}!function(e){e.Callout="creator-luv-callout"}(i||(i={}));var H=function(e){var n=e.userId,t=Object(o.useState)((function(){return u.m.get(q(n),!1)})),a=t[0],s=t[1];if(a||!Object(F.f)(F.a))return null;var c,d=Object(u.d)("Through {date}, Subscribe or Gift a sub to the community to unlock exclusive emotes! Check the Bits card for more ways to unlock.",{date:Object(u.c)(Object(F.h)(F.a),{day:"numeric",month:"numeric"})},"CreatorLuvCallout"),l={message:{title:Object(u.d)("Streamer Love","CreatorLuvCallout"),description:d},icon:o.createElement(A.a,{src:P.g+"/creator-luv/bits-card/7.png",sizes:[{size:"30px"}],alt:"snoWhal"}),closeButton:{ariaLabel:Object(u.d)("Close","CreatorLuvCallout"),type:U.c.Secondary,onClick:function(){u.m.set(q(n),!0),s(!0)}},actions:{primaryButton:{onClick:(c=n,void Object(M.o)({user_id:c||"",source:M.e.SubButtonCallout})),linkTo:Object(F.e)(),targetBlank:!0,children:Object(u.d)("Learn more","CreatorLuvCallout"),type:R.d.Secondary}}};return o.createElement(x.a,{position:j.n.Absolute,zIndex:j.s.Above,padding:{top:.5},className:"creator-luv-callout","data-test-selector":i.Callout},o.createElement(L.a,Object(r.__assign)({},l)))},V=t("br9A"),z=t("ygYM"),Q=t("C7sF"),K=t("Ws8v"),W=t("4rCz"),Y=t("0WFu"),J="Continue Sub",$=function(e){return"Continue Sub: "+e+"% off"},X="Continue Sub - Ends Today",Z=function(e){return"Continue Sub: "+e+"% off - Ends Today"},ee=function(e){return"Continue Sub - "+e+" Days Remaining"},ne=function(e,n){return"Continue Sub: "+e+"% off - "+n+" Days Remaining"},te="Gift A Sub",ie="Resubscribe",re=function(e){return"Resubscribe: "+e+"% off"},oe="Subscribe",ae=function(e){return"Subscribe: "+e+"% off"},se="Subscribed",ue="Subscribed to <hosted channel>",ce="Subscribe to <hosted channel>",de=function(e){return"Subscribe to <hosted channel>: "+e+"% off"};var le,me=t("z+dA"),pe=c.a.wrap((function(){return Promise.all([t.e(0),t.e(104)]).then(t.bind(null,"oaL6"))}),"SubModalComponent");!function(e){e.SubButton="subscribe-button__dropdown",e.DefaultButton="subscribe-button__default-btn",e.SubscribeBalloon="subscribe-button__subscribe-balloon"}(le||(le={}));var fe=c.a.wrap((function(){return Promise.all([t.e(0),t.e(105)]).then(t.bind(null,"f+qK"))}),"SubscribeBalloon"),be=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={modalSessionId:""},n.modalLevel="top_page",n.handleSubMenuAction=function(e){new Set([V.a.ClickCheckout,V.a.BuyGiftSub,V.a.BuyMysteryGift,V.a.BuyCustomMysteryGift,V.a.BuyGiftToPaidUpgrade,V.a.BuyPaidUpgrade,V.a.BuyContinueSub,V.a.BuyPrimeToPaid]).has(e.action)&&n.checkAndDisplaySubscriptionCheckout();var t=n.props.data;if(t){var i=t.user,r=null,o=null;i&&(r=i.self),r&&r.cumulativeTenure&&(o=r.cumulativeTenure.months);var a=!(!r||!r.subscriptionBenefit),s=t.requestInfo&&Object(N.a)(t.requestInfo.countryCode);Object(V.c)({action:e.action||"",buttonCTA:n.buttonTrackingCTA,channelLogin:n.props.channelLogin||"",channelID:i&&i.id||"",checkoutButtonTier:e.checkoutButtonTier,cumulativeTenureMonths:o,hasSubCredit:r&&r.canPrimeSubscribe,hostChannelID:n.props.hostChannelID,hostChannelLogin:n.props.hostChannelLogin,isAnonymous:e.isAnonymous,isMenuOpen:e.action!==V.a.OpenSubMenu,isSingleMonth:e.isSingleMonth,mysteryGiftCount:e.mysteryGiftCount,sub_location:n.props.subLocation,modal:!a,modalLevel:a?"":n.modalLevel.slice(),modalSessionId:e.modalSessionId||n.state.modalSessionId,showPrimeContent:s,giftRecipient:e.giftRecipient||null}),!e.modalLevel||e.action!==V.a.ClickMoreSubOptions&&e.action!==V.a.ClickBack||(n.modalLevel=e.modalLevel)}},n.renderBalloonContentForBalloonLayer=function(){return o.createElement(k.a,{onClickOut:n.handleBalloonClickOut},o.createElement(x.a,{"data-a-target":"sub-balloon",refDelegate:n.setBalloonContentRefDelegate},n.balloonWrapperContent))},n.handleButtonClick=function(){if(n.props.data){var e=Object(E.c)();n.balloonContentRef||(n.props.useNewModal&&n.props.channelLogin?(n.props.showNewSubModal({channelLogin:n.props.channelLogin,countryCode:n.props.data.requestInfo.countryCode,extraSubProductNames:n.props.extraSubscriptionProducts,hostChannelID:n.props.hostChannelID,hostChannelLogin:n.props.hostChannelLogin,modalSessionId:e,onClose:n.handleModalClose,subLocation:n.props.subLocation}),n.handleSubMenuAction({action:V.a.OpenSubMenu,modalSessionId:e})):n.props.useModal&&n.props.channelLogin?(n.props.showSubscriptionModal({channelLogin:n.props.channelLogin,subLocation:n.props.subLocation}),n.handleSubMenuAction({action:V.a.OpenSubMenu,modalSessionId:e})):(n.props.balloonLayer.show({direction:n.getBalloonDirection(),ref:n.containerRef,content:n.renderBalloonContentForBalloonLayer(),contentHeight:0,closeOnScroll:!0}),n.handleSubMenuAction({action:V.a.OpenSubMenu,modalSessionId:e})),n.setState({modalSessionId:e}))}},n.handleBalloonClickOut=function(){n.handleSubMenuAction({action:V.a.CloseSubMenu,modalSessionId:n.state.modalSessionId}),n.props.balloonLayer.hide({force:!0})},n.handleModalClose=function(){n.handleSubMenuAction({action:V.a.CloseSubMenu,modalSessionId:n.state.modalSessionId})},n.setBalloonWrapperContent=function(e){n.balloonWrapperContent=e},n.handleMenuToggle=function(e){if(e)n.handleSubMenuAction({action:V.a.CloseSubMenu,modalSessionId:n.state.modalSessionId});else{var t=Object(E.c)();n.setState({modalSessionId:t}),n.handleSubMenuAction({action:V.a.OpenSubMenu,modalSessionId:t})}},n.getBalloonDirection=function(){var e=n.props.balloonDirection||z.b.BottomRight;return n.props.hostChannelID&&(e=z.b.TopLeft),e},n.setBalloonContentRefDelegate=function(e){n.balloonContentRef=e},n}return Object(r.__extends)(n,e),n.prototype.componentDidMount=function(){this.trackLatencyIfComponentFinished(this.props),this.checkAndDisplaySubscriptionCheckout()},n.prototype.componentDidUpdate=function(e){this.props.channelLogin&&!this.isUserDataReady(this.props)||!this.props.updateContainerWidth||this.props.updateContainerWidth(),this.trackLatencyIfComponentFinished(this.props),!this.isUserDataReady(e)&&this.isUserDataReady(this.props)&&this.checkAndDisplaySubscriptionCheckout(),this.isUserDataReady(this.props)&&this.props.pubsub.messages.subscriptionInfo!==e.pubsub.messages.subscriptionInfo&&this.props.data.refetch()},n.prototype.componentWillUnmount=function(){v.a.clearSubscriptionCheckoutKeys()},n.prototype.render=function(){var e,n,t=this.props.data;if(!t||t.loading||t.error)return null;var i=t.requestInfo,r=t.user;if(!r)return null;var a=r.self,s=r.subscriptionProducts;if(!s)return null;var u=s.filter((function(e){return e}));if(0===u.length)return null;var c=1===u.length;u.some((function(e){return!e.emoteSetID}))&&(c=!0);var d=null,l=!1,m=!1,p=!1,f=!1,b=!1,v=!1,h=null;if(a){if(a.cumulativeTenure)p=a.cumulativeTenure.months>0;if(a.subscriptionBenefit){var g=a.subscriptionBenefit;d=g.endsAt,l=g.isDNRd,m=!!g.pendingSubscription,f=g.gift&&g.gift.isGift||!1,b=!0,v=g.purchasedWithPrime,h=g.purchasedWithPrime?C.a.Prime:g.tier,this.modalLevel=""}}var k=function(e){var n=e.benefitEndsAt,t=e.benefitIsDNRd,i=e.discountPercent,r=e.hasPendingSub,o=e.hasTenure,a=e.hostedDisplayName,s=e.isGift,u=e.isNonStandardSub,c=e.isSubscribed,d=e.purchasedWithPrime;if(c){if(u)return{text:Object(W.d)("Subscribed","SubscribeButton"),cta:se};if(a)return{text:Object(W.d)("Subscribed to {username}",{username:a},"SubscribeButton"),cta:ue};if((d||t||s)&&n&&!r){var l=Object(Y.a)(n);if(l<=15&&l>7)return i?{text:Object(W.d)("Continue Sub: {discountPercent}% off",{discountPercent:i},"SubscribeButton"),cta:$(i)}:{text:Object(W.d)("Continue Sub","SubscribeButton"),cta:J};if(l<=7&&0!==l)return i?{text:Object(W.d)("{daysRemaining, plural, one {Continue Sub: {discountPercent}% off - {daysRemaining} Day Remaining} other {Continue Sub: {discountPercent}% off - {daysRemaining} Days Remaining}}",{discountPercent:i,daysRemaining:l},"SubscribeButton"),cta:ne(i,l)}:{text:Object(W.d)("{daysRemaining, plural, one {Continue Sub - {daysRemaining} Day Remaining} other {Continue Sub - {daysRemaining} Days Remaining}}",{daysRemaining:l},"SubscribeButton"),cta:ee(l)};if(0===l)return i?{text:Object(W.d)("Continue Sub: {discountPercent}% off - Ends Today",{discountPercent:i},"SubscribeButton"),cta:Z(i)}:{text:Object(W.d)("Continue Sub - Ends Today","SubscribeButton"),cta:X}}return{text:Object(W.d)("Gift a Sub","SubscribeButton"),cta:te}}return a?i?{text:Object(W.d)("Subscribe to {username}: {discountPercent}% off",{discountPercent:i,username:a},"SubscribeButton"),cta:de(i)}:{text:Object(W.d)("Subscribe to {username}",{username:a},"SubscribeButton"),cta:ce}:o?i?{text:Object(W.d)("Resubscribe: {discountPercent}% off",{discountPercent:i},"SubscribeButton"),cta:re(i)}:{text:Object(W.d)("Resubscribe","SubscribeButton"),cta:ie}:i?{text:Object(W.d)("Subscribe: {discountPercent}% off",{discountPercent:i},"SubscribeButton"),cta:ae(i)}:{text:Object(W.d)("Subscribe","SubscribeButton"),cta:oe}}({benefitEndsAt:d,benefitIsDNRd:l,hasPendingSub:m,hasTenure:p,discountPercent:(null===(n=null===(e=Object(T.c)(Object(T.b)(T.a.FirstPaidSubOffer,u[0])))||void 0===e?void 0:e.discountPercent)||void 0===n?void 0:n.toString())||"",hostedDisplayName:this.props.hostChannelID?r.displayName||"":void 0,isGift:f,isNonStandardSub:c,isSubscribed:b,purchasedWithPrime:v});this.buttonTrackingCTA=k.cta;var _=k.text;if(b&&c)return o.createElement(R.a,{disabled:!0,ariaLabel:_,icon:Q.a.Star},_);var y=this.props.allowPromotionalCallout&&this.props.sessionUser&&o.createElement(H,{userId:this.props.sessionUser&&this.props.sessionUser.id}),B=o.createElement(R.a,{ariaLabel:_,"data-a-target":b?"subscribed-button":"subscribe-button","data-test-selector":le.SubButton,dropdown:!this.props.hideDropdownArrow,fullWidth:!0,icon:this.getButtonIcon(b,h),onClick:this.handleButtonClick,type:this.getButtonType(b),overlay:this.props.overlayButton},_);if(this.props.useModal)return o.createElement(x.a,{position:j.n.Relative},B,y);if(this.props.useNewModal)return o.createElement(O,{channelLogin:this.props.channelLogin},o.createElement(x.a,{position:j.n.Relative},B,y));if(this.props.useNewBalloon)this.setBalloonWrapperContent(o.createElement(K.a,{className:"sub-modal__container",background:j.d.Base,borderRadius:j.e.Medium,overflow:j.m.Hidden},o.createElement(pe,{channelLogin:this.props.channelLogin||"",hostChannelID:this.props.hostChannelID,hostChannelLogin:this.props.hostChannelLogin,modalSessionId:this.state.modalSessionId,sessionUser:this.props.sessionUser,showLoginModal:this.props.showLoginModal,showSubscriptionCheckout:this.props.showSubscriptionCheckout,subLocation:this.props.subLocation,subButtonCTA:this.buttonTrackingCTA})));else{var E=u[0];if(!E||!E.id)return null;this.setBalloonWrapperContent(o.createElement(fe,{channelLogin:this.props.channelLogin||"","data-test-selector":le.SubscribeBalloon,handleSubMenuAction:this.handleSubMenuAction,inPrimeRegion:!!i&&Object(N.a)(i.countryCode),isNonStandardSub:c,isSubscribed:b,productId:E.id,subbedTier:h||C.a.Prime,userHasPrime:!1}))}return o.createElement(x.a,{position:j.n.Relative},o.createElement(S.a,{"data-test-selector":le.DefaultButton,onToggle:this.handleMenuToggle},B,o.createElement(z.a,{"data-a-target":"sub-balloon",direction:this.getBalloonDirection(),size:z.c.Large},this.balloonWrapperContent)),y)},n.prototype.getButtonType=function(e){return e&&void 0!==this.props.subscribedButtonType?this.props.subscribedButtonType:e?R.d.Success:this.props.unsubscribedButtonType||R.d.Primary},n.prototype.getButtonIcon=function(e,n){var t=void 0;return e?t=n===C.a.Prime?Q.a.Crown:Q.a.Star:this.props.forceIcon&&(t=Q.a.StarHollow),t},n.prototype.isUserDataReady=function(e){return e.data&&e.data.user&&!e.data.loading&&!e.data.error},n.prototype.trackLatencyIfComponentFinished=function(e){e.data&&!e.data.loading&&(e.reportInteractive&&e.reportInteractive(),e.reportCustomLatency&&e.reportCustomLatency())},n.prototype.checkAndDisplaySubscriptionCheckout=function(){if(this.props.data){var e=u.n.get(v.a.SUB_CHECKOUT__PRODUCT_KEY,"");if(e){var n=this.props.data.user;if(n&&n.subscriptionProducts)n.subscriptionProducts.filter((function(e){return e})).map((function(e){return e.name})).includes(e)||this.props.extraSubscriptionProducts&&this.props.extraSubscriptionProducts.includes(e)?this.props.sessionUser?this.props.showSubscriptionCheckout({isAnonymous:u.n.get(v.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,!1),isOneTimePurchase:u.n.get(v.a.SUB_CHECKOUT__IS_ONE_TIME_PURCHASE,!1),mysteryGiftCount:Number(u.n.get(v.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,"")),productName:e,recipientLogin:u.n.get(v.a.SUB_CHECKOUT__RECIPIENT_KEY,""),trackingContext:{source:I.a.ChannelSubscribeButton}}):this.props.showLoginModal():v.a.clearSubscriptionCheckoutKeys()}}},n}(o.Component),ve=Object(s.d)(Object(_.a)(me,{options:function(e){return{variables:{login:e.channelLogin,withOffers:Object(D.b)()}}},skip:function(e){return!e.channelLogin}}),Object(y.a)([{topic:function(e){return Object(B.V)(e.data&&e.data.currentUser&&e.data.currentUser.id||"")},mapMessageTypesToProps:{"*":"subscriptionInfo"},skip:function(e){return!(e.data&&!e.data.loading&&!e.data.error&&e.data.currentUser)}}]),Object(g.e)())(be),he=c.a.wrap((function(){return Promise.all([t.e(0),t.e(103)]).then(t.bind(null,"hfwl"))}),"SubModal"),ge=function(e){function n(n){var t=e.call(this,n)||this;return t.loadedLatencyEvent=t.props.latencyTracking.registerCustomEvent({benchmark:500,group:p.a.Subscriptions,label:p.c.Loaded,start:p.d.Registration,key:p.b.SubscriptionButtonLoaded}),t.reportCustomLatencyTracking=function(){t.props.latencyTracking.reportCustomEvent(t.loadedLatencyEvent)},t.reportInteractive=function(){t.props.latencyTracking.reportInteractive()},t.modalExperimentAssignment=u.p.experiments.getAndTrackAssignment(m.c.SubModalRedesign)||"",t}return Object(r.__extends)(n,e),n.prototype.render=function(){var e="modal"===this.modalExperimentAssignment||"accordion"===this.modalExperimentAssignment||"prime_70_30"===this.modalExperimentAssignment||"prime_30_70"===this.modalExperimentAssignment||"dirty_modal"===this.modalExperimentAssignment,n="balloon"===this.modalExperimentAssignment;return o.createElement(o.Fragment,null,o.createElement(ve,{balloonDirection:this.props.balloonDirection,channelLogin:this.props.channelLogin,extraSubscriptionProducts:this.props.extraSubscriptionProducts,forceIcon:this.props.forceIcon,hideDropdownArrow:this.props.hideDropdownArrow,hostChannelID:this.props.hostChannelID,hostChannelLogin:this.props.hostChannelLogin,overlayButton:this.props.overlayButton,reportCustomLatency:this.reportCustomLatencyTracking,reportInteractive:this.reportInteractive,sessionUser:this.props.sessionUser,showLoginModal:this.props.showLoginModal,showSubscriptionCheckout:this.props.showSubscriptionCheckout,showSubscriptionModal:this.props.showSubscriptionModal,showNewSubModal:this.props.showNewSubModal,subscribedButtonType:this.props.subscribedButtonType,unsubscribedButtonType:this.props.unsubscribedButtonType,updateContainerWidth:this.props.updateContainerWidth,useModal:this.props.useModal,useNewBalloon:n||void 0,useNewModal:e||void 0,subLocation:this.props.subLocation,allowPromotionalCallout:this.props.allowPromotionalCallout}),e&&o.createElement(he.Preload,null))},n=Object(r.__decorate)([Object(h.withLatencyTracking)("SubscribeButton")],n)}(o.Component);var ke=Object(a.b)((function(e){return{sessionUser:Object(f.e)(e)}}),(function(e){return Object(s.b)({showLoginModal:v.a.showLoginModalWithCheckoutDispatch(d.a.ChannelSubscriptionButton),showSubscriptionModal:function(e){var n=Object(r.__rest)(e,[]);return Object(l.e)(he,n)},showNewSubModal:function(e){var n=Object(r.__rest)(e,[]);return Object(l.e)(he,n)},showSubscriptionCheckout:b.a},e)}))(ge);t.d(n,"SubscribeButtonContainer",(function(){return ge})),t.d(n,"SubscribeButton",(function(){return ke})),t.d(n,"TestSelectors",(function(){return le})),t.d(n,"SubscribeButtonPresentation",(function(){return be})),t.d(n,"SubscribeButtonComponent",(function(){return ve}))},RiD7:function(e,n,t){"use strict";t.d(n,"m",(function(){return a})),t.d(n,"d",(function(){return u})),t.d(n,"a",(function(){return s})),t.d(n,"c",(function(){return f})),t.d(n,"i",(function(){return v})),t.d(n,"j",(function(){return h})),t.d(n,"h",(function(){return c})),t.d(n,"k",(function(){return g})),t.d(n,"n",(function(){return k})),t.d(n,"b",(function(){return d})),t.d(n,"l",(function(){return S})),t.d(n,"g",(function(){return l})),t.d(n,"f",(function(){return m})),t.d(n,"e",(function(){return p})),t.d(n,"p",(function(){return _})),t.d(n,"q",(function(){return y})),t.d(n,"r",(function(){return C})),t.d(n,"o",(function(){return N})),t.d(n,"s",(function(){return B}));var i=t("mrSG"),r=t("/7QA"),o=t("2xye");function a(e){var n={action_name:e.actionName,action_type:e.actionType||s.Click,tracking_id:e.trackingId,checkout_id:e.checkoutId,displayed_balance:e.displayedBalance,emote_level:e.emoteLevel,emote_type:e.emoteType,bits_location:e.location||u.ChatTooltip,bits_card_error:e.bitsCardError,channel_id:e.channelId,user_id:e.userId,gem_notification:e.gemNotification};r.o.track(o.SpadeEventType.BitsCardInteraction,n)}var s,u={ChatTooltip:"card",GetBitsButton:"get_bits_button",GetBitsButtonTopNav:"topnav",BitsLandingPage:"bits_landing_page"};!function(e){e.Click="click",e.Hover="hover"}(s||(s={}));var c,d,l,m,p,f={BuyMain:"buy_main",Buy100:"buy_100",Buy500:"buy_500",Buy1000:"buy_1000",Buy1500:"buy_1500",Buy2500:"buy_2500",Buy5000:"buy_5000",Buy10000:"buy_10000",Buy25000:"buy_25000",CloseBuy:"buy_close",CloseCard:"menu_close",OpenCard:"menu_open",OpenCardViaCheering:"menu_open_from_cheer",PreviewEmote:"emote_preview",WatchAd:"watch_ad",WatchAnotherAd:"watch_another_ad",CheeringInRoom:"cheering_in_room",NewUserLearnMore:"new_user_learn_more",NewUserSkipTutorial:"new_user_skip_tutorial",NewUserCloseTutorial:"new_user_close_tutorial",NewUserFirstTimePurchaseDiscountClick:"new_user_first_time_purchase_discount_click",NewUserHelpRequested:"new_user_help_requested",SendInvalidCheerAttemptButtonDisabled:"send_invalid_cheer_button_disabled",UserViewingCheerError:"user_viewing_cheer_error",UserViewingCheerRoomsError:"user_viewing_cheer_rooms_error",LoadBitsLandingPage:"load_bits_landing_page",BitsSkusExpShowMore:"bits_skus_experiment_show_more"},b={100:f.Buy100,500:f.Buy500,1e3:f.Buy1000,1500:f.Buy1500,2500:f.Buy2500,5e3:f.Buy5000,1e4:f.Buy10000,25e3:f.Buy25000};function v(e){return e&&b[e]?b[e]:(r.k.errorAndReport(new Error('Buy Bits card contains improperly rendered offers, or offers unknown to Science. Tracking as "buy_100"'),'Buy Bits card contains improperly rendered offers, or offers unknown to Science. Tracking as "buy_100"'),f.Buy100)}function h(e){var n={distinct_id:r.p.session.deviceID,host:"twitch.tv",request_id:e.requestID,campaign_id:e.campaignID,adblock:e.adblock};r.o.track(o.SpadeEventType.BitsAdsImpression,n)}function g(e){var n=r.o.getLastPageview(),t={location:n&&n.location||"",ad_returned:null,campaign_id:e.campaignID,distinct_id:r.p.session.deviceID,host:"twitch.tv",request_id:e.requestID,request_method:e.requestMethod};r.o.track(o.SpadeEventType.BitsAdsRequest,t)}function k(e){var n={leaderboard_size:e.leaderboardSize,leaderboard_mode:e.leaderboardMode,user_present_in_leaderboard:e.userPresentInLeaderboard,user_id:e.userID,channel_id:e.channelID};r.o.track(o.SpadeEventType.LeaderboardExpandClick,n)}function S(e){var n={transaction_id:e.transactionId,user_id:e.userId,user_login:e.userLogin,channel_id:e.channelId,channel_login:e.channelLogin,action:e.action,badge_amount:e.badgeAmount,emote_id:e.emoteID};r.o.track(o.SpadeEventType.BitsBadgeTierNotification,n)}function _(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return r.o.track(o.SpadeEventType.MegaCheerChatNotificationImpression,{time:Date.now(),transaction_id:e.transaction_id,notification_type:e.notification_type,user_id:e.user_id,initiator_user_id:e.initiator_user_id,channel:e.channel,channel_id:e.channel_id,campaign_domain:e.domain}),[2]}))}))}function y(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return r.o.track(o.SpadeEventType.MegaCheerChatNotificationAction,{time:Date.now(),transaction_id:e.transaction_id,notification_type:e.notification_type,action:e.action,user_id:e.user_id,initiator_user_id:e.initiator_user_id,channel:e.channel,channel_id:e.channel_id,campaign_domain:e.domain}),[2]}))}))}function C(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return r.o.track(o.SpadeEventType.MegaCheerChatNotificationShare,{time:Date.now(),body:e.body,transaction_id:e.transaction_id,user_id:e.user_id,initiator_user_id:e.initiator_user_id,channel:e.channel,channel_id:e.channel_id,campaign_domain:e.domain}),[2]}))}))}function N(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return r.o.track(o.SpadeEventType.MegacheerLearnMoreInteraction,{time:Date.now(),source:e.source,user_id:e.user_id}),[2]}))}))}function B(e){var n={user_id:e.userID,state:e.state};r.o.track(o.SpadeEventType.BitsAdsRequestCaptcha,n)}!function(e){e.ShowAdButton="show_ad_button"}(c||(c={})),function(e){e.AutoSkip="AUTO_SKIP",e.Impression="IMPRESSION"}(d||(d={})),function(e){e.CheerAgain="cheer_again",e.SubGiftAgain="gift_again",e.SubGift="gift",e.Thank="thank",e.Share="share"}(l||(l={})),function(e){e.Click="click",e.Dismiss="dismiss"}(m||(m={})),function(e){e.BitsCard="bits_card",e.SubManagement="sub_management",e.SubModalGifting="sub_modal_gifting",e.SubModalMain="sub_modal_main",e.SubButtonCallout="sub_button_callout"}(p||(p={}))},RuiO:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_SubEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withVideo"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withVideo"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:266}};t.loc.source={body:"query Core_Services_Spade_SubEvent_User($channelID: ID! $withVideo: Boolean! $videoID: ID) {\nuser(id: $channelID) {\nid\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\ntier\npurchasedWithPrime\n}\n}\n}\nvideo(id: $videoID) @include(if: $withVideo) {\nid\nbroadcastType\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Core_Services_Spade_SubEvent_User=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var o=i[n]||new Set,a=new Set,s=new Set;for(o.forEach((function(e){s.add(e)}));s.size>0;){var u=s;s=new Set,u.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Core_Services_Spade_SubEvent_User")},Uh2Q:function(e,n,t){"use strict";var i,r=t("NAv5"),o=t("/7QA"),a=t("3Bft"),s=t("HGFl"),u=t("mrSG"),c=t("q1tI"),d=t("/MKj"),l=t("/0dD"),m=t("XDQu"),p=t("5zXJ"),f=t("RiD7"),b=t("uG/k"),v=t("sUnt"),h=t("+80q"),g=t("yymn"),k=t("Jsra");t("hgBU");!function(e){e.Container="lazy-carousel-container",e.Prev="lazy-carousel-prev-button",e.Next="lazy-carousel-next-button",e.NavDot="lazy-carousel-nav-dot",e.NavDotContainer="lazy-carousel-nav-dot-container",e.Animation="lazy-carousel-animation-container"}(i||(i={}));var S=[{src:p.g+"/creator-luv/bits-card/1.png",emoteString:"emote1"},{src:p.g+"/creator-luv/bits-card/2.png",emoteString:"emote2"},{src:p.g+"/creator-luv/bits-card/3.png",emoteString:"emote3"},{src:p.g+"/creator-luv/bits-card/4.png",emoteString:"emote4"},{src:p.g+"/creator-luv/bits-card/5.png",emoteString:"emote5"},{src:p.g+"/creator-luv/bits-card/6.png",emoteString:"emote6"},{src:p.g+"/creator-luv/bits-card/7.png",emoteString:"emote7"}],_=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={currIndex:0},n.renderEmotes=S.map((function(e){return c.createElement(b.a,{key:e.emoteString,className:"seasonal-creator-luv-introduction__emote",src:e.src,srcSet:{"112w":e.src},sizes:[{size:"28px"}],alt:e.emoteString})})),n.learnMoreClick=function(){Object(f.o)({user_id:n.props.currentUserID||"",source:f.e.BitsCard})},n}return Object(u.__extends)(n,e),n.prototype.render=function(){var e=this,n="";return n=this.props.theme===l.a.Dark?"seasonal-creator-luv-introduction__dark":"seasonal-creator-luv-introduction__light",c.createElement(v.a,{className:n},c.createElement(v.a,{padding:{top:3}},c.createElement(h.a,{fontSize:g.j.Size5,bold:!0},Object(o.d)("Streamer Love","CreatorLuvMegaCheerBitsIntroduction")),c.createElement(v.a,{padding:{x:1,top:.5}},c.createElement(h.a,null,Object(o.d)("Show your streamer some love to receive permanent RPG-inspired emotes! Through {date}, Cheer at least 300 Bits, Subscribe, or Gift a sub to earn emotes and gift them to your community.",{date:Object(o.c)(E(N),{day:"numeric",month:"numeric",year:"numeric"})},"CreatorLuvMegaCheerBitsIntroduction"))),c.createElement(v.a,{padding:{top:.5,bottom:1}},c.createElement(h.a,null,Object(o.d)("<x:link>Learn more</x:link>",{"x:link":function(n){return c.createElement(k.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/s/article/streamer-love",onClick:e.learnMoreClick},n)}},"CreatorLuvMegaCheerBitsIntroduction")))),c.createElement(v.a,{display:g.g.Flex,justifyContent:g.l.Center,flexDirection:g.h.Row,padding:{bottom:1}},this.renderEmotes))},n}(c.Component);var y,C=Object(d.b)((function(e){return{theme:Object(m.a)(e),currentUserID:e.session.user&&e.session.user.id||null}}))(_);t.d(n,"b",(function(){return y})),t.d(n,"a",(function(){return N})),t.d(n,"f",(function(){return B})),t.d(n,"h",(function(){return E})),t.d(n,"g",(function(){return I})),t.d(n,"e",(function(){return D})),t.d(n,"d",(function(){return w})),t.d(n,"c",(function(){return O})),function(e){e.Cheer="CHEER",e.Subscription="SUBSCRIPTION",e.SubGift="SUBGIFT"}(y||(y={}));var N={startDateDynamicSetting:"creater_luv_start_date",endDateDynamicSetting:"creater_luv_end_date",eventDomain:"creator_luv",eventTestDomain:"creator_luv-test",intro:C,tier1ImageUrl:p.g+"/creator_luv/MegaCheer-01.png",tier2ImageUrl:p.g+"/creator_luv/MegaCheer-02.png",tier3ImageUrl:p.g+"/creator_luv/MegaCheer-03.png",tier4ImageUrl:p.g+"/creator_luv/MegaCheer-04.png"};function B(e){if(!e)return!1;var n=o.b.get(e.startDateDynamicSetting,"2020-01-30T022:00:00Z");if(Object(r.isAfter)(Object(s.e)(n),Date.now()))return!1;var t=o.b.get(e.endDateDynamicSetting,"2020-02-17T08:00:00Z");return Object(r.isAfter)(Object(s.e)(t),Date.now())}function E(e){var n=o.b.get(e.endDateDynamicSetting,"2020-02-17T08:00:00Z");return Object(s.e)(n)}function I(e,n){return!!n&&(e===n.eventDomain||e===n.eventTestDomain)}function D(){return"https://help.twitch.tv/s/article/streamer-love"}function w(e,n){var t=0;n===a.a.Tier3?t=2:n===a.a.Tier2&&(t=1);var i=1;return e>=20?i=14:e>=10?i=7:e>=5&&(i=5),i+t}function O(e,n){var t=0;n===a.a.Tier3?t=10:n===a.a.Tier2&&(t=5);var i=5;return e>=100?i=500:e>=50?i=250:e>=20?i=100:e>=10?i=50:e>=5&&(i=25),i+t}},"Wd+u":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProductOfferFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Offer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"previewPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDisplay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:259}};t.loc.source={body:"fragment subProductOfferFragment on Offer {\nid\neligibility {\nisEligible\n}\nlisting {\nchargeModel {\ninternal {\npreviewPrice {\nid\ncurrency\nexponent\nprice\ntotal\ndiscount {\nprice\ntotal\n}\n}\n}\n}\n}\npromotion {\nid\nname\npromoDisplay {\ndiscountPercent\ndiscountType\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},YVOQ:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),o=t("f00E"),a=t("4rCz"),s=t("1rIY"),u=t("8EUQ"),c=t("KriR"),d=t("br9A"),l={channel:{login:"",id:"",displayName:null},handleSubMenuAction:function(){},modalSessionId:"",subBadges:[],gifterBadges:[],canGiftInChannel:!0,channelId:null,giftingAnonymously:!1,hasPrime:!1,hidesGiftCount:!1,isNonStandardSub:!1,onAnonymousGiftingSelect:function(){return null},primeSubRenewalDate:null,sessionUser:void 0,subscriptionProducts:[],subscriptionBenefit:null,subscriptionGiftCount:0,tenure:null,streakTenure:null},m=Object(s.a)("SubModalContext",l),p=m.context,f=m.withContext,b=function(e){function n(t){var i=e.call(this,t)||this;return i.state=l,i.onAnonymousGiftingSelect=function(e){i.setState({giftingAnonymously:e.target.checked}),i.handleSubMenuAction({action:d.a.ClickAnonymousGiftCheckbox})},i.handleSubMenuAction=function(e){var n,t;new Set([d.a.ClickCheckout,d.a.BuyGiftSub,d.a.BuyMysteryGift,d.a.BuyCustomMysteryGift,d.a.BuyGiftToPaidUpgrade,d.a.BuyPaidUpgrade,d.a.BuyContinueSub,d.a.BuyPrimeToPaid,d.a.BuyQuickSub]).has(e.action)&&i.checkAndDisplaySubscriptionCheckout(e.wasShownMoreBundles,e.chargeInterval,e.offerID);var r=!!i.props.subscriptionBenefit;Object(d.c)({action:e.action||"",buttonCTA:e.buttonCTA||i.props.subButtonCTA,channelLogin:i.props.channel.login,channelID:i.props.channel.id,checkoutButtonTier:e.checkoutButtonTier,chargeInterval:e.chargeInterval,cumulativeTenureMonths:i.state.tenure?i.state.tenure.months:null,hasSubCredit:i.props.canPrimeSubscribe,hostChannelID:null===(n=i.props.hostChannel)||void 0===n?void 0:n.id,hostChannelLogin:null===(t=i.props.hostChannel)||void 0===t?void 0:t.login,isAnonymous:e.isAnonymous,isMenuOpen:e.action!==d.a.OpenSubMenu,isSingleMonth:e.isSingleMonth,mysteryGiftCount:e.mysteryGiftCount,sub_location:i.props.subLocation,modal:!r,modalLevel:r?"":"top_page",modalSessionId:i.state.modalSessionId,showPrimeContent:i.props.inPrimeRegion,giftRecipient:e.giftRecipient||null})},i.state={channel:{id:i.props.channel.id,login:i.props.channel.login,displayName:i.props.channel.displayName},countryCode:i.props.countryCode,subBadges:n.filterBadges(i.props.subBadges||[],i.props.globalBadges||[]),gifterBadges:n.filterGifterBadges(i.props.globalBadges||[]),subscriptionProducts:n.filterProducts(i.props.subscriptionProducts||[]),canGiftInChannel:n.canSendGift(i.props.subscriptionProducts||[]),channelId:i.props.channel.id,giftingAnonymously:!1,hasPrime:i.props.hasPrime,hidesGiftCount:i.props.hidesGiftCount,isNonStandardSub:n.isNonStandardSub(i.props.subscriptionProducts||[]),primeSubRenewalDate:i.props.primeSubRenewalDate,onAnonymousGiftingSelect:i.onAnonymousGiftingSelect,sessionUser:i.props.sessionUser,subscriptionGiftCount:i.props.subscriptionGiftCount,subscriptionBenefit:i.props.subscriptionBenefit,tenure:i.props.tenure,handleSubMenuAction:i.handleSubMenuAction,modalSessionId:i.props.modalSessionId||Object(o.c)(),streakTenure:i.props.streakTenure},i}return Object(i.__extends)(n,e),n.getDerivedStateFromProps=function(e,t){var i=t.modalSessionId;return i!==e.modalSessionId&&(i=e.modalSessionId?e.modalSessionId:Object(o.c)()),{channel:{id:e.channel.id,login:e.channel.login,displayName:e.channel.displayName},countryCode:e.countryCode,subBadges:n.filterBadges(e.subBadges||[],e.globalBadges||[]),gifterBadges:n.filterGifterBadges(e.globalBadges||[]),subscriptionProducts:n.filterProducts(e.subscriptionProducts||[]),canGiftInChannel:n.canSendGift(e.subscriptionProducts||[]),channelId:e.channel.id,isNonStandardSub:n.isNonStandardSub(e.subscriptionProducts||[]),hasPrime:e.hasPrime,modalSessionId:i,primeSubRenewalDate:e.primeSubRenewalDate,sessionUser:e.sessionUser,subscriptionGiftCount:e.subscriptionGiftCount||0,subscriptionBenefit:e.subscriptionBenefit,tenure:e.tenure,streakTenure:e.streakTenure}},n.filterProducts=function(e){return e.filter((function(e){return null!==e}))},n.filterBadges=function(e,n){var t,i=e.filter((function(e){return"subscriber"===(null==e?void 0:e.setID)})).sort((function(e,n){return Number((null==e?void 0:e.version)||0)-Number((null==n?void 0:n.version)||0)}));if("0"===(null===(t=i[0])||void 0===t?void 0:t.version))return i;var r=null==n?void 0:n.find((function(e){return"subscriber"===(null==e?void 0:e.setID)&&"0"===(null==e?void 0:e.version)}));return r&&i.unshift(r),i},n.filterGifterBadges=function(e){return e.filter((function(e){return"sub-gifter"===(null==e?void 0:e.setID)})).sort((function(e,n){return Number((null==e?void 0:e.version)||0)-Number((null==n?void 0:n.version)||0)}))},n.isNonStandardSub=function(e){return 1===e.length},n.canSendGift=function(e){var n,t;return!!(null===(t=null===(n=null==e?void 0:e[0])||void 0===n?void 0:n.self)||void 0===t?void 0:t.canGiftInChannel)},n.prototype.componentDidMount=function(){this.handleSubMenuAction({action:d.a.SubMenuReady})},n.prototype.render=function(){return r.createElement(p.Provider,{value:this.state},this.props.children)},n.prototype.checkAndDisplaySubscriptionCheckout=function(e,n,t){var i=a.o.get(u.a.SUB_CHECKOUT__PRODUCT_KEY,"");if(i){var r=this.props.extraSubProductNames;if(this.state.subscriptionProducts.find((function(e){return e.name===i}))||(null==r?void 0:r.includes(i))){var o=this.props,s=o.sessionUser,d=o.showLoginModal;if(s){var l=this.props.showSubscriptionCheckout,m=this.state.modalSessionId;l({isAnonymous:a.o.get(u.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,!1),isOneTimePurchase:a.o.get(u.a.SUB_CHECKOUT__IS_ONE_TIME_PURCHASE,!1),mysteryGiftCount:Number(a.o.get(u.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,"")),productName:i,recipientLogin:a.o.get(u.a.SUB_CHECKOUT__RECIPIENT_KEY,""),trackingContext:{source:c.a.ChannelSubscribeButton,tenantTracking:{sub_session_id:m,from_show_more_bundles:e}},chargeInterval:n,offerID:t})}else d()}else u.a.clearSubscriptionCheckoutKeys()}},n}(r.Component);t.d(n,"b",(function(){return f})),t.d(n,"a",(function(){return b}))},Z2sP:function(e,n,t){"use strict";t.d(n,"c",(function(){return i})),t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return b}));var i,r,o,a=t("pVnL"),s=t.n(a),u=t("q1tI"),c=t("fNzW"),d=t("vCsY"),l=t("X2PJ"),m=t("yymn"),p=t("2Ob2");t("ulxC");!function(e){e.Default="",e.Small="tw-progress-bar--sm",e.ExtraSmall="tw-progress-bar--xs"}(i||(i={})),function(e){e.Default="tw-progress-bar--default",e.Caution="tw-progress-bar--caution",e.Error="tw-progress-bar--error",e.Success="tw-progress-bar--success"}(r||(r={})),function(e){e.Up="up",e.Down="down"}(o||(o={}));var f=function(e){var n={"tw-progress-bar":!0,"tw-progress-bar--countdown":e.animationDirection===o.Down,"tw-progress-bar--countup":e.animationDirection===o.Up,"tw-progress-bar--inherit":e.inherit,"tw-progress-bar--mask":e.mask,"tw-progress-bar--overlay":e.overlay},t={"tw-progress-bar__fill":!0,"tw-progress-bar__fill--paused":e.paused};return e.size&&(n[e.size]=!0),e.status&&(n[e.status]=!0),u.createElement(l.a,{borderRadius:e.borderRadius},u.createElement("div",s()({className:Object(c.a)(n)},Object(d.a)(e),{role:"progressbar","aria-valuenow":e.value,"aria-valuemin":0,"aria-valuemax":100}),u.createElement(l.a,{borderRadius:{topLeft:e.borderRadius,bottomLeft:e.borderRadius},display:m.g.Block},u.createElement("div",{onAnimationEnd:e.onAnimationEnd,className:Object(c.a)(t),style:{width:e.value+"%",animationDuration:e.animationDuration?e.animationDuration+"s":""},"data-a-target":"tw-progress-bar-animation"}))))};f.displayName="ProgressBarComponent",f.defaultProps={borderRadius:m.e.Large,status:r.Default},f.displayName="ProgressBarComponent";var b=Object(p.c)(f)},a5fV:function(e,n,t){"use strict";t.d(n,"d",(function(){return r})),t.d(n,"a",(function(){return o})),t.d(n,"e",(function(){return a})),t.d(n,"b",(function(){return s})),t.d(n,"c",(function(){return c}));var i=t("/7QA");function r(e,n){return e/Math.pow(10,n)}function o(e,n){return Object(i.f)(e,{style:"currency",currency:n})}function a(e){var n,t,i,r;if(u(e)||!e.priceInfo)return e.price;if(function(e){return"offers"in e}(e)&&e.offers){var o=null===(r=null===(i=null===(t=null===(n=e.offers.find((function(e){return e.eligibility.isEligible&&!!e.promotion})))||void 0===n?void 0:n.listing)||void 0===t?void 0:t.chargeModel)||void 0===i?void 0:i.internal)||void 0===r?void 0:r.previewPrice;if(null==o?void 0:o.discount)return s({exponent:o.exponent,currency:o.currency,total:o.discount.total})}return s(e.priceInfo)}function s(e){return o(r(e.total,e.exponent),e.currency)}function u(e){return!("priceInfo"in e)}function c(e,n){if(u(e)||!e.priceInfo)return e.price;var t=r(e.priceInfo.total,e.priceInfo.exponent);return o(t*=n,e.priceInfo.currency)}},br9A:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return c})),t.d(n,"c",(function(){return d}));var i,r=t("mrSG"),o=t("/7QA"),a=t("2xye"),s=t("I6K6"),u=t("RuiO");!function(e){e.ChannelPage="channel_page",e.ChannelHome="channel_home",e.ChannelPageModal="channel_page_modal",e.EmoteCard="emote_card",e.TheatreMode="theatre_mode",e.SubsManagementPage="subscriptions_management_page",e.SquadPage="squad_page",e.ThankSubGifterCallout="thank_sub_gifter_callout",e.MegaGifterCallout="mega_gifter_callout",e.WatchPartyPage="watch_party_page"}(i||(i={}));var c={BuyContinueSub:"buy_continue_sub",BuyCustomMysteryGift:"buy_custom_mystery_gift",BuyGiftSub:"buy_gift_sub",BuyGiftToPaidUpgrade:"buy_gift_to_paid_upgrade",BuyMysteryGift:"buy_mystery_gift",BuyPaidUpgrade:"buy_paid_upgrade",BuyPrimeToPaid:"buy_prime_to_paid",BuyQuickSub:"buy_quick_sub",ChangeTier:"change_tier",ClickAnonymousGiftCheckbox:"anonymous_gift_click",ClickBack:"back_top_level",ClickCancelAndRefund:"click_cancel_and_refund",ClickCancelPaidUpgrade:"click_cancel_paid_upgrade",ClickChangePaymentMethod:"click_change_payment_method",ClickChangeSubTier:"click_change_sub_tier",ClickCheckout:"click_checkout_button",ClickCommunityGift:"click_community_gift",ClickDisableGift:"click_disable_gift_button",ClickDNRSub:"click_dnr_sub_button",ClickGiftSubOptions:"gift_options_click",ClickMoreSubOptions:"more_options_click",ClickMultiMonthOption:"multi_month_option_select",ClickMultiMonthInfo:"multi_month_info_click",ClickPaidUpgrade:"click_paid_upgrade",ClickPrimeFAQ:"click_prime_faq",ClickResubscribe:"click_resubscribe",ClickShowMoreEmotes:"click_show_more_emotes",ClickShowMoreGiftBundles:"click_show_more_gift_bundles",ClickShowMoreGiftBundlesFromBannerCTA:"click_show_more_gift_bundles_from_banner",ClickSignupForPrime:"click_signup_for_prime",ClickSingleGift:"click_single_gift",CloseSubMenu:"close_subscribe_menu",GiftASub:"gift_a_sub",OpenSubMenu:"open_subscribe_menu",SubMenuReady:"sub_menu_ready",SubWithPrime:"samus_spend_credit"};function d(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,t,i,c,d,l,m,p,f,b,v,h,g;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=o.o.getVideoPlayerTrackingData().vodID,t=!!n,i={channelID:e.channelID,withVideo:!1},t&&(i.withVideo=!0,i.videoID=n),c=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.p.apollo.client.query({query:u,variables:i})];case 2:return c=r.sent(),[3,4];case 3:return d=r.sent(),o.k.warn(d,"Failed to make query for channel info in FollowEvent reporting.",{channelID:e.channelID}),[3,4];case 4:return l=c&&c.data&&c.data.user||null,c&&!l&&o.k.warn("Query for channel info in SubEvent reporting returned no data.",{channelID:e.channelID}),m=null,c&&t&&((p=c&&c.data&&c.data.video)?m=Object(s.a)(p.broadcastType):o.k.warn("Query for video info in SubEvent reporting returned no data.",{currentVideoID:n})),f=l&&l.self,b=f?!!f.subscriptionBenefit:null,v=f&&f.subscriptionBenefit&&f.subscriptionBenefit.purchasedWithPrime||!1,h=f?f.canPrimeSubscribe:null,g={action:e.action,button_cta:e.buttonCTA,can_subscribe:h,channel:e.channelLogin,channel_id:e.channelID,charge_interval:e.chargeInterval,checkout_button_tier:e.checkoutButtonTier,cumulative_tenure_months:e.cumulativeTenureMonths,days_to_next_tenure_anniversary:e.daysToNextTenureAnniversary||null,has_sub_credit:e.hasSubCredit||null,host_channel:e.hostChannelLogin,host_channel_id:e.hostChannelID,is_anonymous:e.isAnonymous,is_menu_open:e.isMenuOpen||null,is_single_month:e.isSingleMonth,is_subscribed:b,is_subscribed_current_tier:f&&f.subscriptionBenefit&&f.subscriptionBenefit.tier,mystery_gift_count:e.mysteryGiftCount||null,sub_location:e.sub_location,sub_recipient:e.giftRecipient||null,modal:e.modal,modal_level:e.modalLevel||"",modal_session_id:e.modalSessionId||"",show_prime_content:e.showPrimeContent||!1,show_resub:l?h&&v:null,streak_number:e.streakNumber||null,vod_id:n,vod_type:m,viewport_height:window.innerHeight,viewport_width:window.innerWidth},o.o.track(a.SpadeEventType.Subscription,g),[2]}}))}))}},dq0Q:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductEmote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:61}};t.loc.source={body:"fragment subscriptionProductEmote on Emote {\nid\nsetID\ntoken\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},evnP:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),o=t("/7QA"),a=t("D7An"),s=t("YVOQ"),u=t("Mb07"),c=t("DnOo"),d=t("a5fV"),l=t("br9A"),m=t("sUnt"),p=t("yymn"),f=t("+80q"),b=t("C7sF"),v=t("hnjF"),h=(t("g0Jf"),"first_paid_sub_offer");var g=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){var e;if(!k())return null;var n=this.props,t=n.handleSubMenuAction,i=n.product,a=n.subscriptionBenefit,s=Object(u.b)(u.a.FirstPaidSubOffer,i);if(!s||!Object(u.d)(s))return null;var h=Object(d.e)(i),g=Object(u.c)(s),S=g.discountPercent,_=g.price;return S&&h&&_?r.createElement(m.a,{className:"first-paid-sub-offer__container",display:p.g.Flex,flexGrow:1,justifyContent:p.l.Between,margin:{x:"auto"},padding:{x:2,y:1}},r.createElement(m.a,{className:"first-paid-sub-offer__upsell",display:p.g.Flex,flexDirection:p.h.Column,justifyContent:p.l.Center},r.createElement(m.a,{margin:{bottom:.5}},r.createElement(f.a,{fontSize:p.j.Size4,lineHeight:f.b.Heading},Object(o.d)("First Sub, First Month: {offerPercentage}% off!",{offerPercentage:S},"FirstPaidSubOffer"))),r.createElement(f.a,{fontSize:p.j.Size7},Object(o.d)("Tier 1 only. Renews monthly at {renewalPrice}",{renewalPrice:_},"FirstPaidSubOffer"))),r.createElement(m.a,{alignItems:p.b.End,className:"first-paid-sub-offer__cta",display:p.g.Flex,flexDirection:p.h.Column,justifyContent:p.l.Center},r.createElement(c.a,{customSubscribeNowMessage:(null===(e=null==a?void 0:a.gift)||void 0===e?void 0:e.isGift)||(null==a?void 0:a.purchasedWithPrime)?Object(o.d)("Continue Sub","FirstPaidSubOffer"):Object(o.d)("Subscribe","FirstPaidSubOffer"),handleSubAction:t,icon:b.a.Star,isSubbedToTier:!1,overrideSubEventAction:l.a.BuyQuickSub,productName:i.name,tierPrice:String(h),url:i.url,offerID:s.id}),r.createElement(v.a,{className:"first-paid-sub-offer__cta--description",textAlign:p.p.Right},r.createElement(f.a,{fontSize:p.j.Size7},Object(o.d)("Was {renewalPrice}, {offerPercentage}% Off First Month",{offerPercentage:S,renewalPrice:_},"FirstPaidSubOffer"))))):null},n}(r.Component);function k(){return o.b.get(h,!1)&&"variant_fpso_20"===o.p.experiments.getAndTrackAssignment(a.c.MultiMonthSubs)}var S=Object(s.b)((function(e){return{subscriptionBenefit:e.subscriptionBenefit}}))(g);t.d(n,"b",(function(){return k})),t.d(n,"a",(function(){return S}))},g0Jf:function(e,n,t){},hgBU:function(e,n,t){},ht6z:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("/7QA");function r(e){var n=i.b.get("prime_blocked_regions",[]);return!!e&&!n.includes(e.toUpperCase())}},ulxC:function(e,n,t){},w1PT:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var i=t("/7QA"),r=t("ZS2+"),o=t("SDEh"),a=t("XDCx"),s=t("IZXT"),u=t("8EUQ"),c="core.ui.CHECKOUT_SHOWN";function d(e){if(Object(o.b)()){try{u.a.clearSubscriptionCheckoutKeys(),function(e){if(!e.productName)return void i.k.warn("No productName provided");var n=new URL("https://www.twitch.tv/products/"+e.productName);e.recipientLogin?n.searchParams.append("recipient",e.recipientLogin):e.mysteryGiftCount&&n.searchParams.append("gift_count",e.mysteryGiftCount.toString());e.isAnonymous&&n.searchParams.append("is_anonymous",e.isAnonymous.toString());e.isOneTimePurchase&&n.searchParams.append("is_one_time_purchase",e.isOneTimePurchase.toString());window.open(n.toString(),"_blank")}(e)}catch(e){Object(s.d)()?i.k.warn("Failed to open subscription checkout externally"):i.k.errorAndReport(e,"Failed to open subscription checkout externally")}return function(e){e({type:c})}}return function(n){n(Object(a.e)(r.a,{component:"CheckoutModal",loader:function(){return Promise.all([t.e(0),t.e(72)]).then(t.bind(null,"KJv/"))},componentProps:e}))}}},"z+dA":function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPage_SubscribeButton_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOffers"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOffers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tenure"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDNRd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pendingSubscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pendingSubscription"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:788}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/subscribe-button/components/subscribe-button/pending_subscription.gql"\n#import "twilight/pages/subscriptions-management/models/cumulative-tenure-fragment.gql"\nquery ChannelPage_SubscribeButton_User($login: String! $withOffers: Boolean = false) {\nuser(login: $login) {\nid\ndisplayName\nsubscriptionProducts {\nid\nemoteSetID\nname\noffers @include(if: $withOffers) {\n...subProductOfferFragment\n}\n}\nself {\ncanPrimeSubscribe\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\n...tenure\n}\nsubscriptionBenefit {\nid\npurchasedWithPrime\ntier\nendsAt\nisDNRd\nplatform\npendingSubscription {\n...pendingSubscription\n}\ngift {\nisGift\n}\n}\n}\n}\ncurrentUser {\nid\nhasPrime\n}\nrequestInfo {\ncountryCode\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)}))}i.definitions=i.definitions.concat(o(t("Wd+u").definitions)),i.definitions=i.definitions.concat(o(t("QHJn").definitions)),i.definitions=i.definitions.concat(o(t("HiyX").definitions));var a={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.ChannelPage_SubscribeButton_User=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var u=o;o=new Set,u.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"ChannelPage_SubscribeButton_User")}}]);